function f(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function ea(a){return function(){return a}}var n,fa=fa||{},ga=this;function ia(a,b){var c=a.split("."),d=ga;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ja(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function ka(a){for(var a=a.split("."),b=ga,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function la(){}function ma(a){a.a=function(){return a.Ph?a.Ph:a.Ph=new a}}
function na(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ja(a){return a!==i}function pa(a){return"array"==na(a)}function qa(a){var b=na(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ra(a){return"number"==typeof a}function sa(a){return"function"==na(a)}function ta(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function ua(a){return a[va]||(a[va]=++wa)}
var va="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),wa=0;function xa(a,b,c){return a.call.apply(a.bind,arguments)}function ya(a,b,c){a||f(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xa:ya;return q.apply(k,arguments)}function za(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var r=Date.now||function(){return+new Date};function Aa(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a}
function t(a,b){function c(){}c.prototype=b.prototype;a.e=b.prototype;a.prototype=new c;a.prototype.constructor=a};function Ba(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Ca(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Da(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1}
function Ea(a){if(!Fa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ga,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ha,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ia,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ja,"&quot;"));return a}var Ga=/&/g,Ha=/</g,Ia=/>/g,Ja=/\"/g,Fa=/[&<>\"]/;function Ka(a){var a=ja(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}
function La(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Na=Array.prototype,Oa=Na.indexOf?function(a,b,c){return Na.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(p(a))return!p(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},u=Na.forEach?function(a,b,c){Na.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function Pa(a,b,c){for(var d=p(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)}
var Qa=Na.filter?function(a,b,c){return Na.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=p(a)?a.split(""):a,m=0;m<d;m++)if(m in h){var s=h[m];b.call(c,s,m,a)&&(e[g++]=s)}return e},Ra=Na.map?function(a,b,c){return Na.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=p(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Sa=Na.every?function(a,b,c){return Na.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in
e&&!b.call(c,e[g],g,a))return l;return j};function Ta(a,b,c){b=Ua(a,b,c);return 0>b?k:p(a)?a.charAt(b):a[b]}function Ua(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return g;return-1}function Va(a,b){return 0<=Oa(a,b)}function Wa(a,b){var c=Oa(a,b);0<=c&&Na.splice.call(a,c,1)}function Xa(a,b,c){b=Ua(a,b,c);return 0<=b?(Na.splice.call(a,b,1),j):l}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Za(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(pa(d)||(e=qa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,m=0;m<h;m++)a[g+m]=d[m];else a.push(d)}}function $a(a,b,c,d){Na.splice.apply(a,ab(arguments,1))}function ab(a,b,c){return 2>=arguments.length?Na.slice.call(a,b):Na.slice.call(a,b,c)}function bb(a,b){return a>b?1:a<b?-1:0};var cb,db,eb,fb,gb;function hb(){return ga.navigator?ga.navigator.userAgent:k}function ib(){return ga.navigator}fb=eb=db=cb=l;var jb;if(jb=hb()){var mb=ib();cb=0==jb.indexOf("Opera");db=!cb&&-1!=jb.indexOf("MSIE");eb=!cb&&-1!=jb.indexOf("WebKit");fb=!cb&&!eb&&"Gecko"==mb.product}var nb=cb,v=db,ob=fb,pb=eb,qb=ib();gb=-1!=(qb&&qb.platform||"").indexOf("Mac");var rb=!!ib()&&-1!=(ib().appVersion||"").indexOf("X11"),sb;
a:{var tb="",ub;if(nb&&ga.opera)var vb=ga.opera.version,tb="function"==typeof vb?vb():vb;else if(ob?ub=/rv\:([^\);]+)(\)|;)/:v?ub=/MSIE\s+([^\);]+)(\)|;)/:pb&&(ub=/WebKit\/(\S+)/),ub)var wb=ub.exec(hb()),tb=wb?wb[1]:"";if(v){var xb,yb=ga.document;xb=yb?yb.documentMode:i;if(xb>parseFloat(tb)){sb=String(xb);break a}}sb=tb}var zb={};
function Ab(a){var b;if(!(b=zb[a])){b=0;for(var c=Ca(String(sb)).split("."),d=Ca(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",m=d[g]||"",s=RegExp("(\\d*)(\\D*)","g"),x=RegExp("(\\d*)(\\D*)","g");do{var y=s.exec(h)||["","",""],C=x.exec(m)||["","",""];if(0==y[0].length&&0==C[0].length)break;b=((0==y[1].length?0:parseInt(y[1],10))<(0==C[1].length?0:parseInt(C[1],10))?-1:(0==y[1].length?0:parseInt(y[1],10))>(0==C[1].length?0:parseInt(C[1],10))?1:0)||((0==y[2].length)<
(0==C[2].length)?-1:(0==y[2].length)>(0==C[2].length)?1:0)||(y[2]<C[2]?-1:y[2]>C[2]?1:0)}while(0==b)}b=zb[a]=0<=b}return b}var Bb={};function Cb(a){return Bb[a]||(Bb[a]=v&&!!document.documentMode&&document.documentMode>=a)};var Db,Eb=!v||Cb(9),Fb=!ob&&!v||v&&Cb(9)||ob&&Ab("1.9.1"),Gb=v&&!Ab("9"),Hb=v||nb||pb;function Ib(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}function w(a,b){for(var c=Ib(a),d=ab(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)Va(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e}function z(a,b){var c=Ib(a),d=ab(arguments,1),e,g=d;e=Qa(c,function(a){return!Va(g,a)});a.className=e.join(" ");return e.length==c.length-d.length}function A(a,b){return Va(Ib(a),b)}function B(a,b,c){c?w(a,b):z(a,b)}function Jb(a,b){var c=!A(a,b);B(a,b,c);return c};function Kb(a,b){this.x=ja(a)?a:0;this.y=ja(b)?b:0}Kb.prototype.clone=function(){return new Kb(this.x,this.y)};function Lb(a,b){return new Kb(a.x-b.x,a.y-b.y)};function Mb(a,b){this.width=a;this.height=b}Mb.prototype.clone=function(){return new Mb(this.width,this.height)};Mb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Mb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Mb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Nb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Ob(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Pb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Qb(a){for(var b in a)return l;return j}function Rb(a,b){b in a&&delete a[b]}function Sb(a,b,c){b in a&&f(Error('The object already contains the key "'+b+'"'));a[b]=c}var Tb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ub(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<Tb.length;g++)c=Tb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Vb(a){return a?new Wb(Xb(a)):Db||(Db=new Wb)}function D(a){return p(a)?document.getElementById(a):a}function Yb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Zb("*",a,b)}function E(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Yb(a,b)[0])||k}
function Zb(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=e=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Va(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
var $b={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function F(a){a=(a||window).document;a=ac(a)?a.documentElement:a.body;return new Mb(a.clientWidth,a.clientHeight)}function G(a,b,c){return bc(document,arguments)}
function bc(a,b){var c=b[0],d=b[1];if(!Eb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ea(d.name),'"');if(d.type){c.push(' type="',Ea(d.type),'"');var e={};Ub(e,d);delete e.type;d=e}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(p(d)?g.className=d:pa(d)?w.apply(k,[g].concat(d)):Nb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in $b?g.setAttribute($b[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(p(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(e=b[c],qa(e)&&!(ta(e)&&0<e.nodeType)){var h=u,m;a:{if((m=e)&&"number"==typeof m.length){if(ta(m)){m="function"==typeof m.item||"string"==typeof m.item;break a}if(sa(m)){m="function"==typeof m.item;break a}}m=l}h(m?Ya(e):e,d)}else d(e)}return g}function ac(a){return"CSS1Compat"==a.compatMode}function cc(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function dc(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}function ec(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function fc(a){return Fb&&a.children!=i?a.children:Qa(a.childNodes,function(a){return 1==a.nodeType})}function gc(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function hc(a){if(Hb)return a.parentElement;a=a.parentNode;return ta(a)&&1==a.nodeType?a:k}
function ic(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Xb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function jc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else cc(a),a.appendChild(Xb(a).createTextNode(b))}var kc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},lc={IMG:" ",BR:"\n"};function mc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,ra(a)&&0<=a&&32768>a):l}
function nc(a){if(Gb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];oc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Gb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function pc(a){var b=[];oc(a,b,l);return b.join("")}
function oc(a,b,c){if(!(a.nodeName in kc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in lc)b.push(lc[a.nodeName]);else for(a=a.firstChild;a;)oc(a,b,c),a=a.nextSibling}function H(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||A(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Wb(a){this.w=a||ga.document||document}n=Wb.prototype;n.Ia=Vb;
n.b=function(a){return p(a)?this.w.getElementById(a):a};n.O=function(a,b,c){return bc(this.w,arguments)};n.createElement=function(a){return this.w.createElement(a)};n.createTextNode=function(a){return this.w.createTextNode(a)};function qc(a){return ac(a.w)}function rc(a){var b=a.w,a=!pb&&ac(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Kb(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.yh=fc;
function sc(a,b){return b.firstElementChild!=i?b.firstElementChild:gc(b.firstChild)}n.contains=ic;v&&Ab(8);var tc={};function uc(a,b,c){a.innerHTML=b(c||tc,i,i)}function I(a,b){var c;a:if(c=(new Wb(i)||Vb()).createElement("DIV"),c.innerHTML=a(b||tc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function J(a){return"object"===typeof a&&a&&0===a.Sl?a.content:String(a).replace(vc,wc)}
var xc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function wc(a){return xc[a]}var vc=/[\x00\x22\x26\x27\x3c\x3e]/g;function yc(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="note'+(a.Hf?" pic":"")+'">'+(a.Hf?'<div class="picture"><img class="image" src='+J(a.Hf)+' style="display: none"/></div>':"")+'<div class="action">'+(a.o?J(a.o.name)+" ":"")+J(a.action)+'</div><div class="content">'+J(a.content)+'</div><div class="close"></div></div>'+(a.link?"</a>":"")};function K(){0!=zc&&(this.Tl=Error().stack,Ac[ua(this)]=this)}var zc=0,Ac={};K.prototype.he=l;K.prototype.$=function(){if(!this.he&&(this.he=j,this.l(),0!=zc)){var a=ua(this);delete Ac[a]}};K.prototype.l=function(){this.uj&&Bc.apply(k,this.uj);if(this.oi)for(;this.oi.length;)this.oi.shift()()};function Cc(a){a&&"function"==typeof a.$&&a.$()}function Bc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];qa(d)?Bc.apply(k,d):Cc(d)}};var Dc=!v||Cb(9),Ec=!v||Cb(9),Fc=v&&!Ab("9");!pb||Ab("528");ob&&Ab("1.9b")||v&&Ab("8")||nb&&Ab("9.5")||pb&&Ab("528");ob&&!Ab("8")||v&&Ab("9");function Gc(a,b){this.type=a;this.currentTarget=this.target=b}n=Gc.prototype;n.l=aa();n.$=aa();n.kc=l;n.defaultPrevented=l;n.Me=j;n.stopPropagation=function(){this.kc=j};n.preventDefault=function(){this.defaultPrevented=j;this.Me=l};function Hc(a){a.preventDefault()};function Ic(a){Ic[" "](a);return a}Ic[" "]=la;function Jc(a,b){a&&this.init(a,b)}t(Jc,Gc);var Lc=[1,4,2];n=Jc.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.hg=l;n.ea=k;
n.init=function(a,b){var c=this.type=a.type;Gc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(ob){var e;a:{try{Ic(d.nodeName);e=j;break a}catch(g){}e=l}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=pb||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=pb||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.hg=gb?a.metaKey:a.ctrlKey;this.state=a.state;this.ea=a;a.defaultPrevented&&this.preventDefault();delete this.kc};function Mc(a){return(Dc?0==a.ea.button:"click"==a.type?j:!!(a.ea.button&Lc[0]))&&!(pb&&gb&&a.ctrlKey)}
n.stopPropagation=function(){Jc.e.stopPropagation.call(this);this.ea.stopPropagation?this.ea.stopPropagation():this.ea.cancelBubble=j};n.preventDefault=function(){Jc.e.preventDefault.call(this);var a=this.ea;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,Fc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.Fj=ca("ea");n.l=aa();function Nc(){}var Oc=0;n=Nc.prototype;n.key=0;n.nc=l;n.hf=l;n.init=function(a,b,c,d,e,g){sa(a)?this.Rh=j:a&&a.handleEvent&&sa(a.handleEvent)?this.Rh=l:f(Error("Invalid listener argument"));this.Fc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.pe=g;this.hf=l;this.key=++Oc;this.nc=l};n.handleEvent=function(a){return this.Rh?this.Fc.call(this.pe||this.src,a):this.Fc.handleEvent.call(this.Fc,a)};var Pc={},Qc={},Rc={},Sc={};
function L(a,b,c,d,e){if(b){if(pa(b)){for(var g=0;g<b.length;g++)L(a,b[g],c,d,e);return k}var d=!!d,h=Qc;b in h||(h[b]={T:0,za:0});h=h[b];d in h||(h[d]={T:0,za:0},h.T++);var h=h[d],m=ua(a),s;h.za++;if(h[m]){s=h[m];for(g=0;g<s.length;g++)if(h=s[g],h.Fc==c&&h.pe==e){if(h.nc)break;return s[g].key}}else s=h[m]=[],h.T++;var x=Tc,y=Ec?function(a){return x.call(y.src,y.key,a)}:function(a){a=x.call(y.src,y.key,a);if(!a)return a},g=y;g.src=a;h=new Nc;h.init(c,g,a,b,d,e);c=h.key;g.key=c;s.push(h);Pc[c]=h;Rc[m]||
(Rc[m]=[]);Rc[m].push(h);a.addEventListener?(a==ga||!a.kh)&&a.addEventListener(b,g,d):a.attachEvent(b in Sc?Sc[b]:Sc[b]="on"+b,g);return c}f(Error("Invalid event type"))}function Uc(a,b,c,d,e){if(pa(b))for(var g=0;g<b.length;g++)Uc(a,b[g],c,d,e);else a=L(a,b,c,d,e),Pc[a].hf=j}function Vc(a,b,c,d,e){if(pa(b))for(var g=0;g<b.length;g++)Vc(a,b[g],c,d,e);else if(d=!!d,a=Wc(a,b,d))for(g=0;g<a.length;g++)if(a[g].Fc==c&&a[g].capture==d&&a[g].pe==e){Xc(a[g].key);break}}
function Xc(a){if(!Pc[a])return l;var b=Pc[a];if(b.nc)return l;var c=b.src,d=b.type,e=b.proxy,g=b.capture;c.removeEventListener?(c==ga||!c.kh)&&c.removeEventListener(d,e,g):c.detachEvent&&c.detachEvent(d in Sc?Sc[d]:Sc[d]="on"+d,e);c=ua(c);Rc[c]&&(e=Rc[c],Wa(e,b),0==e.length&&delete Rc[c]);b.nc=j;if(b=Qc[d][g][c])b.ji=j,Yc(d,g,c,b);delete Pc[a];return j}
function Yc(a,b,c,d){if(!d.xe&&d.ji){for(var e=0,g=0;e<d.length;e++)d[e].nc?d[e].proxy.src=k:(e!=g&&(d[g]=d[e]),g++);d.length=g;d.ji=l;0==g&&(delete Qc[a][b][c],Qc[a][b].T--,0==Qc[a][b].T&&(delete Qc[a][b],Qc[a].T--),0==Qc[a].T&&delete Qc[a])}}function Wc(a,b,c){var d=Qc;return b in d&&(d=d[b],c in d&&(d=d[c],a=ua(a),d[a]))?d[a]:k}
function Zc(a,b,c,d,e){var g=1,b=ua(b);if(a[b]){a.za--;a=a[b];a.xe?a.xe++:a.xe=1;try{for(var h=a.length,m=0;m<h;m++){var s=a[m];s&&!s.nc&&(g&=$c(s,e)!==l)}}finally{a.xe--,Yc(c,d,b,a)}}return Boolean(g)}function $c(a,b){a.hf&&Xc(a.key);return a.handleEvent(b)}
function Tc(a,b){if(!Pc[a])return j;var c=Pc[a],d=c.type,e=Qc;if(!(d in e))return j;var e=e[d],g,h;if(!Ec){g=b||ka("window.event");var m=j in e,s=l in e;if(m){if(0>g.keyCode||g.returnValue!=i)return j;a:{var x=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(y){x=j}if(x||g.returnValue==i)g.returnValue=j}}x=new Jc;x.init(g,this);g=j;try{if(m){for(var C=[],da=x.currentTarget;da;da=da.parentNode)C.push(da);h=e[j];h.za=h.T;for(var Z=C.length-1;!x.kc&&0<=Z&&h.za;Z--)x.currentTarget=C[Z],g&=Zc(h,C[Z],d,
j,x);if(s){h=e[l];h.za=h.T;for(Z=0;!x.kc&&Z<C.length&&h.za;Z++)x.currentTarget=C[Z],g&=Zc(h,C[Z],d,l,x)}}else g=$c(c,x)}finally{C&&(C.length=0)}return g}d=new Jc(b,this);return g=$c(c,d)};function ad(a){K.call(this);this.P=a;this.R=[]}t(ad,K);var bd=[];function M(a,b,c,d,e){pa(c)||(bd[0]=c,c=bd);for(var g=0;g<c.length;g++){var h=L(b,c[g],d||a,e||l,a.P||a);a.R.push(h)}return a}function cd(a,b,c,d,e,g){if(pa(c))for(var h=0;h<c.length;h++)cd(a,b,c[h],d,e,g);else{a:{d=d||a;g=g||a.P||a;e=!!e;if(b=Wc(b,c,e))for(c=0;c<b.length;c++)if(!b[c].nc&&b[c].Fc==d&&b[c].capture==e&&b[c].pe==g){b=b[c];break a}b=k}b&&(b=b.key,Xc(b),Wa(a.R,b))}return a}function dd(a){u(a.R,Xc);a.R.length=0}
ad.prototype.l=function(){ad.e.l.call(this);dd(this)};ad.prototype.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};function ed(){K.call(this)}t(ed,K);n=ed.prototype;n.kh=j;n.Ge=k;n.vg=ba("Ge");n.addEventListener=function(a,b,c,d){L(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Vc(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=Qc;if(b in c){if(p(a))a=new Gc(a,this);else if(a instanceof Gc)a.target=a.target||this;else{var d=a,a=new Gc(b,this);Ub(a,d)}var d=1,e,c=c[b],b=j in c,g;if(b){e=[];for(g=this;g;g=g.Ge)e.push(g);g=c[j];g.za=g.T;for(var h=e.length-1;!a.kc&&0<=h&&g.za;h--)a.currentTarget=e[h],d&=Zc(g,e[h],a.type,j,a)&&a.Me!=l}if(l in c)if(g=c[l],g.za=g.T,b)for(h=0;!a.kc&&h<e.length&&g.za;h++)a.currentTarget=e[h],d&=Zc(g,e[h],a.type,l,a)&&a.Me!=l;else for(e=this;!a.kc&&e&&
g.za;e=e.Ge)a.currentTarget=e,d&=Zc(g,e,a.type,l,a)&&a.Me!=l;a=Boolean(d)}else a=j;return a};n.l=function(){ed.e.l.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Nb(Rc,function(d){for(var e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Xc(g.key),b++}});else{var d=ua(this);if(Rc[d])for(var d=Rc[d],e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Xc(g.key),b++}}this.Ge=k};function fd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}fd.prototype.clone=function(){return new fd(this.top,this.right,this.bottom,this.left)};fd.prototype.contains=function(a){return!this||!a?l:a instanceof fd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function gd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}gd.prototype.clone=function(){return new gd(this.left,this.top,this.width,this.height)};gd.prototype.contains=function(a){return a instanceof gd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function hd(a,b,c){p(b)?id(a,c,b):Nb(b,za(id,a))}function id(a,b,c){a.style[La(c)]=b}function jd(a,b){var c=Xb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function kd(a,b){return a.currentStyle?a.currentStyle[b]:k}function ld(a,b){return jd(a,b)||kd(a,b)||a.style&&a.style[b]}
function md(a){var b=a.getBoundingClientRect();v&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function nd(a){if(v&&!Cb(8))return a.offsetParent;for(var b=Xb(a),c=ld(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=ld(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function od(a){for(var b=new fd(0,Infinity,Infinity,0),c=Vb(a),d=c.w.body,e=c.w.documentElement,g=!pb&&ac(c.w)?c.w.documentElement:c.w.body;a=nd(a);)if((!v||0!=a.clientWidth)&&(!pb||0!=a.clientHeight||a!=d)&&a!=d&&a!=e&&"visible"!=ld(a,"overflow")){var h=pd(a),m;m=a;if(ob&&!Ab("1.9")){var s=parseFloat(jd(m,"borderLeftWidth"));if(qd(m))var x=m.offsetWidth-m.clientWidth-s-parseFloat(jd(m,"borderRightWidth")),s=s+x;m=new Kb(s,parseFloat(jd(m,"borderTopWidth")))}else m=new Kb(m.clientLeft,m.clientTop);
h.x+=m.x;h.y+=m.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=F(c.w.parentWindow||c.w.defaultView);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:k}
function pd(a){var b,c=Xb(a),d=ld(a,"position"),e=ob&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Kb(0,0),h;b=c?Xb(c):document;h=v&&!Cb(9)&&!qc(Vb(b))?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=md(a),a=rc(Vb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=
b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(pb&&"fixed"==ld(b,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(nb||pb&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=nd(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!nb||"TR"!=b.tagName)g.y-=b.scrollTop}return g}function rd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function sd(a,b){a.style.height=rd(b,j)}
function N(a){if("none"!=ld(a,"display"))return td(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=td(a);b.display=c;b.position=e;b.visibility=d;return a}function td(a){var b=a.offsetWidth,c=a.offsetHeight,d=pb&&!b&&!c;return(!ja(b)||d)&&a.getBoundingClientRect?(a=md(a),new Mb(a.right-a.left,a.bottom-a.top)):new Mb(b,c)}
function ud(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function O(a,b){a.style.display=b?"":"none"}function qd(a){return"rtl"==ld(a,"direction")}var vd=ob?"MozUserSelect":pb?"WebkitUserSelect":k;
function wd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function xd(a,b){if(v){var c=wd(a,kd(a,b+"Left")),d=wd(a,kd(a,b+"Right")),e=wd(a,kd(a,b+"Top")),g=wd(a,kd(a,b+"Bottom"));return new fd(e,d,g,c)}c=jd(a,b+"Left");d=jd(a,b+"Right");e=jd(a,b+"Top");g=jd(a,b+"Bottom");return new fd(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var yd={thin:2,medium:4,thick:6};function zd(a,b){if("none"==kd(a,b+"Style"))return 0;var c=kd(a,b+"Width");return c in yd?yd[c]:wd(a,c)}
function Ad(a){if(v){var b=zd(a,"borderLeft"),c=zd(a,"borderRight"),d=zd(a,"borderTop"),a=zd(a,"borderBottom");return new fd(d,c,a,b)}b=jd(a,"borderLeftWidth");c=jd(a,"borderRightWidth");d=jd(a,"borderTopWidth");a=jd(a,"borderBottomWidth");return new fd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Bd=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Cd(){}ma(Cd);Cd.prototype.lk=0;Cd.a();function P(a){K.call(this);this.Tb=a||Vb();this.Ma=Dd}t(P,ed);P.prototype.Vj=Cd.a();var Dd=k;function Ed(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}f(Error("Invalid component state"))}n=P.prototype;n.ga=k;n.V=l;n.d=k;n.Ma=k;n.W=k;n.K=k;n.Z=k;n.aa=k;n.ej=l;
function Fd(a){return a.ga||(a.ga=":"+(a.Vj.lk++).toString(36))}n.b=ca("d");n.j=function(){return this.Ac||(this.Ac=new ad(this))};n.Pe=function(a){this==a&&f(Error("Unable to set parent component"));a&&(this.K&&this.ga&&this.K.aa&&this.ga&&(this.ga in this.K.aa&&this.K.aa[this.ga])&&this.K!=a)&&f(Error("Unable to set parent component"));this.K=a;P.e.vg.call(this,a)};n.getParent=ca("K");n.vg=function(a){this.K&&this.K!=a&&f(Error("Method not supported"));P.e.vg.call(this,a)};n.Ia=ca("Tb");
n.O=function(){this.d=this.Tb.createElement("div")};function Gd(a,b){a.V&&f(Error("Component already rendered"));a.d||a.O();b?b.insertBefore(a.d,k):a.Tb.w.body.appendChild(a.d);(!a.K||a.K.V)&&a.z()}n.i=function(a){this.V&&f(Error("Component already rendered"));if(a&&this.Ob(a)){this.ej=j;if(!this.Tb||this.Tb.w!=Xb(a))this.Tb=Vb(a);this.r(a);this.z()}else f(Error("Invalid element to decorate"))};n.Ob=ea(j);n.r=ba("d");n.z=function(){this.V=j;Hd(this,function(a){!a.V&&a.b()&&a.z()})};
n.Xb=function(){Hd(this,function(a){a.V&&a.Xb()});this.Ac&&dd(this.Ac);this.V=l};n.l=function(){P.e.l.call(this);this.V&&this.Xb();this.Ac&&(this.Ac.$(),delete this.Ac);Hd(this,function(a){a.$()});!this.ej&&this.d&&ec(this.d);this.K=this.W=this.d=this.aa=this.Z=k};
function Id(a,b){var c=a.Z?a.Z.length:0;b.V&&!a.V&&f(Error("Component already rendered"));(0>c||c>(a.Z?a.Z.length:0))&&f(Error("Child component index out of bounds"));if(!a.aa||!a.Z)a.aa={},a.Z=[];if(b.getParent()==a){var d=Fd(b);a.aa[d]=b;Wa(a.Z,b)}else Sb(a.aa,Fd(b),b);b.Pe(a);$a(a.Z,c,0,b);b.V&&a.V&&b.getParent()==a?(d=a.Xa(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.V&&(!b.V&&b.d&&b.d.parentNode)&&b.z()}n.Xa=ca("d");n.Sh=function(){this.Ma==k&&(this.Ma=qd(this.V?this.d:this.Tb.w.body));return this.Ma};
n.pc=function(a){this.V&&f(Error("Component already rendered"));this.Ma=a};function Hd(a,b){a.Z&&u(a.Z,b,i)}n.removeChild=function(a,b){if(a){var c=p(a)?a:Fd(a),a=this.aa&&c?(c in this.aa?this.aa[c]:i)||k:k;c&&a&&(Rb(this.aa,c),Wa(this.Z,a),b&&(a.Xb(),a.d&&ec(a.d)),a.Pe(k))}a||f(Error("Child is not in parent component"));return a};function Jd(){P.call(this)}t(Jd,P);Jd.prototype.O=function(){this.d=G("div",{id:"notify"})};Jd.prototype.r=function(a){Jd.e.r.call(this,a);Kd.a().subscribe(Ld,function(a,c,d,e,g){this.Se(j,a,c,d,e,g)},this);Kd.a().subscribe(Md,function(a,c,d,e,g){this.Se(l,a,c,d,e,g)},this)};
Jd.prototype.Se=function(a,b,c,d,e,g){var h=I(yc,{action:b,content:c,o:d,Hf:e,link:g}),m=E("image",h);E("close",h);M(M(this.j(),E("close",h),"click",function(a){a.preventDefault();a.stopPropagation();ec(h)}),m,"load",function(){O(m,j);R(function(){m.style.marginLeft=-1*m.clientWidth/2+"px";m.style.marginTop=-1*m.clientHeight/2+"px"})});this.b().appendChild(h);var s=E("note",h);R(function(){s&&(w(s,"show"),a?R(function(){z(s,"show");w(s,"fade-out");R(function(){ec(h)},5100)},3E3):R(function(){w(s,
"dim")},3E3))})};function S(){K.call(this);this.Na=[];this.Kb={}}t(S,K);n=S.prototype;n.Vh=1;n.Je=0;n.subscribe=function(a,b,c){var d=this.Kb[a];d||(d=this.Kb[a]=[]);var e=this.Vh;this.Na[e]=a;this.Na[e+1]=b;this.Na[e+2]=c;this.Vh=e+3;d.push(e);return e};n.bj=function(a){if(0!=this.Je)return this.zd||(this.zd=[]),this.zd.push(a),l;var b=this.Na[a];if(b){var c=this.Kb[b];c&&Wa(c,a);delete this.Na[a];delete this.Na[a+1];delete this.Na[a+2]}return!!b};
n.c=function(a,b){var c=this.Kb[a];if(c){this.Je++;for(var d=ab(arguments,1),e=0,g=c.length;e<g;e++){var h=c[e];this.Na[h+1].apply(this.Na[h+2],d)}this.Je--;if(this.zd&&0==this.Je)for(;c=this.zd.pop();)this.bj(c)}};n.clear=function(a){if(a){var b=this.Kb[a];b&&(u(b,this.bj,this),delete this.Kb[a])}else this.Na.length=0,this.Kb={}};n.l=function(){S.e.l.call(this);delete this.Na;delete this.Kb;delete this.zd};function Kd(){S.call(this)}t(Kd,S);ma(Kd);var Ld="flash",Md="show";function Nd(a){this.id=a.id;this.M=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Od(a){S.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.tb=a.host_id;this.Uj="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.live=!!a.live;this.ag=[];this.Hk=k;this.rh=l;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.ca=a.publisher&&new Nd(a.publisher);this.lc=a.published&&Pd(a.published+"Z");this.nb="http://i.ytimg.com/vi/"+this.tb+"/0.jpg";this.Eg="http://i.ytimg.com/vi/"+this.tb+"/1.jpg";this.tm="http://i.ytimg.com/vi/"+
this.tb+"/2.jpg";this.um="http://i.ytimg.com/vi/"+this.tb+"/3.jpg";this.sm=new Mb(480,360);this.Ui=37;this.Sa=[];this.aj=[];this.ed=a.comment_count||0;this.qm=a.star_count||0;this.ck=a.like_count||0;this.Xl=a.dislike_count||0;this.Oe=[];this.Kc={};this.sj=a.collection_id;this.subscribe(Qd,this.qb,this);this.subscribe(Rd,this.Mk,this);this.subscribe(Sd,this.$c,this)}t(Od,S);function Td(a){return a.lc.getMonth()+1+"/"+a.lc.getDate()+"/"+a.lc.getYear()}var Qd="add-comment",Rd="remove-comment",Sd="watching";
Od.prototype.bf=function(a){Ta(this.ag,function(b){return a.id==b.id})||this.ag.push(a)};Od.prototype.qb=function(a){if(a.F){var b=Ta(this.Sa,function(b){return b.id==a.F});b&&b.Fd.push(a)}else this.Sa.push(a);this.ed+=1};Od.prototype.Mk=function(a){T("/_comment",Ud(),"POST","delete=true&id="+a.id);if(a.F){var b=Ta(this.Sa,function(b){return b.id==a.F});b&&Xa(b.Fd,function(b){return b.id==a.id})}else Xa(this.Sa,function(b){return b.id==a.id});this.ed-=1};
Od.prototype.$c=function(a,b,c){c?(Rb(this.Kc,a.id),a.Ua=k):(this.Kc[a.id]=a,a.Ua=this,a.id!=U.a().h.id&&Kd.a().c(Ld,"is watching "+(b?b.name:""),this.name,a,this.Eg,"#info:"+this.id))};function Vd(){S.call(this);this.fc={}}t(Vd,S);ma(Vd);function Wd(a,b){var c=a.get(b.id);c||(c=new Od(b),a.add(c));return c}Vd.prototype.get=function(a){return a in this.fc?this.fc[a]:i};Vd.prototype.add=function(a){this.fc[a.id]=a};var Xd={ul:["BC","AD"],tl:["Before Christ","Anno Domini"],wl:"JFMAMJJASOND".split(""),El:"JFMAMJJASOND".split(""),vl:"January February March April May June July August September October November December".split(" "),Dl:"January February March April May June July August September October November December".split(" "),Al:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Gl:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Kl:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Il:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Cl:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Hl:"Sun Mon Tue Wed Thu Fri Sat".split(" "),xl:"SMTWTFS".split(""),Fl:"SMTWTFS".split(""),Bl:["Q1","Q2","Q3","Q4"],zl:["1st quarter","2nd quarter","3rd quarter","4th quarter"],rl:["AM","PM"],sl:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Jl:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],gj:6,Ll:[5,6],hj:5};var Yd=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,Zd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,$d=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function Pd(a){var b=new ae(2E3),a=Ca(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(Yd);if(d){var e=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var m=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new be(ce,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new be(ce,(4>=d?1-d:8-d)+(Number(m)+7*(Number(c)-1))-1))):(e&&(b.setDate(1),b.setMonth(e-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match($d),m=0,c&&("Z"!=
c[0]&&(m=60*c[2]+Number(c[3]),m*="-"==c[1]?1:-1),m-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(Zd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=m&&b.setTime(b.getTime()+6E4*m),c=j):c=l;return c?b:k}
function be(a,b,c,d,e,g){p(a)?(this.Qa=a==de?b:0,this.Ka=a==ee?b:0,this.Fa=a==ce?b:0,this.va=a==fe?b:0,this.xa=a==ge?b:0,this.Aa=a==he?b:0):(this.Qa=a||0,this.Ka=b||0,this.Fa=c||0,this.va=d||0,this.xa=e||0,this.Aa=g||0)}
be.prototype.Rd=function(a){var b=Math.min(this.Qa,this.Ka,this.Fa,this.va,this.xa,this.Aa),c=Math.max(this.Qa,this.Ka,this.Fa,this.va,this.xa,this.Aa);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Qa||a)&&c.push(Math.abs(this.Qa)+"Y");(this.Ka||a)&&c.push(Math.abs(this.Ka)+"M");(this.Fa||a)&&c.push(Math.abs(this.Fa)+"D");if(this.va||this.xa||this.Aa||a)c.push("T"),(this.va||a)&&c.push(Math.abs(this.va)+"H"),(this.xa||a)&&c.push(Math.abs(this.xa)+"M"),
(this.Aa||a)&&c.push(Math.abs(this.Aa)+"S");return c.join("")};be.prototype.clone=function(){return new be(this.Qa,this.Ka,this.Fa,this.va,this.xa,this.Aa)};var de="y",ee="m",ce="d",fe="h",ge="n",he="s";be.prototype.add=function(a){this.Qa+=a.Qa;this.Ka+=a.Ka;this.Fa+=a.Fa;this.va+=a.va;this.xa+=a.xa;this.Aa+=a.Aa};
function ie(a,b,c){ra(a)?(this.p=new Date(a,b||0,c||1),je(this,c||1)):ta(a)?(this.p=new Date(a.getFullYear(),a.getMonth(),a.getDate()),je(this,a.getDate())):(this.p=new Date(r()),this.p.setHours(0),this.p.setMinutes(0),this.p.setSeconds(0),this.p.setMilliseconds(0))}n=ie.prototype;n.je=Xd.gj;n.le=Xd.hj;n.clone=function(){var a=new ie(this.p);a.je=this.je;a.le=this.le;return a};n.getFullYear=function(){return this.p.getFullYear()};n.getYear=function(){return this.getFullYear()};n.getMonth=function(){return this.p.getMonth()};
n.getDate=function(){return this.p.getDate()};n.getTime=function(){return this.p.getTime()};n.getDay=function(){return this.p.getDay()};n.getUTCHours=function(){return this.p.getUTCHours()};n.getTimezoneOffset=function(){return this.p.getTimezoneOffset()};function ke(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Ka(c)+":"+Ka(b);return a}n.set=function(a){this.p=new Date(a.getFullYear(),a.getMonth(),a.getDate())};n.setFullYear=function(a){this.p.setFullYear(a)};
n.setMonth=function(a){this.p.setMonth(a)};n.setDate=function(a){this.p.setDate(a)};n.setTime=function(a){this.p.setTime(a)};
n.add=function(a){if(a.Qa||a.Ka){var b=this.getMonth()+a.Ka+12*a.Qa,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Fa&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Fa),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),je(this,a.getDate()))};n.Rd=function(a,b){return[this.getFullYear(),Ka(this.getMonth()+1),Ka(this.getDate())].join(a?"-":"")+(b?ke(this):"")};n.toString=function(){return this.Rd()};function je(a,b){a.getDate()!=b&&a.p.setUTCHours(a.p.getUTCHours()+(a.getDate()<b?1:-1))}n.valueOf=function(){return this.p.valueOf()};function ae(a,b,c,d,e,g,h){this.p=ra(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():r())}t(ae,ie);n=ae.prototype;n.getHours=function(){return this.p.getHours()};
n.getMinutes=function(){return this.p.getMinutes()};n.getSeconds=function(){return this.p.getSeconds()};n.getUTCHours=function(){return this.p.getUTCHours()};n.setHours=function(a){this.p.setHours(a)};n.setMinutes=function(a){this.p.setMinutes(a)};n.setSeconds=function(a){this.p.setSeconds(a)};n.setMilliseconds=function(a){this.p.setMilliseconds(a)};n.setUTCHours=function(a){this.p.setUTCHours(a)};
n.add=function(a){ie.prototype.add.call(this,a);a.va&&this.setHours(this.p.getHours()+a.va);a.xa&&this.setMinutes(this.p.getMinutes()+a.xa);a.Aa&&this.setSeconds(this.p.getSeconds()+a.Aa)};n.Rd=function(a,b){var c=ie.prototype.Rd.call(this,a);return a?c+" "+Ka(this.getHours())+":"+Ka(this.getMinutes())+":"+Ka(this.getSeconds())+(b?ke(this):""):c+"T"+Ka(this.getHours())+Ka(this.getMinutes())+Ka(this.getSeconds())+(b?ke(this):"")};n.toString=function(){return this.Rd()};
n.clone=function(){var a=new ae(this.p);a.je=this.je;a.le=this.le;return a};function le(a,b){S.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?Wd(Vd.a(),d.media):c;Vd.a().add(this.media);this.time=d?Pd(d.time+"Z"):new ae;this.async=d?d.async:j;this.seek=d?d.seek:b?0:k;this.ended=l}t(le,S);function me(a){return new le(i,a)};function ne(a){var b=r(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return oe(c,b,0);c=Math.floor(c/60);if(24>c)return oe(c,b,1);c=new Date(r());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?oe(c,b,2):""}
function oe(a,b,c){return!b&&0==c?(b=Aa("{$num} minute ago",{num:a}),c=Aa("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=Aa("in {$num} minute",{num:a}),c=Aa("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=Aa("{$num} hour ago",{num:a}),c=Aa("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=Aa("in {$num} hour",{num:a}),c=Aa("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=Aa("{$num} day ago",{num:a}),c=Aa("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=Aa("in {$num} day",{num:a}),c=Aa("in {$num} days",
{num:a}),1==a?b:c):""};function pe(a){S.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.pl=a.welcomed;this.ic=a.online;this.Wl=a.demo;this.Ua=a.last_seen?Wd(Od.a(),a.last_seen):k;this.history=[];this.Oi=[];this.M=Ba("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.ij=a.access_level;this.Ml=[];this.v=a.last_login?Pd(a.last_login+"Z"):k;this.nm=a.session_count;
this.Ol=a.ave_session_time?a.ave_session_time.toFixed(2):k;this.om=a.show_guide!=i?a.show_guide:j;this.pm=a.show_sidebar!=i?a.show_sidebar:j;this.Jk=a.post_facebook!=i?a.post_facebook:j;this.Bi=a.post_twitter!=i?a.post_twitter:j;this.subscribe(qe,function(){this.Bi=j},this)}t(pe,S);function re(){return U.a().h.ij==se}pe.prototype.ke=function(){var a=this.name.split(" ");return a&&a.length?a[0]:this.name};function te(a,b){return Ta(a.Oi,function(a){return a.id==b.id})}var qe="twitter-auth",se=2;function ue(a,b,c,d,e){this.id=a;this.o=b;this.Q=c;this.kl=d;this.Ue=e||k;this.ei=[]}ue.prototype.Oe=function(a){this.ei.push(a);this.Q&&(this.Q.U&&this.Q.L)&&(this.Q.L.seek=k,this.Q.L=k);T("/_seen",Ud(),"POST","media_id="+a.id+"&session_id="+this.id+"&async="+(this.Q?this.Q.U:l))};
ue.prototype.end=function(a){this.Ue=a;a=(this.Ue.getTime()-this.kl.getTime())/1E3;if(this.o.id==U.a().h.id&&this.Q){ve.a();var b=this.Q,c=this.ei.length;U.a().Ee.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",U.a().h.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",U.a().h.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",U.a().h.id,c]);_gaq.push(["_trackEvent","Users","Active",U.a().h.id,c]);_gaq.push(["_trackEvent","Users",b.id+
"-time",U.a().h.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",U.a().h.id,c]);b.U||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))}};function we(a){S.call(this);this.id=a.id;this.name=a.name;this.Ce=this.U=a.my_channel;this.Ua=a.current_media?Wd(Vd.a(),a.current_media):k;this.Vl=a.current_seek;this.ba=[];this.Dd={};this.L=a.current_program&&new le(a.current_program);this.Zd=[];this.queue=[];this.$a=0;this.ic=a.online!=i?a.online:k;this.subscribe(xe,this.df,this);this.subscribe(ye,this.kj,this);this.subscribe(ze,this.$c,this);this.subscribe(Ae,this.nl,this);this.L||(this.hb=0,this.L=this.ba[0])}t(we,S);n=we.prototype;
n.df=function(a){this.ba.push(a);this.Dd[a.id]=a;a.async&&(this.hb=this.ba.length-1,this.L=a);a.time.getTime()+1E3*a.media.duration>this.$a&&(this.$a=a.time.getTime()+1E3*a.media.duration-12E4,Be(Ce.a(),this.$a,q(this.Rf,this,this.$a)),Be(Ce.a(),this.$a+6E4,q(this.Rf,this,this.$a+6E4)))};
n.Rf=function(a){this.$a<=a&&!this.U&&T("/_programming/"+this.id,q(function(a){a=De(a.target);a.length||Be(Ce.a(),r()+1E3,q(this.Rf,this,r()+1E3));u(a,function(a){if(!this.Dd[a.id]){var b=this.Dd[a.id];b||(b=new le(a),this.df(b));this.c(xe,b)}},this)},this))};
n.kj=function(a,b){b?(this.queue.push(a),Kd.a().c(Ld,"Added to queue",a.name,i,a.Eg,"#info:"+a.id),Ee(ve.a(),a),T("/_queue",Ud(),"POST","media_id="+a.id)):(Xa(this.queue,function(b){return b.id==a.id},this),T("/_queue",Ud(),"POST","media_id="+a.id+"&delete=1"))};n.$c=function(a){this.Zd.push(a)};n.nl=function(a){var b=a.id in this.Dd?this.Dd[a.id]:i;b&&(b.time=Pd(a.time+"Z"))};
n.k=function(a){if(this.L&&this.L.async&&this.L.seek!=k&&!this.L.ended)return this.L;if(!this.ba.length)return k;if(a)return this.ba[this.hb+a];if(this.Ce){if(this.L&&this.L.ended){a=this.hb;if(this.ba[a+1])a=this.ba[a+1];else if(this.U)if(this.queue.length){a=this.queue[0];this.c(ye,a,l);var b=me(a);Fe().c(xe,b);T("/_addprogram",Ud(),"POST","channel_id="+V.a().U.id+"&media_id="+a.id+"&now=true");a=b}else a=k;else a=k;this.L=a}}else{a:if(a=this.L,b=this.hb,a&&r()>=a.time.getTime()&&r()<a.time.getTime()+
1E3*a.media.duration)a=this.L=a;else{if(!a||a.time.getTime()>=r())b=0,a=this.ba[0];for(;b<this.ba.length;b++){var c=this.ba[b];if(r()>=c.time.getTime()&&r()<c.time.getTime()+1E3*c.media.duration){a=c;break a}}}this.L=a}this.L&&(!this.ba[this.hb]||this.ba[this.hb].id!=this.L.id)?(a=Ua(this.ba,q(function(a){return a.id==this.L.id},this)),this.hb=Math.max(a,0)):this.L||(this.hb=this.ba.length);return this.L};var xe="add-program",ye="add-queue",ze="add-viewer",Ae="update-program";function U(){S.call(this);this.Ng={};this.wh=l;this.Af=[];this.Ee=[];this.subscribe(Ge,function(a,b){a.ic=b},this)}t(U,S);ma(U);U.prototype.add=function(a){this.Ng[a.id]=a};U.prototype.get=function(a){return this.Ng[a]};function He(a,b){var c=a.get(b.id);c||(c=new pe(b),a.add(c));b.online!=i&&(c.ic!=i&&b.online!=c.ic)&&(c.v=new ae);c.ic=b.online||!!Ta(a.Ee,function(a){return a.id==c.id},a);c.Ua=b.last_seen?Wd(Vd.a(),b.last_seen):c.Ua;return c}
U.prototype.search=function(a){return Qa(Ob(this.Ng),function(b){return 0==Da(a,b.name.substr(0,a.length))},this)};var Ge="online";function Ie(a,b){K.call(this);this.ia=a||1;this.Qd=b||Je;this.gf=q(this.fl,this);this.Pf=r()}t(Ie,ed);Ie.prototype.enabled=l;var Je=ga.window;n=Ie.prototype;n.ka=k;n.fl=function(){if(this.enabled){var a=r()-this.Pf;0<a&&a<0.8*this.ia?this.ka=this.Qd.setTimeout(this.gf,this.ia-a):(this.dispatchEvent(Ke),this.enabled&&(this.ka=this.Qd.setTimeout(this.gf,this.ia),this.Pf=r()))}};n.start=function(){this.enabled=j;this.ka||(this.ka=this.Qd.setTimeout(this.gf,this.ia),this.Pf=r())};
n.stop=function(){this.enabled=l;this.ka&&(this.Qd.clearTimeout(this.ka),this.ka=k)};n.l=function(){Ie.e.l.call(this);this.stop();delete this.Qd};var Ke="tick";function R(a,b,c){sa(a)?c&&(a=q(a,c)):a&&"function"==typeof a.handleEvent?a=q(a.handleEvent,a):f(Error("Invalid listener argument"));return 2147483647<b?-1:Je.setTimeout(a,b||0)};function Le(a){if("function"==typeof a.me)return a.me();if(p(a))return a.split("");if(qa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ob(a)}function Me(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(qa(a)||p(a))u(a,b,c);else{var d;if("function"==typeof a.Bf)d=a.Bf();else if("function"!=typeof a.me)if(qa(a)||p(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Pb(a);else d=i;for(var e=Le(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function Ne(a,b){this.zb={};this.R=[];var c=arguments.length;if(1<c){c%2&&f(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ne?(c=a.Bf(),d=a.me()):(c=Pb(a),d=Ob(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}n=Ne.prototype;n.T=0;n.cj=0;n.me=function(){Oe(this);for(var a=[],b=0;b<this.R.length;b++)a.push(this.zb[this.R[b]]);return a};n.Bf=function(){Oe(this);return this.R.concat()};
n.clear=function(){this.zb={};this.cj=this.T=this.R.length=0};function Oe(a){if(a.T!=a.R.length){for(var b=0,c=0;b<a.R.length;){var d=a.R[b];Object.prototype.hasOwnProperty.call(a.zb,d)&&(a.R[c++]=d);b++}a.R.length=c}if(a.T!=a.R.length){for(var e={},c=b=0;b<a.R.length;)d=a.R[b],Object.prototype.hasOwnProperty.call(e,d)||(a.R[c++]=d,e[d]=1),b++;a.R.length=c}}n.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.zb,a)?this.zb[a]:b};
n.set=function(a,b){Object.prototype.hasOwnProperty.call(this.zb,a)||(this.T++,this.R.push(a),this.cj++);this.zb[a]=b};n.clone=function(){return new Ne(this)};function Pe(a){return Qe(a||arguments.callee.caller,[])}
function Qe(a,b){var c=[];if(Va(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Re(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Re(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Qe(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Re(a){if(Se[a])return Se[a];a=String(a);if(!Se[a]){var b=/function ([^\(]+)/.exec(a);Se[a]=b?b[1]:"[Anonymous]"}return Se[a]}var Se={};function Te(a,b,c,d,e){this.reset(a,b,c,d,e)}Te.prototype.Rk=0;Te.prototype.oh=k;Te.prototype.nh=k;var Ue=0;Te.prototype.reset=function(a,b,c,d,e){this.Rk="number"==typeof e?e:Ue++;this.vm=d||r();this.td=a;this.ik=b;this.im=c;delete this.oh;delete this.nh};Te.prototype.Ii=ba("td");function Ve(a){this.jk=a}Ve.prototype.K=k;Ve.prototype.td=k;Ve.prototype.Z=k;Ve.prototype.Hh=k;function We(a,b){this.name=a;this.value=b}We.prototype.toString=ca("name");var Xe=new We("SEVERE",1E3),Ye=new We("WARNING",900),Ze=new We("INFO",800),$e=new We("CONFIG",700),af=new We("FINE",500);n=Ve.prototype;n.getParent=ca("K");n.yh=function(){this.Z||(this.Z={});return this.Z};n.Ii=ba("td");function bf(a){return a.td?a.td:a.K?bf(a.K):k}
n.log=function(a,b,c){if(a.value>=bf(this).value){a=this.Gj(a,b,c);b="log:"+a.ik;ga.console&&(ga.console.timeStamp?ga.console.timeStamp(b):ga.console.markTimeline&&ga.console.markTimeline(b));ga.msWriteProfilerMark&&ga.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Hh)for(var e=0,g=i;g=c.Hh[e];e++)g(d);b=b.getParent()}}};
n.Gj=function(a,b,c){var d=new Te(a,String(b),this.jk);if(c){d.oh=c;var e;var g=arguments.callee.caller;try{var h;var m=ka("window.location.href");if(p(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var s,x,y=l;try{s=c.lineNumber||c.hm||"Not available"}catch(C){s="Not available",y=j}try{x=c.fileName||c.filename||c.sourceURL||m}catch(da){x="Not available",y=j}h=y||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:s,
fileName:x,stack:c.stack||"Not available"}:c}e="Message: "+Ea(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ea(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ea(Pe(g)+"-> ")}catch(Z){e="Exception trying to expose exception! You win, we lose. "+Z}d.nh=e}return d};function cf(a,b){a.log(Xe,b,i)}n.info=function(a,b){this.log(Ze,a,b)};function df(a,b){a.log(af,b,i)}var ef={},ff=k;
function gf(a){ff||(ff=new Ve(""),ef[""]=ff,ff.Ii($e));var b;if(!(b=ef[a])){b=new Ve(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=gf(a.substr(0,c));c.yh()[d]=b;b.K=c;ef[a]=b}return b};function hf(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}f(Error("Invalid JSON string: "+a))};function jf(){}jf.prototype.be=k;var kf;function lf(){}t(lf,jf);function mf(a){return(a=nf(a))?new ActiveXObject(a):new XMLHttpRequest}function of(a){var b={};nf(a)&&(b[0]=j,b[1]=j);return b}
function nf(a){if(!a.Lh&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Lh=d}catch(e){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Lh}kf=new lf;var pf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function qf(a){K.call(this);this.headers=new Ne;this.Wc=a||k}t(qf,ed);qf.prototype.C=gf("goog.net.XhrIo");var rf=/^https?$/i,sf=[];function T(a,b,c,d){var e=new qf;sf.push(e);b&&L(e,"complete",b);L(e,"ready",za(tf,e));e.send(a,c,d,i)}function tf(a){a.$();Wa(sf,a)}n=qf.prototype;n.pb=l;n.s=k;n.$e=k;n.sd="";n.Yh="";n.qd=0;n.rd="";n.vf=l;n.qe=l;n.If=l;n.$b=l;n.Te=0;n.qc=k;n.Le="";n.ql=l;
n.send=function(a,b,c,d){this.s&&f(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.sd=a;this.rd="";this.qd=0;this.Yh=b;this.vf=l;this.pb=j;this.s=this.Wc?mf(this.Wc):mf(kf);this.$e=this.Wc?this.Wc.be||(this.Wc.be=of(this.Wc)):kf.be||(kf.be=of(kf));this.s.onreadystatechange=q(this.ti,this);try{df(this.C,uf(this,"Opening Xhr")),this.If=j,this.s.open(b,a,j),this.If=l}catch(e){df(this.C,uf(this,"Error opening Xhr: "+e.message));vf(this,e);return}var a=c||
"",g=this.headers.clone();d&&Me(d,function(a,b){g.set(b,a)});d=ga.FormData&&a instanceof ga.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.zb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Me(g,function(a,b){this.s.setRequestHeader(b,a)},this);this.Le&&(this.s.responseType=this.Le);"withCredentials"in this.s&&(this.s.withCredentials=this.ql);try{this.qc&&(Je.clearTimeout(this.qc),this.qc=k),0<this.Te&&(df(this.C,uf(this,"Will abort after "+
this.Te+"ms if incomplete")),this.qc=Je.setTimeout(q(this.gl,this),this.Te)),df(this.C,uf(this,"Sending request")),this.qe=j,this.s.send(a),this.qe=l}catch(h){df(this.C,uf(this,"Send error: "+h.message)),vf(this,h)}};n.gl=function(){"undefined"!=typeof fa&&this.s&&(this.rd="Timed out after "+this.Te+"ms, aborting",this.qd=8,df(this.C,uf(this,this.rd)),this.dispatchEvent("timeout"),this.abort(8))};function vf(a,b){a.pb=l;a.s&&(a.$b=j,a.s.abort(),a.$b=l);a.rd=b;a.qd=5;xf(a);yf(a)}
function xf(a){a.vf||(a.vf=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}n.abort=function(a){this.s&&this.pb&&(df(this.C,uf(this,"Aborting")),this.pb=l,this.$b=j,this.s.abort(),this.$b=l,this.qd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yf(this))};n.l=function(){this.s&&(this.pb&&(this.pb=l,this.$b=j,this.s.abort(),this.$b=l),yf(this,j));qf.e.l.call(this)};n.ti=function(){!this.If&&!this.qe&&!this.$b?this.xk():zf(this)};n.xk=function(){zf(this)};
function zf(a){if(a.pb&&"undefined"!=typeof fa)if(a.$e[1]&&4==Af(a)&&2==Bf(a))df(a.C,uf(a,"Local request error detected and ignored"));else if(a.qe&&4==Af(a))Je.setTimeout(q(a.ti,a),0);else if(a.dispatchEvent("readystatechange"),4==Af(a)){df(a.C,uf(a,"Request complete"));a.pb=l;try{var b=Bf(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var e;if(e=0===b){var g=String(a.sd).match(pf)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);e=!rf.test(g?g.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.qd=6;var m;try{m=2<Af(a)?a.s.statusText:""}catch(s){df(a.C,"Can not get status: "+s.message),m=""}a.rd=m+" ["+Bf(a)+"]";xf(a)}}finally{yf(a)}}}
function yf(a,b){if(a.s){var c=a.s,d=a.$e[0]?la:k;a.s=k;a.$e=k;a.qc&&(Je.clearTimeout(a.qc),a.qc=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){cf(a.C,"Problem encountered resetting onreadystatechange: "+e.message)}}}n.ub=function(){return!!this.s};function Af(a){return a.s?a.s.readyState:0}function Bf(a){try{return 2<Af(a)?a.s.status:-1}catch(b){return a.C.log(Ye,"Can not get status: "+b.message,i),-1}}function De(a){if(a.s)return hf(a.s.responseText)}
function Cf(a){try{if(!a.s)return k;if("response"in a.s)return a.s.response;switch(a.Le){case "":case "text":return a.s.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.s)return a.s.mozResponseArrayBuffer}cf(a.C,"Response type "+a.Le+" is not supported on this browser");return k}catch(b){return df(a.C,"Can not get response: "+b.message),k}}function uf(a,b){return b+" ["+a.Yh+" "+a.sd+" "+Bf(a)+"]"};function V(){S.call(this);this.dd=[];this.sc={};this.subscribe(Df,this.bd,this);this.subscribe(Ef,this.Mg,this)}t(V,S);ma(V);n=V.prototype;n.get=function(a){return this.sc[a]};function Ff(a){if(a.A&&a.A.k())return a.A;if(a.ue&&a.ue.k())return a.ue;for(var b=k,c=k,d=0;!c&&d<a.dd.length;)c=(b=!a.dd[d].U?a.dd[d]:k)&&b.k(),d++;return b}n.Qf=function(a){Nb(a,q(function(a){this.bf(a)},this))};n.bf=function(a){var b=new we(a);this.dd.push(b);this.sc[a.id]=b;b.U&&(this.U=b);this.c(Gf,b);return b};
n.bd=function(a,b){if(a&&!this.A||a&&this.A&&this.A.id!=a.id){this.ue=this.A;this.A=a;a.Ce=a.U;this.Mg(a.k());var c=a.k(),c=c&&!Qb(c.media.Kc);T("/_changechannel",Ud(),"POST","channel="+a.id+"&friends="+c+(b?"&forced=true":""));ve.a().bd(a,this.ue)}};n.Mg=function(a){this.A&&(this.Rb&&u(this.A.Zd,function(a){(!this.A.Ce||a.o.id==U.a().h.id)&&this.Rb.media.$c(a.o,this.A,j)},this),a&&(this.Rb=a,u(this.A.Zd,function(a){a.Ue||(!this.A.Ce||a.o.id==U.a().h.id)&&this.Rb.media.$c(a.o,this.A)},this)))};
function Fe(){var a=V.a();if(!a.U){var b=U.a().h;a.U=new we({id:b.id,name:b.name.split(" ")[0]+"'s Channel",U:j})}return a.U}var Df="change-channel",Ef="next-program",Gf="add-channel";function W(){S.call(this);this.subscribe(Hf,function(a){Fe().c(xe,a);T("/_addprogram",Ud(),"POST","channel_id="+V.a().U.id+"&media_id="+a.media.id+"&async=true");Ee(ve.a(),a.media)},this);this.subscribe(If,function(a){T("/_started",Ud(),"POST","media_id="+a.id)},this)}t(W,S);ma(W);W.prototype.wg=ba("q");W.prototype.k=ca("Rb");W.prototype.getCurrentTime=function(){return this.q&&this.q.getCurrentTime?this.q.getCurrentTime():0};
W.prototype.zh=function(){return this.q&&this.q.getCurrentTime?this.q.getCurrentTime():0};var Hf="play-async",If="playing";function Jf(){K.call(this);this.n=Kf;this.kd=this.startTime=k}t(Jf,ed);var Kf=0;Jf.prototype.Cb=function(){this.la("begin")};Jf.prototype.Db=function(){this.la("end")};Jf.prototype.la=function(a){this.dispatchEvent(a)};function Lf(){Jf.call(this);this.queue=[]}t(Lf,Jf);Lf.prototype.add=function(a){Va(this.queue,a)||(this.queue.push(a),L(a,"finish",this.mk,l,this))};Lf.prototype.l=function(){u(this.queue,function(a){a.$()});this.queue.length=0;Lf.e.l.call(this)};function Mf(){Lf.call(this);this.Ea=0}t(Mf,Lf);
Mf.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.n==Kf)this.Ea<this.queue.length&&this.queue[this.Ea].n!=Kf&&this.queue[this.Ea].stop(l),this.Ea=0,this.Cb();else if(1==this.n)return l;this.la("play");-1==this.n&&this.la("resume");this.startTime=r();this.kd=k;this.n=1;this.queue[this.Ea].play(a);return j};
Mf.prototype.stop=function(a){this.n=Kf;this.kd=r();if(a)for(a=this.Ea;a<this.queue.length;++a){var b=this.queue[a];b.n==Kf&&b.play();b.n==Kf||b.stop(j)}else this.Ea<this.queue.length&&this.queue[this.Ea].stop(l);this.la("stop");this.Db()};Mf.prototype.mk=function(){1==this.n&&(this.Ea++,this.Ea<this.queue.length?this.queue[this.Ea].play():(this.kd=r(),this.n=Kf,this.la("finish"),this.Db()))};function Nf(a,b,c){K.call(this);this.yb=a;this.ia=b||0;this.P=c;this.jf=q(this.hd,this)}t(Nf,K);n=Nf.prototype;n.ga=0;n.l=function(){Nf.e.l.call(this);this.stop();delete this.yb;delete this.P};n.start=function(a){this.stop();this.ga=R(this.jf,ja(a)?a:this.ia)};n.stop=function(){this.ub()&&Je.clearTimeout(this.ga);this.ga=0};n.th=function(){this.stop();this.hd()};n.ub=function(){return 0!=this.ga};n.hd=function(){this.ga=0;this.yb&&this.yb.call(this.P)};var Ud;Ud=ea(k);var Of={},Pf=k;function Qf(a){a=ua(a);delete Of[a];Qb(Of)&&Pf&&Pf.stop()}function Rf(){Pf||(Pf=new Nf(function(){var a=r();Nb(Of,function(c){Sf(c,a)});Qb(Of)||Rf()},20));var a=Pf;a.ub()||a.start()};function Tf(a,b,c,d){Jf.call(this);(!pa(a)||!pa(b))&&f(Error("Start and end parameters must be arrays"));a.length!=b.length&&f(Error("Start and end points must be the same length"));this.Md=a;this.yj=b;this.duration=c;this.Rg=d;this.coords=[];this.Wd=l}t(Tf,Jf);n=Tf.prototype;n.uh=0;n.ya=0;n.Nf=k;
n.play=function(a){if(a||this.n==Kf)this.ya=0,this.coords=this.Md;else if(1==this.n)return l;Qf(this);this.startTime=a=r();-1==this.n&&(this.startTime-=this.duration*this.ya);this.kd=this.startTime+this.duration;this.Nf=this.startTime;this.ya||this.Cb();this.la("play");-1==this.n&&this.la("resume");this.n=1;var b=ua(this);b in Of||(Of[b]=this);Rf();Sf(this,a);return j};n.stop=function(a){Qf(this);this.n=Kf;a&&(this.ya=1);Uf(this,this.ya);this.la("stop");this.Db()};n.zh=ca("ya");
n.l=function(){this.n==Kf||this.stop(l);this.la("destroy");Tf.e.l.call(this)};function Sf(a,b){a.ya=(b-a.startTime)/(a.kd-a.startTime);1<=a.ya&&(a.ya=1);a.uh=1E3/(b-a.Nf);a.Nf=b;Uf(a,a.ya);1==a.ya?(a.n=Kf,Qf(a),a.la("finish"),a.Db()):1==a.n&&a.$f()}function Uf(a,b){sa(a.Rg)&&(b=a.Rg(b));a.coords=Array(a.Md.length);for(var c=0;c<a.Md.length;c++)a.coords[c]=(a.yj[c]-a.Md[c])*b+a.Md[c]}n.$f=function(){this.la("animate")};n.la=function(a){this.dispatchEvent(new Vf(a,this))};
function Vf(a,b){Gc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.Cm=b.coords[2];this.duration=b.duration;this.ya=b.zh();this.em=b.uh;this.state=b.n;this.Nl=b}t(Vf,Gc);function Wf(a,b,c,d,e){Tf.call(this,b,c,d,e);this.element=a}t(Wf,Tf);n=Wf.prototype;n.Ud=la;n.Sh=function(){ja(this.Ma)||(this.Ma=qd(this.element));return this.Ma};n.$f=function(){this.Ud();Wf.e.$f.call(this)};n.Db=function(){this.Ud();Wf.e.Db.call(this)};n.Cb=function(){this.Ud();Wf.e.Cb.call(this)};function Xf(a,b,c,d,e){(2!=b.length||2!=c.length)&&f(Error("Start and end points must be 2D"));Wf.apply(this,arguments)}t(Xf,Wf);
Xf.prototype.Ud=function(){if(this.Wd){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=qd(a)?ob?-b:!v||!Ab("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function Yf(a,b,c,d,e){ra(b)&&(b=[b]);ra(c)&&(c=[c]);Wf.call(this,a,b,c,d,e);(1!=b.length||1!=c.length)&&f(Error("Start and end points must be 1D"))}t(Yf,Wf);Yf.prototype.Ud=function(){ud(this.element,this.coords[0])};
Yf.prototype.show=function(){this.element.style.display=""};Yf.prototype.hide=function(){this.element.style.display="none"};function Zf(a,b,c){Yf.call(this,a,1,0,b,c)}t(Zf,Yf);Zf.prototype.Cb=function(){this.show();Zf.e.Cb.call(this)};Zf.prototype.Db=function(){this.hide();Zf.e.Db.call(this)};function $f(a,b,c){Yf.call(this,a,0,1,b,c)}t($f,Yf);$f.prototype.Cb=function(){this.show();$f.e.Cb.call(this)};function ag(a){return a*a*a}function bg(a){return 1-Math.pow(1-a,3)};function cg(a,b,c,d,e){if(!v&&(!pb||!Ab("525")))return j;if(gb&&e)return dg(a);if(e&&!d||!c&&(17==b||18==b)||v&&d&&b==a)return l;switch(a){case 13:return!(v&&Cb(9));case 27:return!pb}return dg(a)}function dg(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||pb&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function eg(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function fg(){}var gg;ma(fg);n=fg.prototype;n.zc=aa();n.O=function(a){var b=a.Ia().O("div",hg(this,a).join(" "),a.Ta);ig(this,a,b);return b};n.Xa=function(a){return a};n.jd=function(a,b,c){if(a=a.b?a.b():a)if(v&&!Ab("7")){var d=jg(Ib(a),b);d.push(b);za(c?w:z,a).apply(k,d)}else B(a,b,c)};n.Ob=ea(j);
n.i=function(a,b){if(b.id){var c=b.id;a.K&&a.K.aa&&(Rb(a.K.aa,a.ga),Sb(a.K.aa,c,a));a.ga=c}(c=this.Xa(b))&&c.firstChild?(c=c.firstChild.nextSibling?Ya(c.childNodes):c.firstChild,a.Ta=c):a.Ta=k;var d=0,e=this.fa(),g=this.fa(),h=l,m=l,c=l,s=Ib(b);u(s,function(a){if(!h&&a==e)h=j,g==e&&(m=j);else if(!m&&a==g)m=j;else{var b=d;if(!this.Ri){this.ee||kg(this);var c=this.ee,s={},x;for(x in c)s[c[x]]=x;this.Ri=s}a=parseInt(this.Ri[a],10);d=b|(isNaN(a)?0:a)}},this);a.n=d;h||(s.push(e),g==e&&(m=j));m||s.push(g);
var x=a.Ga;x&&s.push.apply(s,x);if(v&&!Ab("7")){var y=jg(s);0<y.length&&(s.push.apply(s,y),c=j)}if(!h||!m||x||c)b.className=s.join(" ");ig(this,a,b);return b};n.Nh=function(a){a.Sh()&&this.pc(a.b(),j);a.isEnabled()&&this.Pc(a,a.Ya())};function ig(a,b,c){b.isEnabled()||a.Pa(c,1,j);lg(b,8)&&a.Pa(c,8,j);b.da&16&&a.Pa(c,16,lg(b,16));b.da&64&&a.Pa(c,64,lg(b,64))}
n.Oc=function(a,b){var c=!b,d=v||nb?a.getElementsByTagName("*"):k;if(vd){if(c=c?"none":"",a.style[vd]=c,d)for(var e=0,g;g=d[e];e++)g.style[vd]=c}else if(v||nb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};n.pc=function(a,b){this.jd(a,this.fa()+"-rtl",b)};n.Lf=function(a){var b;return a.da&32&&(b=a.sb())?mc(b):l};
n.Pc=function(a,b){var c;if(a.da&32&&(c=a.sb())){if(!b&&a.re()){try{c.blur()}catch(d){}a.re()&&a.Ah()}mc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};n.cb=function(a,b){O(a,b)};n.ja=function(a,b,c){var d=a.b();if(d){var e=mg(this,b);e&&this.jd(a,e,c);this.Pa(d,b,c)}};n.Pa=function(a,b,c){gg||(gg={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=gg[b])&&a.setAttribute("aria-"+b,c)};
n.oc=function(a,b){var c=this.Xa(a);if(c&&(cc(c),b))if(p(b))jc(c,b);else{var d=function(a){if(a){var b=Xb(c);c.appendChild(p(a)?b.createTextNode(a):a)}};pa(b)?u(b,d):qa(b)&&!("nodeType"in b)?u(Ya(b),d):d(b)}};n.sb=function(a){return a.b()};n.fa=ea("goog-control");function hg(a,b){var c=a.fa(),d=[c],e=a.fa();e!=c&&d.push(e);c=b.n;for(e=[];c;){var g=c&-c;e.push(mg(a,g));c&=~g}d.push.apply(d,e);(c=b.Ga)&&d.push.apply(d,c);v&&!Ab("7")&&d.push.apply(d,jg(d));return d}
function jg(a,b){var c=[];b&&(a=a.concat([b]));u([],function(d){Sa(d,za(Va,a))&&(!b||Va(d,b))&&c.push(d.join("_"))});return c}function mg(a,b){a.ee||kg(a);return a.ee[b]}function kg(a){var b=a.fa();a.ee={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function ng(){}t(ng,fg);ma(ng);n=ng.prototype;n.zc=ea("button");n.Pa=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):ng.e.Pa.call(this,a,b,c)};n.O=function(a){var b=ng.e.O.call(this,a),c=a.md();c&&this.xg(b,c);(c=a.t())&&this.oa(b,c);a.da&16&&this.Pa(b,16,lg(a,16));return b};n.i=function(a,b){var b=ng.e.i.call(this,a,b),c=this.t(b);a.Og=c;a.Gg=this.md(b);a.da&16&&this.Pa(b,16,lg(a,16));return b};n.t=la;n.oa=la;n.md=function(a){return a.title};n.xg=function(a,b){a&&(a.title=b||"")};n.fa=ea("goog-button");function og(a,b){K.call(this);a&&pg(this,a,b)}t(og,ed);n=og.prototype;n.d=k;n.se=k;n.Mf=k;n.te=k;n.wb=-1;n.vb=-1;n.ff=l;
var qg={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},rg={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},sg=v||pb&&Ab("525"),tg=gb&&ob;n=og.prototype;
n.Nj=function(a){if(pb&&(17==this.wb&&!a.ctrlKey||18==this.wb&&!a.altKey))this.vb=this.wb=-1;sg&&!cg(a.keyCode,this.wb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.vb=ob?eg(a.keyCode):a.keyCode,tg&&(this.ff=a.altKey))};n.Pj=function(a){this.vb=this.wb=-1;this.ff=a.altKey};
n.handleEvent=function(a){var b=a.ea,c,d,e=b.altKey;v&&"keypress"==a.type?(c=this.vb,d=13!=c&&27!=c?b.keyCode:0):pb&&"keypress"==a.type?(c=this.vb,d=0<=b.charCode&&63232>b.charCode&&dg(c)?b.charCode:0):nb?(c=this.vb,d=dg(c)?b.keyCode:0):(c=b.keyCode||this.vb,d=b.charCode||0,tg&&(e=this.ff),gb&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in qg?g=qg[c]:25==c&&a.shiftKey&&(g=9):h&&h in rg&&(g=rg[h]);a=g==this.wb;this.wb=g;b=new ug(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};
n.b=ca("d");function pg(a,b,c){a.te&&a.detach();a.d=b;a.se=L(a.d,"keypress",a,c);a.Mf=L(a.d,"keydown",a.Nj,c,a);a.te=L(a.d,"keyup",a.Pj,c,a)}n.detach=function(){this.se&&(Xc(this.se),Xc(this.Mf),Xc(this.te),this.te=this.Mf=this.se=k);this.d=k;this.vb=this.wb=-1};n.l=function(){og.e.l.call(this);this.detach()};function ug(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}t(ug,Jc);function vg(a,b){a||f(Error("Invalid class name "+a));sa(b)||f(Error("Invalid decorator function "+b))}var wg={};function xg(a,b,c){P.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ua(b);if(d=wg[d])break;b=b.e?b.e.constructor:k}b=d?sa(d.a)?d.a():new d:k}this.H=b;this.Ta=a}t(xg,P);n=xg.prototype;n.Ta=k;n.n=0;n.da=39;n.gb=255;n.al=0;n.Ze=j;n.Ga=k;n.Ef=j;n.ae=l;n.Ci=k;function yg(a){a.V&&l!=a.Ef&&zg(a,l);a.Ef=l}n.sb=function(){return this.H.sb(this)};
n.jd=function(a,b){b?a&&(this.Ga?Va(this.Ga,a)||this.Ga.push(a):this.Ga=[a],this.H.jd(this,a,j)):a&&this.Ga&&(Wa(this.Ga,a),0==this.Ga.length&&(this.Ga=k),this.H.jd(this,a,l))};n.O=function(){var a=this.H.O(this);this.d=a;var b=this.Ci||this.H.zc();b&&a.setAttribute("role",b);this.ae||this.H.Oc(a,l);this.Ya()||this.H.cb(a,l)};n.Xa=function(){return this.H.Xa(this.b())};n.Ob=function(a){return this.H.Ob(a)};
n.r=function(a){this.d=a=this.H.i(this,a);var b=this.Ci||this.H.zc();b&&a.setAttribute("role",b);this.ae||this.H.Oc(a,l);this.Ze="none"!=a.style.display};n.z=function(){xg.e.z.call(this);this.H.Nh(this);if(this.da&-2&&(this.Ef&&zg(this,j),this.da&32)){var a=this.sb();if(a){var b=this.Ec||(this.Ec=new og);pg(b,a);M(M(M(this.j(),b,"key",this.Oj),a,"focus",this.Lj),a,"blur",this.Ah)}}};
function zg(a,b){var c=a.j(),d=a.b();b?(M(M(M(M(c,d,"mouseover",a.Fh),d,"mousedown",a.Dh),d,"mouseup",a.Gh),d,"mouseout",a.Eh),a.oe!=la&&M(c,d,"contextmenu",a.oe),v&&M(c,d,"dblclick",a.Bh)):(cd(cd(cd(cd(c,d,"mouseover",a.Fh),d,"mousedown",a.Dh),d,"mouseup",a.Gh),d,"mouseout",a.Eh),a.oe!=la&&cd(c,d,"contextmenu",a.oe),v&&cd(c,d,"dblclick",a.Bh))}n.Xb=function(){xg.e.Xb.call(this);this.Ec&&this.Ec.detach();this.Ya()&&this.isEnabled()&&this.H.Pc(this,l)};
n.l=function(){xg.e.l.call(this);this.Ec&&(this.Ec.$(),delete this.Ec);delete this.H;this.Ga=this.Ta=k};n.oc=function(a){this.H.oc(this.b(),a);this.Ta=a};n.xh=function(){var a=this.Ta;return!a?"":(p(a)?a:pa(a)?Ra(a,pc).join(""):nc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};n.pc=function(a){xg.e.pc.call(this,a);var b=this.b();b&&this.H.pc(b,a)};n.Oc=function(a){this.ae=a;var b=this.b();b&&this.H.Oc(b,a)};n.Ya=ca("Ze");
n.cb=function(a,b){if(b||this.Ze!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.H.cb(c,a);this.isEnabled()&&this.H.Pc(this,a);this.Ze=a;return j}return l};n.isEnabled=function(){return!lg(this,1)};n.Fb=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&Ag(this,1,!a))a||(this.setActive(l),Bg(this,l)),this.Ya()&&this.H.Pc(this,a),this.ja(1,!a)};function Bg(a,b){Ag(a,2,b)&&a.ja(2,b)}n.ub=function(){return lg(this,4)};
n.setActive=function(a){Ag(this,4,a)&&this.ja(4,a)};function Cg(a,b){Ag(a,16,b)&&a.ja(16,b)}n.re=function(){return lg(this,32)};n.na=function(a){Ag(this,32,a)&&this.ja(32,a)};function lg(a,b){return!!(a.n&b)}n.ja=function(a,b){this.da&a&&b!=lg(this,a)&&(this.H.ja(this,a,b),this.n=b?this.n|a:this.n&~a)};function Dg(a,b,c){a.V&&(lg(a,b)&&!c)&&f(Error("Component already rendered"));!c&&lg(a,b)&&a.ja(b,l);a.da=c?a.da|b:a.da&~b}function Eg(a,b){return!!(a.gb&b)&&!!(a.da&b)}
function Ag(a,b,c){return!!(a.da&b)&&lg(a,b)!=c&&(!(a.al&b)||a.dispatchEvent(Ed(b,c)))&&!a.he}n.Fh=function(a){(!a.relatedTarget||!ic(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&Eg(this,2))&&Bg(this,j)};n.Eh=function(a){if((!a.relatedTarget||!ic(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))Eg(this,4)&&this.setActive(l),Eg(this,2)&&Bg(this,l)};n.oe=la;
n.Dh=function(a){this.isEnabled()&&(Eg(this,2)&&Bg(this,j),Mc(a)&&(Eg(this,4)&&this.setActive(j),this.H.Lf(this)&&this.sb().focus()));!this.ae&&Mc(a)&&a.preventDefault()};n.Gh=function(a){this.isEnabled()&&(Eg(this,2)&&Bg(this,j),this.ub()&&(this.Ad(a)&&Eg(this,4))&&this.setActive(l))};n.Bh=function(a){this.isEnabled()&&this.Ad(a)};
n.Ad=function(a){Eg(this,16)&&Cg(this,!lg(this,16));Eg(this,8)&&Ag(this,8,j)&&this.ja(8,j);if(Eg(this,64)){var b=!lg(this,64);Ag(this,64,b)&&this.ja(64,b)}b=new Gc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.hg=a.hg);return this.dispatchEvent(b)};n.Lj=function(){Eg(this,32)&&this.na(j)};n.Ah=function(){Eg(this,4)&&this.setActive(l);Eg(this,32)&&this.na(l)};
n.Oj=function(a){return this.Ya()&&this.isEnabled()&&this.Df(a)?(a.preventDefault(),a.stopPropagation(),j):l};n.Df=function(a){return 13==a.keyCode&&this.Ad(a)};sa(xg)||f(Error("Invalid component class "+xg));sa(fg)||f(Error("Invalid renderer class "+fg));var Fg=ua(xg);wg[Fg]=fg;vg("goog-control",function(){return new xg(k)});function Gg(){}t(Gg,ng);ma(Gg);n=Gg.prototype;n.zc=aa();n.O=function(a){yg(a);a.gb&=-256;Dg(a,32,l);return a.Ia().O("button",{"class":hg(this,a).join(" "),disabled:!a.isEnabled(),title:a.md()||"",value:a.t()||""},a.xh()||"")};n.Ob=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};n.i=function(a,b){yg(a);a.gb&=-256;Dg(a,32,l);b.disabled&&w(b,mg(this,1));return Gg.e.i.call(this,a,b)};n.Nh=function(a){M(a.j(),a.b(),"click",a.Ad)};n.Oc=la;
n.pc=la;n.Lf=function(a){return a.isEnabled()};n.Pc=la;n.ja=function(a,b,c){Gg.e.ja.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.t=function(a){return a.value};n.oa=function(a,b){a&&(a.value=b)};n.Pa=la;function Hg(a,b,c){xg.call(this,a,b||Gg.a(),c)}t(Hg,xg);n=Hg.prototype;n.t=ca("Og");n.oa=function(a){this.Og=a;this.H.oa(this.b(),a)};n.md=ca("Gg");n.xg=function(a){this.Gg=a;this.H.xg(this.b(),a)};n.l=function(){Hg.e.l.call(this);delete this.Og;delete this.Gg};n.z=function(){Hg.e.z.call(this);if(this.da&32){var a=this.sb();a&&M(this.j(),a,"keyup",this.Df)}};n.Df=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Ad(a):32==a.keyCode};vg("goog-button",function(){return new Hg(k)});function Ig(){}t(Ig,ng);ma(Ig);n=Ig.prototype;n.O=function(a){var b={"class":"goog-inline-block "+hg(this,a).join(" "),title:a.md()||""},b=a.Ia().O("div",b,Jg(this,a.Ta,a.Ia()));ig(this,a,b);return b};n.zc=ea("button");n.Xa=function(a){return a&&a.firstChild.firstChild};function Jg(a,b,c){return c.O("div","goog-inline-block "+(a.fa()+"-outer-box"),c.O("div","goog-inline-block "+(a.fa()+"-inner-box"),b))}n.Ob=function(a){return"DIV"==a.tagName};
n.i=function(a,b){Kg(b,j);Kg(b,l);var c;a:{c=sc(a.Ia(),b);var d=this.fa()+"-outer-box";if(c&&A(c,d)&&(c=sc(a.Ia(),c),d=this.fa()+"-inner-box",c&&A(c,d))){c=j;break a}c=l}c||b.appendChild(Jg(this,b.childNodes,a.Ia()));w(b,"goog-inline-block",this.fa());return Ig.e.i.call(this,a,b)};n.fa=ea("goog-custom-button");
function Kg(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ca(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Lg(a,b,c){Hg.call(this,a,b||Ig.a(),c)}t(Lg,Hg);vg("goog-custom-button",function(){return new Lg(k)});function Mg(){P.call(this)}t(Mg,P);n=Mg.prototype;
n.z=function(){Mg.e.z.call(this);this.rf=V.a().A;var a=W.a(),b=this.rf&&this.rf.k();a.Rb=b;W.a().k()&&(r(),W.a().k());this.Zb=E("fullscreen",this.b());a=E("expand",this.b());O(this.Zb,this.Si());this.Qc=D("stagecover");this.fi=E("message",this.Qc);this.u=E("spinner",this.Qc);this.Gd=E("restart",this.Qc);this.Qg=E("vote",this.b());this.dc=E("like",this.b());this.Sb=E("dislike",this.b());b=new og(document);Ng(this);W.a().k()?(DESKTOP||this.rf.U)&&Og(this,W.a().k()):W.a().c("no-media");M(M(M(M(M(M(M(M(M(this.j(),
window,"resize",q(this.resize,this)),document,"webkitfullscreenchange",q(function(){Jb(this.Zb,"full")},this)),document,"mozfullscreenchange",q(function(){Jb(this.Zb,"full")},this)),document,"fullscreenchange",q(function(){Jb(this.Zb,"full")},this)),this.Zb,"click",q(function(a){if(A(this.Zb,"full"))document.pj&&document.pj(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();else{var b=E("main");b.Ei&&b.Ei();b.webkitRequestFullScreen&&
b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);b.mozRequestFullScreen&&b.mozRequestFullScreen()}a.stopPropagation();a.preventDefault()},this)),a,"click",q(this.il,this)),this.b(),"mousemove",q(function(a){var b=a.offsetX/this.ua,a=a.offsetY/this.fj;if(0.6<b&&1>b&&0.7<a&&1>a&&(this.Cd==YT.PlayerState.PLAYING||this.Cd==YT.PlayerState.PAUSED))w(this.Qc,"click-through"),R(q(function(){z(this.Qc,"click-through")},this),500)},this)),b,"key",q(function(a){"32"==a.keyCode&&Pg(this)},this)),this.Qc,
"click",q(function(a){!A(D("queue"),"show")&&(!A(D("search"),"show")&&!H(a.target,k,"queue")&&!H(a.target,k,"search"))&&Pg(this)},this));V.a().subscribe(Df,this.bd,this);V.a().subscribe(Ef,function(a){Og(this,a);Ng(this)},this);W.a().subscribe(Hf,this.Dk,this);W.a().subscribe("seek",this.Qk,this);W.a().subscribe("before-end",function(){Ng(this,j)},this);DESKTOP&&(M(M(M(this.j(),this.Gd,"click",q(function(a){a.preventDefault();a.stopPropagation();W.a().k()&&Og(this,W.a().k())},this)),this.dc,"click",
q(this.ri,this,this.dc,j)),this.Sb,"click",q(this.ri,this,this.Sb,l)),X.a().subscribe(Qg,function(a){this.resize(a)},this),X.a().subscribe(Rg,function(){R(q(this.resize,this))},this),X.a().subscribe(Sg,function(a){a?this.q.playVideo():this.q.pauseVideo();var a=E(a?"play":"pause",this.b()),b=new Mf;b.add(new $f(a,250,bg));b.add(new Zf(a,250,ag));b.play()},this),X.a().subscribe(Tg,function(a){this.q&&(a?this.q.mute():this.q.unMute())},this),X.a().subscribe(Ug,function(){this.q.seekTo(0)},this));this.resize()};
function Pg(a){if(a.q&&a.q.getPlayerState&&DESKTOP)switch(a.q.getPlayerState()){case YT.PlayerState.PLAYING:X.a().c(Sg,l);break;case YT.PlayerState.PAUSED:X.a().c(Sg,j)}}n.Si=function(){var a=E("main");return!(!a.Ei&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};n.il=function(a){a.preventDefault();a.stopPropagation();Y.a();a=!A(D("sidebar"),"toggled");DESKTOP&&(X.a().c(Qg,a),X.a().c(Rg,a))};
function Og(a,b){W.a().Rb=b;a.ak!=b.id&&(Kd.a().c(Ld,"Now playing",b.media.name,i,b.media.Eg,"#info:"+b.media.id),a.ak=b.id);a.play(b.media);DESKTOP&&T("/_like/"+b.media.id,q(function(a){a=De(a.target);B(this.dc,"checked",a.liked||A(this.dc,"checked"));B(this.Sb,"checked",a.disliked||A(this.Sb,"checked"))},a))}
n.play=function(a,b){var c=W.a().k().async?W.a().k().seek:(r()-W.a().k().time.getTime())/1E3;if(!this.q||!this.q.loadVideoById){var d={controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque",origin:HOST_URL,enablejsapi:1,rel:0};DESKTOP||(d.start=c,d.autoplay=1);this.q=new YT.Player("ytplayer",{height:F().height-40,width:F().width,videoId:a?a.tb:k,playerVars:d,events:{onStateChange:q(this.Fk,this),onReady:q(this.vk,this),onError:q(this.uk,this)}});W.a().wg(this.q)}else a?DESKTOP?this.q.cueVideoById(a.tb):
this.q.loadVideoById(a.tb,c):b&&this.q.cuePlaylist(Ra(b.ba,function(a){return a.media.tb}),b.hb)};
n.resize=function(){if(IPHONE)this.b().style.width=rd(F().width-320,j);else{var a=D("stagecover"),b=E("message",a),c=D("guide").style.height,c=c.substring(0,c.length-2),c=X.a().Cf?c:40,d=X.a().zg?320:0;this.fj=F().height-c;this.ua=F().width-d;sd(this.b(),F().height-c);this.b().style.width=rd(F().width-d,j);sd(a,F().height-c);a.style.width=rd(F().width-d,j);a=N(b);hd(b,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});B(this.Zb,"full",this.Si&&(document.fullScreen||document.webkitIsFullScreen||
document.km))}};n.bd=function(a){(a=a.k())&&Og(this,a);Ng(this)};n.ri=function(a,b,c){c.preventDefault();c.stopPropagation();W.a().k()&&(a=Jb(a,"checked"),(c=b&&A(this.Sb,"checked")||!b&&A(this.dc,"checked"))&&z(b?this.Sb:this.dc,"checked"),T(b?"/_like":"/_dislike",i,"POST","media_id="+W.a().k().media.id+(!a?"&delete=1":"")+(c?"&flip=1":"")))};n.Dk=function(a){Og(this,a);Ng(this);T("/_optin",Ud(),"POST","media_id="+W.a().k().media.id)};n.Qk=function(a){this.q.seekTo&&this.q.seekTo(a,j)};
n.Fk=function(a){this.Cd=a.data;Ng(this);switch(a.data){case YT.PlayerState.CUED:a=W.a().k().async?W.a().k().seek:(r()-W.a().k().time.getTime())/1E3;this.q.seekTo(a);this.q.playVideo();X.a().c(Sg,j);break;case YT.PlayerState.PLAYING:W.a().c(If,W.a().k().media);break;case YT.PlayerState.ENDED:W.a().k()&&U.a().h.ge.Oe(W.a().k().media),B(this.dc,"checked",l),B(this.Sb,"checked",l),W.a().k().ended=j,Vg()}};
n.vk=function(){this.q.setPlaybackQuality("large");var a=W.a().k().async?W.a().k().seek:(r()-W.a().k().time.getTime())/1E3;this.q.seekTo(a);this.q.playVideo();X.a().c(Tg,this.q.isMuted())};n.uk=function(a){100==a?Vg():(W.a().c("no-media"),Ng(this,i,j))};
function Ng(a,b,c){if(!IPHONE){var d=D("stagecover"),e=W.a().k()?W.a().getCurrentTime():0;c?(O(a.u,l),O(a.Gd,j),w(d,"covered")):(!W.a().k()||W.a().k()&&e>W.a().k().media.duration?(W.a().c("no-media"),jc(a.fi.firstChild,Wg),O(a.u,l),O(a.Gd,l),O(a.Qg,l),w(d,"covered")):a.Cd!=YT.PlayerState.PLAYING&&a.Cd!=YT.PlayerState.PAUSED||b?(jc(a.fi.firstChild,Xg),O(a.u,j),O(a.Gd,l),O(a.Qg,j),w(d,"covered")):(O(a.u,l),O(a.Gd,l),z(d,"covered"),O(a.Qg,j)),ud(d,a.Cd==YT.PlayerState.BUFFERING?0.9:1),a.resize())}}
function Vg(){var a=V.a().A.k();a?V.a().c(Ef,a):(W.a().Rb=k,V.a().c(Df,Ff(V.a()),j))}var Wg="THIS CHANNEL IS CURRENTLY OFFLINE",Xg="LOADING STORY";function Yg(a,b){P.call(this,b);this.Za=a||""}t(Yg,P);Yg.prototype.Wa=k;var Zg="placeholder"in document.createElement("input");n=Yg.prototype;n.nd=l;n.O=function(){this.d=this.Ia().O("input",{type:"text"})};n.r=function(a){Yg.e.r.call(this,a);this.Za||(this.Za=a.getAttribute("label")||"");var b;a:{var c=Xb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.nd=j,z(this.b(),this.Xc));Zg?this.b().placeholder=this.Za:this.b().setAttribute("aria-label",this.Za)};
n.z=function(){Yg.e.z.call(this);var a=new ad(this);M(a,this.b(),"focus",this.Ch);M(a,this.b(),"blur",this.Ij);Zg?this.D=a:(ob&&M(a,this.b(),["keypress","keydown","keyup"],this.Jj),M(a,Xb(this.b())?Xb(this.b()).parentWindow||Xb(this.b()).defaultView:window,"load",this.Rj),this.D=a,$g(this));ah(this);this.b().Yj=this};n.Xb=function(){Yg.e.Xb.call(this);this.D&&(this.D.$(),this.D=k);this.b().Yj=k};function $g(a){!a.Ej&&(a.D&&a.b().form)&&(M(a.D,a.b().form,"submit",a.Mj),a.Ej=j)}
n.l=function(){Yg.e.l.call(this);this.D&&(this.D.$(),this.D=k)};n.Xc="label-input-label";n.Ch=function(){this.nd=j;z(this.b(),this.Xc);if(!Zg&&!bh(this)&&!this.Xj){var a=this,b=function(){a.b().value=""};v?R(b,10):b()}};n.Ij=function(){Zg||(cd(this.D,this.b(),"click",this.Ch),this.Wa=k);this.nd=l;ah(this)};n.Jj=function(a){27==a.keyCode&&("keydown"==a.type?this.Wa=this.b().value:"keypress"==a.type?this.b().value=this.Wa:"keyup"==a.type&&(this.Wa=k),a.preventDefault())};
n.Mj=function(){bh(this)||(this.b().value="",R(this.Hj,10,this))};n.Hj=function(){bh(this)||(this.b().value=this.Za)};n.Rj=function(){ah(this)};function bh(a){return!!a.b()&&""!=a.b().value&&a.b().value!=a.Za}n.clear=function(){this.b().value="";this.Wa!=k&&(this.Wa="")};n.reset=function(){bh(this)&&(this.clear(),ah(this))};n.oa=function(a){this.Wa!=k&&(this.Wa=a);this.b().value=a;ah(this)};n.t=function(){return this.Wa!=k?this.Wa:bh(this)?this.b().value:""};
function ah(a){Zg?a.b().placeholder!=a.Za&&(a.b().placeholder=a.Za):($g(a),a.b().setAttribute("aria-label",a.Za));bh(a)?z(a.b(),a.Xc):(!a.Xj&&!a.nd&&w(a.b(),a.Xc),Zg||R(a.Ok,10,a))}n.Fb=function(a){this.b().disabled=!a;B(this.b(),this.Xc+"-disabled",!a)};n.isEnabled=function(){return!this.b().disabled};n.Ok=function(){this.b()&&(!bh(this)&&!this.nd)&&(this.b().value=this.Za)};function ch(a,b,c,d,e,g,h,m,s){var x,y;if(x=c.offsetParent){var C="HTML"==x.tagName||"BODY"==x.tagName;if(!C||"static"!=ld(x,"position"))y=pd(x),C||(C=(C=qd(x))&&ob?-x.scrollLeft:C&&(!v||!Ab("8"))?x.scrollWidth-x.clientWidth-x.scrollLeft:x.scrollLeft,y=Lb(y,new Kb(C,x.scrollTop)))}x=y||new Kb;y=pd(a);C=N(a);y=new gd(y.x,y.y,C.width,C.height);if(C=od(a)){var da=new gd(C.left,C.top,C.right-C.left,C.bottom-C.top),C=Math.max(y.left,da.left),Z=Math.min(y.left+y.width,da.left+da.width);if(C<=Z){var kb=
Math.max(y.top,da.top),da=Math.min(y.top+y.height,da.top+da.height);kb<=da&&(y.left=C,y.top=kb,y.width=Z-C,y.height=da-kb)}}C=Vb(a);kb=Vb(c);if(C.w!=kb.w){var Z=C.w.body,kb=kb.w.parentWindow||kb.w.defaultView,da=new Kb(0,0),Kc=Xb(Z)?Xb(Z).parentWindow||Xb(Z).defaultView:window,wf=Z;do{var ha;if(Kc==kb)ha=pd(wf);else{ha=wf;var lb=new Kb;if(1==ha.nodeType){if(ha.getBoundingClientRect){var oa=md(ha);lb.x=oa.left;lb.y=oa.top}else{var oa=rc(Vb(ha)),Ma=pd(ha);lb.x=Ma.x-oa.x;lb.y=Ma.y-oa.y}ob&&!Ab(12)&&
(oa=i,oa=i,v?oa="-ms-transform":pb?oa="-webkit-transform":nb?oa="-o-transform":ob&&(oa="-moz-transform"),Ma=i,oa&&(Ma=ld(ha,oa)),Ma||(Ma=ld(ha,"transform")),Ma?(ha=Ma.match(Bd),oa=!ha?new Kb(0,0):new Kb(parseFloat(ha[1]),parseFloat(ha[2]))):oa=new Kb(0,0),lb=new Kb(lb.x+oa.x,lb.y+oa.y))}else oa=sa(ha.Fj),Ma=ha,ha.targetTouches?Ma=ha.targetTouches[0]:oa&&ha.ea.targetTouches&&(Ma=ha.ea.targetTouches[0]),lb.x=Ma.clientX,lb.y=Ma.clientY;ha=lb}da.x+=ha.x;da.y+=ha.y}while(Kc&&Kc!=kb&&(wf=Kc.frameElement)&&
(Kc=Kc.parent));Z=Lb(da,pd(Z));v&&!qc(C)&&(Z=Lb(Z,rc(C)));y.left+=Z.x;y.top+=Z.y}a=(b&4&&qd(a)?b^2:b)&-5;b=new Kb(a&2?y.left+y.width:y.left,a&1?y.top+y.height:y.top);b=Lb(b,x);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var Q;if(h)if(s)Q=s;else if(Q=od(c))Q.top-=x.y,Q.right-=x.x,Q.bottom-=x.y,Q.left-=x.x;a:{s=b.clone();e=0;a=(d&4&&qd(c)?d^2:d)&-5;d=N(c);m=m?m.clone():d.clone();if(g||0!=a)a&2?s.x-=m.width+(g?g.right:0):g&&(s.x+=g.left),a&1?s.y-=m.height+(g?g.bottom:0):g&&(s.y+=g.top);if(h){if(Q){g=
s;e=0;if(65==(h&65)&&(g.x<Q.left||g.x>=Q.right))h&=-2;if(132==(h&132)&&(g.y<Q.top||g.y>=Q.bottom))h&=-5;g.x<Q.left&&h&1&&(g.x=Q.left,e|=1);g.x<Q.left&&(g.x+m.width>Q.right&&h&16)&&(m.width=Math.max(m.width-(g.x+m.width-Q.right),0),e|=4);g.x+m.width>Q.right&&h&1&&(g.x=Math.max(Q.right-m.width,Q.left),e|=1);h&2&&(e|=(g.x<Q.left?16:0)|(g.x+m.width>Q.right?32:0));g.y<Q.top&&h&4&&(g.y=Q.top,e|=2);g.y>=Q.top&&(g.y+m.height>Q.bottom&&h&32)&&(m.height=Math.max(m.height-(g.y+m.height-Q.bottom),0),e|=8);g.y+
m.height>Q.bottom&&h&4&&(g.y=Math.max(Q.bottom-m.height,Q.top),e|=2);h&8&&(e|=(g.y<Q.top?64:0)|(g.y+m.height>Q.bottom?128:0));h=e}else h=256;e=h;if(e&496){c=e;break a}}g=ob&&(gb||rb)&&Ab("1.9");s instanceof Kb?(h=s.x,s=s.y):(h=s,s=i);c.style.left=rd(h,g);c.style.top=rd(s,g);if(!(d==m||(!d||!m?0:d.width==m.width&&d.height==m.height)))g=qc(Vb(Xb(c))),v&&(!g||!Ab("8"))?(h=c.style,g?(g=xd(c,"padding"),c=Ad(c),h.pixelWidth=m.width-c.left-g.left-g.right-c.right,h.pixelHeight=m.height-c.top-g.top-g.bottom-
c.bottom):(h.pixelWidth=m.width,h.pixelHeight=m.height)):(c=c.style,ob?c.MozBoxSizing="border-box":pb?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(m.width,0)+"px",c.height=Math.max(m.height,0)+"px");c=e}return c};function dh(){}dh.prototype.bb=aa();function eh(a,b,c){this.element=a;this.qf=b;this.Ck=c}t(eh,dh);eh.prototype.bb=function(a,b,c){ch(this.element,this.qf,a,b,i,c,this.Ck)};function fh(a,b,c,d){eh.call(this,a,b);this.bk=c?5:0;this.eg=d||i}t(fh,eh);fh.prototype.bb=function(a,b,c,d){var e=ch(this.element,this.qf,a,b,k,c,10,d,this.eg);if(e&496){var g=gh(e,this.qf),b=gh(e,b),e=ch(this.element,g,a,b,k,c,10,d,this.eg);e&496&&(g=gh(e,g),b=gh(e,b),ch(this.element,g,a,b,k,c,this.bk,d,this.eg))}};function gh(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function hh(a,b){K.call(this);this.P=new ad(this);this.Dc&&f(Error("Can not change this state of the popup while showing."));this.d=a||k;b&&this.Ki(b)}t(hh,ed);n=hh.prototype;n.d=k;n.nj=j;n.Zg=k;n.Dc=l;n.Sk=l;n.Of=-1;n.Wh=-1;n.Tj=l;n.xj=j;n.Lb="toggle_display";n.Ki=ba("Lb");n.b=ca("d");n.Ya=ca("Dc");n.cb=function(a){this.Jd&&this.Jd.stop();this.od&&this.od.stop();a?this.Se():this.Bc()};n.bb=la;
n.Se=function(){if(!this.Dc&&this.dispatchEvent("beforeshow")){this.d||f(Error("Caller must call setElement before trying to show the popup"));this.bb();var a=Xb(this.d);this.Tj&&M(this.P,a,"keydown",this.ok,j);if(this.nj)if(M(this.P,a,"mousedown",this.qi,j),v){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}M(this.P,a,"mousedown",this.qi,j);M(this.P,a,"deactivate",this.pi)}else M(this.P,
a,"blur",this.pi);"toggle_display"==this.Lb?(this.d.style.visibility="visible",O(this.d,j)):"move_offscreen"==this.Lb&&this.bb();this.Dc=j;this.Jd?(Uc(this.Jd,"end",this.wi,l,this),this.Jd.play()):this.wi()}};n.Bc=function(a){if(!this.Dc||!this.dispatchEvent({type:"beforehide",target:a}))return l;this.P&&dd(this.P);this.Dc=l;this.Wh=r();this.od?(Uc(this.od,"end",za(this.ih,a),l,this),this.od.play()):this.ih(a);return j};
n.ih=function(a){"toggle_display"==this.Lb?this.Sk?R(this.Jh,0,this):this.Jh():"move_offscreen"==this.Lb&&(this.d.style.top="-10000px");this.dispatchEvent({type:"hide",target:a})};n.Jh=function(){this.d.style.visibility="hidden";O(this.d,l)};n.wi=function(){this.Of=r();this.Wh=-1;this.dispatchEvent("show")};n.qi=function(a){a=a.target;!ic(this.d,a)&&((!this.Zg||ic(this.Zg,a))&&!(150>r()-this.Of))&&this.Bc(a)};n.ok=function(a){27==a.keyCode&&this.Bc(a.target)&&(a.preventDefault(),a.stopPropagation())};
n.pi=function(a){if(this.xj){var b=Xb(this.d);if(v||nb){if(a=b.activeElement,!a||ic(this.d,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>r()-this.Of||this.Bc()}};n.l=function(){hh.e.l.call(this);this.P.$();Cc(this.Jd);Cc(this.od);delete this.d;delete this.P};function ih(a,b){this.Ai=4;this.jg=b||i;hh.call(this,a)}t(ih,hh);function jh(a,b){a.Ai=b;a.Ya()&&a.bb()}function kh(a,b){a.jg=b||i;a.Ya()&&a.bb()}function lh(a,b,c,d,e){a.fk=b==k||b instanceof fd?b:new fd(b,c,d,e);a.Ya()&&a.bb()}ih.prototype.bb=function(){if(this.jg){var a=!this.Ya()&&"move_offscreen"!=this.Lb,b=this.b();a&&(b.style.visibility="hidden",O(b,j));this.jg.bb(b,this.Ai,this.fk);a&&O(b,l)}};function mh(a,b,c){K.call(this);this.yb=a;this.ia=b;this.P=c;this.jf=q(this.zk,this)}t(mh,K);n=mh.prototype;n.Re=l;n.zi=0;n.ka=k;n.th=function(){!this.ka&&!this.zi?this.hd():this.Re=j};n.stop=function(){this.ka&&(Je.clearTimeout(this.ka),this.ka=k,this.Re=l)};n.l=function(){mh.e.l.call(this);this.stop()};n.zk=function(){this.ka=k;this.Re&&!this.zi&&(this.Re=l,this.hd())};n.hd=function(){this.ka=R(this.jf,this.ia);this.yb.call(this.P)};function nh(a,b){K.call(this);this.yb=a;this.P=b;this.Va=new Nf(q(this.yk,this),0,this)}t(nh,K);n=nh.prototype;n.ia=0;n.rg=0;n.Qh=l;n.l=function(){this.Va.$();delete this.yb;delete this.P;nh.e.l.call(this)};n.start=function(a,b){this.stop();this.Qh=l;var c=b||0;this.ia=Math.max(a||0,0);this.rg=0>c?-1:r()+c;this.Va.start(0>c?this.ia:Math.min(this.ia,c))};n.stop=function(){this.Va.stop()};n.ub=function(){return this.Va.ub()};
n.yk=function(){if(this.yb.call(this.P))this.Qh=j;else if(0>this.rg)this.Va.start(this.ia);else{var a=this.rg-r();0>=a||this.Va.start(Math.min(this.ia,a))}};function oh(a){K.call(this);this.d=a;this.xd=this.d.value;this.D=new ad(this);this.$a=r();pb||v||ob&&Ab("1.9")?M(this.D,a,"paste",this.xc):M(this.D,a,["keydown","blur","focus","mouseover","input"],this.Kj);this.Va=new nh(q(this.bh,this))}t(oh,ed);n=oh.prototype;n.n="init";n.C=gf("goog.events.PasteHandler");n.l=function(){oh.e.l.call(this);this.D.$();this.D=k;this.Va.$();this.Va=k};
n.bh=function(){if(this.xd==this.d.value)return l;this.C.info("detected textchange after paste");this.dispatchEvent("after_paste");return j};n.xc=function(a){a=new Jc(a.ea);a.type="paste";this.dispatchEvent(a);R(function(){this.bh()||this.Va.start(50,200)},0,this)};
n.Kj=function(a){switch(this.n){case "init":switch(a.type){case "blur":this.n="init";break;case "focus":this.n="focused";break;case "mouseover":this.n="init";this.d.value!=this.xd&&(this.C.info("paste by dragdrop while on init!"),this.xc(a));break;default:cf(this.C,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.$a+400;if(r()>b||"focus"==this.Kk)this.C.info("paste by textchange while focused!"),this.xc(a);break;case "blur":this.n="init";break;
case "keydown":this.C.info("key down ... looking for ctrl+v");if(gb&&nb&&0==a.keyCode||gb&&nb&&17==a.keyCode)break;this.n="typing";break;case "mouseover":this.d.value!=this.xd&&(this.C.info("paste by dragdrop while focused!"),this.xc(a));break;default:cf(this.C,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.n="focused";break;case "blur":this.n="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.C.info("paste by ctrl+v while keypressed!"),
this.xc(a);break;case "mouseover":this.d.value!=this.xd&&(this.C.info("paste by dragdrop while keypressed!"),this.xc(a));break;default:cf(this.C,"unexpected event "+a.type+" during keypressed")}break;default:cf(this.C,"invalid "+this.n+" state")}this.$a=r();this.xd=this.d.value;this.C.info(a.type+" -> "+this.n);this.Kk=a.type};function ph(){return'<div class="popup" id="popup" style="visibility: hidden; display: none;"><div class="content"></div><div id="tailarrow"></div></div>'}function qh(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="tooltip">'+J(a.text)+"</div>"+(a.link?"</a>":"")}
function rh(){return'<div class="select-program"><div class="select-header">Suggest a Program</div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="paste a youtube link"/><div class="page2"></div></div></div></div>'}function sh(a){return'<div class="confirm-media"><img src="'+J(a.dl)+'" /><div class="title">'+J(a.title)+'</div><div class="dark button">Yes</div></div>'};function th(){S.call(this)}t(th,S);ma(th);function uh(){var a=D("popup");a||(a=I(ph),document.body.appendChild(a));ih.call(this,a);L(window,"resize",q(this.cb,this,l));L(this,"hide",this.rk);this.yg=this.Gf=l;this.W=th.a();this.W.subscribe("tooltip",this.Yk,this);this.W.subscribe("select-program",this.Uk,this);this.W.subscribe("hide",this.Bc,this);L(this.b(),"mouseover",q(function(){this.Gf=j},this));L(this.b(),"mouseout",q(function(){this.Gf=l;this.yg&&this.W.c("hide")},this))}t(uh,ih);ma(uh);
function vh(a,b,c,d){L(b,"mouseover",q(function(){this.eh&&Je.clearTimeout(this.eh);this.yg=l;this.W.c("tooltip",b,c,d)},a));L(b,"mouseout",q(function(){this.eh=R(q(function(){this.Gf?this.yg=j:this.W.c("hide")},this),100)},a))}n=uh.prototype;n.rk=function(){this.Bc();this.W.c("on-hide")};n.Xa=function(){return E("content",this.b())};
n.Yk=function(a,b,c){this.cb(l);"top"==b?(jh(this,1),b=-1*(N(this.b()).width-N(a).width)/2,lh(this,0,0,6,b),kh(this,new fh(a,4)),this.b().className="popup",w(this.b(),"top")):"left"==b?(jh(this,0),b=-1*(N(this.b()).height-N(a).height)/2,lh(this,b,6,0,0),kh(this,new fh(a,6)),this.b().className="popup",w(this.b(),"left")):"right"==b&&(jh(this,0),b=-1*(N(this.b()).height-N(a).height)/2,lh(this,b,0,0,6),kh(this,new fh(a,6)),this.b().className="popup",w(this.b(),"right"));uc(this.Xa(),qh,{text:c.text,
link:c.link});this.cb(j)};n.Uk=function(a,b){this.cb(l);jh(this,0);var c=-1*(N(this.b()).height-N(a).height)/2;lh(this,c,0,0,5);kh(this,new fh(a,6));w(this.b(),"left");uc(this.Xa(),rh);this.Od=new Yg("paste a YouTube link");this.Od.i(E("program-input",this.b()));var c=new og(this.Od.b()),d=new oh(this.Od.b()),e=new mh(q(this.cg,this,b),1E3);this.cb(j);M(M(M(this.P,d,"after_paste",q(this.cg,this,b)),c,"key",q(function(){e&&e.th()},this)),this.Od.b(),"focus",q(this.cg,this,b))};
n.cg=function(a){var b=E("select-content",this.b());try{var c;var d=this.Od.t(),e=wh.exec(d);e?c=new xh(e[1]||e[2],i,i):f(Error("failed to parse video id from youtube url: "+d));T(Ba("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.dj),q(function(d){var e=hf(Cf(d.target)).entry,d=e.title.$t,g=e.media$group.media$thumbnail[0].url,e=E("page2",this.b());uc(e,sh,{title:d,dl:g});d=new Lg("Yes");d.i(E("button",e));(new Xf(b,[0,0],[260,0],300,bg)).play();M(this.P,d,"action",q(this.Zf,this,
a,c))},this))}catch(g){}};n.Zf=function(a,b){T("/_addprogram",q(function(b){b=hf(Cf(b.target));b=new le(b);a.c(xe,b);this.cb(l)},this),"POST","channel="+a.id+"&youtube_id="+b.dj)};function Y(){S.call(this)}t(Y,S);ma(Y);function yh(a){return'<div class="info"><div class="picture"><img src="'+J(a.media.nb)+'" class="thumb"><div class="publisher"><img src="'+J(a.media.ca.M)+'"><div class="name">'+J(a.media.ca.name)+'</div></div><div class="links"><div class="local"></div><a target="_blank" href="'+a.media.Uj+'"><div class="host"></div></a></div><div class="link-select" style="display:none"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><div class="title"><div class="text">'+
J(a.media.name)+'</div></div><div class="scrollable ios-scroll" '+(!a.description?'style="display:none"':"")+'><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+J(a.lc)+'</div></div><div class="description">'+a.description+'</div></div><div class="button play"><div class="icon"></div><div class="loading-icon"></div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="viewers" style="display: none"><div class="label"><div class="eye-icon"></div></div></div><div class="info-contents"><div class="scrollable ios-scroll"><div class="user-poll" style="display: none"><div class="label"><div class="status">VOTE</div></div><div class="poll-options"></div></div><div class="tweet-holder" style="display:none"><div class="label"><div class="globe-icon"></div><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><div class="friends-icon"></div><a class="conv-link">CONVERSATION</a>'+
(a.Zj?'<a class="prev-link">&#10218; LAST PROGRAM</a>':"")+'</div><div class="no-comments" style="display:none">Start the conversation with friends.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div><div class="overlay" style="display: none"><div class="leaving"><div>This program is over. Carry on?</div><div class="button dark no">Not yet</div><div class="button dark yes">Let\'s go</div></div></div></div>'}
function zh(a){return'<div class="viewer" name="'+J(a.ke)+'"><img src="'+J(a.o.M)+'"></div>'}
function Ah(a){return'<div class="tweet" id="'+J(a.prefix)+"-"+J(a.ob.id)+'">'+(a.ob.o?'<a href="#user:'+J(a.ob.o.id)+'"><img src="'+J(a.ob.M)+'"/></a>':'<img src="'+J(a.ob.M)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+J(a.ob.handle)+"/status/"+J(a.ob.id)+'">'+J(a.ob.handle)+"</a> "+a.text+'</div><div class="timestamp">'+J(a.timestamp)+'</div><div class="tweet-options"><div class="reply"></div></div></div>'}
function Bh(a){return'<div class="comment'+(a.N.F?" reply":"")+'" '+(a.N.id?'id="'+J(a.prefix)+"-"+J(a.N.id)+'"':"")+">"+(!a.N.F?'<a href="#user:'+J(a.N.o.id)+'"><div class="user-picture" style="background:'+J(a.N.o.color)+'"><img src="'+J(a.N.o.M)+'"/></div></a>':"")+'<div class="template"><a class="user" href="#user:'+J(a.N.o.id)+'">'+J(a.N.o.name)+'</a>  <div class="text">'+a.text+'<div class="comment-options">'+(a.xi?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div><div class="timestamp">'+
J(a.N.Eb)+'</div><div class="replies"></div>'+(!a.N.F?'<div class="reply-input"><textarea class="reply-textarea" rows="1" placeholder="reply..."></textarea></div>':"")+"</div></div>"}
function Ch(){return'<div class="comment-input"><div class="textarea-holder"><div class="input-holder"><div class="highlighter"></div><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea><div class="suggestions" style="display:none"></div></div></div><div class="comment-controls"><div class="comment-toggle tweet-toggle"><div class="icon"></div></div><div class="comment-toggle fb-toggle"><div class="icon"></div></div></div><div class="comment-button add-comment">POST</div></div>'}
function Dh(a){var b='<div class="activity'+(1<a.G.length?" digest":"")+'">';if(1<a.G.length){for(var b=b+('<div class="template"><span>'+J(a.G.length)+" friends </span>"+(a.$i?"watched":"are watching")+(a.Q?' <a href="#channel:'+J(a.Q.id)+'">'+J(a.Q.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.G,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.M)+'"/></div></a>');
b+="</div>"}return b+=(1==a.G.length?'<a href="#user:'+J(a.G[0].id)+'"><div class="picture" style="background:'+J(a.G[0].color)+'"><img src="'+J(a.G[0].M)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(a.G[0].id)+'">'+J(a.G[0].name)+"</a> "+(a.$i?"watched":"is watching")+(a.Q?' <a href="#channel:'+J(a.Q.id)+'">'+J(a.Q.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Eh(a){for(var b='<div class="comment activity'+(1<a.Sa.length?" digest":"")+'">'+(1<a.Sa.length?'<div class="template">'+(1==a.G.length?'<a class="user" href="#user:'+J(a.G[0].id)+'">'+J(a.G[0].name)+' </a> discussed <a class="title" href="#info:'+J(a.media.id)+'">'+J(a.media.name)+"</a>.":"<span>"+J(a.G.length)+' friends </span> discussed <a class="title" href="#info:'+J(a.media.id)+'"> '+J(a.media.name)+"</a>.")+"</div>":""),a=a.Sa,c=a.length,d=0;d<c;d++)var e=a[d],b=b+('<div class="comment"><a href="#user:'+
J(e.o.id)+'"><div class="picture" style="background:'+J(e.o.color)+'"><img src="'+J(e.o.M)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(e.o.id)+'">'+J(e.o.name)+'</a>  <div class="text">'+e.text+'</div><div class="timestamp">'+J(e.Eb)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function Fh(a){var b='<div class="like activity'+(1<a.G.length?" digest":"")+'">';if(1<a.G.length){for(var b=b+('<div class="template"><span>'+J(a.G.length)+' friends </span>liked<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.G,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.M)+'"/></div></a>');b+="</div>"}return b+=(1==a.G.length?'<a href="#user:'+J(a.G[0].id)+'"><div class="picture" style="background:'+
J(a.G[0].color)+'"><img src="'+J(a.G[0].M)+'"/></div></a><div class="template" style="top:10px;margin-bottom:30px"><a class="user" href="#user:'+J(a.G[0].id)+'">'+J(a.G[0].name)+"</a> liked "+(1<a.di?J(a.di)+" stories":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Gh(a){return'<div class="list-info"><div class="picture-cell" '+(a.nb?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+J(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+J(a.nb)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function Hh(a){return'<li class="'+J(a.className)+' tab"><div class="label">'+J(a.name)+"</div></li>"}
function Ih(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.Oh?'placeholder="'+J(a.Oh)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function Jh(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function Kh(a){return'<div class="playlist"><div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function Lh(a){return'<div class="category button">'+J(a.name)+"</div>"}function Mh(a){return'<div class="publisher">'+(a.M?'<img src="'+J(a.M)+'"/>':"")+'<div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function Nh(a){return'<div class="channel '+(a.Q.ic?"on":"off")+'"><div class="title">'+J(a.Q.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.Q.Lc?'<div class="pending">'+J(a.Q.Lc)+"</div>":"")+"</div>"}
function Oh(a){return'<div class="collection"><div class="title">'+J(a.lf.name)+'</div><div class="controls">'+(a.lf.Lc?'<div class="pending">'+J(a.lf.Lc)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Ph(a){return'<div class="topic"><div class="title">'+J(a.jl)+'</div><div class="controls">'+(a.Lc?'<div class="pending">'+J(a.Lc)+"</div>":"")+"</div></div>"}
function Qh(a){return'<div class="tabbed '+(a.Vf?"inbox":"messages")+'"><ul class="tabs">'+(a.Vf?'<li class="tab inbox"><div class="label">INBOX</div></li>':'<li class="tab messages"><div class="label">MESSAGES</div></li>')+'<li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul>'+(a.Vf?'<div class="inbox-content content inbox"><div class="label">NOTIFICATIONS</div><div class="notifications-content content notifications"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="label messages-label">MESSAGES<div class="label show-all"><a href="#friendlist:1">ALL FRIENDS &gt;</a></div></div><div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div></div>':
'<div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div>')+'<div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function Rh(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function Sh(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.nb)+"); background-position: 50% "+J(a.media.Ui)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+J(a.media.ed)+'</div><div class="like-count"><div class="icon"></div>'+J(a.media.ck)+'</div></div></div></div><div class="publisher">'+(a.media.ca?'<img src="'+J(a.media.ca.M)+
'"><div class="name">'+J(a.media.ca.name)+"</div>":"")+'<div class="list-play"><div class="icon"></div></div><div class="list-plus"><div class="icon"></div></div></div></div>'}
function Th(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.nb)+"); background-position: 50% "+J(a.media.Ui)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="published">'+J(a.lc)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+J(a.media.ca.M)+'"><div class="name">'+J(a.media.ca.name)+
'</div><div class="duration">'+J(a.media.duration)+' seconds</div></div><div class="description">'+J(a.media.description)+"</div></div>"}function Uh(a){return'<div class="option"><div class="percent"></div><div class="name">'+J(a.name)+'</div><div class="percent-number">'+J(a.gg)+"</div></div>"};function Vh(a,b,c){K.call(this);this.target=a;this.handle=b||a;this.Zh=c||new gd(NaN,NaN,NaN,NaN);this.w=Xb(a);this.D=new ad(this);L(this.handle,["touchstart","mousedown"],this.Ld,l,this)}t(Vh,ed);var Wh=v||ob&&Ab("1.9.3");n=Vh.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.Pi=0;n.Qi=0;n.uc=0;n.vc=0;n.uf=j;n.Vb=l;n.Kh=0;n.gk=0;n.Wj=l;n.Wd=l;n.j=ca("D");n.Ji=ba("Ne");n.Fb=ba("uf");
n.l=function(){Vh.e.l.call(this);Vc(this.handle,["touchstart","mousedown"],this.Ld,l,this);dd(this.D);Wh&&this.w.releaseCapture();this.D=this.handle=this.target=k};function Xh(a){ja(a.Ma)||(a.Ma=qd(a.target));return a.Ma}
n.Ld=function(a){var b="mousedown"==a.type;if(this.uf&&!this.Vb&&(!b||Mc(a))){Yh(a);if(0==this.Kh)if(this.dispatchEvent(new Zh("start",this,a.clientX,a.clientY,a)))this.Vb=j,a.preventDefault();else return;else a.preventDefault();var b=this.w,c=b.documentElement,d=!Wh;M(this.D,b,["touchmove","mousemove"],this.Qj,d);M(this.D,b,["touchend","mouseup"],this.Wb,d);Wh?(c.setCapture(l),M(this.D,c,"losecapture",this.Wb)):M(this.D,b?b.parentWindow||b.defaultView:window,"blur",this.Wb);v&&this.Wj&&M(this.D,
b,"dragstart",Hc);this.Ne&&M(this.D,this.Ne,"scroll",this.vi,d);this.clientX=this.Pi=a.clientX;this.clientY=this.Qi=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Wd?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==ld(a,"position")&&(c=Xb(a).documentElement),c?(ob?(d=Ad(c),b+=d.left):Cb(8)&&(d=Ad(c),b-=d.left),a=qd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.uc=a;this.vc=this.target.offsetTop;this.fg=rc(Vb(this.w));this.gk=r()}else this.dispatchEvent("earlycancel")};
n.Wb=function(a,b){dd(this.D);Wh&&this.w.releaseCapture();if(this.Vb){Yh(a);this.Vb=l;var c=$h(this,this.uc),d=ai(this,this.vc);this.dispatchEvent(new Zh("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function Yh(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ea.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ea.changedTouches[0],a.currentTarget)}
n.Qj=function(a){if(this.uf){Yh(a);var b=(this.Wd&&Xh(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Vb){var d=this.Pi-this.clientX,e=this.Qi-this.clientY;if(d*d+e*e>this.Kh)if(this.dispatchEvent(new Zh("start",this,a.clientX,a.clientY,a)))this.Vb=j;else{this.he||this.Wb(a);return}}c=bi(this,b,c);b=c.x;c=c.y;this.Vb&&this.dispatchEvent(new Zh("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(ci(this,a,b,c),a.preventDefault())}};function bi(a,b,c){var d=rc(Vb(a.w)),b=b+(d.x-a.fg.x),c=c+(d.y-a.fg.y);a.fg=d;a.uc+=b;a.vc+=c;b=$h(a,a.uc);a=ai(a,a.vc);return new Kb(b,a)}n.vi=function(a){var b=bi(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;ci(this,a,b.x,b.y)};function ci(a,b,c,d){a.lh(c,d);a.dispatchEvent(new Zh("drag",a,b.clientX,b.clientY,b,c,d))}
function $h(a,b){var c=a.Zh,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function ai(a,b){var c=a.Zh,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}n.lh=function(a,b){this.Wd&&Xh(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function Zh(a,b,c,d,e,g,h,m){Gc.call(this,a);this.clientX=c;this.clientY=d;this.Ql=e;this.left=ja(g)?g:b.uc;this.top=ja(h)?h:b.vc;this.$l=b;this.vj=!!m}t(Zh,Gc);function di(){K.call(this);this.pd=[];this.cl=[];this.Id=[]}t(di,ed);n=di.prototype;n.Th=l;n.Uh=l;n.Kf=l;n.Ji=ba("Ne");n.init=function(){if(!this.Kf){for(var a,b=0;a=this.pd[b];b++)ei(this,a);this.Kf=j}};function ei(a,b){a.Th&&(L(b.element,"mousedown",b.hi,l,b),a.Ag&&w(b.element,a.Ag));a.Uh&&a.Dg&&w(b.element,a.Dg)}
n.Ld=function(a,b){if(!this.ta)if(this.ta=b,this.dispatchEvent(new fi("dragstart",this,this.ta))==l)this.ta=k;else{var c=b.tc,d;a:switch(d=c.cloneNode(j),c.tagName.toLowerCase()){case "tr":d=G("table",k,G("tbody",k,d));break a;case "td":case "th":d=G("table",k,G("tbody",k,G("tr",k,d)));break a}this.wj&&w(d,this.wj);this.yc=d;d=Xb(c);d.body.appendChild(this.yc);var e=this.yc,g=pd(c),c=xd(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=
g.y+"px";this.ib=new Vh(e);this.ib.Ji(this.Ne);L(this.ib,"drag",this.ii,l,this);L(this.ib,"end",this.Wb,l,this);L(d.body,"selectstart",this.Ti);this.Rc=[];for(d=0;c=this.cl[d];d++)for(var h,e=0;h=c.pd[e];e++)for(var g=c,m=[h.element],s=this.Rc,x=0;x<m.length;x++){var y=m[x],C=pd(y),da=N(y),C=new fd(C.y,C.x+da.width,C.y+da.height,C.x);s.push(new gi(C,g,h,y));hi(this,C)}this.mb||(this.mb=new fd(0,0,0,0));for(d=0;c=this.Id[d];d++)c.nf=[],c.Gi=c.d.scrollLeft,c.Hi=c.d.scrollTop,e=pd(c.d),g=N(c.d),c.S=
new fd(e.y,e.x+g.width,e.y+g.height,e.x);for(d=0;g=this.Rc[d];d++)for(e=0;c=this.Id[e];e++)ic(c.d,g.d)&&(c.nf.push(g),g.Hd=c);this.Mb=k;for(d=0;c=this.Id[d];d++)L(c.d,"scroll",this.hh,l,this);this.ib.Ld(a);a.preventDefault()}};
n.Wb=function(a){var b=a.vj?k:this.Mb;if(b&&b.qa){var c=a.clientX,a=a.clientY,d=rc(Vb(this.yc)),e=c+d.x,d=a+d.y,g;this.Nd&&(g=this.Nd(b.jb,b.S,e,d));this.dispatchEvent(new fi("drag",this,this.ta,b.qa,b.jb,b.d,c,a,e,d));b.qa.dispatchEvent(new fi("drop",this,this.ta,b.qa,b.jb,b.d,c,a,e,d,g))}this.dispatchEvent(new fi("dragend",this,this.ta));Vc(this.ib,"drag",this.ii,l,this);Vc(this.ib,"end",this.Wb,l,this);Vc(Xb(this.ta.tc).body,"selectstart",this.Ti);for(b=0;c=this.Id[b];b++)Vc(c.d,"scroll",this.hh,
l,this),c.nf=[];this.ib.$();ec(this.yc);delete this.ta;delete this.yc;delete this.ib;delete this.Rc;delete this.Mb};
n.ii=function(a){var b,c=rc(Vb(this.yc));b=new Kb(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.Mb,g;if(e){this.Nd&&e.qa&&(g=this.Nd(e.jb,e.S,c,d));if(e.S.contains(b)&&g==this.Sg)return;e.qa&&(this.dispatchEvent(new fi("dragout",this,this.ta,e.qa,e.jb,e.d)),e.qa.dispatchEvent(new fi("dragout",this,this.ta,e.qa,e.jb,e.d,i,i,i,i,this.Sg)));this.Sg=g;this.Mb=k}if(this.mb.contains(b)){a:{for(var h=0;e=this.Rc[h];h++)if(e.S.contains(b))if(e.Hd){if(e.Hd.S.contains(b)){b=e;break a}}else{b=e;break a}b=
k}if((e=this.Mb=b)&&e.qa)this.Nd&&(g=this.Nd(e.jb,e.S,c,d)),c=new fi("dragover",this,this.ta,e.qa,e.jb,e.d),c.bl=g,this.dispatchEvent(c),e.qa.dispatchEvent(new fi("dragover",this,this.ta,e.qa,e.jb,e.d,a.clientX,a.clientY,i,i,g));else if(!e){this.ma||(this.ma=new gi(this.mb.clone()));a=this.ma.S;a.top=this.mb.top;a.right=this.mb.right;a.bottom=this.mb.bottom;a.left=this.mb.left;for(g=0;e=this.Rc[g];g++)b=e.S,e.Hd&&(e=e.Hd.S,b=new fd(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,
e.bottom),Math.max(b.left,e.left))),e=k,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),e!==k&&h!==k&&(Math.abs(e-c)>Math.abs(h-d)?h=k:e=k),e===k?h!==k&&(h<=d?a.top=h:a.bottom=h):e<=c?a.left=e:a.right=e;this.Mb=10<=(a.right-a.left)*(a.bottom-a.top)?this.ma:k}}};n.Ti=ea(l);
n.hh=function(a){for(var b=0,c;c=this.Id[b];b++)if(a.target==c.d){var d=c.Hi-c.d.scrollTop,e=c.Gi-c.d.scrollLeft;c.Hi=c.d.scrollTop;c.Gi=c.d.scrollLeft;this.ma&&this.Mb==this.ma&&(0<d?this.ma.S.top+=d:this.ma.S.bottom+=d,0<e?this.ma.S.left+=e:this.ma.S.right+=e);for(var g=0,h;h=c.nf[g];g++)h=h.S,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,hi(this,h)}this.ib.vi(a)};
function hi(a,b){if(1==a.Rc.length)a.mb=new fd(b.top,b.right,b.bottom,b.left);else{var c=a.mb;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}n.l=function(){di.e.l.call(this);for(var a,b=0;a=this.pd[b];b++)this.Th&&(Vc(a.element,"mousedown",a.hi,l,a),this.Ag&&z(a.element,this.Ag)),this.Uh&&this.Dg&&z(a.element,this.Dg),a.$();this.pd.length=0};
function fi(a,b,c,d,e,g,h,m,s,x,y){Gc.call(this,a);this.Yl=b;this.Zl=c;this.am=d;this.cm=e;this.bm=g;this.clientX=h;this.clientY=m;this.zm=s;this.Am=x;this.bl=y}t(fi,Gc);fi.prototype.l=aa();function ii(a,b){K.call(this);this.element=D(a);this.data=b;this.K=k;this.element||f(Error("Invalid argument"))}t(ii,ed);n=ii.prototype;n.tc=k;
n.hi=function(a){if(Mc(a)){var b=a.target;b&&(L(b,"mousemove",this.Hc,l,this),L(b,"mouseout",this.Hc,l,this),L(b,"mouseup",this.Uf,l,this),this.tc=b,this.Bg=new Kb(a.clientX,a.clientY),a.preventDefault())}};n.Pe=ba("K");n.Hc=function(a){var b=this.tc,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Bg.x)+Math.abs(a.clientY-this.Bg.y)||c)Vc(b,"mousemove",this.Hc,l,this),Vc(b,"mouseout",this.Hc,l,this),Vc(b,"mouseup",this.Uf,l,this),this.K.Ld(a,this)};
n.Uf=function(){var a=this.tc;Vc(a,"mousemove",this.Hc,l,this);Vc(a,"mouseout",this.Hc,l,this);Vc(a,"mouseup",this.Uf,l,this);delete this.Bg;this.tc=k};function gi(a,b,c,d){this.S=a;this.qa=b;this.jb=c;this.d=d}gi.prototype.Hd=k;function ji(){di.call(this)}t(ji,di);function ki(a,b){b.Pe(a);a.pd.push(b);a.Kf&&ei(a,b)};function li(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Ea(d),'="',Ea(b[d]),'" ');var e=c.join("");return a.replace(mi,function(a,b,c,d,x){a=[Ea(b)];if(!c)return a[0];a.push("<a ",e,'href="');d?(a.push("mailto:"),c=d,d=""):(x||a.push("http://"),(d=c.match(ni))?(c=d[1],d=d[2]):d="");c=Ea(c);d=Ea(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var ni=/^(.*)([:;,\.?\[\]])$/,mi=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function oi(){}t(oi,fg);ma(oi);n=oi.prototype;n.zc=aa();n.i=function(a,b){yg(a);a.gb&=-256;Dg(a,32,l);oi.e.i.call(this,a,b);a.oc(b.value);return b};n.O=function(a){yg(a);a.gb&=-256;Dg(a,32,l);return a.Ia().O("textarea",{"class":hg(this,a).join(" "),disabled:!a.isEnabled()},a.Ta||"")};n.Ob=function(a){return"TEXTAREA"==a.tagName};n.pc=la;n.Lf=function(a){return a.isEnabled()};n.Pc=la;n.ja=function(a,b,c){oi.e.ja.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.Pa=la;
n.oc=function(a,b){a&&(a.value=b)};n.fa=ea("goog-textarea");function pi(a,b,c){xg.call(this,a,b||oi.a(),c);yg(this);this.Oc(j);a||(this.Ta="")}t(pi,xg);var qi=ob||pb;n=pi.prototype;n.Cc=l;n.ua=0;n.ai=0;n.gi=0;n.Ih=l;n.Ae=l;n.ug=l;n.tg=l;function ri(a){return a.yd.top+a.yd.bottom+a.$g.top+a.$g.bottom}function si(a){var b=a.gi,c=a.b();b&&(c&&a.Ae)&&(b-=ri(a));return b}function ti(a){var b=a.ai,c=a.b();b&&(c&&a.Ae)&&(b-=ri(a));return b}n.oa=function(a){this.oc(String(a))};n.t=function(){return this.b().value};n.oc=function(a){pi.e.oc.call(this,a);this.resize()};
n.Fb=function(a){pi.e.Fb.call(this,a);this.b().disabled=!a};n.resize=function(){this.b()&&this.ne()};n.z=function(){pi.e.z.call(this);var a=this.b();hd(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.yd=xd(a,"padding");this.$g=Ad(a);M(M(M(M(this.j(),a,"scroll",this.ne),a,"focus",this.ne),a,"keyup",this.ne),a,"mouseup",this.hk);this.resize()};
function ui(a){if(!a.Ih){var b=a.b().cloneNode(l);hd(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ia().w.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.ug=d>c;b.style.borderWidth="10px";a.tg=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Ae=j);ec(b);a.Ih=j}var b=a.b(),c=a.b().scrollHeight,e=a.b(),d=e.offsetHeight-e.clientHeight;if(!a.ug)var g=a.yd,d=d-(g.top+g.bottom);
a.tg||(e=Ad(e),d-=e.top+e.bottom);c+=0<d?d:0;a.Ae?c-=ri(a):(a.ug||(d=a.yd,c+=d.top+d.bottom),a.tg||(a=Ad(b),c+=a.top+a.bottom));return c}function vi(a,b){a.ua!=b&&(a.ua=b,a.b().style.height=b+"px")}function wi(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.ne=function(){if(!this.Cc){var a=l;this.Cc=j;var b=this.b(),c=this.ua;if(b.scrollHeight){var d=l,e=l,g=ui(this),h=b.offsetHeight,m=si(this),s=ti(this);m&&g<m?(vi(this,m),d=j):s&&g>s?(vi(this,s),b.style.overflowY="",e=j):h!=g?vi(this,g):this.ua||(this.ua=g);!d&&(!e&&qi)&&(a=j)}else wi(this);this.Cc=l;a&&(a=this.b(),this.Cc||(this.Cc=j,b=l,a.value||(a.value=" ",b=j),(e=a.scrollHeight)?(g=ui(this),d=si(this),h=ti(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.yd,a.style.paddingBottom=h.bottom+1+"px",ui(this)==
g&&(a.style.paddingBottom=h.bottom+e+"px",a.scrollTop=0,e=ui(this)-e,e>=d?vi(this,e):vi(this,d)),a.style.paddingBottom=h.bottom+"px")):wi(this),b&&(a.value=""),this.Cc=l));c!=this.ua&&this.dispatchEvent("resize")}};n.hk=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.ua&&(this.ua=this.gi=b)};function xi(a,b,c,d,e,g,h){P.call(this);this.bc=re();this.Ra=a;this.He=b;this.ig=c;this.lg=d;this.kf=e.categories;this.Aj=e.feed_categories;this.Cj=e.feed_id;this.Fg=g||k;this.wc=h||k;this.tf=this.bc?new ji:k;this.Yb={pending:l,all:l};this.Oa=["pending","all","playlists","publishers","categories"]}t(xi,P);var yi="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),zi="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
n=xi.prototype;
n.r=function(a){xi.e.r.call(this,a);a.innerHTML="";a.scrollTop=0;uc(a,Jh);var b=E("pending-content",a);u(this.He,function(a){Ai(this,b,a)},this);this.Ik=E("playlists-content",a);u(this.ig,this.Wg,this);this.Lk=E("publishers-content",a);u(this.lg,this.Xg,this);this.rj=E("categories-list",a);this.ph=E("feed-ids",a);this.Bj=E("feed-cats",a);T("/admin/_categories",q(function(a){a=De(a.target);u(a,function(a){Bi(this,a,"category",Va(this.kf,a.id)||!this.kf.length)},this)},this));u(zi,function(a){Bi(this,a,
"feed_category",Va(this.Aj,a))},this);u(yi,function(a){Bi(this,a,"feed_id",this.Cj==a)},this);this.resize()};
n.z=function(){xi.e.z.call(this);this.ha=E("input",this.b());var a=new og(this.ha),b=new oh(this.ha);this.Ba=E("tabs",this.b());this.B="pending";var c=l;M(M(M(M(this.j(),window,"resize",za(R,q(this.resize,this))),a,"key",q(function(a){"13"==a.keyCode&&Ci(this,this.ha.value)},this)),b,"after_paste",q(function(){Ci(this,this.ha.value)},this)),this.Ba,"click",q(function(a){a=H(a.target,"li");this.Bb(a)},this));M(this.j(),this.b(),"scroll",q(function(){if(this.Ra&&!c&&!this.Yb[this.B]&&("pending"==this.B||
"all"==this.B)&&this.b().scrollTop+F().height>this.b().scrollHeight-this.b().clientTop){c=j;var a=E("spinner",this.b());O(a,j);var b="pending"==this.B?this.He:this.ef;T("/admin/_media/collection/"+this.Ra+"?offset="+b.length+("pending"==this.B?"&pending=1":""),q(function(g){c=l;g=hf(Cf(g.target)).medias;g=Ra(g,function(a){return new Od(a)});Za(b,g);var h=E(this.B+"-content",this.b());u(g,function(a){Ai(this,h,a)},this);this.Yb[this.B]=!g.length;B(a,"finished",!g.length)},this))}},this));this.resize()};
n.resize=function(){sd(this.b(),F().height-40)};
function Ci(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.Ra&&c&&(a.ha.disabled="disabled",T("admin/_add/collection/"+a.Ra,q(function(a){this.ha.value="";this.ha.disabled="";a=De(a.target);if("media"==a.type){var b=Wd(Vd.a(),a.data);Ta(this.He,function(a){return a.id==b.id})||(this.He.push(b),a=E("pending-content",this.b()),Ai(this,a,b,j),this.Bb(Zb("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Ta(this.ig,function(a){return a.id==
c.id})||(this.ig.push(c),this.Wg(c),this.Bb(Zb("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Ta(this.lg,function(a){return a.id==h.id})&&(this.lg.push(h),this.Xg(h),this.Bb(Zb("li","publishers",i)[0]))}},a),"POST","url="+c))}
n.Bb=function(a){u(this.Oa,function(b){B(this.Ba.parentElement,b,A(a,b));this.B=A(a,b)?b:this.B},this);this.Ra&&!this.ef&&T("/admin/_media/collection/"+this.Ra,q(function(a){a=hf(Cf(a.target)).medias;this.ef=Ra(a,function(a){return new Od(a)});var c=E("all-content",this.b());u(this.ef,function(a){Ai(this,c,a)},this)},this))};
n.Wg=function(a){var b=I(Kh,{name:a.name});this.Ik.appendChild(b);var c=E("remove",b);M(this.j(),c,"click",function(){T("admin/_remove/collection/"+this.Ra,q(function(){ec(b)},this),"POST","pub_id="+a.id)})};n.Xg=function(a){var b=I(Mh,{name:a.name||a.id,M:a.picture});this.Lk.appendChild(b);var c=E("remove",b);M(this.j(),c,"click",function(){T("admin/_remove/collection/"+this.Ra,q(function(){ec(b)},this),"POST","pub_id="+a.id)})};
function Bi(a,b,c,d){if("category"==c){var e=I(Lh,{name:b.name,id:b.id});a.rj.appendChild(e)}else e=I(Lh,{name:b,id:b}),("feed_id"==c?a.ph:a.Bj).appendChild(e);B(e,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;M(a.j(),e,"click",function(){"feed_id"==c&&u(fc(this.ph),function(a){z(a,"enabled")});var a=Jb(e,"enabled");T("admin/_edit/collection/"+this.Ra,Ud(),"POST",g+"&enabled="+a)})}
function Ai(a,b,c,d){var e=I(Th,{media:c,lc:Td(c)});d?dc(b,e,0):b.appendChild(e);a.bc&&(b=a.tf,d=new ii(e,i),ki(b,d));var b=new Vh(E("repos",e)),g=E("thumb",e),d=E("play",e),h=E("approve",e),m=E("remove",e);b.lh=function(a,b){var c=b-24;-50<=c&&50>=c&&hd(g,"background-position-y",50-c+"%")};M(M(M(M(a.j(),b,"end",function(){var a=(g.style[La("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);T("/admin/_posthumb",Ud(),"POST","media="+c.id+"&pos="+a)}),d,"click",q(a.Ek,a,c)),h,"click",
q(a.Yg,a,c,j,e)),m,"click",q(a.Yg,a,c,l,e));R(za(w,e,"show"))}n.Zf=function(a,b){T("/admin/_addprogram",q(function(b){b=hf(Cf(b.target));b=new le(b);a.c(xe,b)},this),"POST","channel="+a.id+"&media="+b.id)};n.Yg=function(a,b,c){var d=a.sj||this.Ra;T("admin/_media/collection",q(function(){w(c,"remove");R(function(){ec(c)},300);X.a();var b;X.a();b=nc(D("toggle-pending"));Di(0,b-1);Y.a().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};n.Ek=function(a){a=me(a);W.a().c(Hf,a)};function Ei(a){P.call(this);this.rb=a||k;this.Tc=this.ah=this.Zi=this.gh=0}t(Ei,P);n=Ei.prototype;n.O=function(){this.d=I(Ih)};n.r=function(a){Ei.e.r.call(this,a);var b=I(Ih,{Oh:this.rb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
n.z=function(){Ei.e.z.call(this);this.ha=E("input",this.b());var a=new og(this.ha);this.Pk=E("scrollable",this.b());this.de=E("admin-channels",this.b());this.Hg=E("topics",this.b());this.fe=E("collections",this.b());this.fh=D("admin-col-list");this.$d=D("admin-list");V.a();this.rb?(T("/admin/_topicmedias/"+this.rb,q(function(a){a=De(a.target);Nb(a,function(a,b){O(this.Hg.parentElement,j);if(a&&a.length){var e=I(Ph,{jl:b,Lc:a.length});this.Hg.appendChild(e);L(e,"click",q(function(){a=Ra(a,function(a){return new Od(a)});
(new xi("",a,[],[],[])).i(this.$d);Y.a().c("navigate",this.$d,l,b)},this));Y.a().subscribe("approved",function(b){if(Ta(a,function(a){return a.id==b.id})){var d=E("pending",e),m=nc(d)-1;0>=m?(ec(e),Cc(e)):jc(d,m)}},this)}},this);this.Tc&&Di(X.a(),this.Tc);this.Zi=N(this.Hg.parentElement).height;this.resize()},this)),T("/admin/_collections/"+this.rb,q(function(a){a=De(a.target);O(this.fe.parentElement,!!a.length);u(a,this.Vg,this);this.Tc&&Di(X.a(),this.Tc);this.gh=N(this.fe.parentElement).height;
this.resize()},this))):T("/admin/_channels",q(function(a){a=De(a.target);O(this.de.parentElement,!!a.length);u(a,this.Ug,this);this.ah=N(this.de.parentElement).height;this.resize()},this));M(this.j(),a,"key",q(function(a){"13"==a.keyCode&&this.ha.value&&(a=this.ha.value,this.ha.disabled="disabled",T(this.rb?"/admin/_collections":"/admin/_channels",q(function(a){a=De(a.target);this.rb?(O(this.fe.parentElement,!!a),this.Vg(a)):(O(this.de.parentElement,!!a),this.Ug(a));this.ha.disabled="";this.ha.value=
""},this),"POST","name="+a+(this.rb?"&cid="+this.rb:"")))},this))};
n.Ug=function(a){var b=new we(a),c=I(Nh,{Q:b});this.de.appendChild(c);L(c,"click",q(function(a){A(a.target,"on")||A(a.target,"off")?(B(c,"on",A(a.target,"on")),B(c,"off",!A(a.target,"on")),T("/admin/_channel/online/"+b.id,q(function(a){a.target.disabled="";a=De(a.target);B(c,"on",a.online);B(c,"off",!a.online)},this),"POST","online="+A(a.target,"on"))):A(a.target,"program")?T("/admin/_program",Ud(),"POST","channel_id="+b.id):A(a.target,"fetch")?T("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):A(a.target,"remove")&&confirm("Remove "+b.name+"?")?(O(c,l),T("/admin/_channels/"+b.id,function(a){De(a.target).deleted?ec(c):O(c,j)},"DELETE")):((new Ei(b.id)).i(this.fh),Y.a().c("navigate",this.fh,l,b.name))},this))};
n.Vg=function(a){var b=I(Oh,{lf:a});this.Tc+=a.pending;this.fe.appendChild(b);L(b,"click",q(function(c){A(c.target,"remove")&&confirm("Remove "+a.name+"?")?(O(b,l),T("/admin/_collections/"+a.id,function(a){De(a.target).deleted?ec(b):O(b,j)},"DELETE")):A(c.target,"fetch")?T("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):T("/admin/_media/collection/"+a.id+"?pending=1",q(function(b){var b=hf(Cf(b.target)),c=b.medias,c=Ra(c,function(a){return new Od(a)});
(new xi(a.id,c,b.playlists,b.publishers,b.categories)).i(this.$d);Y.a().c("navigate",this.$d,l,a.name)},this))},this));Y.a().subscribe("approved",function(c,d){if(d==a.id){var e=E("pending",b),g=nc(e)-1;0>=g?(ec(b),Cc(b)):jc(e,g)}},this)};n.resize=function(){sd(this.Pk,this.ah+this.Zi+this.gh+110)};function Fi(a,b,c){P.call(this);this.Li=!!a;this.ce=!!b;this.pg=!!c;this.value="";this.g=new pi(this.pg?"reply...":"Add to the conversation.");this.Ca=new Lg("tweet");Dg(this.Ca,16,j);this.Ha=new Lg("post");Dg(this.Ha,16,j);a=U.a().h;this.ie=a.Jk;this.Ve=a.Bi;this.Nb=new Lg("add");this.og=k;this.Sc={};this.pa=[];this.sa=-1;this.yi=this.Yi=k}t(Fi,P);var Gi=/@(\w+)/;n=Fi.prototype;n.O=function(){this.d=I(Ch)};
n.r=function(a){Fi.e.r.call(this,a);w(a,"decorated");var b=G("div","suggestions");a.appendChild(b);b=G("div","highlighter");a.appendChild(b)};
n.z=function(){Fi.e.z.call(this);this.g.i(E(this.pg?"reply-textarea":"comment-textarea",this.b()));var a=this.g;a.ai=70;a.resize();a=new og(this.g.sb());this.pg||(this.tj=E("comment-controls",this.b()),O(this.tj,this.Li),B(this.b(),"show-controls",this.Li),this.gm=E("input-holder",this.b()),Id(this,this.Ca),this.Ca.i(E("tweet-toggle",this.b())),T("/_twitter",q(function(a){a=De(a.target);this.Ve=this.Ve&&a.auth;this.ml=a.auth_url;Cg(this.Ca,this.Ve)},this)),Id(this,this.Ha),this.Ha.i(E("fb-toggle",
this.b())),FB.api("/me/permissions",q(function(a){this.ie=this.ie&&!!a.data[0].publish_stream;Cg(this.Ha,this.ie)},this)),Id(this,this.Nb),this.Nb.i(E("add-comment",this.b())),this.Nb.Fb(l),M(M(M(this.j(),this.Ha,"action",q(this.qk,this)),this.Ca,"action",q(this.Bk,this)),this.Nb,"action",q(this.ab,this)),DESKTOP&&(vh(uh.a(),this.Ca.b(),"top",{text:"Share on Twitter"}),vh(uh.a(),this.Ha.b(),"top",{text:"Share on Facebook"})),U.a().h.subscribe(qe,function(){Cg(this.Ca,j)},this));this.lb=E("suggestions",
this.b());this.Ff=E("highlighter",this.b());M(M(M(this.j(),this.g.b(),"focus",q(function(){this.dispatchEvent("focus")},this)),a,"key",q(function(a){a.stopPropagation();if("13"==a.keyCode||"32"==a.keyCode){if(this.pa.length&&this.pa.reverse()[this.sa]){a.preventDefault();var c=this.g.t().slice(0,this.g.b().selectionStart),c=c.split(" ").pop(),d=this.pa[this.sa];this.Sc[d.id]=d;Hi(this,c.match(Gi)[0]);this.g.b().focus();O(this.lb,l);this.pa=[];this.sa=-1;c=this.t().length;this.setSelectionRange(c,
c)}else"13"==a.keyCode&&(a.preventDefault(),this.Nb.setActive(this.g.t()),this.ab(a));this.ce&&Hi(this)}else"27"==a.keyCode&&this.pa.length?(O(this.lb,l),this.pa=[],c=this.t().length,this.setSelectionRange(c,c),this.sa=-1,this.Sc={}):("38"==a.keyCode||"40"==a.keyCode)&&this.pa.length?(a.preventDefault(),c=Array.prototype.slice.call(fc(this.lb)),c.reverse()[this.sa]&&z(c[this.sa],"selected"),this.sa="38"==a.keyCode?Math.min(this.sa+1,this.pa.length-1):Math.max(this.sa-1,-1),-1!=this.sa&&w(c[this.sa],
"selected")):R(q(function(){this.Nb.Fb(!!this.g.t());var c=this.g.t().slice(0,this.g.b().selectionStart),c=c.split(" ").pop(),d=this.ce&&Gi.test(c);O(this.lb,d);if("8"==a.keyCode)this.Ff.innerHTML.match('<div class="token">.*</div>$');else if(d&&(c=c.match(Gi),this.pa=U.a().search(c[1]),this.pa.length)){var d=this.pa,h=c[0];this.lb.innerHTML="";O(this.lb,j);u(d.slice(0,3),function(a){var b=G("div","suggestion",a.name);this.lb.appendChild(b);M(this.j(),b,"click",q(function(){this.Sc[a.id]=a;Hi(this,
h);this.g.b().focus();var b=this.t().length;this.setSelectionRange(b,b);O(this.lb,l);this.pa=[];this.sa=-1},this))},this)}this.ce&&Hi(this)},this))},this)),this.g,"resize",q(function(a){this.dispatchEvent(a)},this));Y.a().subscribe("reply-comment",this.ng,this);Y.a().subscribe("reply-tweet",this.Nk,this)};
function Hi(a,b){var c=a.g.t(),d=c,e=c;u(Ob(a.Sc),function(a){var h=b&&0==Da(b,("@"+a.name).substr(0,b.length))?b:a.name;d=d.replace(RegExp(h,"g"),'<div class="token">'+a.name+"</div> ");this.Ff.innerHTML=d;this.value=e=e.replace(RegExp(h,"g"),"@["+a.id+":"+a.name+"]");b&&this.g.oa(c.replace(h,a.name)+" ")},a)}n.ng=function(a,b){this.yi=a.id?a.id:a.toString();this.og=b};
n.Nk=function(a){this.lm=a.id;this.oa((this.t()?this.t()+" ":"")+"@"+a.handle+" ");this.na(j);this.Ca.Fb(j);this.na(j);a=this.t().length;this.setSelectionRange(a,a)};n.setSelectionRange=function(a,b){if(this.g.b().setSelectionRange)this.g.b().focus(),this.g.b().setSelectionRange(a,b);else if(this.g.b().createTextRange){var c=this.g.b().createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",a);c.select()}};
n.t=function(){this.ce&&Ob(this.Sc).length?Hi(this):this.value=this.g.t();return this.value};n.oa=function(a,b,c){Cg(this.Ha,!!b);Cg(this.Ca,!!c);this.g.oa(a);this.value=a;this.Nb.Fb(!!a)};n.clear=function(){this.g.oa("");this.Sc={};this.pa=[];this.Ff.innerHTML="";O(this.lb,l)};n.re=function(){return A(this.b(),"focused")};n.na=function(a){a&&this.g.b().focus();return B(this.b(),"focused",a)};
n.ab=function(){this.t()&&(this.dispatchEvent({type:"add",oj:q(function(a){var b=De(a.target);if(b.comment){var a=new Ii(b.comment),c=b.tweet?new Ji(b.tweet):k;if(b=Wd(Vd.a(),b.comment.media))b.c(Qd,a),c&&b.c("add-tweet",c)}},this),ld:lg(this.Ha,16),Kg:lg(this.Ca,16),text:this.t(),F:this.yi,Xi:this.og&&this.og.id}),this.clear())};n.qk=function(){!this.ie&&lg(this.Ha,16)&&(O(D("overlay"),j),FB.login(q(function(a){O(D("overlay"),l);this.zj=!!a.authResponse;Cg(this.Ha,this.zj)},this),{scope:"publish_stream"}))};
n.Bk=function(){if(!this.Ve&&lg(this.Ca,16)){Cg(this.Ca,l);var a=window.open(this.ml,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Ii(a){this.id=a.id;this.o=a.user?He(U.a(),a.user):k;this.text=a.text;this.media=a.media?Wd(Vd.a(),a.media):k;this.time=a.time?Pd(a.time+"Z"):new ae;this.Eb=ne(this.time.getTime());this.F=a.parent_id;this.Fd=[];this.La=l;a.replies&&u(a.replies,function(a){a=new Ii(a);this.Fd.push(a)},this)}
function Ki(a,b,c,d,e,g,h,m){var s=new Ii({text:c,parentId:g});s.o=a;s.F=g||k;Vd.a().get(b).qb(s);T("/_comment",q(function(a){a=De(a.target);s.id=a.comment.id;m&&m(s)},this),"POST","media_id="+b+"&text="+c+"&tweet="+e+"&facebook="+d+(g?"&parent_id="+g:"")+(h?"&to_user_id="+h:""));return s};function Ji(a){this.id=a.id;this.o=a.user&&He(U.a(),a.user);this.handle=a.handle;this.M=a.picture;this.text=a.text;this.time=Pd(a.time+"Z")};function Li(a,b,c,d){P.call(this);this.f=a;this.ra=b||[];this.gd={};this.Td=!!c;this.fb=d||[];this.Sd={};this.Y=this.Rl=0;this.cc={}}t(Li,P);n=Li.prototype;
n.r=function(a){Li.e.r.call(this,a);a.innerHTML="";a.scrollTop=0;w(this.b(),"ios-scroll");this.u=G("div","loading",G("div","loading-spinner"));this.b().appendChild(this.u);O(this.u,l);this.gc=G("div","no-comments","Start the conversation.");this.b().appendChild(this.gc);this.m=G("div","comments tweets");this.b().appendChild(this.m);M(M(this.j(),window,"resize",za(R,q(this.resize,this))),this.m,"click",q(this.mf,this));this.ra.length?(u(this.ra,function(a){this.qb(a)},this),this.Gc=N(this.m).height):
this.Td&&this.fb.length?(u(this.fb,function(a){this.rc(a)},this),this.Gc=N(this.m).height):O(this.u,j);this.Td?(T("/_tweet/"+this.f.id+"?offset="+this.fb.length,q(function(a){O(this.u,l);a=hf(Cf(a.target));a=Ra(a,function(a){a=new Ji(a);this.rc(a);return a},this);this.Gc=N(this.m).height;this.resize()},this)),this.f.subscribe("add-tweet",function(a){this.rc(a,j)},this)):(T("/_comment/"+this.f.id+"?offset="+this.ra.length,q(function(a){O(this.u,l);a=hf(Cf(a.target));a=Ra(a,function(a){a=new Ii(a);
this.qb(a);return a},this);this.Gc=N(this.m).height;this.resize()},this)),this.f.subscribe(Qd,this.qb,this),this.f.subscribe(Rd,this.mg,this));this.resize(41)};
n.rc=function(a,b){this.Sd[a.id]=a;O(this.gc,l);var c=li(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(Ah,{ob:a,text:c,timestamp:ne(a.time.getTime())});Mi(Ce.a(),a.time,E("timestamp",c));b?dc(this.m,c,0):this.m.appendChild(c);this.resize();O(hc(this.m),j)};
n.mf=function(a){a=a.target;if(this.Td){var b=H(a,k,"tweet");b&&(b=this.Sd[b.id.split("-")[1]],A(a,"reply")&&Y.a().c("reply-tweet",b))}else if(b=H(a,k,"comment"))b=this.gd[b.id.split("-")[1]],A(a,"reply")?E("reply-textarea",this.cc[b.F?b.F:b.id]).focus():A(a,"remove")&&this.f.c(Rd,b)};n.mg=function(a){ec(D("listcomment-"+a.id));Xa(this.ra,function(b){return b.id==a.id})};
n.qb=function(a){this.ra.push(a);O(this.gc,l);var b=li(a.text),b=b.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,e){return'<a href="#user:'+b+'">'+e+"</a>"}),b=I(Bh,{prefix:"listcomment",N:a,text:b,xi:a.o.id==U.a().h.id});Mi(Ce.a(),a.time,E("timestamp",b));a.F?E("replies",this.cc[a.F]).appendChild(b):this.m.appendChild(b);a.id&&Ni(this,a,b);u(a.Fd,function(a){this.qb(a)},this);a.F||(this.m.scrollTop=this.m.scrollHeight);return b};
function Ni(a,b,c){a.gd[b.id]=b;c.id="listcomment-"+b.id;if(!b.F){a.cc[b.id]=c;var d=E("reply-input",c),c=E("reply-textarea",c);M(a.j(),c,"click",q(function(){if(!A(d,"decorated")){var a=new Fi(l,j,j);a.i(d);a.ng(b,b.o);M(this.j(),a,"add",q(function(a){this.ab(a)},this))}},a))}}n.resize=function(a){this.Y=a||this.Y;sd(this.b(),F().height-42-this.Y-(H(this.b(),k,"tabbed")?30:0))};function Oi(a,b,c,d){P.call(this);this.f=this.W=a;this.ra=b||[];this.fb=c||[];this.Td=!!d;this.fd=new Li(a,this.ra);this.Ig=new Li(a,i,j,this.fb);this.g=new Fi(j,j);this.Oa=["comments","tweets"];this.Pd={}}t(Oi,P);n=Oi.prototype;n.r=function(a){Oi.e.r.call(this,a);w(a,"conversation");w(a,"ios-scroll");uc(a,Rh);w(a.firstChild,this.Td?"tweets":"comments")};
n.z=function(){this.Ba=E("tabs",this.b());this.fd.i(E("comments-content",this.b()));this.Ig.i(E("tweets-content",this.b()));Gd(this.g,this.b());M(M(M(M(M(M(M(this.j(),this.Ba,"click",q(function(a){a=H(a.target,"li");this.Bb(a)},this)),this.g,"add",q(this.ab,this)),this.g,"resize",q(function(){A(this.b().firstChild,"comments")?this.fd.resize(41):this.Ig.resize(41)},this)),window,"click",q(function(a){!H(a.target,k,"comment-input")&&!this.g.t()&&this.g.na(l)},this)),E("no-comments",this.b()),"click",
q(this.si,this)),Yb("no-comments",this.b())[1],"click",q(this.si,this)),window,"click",q(function(a){!H(a.target,k,"comment-input")&&!this.g.t()&&this.g.na(l)},this));this.fd.resize(41);this.Ig.resize(41)};n.si=function(a){a.preventDefault();a.stopPropagation();this.g.na(j)};
n.ab=function(a){var b=Ki(U.a().h,this.f.id,a.text,a.ld,a.Kg,a.F,a.Xi,q(function(a){var b=this.Pd[a.time.getTime()];b.id="infocomment-"+a.id;Ni(this.fd,a,b)},this)),c=this.fd.qb(b);this.Pd[b.time.getTime()]=c;a.ld&&!a.F&&(FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.nb,caption:"on XYLO",description:this.f.description},aa()),Cg(this.g.Ha,l))};n.Bb=function(a){u(this.Oa,function(b){B(this.Ba.parentElement,b,A(a,b));this.B=A(a,b)?b:this.B},this)};function Pi(a,b,c,d,e){P.call(this);u(a.ag,function(a){var b=a.k();b&&b.media.id==this.id?(this.Hk=a,u(a.Zd,function(a){a.Ue||(this.Kc[a.o.id]=a.o)})):this.Kc={}},a);this.f=this.W=a;this.ve=c||k;this.Xh=d||k;this.Sj=l;this.qh=!b;this.vd=EMBED||!!e;this.Ye=[];this.Yd={};this.ra=[];this.gd={};this.cc={};this.Pd={};this.fb=[];this.Sd={};this.g=new Fi(j,j);this.Hb=new Lg("Star");Dg(this.Hb,16,j);this.xf=new Lg("Facebook");this.Lg=new Lg("Twitter");this.Bd=new Lg("Play");this.Mc=new Lg("Plus");Dg(this.Mc,
16,j);this.Y=0}t(Pi,P);n=Pi.prototype;n.O=function(){this.d=I(yh,{media:this.f})};n.r=function(a){Pi.e.r.call(this,a);var b=I(yh,{media:this.f,description:this.f.description?li(this.f.description):"",lc:Td(this.f),Zj:this.ve?this.ve.id:k});a.innerHTML=b.innerHTML};
n.z=function(){Pi.e.z.call(this);this.Pg=E("viewers",this.b());var a=E("picture",this.b()),b=E("scrollable",this.b()),c=E("publisher",this.b()),d=E("title",this.b()),e=E("links",this.b());this.u=E("loading",this.b());var g=a.firstChild;this.pf=E("info-contents",this.b());this.Xd=E("user-poll",this.b());this.xm=E("tweet-holder",this.b());this.eb=E("tweets",this.b());this.Ub=E("dot-nav",this.b());this.m=E("comments",this.b());this.gc=E("no-comments",this.b());Gd(this.g,this.b());this.Hb.i(E("star",
this.b()));Cg(this.Hb,te(U.a().h,this.f));this.xf.i(E("facebook",this.b()));this.Lg.i(E("twitter",this.b()));this.Bd.i(E("play",this.b()));this.Mc.i(E("plus",this.b()));this.Jg=new Ie(5E3);this.Bm=E("watch-with",this.b());B(this.b(),"mini",this.vd);!this.qh||this.f.rh?Qi(this,l,this.f.description,this.f.Oe,this.f.aj,this.f.Sa):this.qh&&T("/_info/"+this.f.id,q(function(a){a=hf(Cf(a.target));Qi(this,j,a.description,a.seen,a.tweets,a.comments)},this));if("youtubeUCAMPco9PqjBbI_MLsDOO4Jw"==this.f.ca.id||
"youtubeAMPco9PqjBbI_MLsDOO4Jw"==this.f.ca.id){var h=E("status",this.Xd),m=E("poll-options",this.Xd);jc(h,"WHO'S YOUR FAVORITE FINALIST?");h=I(Uh,{name:"Kree Harrison",gg:"31%"});m.appendChild(h);h=I(Uh,{name:"Angie Miller",gg:"52%"});m.appendChild(h);h=I(Uh,{name:"Candice Glover",gg:"17%"});m.appendChild(h);O(this.Xd,j);M(this.j(),m,"click",q(function(a){if(!A(this.Xd,"voted")){w(this.Xd,"voted");var a=H(a.target,k,"option"),b=nc(E("name",a));w(a,"selected");this.g.oa("@americanidol I just voted for "+
b,j,j);this.g.na(j);u(fc(m),function(a){var b=nc(E("percent-number",a));E("percent",a).style.width=b},this)}},this))}M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(this.j(),window,"resize",za(R,q(this.resize,this))),c,"click",q(function(){Y.a().c("media-list",this.f.ca.name,i,"/admin/_media/publisher/"+this.f.ca.id,this.f.ca.M,this.f.ca.description,this.f.ca.link,"/_publisher/"+this.f.ca.id)},this)),this.Hb,"action",q(function(){Vd.a().c("star",this.f,lg(this.Hb,16));T("/_star",i,"POST","media_id="+
this.f.id+(!lg(this.Hb,16)?"&delete=1":""))},this)),this.xf,"action",q(this.pk,this)),this.Lg,"action",q(this.Ak,this)),this.Bd,"action",q(this.tk,this)),this.Mc,"action",q(this.wk,this)),E("local",this.b()),"click",q(function(){O(E("link-select",this.b()),j);E("link-input",this.b()).select()},this)),this.g,"add",q(this.ab,this)),this.gc,"click",q(function(a){a.preventDefault();a.stopPropagation();this.g.na(j)},this)),E("conv-link",this.b()),"click",q(function(a){a.preventDefault();a.stopPropagation();
Y.a().c("conversation",this.f,this.ra,this.fb)},this)),E("tweets-link",this.b()),"click",q(function(a){a.preventDefault();a.stopPropagation();Y.a().c("conversation",this.f,this.ra,this.fb,j)},this)),this.g,"focus",q(function(){this.resize(0,j)},this)),this.g,"resize",q(function(a){this.resize(a.target.ua-41)},this)),this.Ub,"click",q(function(a){A(a.target,"dot")&&(Ri(this,a.target),this.Jg.stop())},this)),this.Jg,Ke,q(function(){var a=this.Pb&&(this.Pb.nextElementSibling!=i?this.Pb.nextElementSibling:
gc(this.Pb.nextSibling))||E("dot",this.b());R(q(function(){Ri(this,a)},this))},this)),window,"click",q(function(a){!H(a.target,k,"comment-input")&&!this.g.t()&&(this.g.na(l),this.resize(0))},this)),g,"load",function(){O(g,j);R(function(){N(g).height<N(a).height+50&&w(g,"fix-height");N(g).width>2*N(a).width?w(g,"pan-left"):N(g).height>2*N(a).height&&w(g,"pan-top");g.style.marginTop=-N(g).height/2+"px";g.style.marginLeft=-N(g).width/2+"px";w(g,"show")})}),b,"scroll",q(function(){var h=((this.vd?100:
120)-b.scrollTop)/100;ud(c,Math.min(1,Math.max(h,0)));ud(d,Math.min(1,Math.max(h,0)));ud(e,Math.min(1,Math.max(h,0)));ud(g,Math.min(0.5,Math.max(h,0.1)));B(a,"scrolled",10<b.scrollTop)},this)),this.m,"scroll",q(this.sg,this)),this.m,"click",q(this.mf,this)),this.eb,"click",q(this.ll,this)),E("desc-link",this.b()),"click",q(function(){var c=Jb(a,"scrolled");(new Xf(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,c?this.vd?70:170:0],300)).play()},this));this.ve&&M(this.j(),E("prev-link",this.b()),"click",
q(function(){Y.a().c("media-info",this.ve,j,i,this.g.t())},this));this.Xh&&this.g.oa(this.Xh);DESKTOP&&(vh(uh.a(),this.Mc.b(),"left",{text:"Add to Queue"}),vh(uh.a(),this.xf.b(),"left",{text:"Post to Facebook"}),vh(uh.a(),this.Lg.b(),"left",{text:"Tweet"}),vh(uh.a(),this.Hb.b(),"left",{text:"Save"}),vh(uh.a(),E("eye-icon",this.b()),"left",{text:"Seen by"}),vh(uh.a(),E("friends-icon",this.b()),"right",{text:"Visible by only your Facebook friends"}));this.f.subscribe(Qd,function(a){Si(this,a,j)},this);
this.f.subscribe(Rd,this.mg,this);this.f.subscribe("add-tweet",function(a){this.rc(a,j)},this);this.f.subscribe(Sd,function(a,b,c){Ti(this,a,!c)},this);W.a().subscribe(If,function(){z(this.Bd.b(),"play-loading")},this);W.a().subscribe("no-media",function(){z(this.Bd.b(),"play-loading")},this);U.a().h.subscribe("set-starred",function(){Cg(this.Hb,te(U.a().h,this.f))},this);Fe().subscribe(ye,function(a,b){Cg(this.Mc,b)},this)};
function Qi(a,b,c,d,e,g){c?(a.f.description=c,E("description",a.b()).innerHTML=li(c),O(E("scrollable",a.b()),j)):(O(E("desc-link",a.b()),l),O(E("scrollable",a.b()),l));a.Ye=Ra(d,function(a){a=b?He(U.a(),a):a;a.id!=U.a().h.id&&(O(this.Pg,j),this.Sj=j,Ti(this,a,l));return a},a);Nb(a.f.Kc,function(a){Ti(this,a,j)},a);a.fb=Ra(e,function(a){a=b?new Ji(a):a;this.rc(a);this.Pb=this.Ub.firstChild;w(this.Pb,"selected");return a},a);e.length&&a.Jg.start();a.m&&O(a.m.parentElement,j);O(a.gc,!g.length);g=Ra(g,
function(a){a=b?new Ii(a):a;a.F||Si(this,a);return a},a);O(a.u,l);a.resize();b&&(a.f.aj=a.fb,a.f.Sa=g,a.f.Oe=a.Ye,a.f.rh=j)}n.ub=function(){return this.g.re()||!!this.g.Yi||!!this.g.t()};function Ri(a,b){if(b){u(fc(a.Ub),function(a){return z(a,"selected")});a.Pb=b;w(a.Pb,"selected");var c=Ua(fc(a.Ub),function(a){return a==b});(new Xf(a.eb,[a.eb.scrollLeft,a.eb.scrollTop],[320*c,a.eb.scrollTop],200)).play();a.resize()}}
n.ab=function(a){var b=Ki(U.a().h,this.f.id,a.text,a.ld,a.Kg,a.F,a.Xi,q(function(a){var b=this.Pd[a.time.getTime()];b.id="infocomment-"+a.id;Ui(this,a,b)},this)),c=Si(this,b);this.Pd[b.time.getTime()]=c;a.ld&&!a.F&&FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.nb,caption:"on XYLO",description:this.f.description},aa());ve.a().N(this.f.id,a.ld,a.Kg)};
n.rc=function(a,b){this.Sd[a.id]=a;var c=li(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(Ah,{ob:a,text:c,timestamp:ne(a.time.getTime()),prefix:"infotweet"}),d=G("div","dot");Mi(Ce.a(),a.time,E("timestamp",c));b?(dc(this.eb,c,0),dc(this.Ub,d,0),10<fc(this.eb).length&&(ec(this.eb.lastChild),ec(this.Ub.lastChild),
Ri(this,d))):(this.eb.appendChild(c),this.Ub.appendChild(d));this.resize();O(hc(this.eb),j)};
function Si(a,b,c){a.ra.push(b);O(a.gc,l);var d=li(b.text),d=d.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return'<a href="#user:'+b+'">'+c+"</a>"}),d=I(Bh,{prefix:"infocomment",N:b,text:d,xi:b.o.id==U.a().h.id});Mi(Ce.a(),b.time,E("timestamp",d));b.F?E("replies",a.cc[b.F]).appendChild(d):a.m.appendChild(d);b.id&&Ui(a,b,d);u(b.Fd,function(a){Si(this,a,c)},a);!b.F&&c&&(a.m.scrollTop=a.m.scrollHeight,a.pf.firstChild.scrollTop=a.pf.firstChild.scrollHeight);return d}
function Ui(a,b,c){a.gd[b.id]=b;c.id="infocomment-"+b.id;if(!b.F){a.cc[b.id]=c;var d=E("reply-input",c),c=E("reply-textarea",c);M(a.j(),c,"click",q(function(){if(!A(d,"decorated")){var a=new Fi(l,j,j);a.i(d);a.ng(b,b.o);M(this.j(),a,"add",q(function(a){this.ab(a)},this))}},a))}}
function Ti(a,b,c){if(!c&&a.Yd[b.id])z(a.Yd[b.id],"online");else if(b.id!=U.a().h.id){if(!a.Yd[b.id]){var d=I(zh,{o:b});a.Yd[b.id]=d;dc(a.Pg,d,1);M(a.j(),d,"click",function(){Y.a().c("profile",b)});vh(uh.a(),d,"top",{text:b.ke()+(c?" is watching":" saw this")})}O(a.Pg,j);B(a.Yd[b.id],"online",c)}}n.ll=function(a){var a=a.target,b=H(a,k,"tweet");b&&(b=this.Sd[b.id.split("-")[1]],A(a,"reply")&&Y.a().c("reply-tweet",b))};
n.mf=function(a){var a=a.target,b=H(a,k,"comment");b&&(b=this.gd[b.id.split("-")[1]],A(a,"reply")?E("reply-textarea",this.cc[b.F?b.F:b.id]).focus():A(a,"remove")&&this.f.c(Rd,b))};n.mg=function(a){ec(D("infocomment-"+a.id));Xa(this.ra,function(b){return b.id==a.id})};
n.sg=function(){B(this.m.parentElement,"top-grad",!!this.m.scrollTop);var a=this.m.style.maxHeight,b=F().height,a=a.substring(0,a.length-2),c=N(this.m).height;B(this.m.parentElement,"bottom-grad",this.m.scrollTop<this.m.scrollHeight-a-5&&c>=a&&640<b)};
n.resize=function(a,b){this.Y=a!=i?a:this.Y;var c=F().height,d=F().height+(IPHONE&&SAFARI?61:0)-41-this.Y-(H(this.b(),k,"tabbed")?30:0);sd(this.b(),d);sd(this.pf,c-(DESKTOP?this.vd?183:283:0)-(IPHONE?SAFARI?230:170:0)-(this.Ye.length?38:0));640<c&&this.m&&this.m.parentElement?(hd(this.m,"max-height",c-(new Kb(this.m.parentElement.offsetLeft,this.m.parentElement.offsetTop)).y-(this.vd?213:313)-(this.Ye.length?38:0)-this.Y+"px"),this.sg()):640>c&&(hd(this.m,"max-height",""),this.sg());b&&R(q(function(){(new Xf(this.m,
[this.m.scrollLeft,this.m.scrollTop],[this.m.scrollLeft,this.m.scrollHeight],400)).play()},this),0)};n.pk=function(){O(D("overlay"),j);FB.ui({method:"feed",name:this.f.name,link:this.f.link,M:this.f.nb,caption:"on XYLO",description:this.f.description},function(){O(D("overlay"),l)});Vi(ve.a(),this.f.id,j,l)};
n.Ak=function(){var a=window.open("https://twitter.com/share?url="+this.f.link+"&text=I'm watching "+this.f.name+" "+this.f.link,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();Vi(ve.a(),this.f.id,l,j)};n.tk=function(){w(this.Bd.b(),"play-loading");var a=me(this.W);W.a().c(Hf,a)};n.wk=function(){Fe().c(ye,this.W,lg(this.Mc,16))};function Wi(a,b,c,d,e,g){P.call(this);this.bc=re();this.ci=a||k;this.Vd=b||k;this.Sf={};this.Fg=c||k;this.wc=d||k;this.mh=g||k;this.dk=e||k;this.tf=this.bc?new ji:k;this.Gc=this.Mh=0}t(Wi,P);
Wi.prototype.r=function(a){Wi.e.r.call(this,a);a.innerHTML="";a.scrollTop=0;w(this.b(),"ios-scroll");(this.wc||this.Fg)&&Xi(this);!this.wc&&this.mh&&T(this.mh,q(function(a){a=De(a.target);a.description&&this.ud?(E("description",this.ud).innerHTML=li(a.description),this.Mh=N(this.ud).height,this.resize()):a.description&&Xi(this)},this));this.u=G("div","loading",G("div","loading-spinner"));this.b().appendChild(this.u);O(this.u,l);A(this.b(),"starred")&&(this.Ic=G("div","no-comments","Favorities will appear here."),
this.b().appendChild(this.Ic));this.ye=G("div","medias");this.b().appendChild(this.ye);M(this.j(),window,"resize",za(R,q(this.resize,this)));this.Vd?(O(this.u,j),T(this.Vd,q(function(a){O(this.u,l);a=hf(Cf(a.target));a=Ra(a,function(a){return new Od(a)});u(a,this.cf,this);this.Gc=N(this.ye).height;this.resize()},this))):this.ci&&(u(this.ci,this.cf,this),this.Gc=N(this.ye).height,this.resize())};
Wi.prototype.cf=function(a){this.Ic&&O(this.Ic,l);var b=I(Sh,{media:a}),c=E("list-play",b),d=E("list-plus",b);this.ye.appendChild(b);if(this.bc){var e=this.tf,g=new ii(b,i);ki(e,g)}M(M(M(this.j(),b,"click",q(function(){Y.a().c("media-info",a)},this)),c,"click",q(function(b){b.preventDefault();b.stopPropagation();b=me(a);W.a().c(Hf,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();Fe().c(ye,a,j)});this.Sf[a.id]=b};
Wi.prototype.resize=function(){sd(this.b(),F().height+(IPHONE&&SAFARI?61:0)-(DESKTOP?40:0)-(H(this.b(),k,"tabbed")?30:0))};function Xi(a){a.ud=I(Gh,{nb:a.Fg,description:a.wc?li(a.wc):"",link:a.dk});a.b().appendChild(a.ud);a.Mh=N(a.ud).height;a.resize()}Wi.prototype.Zf=function(a,b){T("/admin/_addprogram",q(function(b){b=hf(Cf(b.target));b=new le(b);a.c(xe,b)},this),"POST","channel="+a.id+"&media="+b.id)};function Yi(a){this.id=a.id;this.J=He(U.a(),a.from_user);this.hl=He(U.a(),a.to_user);this.text=a.text;this.La=a.read;this.Eb=(this.time=a.time?Pd(a.time+"Z"):k)?ne(this.time.getTime()):k}Yi.prototype.Qe=function(){T("/_message",Ud(),"POST","id="+this.id+"&read=1");this.La=j;U.a().h.c("read-message",this.J.id)};function Zi(a){return'<div class="message'+(a.Dj?" flip":"")+'"><a href="#user:'+J(a.message.J.id)+'"><div class="picture" style="background:'+J(a.message.J.color)+'"><img src="'+J(a.message.J.M)+'"/></div></a><div class="body"><a class="user" href="#user:'+J(a.message.J.id)+'">'+J(a.message.J.name)+'</a>  <div class="texts"><div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.Eb)+"</div></div></div></div></div>"}
function $i(a){return'<div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.Eb)+"</div></div>"};function aj(a,b){P.call(this);this.Da=a||k;this.wa=b||k;this.Tf={};this.g=new Fi(l);this.Y=0;this.Ja=this.Da.id==U.a().h.id}t(aj,P);
aj.prototype.r=function(a){aj.e.r.call(this,a);a.innerHTML="";a.scrollTop=0;this.Ab=G("div","messages");this.b().appendChild(this.Ab);B(this.Ab,"inbox",this.Ja);this.u=G("div","spinner");this.Ab.appendChild(this.u);O(this.u,l);this.Be=G("div","no-comments",this.Ja?"No Messages":"Start a private conversation.");this.Ab.appendChild(this.Be);this.kb=G("div","no-comments","Load previous messages");this.Ab.appendChild(this.kb);O(this.kb,!this.Ja&&10<=this.wa.length);O(this.Be,j);this.Ja?(this.wa=this.wa.reverse(),
U.a().h.subscribe("read-message",function(a){if((a=this.Tf[a])&&A(a,"unread"))z(a,"unread"),Y.a().c("new-messages",-1)},this)):(Gd(this.g,this.b()),M(M(M(M(M(this.j(),window,"click",q(function(a){!H(a.target,k,"comment-input")&&!this.g.t()&&(this.g.na(l),this.resize(0))},this)),this.Be,"click",q(function(a){a.preventDefault();a.stopPropagation();this.g.na(j)},this)),this.kb,"click",q(this.ek,this)),this.g,"add",q(this.ab,this)),window,"resize",za(R,q(this.resize,this))));Pa(this.wa,function(a){bj(this,
a)},this);U.a().subscribe("new-message",function(a){if(a.J.id==this.Da.id||a.hl.id==this.Da.id){if(this.Ja){var c=j,d=this.Tf[a.J.id];d&&(c=!A(d,"unread"),ec(d));c&&Y.a().c("new-messages",1)}bj(this,a,this.Ja);this.resize()}},this);this.resize()};
aj.prototype.ek=function(){this.kb&&O(this.kb,l);O(this.u,j);T("/_message/"+this.Da.id+"?offset="+this.wa.length,q(function(a){a=De(a.target);if(a.length){this.we=k;var b=G("div","separator");dc(this.Ab,b,3)}O(this.u,l);this.kb&&O(this.kb,!!a.length);Pa(a,function(a){a=new Yi(a);this.wa.push(a);bj(this,a,j);return a},this);a.length&&(this.b().scrollTop=0,this.we=k,this.b().scrollTop=b.offsetHeight)},this))};
function bj(a,b,c){O(a.Be,l);a.kb&&O(a.kb,!a.Ja&&10<=a.wa.length);var d;if(!a.Ja&&a.we&&a.we.J.id==b.J.id)d=I($i,{message:b}),E("texts",a.$j).appendChild(d),d=E("timestamp",d);else{var e=I(Zi,{message:b,Dj:b.J.id==U.a().h.id});a.we=b;a.$j=e;c?dc(a.Ab,e,3):a.Ab.appendChild(e);d=E("timestamp",e);B(e,"unread",!b.La);a.Ja&&(a.Tf[b.J.id]=e,M(a.j(),e,"click",q(function(){b.La||(b.Qe(),z(e,"unread"),Y.a().c("new-messages",-1));Y.a().c("profile",b.J)},a)))}Mi(Ce.a(),b.time,d);c||(a.b().scrollTop=a.b().scrollHeight);
!a.Ja&&(!b.La&&Y.a().sf==b.J.id)&&b.Qe()}aj.prototype.ab=function(a){var b=new Yi({from_user:U.a().h,to_user:He(U.a(),this.Da),text:a.text});b.time=new ae;b.Eb=ne(b.time.getTime());bj(this,b);T("/_message",a.oj,"POST","from_id="+U.a().h.id+"&to_id="+this.Da.id+"&text="+a.text)};aj.prototype.resize=function(a){this.Ja?this.dispatchEvent("resize"):(this.Y=a||this.Y,sd(this.b(),F().height+(IPHONE&&SAFARI?61:0)-(DESKTOP?40:0)-42-this.Y-(H(this.b(),k,"tabbed")?30:0)))};function cj(a){this.id=a.id;this.o=He(U.a(),a.user);this.type=a.type;this.N=a.comment?new Ii(a.comment):k;this.La=a.read;this.Eb=(this.time=a.time?Pd(a.time+"Z"):k)?ne(this.time.getTime()):k}cj.prototype.Qe=function(){T("/_notification",Ud(),"POST","id="+this.id+"&read=1");this.La=j};function dj(a){return'<div class="notification"><a href="#user:'+J(a.J.id)+'"><div class="picture" style="background:'+J(a.J.color)+'"><img src="'+J(a.J.M)+'"/></div></a><div class="body"><div class="type"><a class="user" href="#user:'+J(a.J.id)+'">'+J(a.J.name)+"</a> "+("reply"==a.Xf.type?"replied to your comment":"")+("mention"==a.Xf.type?"mentioned you in a comment":"")+'</div><div class="texts"><div class="text">'+J(a.text)+'<div class="timestamp">'+J(a.Xf.Eb)+"</div></div></div></div></div>"}
;function ej(a){P.call(this);this.hc=a;this.li={};this.fc={};this.Y=0}t(ej,P);
ej.prototype.r=function(a){ej.e.r.call(this,a);a.innerHTML="";a.scrollTop=0;this.wd=G("div","notifications");this.b().appendChild(this.wd);this.u=G("div","spinner");this.wd.appendChild(this.u);O(this.u,l);this.Wf=G("div","no-comments","No Notifications");this.wd.appendChild(this.Wf);O(this.Wf,!this.hc.length);u(this.hc,function(a){fj(this,a)},this);this.dispatchEvent("resize");U.a().subscribe("new-notification",function(a){fj(this,a,j);Y.a().c("new-messages",1);this.dispatchEvent("resize")},this)};
function fj(a,b,c){if(b.N){O(a.Wf,l);var d,e=b.N.text.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return c}),e=I(dj,{Xf:b,text:e,J:b.N.o});c?dc(a.wd,e,2):a.wd.appendChild(e);a.li[b.id]=e;d=a.fc[b.N.media.id]||[];d.push(b);a.fc[b.N.media.id]=d;d=E("timestamp",e);B(e,"unread",!b.La);M(a.j(),e,"click",q(function(){b.La||u(this.fc[b.N.media.id]||[],function(a){a.Qe();Y.a().c("new-messages",-1);(a=this.li[a.id])&&z(a,"unread")},this);Y.a().c("media-info",b.N.media)},a));Mi(Ce.a(),b.time,d);c||
(a.b().scrollTop=a.b().scrollHeight)}};function gj(a){return'<div class="user'+(a.media?" media":"")+'"><div class="name">'+J(a.o.name)+'</div><div class="picture" style="background:'+J(a.o.color)+'"><img src="'+J(a.o.M)+'"/></div>'+(a.timestamp?'<div class="timestamp">'+J(a.timestamp)+"</div>":"")+(a.media?'<div class="media"><div class="watched">LAST WATCHED </div><div class="watching">NOW WATCHING </div><a class="media-link">'+J(a.media.name)+"</a></div>":"")+"</div>"};function hj(a,b){P.call(this);this.Vc=a||k;this.Xe={};this.jc=[];this.Jc=[];this.mc=[];this.Gb=!!b;this.Y=0}t(hj,P);
hj.prototype.r=function(a){hj.e.r.call(this,a);a.innerHTML="";a.scrollTop=0;w(a,"friendlist");w(a,"ios-scroll");this.Gb||(a=G("div","label show-all",G("a",{href:"#friendlist:1"},"ALL FRIENDS >")),this.b().appendChild(a));this.Fe=G("div","label online-friends-label",this.Gb?"ONLINE FRIENDS":G("a",{href:"#friendlist:1"},"ONLINE FRIENDS"));O(this.Fe,l);this.b().appendChild(this.Fe);this.dg=G("div","online-friends");this.b().appendChild(this.dg);this.Ed=G("div","label",this.Gb?"RECENTLY ONLINE":G("a",
{href:"#friendlist:1"},"RECENTLY ONLINE"));O(this.Ed,l);this.b().appendChild(this.Ed);this.Ke=G("div","recent-friends");this.b().appendChild(this.Ke);this.Gb&&(this.De=G("div","label","OFFLINE FRIENDS"),O(this.De,l),this.b().appendChild(this.De),this.Yf=G("div","offline-friends"),this.b().appendChild(this.Yf),this.Gb&&this.resize(),M(this.j(),window,"resize",q(function(){this.Gb&&R(q(function(){this.resize()},this))},this)));if(this.Vc)Na.sort.call(this.Vc,function(a,b){return a.v&&!b.v?1:!a.v&&b.v?
-1:!a.v&&!b.v?0:a.v.getTime()<b.v.getTime()?1:-1}||bb),u(this.Vc,function(a){ij(this,a)},this),O(this.b(),j);else{var a=U.a(),b=q(function(a){this.Vc=a;Na.sort.call(this.Vc,function(a,b){return a.v&&!b.v?1:!a.v&&b.v?-1:!a.v&&!b.v?0:a.v.getTime()<b.v.getTime()?1:-1}||bb);u(this.Vc,function(a){ij(this,a)},this);O(this.b(),j)},this);a.wh?b&&b(a.Af):T("/_friends",q(function(a){a=De(a.target);this.Af=Ra(a,function(a){return He(this,a)},this);this.wh=j;b&&b(this.Af)},a))}U.a().subscribe(Ge,this.ol,this)};
function ij(a,b){if(!a.Xe[b.id]){var c=l,d=b.v?ne(b.v.getTime()):k,e=I(gj,{o:b,timestamp:d,media:b.Ua});b.v&&432E5>r()-b.v.getTime()&&Mi(Ce.a(),b.v,E("timestamp",e));b.ic?(O(a.Fe,j),w(e,"online"),u(a.jc,function(a,d){a.ke()>b.ke()&&(dc(this.dg,e,d),$a(this.jc,d,0,b),c=j)},a),c||(a.dg.appendChild(e),a.jc.push(b))):d&&3>a.mc.length?(O(a.Ed,j),u(a.mc,function(a,d){a.v&&(b.v&&a.v.getTime()<b.v.getTime())&&(dc(this.Ke,e,d),$a(this.mc,d,0,b),c=j)},a),c||(a.Ke.appendChild(e),a.mc.push(b))):a.Gb&&(!Ta(a.mc,
function(a){return b.id==a.id})&&!Ta(a.Jc,function(a){return b.id==a.id}))&&(O(a.De,j),u(a.Jc,function(a,d){a.v&&(b.v&&a.v.getTime()<b.v.getTime())&&(dc(this.Yf,e,d),$a(this.Jc,d,0,b),c=j)},a),c||(a.Yf.appendChild(e),a.Jc.push(b)));a.Gb||(O(a.Ed,!a.jc.length),O(a.Ke,!a.jc.length));a.Xe[b.id]=e;d=E("media-link",e);M(a.j(),e,"click",q(function(){Y.a().c("profile",b)},a));d&&M(a.j(),d,"click",q(function(a){a.stopPropagation();a.preventDefault();Y.a().c("media-info",b.Ua)},a))}}
hj.prototype.ol=function(a){var b=this.Xe[a.id];b&&(ec(b),Rb(this.Xe,a.id),Xa(this.Jc,function(b){return b.id==a.id})&&O(this.De,!!this.Jc.length),Xa(this.jc,function(b){return b.id==a.id})&&O(this.Fe,!!this.jc.length),Xa(this.mc,function(b){return b.id==a.id})&&O(this.Ed,!!this.mc.length));ij(this,a)};hj.prototype.resize=function(a){this.Y=a||this.Y;sd(this.b(),F().height+(IPHONE&&SAFARI?61:0)-42-this.Y-(H(this.b(),k,"tabbed")?30:0))};function jj(a,b){P.call(this);this.jj=a;this.Uc=b||k;this.T=0;this.Mi=!b;this.Yb=l;this.sh={};this.cd={};this.ec={};this.xb={};this.We={};this.Di={};this.Tg=[]}t(jj,P);
jj.prototype.r=function(a){jj.e.r.call(this,a);a.innerHTML="";a.scrollTop=0;w(a,"stream");w(a,"ios-scroll");this.Mi&&(this.zf=G("div","friendlist"),O(this.zf,l),this.b().appendChild(this.zf),a=G("div","label","ACTIVITY"),this.b().appendChild(a));this.Zc=G("div","activities");this.b().appendChild(this.Zc);this.u=G("div","spinner");this.b().appendChild(this.u);O(this.u,l);this.Ic=G("div","no-comments",this.Uc==U.a().h.id?"Your activity will appear here.":"Friends' activity will appear here.");this.b().appendChild(this.Ic);
kj(this,this.jj);this.Mi&&(this.yf=new hj(i,l),this.yf.i(this.zf));U.a().subscribe("new-activity",function(a){(this.Uc==a.user.id||!this.Uc&&a.user.id!=U.a().h.id)&&lj(this,a,i,i,j)},this);M(M(this.j(),this.b(),"scroll",q(function(){!this.Yb&&this.b().scrollTop+F().height>this.b().scrollHeight-60&&mj(this)},this)),window,"resize",za(R,q(this.resize,this)));this.resize()};
function mj(a){O(a.u,j);T("/_activity"+(a.Uc?"/"+a.Uc:"")+"?offset="+a.T,q(function(a){this.sh[String(a.target.sd)]||(this.sh[String(a.target.sd)]=j,a=De(a.target).activities,this.Yb=!a.length,B(this.u,"finished",this.Yb),O(this.u,this.Yb),kj(this,a))},a))}
function kj(a,b){a.cd=[];a.ec=[];a.xb=[];u(b,function(a){this.T++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.cd?this.cd[a.channel_id]:[];b.push(a);this.cd[a.channel_id]=b;break;case "liked":this.ec[a.media.id]||(b=a.media.id in this.xb?this.xb[a.media.id]:[],b.push(a),this.xb[a.media.id]=b,b=a.user.id in this.We?this.We[a.user.id]:[],b.push(a),this.We[a.user.id]=b);break;case "comment":a=a.comment,b=a.media.id in this.ec?this.ec[a.media.id]:[],b.push(a),this.ec[a.media.id]=
b,this.xb[a.media.id]&&Rb(this.xb,a.media.id)}},a);Nb(a.cd,function(a){lj(this,i,a,"session")},a);Nb(a.ec,function(a){lj(this,i,a,"comment")},a);Nb(a.xb,function(a){1<a.length&&lj(this,i,a,"liked")},a);Nb(a.We,function(a){lj(this,i,a,"liked")},a)}
function lj(a,b,c,d,e){O(a.Ic,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],m=b?[He(U.a(),b.user)]:[],s=b?Pd(b.time+"Z"):k;c&&u(c,function(a){Ta(m,function(b){return b.id==a.user.id})||m.push(He(U.a(),a.user));var b=Pd((a.time||a.tune_in)+"Z");s=s&&s.getTime()>b.getTime()?s:b;"session"==g?u(a.media,function(a){!this.ec[a.id]&&(!this.xb[a.id]&&!Ta(h,function(b){return b.id==a.id}))&&h.push(a)},this):"liked"==g&&!this.Di[a.media.id]&&(h.push(a.media),this.Di[a.media.id]=j)},a);switch(g){case "session":if(!a.Uc&&
2>m.length)return;var d=b?b.session:c[0],x=V.a().get(d.channel_id),h=b?b.session.media:h;3<h.length&&(h=h.slice(0,3));b=I(Dh,{G:m,Q:x,time:ne(s.getTime()),$i:!!d.tune_out});break;case "comment":h=b?[b.comment.media]:[Wd(Vd.a(),c[0].media)];b=Ra(b?[b.comment]:c,function(a){a=new Ii(a);a.text=li(a.text);a.text=a.text.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return'<a href="#user:'+b+'">'+c+"</a>"});return a});b=I(Eh,{Sa:b.reverse().slice(0,3),G:m,media:h[0]});break;case "liked":h=b?[b.media]:
h;b=I(Fh,{G:m,di:h.length,time:ne(s.getTime())});break;default:return}if(h.length){Mi(Ce.a(),s,E("timestamp",b));d=Ua(a.Tg,function(a){return a.time<s.getTime()});$a(a.Tg,d,0,{time:s,element:b});var y=E("medias",b);u(h,function(a){var b=Wd(Vd.a(),a),a=I(Sh,{media:b}),c=E("list-play",a),d=E("list-plus",a);E("thumb",a);y.appendChild(a);M(M(M(this.j(),a,"click",function(){Y.a().c("media-info",b)}),c,"click",function(a){a.preventDefault();a.stopPropagation();a=me(b);W.a().c(Hf,a)}),d,"click",function(a){a.preventDefault();
a.stopPropagation();Fe().c(ye,b,j)})},a);e?dc(a.Zc,b,0):c?dc(a.Zc,b,d):a.Zc.appendChild(b);R(za(w,b,"show"))}}jj.prototype.resize=function(){var a=F().height+(IPHONE&&SAFARI?61:0)-40-(H(this.b(),k,"tabbed")?40:10);sd(this.b(),a);N(this.Zc).height<a&&mj(this)};function nj(a){P.call(this);this.Da=this.W=a;this.ze=a.id==U.a().h.id;this.Oa=[this.ze?"inbox":"messages","activity","starred"]}t(nj,P);n=nj.prototype;n.r=function(a){nj.e.r.call(this,a);w(a,"profile");w(a,"ios-scroll");uc(a,Qh,{Vf:this.ze})};
n.z=function(){this.Ba=E("tabs",this.b());this.ze&&(T("/_notification",q(function(a){var a=De(a.target),a=Qa(a,function(a){return!!a}),b=0,a=Ra(a,function(a){a=new cj(a);b+=!a.La?1:0;return a},this);Y.a().c("new-messages",b);this.hc=new ej(a);M(this.j(),this.hc,"resize",za(R,q(this.qg,this)));this.hc.i(E("notifications-content",this.b()))},this)),this.fm=E("inbox-content",this.b()),M(this.j(),window,"resize",za(R,q(this.qg,this))));T("/_message/"+this.Da.id,q(function(a){var a=De(a.target),b=0,a=
Ra(a,function(a){a=new Yi(a);b+=!a.La?1:0;return a},this);this.ze&&Y.a().c("new-messages",b);this.wa=new aj(this.Da,a);M(this.j(),this.wa,"resize",za(R,q(this.qg,this)));this.wa.i(E("messages-content",this.b()))},this));T("/_star/"+this.Da.id,q(function(a){var a=De(a.target),a=Ra(a,function(a){return new Od(a)}),b=U.a().h;b.Oi=a;b.c("set-starred");this.Kd=new Wi(a);this.Kd.i(E("starred-content",this.b()))},this));T("/_activity/"+this.Da.id,q(function(a){a=De(a.target).activities;this.Cg=new jj(a,
this.Da.id);this.Cg.i(E("activity-content",this.b()))},this));M(this.j(),this.Ba,"click",q(function(a){a=H(a.target,"li");this.Bb(a)},this));Vd.a().subscribe("star",function(a,b){if(b)this.Kd.cf(a);else{var c=this.Kd,d=c.Sf[a.id];d&&(Cc(d),Rb(c.Sf,a.id))}},this);M(this.j(),window,"resize",za(R,q(this.Fi,this)));this.Fi()};n.Bb=function(a){u(this.Oa,function(b){B(this.Ba.parentElement,b,A(a,b));this.B=A(a,b)?b:this.B},this)};
n.Fi=function(){var a=F().height+(IPHONE&&SAFARI?61:0)-41-(H(this.b(),k,"tabbed")?30:0);sd(this.b(),a)};n.qg=function(){var a=N(this.b()).height-80;this.hc&&sd(this.hc.b(),Math.floor(a/2));this.wa&&sd(this.wa.b(),Math.ceil(a/2))};function oj(){P.call(this);this.bc=re();this.mj=new Ei;this.Oa={};this.Ib=[];this.Nc=[];this.ac=this.Yc=0}t(oj,P);n=oj.prototype;
n.z=function(){oj.e.z.call(this);this.ad=E("arrow",this.Jb);this.of=D("sidebar-content");this.bi=D("media-list");this.Ie=D("profile");this.vh=D("friendlist");this.jh=D("conversation");this.Jb=D("toolbar");this.Ba=E("tabs",this.b());this.af=E("activities-count",this.b());this.Jf=E("inbox-count",this.b());var a=new og(document);u(fc(this.Ba),function(a){var b=Ib(a)[0];this.Oa[b]=a;this.Ib.push(b)},this);this.bg();T("/_activity",q(function(a){a=De(a.target);this.Cg=new jj(a.activities);this.Cg.i(D("stream"));
Y.a().c("new-activites",parseInt(a.new_count,10))},this));this.Kd=new nj(U.a().h);this.Kd.i(D("my-profile"));this.X&&DESKTOP?(this.I=D("info"),this.B="info",pj(this,"info","info")):(this.I=D("stream"),this.B="stream",pj(this,"info","stream"));var b="left";u(this.Ib,function(a){var c=E(a,this.of);a==this.B?b="right":w(c,b)},this);this.Nc=[this.I,""];w(this.I,"current");if(this.bc){this.mj.i(D("admin"));var c=I(Hh,{name:"ADMIN",className:"admin"});this.Ba.appendChild(c);this.Oa.admin=c;this.Ib.push("admin")}qj(this);
M(M(M(M(this.j(),E("back-button",this.Jb),"click",q(function(a){var b=this.Nc.shift();this.navigate(b[0],j,b[1]);qj(this);a.stopPropagation()},this)),this.Ba,"click",q(function(a){var b=this.B,c=H(a.target,"li"),h=Ib(c)[0];pj(this,this.B,h);w(c,"selected");qj(this);b!=this.B&&a.stopPropagation();"stream"==h&&this.ki(0,j)},this)),this.Jb,"click",q(function(a){((a=H(a.target,"li"))&&Ib(a)[0]==this.B||!a)&&(new Xf(this.I,[this.I.scrollLeft,this.I.scrollTop],[this.I.scrollLeft,0],300)).play()},this)),
a,"key",q(function(a){a.ctrlKey&&"68"==a.keyCode&&Jb(this.b(),"dark")},this));DESKTOP&&X.a().subscribe(Qg,function(a){B(this.b(),"toggled",a);R(q(function(){B(this.b(),"collapsed",!a)},this),!a?500:0)},this);Y.a().subscribe("navigate",this.navigate,this);Y.a().subscribe("new-activites",this.ki,this);Y.a().subscribe("new-messages",this.kk,this);Y.a().subscribe("conversation",this.Tk,this);Y.a().subscribe("media-list",this.Wk,this);Y.a().subscribe("media-info",this.Ni,this);Y.a().subscribe("friend-list",
this.Vk,this);Y.a().subscribe("profile",this.Xk,this);V.a().subscribe(Ef,this.bg,this);W.a().subscribe(Hf,this.bg,this);V.a().subscribe(Df,this.nk,this);DESKTOP&&X.a().subscribe(rj,function(a){B(this.b(),"admin",a);a?(X.a().c(Qg,j),pj(this,this.B,"admin")):"admin"==this.B&&pj(this,"admin","info")},this)};n.ki=function(a,b){b&&(this.Yc=0,O(this.af,l));this.Yc+=a;jc(this.af,this.Yc.toString());O(this.af,!!this.Yc)};
n.kk=function(a,b){b&&(this.ac=0,O(this.Jf,l));this.ac+=a;this.ac=Math.max(this.ac,0);jc(this.Jf,this.ac.toString());O(this.Jf,!!this.ac)};n.bg=function(a){if(a=a||V.a().A.k())if(this.Qb=a.media,!this.X||this.Qb.id!=this.X.W.id){var a=this.X&&this.X.g.t()?this.X.g.t():k,b=this.X?this.X.f:k;Cc(this.X);this.X=new Pi(this.Qb,l,b,a);this.X.i(D("info"))}};
n.nk=function(a){a=a||V.a().A;if((this.Qb=a.k()&&a.k().media)&&(!this.X||this.Qb.id!=this.X.W.id))Cc(this.X),this.X=new Pi(this.Qb),this.X.i(D("info")),this.Ni(this.Qb)};
function pj(a,b,c){var d=E(c,a.of),e=Oa(a.Ib,b),b=Oa(a.Ib,c),g=(e=e<b)?0:a.Ib.length-1,h=e?g<a.Ib.length:0<=g;for(g;h;g+=e?1:-1){var m=E(a.Ib[g],a.of);if(e&&g>b||!e&&g<b)w(m,"right"),z(m,"left");else if(e&&g<b||!e&&g>b)B(m,"left",e),w(m,"right");else if(g==b){z(m,"right");z(m,"left");break}}a.B=c;$a(a.Nc,0,0,[a.I,""]);z(a.I,"current");a.I=d;w(a.I,"current");qj(a)}
n.navigate=function(a,b,c){if(a==this.I)c&&jc(E("back-title",this.Jb),c);else{var d=A(this.I,"screen");b?(z(this.I,"on"),z(this.I,"current"),w(a,"current"),this.I=a):(B(this.I,"on",!d),b=[this.I,nc(E("back-title",this.Jb))],$a(this.Nc,0,0,b),z(this.I,"current"),this.I=a,w(this.I,"current"));B(this.Jb,"back",A(this.I,"slide"));c&&jc(E("back-title",this.Jb),c);this.I!=this.Ie&&(Y.a().sf=k)}};n.Tk=function(a,b,c,d){(new Oi(a,b,c,d)).i(this.jh);Y.a().c("navigate",this.jh,l,a.name)};
n.Wk=function(a,b,c,d,e,g,h){(new Wi(b,c,d,e,g,h)).i(this.bi);Y.a().c("navigate",this.bi,l,a,d,e)};n.Vk=function(){this.yf=new hj(i,j);this.yf.i(this.vh);Y.a().c("navigate",this.vh,l,"Friends")};n.Ni=function(a,b,c,d){if(this.X&&a.id==this.X.W.id){z(this.Jb,"back");for(a=this.Nc[0][0];a&&A(a,"slide");)a=this.Nc.shift();pj(this,this.B,"info")}else{var e=D("media-info");(new Pi(a,b,c,d)).i(e);Y.a().c("navigate",e,l,a.name)}DESKTOP&&X.a().c(Qg,j)};
n.Xk=function(a){if(!this.kg||!(this.kg.W.id==a.id&&this.I==this.Ie))Y.a().sf=a.id,this.kg=new nj(a),this.kg.i(this.Ie),Y.a().c("navigate",this.Ie,l,a.name),DESKTOP&&X.a().c(Qg,j)};
function qj(a){var b=Math.round(N(a.Oa[a.B]).width/2+(new Kb(a.Oa[a.B].offsetLeft,a.Oa[a.B].offsetTop)).x);a.ad.style.transform="translate3d("+b+"px, 0,0)";a.ad.style.msTransform="translate3d("+b+"px, 0,0)";a.ad.style.WebkitTransform="translate3d("+b+"px, 0,0)";a.ad.style.MozTransform="translate3d("+b+"px, 0,0)";a.ad.style.yl="translate3d("+b+"px, 0,0)"};function sj(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="logo"></div></div><div id="sidebar" class="toggled"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM<div class="activities-count" style="display:none"></div></div></li><li class="profile tab"><div class="label">ME<div class="inbox-count" style="display:none"></div></div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="friendlist" class="slide friendlist"></div><div id="conversation" class="slide"></div>'+
(a.lj?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="notify" class="notify"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'};function ve(){}ma(ve);_gaq=[];ve.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};ve.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",U.a().h.id])};
function Ee(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",U.a().h.id])}ve.prototype.bd=function(a,b){a.U||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
ve.prototype.N=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",U.a().h.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",U.a().h.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",U.a().h.id])};
function Vi(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",U.a().h.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",U.a().h.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",U.a().h.id]);T("/_share",Ud(),"POST","facebook="+c+"&twitter="+d)}ia("_gaq",_gaq);function X(){S.call(this);this.Gk=j;var a=D("controller");this.zg=!a||A(a,"sidebar-toggled");this.Cf=a&&A(a,"guide-toggled");a=D("guide");this.wm=!!a&&A(a,"timeless");this.subscribe(Qg,ba("zg"),this);this.subscribe(Rg,ba("Cf"),this);this.subscribe(Sg,ba("Gk"),this)}t(X,S);ma(X);function Di(a,b){var c=D("toggle-pending");jc(c,b);O(c,!!b)}var Sg="play",Tg="mute",Ug="restart",Rg="toggle-guide",Qg="toggle-sidebar",rj="toggle-admin";function tj(){S.call(this);this.$h=l}t(tj,S);ma(tj);tj.prototype.init=function(a){this.Yi=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=q(this.sk,this);a.onclose=q(this.ni,this);L(window,"onbeforeunload",q(this.ni,this));return this};
tj.prototype.sk=function(a){var b=hf(a.data);switch(b.type){case "viewer_change":var c=He(U.a(),b.user);b.online!=i&&b.online!=k&&U.a().c(Ge,c,b.online);var d=b.time&&Pd(b.time+"Z");c.ge&&d&&c.ge.end(d);(a=b.last_channel_id&&V.a().get(b.last_channel_id))&&a.c("remove-viewer",c);c.Ua&&c.Ua.c(Sd,c,a,j);var e=b.channel_id&&V.a().get(b.channel_id),a=b.media&&Wd(Vd.a(),b.media);e&&(d=d||new ae,d=new ue(b.session_id,c,e,d),c.ge=d,e.c(ze,d),a=(d=e.k())?d.media:a);a&&a.c(Sd,c,e,b.online!=j);break;case "notification":a=
new cj(b.notification);U.a().c("new-notification",a);break;case "new_comment":c=new Ii(b.comment);if(c.o.id!=U.a().h.id&&(d=b.tweet?new Ji(b.tweet):k,a=Wd(Vd.a(),b.comment.media)))a.c(Qd,c),d&&a.c("add-tweet",d);break;case "new_message":a=new Yi(b.message);U.a().c("new-message",a);Y.a().sf!=a.J.id&&Kd.a().c(Ld,"messaged you",a.text,a.J,a.J.M,"#user:"+a.J.id);break;case "new_activity":U.a().c("new-activity",b.activity);b.activity.user.id!=U.a().h.id&&Y.a().c("new-activites",1);break;case "update_programs":a=
b.programs;e=V.a().get(b.channel_id);u(a,function(a){e.c(Ae,a)},this);break;case "new_programs":b.channel&&(e=V.a().bf(b.channel));u(b.programs,q(function(a){a=new le(a);if(e=e||V.a().get(b.channel_id))e.c(xe,a),V.a().A&&V.a().A.k(),W.a().k()||(V.a().c(Df,e),V.a().c(Ef,a))},this));break;case "twitter_auth":U.a().h.c(qe)}};
tj.prototype.ni=function(){if(!this.$h){var a=V.a().A.U&&V.a().A.Ua&&Math.floor(W.a().getCurrentTime());DESKTOP&&T("/_settings",Ud(),"POST","show_guide="+X.a().Cf+"&show_sidebar="+X.a().zg+(a?"&current_seek="+a:""));this.$h=j}};function Ce(){S.call(this);this.dh=new Ie(1E3);this.Vi=new Ie(3E4);this.Wi=[];this.wf=[]}t(Ce,S);ma(Ce);Ce.prototype.init=function(){this.dh.start();this.Vi.start();L(this.dh,Ke,q(function(){u(this.wf,function(a,b){a.time<r()&&(a.callback(),Na.splice.call(this.wf,b,1))},this)},this));L(this.Vi,Ke,q(function(){u(this.Wi,function(a){jc(a.element,ne(a.time.getTime()))},this)},this))};function Mi(a,b,c){86400>(r()-b.getTime())/1E3&&a.Wi.push({time:b,element:c})}
function Be(a,b,c){86400>(r()-b)/1E3&&a.wf.push({time:b,callback:c})};function uj(){S.call(this);this.mm=[]}t(uj,S);ma(uj);uj.prototype.Qf=function(a){Nb(a,q(function(a,c){u(a,q(function(a){a=new le(a);V.a().sc[c]&&V.a().sc[c].df(a)},this))},this))};var vj=l;function wj(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var xj=navigator.plugins["Shockwave Flash"];xj&&(vj=j,xj.description&&wj(xj.description));navigator.plugins["Shockwave Flash 2.0"]&&(vj=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var yj=navigator.mimeTypes["application/x-shockwave-flash"];(vj=yj&&yj.enabledPlugin)&&wj(yj.enabledPlugin.description)}else try{var zj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),vj=j;wj(zj.GetVariable("$version"))}catch(Aj){try{zj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
vj=j}catch(Bj){try{zj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),vj=j,wj(zj.GetVariable("$version"))}catch(Cj){}}};function Dj(a,b,c,d,e,g,h,m){this.Vd=a;this.qj=b;this.wc=c;this.Lb=d;this.jm=e;this.dm=g;this.fj=h;this.ua=m;this.el=[];this.kf=[];this.Ul=[];this.rm=[]}Dj.prototype.xh=ca("qj");Dj.prototype.Ki=function(a){this.Lb=a;return this};Dj.prototype.wg=function(a){this.q=a;return this};function Ej(a){this.Vd=a;this.$k=k}function Fj(a){this.Vd=a;this.$k=this.ym=k};function xh(a,b,c){Dj.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.dj=a;this.el=[new Ej("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.wg(new Fj("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}t(xh,Dj);
var wh=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function Gj(){P.call(this);this.Zk=new oj;this.q=new Mg;this.mi=new Jd}t(Gj,P);Gj.prototype.r=function(a){Gj.e.r.call(this,a);var b=I(sj,{lj:re()});dc(a,b,0)};
Gj.prototype.z=function(){Gj.e.z.call(this);SAFARI||(document.body.style.height=F().height+"px");this.Zk.i(D("sidebar"));this.q.i(D("stage"));this.mi.i(D("notify"));O(this.mi.b(),l);U.a().h.pl||U.a();M(this.j(),document.body,"touchmove",function(a){H(a.target,"div","ios-scroll")||a.preventDefault()});M(this.j(),window,"click",function(a){var b=H(a.target,"a");if(b=b?b.href:k)if((b=b.match("#(.*):(.*)"))&&b.length)switch(a.preventDefault(),a.stopPropagation(),b[1]){case "user":a=U.a().get(b[2]);Y.a().c("profile",
a);break;case "channel":a=V.a().get(b[2]);V.a().c(Df,a);break;case "info":a=Vd.a().get(b[2]);Y.a().c("media-info",a);break;case "friendlist":Y.a().c("friend-list")}});T("/_presence",q(function(a){a=De(a.target);this.Pl=tj.a().init(a.token);var b=V.a();u(a.viewer_sessions,q(function(a){var b=He(U.a(),a.user),e=U.a();Ta(e.Ee,function(a){return a.id==b.id})||e.Ee.push(b);var e=this.sc[a.channel_id],g=a.media[0]?Wd(Vd.a(),a.media[0]):k,h=Pd(a.tune_in+"Z"),m=a.tune_out?Pd(a.tune_out+"Z"):k,a=new ue(a.id,
b,e,h,m);b.ge=a;if(e){e.Zd.push(a);e.c(ze,a);var s=e.k()}else g&&(s=me(g));b.id!=U.a().h.id&&(s&&s.media.c(Sd,b,e),U.a().c(Ge,b,j))},b))},this))};
function Hj(a){var b=D("login"),c=D("static-content"),d=D("pages"),e=A(b,"app");B(b,"expanded",a);D("uvTab")&&B(D("uvTab"),"show",e&&a);a?(e?c.style.bottom=-N(d).height-80+"px":c.style.top=Math.max(10,F().height-280)+"px",a=e?Math.min(F().height-100,c.scrollHeight+80):Math.min(F().height-435,c.scrollHeight+190),!e||e&&!b.scrollTop?(e=new Xf(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),w(b,"scrolling"),e.play(),L(e,"end",function(){z(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",e?R(function(){z(b,"show")},200):c.className="")}
function Ij(){var a=D("fb-login"),b=D("static-content"),c=D("login");w(a,"disabled");w(a,"spin");T("/_session",function(a){if(200==Bf(a.target)){var e=De(a.target);if(e.error)jc(D("error"),e.error),Jj("error","Yikes...");else if(e.message)jc(D("message"),e.message);else{z(document.body,"login");var a=e.channels,g=e.programs,e=e.current_user;if(!Qb(e)){var h=U.a();h.h=He(h,e)}V.a().Qf(a);uj.a().Qf(g);a=V.a();a.A=a.sc[e.current_channel]||a.dd[0];a.A=Ff(a)||a.A;a.A&&a.Mg(a.A.k());Ce.a().init();(new Gj).i(document.body);
ve.a().login();R(function(){R(function(){w(c,"hide");R(function(){O(D("homepage"),l);w(c,"app");w(b,"faq")},600)},600)})}}else 500==Bf(a.target)?Jj("error","Opps, check back later"):Jj("wait")},"POST")}function Jj(a,b){var c=D("fb-login");if(a){var d=E("power",c);w(d,a)}b&&(d=E("waitlist",c),jc(d,b));z(c,"spin");w(c,"disabled");O(c,j);w(c,"show");w(c,"waitlist")}
ia("brkn.Mobile.staticInit",function(){var a=D("fb-login"),b=D("homepage"),c=D("login"),d=D("static-content"),e=D("pages"),g=D("footer"),h=l;w(b,"hide");var m=G("img");m.src="/static/img/homepage.jpg";L(m,"load",function(){z(b,"hide");w(b,"show")});R(function(){O(a,j);R(za(w,a,"show"),400)},100);L(c,"click",function(a){"static-scrollable"==a.target.id&&(a=A(c,"app"),h=l,a?Hj(h):(a=new Xf(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),L(a,"end",za(Hj,h))))});L(c,"scroll",function(){!A(c,
"scrolling")&&1>c.scrollTop&&(h=l,Hj(h))});L(g,"click",function(a){var a=H(a.target,k,"section"),b=A(c,"app");a&&(h=j,d.className=a.id,d.style.height=N(e).height+(b?80:220)+"px",Hj(h))});L(window,"resize",za(Hj,h));ve.a().init();IPHONE&&(w(document.body,"iphone"),w(document.body,"login"),window.onload=function(){R(function(){window.scrollTo(0,1)},1E3)})});
ia("brkn.Mobile.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)Ij();else{var b=D("fb-login");L(b,"click",function(){w(b,"disabled");FB.login(function(a){a.authResponse?Ij():z(b,"disabled")},{scope:"email"})})}})});