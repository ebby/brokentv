function f(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function da(a){return function(){return this[a]}}function ea(a){return function(){return a}}var n,fa=fa||{},ga=this;function ia(a,b){var c=a.split("."),d=ga;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ja(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function ka(a){for(var a=a.split("."),b=ga,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function la(){}function ma(a){a.a=function(){return a.Mh?a.Mh:a.Mh=new a}}
function oa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ja(a){return a!==i}function pa(a){return"array"==oa(a)}function qa(a){var b=oa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ra(a){return"number"==typeof a}function sa(a){return"function"==oa(a)}function ta(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function ua(a){return a[va]||(a[va]=++wa)}
var va="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),wa=0;function xa(a,b,c){return a.call.apply(a.bind,arguments)}function ya(a,b,c){a||f(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xa:ya;return q.apply(k,arguments)}function za(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var r=Date.now||function(){return+new Date};function Aa(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a}
function t(a,b){function c(){}c.prototype=b.prototype;a.e=b.prototype;a.prototype=new c;a.prototype.constructor=a};function Ba(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Ca(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Da(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1}
function Ea(a){if(!Fa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ga,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ha,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ia,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ja,"&quot;"));return a}var Ga=/&/g,Ha=/</g,Ia=/>/g,Ja=/\"/g,Fa=/[&<>\"]/;function La(a){var a=ja(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}
function Ma(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Na=Array.prototype,Oa=Na.indexOf?function(a,b,c){return Na.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(p(a))return!p(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},u=Na.forEach?function(a,b,c){Na.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function Pa(a,b,c){for(var d=p(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)}
var Qa=Na.filter?function(a,b,c){return Na.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=p(a)?a.split(""):a,m=0;m<d;m++)if(m in h){var s=h[m];b.call(c,s,m,a)&&(e[g++]=s)}return e},Ra=Na.map?function(a,b,c){return Na.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=p(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Sa=Na.every?function(a,b,c){return Na.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in
e&&!b.call(c,e[g],g,a))return l;return j};function Ta(a,b){var c=Ua(a,b,i);return 0>c?k:p(a)?a.charAt(c):a[c]}function Ua(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return g;return-1}function Va(a,b){return 0<=Oa(a,b)}function Wa(a,b){var c=Oa(a,b);0<=c&&Na.splice.call(a,c,1)}function Xa(a,b,c){b=Ua(a,b,c);return 0<=b?(Na.splice.call(a,b,1),j):l}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Za(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(pa(d)||(e=qa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,m=0;m<h;m++)a[g+m]=d[m];else a.push(d)}}function $a(a,b,c,d){Na.splice.apply(a,ab(arguments,1))}function ab(a,b,c){return 2>=arguments.length?Na.slice.call(a,b):Na.slice.call(a,b,c)}function bb(a,b){return a>b?1:a<b?-1:0};var cb,db,eb,fb,gb;function hb(){return ga.navigator?ga.navigator.userAgent:k}function ib(){return ga.navigator}fb=eb=db=cb=l;var lb;if(lb=hb()){var mb=ib();cb=0==lb.indexOf("Opera");db=!cb&&-1!=lb.indexOf("MSIE");eb=!cb&&-1!=lb.indexOf("WebKit");fb=!cb&&!eb&&"Gecko"==mb.product}var nb=cb,v=db,ob=fb,w=eb,pb=ib();gb=-1!=(pb&&pb.platform||"").indexOf("Mac");var qb=!!ib()&&-1!=(ib().appVersion||"").indexOf("X11"),rb;
a:{var sb="",tb;if(nb&&ga.opera)var ub=ga.opera.version,sb="function"==typeof ub?ub():ub;else if(ob?tb=/rv\:([^\);]+)(\)|;)/:v?tb=/MSIE\s+([^\);]+)(\)|;)/:w&&(tb=/WebKit\/(\S+)/),tb)var vb=tb.exec(hb()),sb=vb?vb[1]:"";if(v){var wb,xb=ga.document;wb=xb?xb.documentMode:i;if(wb>parseFloat(sb)){rb=String(wb);break a}}rb=sb}var yb={};
function z(a){var b;if(!(b=yb[a])){b=0;for(var c=Ca(String(rb)).split("."),d=Ca(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",m=d[g]||"",s=RegExp("(\\d*)(\\D*)","g"),y=RegExp("(\\d*)(\\D*)","g");do{var x=s.exec(h)||["","",""],C=y.exec(m)||["","",""];if(0==x[0].length&&0==C[0].length)break;b=((0==x[1].length?0:parseInt(x[1],10))<(0==C[1].length?0:parseInt(C[1],10))?-1:(0==x[1].length?0:parseInt(x[1],10))>(0==C[1].length?0:parseInt(C[1],10))?1:0)||((0==x[2].length)<
(0==C[2].length)?-1:(0==x[2].length)>(0==C[2].length)?1:0)||(x[2]<C[2]?-1:x[2]>C[2]?1:0)}while(0==b)}b=yb[a]=0<=b}return b}var zb={};function Ab(a){return zb[a]||(zb[a]=v&&!!document.documentMode&&document.documentMode>=a)};var Bb,Cb=!v||Ab(9),Db=!ob&&!v||v&&Ab(9)||ob&&z("1.9.1"),Eb=v&&!z("9"),Fb=v||nb||w;function Gb(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}function A(a,b){for(var c=Gb(a),d=ab(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)Va(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e}function B(a,b){var c=Gb(a),d=ab(arguments,1),e,g=d;e=Qa(c,function(a){return!Va(g,a)});a.className=e.join(" ");return e.length==c.length-d.length}function D(a,b){return Va(Gb(a),b)}function E(a,b,c){c?A(a,b):B(a,b)}function Hb(a,b){var c=!D(a,b);E(a,b,c);return c};function Ib(a,b){this.x=ja(a)?a:0;this.y=ja(b)?b:0}Ib.prototype.clone=function(){return new Ib(this.x,this.y)};function Jb(a,b){return new Ib(a.x-b.x,a.y-b.y)};function Kb(a,b){this.width=a;this.height=b}Kb.prototype.clone=function(){return new Kb(this.width,this.height)};Kb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Kb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Kb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Lb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Mb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Nb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ob(a){for(var b in a)return l;return j}function Pb(a,b){b in a&&delete a[b]}function Qb(a,b,c){b in a&&f(Error('The object already contains the key "'+b+'"'));a[b]=c}var Rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Sb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<Rb.length;g++)c=Rb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Tb(a){return a?new Ub(Vb(a)):Bb||(Bb=new Ub)}function F(a){return p(a)?document.getElementById(a):a}function Wb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Xb("*",a,b)}function G(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Wb(a,b)[0])||k}
function Xb(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=e=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Va(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
var Yb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Zb(a){a=(a||window).document;a=$b(a)?a.documentElement:a.body;return new Kb(a.clientWidth,a.clientHeight)}function H(a,b,c){return ac(document,arguments)}
function ac(a,b){var c=b[0],d=b[1];if(!Cb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ea(d.name),'"');if(d.type){c.push(' type="',Ea(d.type),'"');var e={};Sb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(p(d)?g.className=d:pa(d)?A.apply(k,[g].concat(d)):Lb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Yb?g.setAttribute(Yb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(p(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(e=b[c],qa(e)&&!(ta(e)&&0<e.nodeType)){var h=u,m;a:{if((m=e)&&"number"==typeof m.length){if(ta(m)){m="function"==typeof m.item||"string"==typeof m.item;break a}if(sa(m)){m="function"==typeof m.item;break a}}m=l}h(m?Ya(e):e,d)}else d(e)}return g}function $b(a){return"CSS1Compat"==a.compatMode}function bc(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function cc(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}function dc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function ec(a){return Db&&a.children!=i?a.children:Qa(a.childNodes,function(a){return 1==a.nodeType})}function fc(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function gc(a){if(Fb)return a.parentElement;a=a.parentNode;return ta(a)&&1==a.nodeType?a:k}
function hc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Vb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function ic(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else bc(a),a.appendChild(Vb(a).createTextNode(b))}var jc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},kc={IMG:" ",BR:"\n"};function lc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,ra(a)&&0<=a&&32768>a):l}
function mc(a){if(Eb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];nc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Eb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function oc(a){var b=[];nc(a,b,l);return b.join("")}
function nc(a,b,c){if(!(a.nodeName in jc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in kc)b.push(kc[a.nodeName]);else for(a=a.firstChild;a;)nc(a,b,c),a=a.nextSibling}function pc(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||D(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Ub(a){this.w=a||ga.document||document}n=Ub.prototype;n.Ha=Tb;
n.b=function(a){return p(a)?this.w.getElementById(a):a};n.M=function(a,b,c){return ac(this.w,arguments)};n.createElement=function(a){return this.w.createElement(a)};n.createTextNode=function(a){return this.w.createTextNode(a)};function qc(a){return $b(a.w)}function rc(a){var b=a.w,a=!w&&$b(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Ib(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.vh=ec;
function sc(a,b){return b.firstElementChild!=i?b.firstElementChild:fc(b.firstChild)}n.contains=hc;v&&z(8);var tc={};function uc(a,b,c){a.innerHTML=b(c||tc,i,i)}function I(a,b){var c;a:if(c=(new Ub(i)||Tb()).createElement("DIV"),c.innerHTML=a(b||tc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function J(a){return"object"===typeof a&&a&&0===a.Ql?a.content:String(a).replace(vc,wc)}
var xc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function wc(a){return xc[a]}var vc=/[\x00\x22\x26\x27\x3c\x3e]/g;function yc(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="note'+(a.Bf?" pic":"")+'">'+(a.Bf?'<div class="picture"><img class="image" src='+J(a.Bf)+' style="display: none"/></div>':"")+'<div class="action">'+(a.o?J(a.o.name)+" ":"")+J(a.action)+'</div><div class="content">'+J(a.content)+'</div><div class="close"></div></div>'+(a.link?"</a>":"")};function K(){0!=zc&&(this.Rl=Error().stack,Ac[ua(this)]=this)}var zc=0,Ac={};K.prototype.de=l;K.prototype.$=function(){if(!this.de&&(this.de=j,this.k(),0!=zc)){var a=ua(this);delete Ac[a]}};K.prototype.k=function(){this.rj&&Bc.apply(k,this.rj);if(this.ki)for(;this.ki.length;)this.ki.shift()()};function Cc(a){a&&"function"==typeof a.$&&a.$()}function Bc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];qa(d)?Bc.apply(k,d):Cc(d)}};var Dc=!v||Ab(9),Ec=!v||Ab(9),Fc=v&&!z("9");!w||z("528");ob&&z("1.9b")||v&&z("8")||nb&&z("9.5")||w&&z("528");ob&&!z("8")||v&&z("9");function Gc(a,b){this.type=a;this.currentTarget=this.target=b}n=Gc.prototype;n.k=aa();n.$=aa();n.ic=l;n.defaultPrevented=l;n.He=j;n.stopPropagation=function(){this.ic=j};n.preventDefault=function(){this.defaultPrevented=j;this.He=l};function Hc(a){a.preventDefault()};function Ic(a){Ic[" "](a);return a}Ic[" "]=la;function Jc(a,b){a&&this.init(a,b)}t(Jc,Gc);var Lc=[1,4,2];n=Jc.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.dg=l;n.ea=k;
n.init=function(a,b){var c=this.type=a.type;Gc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(ob){var e;a:{try{Ic(d.nodeName);e=j;break a}catch(g){}e=l}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=w||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=w||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.dg=gb?a.metaKey:a.ctrlKey;this.state=a.state;this.ea=a;a.defaultPrevented&&this.preventDefault();delete this.ic};function Mc(a){return(Dc?0==a.ea.button:"click"==a.type?j:!!(a.ea.button&Lc[0]))&&!(w&&gb&&a.ctrlKey)}
n.stopPropagation=function(){Jc.e.stopPropagation.call(this);this.ea.stopPropagation?this.ea.stopPropagation():this.ea.cancelBubble=j};n.preventDefault=function(){Jc.e.preventDefault.call(this);var a=this.ea;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,Fc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.Cj=da("ea");n.k=aa();function Nc(){}var Oc=0;n=Nc.prototype;n.key=0;n.kc=l;n.cf=l;n.init=function(a,b,c,d,e,g){sa(a)?this.Oh=j:a&&a.handleEvent&&sa(a.handleEvent)?this.Oh=l:f(Error("Invalid listener argument"));this.Cc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.le=g;this.cf=l;this.key=++Oc;this.kc=l};n.handleEvent=function(a){return this.Oh?this.Cc.call(this.le||this.src,a):this.Cc.handleEvent.call(this.Cc,a)};var Pc={},Qc={},Rc={},Sc={};
function L(a,b,c,d,e){if(b){if(pa(b)){for(var g=0;g<b.length;g++)L(a,b[g],c,d,e);return k}var d=!!d,h=Qc;b in h||(h[b]={R:0,xa:0});h=h[b];d in h||(h[d]={R:0,xa:0},h.R++);var h=h[d],m=ua(a),s;h.xa++;if(h[m]){s=h[m];for(g=0;g<s.length;g++)if(h=s[g],h.Cc==c&&h.le==e){if(h.kc)break;return s[g].key}}else s=h[m]=[],h.R++;var y=Tc,x=Ec?function(a){return y.call(x.src,x.key,a)}:function(a){a=y.call(x.src,x.key,a);if(!a)return a},g=x;g.src=a;h=new Nc;h.init(c,g,a,b,d,e);c=h.key;g.key=c;s.push(h);Pc[c]=h;Rc[m]||
(Rc[m]=[]);Rc[m].push(h);a.addEventListener?(a==ga||!a.gh)&&a.addEventListener(b,g,d):a.attachEvent(b in Sc?Sc[b]:Sc[b]="on"+b,g);return c}f(Error("Invalid event type"))}function Uc(a,b,c,d,e){if(pa(b))for(var g=0;g<b.length;g++)Uc(a,b[g],c,d,e);else a=L(a,b,c,d,e),Pc[a].cf=j}function Vc(a,b,c,d,e){if(pa(b))for(var g=0;g<b.length;g++)Vc(a,b[g],c,d,e);else if(d=!!d,a=Wc(a,b,d))for(g=0;g<a.length;g++)if(a[g].Cc==c&&a[g].capture==d&&a[g].le==e){Xc(a[g].key);break}}
function Xc(a){if(!Pc[a])return l;var b=Pc[a];if(b.kc)return l;var c=b.src,d=b.type,e=b.proxy,g=b.capture;c.removeEventListener?(c==ga||!c.gh)&&c.removeEventListener(d,e,g):c.detachEvent&&c.detachEvent(d in Sc?Sc[d]:Sc[d]="on"+d,e);c=ua(c);Rc[c]&&(e=Rc[c],Wa(e,b),0==e.length&&delete Rc[c]);b.kc=j;if(b=Qc[d][g][c])b.gi=j,Yc(d,g,c,b);delete Pc[a];return j}
function Yc(a,b,c,d){if(!d.te&&d.gi){for(var e=0,g=0;e<d.length;e++)d[e].kc?d[e].proxy.src=k:(e!=g&&(d[g]=d[e]),g++);d.length=g;d.gi=l;0==g&&(delete Qc[a][b][c],Qc[a][b].R--,0==Qc[a][b].R&&(delete Qc[a][b],Qc[a].R--),0==Qc[a].R&&delete Qc[a])}}function Wc(a,b,c){var d=Qc;return b in d&&(d=d[b],c in d&&(d=d[c],a=ua(a),d[a]))?d[a]:k}
function Zc(a,b,c,d,e){var g=1,b=ua(b);if(a[b]){a.xa--;a=a[b];a.te?a.te++:a.te=1;try{for(var h=a.length,m=0;m<h;m++){var s=a[m];s&&!s.kc&&(g&=$c(s,e)!==l)}}finally{a.te--,Yc(c,d,b,a)}}return Boolean(g)}function $c(a,b){a.cf&&Xc(a.key);return a.handleEvent(b)}
function Tc(a,b){if(!Pc[a])return j;var c=Pc[a],d=c.type,e=Qc;if(!(d in e))return j;var e=e[d],g,h;if(!Ec){g=b||ka("window.event");var m=j in e,s=l in e;if(m){if(0>g.keyCode||g.returnValue!=i)return j;a:{var y=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(x){y=j}if(y||g.returnValue==i)g.returnValue=j}}y=new Jc;y.init(g,this);g=j;try{if(m){for(var C=[],ca=y.currentTarget;ca;ca=ca.parentNode)C.push(ca);h=e[j];h.xa=h.R;for(var X=C.length-1;!y.ic&&0<=X&&h.xa;X--)y.currentTarget=C[X],g&=Zc(h,C[X],d,
j,y);if(s){h=e[l];h.xa=h.R;for(X=0;!y.ic&&X<C.length&&h.xa;X++)y.currentTarget=C[X],g&=Zc(h,C[X],d,l,y)}}else g=$c(c,y)}finally{C&&(C.length=0)}return g}d=new Jc(b,this);return g=$c(c,d)};function ad(a){K.call(this);this.N=a;this.P=[]}t(ad,K);var bd=[];function M(a,b,c,d,e){pa(c)||(bd[0]=c,c=bd);for(var g=0;g<c.length;g++){var h=L(b,c[g],d||a,e||l,a.N||a);a.P.push(h)}return a}function cd(a,b,c,d,e,g){if(pa(c))for(var h=0;h<c.length;h++)cd(a,b,c[h],d,e,g);else{a:{d=d||a;g=g||a.N||a;e=!!e;if(b=Wc(b,c,e))for(c=0;c<b.length;c++)if(!b[c].kc&&b[c].Cc==d&&b[c].capture==e&&b[c].le==g){b=b[c];break a}b=k}b&&(b=b.key,Xc(b),Wa(a.P,b))}return a}function dd(a){u(a.P,Xc);a.P.length=0}
ad.prototype.k=function(){ad.e.k.call(this);dd(this)};ad.prototype.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};function ed(){K.call(this)}t(ed,K);n=ed.prototype;n.gh=j;n.Ae=k;n.rg=ba("Ae");n.addEventListener=function(a,b,c,d){L(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Vc(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=Qc;if(b in c){if(p(a))a=new Gc(a,this);else if(a instanceof Gc)a.target=a.target||this;else{var d=a,a=new Gc(b,this);Sb(a,d)}var d=1,e,c=c[b],b=j in c,g;if(b){e=[];for(g=this;g;g=g.Ae)e.push(g);g=c[j];g.xa=g.R;for(var h=e.length-1;!a.ic&&0<=h&&g.xa;h--)a.currentTarget=e[h],d&=Zc(g,e[h],a.type,j,a)&&a.He!=l}if(l in c)if(g=c[l],g.xa=g.R,b)for(h=0;!a.ic&&h<e.length&&g.xa;h++)a.currentTarget=e[h],d&=Zc(g,e[h],a.type,l,a)&&a.He!=l;else for(e=this;!a.ic&&e&&
g.xa;e=e.Ae)a.currentTarget=e,d&=Zc(g,e,a.type,l,a)&&a.He!=l;a=Boolean(d)}else a=j;return a};n.k=function(){ed.e.k.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Lb(Rc,function(d){for(var e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Xc(g.key),b++}});else{var d=ua(this);if(Rc[d])for(var d=Rc[d],e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Xc(g.key),b++}}this.Ae=k};function fd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}fd.prototype.clone=function(){return new fd(this.top,this.right,this.bottom,this.left)};fd.prototype.contains=function(a){return!this||!a?l:a instanceof fd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function gd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}gd.prototype.clone=function(){return new gd(this.left,this.top,this.width,this.height)};gd.prototype.contains=function(a){return a instanceof gd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function hd(a,b,c){p(b)?id(a,c,b):Lb(b,za(id,a))}function id(a,b,c){a.style[Ma(c)]=b}function jd(a,b){var c=Vb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function kd(a,b){return a.currentStyle?a.currentStyle[b]:k}function ld(a,b){return jd(a,b)||kd(a,b)||a.style&&a.style[b]}
function md(a){var b=a.getBoundingClientRect();v&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function nd(a){if(v&&!Ab(8))return a.offsetParent;for(var b=Vb(a),c=ld(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=ld(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function od(a){for(var b=new fd(0,Infinity,Infinity,0),c=Tb(a),d=c.w.body,e=c.w.documentElement,g=!w&&$b(c.w)?c.w.documentElement:c.w.body;a=nd(a);)if((!v||0!=a.clientWidth)&&(!w||0!=a.clientHeight||a!=d)&&a!=d&&a!=e&&"visible"!=ld(a,"overflow")){var h=pd(a),m;m=a;if(ob&&!z("1.9")){var s=parseFloat(jd(m,"borderLeftWidth"));if(qd(m))var y=m.offsetWidth-m.clientWidth-s-parseFloat(jd(m,"borderRightWidth")),s=s+y;m=new Ib(s,parseFloat(jd(m,"borderTopWidth")))}else m=new Ib(m.clientLeft,m.clientTop);h.x+=
m.x;h.y+=m.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=Zb(c.w.parentWindow||c.w.defaultView);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:k}
function pd(a){var b,c=Vb(a),d=ld(a,"position"),e=ob&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Ib(0,0),h;b=c?Vb(c):document;h=v&&!Ab(9)&&!qc(Tb(b))?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=md(a),a=rc(Tb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=
b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(w&&"fixed"==ld(b,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(nb||w&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=nd(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!nb||"TR"!=b.tagName)g.y-=b.scrollTop}return g}function rd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function sd(a,b){a.style.height=rd(b,j)}
function N(a){if("none"!=ld(a,"display"))return td(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=td(a);b.display=c;b.position=e;b.visibility=d;return a}function td(a){var b=a.offsetWidth,c=a.offsetHeight,d=w&&!b&&!c;return(!ja(b)||d)&&a.getBoundingClientRect?(a=md(a),new Kb(a.right-a.left,a.bottom-a.top)):new Kb(b,c)}
function ud(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function O(a,b){a.style.display=b?"":"none"}function qd(a){return"rtl"==ld(a,"direction")}var vd=ob?"MozUserSelect":w?"WebkitUserSelect":k;
function wd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function xd(a,b){if(v){var c=wd(a,kd(a,b+"Left")),d=wd(a,kd(a,b+"Right")),e=wd(a,kd(a,b+"Top")),g=wd(a,kd(a,b+"Bottom"));return new fd(e,d,g,c)}c=jd(a,b+"Left");d=jd(a,b+"Right");e=jd(a,b+"Top");g=jd(a,b+"Bottom");return new fd(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var yd={thin:2,medium:4,thick:6};function zd(a,b){if("none"==kd(a,b+"Style"))return 0;var c=kd(a,b+"Width");return c in yd?yd[c]:wd(a,c)}
function Ad(a){if(v){var b=zd(a,"borderLeft"),c=zd(a,"borderRight"),d=zd(a,"borderTop"),a=zd(a,"borderBottom");return new fd(d,c,a,b)}b=jd(a,"borderLeftWidth");c=jd(a,"borderRightWidth");d=jd(a,"borderTopWidth");a=jd(a,"borderBottomWidth");return new fd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Bd=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Cd(){}ma(Cd);Cd.prototype.jk=0;Cd.a();function Q(a){K.call(this);this.Tb=a||Tb();this.Ja=Dd}t(Q,ed);Q.prototype.Sj=Cd.a();var Dd=k;function Ed(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}f(Error("Invalid component state"))}n=Q.prototype;n.ga=k;n.U=l;n.d=k;n.Ja=k;n.V=k;n.J=k;n.Z=k;n.ba=k;n.bj=l;
function Fd(a){return a.ga||(a.ga=":"+(a.Sj.jk++).toString(36))}n.b=da("d");n.i=function(){return this.xc||(this.xc=new ad(this))};n.Ke=function(a){this==a&&f(Error("Unable to set parent component"));a&&(this.J&&this.ga&&this.J.ba&&this.ga&&(this.ga in this.J.ba&&this.J.ba[this.ga])&&this.J!=a)&&f(Error("Unable to set parent component"));this.J=a;Q.e.rg.call(this,a)};n.getParent=da("J");n.rg=function(a){this.J&&this.J!=a&&f(Error("Method not supported"));Q.e.rg.call(this,a)};n.Ha=da("Tb");
n.M=function(){this.d=this.Tb.createElement("div")};function Gd(a,b){a.U&&f(Error("Component already rendered"));a.d||a.M();b?b.insertBefore(a.d,k):a.Tb.w.body.appendChild(a.d);(!a.J||a.J.U)&&a.z()}n.h=function(a){this.U&&f(Error("Component already rendered"));if(a&&this.Ob(a)){this.bj=j;if(!this.Tb||this.Tb.w!=Vb(a))this.Tb=Tb(a);this.q(a);this.z()}else f(Error("Invalid element to decorate"))};n.Ob=ea(j);n.q=ba("d");n.z=function(){this.U=j;Hd(this,function(a){!a.U&&a.b()&&a.z()})};
n.Xb=function(){Hd(this,function(a){a.U&&a.Xb()});this.xc&&dd(this.xc);this.U=l};n.k=function(){Q.e.k.call(this);this.U&&this.Xb();this.xc&&(this.xc.$(),delete this.xc);Hd(this,function(a){a.$()});!this.bj&&this.d&&dc(this.d);this.J=this.V=this.d=this.ba=this.Z=k};
function Id(a,b){var c=a.Z?a.Z.length:0;b.U&&!a.U&&f(Error("Component already rendered"));(0>c||c>(a.Z?a.Z.length:0))&&f(Error("Child component index out of bounds"));if(!a.ba||!a.Z)a.ba={},a.Z=[];if(b.getParent()==a){var d=Fd(b);a.ba[d]=b;Wa(a.Z,b)}else Qb(a.ba,Fd(b),b);b.Ke(a);$a(a.Z,c,0,b);b.U&&a.U&&b.getParent()==a?(d=a.Ta(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.U&&(!b.U&&b.d&&b.d.parentNode)&&b.z()}n.Ta=da("d");n.Ph=function(){this.Ja==k&&(this.Ja=qd(this.U?this.d:this.Tb.w.body));return this.Ja};
n.mc=function(a){this.U&&f(Error("Component already rendered"));this.Ja=a};function Hd(a,b){a.Z&&u(a.Z,b,i)}n.removeChild=function(a,b){if(a){var c=p(a)?a:Fd(a),a=this.ba&&c?(c in this.ba?this.ba[c]:i)||k:k;c&&a&&(Pb(this.ba,c),Wa(this.Z,a),b&&(a.Xb(),a.d&&dc(a.d)),a.Ke(k))}a||f(Error("Child is not in parent component"));return a};function Jd(){Q.call(this)}t(Jd,Q);Jd.prototype.M=function(){this.d=H("div",{id:"notify"})};Jd.prototype.q=function(a){Jd.e.q.call(this,a);Kd.a().subscribe(Ld,function(a,c,d,e,g){this.Ne(j,a,c,d,e,g)},this);Kd.a().subscribe(Md,function(a,c,d,e,g){this.Ne(l,a,c,d,e,g)},this)};
Jd.prototype.Ne=function(a,b,c,d,e,g){var h=I(yc,{action:b,content:c,o:d,Bf:e,link:g}),m=G("image",h);G("close",h);M(M(this.i(),G("close",h),"click",function(a){a.preventDefault();a.stopPropagation();dc(h)}),m,"load",function(){O(m,j);R(function(){m.style.marginLeft=-1*m.clientWidth/2+"px";m.style.marginTop=-1*m.clientHeight/2+"px"})});this.b().appendChild(h);var s=G("note",h);R(function(){s&&(A(s,"show"),a?R(function(){B(s,"show");A(s,"fade-out");R(function(){dc(h)},5100)},3E3):R(function(){A(s,
"dim")},3E3))})};function S(){K.call(this);this.Ka=[];this.Jb={}}t(S,K);n=S.prototype;n.Sh=1;n.De=0;n.subscribe=function(a,b,c){var d=this.Jb[a];d||(d=this.Jb[a]=[]);var e=this.Sh;this.Ka[e]=a;this.Ka[e+1]=b;this.Ka[e+2]=c;this.Sh=e+3;d.push(e);return e};n.Yi=function(a){if(0!=this.De)return this.xd||(this.xd=[]),this.xd.push(a),l;var b=this.Ka[a];if(b){var c=this.Jb[b];c&&Wa(c,a);delete this.Ka[a];delete this.Ka[a+1];delete this.Ka[a+2]}return!!b};
n.c=function(a,b){var c=this.Jb[a];if(c){this.De++;for(var d=ab(arguments,1),e=0,g=c.length;e<g;e++){var h=c[e];this.Ka[h+1].apply(this.Ka[h+2],d)}this.De--;if(this.xd&&0==this.De)for(;c=this.xd.pop();)this.Yi(c)}};n.clear=function(a){if(a){var b=this.Jb[a];b&&(u(b,this.Yi,this),delete this.Jb[a])}else this.Ka.length=0,this.Jb={}};n.k=function(){S.e.k.call(this);delete this.Ka;delete this.Jb;delete this.xd};function Kd(){S.call(this)}t(Kd,S);ma(Kd);var Ld="flash",Md="show";function Nd(a){this.id=a.id;this.L=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Od(a){S.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.$b=a.host_id;this.Rj="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.live=!!a.live;this.Wf=[];this.Fk=k;this.nh=l;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.ca=a.publisher&&new Nd(a.publisher);this.jc=a.published&&Pd(a.published+"Z");this.nb="http://i.ytimg.com/vi/"+this.$b+"/0.jpg";this.Ag="http://i.ytimg.com/vi/"+this.$b+"/1.jpg";this.rm="http://i.ytimg.com/vi/"+
this.$b+"/2.jpg";this.sm="http://i.ytimg.com/vi/"+this.$b+"/3.jpg";this.qm=new Kb(480,360);this.Qi=37;this.gb=[];this.Xi=[];this.bd=a.comment_count||0;this.om=a.star_count||0;this.ak=a.like_count||0;this.Vl=a.dislike_count||0;this.Je=[];this.Cb={};this.pj=a.collection_id;this.subscribe(Qd,this.Mb,this);this.subscribe(Rd,this.Kk,this);this.subscribe(Sd,this.Ze,this)}t(Od,S);function Td(a){return a.jc.getMonth()+1+"/"+a.jc.getDate()+"/"+a.jc.getYear()}var Qd="add-comment",Rd="remove-comment",Sd="watching";
Od.prototype.We=function(a){Ta(this.Wf,function(b){return a.id==b.id})||this.Wf.push(a)};Od.prototype.Mb=function(a){if(a.I){var b=Ta(this.gb,function(b){return b.id==a.I});b&&b.Fe.push(a)}else this.gb.push(a);this.bd+=1};Od.prototype.Kk=function(a){T("/_comment",Ud(),"POST","delete=true&id="+a);Xa(this.gb,function(b){return b.id==a});this.bd-=1};
Od.prototype.Ze=function(a,b,c){c?(Pb(this.Cb,a.id),a.Qa=k):(this.Cb[a.id]=a,a.Qa=this,a.id!=U.a().j.id&&Kd.a().c(Ld,"is watching "+(b?b.name:""),this.name,a,this.Ag,"#info:"+this.id))};function Vd(){S.call(this);this.Nf={}}t(Vd,S);ma(Vd);function Wd(a,b){var c=a.get(b.id);c||(c=new Od(b),a.add(c));return c}Vd.prototype.get=function(a){return a in this.Nf?this.Nf[a]:i};Vd.prototype.add=function(a){this.Nf[a.id]=a};var Xd={sl:["BC","AD"],rl:["Before Christ","Anno Domini"],ul:"JFMAMJJASOND".split(""),Cl:"JFMAMJJASOND".split(""),tl:"January February March April May June July August September October November December".split(" "),Bl:"January February March April May June July August September October November December".split(" "),yl:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),El:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Il:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Gl:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Al:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Fl:"Sun Mon Tue Wed Thu Fri Sat".split(" "),vl:"SMTWTFS".split(""),Dl:"SMTWTFS".split(""),zl:["Q1","Q2","Q3","Q4"],xl:["1st quarter","2nd quarter","3rd quarter","4th quarter"],pl:["AM","PM"],ql:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Hl:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],dj:6,Jl:[5,6],ej:5};var Yd=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,Zd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,$d=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function Pd(a){var b=new ae(2E3),a=Ca(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(Yd);if(d){var e=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var m=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new be(ce,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new be(ce,(4>=d?1-d:8-d)+(Number(m)+7*(Number(c)-1))-1))):(e&&(b.setDate(1),b.setMonth(e-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match($d),m=0,c&&("Z"!=
c[0]&&(m=60*c[2]+Number(c[3]),m*="-"==c[1]?1:-1),m-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(Zd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=m&&b.setTime(b.getTime()+6E4*m),c=j):c=l;return c?b:k}
function be(a,b,c,d,e,g){p(a)?(this.Na=a==de?b:0,this.Ia=a==ee?b:0,this.Ea=a==ce?b:0,this.ua=a==fe?b:0,this.va=a==ge?b:0,this.ya=a==he?b:0):(this.Na=a||0,this.Ia=b||0,this.Ea=c||0,this.ua=d||0,this.va=e||0,this.ya=g||0)}
be.prototype.Nd=function(a){var b=Math.min(this.Na,this.Ia,this.Ea,this.ua,this.va,this.ya),c=Math.max(this.Na,this.Ia,this.Ea,this.ua,this.va,this.ya);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Na||a)&&c.push(Math.abs(this.Na)+"Y");(this.Ia||a)&&c.push(Math.abs(this.Ia)+"M");(this.Ea||a)&&c.push(Math.abs(this.Ea)+"D");if(this.ua||this.va||this.ya||a)c.push("T"),(this.ua||a)&&c.push(Math.abs(this.ua)+"H"),(this.va||a)&&c.push(Math.abs(this.va)+"M"),
(this.ya||a)&&c.push(Math.abs(this.ya)+"S");return c.join("")};be.prototype.clone=function(){return new be(this.Na,this.Ia,this.Ea,this.ua,this.va,this.ya)};var de="y",ee="m",ce="d",fe="h",ge="n",he="s";be.prototype.add=function(a){this.Na+=a.Na;this.Ia+=a.Ia;this.Ea+=a.Ea;this.ua+=a.ua;this.va+=a.va;this.ya+=a.ya};
function ie(a,b,c){ra(a)?(this.p=new Date(a,b||0,c||1),je(this,c||1)):ta(a)?(this.p=new Date(a.getFullYear(),a.getMonth(),a.getDate()),je(this,a.getDate())):(this.p=new Date(r()),this.p.setHours(0),this.p.setMinutes(0),this.p.setSeconds(0),this.p.setMilliseconds(0))}n=ie.prototype;n.fe=Xd.dj;n.he=Xd.ej;n.clone=function(){var a=new ie(this.p);a.fe=this.fe;a.he=this.he;return a};n.getFullYear=function(){return this.p.getFullYear()};n.getYear=function(){return this.getFullYear()};n.getMonth=function(){return this.p.getMonth()};
n.getDate=function(){return this.p.getDate()};n.getTime=function(){return this.p.getTime()};n.getDay=function(){return this.p.getDay()};n.getUTCHours=function(){return this.p.getUTCHours()};n.getTimezoneOffset=function(){return this.p.getTimezoneOffset()};function ke(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+La(c)+":"+La(b);return a}n.set=function(a){this.p=new Date(a.getFullYear(),a.getMonth(),a.getDate())};n.setFullYear=function(a){this.p.setFullYear(a)};
n.setMonth=function(a){this.p.setMonth(a)};n.setDate=function(a){this.p.setDate(a)};n.setTime=function(a){this.p.setTime(a)};
n.add=function(a){if(a.Na||a.Ia){var b=this.getMonth()+a.Ia+12*a.Na,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Ea&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Ea),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),je(this,a.getDate()))};n.Nd=function(a,b){return[this.getFullYear(),La(this.getMonth()+1),La(this.getDate())].join(a?"-":"")+(b?ke(this):"")};n.toString=function(){return this.Nd()};function je(a,b){a.getDate()!=b&&a.p.setUTCHours(a.p.getUTCHours()+(a.getDate()<b?1:-1))}n.valueOf=function(){return this.p.valueOf()};function ae(a,b,c,d,e,g,h){this.p=ra(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():r())}t(ae,ie);n=ae.prototype;n.getHours=function(){return this.p.getHours()};
n.getMinutes=function(){return this.p.getMinutes()};n.getSeconds=function(){return this.p.getSeconds()};n.getUTCHours=function(){return this.p.getUTCHours()};n.setHours=function(a){this.p.setHours(a)};n.setMinutes=function(a){this.p.setMinutes(a)};n.setSeconds=function(a){this.p.setSeconds(a)};n.setMilliseconds=function(a){this.p.setMilliseconds(a)};n.setUTCHours=function(a){this.p.setUTCHours(a)};
n.add=function(a){ie.prototype.add.call(this,a);a.ua&&this.setHours(this.p.getHours()+a.ua);a.va&&this.setMinutes(this.p.getMinutes()+a.va);a.ya&&this.setSeconds(this.p.getSeconds()+a.ya)};n.Nd=function(a,b){var c=ie.prototype.Nd.call(this,a);return a?c+" "+La(this.getHours())+":"+La(this.getMinutes())+":"+La(this.getSeconds())+(b?ke(this):""):c+"T"+La(this.getHours())+La(this.getMinutes())+La(this.getSeconds())+(b?ke(this):"")};n.toString=function(){return this.Nd()};
n.clone=function(){var a=new ae(this.p);a.fe=this.fe;a.he=this.he;return a};function le(a,b){S.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?Wd(Vd.a(),d.media):c;Vd.a().add(this.media);this.time=d?Pd(d.time+"Z"):new ae;this.async=d?d.async:j;this.seek=d?d.seek:k}t(le,S);function me(a){return new le(i,a)};function ne(a){S.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.nl=a.welcomed;this.Hc=a.online;this.Ul=a.demo;this.Qa=a.last_seen?Wd(Od.a(),a.last_seen):k;this.history=[];this.Ki=[];this.L=Ba("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.fj=a.access_level;this.Kl=[];this.v=a.last_login?Pd(a.last_login+"Z"):k;this.lm=a.session_count;
this.Ml=a.ave_session?a.ave_session.toFixed(2):k;this.mm=a.show_guide!=i?a.show_guide:j;this.nm=a.show_sidebar!=i?a.show_sidebar:j;this.Hk=a.post_facebook!=i?a.post_facebook:j;this.yi=a.post_twitter!=i?a.post_twitter:j;this.subscribe(oe,function(){this.yi=j},this)}t(ne,S);function pe(){return U.a().j.fj==qe}ne.prototype.ge=function(){var a=this.name.split(" ");return a&&a.length?a[0]:this.name};function re(a,b){return Ta(a.Ki,function(a){return a.id==b.id})}var oe="twitter-auth",qe=2;function se(a,b,c,d,e){this.id=a;this.o=b;this.O=c;this.il=d;this.Pe=e||k;this.bi=[]}se.prototype.Je=function(a){this.bi.push(a);this.O&&(this.O.W&&this.O.T)&&(this.O.T.seek=k,this.O.T=k);T("/_seen",Ud(),"POST","media_id="+a.id+"&session_id="+this.id+"&async="+(this.O?this.O.W:l))};
se.prototype.end=function(a){this.Pe=a;a=(this.Pe.getTime()-this.il.getTime())/1E3;if(this.o.id==U.a().j.id&&this.O){te.a();var b=this.O,c=this.bi.length;U.a().$f.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",U.a().j.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",U.a().j.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",U.a().j.id,c]);_gaq.push(["_trackEvent","Users","Active",U.a().j.id,c]);_gaq.push(["_trackEvent","Users",b.id+
"-time",U.a().j.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",U.a().j.id,c]);b.W||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))}};function ue(a){S.call(this);this.id=a.id;this.name=a.name;this.W=a.my_channel;this.Qa=a.current_media?Wd(Vd.a(),a.current_media):k;this.Tl=a.current_seek;this.kb=[];this.Ad={};this.T=a.current_program&&new le(a.current_program);this.Vd=[];this.queue=[];this.Xa=0;this.Hc=a.online!=i?a.online:k;this.subscribe(ve,this.Ye,this);this.subscribe(we,this.hj,this);this.subscribe(xe,this.Ze,this);this.subscribe(ye,this.ll,this)}t(ue,S);n=ue.prototype;
n.Ye=function(a){this.kb.push(a);this.Ad[a.id]=a;a.time.getTime()+1E3*a.media.duration>this.Xa&&(this.Xa=a.time.getTime()+1E3*a.media.duration-12E4,ze(Ae.a(),this.Xa,q(this.Lf,this,this.Xa)),ze(Ae.a(),this.Xa+6E4,q(this.Lf,this,this.Xa+6E4)))};n.Lf=function(a){this.Xa<=a&&!this.W&&T("/_programming/"+this.id,q(function(a){a=V(a.target);a.length||ze(Ae.a(),r()+1E3,q(this.Lf,this,r()+1E3));u(a,function(a){if(!this.Ad[a.id]){var b=this.Ad[a.id];b||(b=new le(a),this.Ye(b));this.c(ve,b)}},this)},this))};
n.hj=function(a,b){b?(this.queue.push(a),Kd.a().c(Ld,"Added to queue",a.name,i,a.Ag,"#info:"+a.id),Be(te.a(),a),T("/_queue",Ud(),"POST","media_id="+a.id)):(Xa(this.queue,function(b){return b.id==a.id},this),T("/_queue",Ud(),"POST","media_id="+a.id+"&delete=1"))};n.Ze=function(a){this.Vd.push(a)};n.ll=function(a){var b=a.id in this.Ad?this.Ad[a.id]:i;b&&(b.time=Pd(a.time+"Z"))};
n.X=function(a){if(this.T&&this.T.async&&this.T.seek)return this.T;if(!this.kb.length)return k;var b=this.T;b||(b=this.kb[0],this.Rb=0);if(a)return this.kb[this.Rb+a];if(!this.W&&r()>=b.time.getTime()&&r()<b.time.getTime()+1E3*b.media.duration)return this.T=b;for(;r()>b.time.getTime()&&r()>=b.time.getTime()+1E3*b.media.duration;){this.T||(this.T=this.kb[0],this.Rb=0);this.kb.length>=this.Rb+1?(this.Rb++,a=this.kb[this.Rb],a=this.T=this.W?a&&a.seek?a:k:this.kb[this.Rb]):a=k;if(this.W){if(a&&a.async&&
a.seek)return this.T=a;if(!a)if(this.queue.length){a=this.queue[0];this.c(we,a,l);var c=me(a);Ce().c(ve,c);T("/_addprogram",Ud(),"POST","channel_id="+W.a().W.id+"&media_id="+a.id+"&now=true");a=c}else a=k}if(!a)break;b=a}return r()>=b.time.getTime()&&r()<b.time.getTime()+1E3*b.media.duration?this.T=b:k};var ve="add-program",we="add-queue",xe="add-viewer",ye="update-program";function U(){S.call(this);this.Jg={};this.th=l;this.uf=[];this.$f=[];this.subscribe(De,function(a,b){a.Hc=b},this)}t(U,S);ma(U);U.prototype.add=function(a){this.Jg[a.id]=a};U.prototype.get=function(a){return this.Jg[a]};function Ee(a,b){var c=a.get(b.id);c||(c=new ne(b),a.add(c));c.Hc=b.online;c.Qa=b.last_seen?Wd(Vd.a(),b.last_seen):c.Qa;return c}U.prototype.search=function(a){return Qa(Mb(this.Jg),function(b){return 0==Da(a,b.name.substr(0,a.length))},this)};var De="online";function Fe(a,b){K.call(this);this.ia=a||1;this.Md=b||Ge;this.bf=q(this.dl,this);this.Jf=r()}t(Fe,ed);Fe.prototype.enabled=l;var Ge=ga.window;n=Fe.prototype;n.ka=k;n.dl=function(){if(this.enabled){var a=r()-this.Jf;0<a&&a<0.8*this.ia?this.ka=this.Md.setTimeout(this.bf,this.ia-a):(this.dispatchEvent(He),this.enabled&&(this.ka=this.Md.setTimeout(this.bf,this.ia),this.Jf=r()))}};n.start=function(){this.enabled=j;this.ka||(this.ka=this.Md.setTimeout(this.bf,this.ia),this.Jf=r())};
n.stop=function(){this.enabled=l;this.ka&&(this.Md.clearTimeout(this.ka),this.ka=k)};n.k=function(){Fe.e.k.call(this);this.stop();delete this.Md};var He="tick";function R(a,b,c){sa(a)?c&&(a=q(a,c)):a&&"function"==typeof a.handleEvent?a=q(a.handleEvent,a):f(Error("Invalid listener argument"));return 2147483647<b?-1:Ge.setTimeout(a,b||0)};function Ie(a){if("function"==typeof a.ie)return a.ie();if(p(a))return a.split("");if(qa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Mb(a)}function Je(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(qa(a)||p(a))u(a,b,c);else{var d;if("function"==typeof a.vf)d=a.vf();else if("function"!=typeof a.ie)if(qa(a)||p(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Nb(a);else d=i;for(var e=Ie(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function Ke(a,b){this.xb={};this.P=[];var c=arguments.length;if(1<c){c%2&&f(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ke?(c=a.vf(),d=a.ie()):(c=Nb(a),d=Mb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}n=Ke.prototype;n.R=0;n.$i=0;n.ie=function(){Le(this);for(var a=[],b=0;b<this.P.length;b++)a.push(this.xb[this.P[b]]);return a};n.vf=function(){Le(this);return this.P.concat()};
n.clear=function(){this.xb={};this.$i=this.R=this.P.length=0};function Le(a){if(a.R!=a.P.length){for(var b=0,c=0;b<a.P.length;){var d=a.P[b];Object.prototype.hasOwnProperty.call(a.xb,d)&&(a.P[c++]=d);b++}a.P.length=c}if(a.R!=a.P.length){for(var e={},c=b=0;b<a.P.length;)d=a.P[b],Object.prototype.hasOwnProperty.call(e,d)||(a.P[c++]=d,e[d]=1),b++;a.P.length=c}}n.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.xb,a)?this.xb[a]:b};
n.set=function(a,b){Object.prototype.hasOwnProperty.call(this.xb,a)||(this.R++,this.P.push(a),this.$i++);this.xb[a]=b};n.clone=function(){return new Ke(this)};function Me(a){return Ne(a||arguments.callee.caller,[])}
function Ne(a,b){var c=[];if(Va(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Oe(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Oe(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Ne(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Oe(a){if(Pe[a])return Pe[a];a=String(a);if(!Pe[a]){var b=/function ([^\(]+)/.exec(a);Pe[a]=b?b[1]:"[Anonymous]"}return Pe[a]}var Pe={};function Qe(a,b,c,d,e){this.reset(a,b,c,d,e)}Qe.prototype.Pk=0;Qe.prototype.kh=k;Qe.prototype.jh=k;var Re=0;Qe.prototype.reset=function(a,b,c,d,e){this.Pk="number"==typeof e?e:Re++;this.tm=d||r();this.qd=a;this.gk=b;this.fm=c;delete this.kh;delete this.jh};Qe.prototype.Ei=ba("qd");function Se(a){this.hk=a}Se.prototype.J=k;Se.prototype.qd=k;Se.prototype.Z=k;Se.prototype.Eh=k;function Te(a,b){this.name=a;this.value=b}Te.prototype.toString=da("name");var Ue=new Te("SEVERE",1E3),Ve=new Te("WARNING",900),We=new Te("INFO",800),Xe=new Te("CONFIG",700),Ye=new Te("FINE",500);n=Se.prototype;n.getParent=da("J");n.vh=function(){this.Z||(this.Z={});return this.Z};n.Ei=ba("qd");function Ze(a){return a.qd?a.qd:a.J?Ze(a.J):k}
n.log=function(a,b,c){if(a.value>=Ze(this).value){a=this.Dj(a,b,c);b="log:"+a.gk;ga.console&&(ga.console.timeStamp?ga.console.timeStamp(b):ga.console.markTimeline&&ga.console.markTimeline(b));ga.msWriteProfilerMark&&ga.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Eh)for(var e=0,g=i;g=c.Eh[e];e++)g(d);b=b.getParent()}}};
n.Dj=function(a,b,c){var d=new Qe(a,String(b),this.hk);if(c){d.kh=c;var e;var g=arguments.callee.caller;try{var h;var m=ka("window.location.href");if(p(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var s,y,x=l;try{s=c.lineNumber||c.em||"Not available"}catch(C){s="Not available",x=j}try{y=c.fileName||c.filename||c.sourceURL||m}catch(ca){y="Not available",x=j}h=x||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:s,
fileName:y,stack:c.stack||"Not available"}:c}e="Message: "+Ea(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ea(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ea(Me(g)+"-> ")}catch(X){e="Exception trying to expose exception! You win, we lose. "+X}d.jh=e}return d};function $e(a,b){a.log(Ue,b,i)}n.info=function(a,b){this.log(We,a,b)};function af(a,b){a.log(Ye,b,i)}var bf={},cf=k;
function df(a){cf||(cf=new Se(""),bf[""]=cf,cf.Ei(Xe));var b;if(!(b=bf[a])){b=new Se(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=df(a.substr(0,c));c.vh()[d]=b;b.J=c;bf[a]=b}return b};function ef(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}f(Error("Invalid JSON string: "+a))};function ff(){}ff.prototype.Yd=k;var gf;function hf(){}t(hf,ff);function jf(a){return(a=kf(a))?new ActiveXObject(a):new XMLHttpRequest}function lf(a){var b={};kf(a)&&(b[0]=j,b[1]=j);return b}
function kf(a){if(!a.Ih&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Ih=d}catch(e){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Ih}gf=new hf;var mf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function nf(a){K.call(this);this.headers=new Ke;this.Uc=a||k}t(nf,ed);nf.prototype.B=df("goog.net.XhrIo");var of=/^https?$/i,pf=[];function T(a,b,c,d){var e=new nf;pf.push(e);b&&L(e,"complete",b);L(e,"ready",za(qf,e));e.send(a,c,d,i)}function qf(a){a.$();Wa(pf,a)}n=nf.prototype;n.pb=l;n.r=k;n.Ue=k;n.pd="";n.Vh="";n.nd=0;n.od="";n.qf=l;n.me=l;n.Cf=l;n.ac=l;n.Oe=0;n.nc=k;n.Ge="";n.ol=l;
n.send=function(a,b,c,d){this.r&&f(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.pd=a;this.od="";this.nd=0;this.Vh=b;this.qf=l;this.pb=j;this.r=this.Uc?jf(this.Uc):jf(gf);this.Ue=this.Uc?this.Uc.Yd||(this.Uc.Yd=lf(this.Uc)):gf.Yd||(gf.Yd=lf(gf));this.r.onreadystatechange=q(this.pi,this);try{af(this.B,rf(this,"Opening Xhr")),this.Cf=j,this.r.open(b,a,j),this.Cf=l}catch(e){af(this.B,rf(this,"Error opening Xhr: "+e.message));tf(this,e);return}var a=c||
"",g=this.headers.clone();d&&Je(d,function(a,b){g.set(b,a)});d=ga.FormData&&a instanceof ga.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.xb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Je(g,function(a,b){this.r.setRequestHeader(b,a)},this);this.Ge&&(this.r.responseType=this.Ge);"withCredentials"in this.r&&(this.r.withCredentials=this.ol);try{this.nc&&(Ge.clearTimeout(this.nc),this.nc=k),0<this.Oe&&(af(this.B,rf(this,"Will abort after "+
this.Oe+"ms if incomplete")),this.nc=Ge.setTimeout(q(this.el,this),this.Oe)),af(this.B,rf(this,"Sending request")),this.me=j,this.r.send(a),this.me=l}catch(h){af(this.B,rf(this,"Send error: "+h.message)),tf(this,h)}};n.el=function(){"undefined"!=typeof fa&&this.r&&(this.od="Timed out after "+this.Oe+"ms, aborting",this.nd=8,af(this.B,rf(this,this.od)),this.dispatchEvent("timeout"),this.abort(8))};function tf(a,b){a.pb=l;a.r&&(a.ac=j,a.r.abort(),a.ac=l);a.od=b;a.nd=5;uf(a);vf(a)}
function uf(a){a.qf||(a.qf=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}n.abort=function(a){this.r&&this.pb&&(af(this.B,rf(this,"Aborting")),this.pb=l,this.ac=j,this.r.abort(),this.ac=l,this.nd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vf(this))};n.k=function(){this.r&&(this.pb&&(this.pb=l,this.ac=j,this.r.abort(),this.ac=l),vf(this,j));nf.e.k.call(this)};n.pi=function(){!this.Cf&&!this.me&&!this.ac?this.vk():wf(this)};n.vk=function(){wf(this)};
function wf(a){if(a.pb&&"undefined"!=typeof fa)if(a.Ue[1]&&4==xf(a)&&2==yf(a))af(a.B,rf(a,"Local request error detected and ignored"));else if(a.me&&4==xf(a))Ge.setTimeout(q(a.pi,a),0);else if(a.dispatchEvent("readystatechange"),4==xf(a)){af(a.B,rf(a,"Request complete"));a.pb=l;try{var b=yf(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var e;if(e=0===b){var g=String(a.pd).match(mf)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);e=!of.test(g?g.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.nd=6;var m;try{m=2<xf(a)?a.r.statusText:""}catch(s){af(a.B,"Can not get status: "+s.message),m=""}a.od=m+" ["+yf(a)+"]";uf(a)}}finally{vf(a)}}}
function vf(a,b){if(a.r){var c=a.r,d=a.Ue[0]?la:k;a.r=k;a.Ue=k;a.nc&&(Ge.clearTimeout(a.nc),a.nc=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){$e(a.B,"Problem encountered resetting onreadystatechange: "+e.message)}}}n.sb=function(){return!!this.r};function xf(a){return a.r?a.r.readyState:0}function yf(a){try{return 2<xf(a)?a.r.status:-1}catch(b){return a.B.log(Ve,"Can not get status: "+b.message,i),-1}}function V(a){if(a.r)return ef(a.r.responseText)}
function zf(a){try{if(!a.r)return k;if("response"in a.r)return a.r.response;switch(a.Ge){case "":case "text":return a.r.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.r)return a.r.mozResponseArrayBuffer}$e(a.B,"Response type "+a.Ge+" is not supported on this browser");return k}catch(b){return af(a.B,"Can not get response: "+b.message),k}}function rf(a,b){return b+" ["+a.Vh+" "+a.pd+" "+yf(a)+"]"};function W(){S.call(this);this.ad=[];this.pc={};this.subscribe(Af,this.Zc,this);this.subscribe(Bf,this.Ig,this)}t(W,S);ma(W);n=W.prototype;n.get=function(a){return this.pc[a]};function Cf(a){if(a.K&&a.K.X())return a.K;if(a.qe&&a.qe.X())return a.qe;for(var b=k,c=k,d=0;!c&&d<a.ad.length;)c=(b=!a.ad[d].W?a.ad[d]:k)&&b.X(),d++;return b}n.Kf=function(a){Lb(a,q(function(a){this.We(a)},this))};n.We=function(a){var b=new ue(a);this.ad.push(b);this.pc[a.id]=b;b.W&&(this.W=b);this.c(Df,b);return b};
n.Zc=function(a,b){if(a&&!this.K||a&&this.K&&this.K.id!=a.id){this.qe=this.K;this.K=a;this.Ig(a.X());var c=a.X(),c=c&&!Ob(c.media.Cb);T("/_changechannel",Ud(),"POST","channel="+a.id+"&friends="+c+(b?"&forced=true":""));te.a().Zc(a,this.qe)}};n.Ig=function(a){this.K&&(this.u&&u(this.K.Vd,function(a){Pb(this.u.media.Cb,a.o.id)},this),a&&(this.u=a,u(this.K.Vd,function(b){b.Pe||(a.media.Cb[b.o.id]=b.o)})))};
function Ce(){var a=W.a();if(!a.W){var b=U.a().j;a.W=new ue({id:b.id,name:b.name.split(" ")[0]+"'s Channel"})}return a.W}var Af="change-channel",Bf="next-program",Df="add-channel";function Ef(){S.call(this);this.subscribe(Ff,function(a){Ce().c(ve,a);T("/_addprogram",Ud(),"POST","channel_id="+W.a().W.id+"&media_id="+a.media.id+"&async=true");Be(te.a(),a.media)},this);this.subscribe(Gf,function(a){T("/_started",Ud(),"POST","media_id="+a.id)},this)}t(Ef,S);ma(Ef);Ef.prototype.sg=ba("n");Ef.prototype.X=da("u");Ef.prototype.getCurrentTime=function(){return this.n&&this.n.getCurrentTime?this.n.getCurrentTime():0};
Ef.prototype.wh=function(){return this.n&&this.n.getCurrentTime?this.n.getCurrentTime():0};var Ff="play-async",Gf="playing";function Hf(){K.call(this);this.m=If;this.gd=this.startTime=k}t(Hf,ed);var If=0;Hf.prototype.Ab=function(){this.la("begin")};Hf.prototype.Bb=function(){this.la("end")};Hf.prototype.la=function(a){this.dispatchEvent(a)};function Jf(){Hf.call(this);this.queue=[]}t(Jf,Hf);Jf.prototype.add=function(a){Va(this.queue,a)||(this.queue.push(a),L(a,"finish",this.kk,l,this))};Jf.prototype.k=function(){u(this.queue,function(a){a.$()});this.queue.length=0;Jf.e.k.call(this)};function Kf(){Jf.call(this);this.Da=0}t(Kf,Jf);
Kf.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.m==If)this.Da<this.queue.length&&this.queue[this.Da].m!=If&&this.queue[this.Da].stop(l),this.Da=0,this.Ab();else if(1==this.m)return l;this.la("play");-1==this.m&&this.la("resume");this.startTime=r();this.gd=k;this.m=1;this.queue[this.Da].play(a);return j};
Kf.prototype.stop=function(a){this.m=If;this.gd=r();if(a)for(a=this.Da;a<this.queue.length;++a){var b=this.queue[a];b.m==If&&b.play();b.m==If||b.stop(j)}else this.Da<this.queue.length&&this.queue[this.Da].stop(l);this.la("stop");this.Bb()};Kf.prototype.kk=function(){1==this.m&&(this.Da++,this.Da<this.queue.length?this.queue[this.Da].play():(this.gd=r(),this.m=If,this.la("finish"),this.Bb()))};function Lf(a,b,c){K.call(this);this.wb=a;this.ia=b||0;this.N=c;this.df=q(this.ed,this)}t(Lf,K);n=Lf.prototype;n.ga=0;n.k=function(){Lf.e.k.call(this);this.stop();delete this.wb;delete this.N};n.start=function(a){this.stop();this.ga=R(this.df,ja(a)?a:this.ia)};n.stop=function(){this.sb()&&Ge.clearTimeout(this.ga);this.ga=0};n.ph=function(){this.stop();this.ed()};n.sb=function(){return 0!=this.ga};n.ed=function(){this.ga=0;this.wb&&this.wb.call(this.N)};var Ud;Ud=ea(k);var Mf={},Nf=k;function Of(a){a=ua(a);delete Mf[a];Ob(Mf)&&Nf&&Nf.stop()}function Pf(){Nf||(Nf=new Lf(function(){var a=r();Lb(Mf,function(c){Qf(c,a)});Ob(Mf)||Pf()},20));var a=Nf;a.sb()||a.start()};function Rf(a,b,c,d){Hf.call(this);(!pa(a)||!pa(b))&&f(Error("Start and end parameters must be arrays"));a.length!=b.length&&f(Error("Start and end points must be the same length"));this.Id=a;this.vj=b;this.duration=c;this.Ng=d;this.coords=[];this.Sd=l}t(Rf,Hf);n=Rf.prototype;n.qh=0;n.wa=0;n.Hf=k;
n.play=function(a){if(a||this.m==If)this.wa=0,this.coords=this.Id;else if(1==this.m)return l;Of(this);this.startTime=a=r();-1==this.m&&(this.startTime-=this.duration*this.wa);this.gd=this.startTime+this.duration;this.Hf=this.startTime;this.wa||this.Ab();this.la("play");-1==this.m&&this.la("resume");this.m=1;var b=ua(this);b in Mf||(Mf[b]=this);Pf();Qf(this,a);return j};n.stop=function(a){Of(this);this.m=If;a&&(this.wa=1);Sf(this,this.wa);this.la("stop");this.Bb()};n.wh=da("wa");
n.k=function(){this.m==If||this.stop(l);this.la("destroy");Rf.e.k.call(this)};function Qf(a,b){a.wa=(b-a.startTime)/(a.gd-a.startTime);1<=a.wa&&(a.wa=1);a.qh=1E3/(b-a.Hf);a.Hf=b;Sf(a,a.wa);1==a.wa?(a.m=If,Of(a),a.la("finish"),a.Bb()):1==a.m&&a.Vf()}function Sf(a,b){sa(a.Ng)&&(b=a.Ng(b));a.coords=Array(a.Id.length);for(var c=0;c<a.Id.length;c++)a.coords[c]=(a.vj[c]-a.Id[c])*b+a.Id[c]}n.Vf=function(){this.la("animate")};n.la=function(a){this.dispatchEvent(new Tf(a,this))};
function Tf(a,b){Gc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.Am=b.coords[2];this.duration=b.duration;this.wa=b.wh();this.cm=b.qh;this.state=b.m;this.Ll=b}t(Tf,Gc);function Uf(a,b,c,d,e){Rf.call(this,b,c,d,e);this.element=a}t(Uf,Rf);n=Uf.prototype;n.Qd=la;n.Ph=function(){ja(this.Ja)||(this.Ja=qd(this.element));return this.Ja};n.Vf=function(){this.Qd();Uf.e.Vf.call(this)};n.Bb=function(){this.Qd();Uf.e.Bb.call(this)};n.Ab=function(){this.Qd();Uf.e.Ab.call(this)};function Vf(a,b,c,d,e){(2!=b.length||2!=c.length)&&f(Error("Start and end points must be 2D"));Uf.apply(this,arguments)}t(Vf,Uf);
Vf.prototype.Qd=function(){if(this.Sd){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=qd(a)?ob?-b:!v||!z("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function Wf(a,b,c,d,e){ra(b)&&(b=[b]);ra(c)&&(c=[c]);Uf.call(this,a,b,c,d,e);(1!=b.length||1!=c.length)&&f(Error("Start and end points must be 1D"))}t(Wf,Uf);Wf.prototype.Qd=function(){ud(this.element,this.coords[0])};
Wf.prototype.show=function(){this.element.style.display=""};Wf.prototype.hide=function(){this.element.style.display="none"};function Xf(a,b,c){Wf.call(this,a,1,0,b,c)}t(Xf,Wf);Xf.prototype.Ab=function(){this.show();Xf.e.Ab.call(this)};Xf.prototype.Bb=function(){this.hide();Xf.e.Bb.call(this)};function Yf(a,b,c){Wf.call(this,a,0,1,b,c)}t(Yf,Wf);Yf.prototype.Ab=function(){this.show();Yf.e.Ab.call(this)};function Zf(a){return a*a*a}function $f(a){return 1-Math.pow(1-a,3)};function ag(a,b,c,d,e){if(!v&&(!w||!z("525")))return j;if(gb&&e)return bg(a);if(e&&!d||!c&&(17==b||18==b)||v&&d&&b==a)return l;switch(a){case 13:return!(v&&Ab(9));case 27:return!w}return bg(a)}function bg(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||w&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function cg(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function dg(){}var eg;ma(dg);n=dg.prototype;n.wc=aa();n.M=function(a){var b=a.Ha().M("div",fg(this,a).join(" "),a.Pa);gg(this,a,b);return b};n.Ta=function(a){return a};n.fd=function(a,b,c){if(a=a.b?a.b():a)if(v&&!z("7")){var d=hg(Gb(a),b);d.push(b);za(c?A:B,a).apply(k,d)}else E(a,b,c)};n.Ob=ea(j);
n.h=function(a,b){if(b.id){var c=b.id;a.J&&a.J.ba&&(Pb(a.J.ba,a.ga),Qb(a.J.ba,c,a));a.ga=c}(c=this.Ta(b))&&c.firstChild?(c=c.firstChild.nextSibling?Ya(c.childNodes):c.firstChild,a.Pa=c):a.Pa=k;var d=0,e=this.fa(),g=this.fa(),h=l,m=l,c=l,s=Gb(b);u(s,function(a){if(!h&&a==e)h=j,g==e&&(m=j);else if(!m&&a==g)m=j;else{var b=d;if(!this.Ni){this.ae||ig(this);var c=this.ae,s={},y;for(y in c)s[c[y]]=y;this.Ni=s}a=parseInt(this.Ni[a],10);d=b|(isNaN(a)?0:a)}},this);a.m=d;h||(s.push(e),g==e&&(m=j));m||s.push(g);
var y=a.Fa;y&&s.push.apply(s,y);if(v&&!z("7")){var x=hg(s);0<x.length&&(s.push.apply(s,x),c=j)}if(!h||!m||y||c)b.className=s.join(" ");gg(this,a,b);return b};n.Kh=function(a){a.Ph()&&this.mc(a.b(),j);a.isEnabled()&&this.Nc(a,a.Va())};function gg(a,b,c){b.isEnabled()||a.Ma(c,1,j);jg(b,8)&&a.Ma(c,8,j);b.da&16&&a.Ma(c,16,jg(b,16));b.da&64&&a.Ma(c,64,jg(b,64))}
n.Mc=function(a,b){var c=!b,d=v||nb?a.getElementsByTagName("*"):k;if(vd){if(c=c?"none":"",a.style[vd]=c,d)for(var e=0,g;g=d[e];e++)g.style[vd]=c}else if(v||nb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};n.mc=function(a,b){this.fd(a,this.fa()+"-rtl",b)};n.Ff=function(a){var b;return a.da&32&&(b=a.rb())?lc(b):l};
n.Nc=function(a,b){var c;if(a.da&32&&(c=a.rb())){if(!b&&a.ne()){try{c.blur()}catch(d){}a.ne()&&a.xh()}lc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};n.bb=function(a,b){O(a,b)};n.ja=function(a,b,c){var d=a.b();if(d){var e=kg(this,b);e&&this.fd(a,e,c);this.Ma(d,b,c)}};n.Ma=function(a,b,c){eg||(eg={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=eg[b])&&a.setAttribute("aria-"+b,c)};
n.lc=function(a,b){var c=this.Ta(a);if(c&&(bc(c),b))if(p(b))ic(c,b);else{var d=function(a){if(a){var b=Vb(c);c.appendChild(p(a)?b.createTextNode(a):a)}};pa(b)?u(b,d):qa(b)&&!("nodeType"in b)?u(Ya(b),d):d(b)}};n.rb=function(a){return a.b()};n.fa=ea("goog-control");function fg(a,b){var c=a.fa(),d=[c],e=a.fa();e!=c&&d.push(e);c=b.m;for(e=[];c;){var g=c&-c;e.push(kg(a,g));c&=~g}d.push.apply(d,e);(c=b.Fa)&&d.push.apply(d,c);v&&!z("7")&&d.push.apply(d,hg(d));return d}
function hg(a,b){var c=[];b&&(a=a.concat([b]));u([],function(d){Sa(d,za(Va,a))&&(!b||Va(d,b))&&c.push(d.join("_"))});return c}function kg(a,b){a.ae||ig(a);return a.ae[b]}function ig(a){var b=a.fa();a.ae={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function lg(){}t(lg,dg);ma(lg);n=lg.prototype;n.wc=ea("button");n.Ma=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):lg.e.Ma.call(this,a,b,c)};n.M=function(a){var b=lg.e.M.call(this,a),c=a.jd();c&&this.tg(b,c);(c=a.s())&&this.oa(b,c);a.da&16&&this.Ma(b,16,jg(a,16));return b};n.h=function(a,b){var b=lg.e.h.call(this,a,b),c=this.s(b);a.Kg=c;a.Cg=this.jd(b);a.da&16&&this.Ma(b,16,jg(a,16));return b};n.s=la;n.oa=la;n.jd=function(a){return a.title};n.tg=function(a,b){a&&(a.title=b||"")};n.fa=ea("goog-button");function mg(a,b){K.call(this);a&&ng(this,a,b)}t(mg,ed);n=mg.prototype;n.d=k;n.oe=k;n.Gf=k;n.pe=k;n.ub=-1;n.tb=-1;n.af=l;
var og={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},pg={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},qg=v||w&&z("525"),rg=gb&&ob;n=mg.prototype;
n.Kj=function(a){if(w&&(17==this.ub&&!a.ctrlKey||18==this.ub&&!a.altKey))this.tb=this.ub=-1;qg&&!ag(a.keyCode,this.ub,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.tb=ob?cg(a.keyCode):a.keyCode,rg&&(this.af=a.altKey))};n.Mj=function(a){this.tb=this.ub=-1;this.af=a.altKey};
n.handleEvent=function(a){var b=a.ea,c,d,e=b.altKey;v&&"keypress"==a.type?(c=this.tb,d=13!=c&&27!=c?b.keyCode:0):w&&"keypress"==a.type?(c=this.tb,d=0<=b.charCode&&63232>b.charCode&&bg(c)?b.charCode:0):nb?(c=this.tb,d=bg(c)?b.keyCode:0):(c=b.keyCode||this.tb,d=b.charCode||0,rg&&(e=this.af),gb&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in og?g=og[c]:25==c&&a.shiftKey&&(g=9):h&&h in pg&&(g=pg[h]);a=g==this.ub;this.ub=g;b=new sg(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};n.b=da("d");
function ng(a,b,c){a.pe&&a.detach();a.d=b;a.oe=L(a.d,"keypress",a,c);a.Gf=L(a.d,"keydown",a.Kj,c,a);a.pe=L(a.d,"keyup",a.Mj,c,a)}n.detach=function(){this.oe&&(Xc(this.oe),Xc(this.Gf),Xc(this.pe),this.pe=this.Gf=this.oe=k);this.d=k;this.tb=this.ub=-1};n.k=function(){mg.e.k.call(this);this.detach()};function sg(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}t(sg,Jc);function tg(a,b){a||f(Error("Invalid class name "+a));sa(b)||f(Error("Invalid decorator function "+b))}var ug={};function vg(a,b,c){Q.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ua(b);if(d=ug[d])break;b=b.e?b.e.constructor:k}b=d?sa(d.a)?d.a():new d:k}this.F=b;this.Pa=a}t(vg,Q);n=vg.prototype;n.Pa=k;n.m=0;n.da=39;n.fb=255;n.Zk=0;n.Te=j;n.Fa=k;n.yf=j;n.Xd=l;n.zi=k;function wg(a){a.U&&l!=a.yf&&xg(a,l);a.yf=l}n.rb=function(){return this.F.rb(this)};
n.fd=function(a,b){b?a&&(this.Fa?Va(this.Fa,a)||this.Fa.push(a):this.Fa=[a],this.F.fd(this,a,j)):a&&this.Fa&&(Wa(this.Fa,a),0==this.Fa.length&&(this.Fa=k),this.F.fd(this,a,l))};n.M=function(){var a=this.F.M(this);this.d=a;var b=this.zi||this.F.wc();b&&a.setAttribute("role",b);this.Xd||this.F.Mc(a,l);this.Va()||this.F.bb(a,l)};n.Ta=function(){return this.F.Ta(this.b())};n.Ob=function(a){return this.F.Ob(a)};
n.q=function(a){this.d=a=this.F.h(this,a);var b=this.zi||this.F.wc();b&&a.setAttribute("role",b);this.Xd||this.F.Mc(a,l);this.Te="none"!=a.style.display};n.z=function(){vg.e.z.call(this);this.F.Kh(this);if(this.da&-2&&(this.yf&&xg(this,j),this.da&32)){var a=this.rb();if(a){var b=this.Bc||(this.Bc=new mg);ng(b,a);M(M(M(this.i(),b,"key",this.Lj),a,"focus",this.Ij),a,"blur",this.xh)}}};
function xg(a,b){var c=a.i(),d=a.b();b?(M(M(M(M(c,d,"mouseover",a.Ch),d,"mousedown",a.Ah),d,"mouseup",a.Dh),d,"mouseout",a.Bh),a.ke!=la&&M(c,d,"contextmenu",a.ke),v&&M(c,d,"dblclick",a.yh)):(cd(cd(cd(cd(c,d,"mouseover",a.Ch),d,"mousedown",a.Ah),d,"mouseup",a.Dh),d,"mouseout",a.Bh),a.ke!=la&&cd(c,d,"contextmenu",a.ke),v&&cd(c,d,"dblclick",a.yh))}n.Xb=function(){vg.e.Xb.call(this);this.Bc&&this.Bc.detach();this.Va()&&this.isEnabled()&&this.F.Nc(this,l)};
n.k=function(){vg.e.k.call(this);this.Bc&&(this.Bc.$(),delete this.Bc);delete this.F;this.Fa=this.Pa=k};n.lc=function(a){this.F.lc(this.b(),a);this.Pa=a};n.uh=function(){var a=this.Pa;return!a?"":(p(a)?a:pa(a)?Ra(a,oc).join(""):mc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};n.mc=function(a){vg.e.mc.call(this,a);var b=this.b();b&&this.F.mc(b,a)};n.Mc=function(a){this.Xd=a;var b=this.b();b&&this.F.Mc(b,a)};n.Va=da("Te");
n.bb=function(a,b){if(b||this.Te!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.F.bb(c,a);this.isEnabled()&&this.F.Nc(this,a);this.Te=a;return j}return l};n.isEnabled=function(){return!jg(this,1)};n.Eb=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&yg(this,1,!a))a||(this.setActive(l),zg(this,l)),this.Va()&&this.F.Nc(this,a),this.ja(1,!a)};function zg(a,b){yg(a,2,b)&&a.ja(2,b)}n.sb=function(){return jg(this,4)};
n.setActive=function(a){yg(this,4,a)&&this.ja(4,a)};function Ag(a,b){yg(a,16,b)&&a.ja(16,b)}n.ne=function(){return jg(this,32)};n.na=function(a){yg(this,32,a)&&this.ja(32,a)};function jg(a,b){return!!(a.m&b)}n.ja=function(a,b){this.da&a&&b!=jg(this,a)&&(this.F.ja(this,a,b),this.m=b?this.m|a:this.m&~a)};function Bg(a,b,c){a.U&&(jg(a,b)&&!c)&&f(Error("Component already rendered"));!c&&jg(a,b)&&a.ja(b,l);a.da=c?a.da|b:a.da&~b}function Cg(a,b){return!!(a.fb&b)&&!!(a.da&b)}
function yg(a,b,c){return!!(a.da&b)&&jg(a,b)!=c&&(!(a.Zk&b)||a.dispatchEvent(Ed(b,c)))&&!a.de}n.Ch=function(a){(!a.relatedTarget||!hc(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&Cg(this,2))&&zg(this,j)};n.Bh=function(a){if((!a.relatedTarget||!hc(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))Cg(this,4)&&this.setActive(l),Cg(this,2)&&zg(this,l)};n.ke=la;
n.Ah=function(a){this.isEnabled()&&(Cg(this,2)&&zg(this,j),Mc(a)&&(Cg(this,4)&&this.setActive(j),this.F.Ff(this)&&this.rb().focus()));!this.Xd&&Mc(a)&&a.preventDefault()};n.Dh=function(a){this.isEnabled()&&(Cg(this,2)&&zg(this,j),this.sb()&&(this.yd(a)&&Cg(this,4))&&this.setActive(l))};n.yh=function(a){this.isEnabled()&&this.yd(a)};
n.yd=function(a){Cg(this,16)&&Ag(this,!jg(this,16));Cg(this,8)&&yg(this,8,j)&&this.ja(8,j);if(Cg(this,64)){var b=!jg(this,64);yg(this,64,b)&&this.ja(64,b)}b=new Gc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.dg=a.dg);return this.dispatchEvent(b)};n.Ij=function(){Cg(this,32)&&this.na(j)};n.xh=function(){Cg(this,4)&&this.setActive(l);Cg(this,32)&&this.na(l)};
n.Lj=function(a){return this.Va()&&this.isEnabled()&&this.xf(a)?(a.preventDefault(),a.stopPropagation(),j):l};n.xf=function(a){return 13==a.keyCode&&this.yd(a)};sa(vg)||f(Error("Invalid component class "+vg));sa(dg)||f(Error("Invalid renderer class "+dg));var Dg=ua(vg);ug[Dg]=dg;tg("goog-control",function(){return new vg(k)});function Eg(){}t(Eg,lg);ma(Eg);n=Eg.prototype;n.wc=aa();n.M=function(a){wg(a);a.fb&=-256;Bg(a,32,l);return a.Ha().M("button",{"class":fg(this,a).join(" "),disabled:!a.isEnabled(),title:a.jd()||"",value:a.s()||""},a.uh()||"")};n.Ob=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};n.h=function(a,b){wg(a);a.fb&=-256;Bg(a,32,l);b.disabled&&A(b,kg(this,1));return Eg.e.h.call(this,a,b)};n.Kh=function(a){M(a.i(),a.b(),"click",a.yd)};n.Mc=la;
n.mc=la;n.Ff=function(a){return a.isEnabled()};n.Nc=la;n.ja=function(a,b,c){Eg.e.ja.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.s=function(a){return a.value};n.oa=function(a,b){a&&(a.value=b)};n.Ma=la;function Fg(a,b,c){vg.call(this,a,b||Eg.a(),c)}t(Fg,vg);n=Fg.prototype;n.s=da("Kg");n.oa=function(a){this.Kg=a;this.F.oa(this.b(),a)};n.jd=da("Cg");n.tg=function(a){this.Cg=a;this.F.tg(this.b(),a)};n.k=function(){Fg.e.k.call(this);delete this.Kg;delete this.Cg};n.z=function(){Fg.e.z.call(this);if(this.da&32){var a=this.rb();a&&M(this.i(),a,"keyup",this.xf)}};n.xf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.yd(a):32==a.keyCode};tg("goog-button",function(){return new Fg(k)});function Gg(){}t(Gg,lg);ma(Gg);n=Gg.prototype;n.M=function(a){var b={"class":"goog-inline-block "+fg(this,a).join(" "),title:a.jd()||""},b=a.Ha().M("div",b,Hg(this,a.Pa,a.Ha()));gg(this,a,b);return b};n.wc=ea("button");n.Ta=function(a){return a&&a.firstChild.firstChild};function Hg(a,b,c){return c.M("div","goog-inline-block "+(a.fa()+"-outer-box"),c.M("div","goog-inline-block "+(a.fa()+"-inner-box"),b))}n.Ob=function(a){return"DIV"==a.tagName};
n.h=function(a,b){Ig(b,j);Ig(b,l);var c;a:{c=sc(a.Ha(),b);var d=this.fa()+"-outer-box";if(c&&D(c,d)&&(c=sc(a.Ha(),c),d=this.fa()+"-inner-box",c&&D(c,d))){c=j;break a}c=l}c||b.appendChild(Hg(this,b.childNodes,a.Ha()));A(b,"goog-inline-block",this.fa());return Gg.e.h.call(this,a,b)};n.fa=ea("goog-custom-button");
function Ig(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ca(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Jg(a,b,c){Fg.call(this,a,b||Gg.a(),c)}t(Jg,Fg);tg("goog-custom-button",function(){return new Jg(k)});function Kg(){Q.call(this)}t(Kg,Q);n=Kg.prototype;
n.z=function(){Kg.e.z.call(this);(this.u=(this.mf=W.a().K)&&this.mf.X())&&r();this.Zb=G("fullscreen",this.b());var a=G("expand",this.b());O(this.Zb,this.Oi());this.Oc=F("stagecover");this.ci=G("message",this.Oc);this.t=G("spinner",this.Oc);this.Cd=G("restart",this.Oc);this.Mg=G("vote",this.b());this.ec=G("like",this.b());this.Sb=G("dislike",this.b());var b=new mg(document);Lg(this);this.u?(DESKTOP||this.mf.W)&&Mg(this,this.u):Ef.a().c("no-media");M(M(M(M(M(M(M(M(M(this.i(),window,"resize",q(this.resize,
this)),document,"webkitfullscreenchange",q(function(){Hb(this.Zb,"full")},this)),document,"mozfullscreenchange",q(function(){Hb(this.Zb,"full")},this)),document,"fullscreenchange",q(function(){Hb(this.Zb,"full")},this)),this.Zb,"click",q(function(a){if(D(this.Zb,"full"))document.mj&&document.mj(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();else{var b=G("main");b.Bi&&b.Bi();b.webkitRequestFullScreen&&b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
b.mozRequestFullScreen&&b.mozRequestFullScreen()}a.stopPropagation();a.preventDefault()},this)),a,"click",q(this.gl,this)),this.b(),"mousemove",q(function(a){var b=a.offsetX/this.ta,a=a.offsetY/this.cj;if(0.7<b&&1>b&&0.7<a&&1>a&&(this.zd==YT.PlayerState.PLAYING||this.zd==YT.PlayerState.PAUSED))A(this.Oc,"click-through"),R(q(function(){B(this.Oc,"click-through")},this),500)},this)),b,"key",q(function(a){"32"==a.keyCode&&Ng(this)},this)),this.Oc,"click",q(function(a){!D(F("queue"),"show")&&(!D(F("search"),
"show")&&!pc(a.target,k,"queue")&&!pc(a.target,k,"search"))&&Ng(this)},this));W.a().subscribe(Af,this.Zc,this);W.a().subscribe(Bf,function(a){this.u=a;Mg(this,a);Lg(this)},this);Ef.a().subscribe(Ff,this.Bk,this);Ef.a().subscribe("seek",this.Ok,this);Ef.a().subscribe("before-end",function(){Lg(this,j)},this);DESKTOP&&(M(M(M(this.i(),this.Cd,"click",q(function(a){a.preventDefault();a.stopPropagation();this.u&&Mg(this,this.u)},this)),this.ec,"click",q(this.ni,this,this.ec,j)),this.Sb,"click",q(this.ni,
this,this.Sb,l)),Y.a().subscribe(Og,function(a){this.resize(a)},this),Y.a().subscribe(Pg,function(){R(q(this.resize,this))},this),Y.a().subscribe(Qg,function(a){a?this.n.playVideo():this.n.pauseVideo();var a=G(a?"play":"pause",this.b()),b=new Kf;b.add(new Yf(a,250,$f));b.add(new Xf(a,250,Zf));b.play()},this),Y.a().subscribe(Rg,function(a){this.n&&(a?this.n.mute():this.n.unMute())},this),Y.a().subscribe(Sg,function(){this.n.seekTo(0)},this));this.resize()};
function Ng(a){if(a.n&&a.n.getPlayerState&&DESKTOP)switch(a.n.getPlayerState()){case YT.PlayerState.PLAYING:Y.a().c(Qg,l);break;case YT.PlayerState.PAUSED:Y.a().c(Qg,j)}}n.Oi=function(){var a=G("main");return!(!a.Bi&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};n.gl=function(a){a.preventDefault();a.stopPropagation();Z.a();a=!D(F("sidebar"),"toggled");DESKTOP&&(Y.a().c(Og,a),Y.a().c(Pg,a))};
function Mg(a,b){Ef.a().u=b;a.Zj!=b.id&&(Kd.a().c(Ld,"Now playing",b.media.name,i,b.media.Ag,"#info:"+b.media.id),a.Zj=b.id);a.play(b.media);DESKTOP&&T("/_like/"+b.media.id,q(function(a){a=V(a.target);E(this.ec,"checked",a.liked||D(this.ec,"checked"));E(this.Sb,"checked",a.disliked||D(this.Sb,"checked"))},a))}
n.play=function(a,b,c){!this.n||!this.n.loadVideoById?(this.n=new YT.Player("ytplayer",{height:Zb().height-40,width:Zb().width,videoId:a?a.$b:k,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque",origin:HOST_URL,enablejsapi:1,rel:0},events:{onStateChange:q(this.Dk,this),onReady:q(this.tk,this),onError:q(this.sk,this)}}),Ef.a().sg(this.n)):(a?this.n.cueVideoById(a.$b):b&&this.n.cuePlaylist(Ra(b.kb,function(a){return a.media.$b}),b.Rb),R(q(function(){var d=c||0;!this.n.getPlayerState()&&
4>d?this.play(a,b,++d):4<=d&&Lg(this,i,j)},this),1E3))};
n.resize=function(){if(IPHONE)this.b().style.width=rd(Zb().width-320,j);else{var a=F("stagecover"),b=G("message",a),c=F("guide").style.height,c=c.substring(0,c.length-2),c=Y.a().wf?c:40,d=Y.a().vg?320:0;this.cj=Zb().height-c;this.ta=Zb().width-d;sd(this.b(),Zb().height-c);this.b().style.width=rd(Zb().width-d,j);sd(a,Zb().height-c);a.style.width=rd(Zb().width-d,j);a=N(b);hd(b,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});E(this.Zb,"full",this.Oi&&(document.fullScreen||document.webkitIsFullScreen||
document.hm))}};n.Zc=function(a){if(a=a.X())this.u=a,Mg(this,a);Lg(this)};n.ni=function(a,b,c){c.preventDefault();c.stopPropagation();this.u&&(a=Hb(a,"checked"),(c=b&&D(this.Sb,"checked")||!b&&D(this.ec,"checked"))&&B(b?this.Sb:this.ec,"checked"),T(b?"/_like":"/_dislike",i,"POST","media_id="+this.u.media.id+(!a?"&delete=1":"")+(c?"&flip=1":"")))};n.Bk=function(a){this.u=a;Mg(this,a);Lg(this);T("/_optin",Ud(),"POST","media_id="+this.u.media.id)};n.Ok=function(a){this.n.seekTo&&this.n.seekTo(a,j)};
n.Dk=function(a){this.zd=a.data;Lg(this);switch(a.data){case YT.PlayerState.CUED:a=this.u.async?this.u.seek:(r()-this.u.time.getTime())/1E3;this.n.seekTo(a);this.n.playVideo();Y.a().c(Qg,j);break;case YT.PlayerState.PLAYING:Ef.a().c(Gf,this.u.media);break;case YT.PlayerState.ENDED:U.a().j.ce.Je(this.u.media),E(this.ec,"checked",l),E(this.Sb,"checked",l),(a=W.a().K.X())?W.a().c(Bf,a):(Ef.a().u=k,W.a().c(Af,Cf(W.a()),j))}};
n.tk=function(){R(q(function(){if(this.n&&(!this.n.getPlayerState||!this.n.getPlayerState()))Mg(this,this.u);else if(this.n.getPlayerState()){this.n.setPlaybackQuality("large");var a=this.u.async?this.u.seek:(r()-this.u.time.getTime())/1E3;this.n.seekTo(a);this.n.playVideo();DESKTOP&&Y.a().c(Rg,this.n.isMuted())}},this),1E3)};n.sk=function(){Ef.a().c("no-media");Lg(this,i,j)};
function Lg(a,b,c){if(!IPHONE){var d=F("stagecover"),e=a.u?Ef.a().getCurrentTime():0;c?(O(a.t,l),O(a.Cd,j),A(d,"covered")):(!a.u||a.u&&e>a.u.media.duration?(Ef.a().c("no-media"),ic(a.ci.firstChild,Tg),O(a.t,l),O(a.Cd,l),O(a.Mg,l),A(d,"covered")):a.zd!=YT.PlayerState.PLAYING&&a.zd!=YT.PlayerState.PAUSED||b?(ic(a.ci.firstChild,Ug),O(a.t,j),O(a.Cd,l),O(a.Mg,j),A(d,"covered")):(O(a.t,l),O(a.Cd,l),B(d,"covered"),O(a.Mg,j)),ud(d,a.zd==YT.PlayerState.BUFFERING?0.9:1),a.resize())}}
var Tg="THIS CHANNEL IS CURRENTLY OFFLINE",Ug="LOADING STORY";function Vg(a,b){Q.call(this,b);this.Wa=a||""}t(Vg,Q);Vg.prototype.Sa=k;var Wg="placeholder"in document.createElement("input");n=Vg.prototype;n.kd=l;n.M=function(){this.d=this.Ha().M("input",{type:"text"})};n.q=function(a){Vg.e.q.call(this,a);this.Wa||(this.Wa=a.getAttribute("label")||"");var b;a:{var c=Vb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.kd=j,B(this.b(),this.Vc));Wg?this.b().placeholder=this.Wa:this.b().setAttribute("aria-label",this.Wa)};
n.z=function(){Vg.e.z.call(this);var a=new ad(this);M(a,this.b(),"focus",this.zh);M(a,this.b(),"blur",this.Fj);Wg?this.C=a:(ob&&M(a,this.b(),["keypress","keydown","keyup"],this.Gj),M(a,Vb(this.b())?Vb(this.b()).parentWindow||Vb(this.b()).defaultView:window,"load",this.Oj),this.C=a,Xg(this));Yg(this);this.b().Wj=this};n.Xb=function(){Vg.e.Xb.call(this);this.C&&(this.C.$(),this.C=k);this.b().Wj=k};function Xg(a){!a.Bj&&(a.C&&a.b().form)&&(M(a.C,a.b().form,"submit",a.Jj),a.Bj=j)}
n.k=function(){Vg.e.k.call(this);this.C&&(this.C.$(),this.C=k)};n.Vc="label-input-label";n.zh=function(){this.kd=j;B(this.b(),this.Vc);if(!Wg&&!Zg(this)&&!this.Uj){var a=this,b=function(){a.b().value=""};v?R(b,10):b()}};n.Fj=function(){Wg||(cd(this.C,this.b(),"click",this.zh),this.Sa=k);this.kd=l;Yg(this)};n.Gj=function(a){27==a.keyCode&&("keydown"==a.type?this.Sa=this.b().value:"keypress"==a.type?this.b().value=this.Sa:"keyup"==a.type&&(this.Sa=k),a.preventDefault())};
n.Jj=function(){Zg(this)||(this.b().value="",R(this.Ej,10,this))};n.Ej=function(){Zg(this)||(this.b().value=this.Wa)};n.Oj=function(){Yg(this)};function Zg(a){return!!a.b()&&""!=a.b().value&&a.b().value!=a.Wa}n.clear=function(){this.b().value="";this.Sa!=k&&(this.Sa="")};n.reset=function(){Zg(this)&&(this.clear(),Yg(this))};n.oa=function(a){this.Sa!=k&&(this.Sa=a);this.b().value=a;Yg(this)};n.s=function(){return this.Sa!=k?this.Sa:Zg(this)?this.b().value:""};
function Yg(a){Wg?a.b().placeholder!=a.Wa&&(a.b().placeholder=a.Wa):(Xg(a),a.b().setAttribute("aria-label",a.Wa));Zg(a)?B(a.b(),a.Vc):(!a.Uj&&!a.kd&&A(a.b(),a.Vc),Wg||R(a.Mk,10,a))}n.Eb=function(a){this.b().disabled=!a;E(this.b(),this.Vc+"-disabled",!a)};n.isEnabled=function(){return!this.b().disabled};n.Mk=function(){this.b()&&(!Zg(this)&&!this.kd)&&(this.b().value=this.Wa)};function $g(a,b,c,d,e,g,h,m,s){var y,x;if(y=c.offsetParent){var C="HTML"==y.tagName||"BODY"==y.tagName;if(!C||"static"!=ld(y,"position"))x=pd(y),C||(C=(C=qd(y))&&ob?-y.scrollLeft:C&&(!v||!z("8"))?y.scrollWidth-y.clientWidth-y.scrollLeft:y.scrollLeft,x=Jb(x,new Ib(C,y.scrollTop)))}y=x||new Ib;x=pd(a);C=N(a);x=new gd(x.x,x.y,C.width,C.height);if(C=od(a)){var ca=new gd(C.left,C.top,C.right-C.left,C.bottom-C.top),C=Math.max(x.left,ca.left),X=Math.min(x.left+x.width,ca.left+ca.width);if(C<=X){var jb=Math.max(x.top,
ca.top),ca=Math.min(x.top+x.height,ca.top+ca.height);jb<=ca&&(x.left=C,x.top=jb,x.width=X-C,x.height=ca-jb)}}C=Tb(a);jb=Tb(c);if(C.w!=jb.w){var X=C.w.body,jb=jb.w.parentWindow||jb.w.defaultView,ca=new Ib(0,0),Kc=Vb(X)?Vb(X).parentWindow||Vb(X).defaultView:window,sf=X;do{var ha;if(Kc==jb)ha=pd(sf);else{ha=sf;var kb=new Ib;if(1==ha.nodeType){if(ha.getBoundingClientRect){var na=md(ha);kb.x=na.left;kb.y=na.top}else{var na=rc(Tb(ha)),Ka=pd(ha);kb.x=Ka.x-na.x;kb.y=Ka.y-na.y}ob&&!z(12)&&(na=i,na=i,v?na=
"-ms-transform":w?na="-webkit-transform":nb?na="-o-transform":ob&&(na="-moz-transform"),Ka=i,na&&(Ka=ld(ha,na)),Ka||(Ka=ld(ha,"transform")),Ka?(ha=Ka.match(Bd),na=!ha?new Ib(0,0):new Ib(parseFloat(ha[1]),parseFloat(ha[2]))):na=new Ib(0,0),kb=new Ib(kb.x+na.x,kb.y+na.y))}else na=sa(ha.Cj),Ka=ha,ha.targetTouches?Ka=ha.targetTouches[0]:na&&ha.ea.targetTouches&&(Ka=ha.ea.targetTouches[0]),kb.x=Ka.clientX,kb.y=Ka.clientY;ha=kb}ca.x+=ha.x;ca.y+=ha.y}while(Kc&&Kc!=jb&&(sf=Kc.frameElement)&&(Kc=Kc.parent));
X=Jb(ca,pd(X));v&&!qc(C)&&(X=Jb(X,rc(C)));x.left+=X.x;x.top+=X.y}a=(b&4&&qd(a)?b^2:b)&-5;b=new Ib(a&2?x.left+x.width:x.left,a&1?x.top+x.height:x.top);b=Jb(b,y);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var P;if(h)if(s)P=s;else if(P=od(c))P.top-=y.y,P.right-=y.x,P.bottom-=y.y,P.left-=y.x;a:{s=b.clone();e=0;a=(d&4&&qd(c)?d^2:d)&-5;d=N(c);m=m?m.clone():d.clone();if(g||0!=a)a&2?s.x-=m.width+(g?g.right:0):g&&(s.x+=g.left),a&1?s.y-=m.height+(g?g.bottom:0):g&&(s.y+=g.top);if(h){if(P){g=s;e=0;if(65==(h&
65)&&(g.x<P.left||g.x>=P.right))h&=-2;if(132==(h&132)&&(g.y<P.top||g.y>=P.bottom))h&=-5;g.x<P.left&&h&1&&(g.x=P.left,e|=1);g.x<P.left&&(g.x+m.width>P.right&&h&16)&&(m.width=Math.max(m.width-(g.x+m.width-P.right),0),e|=4);g.x+m.width>P.right&&h&1&&(g.x=Math.max(P.right-m.width,P.left),e|=1);h&2&&(e|=(g.x<P.left?16:0)|(g.x+m.width>P.right?32:0));g.y<P.top&&h&4&&(g.y=P.top,e|=2);g.y>=P.top&&(g.y+m.height>P.bottom&&h&32)&&(m.height=Math.max(m.height-(g.y+m.height-P.bottom),0),e|=8);g.y+m.height>P.bottom&&
h&4&&(g.y=Math.max(P.bottom-m.height,P.top),e|=2);h&8&&(e|=(g.y<P.top?64:0)|(g.y+m.height>P.bottom?128:0));h=e}else h=256;e=h;if(e&496){c=e;break a}}g=ob&&(gb||qb)&&z("1.9");s instanceof Ib?(h=s.x,s=s.y):(h=s,s=i);c.style.left=rd(h,g);c.style.top=rd(s,g);if(!(d==m||(!d||!m?0:d.width==m.width&&d.height==m.height)))g=qc(Tb(Vb(c))),v&&(!g||!z("8"))?(h=c.style,g?(g=xd(c,"padding"),c=Ad(c),h.pixelWidth=m.width-c.left-g.left-g.right-c.right,h.pixelHeight=m.height-c.top-g.top-g.bottom-c.bottom):(h.pixelWidth=
m.width,h.pixelHeight=m.height)):(c=c.style,ob?c.MozBoxSizing="border-box":w?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(m.width,0)+"px",c.height=Math.max(m.height,0)+"px");c=e}return c};function ah(){}ah.prototype.ab=aa();function bh(a,b,c){this.element=a;this.lf=b;this.Ak=c}t(bh,ah);bh.prototype.ab=function(a,b,c){$g(this.element,this.lf,a,b,i,c,this.Ak)};function ch(a,b,c,d){bh.call(this,a,b);this.$j=c?5:0;this.ag=d||i}t(ch,bh);ch.prototype.ab=function(a,b,c,d){var e=$g(this.element,this.lf,a,b,k,c,10,d,this.ag);if(e&496){var g=dh(e,this.lf),b=dh(e,b),e=$g(this.element,g,a,b,k,c,10,d,this.ag);e&496&&(g=dh(e,g),b=dh(e,b),$g(this.element,g,a,b,k,c,this.$j,d,this.ag))}};function dh(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function eh(a,b){K.call(this);this.N=new ad(this);this.Ac&&f(Error("Can not change this state of the popup while showing."));this.d=a||k;b&&this.Gi(b)}t(eh,ed);n=eh.prototype;n.d=k;n.kj=j;n.Vg=k;n.Ac=l;n.Qk=l;n.If=-1;n.Th=-1;n.Qj=l;n.uj=j;n.Kb="toggle_display";n.Gi=ba("Kb");n.b=da("d");n.Va=da("Ac");n.bb=function(a){this.Fd&&this.Fd.stop();this.ld&&this.ld.stop();a?this.Ne():this.yc()};n.ab=la;
n.Ne=function(){if(!this.Ac&&this.dispatchEvent("beforeshow")){this.d||f(Error("Caller must call setElement before trying to show the popup"));this.ab();var a=Vb(this.d);this.Qj&&M(this.N,a,"keydown",this.mk,j);if(this.kj)if(M(this.N,a,"mousedown",this.mi,j),v){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}M(this.N,a,"mousedown",this.mi,j);M(this.N,a,"deactivate",this.li)}else M(this.N,
a,"blur",this.li);"toggle_display"==this.Kb?(this.d.style.visibility="visible",O(this.d,j)):"move_offscreen"==this.Kb&&this.ab();this.Ac=j;this.Fd?(Uc(this.Fd,"end",this.ri,l,this),this.Fd.play()):this.ri()}};n.yc=function(a){if(!this.Ac||!this.dispatchEvent({type:"beforehide",target:a}))return l;this.N&&dd(this.N);this.Ac=l;this.Th=r();this.ld?(Uc(this.ld,"end",za(this.eh,a),l,this),this.ld.play()):this.eh(a);return j};
n.eh=function(a){"toggle_display"==this.Kb?this.Qk?R(this.Gh,0,this):this.Gh():"move_offscreen"==this.Kb&&(this.d.style.top="-10000px");this.dispatchEvent({type:"hide",target:a})};n.Gh=function(){this.d.style.visibility="hidden";O(this.d,l)};n.ri=function(){this.If=r();this.Th=-1;this.dispatchEvent("show")};n.mi=function(a){a=a.target;!hc(this.d,a)&&((!this.Vg||hc(this.Vg,a))&&!(150>r()-this.If))&&this.yc(a)};n.mk=function(a){27==a.keyCode&&this.yc(a.target)&&(a.preventDefault(),a.stopPropagation())};
n.li=function(a){if(this.uj){var b=Vb(this.d);if(v||nb){if(a=b.activeElement,!a||hc(this.d,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>r()-this.If||this.yc()}};n.k=function(){eh.e.k.call(this);this.N.$();Cc(this.Fd);Cc(this.ld);delete this.d;delete this.N};function fh(a,b){this.xi=4;this.fg=b||i;eh.call(this,a)}t(fh,eh);function gh(a,b){a.xi=b;a.Va()&&a.ab()}function hh(a,b){a.fg=b||i;a.Va()&&a.ab()}function ih(a,b,c,d,e){a.dk=b==k||b instanceof fd?b:new fd(b,c,d,e);a.Va()&&a.ab()}fh.prototype.ab=function(){if(this.fg){var a=!this.Va()&&"move_offscreen"!=this.Kb,b=this.b();a&&(b.style.visibility="hidden",O(b,j));this.fg.ab(b,this.xi,this.dk);a&&O(b,l)}};function jh(a,b,c){K.call(this);this.wb=a;this.ia=b;this.N=c;this.df=q(this.xk,this)}t(jh,K);n=jh.prototype;n.Me=l;n.vi=0;n.ka=k;n.ph=function(){!this.ka&&!this.vi?this.ed():this.Me=j};n.stop=function(){this.ka&&(Ge.clearTimeout(this.ka),this.ka=k,this.Me=l)};n.k=function(){jh.e.k.call(this);this.stop()};n.xk=function(){this.ka=k;this.Me&&!this.vi&&(this.Me=l,this.ed())};n.ed=function(){this.ka=R(this.df,this.ia);this.wb.call(this.N)};function kh(a,b){K.call(this);this.wb=a;this.N=b;this.Ra=new Lf(q(this.wk,this),0,this)}t(kh,K);n=kh.prototype;n.ia=0;n.ng=0;n.Nh=l;n.k=function(){this.Ra.$();delete this.wb;delete this.N;kh.e.k.call(this)};n.start=function(a,b){this.stop();this.Nh=l;var c=b||0;this.ia=Math.max(a||0,0);this.ng=0>c?-1:r()+c;this.Ra.start(0>c?this.ia:Math.min(this.ia,c))};n.stop=function(){this.Ra.stop()};n.sb=function(){return this.Ra.sb()};
n.wk=function(){if(this.wb.call(this.N))this.Nh=j;else if(0>this.ng)this.Ra.start(this.ia);else{var a=this.ng-r();0>=a||this.Ra.start(Math.min(this.ia,a))}};function lh(a){K.call(this);this.d=a;this.vd=this.d.value;this.C=new ad(this);this.Xa=r();w||v||ob&&z("1.9")?M(this.C,a,"paste",this.uc):M(this.C,a,["keydown","blur","focus","mouseover","input"],this.Hj);this.Ra=new kh(q(this.Yg,this))}t(lh,ed);n=lh.prototype;n.m="init";n.B=df("goog.events.PasteHandler");n.k=function(){lh.e.k.call(this);this.C.$();this.C=k;this.Ra.$();this.Ra=k};
n.Yg=function(){if(this.vd==this.d.value)return l;this.B.info("detected textchange after paste");this.dispatchEvent("after_paste");return j};n.uc=function(a){a=new Jc(a.ea);a.type="paste";this.dispatchEvent(a);R(function(){this.Yg()||this.Ra.start(50,200)},0,this)};
n.Hj=function(a){switch(this.m){case "init":switch(a.type){case "blur":this.m="init";break;case "focus":this.m="focused";break;case "mouseover":this.m="init";this.d.value!=this.vd&&(this.B.info("paste by dragdrop while on init!"),this.uc(a));break;default:$e(this.B,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.Xa+400;if(r()>b||"focus"==this.Ik)this.B.info("paste by textchange while focused!"),this.uc(a);break;case "blur":this.m="init";break;
case "keydown":this.B.info("key down ... looking for ctrl+v");if(gb&&nb&&0==a.keyCode||gb&&nb&&17==a.keyCode)break;this.m="typing";break;case "mouseover":this.d.value!=this.vd&&(this.B.info("paste by dragdrop while focused!"),this.uc(a));break;default:$e(this.B,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.m="focused";break;case "blur":this.m="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.B.info("paste by ctrl+v while keypressed!"),
this.uc(a);break;case "mouseover":this.d.value!=this.vd&&(this.B.info("paste by dragdrop while keypressed!"),this.uc(a));break;default:$e(this.B,"unexpected event "+a.type+" during keypressed")}break;default:$e(this.B,"invalid "+this.m+" state")}this.Xa=r();this.vd=this.d.value;this.B.info(a.type+" -> "+this.m);this.Ik=a.type};function mh(){return'<div class="popup" id="popup" style="visibility: hidden; display: none;"><div class="content"></div><div id="tailarrow"></div></div>'}function nh(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="tooltip">'+J(a.text)+"</div>"+(a.link?"</a>":"")}
function oh(){return'<div class="select-program"><div class="select-header">Suggest a Program</div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="paste a youtube link"/><div class="page2"></div></div></div></div>'}function ph(a){return'<div class="confirm-media"><img src="'+J(a.bl)+'" /><div class="title">'+J(a.title)+'</div><div class="dark button">Yes</div></div>'};function qh(){S.call(this)}t(qh,S);ma(qh);function rh(){var a=F("popup");a||(a=I(mh),document.body.appendChild(a));fh.call(this,a);L(window,"resize",q(this.bb,this,l));L(this,"hide",this.pk);this.ug=this.Af=l;this.V=qh.a();this.V.subscribe("tooltip",this.Wk,this);this.V.subscribe("select-program",this.Sk,this);this.V.subscribe("hide",this.yc,this);L(this.b(),"mouseover",q(function(){this.Af=j},this));L(this.b(),"mouseout",q(function(){this.Af=l;this.ug&&this.V.c("hide")},this))}t(rh,fh);ma(rh);
function sh(a,b,c,d){L(b,"mouseover",q(function(){this.$g&&Ge.clearTimeout(this.$g);this.ug=l;this.V.c("tooltip",b,c,d)},a));L(b,"mouseout",q(function(){this.$g=R(q(function(){this.Af?this.ug=j:this.V.c("hide")},this),100)},a))}n=rh.prototype;n.pk=function(){this.yc();this.V.c("on-hide")};n.Ta=function(){return G("content",this.b())};
n.Wk=function(a,b,c){this.bb(l);"top"==b?(gh(this,1),b=-1*(N(this.b()).width-N(a).width)/2,ih(this,0,0,6,b),hh(this,new ch(a,4)),this.b().className="popup",A(this.b(),"top")):"left"==b&&(gh(this,0),b=-1*(N(this.b()).height-N(a).height)/2,ih(this,b,6,0,0),hh(this,new ch(a,6)),this.b().className="popup",A(this.b(),"left"));uc(this.Ta(),nh,{text:c.text,link:c.link});this.bb(j)};
n.Sk=function(a,b){this.bb(l);gh(this,0);var c=-1*(N(this.b()).height-N(a).height)/2;ih(this,c,0,0,5);hh(this,new ch(a,6));A(this.b(),"left");uc(this.Ta(),oh);this.Kd=new Vg("paste a YouTube link");this.Kd.h(G("program-input",this.b()));var c=new mg(this.Kd.b()),d=new lh(this.Kd.b()),e=new jh(q(this.Yf,this,b),1E3);this.bb(j);M(M(M(this.N,d,"after_paste",q(this.Yf,this,b)),c,"key",q(function(){e&&e.ph()},this)),this.Kd.b(),"focus",q(this.Yf,this,b))};
n.Yf=function(a){var b=G("select-content",this.b());try{var c;var d=this.Kd.s(),e=th.exec(d);e?c=new uh(e[1]||e[2],i,i):f(Error("failed to parse video id from youtube url: "+d));T(Ba("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.aj),q(function(d){var e=ef(zf(d.target)).entry,d=e.title.$t,g=e.media$group.media$thumbnail[0].url,e=G("page2",this.b());uc(e,ph,{title:d,bl:g});d=new Jg("Yes");d.h(G("button",e));(new Vf(b,[0,0],[260,0],300,$f)).play();M(this.N,d,"action",q(this.Uf,this,
a,c))},this))}catch(g){}};n.Uf=function(a,b){T("/_addprogram",q(function(b){b=ef(zf(b.target));b=new le(b);a.c(ve,b);this.bb(l)},this),"POST","channel="+a.id+"&youtube_id="+b.aj)};function Z(){S.call(this)}t(Z,S);ma(Z);function vh(a){return'<div class="info"><div class="picture"><img src="'+J(a.media.nb)+'" class="thumb"><div class="publisher"><img src="'+J(a.media.ca.L)+'"><div class="name">'+J(a.media.ca.name)+'</div></div><div class="links"><div class="local"></div><a target="_blank" href="'+a.media.Rj+'"><div class="host"></div></a></div><div class="link-select" style="display:none"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><div class="title"><div class="text">'+
J(a.media.name)+'</div></div><div class="scrollable ios-scroll" '+(!a.description?'style="display:none"':"")+'><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+J(a.jc)+'</div></div><div class="description">'+a.description+'</div></div><div class="button play"><div class="icon"></div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="viewers" style="display: none"><div class="label"><div class="eye-icon"></div></div></div><div class="info-contents"><div class="scrollable ios-scroll"><div class="user-poll" style="display: none"><div class="label"><div class="status">VOTE</div></div><div class="poll-options"></div></div><div class="tweet-holder" style="display:none"><div class="label"><div class="globe-icon"></div><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><div class="friends-icon"></div><a class="conv-link">CONVERSATION</a>'+
(a.Xj?'<a class="prev-link">&#10218; LAST PROGRAM</a>':"")+'</div><div class="no-comments" style="display:none">Start the conversation with friends.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div><div class="overlay" style="display: none"><div class="leaving"><div>This program is over. Carry on?</div><div class="button dark no">Not yet</div><div class="button dark yes">Let\'s go</div></div></div></div>'}
function wh(a){return'<div class="viewer" name="'+J(a.ge)+'"><img src="'+J(a.o.L)+'"></div>'}
function xh(a){return'<div class="tweet" id="'+J(a.prefix)+"-"+J(a.ob.id)+'">'+(a.ob.o?'<a href="#user:'+J(a.ob.o.id)+'"><img src="'+J(a.ob.L)+'"/></a>':'<img src="'+J(a.ob.L)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+J(a.ob.handle)+"/status/"+J(a.ob.id)+'">'+J(a.ob.handle)+"</a> "+a.text+'</div><div class="timestamp">'+J(a.timestamp)+'</div><div class="tweet-options"><div class="reply"></div></div></div>'}
function yh(a){return'<div class="comment'+(a.S.I?" reply":"")+'" '+(a.S.id?'id="'+J(a.prefix)+"-"+J(a.S.id)+'"':"")+">"+(!a.S.I?'<a href="#user:'+J(a.S.o.id)+'"><div class="user-picture" style="background:'+J(a.S.o.color)+'"><img src="'+J(a.S.o.L)+'"/></div></a>':"")+'<div class="template"><a class="user" href="#user:'+J(a.S.o.id)+'">'+J(a.S.o.name)+'</a>  <div class="text">'+a.text+'<div class="comment-options">'+(a.si?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div><div class="timestamp">'+
J(a.S.Db)+'</div><div class="replies"></div>'+(!a.S.I?'<div class="reply-input"><textarea class="reply-textarea" rows="1" placeholder="reply..."></textarea></div>':"")+"</div></div>"}
function zh(){return'<div class="comment-input"><div class="textarea-holder"><div class="input-holder"><div class="highlighter"></div><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea><div class="suggestions" style="display:none"></div></div></div><div class="comment-controls"><div class="comment-toggle tweet-toggle"><div class="icon"></div></div><div class="comment-toggle fb-toggle"><div class="icon"></div></div></div><div class="comment-button add-comment">POST</div></div>'}
function Ah(a){var b='<div class="activity'+(1<a.D.length?" digest":"")+'">';if(1<a.D.length){for(var b=b+('<div class="template"><span>'+J(a.D.length)+" friends </span>"+(a.Wi?"watched":"are watching")+(a.O?' <a href="#channel:'+J(a.O.id)+'">'+J(a.O.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.D,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.L)+'"/></div></a>');
b+="</div>"}return b+=(1==a.D.length?'<a href="#user:'+J(a.D[0].id)+'"><div class="picture" style="background:'+J(a.D[0].color)+'"><img src="'+J(a.D[0].L)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(a.D[0].id)+'">'+J(a.D[0].name)+"</a> "+(a.Wi?"watched":"is watching")+(a.O?' <a href="#channel:'+J(a.O.id)+'">'+J(a.O.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Bh(a){for(var b='<div class="comment activity'+(1<a.gb.length?" digest":"")+'">'+(1<a.gb.length?'<div class="template">'+(1==a.D.length?'<a class="user" href="#user:'+J(a.D[0].id)+'">'+J(a.D[0].name)+' </a> discussed <a class="title" href="#info:'+J(a.media.id)+'">'+J(a.media.name)+"</a>.":"<span>"+J(a.D.length)+' friends </span> discussed <a class="title" href="#info:'+J(a.media.id)+'"> '+J(a.media.name)+"</a>.")+"</div>":""),a=a.gb,c=a.length,d=0;d<c;d++)var e=a[d],b=b+('<div class="comment"><a href="#user:'+
J(e.o.id)+'"><div class="picture" style="background:'+J(e.o.color)+'"><img src="'+J(e.o.L)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(e.o.id)+'">'+J(e.o.name)+'</a>  <div class="text">'+e.text+'</div><div class="timestamp">'+J(e.Db)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function Ch(a){var b='<div class="like activity'+(1<a.D.length?" digest":"")+'">';if(1<a.D.length){for(var b=b+('<div class="template"><span>'+J(a.D.length)+' friends </span>liked<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.D,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.L)+'"/></div></a>');b+="</div>"}return b+=(1==a.D.length?'<a href="#user:'+J(a.D[0].id)+'"><div class="picture" style="background:'+
J(a.D[0].color)+'"><img src="'+J(a.D[0].L)+'"/></div></a><div class="template" style="top:10px;margin-bottom:30px"><a class="user" href="#user:'+J(a.D[0].id)+'">'+J(a.D[0].name)+"</a> liked "+(1<a.ai?J(a.ai)+" stories":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Dh(a){return'<div class="list-info"><div class="picture-cell" '+(a.nb?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+J(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+J(a.nb)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function Eh(a){return'<li class="'+J(a.className)+' tab"><div class="label">'+J(a.name)+"</div></li>"}
function Fh(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.Lh?'placeholder="'+J(a.Lh)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function Gh(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function Hh(a){return'<div class="playlist"><div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function Ih(a){return'<div class="category button">'+J(a.name)+"</div>"}function Jh(a){return'<div class="publisher">'+(a.L?'<img src="'+J(a.L)+'"/>':"")+'<div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function Kh(a){return'<div class="channel '+(a.O.Hc?"on":"off")+'"><div class="title">'+J(a.O.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.O.Ic?'<div class="pending">'+J(a.O.Ic)+"</div>":"")+"</div>"}
function Lh(a){return'<div class="collection"><div class="title">'+J(a.ff.name)+'</div><div class="controls">'+(a.ff.Ic?'<div class="pending">'+J(a.ff.Ic)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Mh(a){return'<div class="topic"><div class="title">'+J(a.hl)+'</div><div class="controls">'+(a.Ic?'<div class="pending">'+J(a.Ic)+"</div>":"")+"</div></div>"}
function Nh(a){return'<div class="tabbed '+(a.Qf?"inbox":"messages")+'"><ul class="tabs">'+(a.Qf?'<li class="tab inbox"><div class="label">INBOX</div></li>':'<li class="tab messages"><div class="label">MESSAGES</div></li>')+'<li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul>'+(a.Qf?'<div class="inbox-content content inbox"><div class="label">NOTIFICATIONS</div><div class="notifications-content content notifications"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="label">MESSAGES</div><div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div></div>':
'<div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div>')+'<div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function Oh(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function Ph(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.nb)+"); background-position: 50% "+J(a.media.Qi)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+J(a.media.bd)+'</div><div class="like-count"><div class="icon"></div>'+J(a.media.ak)+'</div></div></div></div><div class="publisher">'+(a.media.ca?'<img src="'+J(a.media.ca.L)+
'"><div class="name">'+J(a.media.ca.name)+"</div>":"")+'<div class="list-play"><div class="icon"></div></div><div class="list-plus"><div class="icon"></div></div></div></div>'}
function Qh(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.nb)+"); background-position: 50% "+J(a.media.Qi)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="published">'+J(a.jc)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+J(a.media.ca.L)+'"><div class="name">'+J(a.media.ca.name)+
'</div><div class="duration">'+J(a.media.duration)+' seconds</div></div><div class="description">'+J(a.media.description)+"</div></div>"}function Rh(a){return'<div class="option"><div class="percent"></div><div class="name">'+J(a.name)+'</div><div class="percent-number">'+J(a.cg)+"</div></div>"};function Sh(a,b,c){K.call(this);this.target=a;this.handle=b||a;this.Wh=c||new gd(NaN,NaN,NaN,NaN);this.w=Vb(a);this.C=new ad(this);L(this.handle,["touchstart","mousedown"],this.Hd,l,this)}t(Sh,ed);var Th=v||ob&&z("1.9.3");n=Sh.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.Li=0;n.Mi=0;n.rc=0;n.sc=0;n.pf=j;n.Vb=l;n.Hh=0;n.ek=0;n.Tj=l;n.Sd=l;n.i=da("C");n.Fi=ba("Ie");n.Eb=ba("pf");
n.k=function(){Sh.e.k.call(this);Vc(this.handle,["touchstart","mousedown"],this.Hd,l,this);dd(this.C);Th&&this.w.releaseCapture();this.C=this.handle=this.target=k};function Uh(a){ja(a.Ja)||(a.Ja=qd(a.target));return a.Ja}
n.Hd=function(a){var b="mousedown"==a.type;if(this.pf&&!this.Vb&&(!b||Mc(a))){Vh(a);if(0==this.Hh)if(this.dispatchEvent(new Wh("start",this,a.clientX,a.clientY,a)))this.Vb=j,a.preventDefault();else return;else a.preventDefault();var b=this.w,c=b.documentElement,d=!Th;M(this.C,b,["touchmove","mousemove"],this.Nj,d);M(this.C,b,["touchend","mouseup"],this.Wb,d);Th?(c.setCapture(l),M(this.C,c,"losecapture",this.Wb)):M(this.C,b?b.parentWindow||b.defaultView:window,"blur",this.Wb);v&&this.Tj&&M(this.C,
b,"dragstart",Hc);this.Ie&&M(this.C,this.Ie,"scroll",this.qi,d);this.clientX=this.Li=a.clientX;this.clientY=this.Mi=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Sd?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==ld(a,"position")&&(c=Vb(a).documentElement),c?(ob?(d=Ad(c),b+=d.left):Ab(8)&&(d=Ad(c),b-=d.left),a=qd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.rc=a;this.sc=this.target.offsetTop;this.bg=rc(Tb(this.w));this.ek=r()}else this.dispatchEvent("earlycancel")};
n.Wb=function(a,b){dd(this.C);Th&&this.w.releaseCapture();if(this.Vb){Vh(a);this.Vb=l;var c=Xh(this,this.rc),d=Yh(this,this.sc);this.dispatchEvent(new Wh("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function Vh(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ea.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ea.changedTouches[0],a.currentTarget)}
n.Nj=function(a){if(this.pf){Vh(a);var b=(this.Sd&&Uh(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Vb){var d=this.Li-this.clientX,e=this.Mi-this.clientY;if(d*d+e*e>this.Hh)if(this.dispatchEvent(new Wh("start",this,a.clientX,a.clientY,a)))this.Vb=j;else{this.de||this.Wb(a);return}}c=Zh(this,b,c);b=c.x;c=c.y;this.Vb&&this.dispatchEvent(new Wh("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&($h(this,a,b,c),a.preventDefault())}};function Zh(a,b,c){var d=rc(Tb(a.w)),b=b+(d.x-a.bg.x),c=c+(d.y-a.bg.y);a.bg=d;a.rc+=b;a.sc+=c;b=Xh(a,a.rc);a=Yh(a,a.sc);return new Ib(b,a)}n.qi=function(a){var b=Zh(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;$h(this,a,b.x,b.y)};function $h(a,b,c,d){a.hh(c,d);a.dispatchEvent(new Wh("drag",a,b.clientX,b.clientY,b,c,d))}
function Xh(a,b){var c=a.Wh,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function Yh(a,b){var c=a.Wh,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}n.hh=function(a,b){this.Sd&&Uh(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function Wh(a,b,c,d,e,g,h,m){Gc.call(this,a);this.clientX=c;this.clientY=d;this.Ol=e;this.left=ja(g)?g:b.rc;this.top=ja(h)?h:b.sc;this.Yl=b;this.sj=!!m}t(Wh,Gc);function ai(){K.call(this);this.md=[];this.al=[];this.Ed=[]}t(ai,ed);n=ai.prototype;n.Qh=l;n.Rh=l;n.Ef=l;n.Fi=ba("Ie");n.init=function(){if(!this.Ef){for(var a,b=0;a=this.md[b];b++)bi(this,a);this.Ef=j}};function bi(a,b){a.Qh&&(L(b.element,"mousedown",b.ei,l,b),a.wg&&A(b.element,a.wg));a.Rh&&a.zg&&A(b.element,a.zg)}
n.Hd=function(a,b){if(!this.sa)if(this.sa=b,this.dispatchEvent(new ci("dragstart",this,this.sa))==l)this.sa=k;else{var c=b.qc,d;a:switch(d=c.cloneNode(j),c.tagName.toLowerCase()){case "tr":d=H("table",k,H("tbody",k,d));break a;case "td":case "th":d=H("table",k,H("tbody",k,H("tr",k,d)));break a}this.tj&&A(d,this.tj);this.vc=d;d=Vb(c);d.body.appendChild(this.vc);var e=this.vc,g=pd(c),c=xd(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=
g.y+"px";this.hb=new Sh(e);this.hb.Fi(this.Ie);L(this.hb,"drag",this.fi,l,this);L(this.hb,"end",this.Wb,l,this);L(d.body,"selectstart",this.Pi);this.Pc=[];for(d=0;c=this.al[d];d++)for(var h,e=0;h=c.md[e];e++)for(var g=c,m=[h.element],s=this.Pc,y=0;y<m.length;y++){var x=m[y],C=pd(x),ca=N(x),C=new fd(C.y,C.x+ca.width,C.y+ca.height,C.x);s.push(new di(C,g,h,x));ei(this,C)}this.mb||(this.mb=new fd(0,0,0,0));for(d=0;c=this.Ed[d];d++)c.hf=[],c.Ci=c.d.scrollLeft,c.Di=c.d.scrollTop,e=pd(c.d),g=N(c.d),c.Q=
new fd(e.y,e.x+g.width,e.y+g.height,e.x);for(d=0;g=this.Pc[d];d++)for(e=0;c=this.Ed[e];e++)hc(c.d,g.d)&&(c.hf.push(g),g.Dd=c);this.Lb=k;for(d=0;c=this.Ed[d];d++)L(c.d,"scroll",this.dh,l,this);this.hb.Hd(a);a.preventDefault()}};
n.Wb=function(a){var b=a.sj?k:this.Lb;if(b&&b.qa){var c=a.clientX,a=a.clientY,d=rc(Tb(this.vc)),e=c+d.x,d=a+d.y,g;this.Jd&&(g=this.Jd(b.ib,b.Q,e,d));this.dispatchEvent(new ci("drag",this,this.sa,b.qa,b.ib,b.d,c,a,e,d));b.qa.dispatchEvent(new ci("drop",this,this.sa,b.qa,b.ib,b.d,c,a,e,d,g))}this.dispatchEvent(new ci("dragend",this,this.sa));Vc(this.hb,"drag",this.fi,l,this);Vc(this.hb,"end",this.Wb,l,this);Vc(Vb(this.sa.qc).body,"selectstart",this.Pi);for(b=0;c=this.Ed[b];b++)Vc(c.d,"scroll",this.dh,
l,this),c.hf=[];this.hb.$();dc(this.vc);delete this.sa;delete this.vc;delete this.hb;delete this.Pc;delete this.Lb};
n.fi=function(a){var b,c=rc(Tb(this.vc));b=new Ib(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.Lb,g;if(e){this.Jd&&e.qa&&(g=this.Jd(e.ib,e.Q,c,d));if(e.Q.contains(b)&&g==this.Og)return;e.qa&&(this.dispatchEvent(new ci("dragout",this,this.sa,e.qa,e.ib,e.d)),e.qa.dispatchEvent(new ci("dragout",this,this.sa,e.qa,e.ib,e.d,i,i,i,i,this.Og)));this.Og=g;this.Lb=k}if(this.mb.contains(b)){a:{for(var h=0;e=this.Pc[h];h++)if(e.Q.contains(b))if(e.Dd){if(e.Dd.Q.contains(b)){b=e;break a}}else{b=e;break a}b=
k}if((e=this.Lb=b)&&e.qa)this.Jd&&(g=this.Jd(e.ib,e.Q,c,d)),c=new ci("dragover",this,this.sa,e.qa,e.ib,e.d),c.$k=g,this.dispatchEvent(c),e.qa.dispatchEvent(new ci("dragover",this,this.sa,e.qa,e.ib,e.d,a.clientX,a.clientY,i,i,g));else if(!e){this.ma||(this.ma=new di(this.mb.clone()));a=this.ma.Q;a.top=this.mb.top;a.right=this.mb.right;a.bottom=this.mb.bottom;a.left=this.mb.left;for(g=0;e=this.Pc[g];g++)b=e.Q,e.Dd&&(e=e.Dd.Q,b=new fd(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,
e.bottom),Math.max(b.left,e.left))),e=k,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),e!==k&&h!==k&&(Math.abs(e-c)>Math.abs(h-d)?h=k:e=k),e===k?h!==k&&(h<=d?a.top=h:a.bottom=h):e<=c?a.left=e:a.right=e;this.Lb=10<=(a.right-a.left)*(a.bottom-a.top)?this.ma:k}}};n.Pi=ea(l);
n.dh=function(a){for(var b=0,c;c=this.Ed[b];b++)if(a.target==c.d){var d=c.Di-c.d.scrollTop,e=c.Ci-c.d.scrollLeft;c.Di=c.d.scrollTop;c.Ci=c.d.scrollLeft;this.ma&&this.Lb==this.ma&&(0<d?this.ma.Q.top+=d:this.ma.Q.bottom+=d,0<e?this.ma.Q.left+=e:this.ma.Q.right+=e);for(var g=0,h;h=c.hf[g];g++)h=h.Q,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,ei(this,h)}this.hb.qi(a)};
function ei(a,b){if(1==a.Pc.length)a.mb=new fd(b.top,b.right,b.bottom,b.left);else{var c=a.mb;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}n.k=function(){ai.e.k.call(this);for(var a,b=0;a=this.md[b];b++)this.Qh&&(Vc(a.element,"mousedown",a.ei,l,a),this.wg&&B(a.element,this.wg)),this.Rh&&this.zg&&B(a.element,this.zg),a.$();this.md.length=0};
function ci(a,b,c,d,e,g,h,m,s,y,x){Gc.call(this,a);this.Wl=b;this.Xl=c;this.Zl=d;this.am=e;this.$l=g;this.clientX=h;this.clientY=m;this.xm=s;this.ym=y;this.$k=x}t(ci,Gc);ci.prototype.k=aa();function fi(a,b){K.call(this);this.element=F(a);this.data=b;this.J=k;this.element||f(Error("Invalid argument"))}t(fi,ed);n=fi.prototype;n.qc=k;
n.ei=function(a){if(Mc(a)){var b=a.target;b&&(L(b,"mousemove",this.Ec,l,this),L(b,"mouseout",this.Ec,l,this),L(b,"mouseup",this.Pf,l,this),this.qc=b,this.xg=new Ib(a.clientX,a.clientY),a.preventDefault())}};n.Ke=ba("J");n.Ec=function(a){var b=this.qc,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.xg.x)+Math.abs(a.clientY-this.xg.y)||c)Vc(b,"mousemove",this.Ec,l,this),Vc(b,"mouseout",this.Ec,l,this),Vc(b,"mouseup",this.Pf,l,this),this.J.Hd(a,this)};
n.Pf=function(){var a=this.qc;Vc(a,"mousemove",this.Ec,l,this);Vc(a,"mouseout",this.Ec,l,this);Vc(a,"mouseup",this.Pf,l,this);delete this.xg;this.qc=k};function di(a,b,c,d){this.Q=a;this.qa=b;this.ib=c;this.d=d}di.prototype.Dd=k;function gi(){ai.call(this)}t(gi,ai);function hi(a,b){b.Ke(a);a.md.push(b);a.Ef&&bi(a,b)};function ii(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Ea(d),'="',Ea(b[d]),'" ');var e=c.join("");return a.replace(ji,function(a,b,c,d,y){a=[Ea(b)];if(!c)return a[0];a.push("<a ",e,'href="');d?(a.push("mailto:"),c=d,d=""):(y||a.push("http://"),(d=c.match(ki))?(c=d[1],d=d[2]):d="");c=Ea(c);d=Ea(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var ki=/^(.*)([:;,\.?\[\]])$/,ji=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function li(){}t(li,dg);ma(li);n=li.prototype;n.wc=aa();n.h=function(a,b){wg(a);a.fb&=-256;Bg(a,32,l);li.e.h.call(this,a,b);a.lc(b.value);return b};n.M=function(a){wg(a);a.fb&=-256;Bg(a,32,l);return a.Ha().M("textarea",{"class":fg(this,a).join(" "),disabled:!a.isEnabled()},a.Pa||"")};n.Ob=function(a){return"TEXTAREA"==a.tagName};n.mc=la;n.Ff=function(a){return a.isEnabled()};n.Nc=la;n.ja=function(a,b,c){li.e.ja.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.Ma=la;
n.lc=function(a,b){a&&(a.value=b)};n.fa=ea("goog-textarea");function mi(a,b,c){vg.call(this,a,b||li.a(),c);wg(this);this.Mc(j);a||(this.Pa="")}t(mi,vg);var ni=ob||w;n=mi.prototype;n.zc=l;n.ta=0;n.Yh=0;n.di=0;n.Fh=l;n.we=l;n.qg=l;n.pg=l;function oi(a){return a.wd.top+a.wd.bottom+a.Wg.top+a.Wg.bottom}function pi(a){var b=a.di,c=a.b();b&&(c&&a.we)&&(b-=oi(a));return b}function qi(a){var b=a.Yh,c=a.b();b&&(c&&a.we)&&(b-=oi(a));return b}n.oa=function(a){this.lc(String(a))};n.s=function(){return this.b().value};n.lc=function(a){mi.e.lc.call(this,a);this.resize()};
n.Eb=function(a){mi.e.Eb.call(this,a);this.b().disabled=!a};n.resize=function(){this.b()&&this.je()};n.z=function(){mi.e.z.call(this);var a=this.b();hd(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.wd=xd(a,"padding");this.Wg=Ad(a);M(M(M(M(this.i(),a,"scroll",this.je),a,"focus",this.je),a,"keyup",this.je),a,"mouseup",this.fk);this.resize()};
function ri(a){if(!a.Fh){var b=a.b().cloneNode(l);hd(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ha().w.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.qg=d>c;b.style.borderWidth="10px";a.pg=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.we=j);dc(b);a.Fh=j}var b=a.b(),c=a.b().scrollHeight,e=a.b(),d=e.offsetHeight-e.clientHeight;if(!a.qg)var g=a.wd,d=d-(g.top+g.bottom);
a.pg||(e=Ad(e),d-=e.top+e.bottom);c+=0<d?d:0;a.we?c-=oi(a):(a.qg||(d=a.wd,c+=d.top+d.bottom),a.pg||(a=Ad(b),c+=a.top+a.bottom));return c}function si(a,b){a.ta!=b&&(a.ta=b,a.b().style.height=b+"px")}function ti(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.je=function(){if(!this.zc){var a=l;this.zc=j;var b=this.b(),c=this.ta;if(b.scrollHeight){var d=l,e=l,g=ri(this),h=b.offsetHeight,m=pi(this),s=qi(this);m&&g<m?(si(this,m),d=j):s&&g>s?(si(this,s),b.style.overflowY="",e=j):h!=g?si(this,g):this.ta||(this.ta=g);!d&&(!e&&ni)&&(a=j)}else ti(this);this.zc=l;a&&(a=this.b(),this.zc||(this.zc=j,b=l,a.value||(a.value=" ",b=j),(e=a.scrollHeight)?(g=ri(this),d=pi(this),h=qi(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.wd,a.style.paddingBottom=h.bottom+1+"px",ri(this)==
g&&(a.style.paddingBottom=h.bottom+e+"px",a.scrollTop=0,e=ri(this)-e,e>=d?si(this,e):si(this,d)),a.style.paddingBottom=h.bottom+"px")):ti(this),b&&(a.value=""),this.zc=l));c!=this.ta&&this.dispatchEvent("resize")}};n.fk=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.ta&&(this.ta=this.di=b)};function ui(a,b,c,d,e,g,h){Q.call(this);this.cc=pe();this.Oa=a;this.Be=b;this.eg=c;this.hg=d;this.ef=e.categories;this.xj=e.feed_categories;this.zj=e.feed_id;this.Bg=g||k;this.tc=h||k;this.of=this.cc?new gi:k;this.Yb={pending:l,all:l};this.La=["pending","all","playlists","publishers","categories"]}t(ui,Q);var vi="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),wi="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
n=ui.prototype;
n.q=function(a){ui.e.q.call(this,a);a.innerHTML="";a.scrollTop=0;uc(a,Gh);var b=G("pending-content",a);u(this.Be,function(a){xi(this,b,a)},this);this.Gk=G("playlists-content",a);u(this.eg,this.Sg,this);this.Jk=G("publishers-content",a);u(this.hg,this.Tg,this);this.oj=G("categories-list",a);this.lh=G("feed-ids",a);this.yj=G("feed-cats",a);T("/admin/_categories",q(function(a){a=V(a.target);u(a,function(a){yi(this,a,"category",Va(this.ef,a.id)||!this.ef.length)},this)},this));u(wi,function(a){yi(this,a,
"feed_category",Va(this.xj,a))},this);u(vi,function(a){yi(this,a,"feed_id",this.zj==a)},this);this.resize()};
n.z=function(){ui.e.z.call(this);this.ha=G("input",this.b());var a=new mg(this.ha),b=new lh(this.ha);this.za=G("tabs",this.b());this.A="pending";var c=l;M(M(M(M(this.i(),window,"resize",za(R,q(this.resize,this))),a,"key",q(function(a){"13"==a.keyCode&&zi(this,this.ha.value)},this)),b,"after_paste",q(function(){zi(this,this.ha.value)},this)),this.za,"click",q(function(a){a=pc(a.target,"li");this.zb(a)},this));M(this.i(),this.b(),"scroll",q(function(){if(this.Oa&&!c&&!this.Yb[this.A]&&("pending"==this.A||
"all"==this.A)&&this.b().scrollTop+Zb().height>this.b().scrollHeight-this.b().clientTop){c=j;var a=G("spinner",this.b());O(a,j);var b="pending"==this.A?this.Be:this.$e;T("/admin/_media/collection/"+this.Oa+"?offset="+b.length+("pending"==this.A?"&pending=1":""),q(function(g){c=l;g=ef(zf(g.target)).medias;g=Ra(g,function(a){return new Od(a)});Za(b,g);var h=G(this.A+"-content",this.b());u(g,function(a){xi(this,h,a)},this);this.Yb[this.A]=!g.length;E(a,"finished",!g.length)},this))}},this));this.resize()};
n.resize=function(){sd(this.b(),Zb().height-40)};
function zi(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.Oa&&c&&(a.ha.disabled="disabled",T("admin/_add/collection/"+a.Oa,q(function(a){this.ha.value="";this.ha.disabled="";a=V(a.target);if("media"==a.type){var b=Wd(Vd.a(),a.data);Ta(this.Be,function(a){return a.id==b.id})||(this.Be.push(b),a=G("pending-content",this.b()),xi(this,a,b,j),this.zb(Xb("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Ta(this.eg,function(a){return a.id==
c.id})||(this.eg.push(c),this.Sg(c),this.zb(Xb("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Ta(this.hg,function(a){return a.id==h.id})&&(this.hg.push(h),this.Tg(h),this.zb(Xb("li","publishers",i)[0]))}},a),"POST","url="+c))}
n.zb=function(a){u(this.La,function(b){E(this.za.parentElement,b,D(a,b));this.A=D(a,b)?b:this.A},this);this.Oa&&!this.$e&&T("/admin/_media/collection/"+this.Oa,q(function(a){a=ef(zf(a.target)).medias;this.$e=Ra(a,function(a){return new Od(a)});var c=G("all-content",this.b());u(this.$e,function(a){xi(this,c,a)},this)},this))};
n.Sg=function(a){var b=I(Hh,{name:a.name});this.Gk.appendChild(b);var c=G("remove",b);M(this.i(),c,"click",function(){T("admin/_remove/collection/"+this.Oa,q(function(){dc(b)},this),"POST","pub_id="+a.id)})};n.Tg=function(a){var b=I(Jh,{name:a.name||a.id,L:a.picture});this.Jk.appendChild(b);var c=G("remove",b);M(this.i(),c,"click",function(){T("admin/_remove/collection/"+this.Oa,q(function(){dc(b)},this),"POST","pub_id="+a.id)})};
function yi(a,b,c,d){if("category"==c){var e=I(Ih,{name:b.name,id:b.id});a.oj.appendChild(e)}else e=I(Ih,{name:b,id:b}),("feed_id"==c?a.lh:a.yj).appendChild(e);E(e,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;M(a.i(),e,"click",function(){"feed_id"==c&&u(ec(this.lh),function(a){B(a,"enabled")});var a=Hb(e,"enabled");T("admin/_edit/collection/"+this.Oa,Ud(),"POST",g+"&enabled="+a)})}
function xi(a,b,c,d){var e=I(Qh,{media:c,jc:Td(c)});d?cc(b,e,0):b.appendChild(e);a.cc&&(b=a.of,d=new fi(e,i),hi(b,d));var b=new Sh(G("repos",e)),g=G("thumb",e),d=G("play",e),h=G("approve",e),m=G("remove",e);b.hh=function(a,b){var c=b-24;-50<=c&&50>=c&&hd(g,"background-position-y",50-c+"%")};M(M(M(M(a.i(),b,"end",function(){var a=(g.style[Ma("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);T("/admin/_posthumb",Ud(),"POST","media="+c.id+"&pos="+a)}),d,"click",q(a.Ck,a,c)),h,"click",
q(a.Ug,a,c,j,e)),m,"click",q(a.Ug,a,c,l,e));R(za(A,e,"show"))}n.Uf=function(a,b){T("/admin/_addprogram",q(function(b){b=ef(zf(b.target));b=new le(b);a.c(ve,b)},this),"POST","channel="+a.id+"&media="+b.id)};n.Ug=function(a,b,c){var d=a.pj||this.Oa;T("admin/_media/collection",q(function(){A(c,"remove");R(function(){dc(c)},300);Y.a();var b;Y.a();b=mc(F("toggle-pending"));Ai(0,b-1);Z.a().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};n.Ck=function(a){a=me(a);Ef.a().c(Ff,a)};function Bi(a){Q.call(this);this.qb=a||k;this.Rc=this.Xg=this.Vi=this.bh=0}t(Bi,Q);n=Bi.prototype;n.M=function(){this.d=I(Fh)};n.q=function(a){Bi.e.q.call(this,a);var b=I(Fh,{Lh:this.qb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
n.z=function(){Bi.e.z.call(this);this.ha=G("input",this.b());var a=new mg(this.ha);this.Nk=G("scrollable",this.b());this.$d=G("admin-channels",this.b());this.Dg=G("topics",this.b());this.be=G("collections",this.b());this.ah=F("admin-col-list");this.Wd=F("admin-list");W.a();this.qb?(T("/admin/_topicmedias/"+this.qb,q(function(a){a=V(a.target);Lb(a,function(a,b){O(this.Dg.parentElement,j);if(a&&a.length){var e=I(Mh,{hl:b,Ic:a.length});this.Dg.appendChild(e);L(e,"click",q(function(){a=Ra(a,function(a){return new Od(a)});
(new ui("",a,[],[],[])).h(this.Wd);Z.a().c("navigate",this.Wd,l,b)},this));Z.a().subscribe("approved",function(b){if(Ta(a,function(a){return a.id==b.id})){var d=G("pending",e),m=mc(d)-1;0>=m?(dc(e),Cc(e)):ic(d,m)}},this)}},this);this.Rc&&Ai(Y.a(),this.Rc);this.Vi=N(this.Dg.parentElement).height;this.resize()},this)),T("/admin/_collections/"+this.qb,q(function(a){a=V(a.target);O(this.be.parentElement,!!a.length);u(a,this.Rg,this);this.Rc&&Ai(Y.a(),this.Rc);this.bh=N(this.be.parentElement).height;this.resize()},
this))):T("/admin/_channels",q(function(a){a=V(a.target);O(this.$d.parentElement,!!a.length);u(a,this.Qg,this);this.Xg=N(this.$d.parentElement).height;this.resize()},this));M(this.i(),a,"key",q(function(a){"13"==a.keyCode&&this.ha.value&&(a=this.ha.value,this.ha.disabled="disabled",T(this.qb?"/admin/_collections":"/admin/_channels",q(function(a){a=V(a.target);this.qb?(O(this.be.parentElement,!!a),this.Rg(a)):(O(this.$d.parentElement,!!a),this.Qg(a));this.ha.disabled="";this.ha.value=""},this),"POST",
"name="+a+(this.qb?"&cid="+this.qb:"")))},this))};
n.Qg=function(a){var b=new ue(a),c=I(Kh,{O:b});this.$d.appendChild(c);L(c,"click",q(function(a){D(a.target,"on")||D(a.target,"off")?(E(c,"on",D(a.target,"on")),E(c,"off",!D(a.target,"on")),T("/admin/_channel/online/"+b.id,q(function(a){a.target.disabled="";a=V(a.target);E(c,"on",a.online);E(c,"off",!a.online)},this),"POST","online="+D(a.target,"on"))):D(a.target,"program")?T("/admin/_program",Ud(),"POST","channel_id="+b.id):D(a.target,"fetch")?T("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):D(a.target,"remove")&&confirm("Remove "+b.name+"?")?(O(c,l),T("/admin/_channels/"+b.id,function(a){V(a.target).deleted?dc(c):O(c,j)},"DELETE")):((new Bi(b.id)).h(this.ah),Z.a().c("navigate",this.ah,l,b.name))},this))};
n.Rg=function(a){var b=I(Lh,{ff:a});this.Rc+=a.pending;this.be.appendChild(b);L(b,"click",q(function(c){D(c.target,"remove")&&confirm("Remove "+a.name+"?")?(O(b,l),T("/admin/_collections/"+a.id,function(a){V(a.target).deleted?dc(b):O(b,j)},"DELETE")):D(c.target,"fetch")?T("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):T("/admin/_media/collection/"+a.id+"?pending=1",q(function(b){var b=ef(zf(b.target)),c=b.medias,c=Ra(c,function(a){return new Od(a)});
(new ui(a.id,c,b.playlists,b.publishers,b.categories)).h(this.Wd);Z.a().c("navigate",this.Wd,l,a.name)},this))},this));Z.a().subscribe("approved",function(c,d){if(d==a.id){var e=G("pending",b),g=mc(e)-1;0>=g?(dc(b),Cc(b)):ic(e,g)}},this)};n.resize=function(){sd(this.Nk,this.Xg+this.Vi+this.bh+110)};function Ci(a,b,c){Q.call(this);this.Hi=!!a;this.Zd=!!b;this.lg=!!c;this.value="";this.g=new mi(this.lg?"reply...":"Add to the conversation.");this.Aa=new Jg("tweet");Bg(this.Aa,16,j);this.Ga=new Jg("post");Bg(this.Ga,16,j);a=U.a().j;this.ee=a.Hk;this.Qe=a.yi;this.Nb=new Jg("add");this.kg=k;this.Qc={};this.pa=[];this.ra=-1;this.ti=this.Ui=k}t(Ci,Q);var Di=/@(\w+)/;n=Ci.prototype;n.M=function(){this.d=I(zh)};
n.q=function(a){Ci.e.q.call(this,a);A(a,"decorated");var b=H("div","suggestions");a.appendChild(b);b=H("div","highlighter");a.appendChild(b)};
n.z=function(){Ci.e.z.call(this);this.g.h(G(this.lg?"reply-textarea":"comment-textarea",this.b()));var a=this.g;a.Yh=70;a.resize();a=new mg(this.g.rb());this.lg||(this.qj=G("comment-controls",this.b()),O(this.qj,this.Hi),E(this.b(),"show-controls",this.Hi),this.dm=G("input-holder",this.b()),Id(this,this.Aa),this.Aa.h(G("tweet-toggle",this.b())),T("/_twitter",q(function(a){a=V(a.target);this.Qe=this.Qe&&a.auth;this.kl=a.auth_url;Ag(this.Aa,this.Qe)},this)),Id(this,this.Ga),this.Ga.h(G("fb-toggle",
this.b())),FB.api("/me/permissions",q(function(a){this.ee=this.ee&&!!a.data[0].publish_stream;Ag(this.Ga,this.ee)},this)),Id(this,this.Nb),this.Nb.h(G("add-comment",this.b())),this.Nb.Eb(l),M(M(M(this.i(),this.Ga,"action",q(this.ok,this)),this.Aa,"action",q(this.zk,this)),this.Nb,"action",q(this.Za,this)),sh(rh.a(),this.Aa.b(),"top",{text:"Share on Twitter"}),sh(rh.a(),this.Ga.b(),"top",{text:"Share on Facebook"}),U.a().j.subscribe(oe,function(){Ag(this.Aa,j)},this));this.lb=G("suggestions",this.b());
this.zf=G("highlighter",this.b());M(M(M(this.i(),this.g.b(),"focus",q(function(){this.dispatchEvent("focus")},this)),a,"key",q(function(a){a.stopPropagation();if("13"==a.keyCode){a.preventDefault();if(this.pa.length&&this.pa.reverse()[this.ra]){var c=this.g.s().slice(0,this.g.b().selectionStart),c=c.split(" ").pop(),d=this.pa[this.ra];this.Qc[d.id]=d;Ei(this,c.match(Di)[0]);this.g.b().focus();O(this.lb,l);this.pa=[];this.ra=-1;c=this.s().length;this.setSelectionRange(c,c)}else this.Nb.setActive(this.g.s()),
this.Za(a);this.Zd&&Ei(this)}else"27"==a.keyCode&&this.pa.length?(O(this.lb,l),this.pa=[],c=this.s().length,this.setSelectionRange(c,c),this.ra=-1,this.Qc={}):("38"==a.keyCode||"40"==a.keyCode)&&this.pa.length?(a.preventDefault(),c=Array.prototype.slice.call(ec(this.lb)),c.reverse()[this.ra]&&B(c[this.ra],"selected"),this.ra="38"==a.keyCode?Math.min(this.ra+1,this.pa.length-1):Math.max(this.ra-1,-1),-1!=this.ra&&A(c[this.ra],"selected")):R(q(function(){this.Nb.Eb(!!this.g.s());var c=this.g.s().slice(0,
this.g.b().selectionStart),c=c.split(" ").pop(),d=this.Zd&&Di.test(c);O(this.lb,d);if("8"==a.keyCode)this.zf.innerHTML.match('<div class="token">.*</div>$');else if(d&&(c=c.match(Di),this.pa=U.a().search(c[1]),this.pa.length)){var d=this.pa,h=c[0];this.lb.innerHTML="";O(this.lb,j);u(d.slice(0,3),function(a){var b=H("div","suggestion",a.name);this.lb.appendChild(b);M(this.i(),b,"click",q(function(){this.Qc[a.id]=a;Ei(this,h);this.g.b().focus();var b=this.s().length;this.setSelectionRange(b,b);O(this.lb,
l);this.pa=[];this.ra=-1},this))},this)}this.Zd&&Ei(this)},this))},this)),this.g,"resize",q(function(a){this.dispatchEvent(a)},this));Z.a().subscribe("reply-comment",this.jg,this);Z.a().subscribe("reply-tweet",this.Lk,this)};
function Ei(a,b){var c=a.g.s(),d=c,e=c;u(Mb(a.Qc),function(a){var h=b&&0==Da(b,("@"+a.name).substr(0,b.length))?b:a.name;d=d.replace(RegExp(h,"g"),'<div class="token">'+a.name+"</div> ");this.zf.innerHTML=d;this.value=e=e.replace(RegExp(h,"g"),"@["+a.id+":"+a.name+"]");b&&this.g.oa(c.replace(h,a.name)+" ")},a)}n.jg=function(a,b){this.ti=a.id?a.id:a.toString();this.kg=b};
n.Lk=function(a){this.jm=a.id;this.oa((this.s()?this.s()+" ":"")+"@"+a.handle+" ");this.na(j);this.Aa.Eb(j);this.na(j);a=this.s().length;this.setSelectionRange(a,a)};n.setSelectionRange=function(a,b){if(this.g.b().setSelectionRange)this.g.b().focus(),this.g.b().setSelectionRange(a,b);else if(this.g.b().createTextRange){var c=this.g.b().createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",a);c.select()}};
n.s=function(){this.Zd&&Mb(this.Qc).length?Ei(this):this.value=this.g.s();return this.value};n.oa=function(a,b,c){Ag(this.Ga,!!b);Ag(this.Aa,!!c);this.g.oa(a);this.value=a;this.Nb.Eb(!!a)};n.clear=function(){this.g.oa("");this.Qc={};this.pa=[];this.zf.innerHTML="";O(this.lb,l)};n.ne=function(){return D(this.b(),"focused")};n.na=function(a){a&&this.g.b().focus();return E(this.b(),"focused",a)};
n.Za=function(){this.s()&&(this.dispatchEvent({type:"add",lj:q(function(a){var b=V(a.target);if(b.comment){var a=new Fi(b.comment),c=b.tweet?new Gi(b.tweet):k;if(b=Wd(Vd.a(),b.comment.media))b.c(Qd,a),c&&b.c("add-tweet",c)}},this),hd:jg(this.Ga,16),Gg:jg(this.Aa,16),text:this.s(),I:this.ti,Ti:this.kg&&this.kg.id}),this.clear())};n.ok=function(){!this.ee&&jg(this.Ga,16)&&(O(F("overlay"),j),FB.login(q(function(a){O(F("overlay"),l);this.wj=!!a.authResponse;Ag(this.Ga,this.wj)},this),{scope:"publish_stream"}))};
n.zk=function(){if(!this.Qe&&jg(this.Aa,16)){Ag(this.Aa,l);var a=window.open(this.kl,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Fi(a){this.id=a.id;this.o=a.user?Ee(U.a(),a.user):k;this.text=a.text;this.media=a.media?Wd(Vd.a(),a.media):k;this.time=a.time?Pd(a.time+"Z"):new ae;this.Db=Hi(this.time.getTime());this.I=a.parent_id;this.Fe=[];a.replies&&u(a.replies,function(a){a=new Fi(a);this.Fe.push(a)},this)}
function Ii(a,b,c,d,e,g,h,m){var s=new Fi({text:c,parentId:g});s.o=a;s.I=g||k;T("/_comment",q(function(a){a=V(a.target);s.id=a.comment.id;m&&m(s)},this),"POST","media_id="+b+"&text="+c+"&tweet="+e+"&facebook="+d+(g?"&parent_id="+g:"")+(h?"&to_user_id="+h:""));return s};function Gi(a){this.id=a.id;this.o=a.user&&Ee(U.a(),a.user);this.handle=a.handle;this.L=a.picture;this.text=a.text;this.time=Pd(a.time+"Z")};function Ji(a,b,c,d){Q.call(this);this.f=a;this.Ca=b||[];this.dd={};this.Pd=!!c;this.eb=d||[];this.Od={};this.aa=this.Pl=0;this.dc={}}t(Ji,Q);n=Ji.prototype;
n.q=function(a){Ji.e.q.call(this,a);a.innerHTML="";a.scrollTop=0;A(this.b(),"ios-scroll");this.t=H("div","loading",H("div","loading-spinner"));this.b().appendChild(this.t);O(this.t,l);this.gc=H("div","no-comments","Start the conversation.");this.b().appendChild(this.gc);this.l=H("div","comments tweets");this.b().appendChild(this.l);M(M(this.i(),window,"resize",za(R,q(this.resize,this))),this.l,"click",q(this.gf,this));this.Ca.length?(u(this.Ca,function(a){this.Mb(a)},this),this.Dc=N(this.l).height):
this.Pd&&this.eb.length?(u(this.eb,function(a){this.oc(a)},this),this.Dc=N(this.l).height):O(this.t,j);this.Pd?(T("/_tweet/"+this.f.id+"?offset="+this.eb.length,q(function(a){O(this.t,l);a=ef(zf(a.target));a=Ra(a,function(a){a=new Gi(a);this.oc(a);return a},this);this.Dc=N(this.l).height;this.resize()},this)),this.f.subscribe("add-tweet",function(a){this.oc(a,j)},this)):(T("/_comment/"+this.f.id+"?offset="+this.Ca.length,q(function(a){O(this.t,l);a=ef(zf(a.target));a=Ra(a,function(a){a=new Fi(a);
this.Mb(a);return a},this);this.Dc=N(this.l).height;this.resize()},this)),this.f.subscribe(Qd,this.Mb,this),this.f.subscribe(Rd,this.ig,this));this.resize(41)};
n.oc=function(a,b){this.Od[a.id]=a;O(this.gc,l);var c=ii(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(xh,{ob:a,text:c,timestamp:Hi(a.time.getTime())});Ki(Ae.a(),a.time,G("timestamp",c));b?cc(this.l,c,0):this.l.appendChild(c);this.resize();O(gc(this.l),j)};
n.gf=function(a){a=a.target;if(this.Pd){var b=pc(a,k,"tweet");b&&(b=this.Od[b.id.split("-")[1]],D(a,"reply")&&Z.a().c("reply-tweet",b))}else if(b=pc(a,k,"comment")){var b=b.id.split("-")[1],c=this.dd[b];D(a,"reply")?G("reply-textarea",this.dc[c.I?c.I:c.id]).focus():D(a,"remove")&&this.f.c(Rd,b)}};n.ig=function(a){var a=F("listcomment-"+a),b=a.nextSibling;for(dc(a);b&&D(b,"reply");)b=b.nextSibling,dc(b)};
n.Mb=function(a){this.Ca.push(a);O(this.gc,l);var b=ii(a.text),b=b.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,e){return'<a href="#user:'+b+'">'+e+"</a>"}),b=I(yh,{prefix:"listcomment",S:a,text:b,si:a.o.id==U.a().j.id});Ki(Ae.a(),a.time,G("timestamp",b));a.I?G("replies",this.dc[a.I]).appendChild(b):this.l.appendChild(b);u(a.Fe,function(a){this.Mb(a)},this);a.I||(this.l.scrollTop=this.l.scrollHeight);a.id&&Li(this,a,b);return b};
function Li(a,b,c){a.dd[b.id]=b;if(!b.I){a.dc[b.id]=c;var d=G("reply-input",c),c=G("reply-textarea",c);M(a.i(),c,"click",q(function(){if(!D(d,"decorated")){var a=new Ci(l,j,j);a.h(d);a.jg(b,b.o);M(this.i(),a,"add",q(function(a){this.Za(a)},this))}},a))}}n.resize=function(a){this.aa=a||this.aa;sd(this.b(),Zb().height-42-this.aa-(pc(this.b(),k,"tabbed")?30:0))};function Mi(a,b,c,d){Q.call(this);this.f=this.V=a;this.Ca=b||[];this.eb=c||[];this.Pd=!!d;this.cd=new Ji(a,this.Ca);this.Eg=new Ji(a,i,j,this.eb);this.g=new Ci(j,j);this.La=["comments","tweets"];this.Ld={}}t(Mi,Q);n=Mi.prototype;n.q=function(a){Mi.e.q.call(this,a);A(a,"conversation");A(a,"ios-scroll");uc(a,Oh);A(a.firstChild,this.Pd?"tweets":"comments")};
n.z=function(){this.za=G("tabs",this.b());this.cd.h(G("comments-content",this.b()));this.Eg.h(G("tweets-content",this.b()));Gd(this.g,this.b());M(M(M(M(M(M(M(this.i(),this.za,"click",q(function(a){a=pc(a.target,"li");this.zb(a)},this)),this.g,"add",q(this.Za,this)),this.g,"resize",q(function(){D(this.b().firstChild,"comments")?this.cd.resize(41):this.Eg.resize(41)},this)),window,"click",q(function(a){!pc(a.target,k,"comment-input")&&!this.g.s()&&this.g.na(l)},this)),G("no-comments",this.b()),"click",
q(this.oi,this)),Wb("no-comments",this.b())[1],"click",q(this.oi,this)),window,"click",q(function(a){!pc(a.target,k,"comment-input")&&!this.g.s()&&(this.g.na(l),this.g.collapse())},this));this.cd.resize(41);this.Eg.resize(41)};n.oi=function(a){a.preventDefault();a.stopPropagation();this.g.na(j)};
n.Za=function(a){var b=Ii(U.a().j,this.f.id,a.text,a.hd,a.Gg,a.I,a.Ti,q(function(a){var b=this.Ld[a.time.getTime()];b.id="infocomment-"+a.id;Li(this.cd,a,b)},this)),c=this.cd.Mb(b);this.Ld[b.time.getTime()]=c;a.hd&&!a.I&&(FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.nb,caption:"on XYLO",description:this.f.description},aa()),Ag(this.g.Ga,l))};n.zb=function(a){u(this.La,function(b){E(this.za.parentElement,b,D(a,b));this.A=D(a,b)?b:this.A},this)};function Hi(a){var b=r(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return Ni(c,b,0);c=Math.floor(c/60);if(24>c)return Ni(c,b,1);c=new Date(r());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?Ni(c,b,2):""}
function Ni(a,b,c){return!b&&0==c?(b=Aa("{$num} minute ago",{num:a}),c=Aa("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=Aa("in {$num} minute",{num:a}),c=Aa("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=Aa("{$num} hour ago",{num:a}),c=Aa("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=Aa("in {$num} hour",{num:a}),c=Aa("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=Aa("{$num} day ago",{num:a}),c=Aa("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=Aa("in {$num} day",{num:a}),c=Aa("in {$num} days",
{num:a}),1==a?b:c):""};function Oi(a,b,c,d,e){Q.call(this);u(a.Wf,function(a){var b=a.X();b&&b.media.id==this.id?(this.Fk=a,u(a.Vd,function(a){a.Pe||(this.Cb[a.o.id]=a.o)})):this.Cb={}},a);this.f=this.V=a;this.re=c||k;this.Uh=d||k;this.Pj=l;this.mh=!b;this.sd=EMBED||!!e;this.Se=[];this.Ud={};this.Ca=[];this.dd={};this.dc={};this.Ld={};this.eb=[];this.Od={};this.g=new Ci(j,j);this.Gb=new Jg("Star");Bg(this.Gb,16,j);this.sf=new Jg("Facebook");this.Hg=new Jg("Twitter");this.wi=new Jg("Play");this.Jc=new Jg("Plus");Bg(this.Jc,
16,j);this.aa=0}t(Oi,Q);n=Oi.prototype;n.M=function(){this.d=I(vh,{media:this.f})};n.q=function(a){Oi.e.q.call(this,a);var b=I(vh,{media:this.f,description:this.f.description?ii(this.f.description):"",jc:Td(this.f),Xj:this.re?this.re.id:k});a.innerHTML=b.innerHTML};
n.z=function(){Oi.e.z.call(this);this.Lg=G("viewers",this.b());var a=G("picture",this.b()),b=G("scrollable",this.b()),c=G("publisher",this.b()),d=G("title",this.b()),e=G("links",this.b());this.t=G("loading",this.b());var g=a.firstChild;this.kf=G("info-contents",this.b());this.Td=G("user-poll",this.b());this.vm=G("tweet-holder",this.b());this.cb=G("tweets",this.b());this.Ub=G("dot-nav",this.b());this.l=G("comments",this.b());this.gc=G("no-comments",this.b());Gd(this.g,this.b());this.Gb.h(G("star",
this.b()));Ag(this.Gb,re(U.a().j,this.f));this.sf.h(G("facebook",this.b()));this.Hg.h(G("twitter",this.b()));this.wi.h(G("play",this.b()));this.Jc.h(G("plus",this.b()));this.Fg=new Fe(5E3);this.zm=G("watch-with",this.b());E(this.b(),"mini",this.sd);!this.mh||this.f.nh?Pi(this,l,this.f.description,this.f.Je,this.f.Xi,this.f.gb):this.mh&&T("/_info/"+this.f.id,q(function(a){a=ef(zf(a.target));Pi(this,j,a.description,a.seen,a.tweets,a.comments)},this));if("youtubeUCAMPco9PqjBbI_MLsDOO4Jw"==this.f.ca.id||
"youtubeAMPco9PqjBbI_MLsDOO4Jw"==this.f.ca.id){var h=G("status",this.Td),m=G("poll-options",this.Td);ic(h,"WHO'S YOUR FAVORITE FINALIST?");h=I(Rh,{name:"Kree Harrison",cg:"31%"});m.appendChild(h);h=I(Rh,{name:"Angie Miller",cg:"52%"});m.appendChild(h);h=I(Rh,{name:"Candice Glover",cg:"17%"});m.appendChild(h);O(this.Td,j);M(this.i(),m,"click",q(function(a){if(!D(this.Td,"voted")){A(this.Td,"voted");var a=pc(a.target,k,"option"),b=mc(G("name",a));A(a,"selected");this.g.oa("@americanidol I just voted for "+
b,j,j);this.g.na(j);u(ec(m),function(a){var b=mc(G("percent-number",a));G("percent",a).style.width=b},this)}},this))}M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(this.i(),window,"resize",za(R,q(this.resize,this))),c,"click",q(function(){Z.a().c("media-list",this.f.ca.name,i,"/admin/_media/publisher/"+this.f.ca.id,this.f.ca.L,this.f.ca.description,this.f.ca.link,"/_publisher/"+this.f.ca.id)},this)),this.Gb,"action",q(function(){Vd.a().c("star",this.f,jg(this.Gb,16));T("/_star",i,"POST","media_id="+
this.f.id+(!jg(this.Gb,16)?"&delete=1":""))},this)),this.sf,"action",q(this.nk,this)),this.Hg,"action",q(this.yk,this)),this.wi,"action",q(this.rk,this)),this.Jc,"action",q(this.uk,this)),G("local",this.b()),"click",q(function(){O(G("link-select",this.b()),j);G("link-input",this.b()).select()},this)),this.g,"add",q(this.Za,this)),this.gc,"click",q(function(a){a.preventDefault();a.stopPropagation();this.g.na(j)},this)),G("conv-link",this.b()),"click",q(function(a){a.preventDefault();a.stopPropagation();
Z.a().c("conversation",this.f,this.Ca,this.eb)},this)),G("tweets-link",this.b()),"click",q(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.f,this.Ca,this.eb,j)},this)),this.g,"focus",q(function(){this.resize(0,j)},this)),this.g,"resize",q(function(a){this.resize(a.target.ta-41)},this)),this.Ub,"click",q(function(a){D(a.target,"dot")&&(Qi(this,a.target),this.Fg.stop())},this)),this.Fg,He,q(function(){var a=this.Pb&&(this.Pb.nextElementSibling!=i?this.Pb.nextElementSibling:
fc(this.Pb.nextSibling))||G("dot",this.b());R(q(function(){Qi(this,a)},this))},this)),window,"click",q(function(a){!pc(a.target,k,"comment-input")&&!this.g.s()&&(this.g.na(l),this.resize(0))},this)),g,"load",function(){O(g,j);R(function(){N(g).height<N(a).height+50&&A(g,"fix-height");N(g).width>2*N(a).width?A(g,"pan-left"):N(g).height>2*N(a).height&&A(g,"pan-top");g.style.marginTop=-N(g).height/2+"px";g.style.marginLeft=-N(g).width/2+"px";A(g,"show")})}),b,"scroll",q(function(){var h=((this.sd?100:
120)-b.scrollTop)/100;ud(c,Math.min(1,Math.max(h,0)));ud(d,Math.min(1,Math.max(h,0)));ud(e,Math.min(1,Math.max(h,0)));ud(g,Math.min(0.5,Math.max(h,0.1)));E(a,"scrolled",10<b.scrollTop)},this)),this.l,"scroll",q(this.og,this)),this.l,"click",q(this.gf,this)),this.cb,"click",q(this.jl,this)),G("desc-link",this.b()),"click",q(function(){var c=Hb(a,"scrolled");(new Vf(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,c?this.sd?70:170:0],300)).play()},this));this.re&&M(this.i(),G("prev-link",this.b()),"click",
q(function(){Z.a().c("media-info",this.re,j,i,this.g.s())},this));this.Uh&&this.g.oa(this.Uh);sh(rh.a(),this.Jc.b(),"left",{text:"Add to Queue"});sh(rh.a(),this.sf.b(),"left",{text:"Post to Facebook"});sh(rh.a(),this.Hg.b(),"left",{text:"Tweet"});sh(rh.a(),this.Gb.b(),"left",{text:"Save"});sh(rh.a(),G("eye-icon",this.b()),"left",{text:"Seen by"});sh(rh.a(),G("friends-icon",this.b()),"left",{text:"Visible by only your Facebook friends"});this.f.subscribe(Qd,function(a){Ri(this,a,j)},this);this.f.subscribe(Rd,
this.ig,this);this.f.subscribe("add-tweet",function(a){this.oc(a,j)},this);this.f.subscribe(Sd,function(a,b,c){Si(this,a,!c)},this);U.a().j.subscribe("set-starred",function(){Ag(this.Gb,re(U.a().j,this.f))},this);Ce().subscribe(we,function(a,b){Ag(this.Jc,b)},this)};
function Pi(a,b,c,d,e,g){c?(a.f.description=c,G("description",a.b()).innerHTML=ii(c),O(G("scrollable",a.b()),j)):(O(G("desc-link",a.b()),l),O(G("scrollable",a.b()),l));a.Se=Ra(d,function(a){a=b?Ee(U.a(),a):a;a.id!=U.a().j.id&&(O(this.Lg,j),this.Pj=j,Si(this,a,l));return a},a);Lb(a.f.Cb,function(a){Si(this,a,j)},a);a.eb=Ra(e,function(a){a=b?new Gi(a):a;this.oc(a);this.Pb=this.Ub.firstChild;A(this.Pb,"selected");return a},a);e.length&&a.Fg.start();a.l&&O(a.l.parentElement,j);O(a.gc,!g.length);g=Ra(g,
function(a){a=b?new Fi(a):a;a.I||Ri(this,a);return a},a);O(a.t,l);a.resize();b&&(a.f.Xi=a.eb,a.f.gb=g,a.f.Je=a.Se,a.f.nh=j)}n.sb=function(){return this.g.ne()||!!this.g.Ui||!!this.g.s()};function Qi(a,b){if(b){u(ec(a.Ub),function(a){return B(a,"selected")});a.Pb=b;A(a.Pb,"selected");var c=Ua(ec(a.Ub),function(a){return a==b});(new Vf(a.cb,[a.cb.scrollLeft,a.cb.scrollTop],[320*c,a.cb.scrollTop],200)).play();a.resize()}}
n.Za=function(a){var b=Ii(U.a().j,this.f.id,a.text,a.hd,a.Gg,a.I,a.Ti,q(function(a){var b=this.Ld[a.time.getTime()];b.id="infocomment-"+a.id;Ti(this,a,b)},this)),c=Ri(this,b);this.Ld[b.time.getTime()]=c;a.hd&&!a.I&&FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.nb,caption:"on XYLO",description:this.f.description},aa());te.a().S(this.f.id,a.hd,a.Gg)};
n.oc=function(a,b){this.Od[a.id]=a;var c=ii(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(xh,{ob:a,text:c,timestamp:Hi(a.time.getTime()),prefix:"infotweet"}),d=H("div","dot");Ki(Ae.a(),a.time,G("timestamp",c));b?(cc(this.cb,c,0),cc(this.Ub,d,0),10<ec(this.cb).length&&(dc(this.cb.lastChild),dc(this.Ub.lastChild),
Qi(this,d))):(this.cb.appendChild(c),this.Ub.appendChild(d));this.resize();O(gc(this.cb),j)};
function Ri(a,b,c){a.Ca.push(b);O(a.gc,l);var d=ii(b.text),d=d.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return'<a href="#user:'+b+'">'+c+"</a>"}),d=I(yh,{prefix:"infocomment",S:b,text:d,si:b.o.id==U.a().j.id});Ki(Ae.a(),b.time,G("timestamp",d));b.I?G("replies",a.dc[b.I]).appendChild(d):a.l.appendChild(d);u(b.Fe,function(a){Ri(this,a,c)},a);!b.I&&c&&(a.l.scrollTop=a.l.scrollHeight,a.kf.firstChild.scrollTop=a.kf.firstChild.scrollHeight);b.id&&Ti(a,b,d);return d}
function Ti(a,b,c){a.dd[b.id]=b;if(!b.I){a.dc[b.id]=c;var d=G("reply-input",c),c=G("reply-textarea",c);M(a.i(),c,"click",q(function(){if(!D(d,"decorated")){var a=new Ci(l,j,j);a.h(d);a.jg(b,b.o);M(this.i(),a,"add",q(function(a){this.Za(a)},this))}},a))}}
function Si(a,b,c){if(!c&&a.Ud[b.id])B(a.Ud[b.id],"online");else if(b.id!=U.a().j.id){if(!a.Ud[b.id]){var d=I(wh,{o:b});a.Ud[b.id]=d;cc(a.Lg,d,1);M(a.i(),d,"click",function(){Z.a().c("profile",b)});sh(rh.a(),d,"top",{text:b.ge()+(D(d,"online")?" is watching":" saw this")})}O(a.Lg,j);E(a.Ud[b.id],"online",c)}}n.jl=function(a){var a=a.target,b=pc(a,k,"tweet");b&&(b=this.Od[b.id.split("-")[1]],D(a,"reply")&&Z.a().c("reply-tweet",b))};
n.gf=function(a){var a=a.target,b=pc(a,k,"comment");if(b){var b=b.id.split("-")[1],c=this.dd[b];D(a,"reply")?G("reply-textarea",this.dc[c.I?c.I:c.id]).focus():D(a,"remove")&&this.f.c(Rd,b)}};n.ig=function(a){var b=F("infocomment-"+a),c=b.nextSibling;dc(b);for(Xa(this.Ca,function(b){return b.id==a});c&&D(c,"reply");)c=c.nextSibling,dc(c)};
n.og=function(){E(this.l.parentElement,"top-grad",!!this.l.scrollTop);var a=this.l.style.maxHeight,b=Zb().height,a=a.substring(0,a.length-2),c=N(this.l).height;E(this.l.parentElement,"bottom-grad",this.l.scrollTop<this.l.scrollHeight-a-5&&c>=a&&640<b)};
n.resize=function(a,b){this.aa=a!=i?a:this.aa;var c=Zb().height;sd(this.kf,c-(this.sd?183:283)-(this.Se.length?38:0));640<c&&this.l&&this.l.parentElement?(hd(this.l,"max-height",c-(new Ib(this.l.parentElement.offsetLeft,this.l.parentElement.offsetTop)).y-(this.sd?213:313)-(this.Se.length?38:0)-this.aa+"px"),this.og()):640>c&&(hd(this.l,"max-height",""),this.og());b&&R(q(function(){(new Vf(this.l,[this.l.scrollLeft,this.l.scrollTop],[this.l.scrollLeft,this.l.scrollHeight],400)).play()},this),0)};
n.nk=function(){O(F("overlay"),j);FB.ui({method:"feed",name:this.f.name,link:this.f.link,L:this.f.nb,caption:"on XYLO",description:this.f.description},function(){O(F("overlay"),l)});Ui(te.a(),this.f.id,j,l)};n.yk=function(){var a=window.open("https://twitter.com/share?url="+this.f.link+"&text=I'm watching "+this.f.name+" "+this.f.link,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();Ui(te.a(),this.f.id,l,j)};n.rk=function(){var a=me(this.V);Ef.a().c(Ff,a)};
n.uk=function(){Ce().c(we,this.V,jg(this.Jc,16))};function Vi(a,b,c,d,e,g){Q.call(this);this.cc=pe();this.$h=a||k;this.Rd=b||k;this.Mf={};this.Bg=c||k;this.tc=d||k;this.ih=g||k;this.bk=e||k;this.of=this.cc?new gi:k;this.Dc=this.Jh=0}t(Vi,Q);
Vi.prototype.q=function(a){Vi.e.q.call(this,a);a.innerHTML="";a.scrollTop=0;A(this.b(),"ios-scroll");(this.tc||this.Bg)&&Wi(this);!this.tc&&this.ih&&T(this.ih,q(function(a){a=V(a.target);a.description&&this.rd?(G("description",this.rd).innerHTML=ii(a.description),this.Jh=N(this.rd).height,this.resize()):a.description&&Wi(this)},this));this.t=H("div","loading",H("div","loading-spinner"));this.b().appendChild(this.t);O(this.t,l);D(this.b(),"starred")&&(this.Fc=H("div","no-comments","Favorities will appear here."),
this.b().appendChild(this.Fc));this.ue=H("div","medias");this.b().appendChild(this.ue);M(this.i(),window,"resize",za(R,q(this.resize,this)));this.Rd?(O(this.t,j),T(this.Rd,q(function(a){O(this.t,l);a=ef(zf(a.target));a=Ra(a,function(a){return new Od(a)});u(a,this.Xe,this);this.Dc=N(this.ue).height;this.resize()},this))):this.$h&&(u(this.$h,this.Xe,this),this.Dc=N(this.ue).height,this.resize())};
Vi.prototype.Xe=function(a){this.Fc&&O(this.Fc,l);var b=I(Ph,{media:a}),c=G("list-play",b),d=G("list-plus",b);this.ue.appendChild(b);if(this.cc){var e=this.of,g=new fi(b,i);hi(e,g)}M(M(M(this.i(),b,"click",q(function(){Z.a().c("media-info",a)},this)),c,"click",q(function(b){b.preventDefault();b.stopPropagation();b=me(a);Ef.a().c(Ff,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();Ce().c(we,a,j)});this.Mf[a.id]=b};
Vi.prototype.resize=function(){sd(this.b(),Zb().height-40-(pc(this.b(),k,"tabbed")?30:0))};function Wi(a){a.rd=I(Dh,{nb:a.Bg,description:a.tc?ii(a.tc):"",link:a.bk});a.b().appendChild(a.rd);a.Jh=N(a.rd).height;a.resize()}Vi.prototype.Uf=function(a,b){T("/admin/_addprogram",q(function(b){b=ef(zf(b.target));b=new le(b);a.c(ve,b)},this),"POST","channel="+a.id+"&media="+b.id)};function Xi(a){this.id=a.id;this.H=Ee(U.a(),a.from_user);this.fl=Ee(U.a(),a.to_user);this.text=a.text;this.$a=a.read;this.Db=(this.time=a.time?Pd(a.time+"Z"):k)?Hi(this.time.getTime()):k}Xi.prototype.Le=function(){T("/_message",Ud(),"POST","id="+this.id+"&read=1");this.$a=j;U.a().j.c("read-message",this.H.id)};function Yi(a){return'<div class="message'+(a.Aj?" flip":"")+'"><a href="#user:'+J(a.message.H.id)+'"><div class="picture" style="background:'+J(a.message.H.color)+'"><img src="'+J(a.message.H.L)+'"/></div></a><div class="body"><a class="user" href="#user:'+J(a.message.H.id)+'">'+J(a.message.H.name)+'</a>  <div class="texts"><div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.Db)+"</div></div></div></div></div>"}
function Zi(a){return'<div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.Db)+"</div></div>"};function $i(a,b){Q.call(this);this.Ba=a||k;this.Ya=b||k;this.Of={};this.g=new Ci(l);this.aa=0;this.Ua=this.Ba.id==U.a().j.id}t($i,Q);
$i.prototype.q=function(a){$i.e.q.call(this,a);a.innerHTML="";a.scrollTop=0;this.yb=H("div","messages");this.b().appendChild(this.yb);E(this.yb,"inbox",this.Ua);this.t=H("div","spinner");this.yb.appendChild(this.t);O(this.t,l);this.xe=H("div","no-comments","Start a private conversation.");this.yb.appendChild(this.xe);this.jb=H("div","no-comments","Load previous messages");this.yb.appendChild(this.jb);O(this.jb,!this.Ua&&10<=this.Ya.length);O(this.xe,l);this.Ua?(this.Ya=this.Ya.reverse(),U.a().j.subscribe("read-message",
function(a){if((a=this.Of[a])&&D(a,"unread"))B(a,"unread"),Z.a().c("new-messages",-1)},this)):(Gd(this.g,this.b()),M(M(M(M(M(this.i(),window,"click",q(function(a){!pc(a.target,k,"comment-input")&&!this.g.s()&&(this.g.na(l),this.g.collapse()&&this.resize(0))},this)),this.xe,"click",q(function(a){a.preventDefault();a.stopPropagation();this.g.na(j)},this)),this.jb,"click",q(this.ck,this)),this.g,"add",q(this.Za,this)),window,"resize",za(R,q(this.resize,this))));Pa(this.Ya,function(a){aj(this,a)},this);
U.a().subscribe("new-message",function(a){if(a.H.id==this.Ba.id||a.fl.id==this.Ba.id){if(this.Ua){var c=j,d=this.Of[a.H.id];d&&(c=!D(d,"unread"),dc(d));c&&Z.a().c("new-messages",1)}aj(this,a,this.Ua);this.resize()}},this);this.resize()};
$i.prototype.ck=function(){this.jb&&O(this.jb,l);O(this.t,j);T("/_message/"+this.Ba.id+"?offset="+this.Ya.length,q(function(a){a=V(a.target);if(a.length){this.se=k;var b=H("div","separator");cc(this.yb,b,3)}O(this.t,l);this.jb&&O(this.jb,!!a.length);Pa(a,function(a){a=new Xi(a);this.Ya.push(a);aj(this,a,j);return a},this);a.length&&(this.b().scrollTop=0,this.se=k,this.b().scrollTop=b.offsetHeight)},this))};
function aj(a,b,c){O(a.xe,l);a.jb&&O(a.jb,!a.Ua&&10<=a.Ya.length);var d;if(!a.Ua&&a.se&&a.se.H.id==b.H.id)d=I(Zi,{message:b}),G("texts",a.Yj).appendChild(d),d=G("timestamp",d);else{var e=I(Yi,{message:b,Aj:b.H.id==U.a().j.id});a.se=b;a.Yj=e;c?cc(a.yb,e,3):a.yb.appendChild(e);d=G("timestamp",e);E(e,"unread",!b.$a);a.Ua&&(a.Of[b.H.id]=e,M(a.i(),e,"click",q(function(){b.$a||(b.Le(),B(e,"unread"),Z.a().c("new-messages",-1));Z.a().c("profile",b.H)},a)))}Ki(Ae.a(),b.time,d);c||(a.b().scrollTop=a.b().scrollHeight);
!a.Ua&&(!b.$a&&Z.a().nf==b.H.id)&&b.Le()}$i.prototype.Za=function(a){var b=new Xi({from_user:U.a().j,to_user:Ee(U.a(),this.Ba),text:a.text});b.time=new ae;b.Db=Hi(b.time.getTime());aj(this,b);T("/_message",a.lj,"POST","from_id="+U.a().j.id+"&to_id="+this.Ba.id+"&text="+a.text)};$i.prototype.resize=function(a){this.Ua?this.dispatchEvent("resize"):(this.aa=a||this.aa,sd(this.b(),Zb().height-82-this.aa-(pc(this.b(),k,"tabbed")?30:0)))};function bj(a){this.id=a.id;this.o=Ee(U.a(),a.user);this.type=a.type;this.S=new Fi(a.comment);this.$a=a.read;this.Db=(this.time=a.time?Pd(a.time+"Z"):k)?Hi(this.time.getTime()):k}bj.prototype.Le=function(){T("/_notification",Ud(),"POST","id="+this.id+"&read=1");this.$a=j};function cj(a){return'<div class="notification"><a href="#user:'+J(a.H.id)+'"><div class="picture" style="background:'+J(a.H.color)+'"><img src="'+J(a.H.L)+'"/></div></a><div class="body"><div class="type"><a class="user" href="#user:'+J(a.H.id)+'">'+J(a.H.name)+"</a> "+("reply"==a.Sf.type?"replied to your comment":"")+("mention"==a.Sf.type?"mentioned you in a comment":"")+'</div><div class="texts"><div class="text">'+J(a.text)+'<div class="timestamp">'+J(a.Sf.Db)+"</div></div></div></div></div>"}
;function dj(a){Q.call(this);this.ud=a;this.im={};this.aa=0}t(dj,Q);
dj.prototype.q=function(a){dj.e.q.call(this,a);a.innerHTML="";a.scrollTop=0;this.td=H("div","notifications");this.b().appendChild(this.td);this.t=H("div","spinner");this.td.appendChild(this.t);O(this.t,l);this.Rf=H("div","no-comments","No Notifications");this.td.appendChild(this.Rf);O(this.Rf,!this.ud.length);u(this.ud,function(a){ej(this,a)},this);this.dispatchEvent("resize");U.a().subscribe("new-notification",function(a){ej(this,a,j);Z.a().c("new-messages",1);this.dispatchEvent("resize")},this)};
function ej(a,b,c){O(a.Rf,l);var d;d=b.S.text.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return c});var e=I(cj,{Sf:b,text:d,H:b.S.o});c?cc(a.td,e,2):a.td.appendChild(e);d=G("timestamp",e);E(e,"unread",!b.$a);M(a.i(),e,"click",q(function(){b.$a||(b.Le(),B(e,"unread"),Z.a().c("new-messages",-1));Z.a().c("media-info",b.S.media)},a));Ki(Ae.a(),b.time,d);c||(a.b().scrollTop=a.b().scrollHeight)};function fj(a){return'<div class="user'+(a.media?" media":"")+'"><div class="name">'+J(a.o.name)+'</div><div class="picture" style="background:'+J(a.o.color)+'"><img src="'+J(a.o.L)+'"/></div>'+(a.timestamp?'<div class="timestamp">'+J(a.timestamp)+"</div>":"")+(a.media?'<div class="media"><div class="watched">LAST WATCHED </div><div class="watching">NOW WATCHING </div><a class="media-link">'+J(a.media.name)+"</a></div>":"")+"</div>"};function gj(a,b){Q.call(this);this.Tc=a||k;this.Zi={};this.hc=[];this.Gc=[];this.Kc=[];this.Fb=!!b;this.aa=0}t(gj,Q);
gj.prototype.q=function(a){gj.e.q.call(this,a);a.innerHTML="";a.scrollTop=0;A(a,"friendlist");A(a,"ios-scroll");this.Fb||(a=H("div","label show-all",H("a",{href:"#friendlist:1"},"ALL FRIENDS >")),this.b().appendChild(a));this.ze=H("div","label online-friends-label",this.Fb?"ONLINE FRIENDS":H("a",{href:"#friendlist:1"},"ONLINE FRIENDS"));O(this.ze,l);this.b().appendChild(this.ze);this.Zf=H("div","online-friends");this.b().appendChild(this.Zf);this.Bd=H("div","label",this.Fb?"RECENTLY ONLINE":H("a",
{href:"#friendlist:1"},"RECENTLY ONLINE"));O(this.Bd,l);this.b().appendChild(this.Bd);this.Ee=H("div","recent-friends");this.b().appendChild(this.Ee);this.Fb&&(this.ye=H("div","label","OFFLINE FRIENDS"),O(this.ye,l),this.b().appendChild(this.ye),this.Tf=H("div","offline-friends"),this.b().appendChild(this.Tf),T("/_friends?offline=1",q(function(a){a=V(a.target);this.Gc=Ra(a,function(a){a=Ee(U.a(),a);hj(this,a,j);return a})},this)),this.Fb&&this.resize(),M(this.i(),window,"resize",q(function(){this.Fb&&
R(q(function(){this.resize()},this))},this)));if(this.Tc)Na.sort.call(this.Tc,function(a,b){return a.v&&!b.v?1:!a.v&&b.v?-1:!a.v&&!b.v?0:a.v.getTime()<b.v.getTime()?1:-1}||bb),u(this.Tc,function(a){hj(this,a)},this);else{var a=U.a(),b=q(function(a){this.Tc=a;Na.sort.call(this.Tc,function(a,b){return a.v&&!b.v?1:!a.v&&b.v?-1:!a.v&&!b.v?0:a.v.getTime()<b.v.getTime()?1:-1}||bb);u(this.Tc,function(a){hj(this,a)},this)},this);a.th?b&&b(a.uf):T("/_friends",q(function(a){a=V(a.target);this.uf=Ra(a,function(a){return Ee(this,
a)},this);this.th=j;b&&b(this.uf)},a))}U.a().subscribe(De,this.ml,this)};
function hj(a,b,c){var d=l,e=I(fj,{o:b,timestamp:b.v?Hi(b.v.getTime()):k,media:b.Qa});b.v&&Ki(Ae.a(),b.v,G("timestamp",e));b.Hc&&!c?(O(a.ze,j),A(e,"online"),u(a.hc,function(a,c){a.ge()>b.ge()&&(cc(this.Zf,e,c),$a(this.hc,c,0,b),d=j)},a),d||(a.Zf.appendChild(e),a.hc.push(b))):b.v&&!c&&5>a.Kc.length?(O(a.Bd,j),u(a.Kc,function(a,c){a.v&&(b.v&&a.v.getTime()<b.v.getTime())&&(cc(this.Ee,e,c),$a(this.Kc,c,0,b),d=j)},a),d||(a.Ee.appendChild(e),a.Kc.push(b))):a.Fb&&(O(a.ye,j),u(a.Gc,function(a,c){a.v&&(b.v&&
a.v.getTime()<b.v.getTime())&&(cc(this.Tf,e,c),$a(this.Gc,c,0,b),d=j)},a),d||(a.Tf.appendChild(e),a.Gc.push(b)));a.Fb||(O(a.Bd,!a.hc.length),O(a.Ee,!a.hc.length));a.Zi[b.id]=e;c=G("media-link",e);M(a.i(),e,"click",q(function(){Z.a().c("profile",b)},a));c&&M(a.i(),c,"click",q(function(a){a.stopPropagation();a.preventDefault();Z.a().c("media-info",b.Qa)},a))}
gj.prototype.ml=function(a){var b=this.Zi[a.id];b&&(dc(b),Xa(this.Gc,function(b){return b.id==a.id})&&O(this.ye,!!this.Gc.length),Xa(this.hc,function(b){return b.id==a.id})&&O(this.ze,!!this.hc.length),Xa(this.Kc,function(b){return b.id==a.id})&&O(this.Bd,!!this.Kc.length));hj(this,a)};gj.prototype.resize=function(a){this.aa=a||this.aa;sd(this.b(),Zb().height-42-this.aa-(pc(this.b(),k,"tabbed")?30:0))};function ij(a,b){Q.call(this);this.gj=a;this.Sc=b||k;this.R=0;this.Ii=!b;this.Yb=l;this.oh={};this.$c={};this.fc={};this.vb={};this.Re={};this.Ai={};this.Pg=[]}t(ij,Q);
ij.prototype.q=function(a){ij.e.q.call(this,a);a.innerHTML="";a.scrollTop=0;A(a,"stream");A(a,"ios-scroll");this.Ii&&(this.sh=H("div","friendlist"),this.b().appendChild(this.sh),a=H("div","label","ACTIVITY"),this.b().appendChild(a));this.Xc=H("div","activities");this.b().appendChild(this.Xc);this.t=H("div","spinner");this.b().appendChild(this.t);O(this.t,l);this.Fc=H("div","no-comments",this.Sc?"Your activity will appear here.":"Friends' activity will appear here.");this.b().appendChild(this.Fc);
jj(this,this.gj);this.Ii&&(this.tf=new gj(i,l),this.tf.h(this.sh));U.a().subscribe("new-activity",function(a){(this.Sc==a.user.id||!this.Sc&&a.user.id!=U.a().j.id)&&kj(this,a,i,i,j)},this);M(M(this.i(),this.b(),"scroll",q(function(){!this.Yb&&this.b().scrollTop+Zb().height>this.b().scrollHeight-60&&lj(this)},this)),window,"resize",za(R,q(this.resize,this)));this.resize()};
function lj(a){O(a.t,j);T("/_activity"+(a.Sc?"/"+a.Sc:"")+"?offset="+a.R,q(function(a){this.oh[String(a.target.pd)]||(this.oh[String(a.target.pd)]=j,a=V(a.target).activities,this.Yb=!a.length,E(this.t,"finished",this.Yb),O(this.t,this.Yb),jj(this,a))},a))}
function jj(a,b){a.$c=[];a.fc=[];a.vb=[];u(b,function(a){this.R++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.$c?this.$c[a.channel_id]:[];b.push(a);this.$c[a.channel_id]=b;break;case "liked":this.fc[a.media.id]||(b=a.media.id in this.vb?this.vb[a.media.id]:[],b.push(a),this.vb[a.media.id]=b,b=a.user.id in this.Re?this.Re[a.user.id]:[],b.push(a),this.Re[a.user.id]=b);break;case "comment":a=a.comment,b=a.media.id in this.fc?this.fc[a.media.id]:[],b.push(a),this.fc[a.media.id]=
b,this.vb[a.media.id]&&Pb(this.vb,a.media.id)}},a);Lb(a.$c,function(a){kj(this,i,a,"session")},a);Lb(a.fc,function(a){kj(this,i,a,"comment")},a);Lb(a.vb,function(a){1<a.length&&kj(this,i,a,"liked")},a);Lb(a.Re,function(a){kj(this,i,a,"liked")},a)}
function kj(a,b,c,d,e){O(a.Fc,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],m=b?[Ee(U.a(),b.user)]:[],s=b?Pd(b.time+"Z"):k;c&&u(c,function(a){Ta(m,function(b){return b.id==a.user.id})||m.push(Ee(U.a(),a.user));var b=Pd((a.time||a.tune_in)+"Z");s=s&&s.getTime()>b.getTime()?s:b;"session"==g?u(a.media,function(a){!this.fc[a.id]&&(!this.vb[a.id]&&!Ta(h,function(b){return b.id==a.id}))&&h.push(a)},this):"liked"==g&&!this.Ai[a.media.id]&&(h.push(a.media),this.Ai[a.media.id]=j)},a);switch(g){case "session":if(!a.Sc&&
2>m.length)return;var d=b?b.session:c[0],y=W.a().get(d.channel_id),h=b?b.session.media:h;3<h.length&&(h=h.slice(0,3));b=I(Ah,{D:m,O:y,time:Hi(s.getTime()),Wi:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[Wd(Vd.a(),c[0].media)],x=b?[new Fi(b.comment)]:[];c&&u(c,function(a){a=new Fi(a);a.text=ii(a.text);a.text=a.text.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return'<a href="#user:'+b+'">'+c+"</a>"});x.push(a)});b=I(Bh,{gb:x.reverse().slice(0,3),D:m,media:h[0]});break;case "liked":h=
b?[b.media]:h;b=I(Ch,{D:m,ai:h.length,time:Hi(s.getTime())});break;default:return}if(h.length){Ki(Ae.a(),s,G("timestamp",b));d=Ua(a.Pg,function(a){return a.time<s.getTime()});$a(a.Pg,d,0,{time:s,element:b});var C=G("medias",b);u(h,function(a){var b=Wd(Vd.a(),a),a=I(Ph,{media:b}),c=G("list-play",a),d=G("list-plus",a);G("thumb",a);C.appendChild(a);M(M(M(this.i(),a,"click",function(){Z.a().c("media-info",b)}),c,"click",function(a){a.preventDefault();a.stopPropagation();a=me(b);Ef.a().c(Ff,a)}),d,"click",
function(a){a.preventDefault();a.stopPropagation();Ce().c(we,b,j)})},a);e?cc(a.Xc,b,0):c?cc(a.Xc,b,d):a.Xc.appendChild(b);R(za(A,b,"show"))}}ij.prototype.resize=function(){var a=Zb().height-40-(pc(this.b(),k,"tabbed")?40:10);sd(this.b(),a);N(this.Xc).height<a&&lj(this)};function mj(a){Q.call(this);this.Ba=this.V=a;this.ve=a.id==U.a().j.id;this.La=[this.ve?"inbox":"messages","activity","starred"]}t(mj,Q);mj.prototype.q=function(a){mj.e.q.call(this,a);A(a,"profile");A(a,"ios-scroll");uc(a,Nh,{Qf:this.ve})};
mj.prototype.z=function(){this.za=G("tabs",this.b());this.ve&&(T("/_notification",q(function(a){var a=V(a.target),b=0,a=Ra(a,function(a){a=new bj(a);b+=!a.$a?1:0;return a},this);Z.a().c("new-messages",b);this.ud=new dj(a);M(this.i(),this.ud,"resize",za(R,q(this.mg,this)));this.ud.h(G("notifications-content",this.b()))},this)),this.Vj=G("inbox-content",this.b()),M(this.i(),window,"resize",za(R,q(this.mg,this))));T("/_message/"+this.Ba.id,q(function(a){var a=V(a.target),b=0,a=Ra(a,function(a){a=new Xi(a);
b+=!a.$a?1:0;return a},this);this.ve&&Z.a().c("new-messages",b);this.Ya=new $i(this.Ba,a);M(this.i(),this.Ya,"resize",za(R,q(this.mg,this)));this.Ya.h(G("messages-content",this.b()))},this));T("/_star/"+this.Ba.id,q(function(a){var a=V(a.target),a=Ra(a,function(a){return new Od(a)}),b=U.a().j;b.Ki=a;b.c("set-starred");this.Gd=new Vi(a);this.Gd.h(G("starred-content",this.b()))},this));T("/_activity/"+this.Ba.id,q(function(a){a=V(a.target).activities;this.yg=new ij(a,this.Ba.id);this.yg.h(G("activity-content",
this.b()))},this));M(this.i(),this.za,"click",q(function(a){a=pc(a.target,"li");this.zb(a)},this));Vd.a().subscribe("star",function(a,b){if(b)this.Gd.Xe(a);else{var c=this.Gd,d=c.Mf[a.id];d&&(Cc(d),Pb(c.Mf,a.id))}},this)};mj.prototype.zb=function(a){u(this.La,function(b){E(this.za.parentElement,b,D(a,b));this.A=D(a,b)?b:this.A},this)};mj.prototype.mg=function(){sd(this.Vj,Zb().height-73)};function nj(){Q.call(this);this.cc=pe();this.jj=new Bi;this.La={};this.Hb=[];this.Lc=[];this.bc=this.Wc=0}t(nj,Q);n=nj.prototype;
n.z=function(){nj.e.z.call(this);this.Yc=G("arrow",this.Ib);this.jf=F("sidebar-content");this.Zh=F("media-list");this.Ce=F("profile");this.rh=F("friendlist");this.fh=F("conversation");this.Ib=F("toolbar");this.za=G("tabs",this.b());this.Ve=G("activities-count",this.b());this.Df=G("inbox-count",this.b());var a=new mg(document);u(ec(this.za),function(a){var b=Gb(a)[0];this.La[b]=a;this.Hb.push(b)},this);this.Xf();T("/_activity",q(function(a){a=V(a.target);this.yg=new ij(a.activities);this.yg.h(F("stream"));
Z.a().c("new-activites",parseInt(a.new_count,10))},this));this.Gd=new mj(U.a().j);this.Gd.h(F("my-profile"));this.Y&&DESKTOP?(this.G=F("info"),this.A="info",oj(this,"info","info")):(this.G=F("stream"),this.A="stream",oj(this,"info","stream"));var b="left";u(this.Hb,function(a){var c=G(a,this.jf);a==this.A?b="right":A(c,b)},this);this.Lc=[this.G,""];A(this.G,"current");if(this.cc){this.jj.h(F("admin"));var c=I(Eh,{name:"ADMIN",className:"admin"});this.za.appendChild(c);this.La.admin=c;this.Hb.push("admin")}pj(this);
M(M(M(M(this.i(),G("back-button",this.Ib),"click",q(function(a){var b=this.Lc.shift();this.navigate(b[0],j,b[1]);pj(this);a.stopPropagation()},this)),this.za,"click",q(function(a){var b=this.A,c=pc(a.target,"li"),h=Gb(c)[0];oj(this,this.A,h);A(c,"selected");pj(this);b!=this.A&&a.stopPropagation();"stream"==h&&this.hi(0,j)},this)),this.Ib,"click",q(function(a){((a=pc(a.target,"li"))&&Gb(a)[0]==this.A||!a)&&(new Vf(this.G,[this.G.scrollLeft,this.G.scrollTop],[this.G.scrollLeft,0],300)).play()},this)),
a,"key",q(function(a){a.ctrlKey&&"68"==a.keyCode&&Hb(this.b(),"dark")},this));DESKTOP&&Y.a().subscribe(Og,function(a){E(this.b(),"toggled",a);R(q(function(){E(this.b(),"collapsed",!a)},this),!a?500:0)},this);Z.a().subscribe("navigate",this.navigate,this);Z.a().subscribe("new-activites",this.hi,this);Z.a().subscribe("new-messages",this.ik,this);Z.a().subscribe("conversation",this.Rk,this);Z.a().subscribe("media-list",this.Uk,this);Z.a().subscribe("media-info",this.Ji,this);Z.a().subscribe("friend-list",
this.Tk,this);Z.a().subscribe("profile",this.Vk,this);W.a().subscribe(Bf,this.Xf,this);Ef.a().subscribe(Ff,this.Xf,this);W.a().subscribe(Af,this.lk,this);DESKTOP&&Y.a().subscribe(qj,function(a){E(this.b(),"admin",a);a?(Y.a().c(Og,j),oj(this,this.A,"admin")):"admin"==this.A&&oj(this,"admin","info")},this)};n.hi=function(a,b){b&&(this.Wc=0,O(this.Ve,l));this.Wc+=a;ic(this.Ve,this.Wc.toString());O(this.Ve,!!this.Wc)};
n.ik=function(a,b){b&&(this.bc=0,O(this.Df,l));this.bc+=a;this.bc=Math.max(this.bc,0);ic(this.Df,this.bc.toString());O(this.Df,!!this.bc)};n.Xf=function(a){if(a=a||W.a().K.X())if(this.Qb=a.media,!this.Y||this.Qb.id!=this.Y.V.id){var a=this.Y&&this.Y.g.s()?this.Y.g.s():k,b=this.Y?this.Y.f:k;Cc(this.Y);this.Y=new Oi(this.Qb,l,b,a);this.Y.h(F("info"))}};
n.lk=function(a){a=a||W.a().K;if((this.Qb=a.X()&&a.X().media)&&(!this.Y||this.Qb.id!=this.Y.V.id))Cc(this.Y),this.Y=new Oi(this.Qb),this.Y.h(F("info")),this.Ji(this.Qb)};
function oj(a,b,c){var d=G(c,a.jf),e=Oa(a.Hb,b),b=Oa(a.Hb,c),g=(e=e<b)?0:a.Hb.length-1,h=e?g<a.Hb.length:0<=g;for(g;h;g+=e?1:-1){var m=G(a.Hb[g],a.jf);if(e&&g>b||!e&&g<b)A(m,"right"),B(m,"left");else if(e&&g<b||!e&&g>b)E(m,"left",e),A(m,"right");else if(g==b){B(m,"right");B(m,"left");break}}a.A=c;$a(a.Lc,0,0,[a.G,""]);B(a.G,"current");a.G=d;A(a.G,"current");pj(a)}
n.navigate=function(a,b,c){if(a==this.G)c&&ic(G("back-title",this.Ib),c);else{var d=D(this.G,"screen");b?(B(this.G,"on"),B(this.G,"current"),A(a,"current"),this.G=a):(E(this.G,"on",!d),b=[this.G,mc(G("back-title",this.Ib))],$a(this.Lc,0,0,b),B(this.G,"current"),this.G=a,A(this.G,"current"));E(this.Ib,"back",D(this.G,"slide"));c&&ic(G("back-title",this.Ib),c);this.G!=this.Ce&&(Z.a().nf=k)}};n.Rk=function(a,b,c,d){(new Mi(a,b,c,d)).h(this.fh);Z.a().c("navigate",this.fh,l,a.name)};
n.Uk=function(a,b,c,d,e,g,h){(new Vi(b,c,d,e,g,h)).h(this.Zh);Z.a().c("navigate",this.Zh,l,a,d,e)};n.Tk=function(){this.tf=new gj(i,j);this.tf.h(this.rh);Z.a().c("navigate",this.rh,l,"Friends")};n.Ji=function(a,b,c,d){if(this.Y&&a.id==this.Y.V.id){B(this.Ib,"back");for(a=this.Lc[0][0];a&&D(a,"slide");)a=this.Lc.shift();oj(this,this.A,"info")}else{var e=F("media-info");(new Oi(a,b,c,d)).h(e);Z.a().c("navigate",e,l,a.name)}DESKTOP&&Y.a().c(Og,j)};
n.Vk=function(a){if(!this.gg||!(this.gg.V.id==a.id&&this.G==this.Ce))Z.a().nf=a.id,this.gg=new mj(a),this.gg.h(this.Ce),Z.a().c("navigate",this.Ce,l,a.name),DESKTOP&&Y.a().c(Og,j)};
function pj(a){var b=Math.round(N(a.La[a.A]).width/2+(new Ib(a.La[a.A].offsetLeft,a.La[a.A].offsetTop)).x);a.Yc.style.transform="translate3d("+b+"px, 0,0)";a.Yc.style.msTransform="translate3d("+b+"px, 0,0)";a.Yc.style.WebkitTransform="translate3d("+b+"px, 0,0)";a.Yc.style.MozTransform="translate3d("+b+"px, 0,0)";a.Yc.style.wl="translate3d("+b+"px, 0,0)"};function rj(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="logo"></div></div><div id="sidebar" class="toggled"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM<div class="activities-count" style="display:none"></div></div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="conversation" class="slide"></div>'+
(a.ij?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="notify" class="notify"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'};function te(){}ma(te);_gaq=[];te.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};te.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",U.a().j.id])};
function Be(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",U.a().j.id])}te.prototype.Zc=function(a,b){a.W||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
te.prototype.S=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",U.a().j.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",U.a().j.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",U.a().j.id])};
function Ui(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",U.a().j.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",U.a().j.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",U.a().j.id]);T("/_share",Ud(),"POST","facebook="+c+"&twitter="+d)}ia("_gaq",_gaq);function Y(){S.call(this);this.Ek=j;var a=F("controller");this.vg=!a||D(a,"sidebar-toggled");this.wf=a&&D(a,"guide-toggled");a=F("guide");this.um=!!a&&D(a,"timeless");this.subscribe(Og,ba("vg"),this);this.subscribe(Pg,ba("wf"),this);this.subscribe(Qg,ba("Ek"),this)}t(Y,S);ma(Y);function Ai(a,b){var c=F("toggle-pending");ic(c,b);O(c,!!b)}var Qg="play",Rg="mute",Sg="restart",Pg="toggle-guide",Og="toggle-sidebar",qj="toggle-admin";function sj(){S.call(this);this.Xh=l}t(sj,S);ma(sj);sj.prototype.init=function(a){this.Ui=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=q(this.qk,this);a.onclose=q(this.ji,this);L(window,"onbeforeunload",q(this.ji,this));return this};
sj.prototype.qk=function(a){var b=ef(a.data);switch(b.type){case "viewer_change":var c=Ee(U.a(),b.user);c.Hc!=b.online&&U.a().c(De,c,b.online);var d=b.time&&Pd(b.time+"Z");c.ce&&d&&c.ce.end(d);if(a=b.last_channel_id&&W.a().get(b.last_channel_id))a.c("remove-viewer",c),c.Qa&&c.Qa.c(Sd,c,a,j);var e=b.channel_id&&W.a().get(b.channel_id),a=b.media&&Wd(Vd.a(),b.media);e&&(d=d||new ae,d=new se(b.session_id,c,e,d),c.ce=d,e.c(xe,d),a=(d=e.X())?d.media:a);a&&a.c(Sd,c,e);break;case "notification":a=new bj(b.notification);
U.a().c("new-notification",a);break;case "new_comment":c=new Fi(b.comment);if(c.o.id!=U.a().j.id&&(d=b.tweet?new Gi(b.tweet):k,a=Wd(Vd.a(),b.comment.media)))a.c(Qd,c),d&&a.c("add-tweet",d);break;case "new_message":a=new Xi(b.message);U.a().c("new-message",a);Z.a().nf!=a.H.id&&Kd.a().c(Ld,"messaged you",a.text,a.H,a.H.L,"#user:"+a.H.id);break;case "new_activity":U.a().c("new-activity",b.activity);b.activity.user.id!=U.a().j.id&&Z.a().c("new-activites",1);break;case "update_programs":a=b.programs;e=
W.a().get(b.channel_id);u(a,function(a){e.c(ye,a)},this);break;case "new_programs":b.channel&&(e=W.a().We(b.channel));u(b.programs,q(function(a){a=new le(a);if(e=e||W.a().get(b.channel_id))if(e.c(ve,a),!W.a().K||!W.a().K.X())W.a().c(Af,e),W.a().c(Bf,a)},this));break;case "twitter_auth":U.a().j.c(oe)}};
sj.prototype.ji=function(){if(!this.Xh){var a=W.a().K.W&&W.a().K.Qa&&Math.floor(Ef.a().getCurrentTime());DESKTOP&&T("/_settings",Ud(),"POST","show_guide="+Y.a().wf+"&show_sidebar="+Y.a().vg+(a?"&current_seek="+a:""));this.Xh=j}};function Ae(){S.call(this);this.Zg=new Fe(1E3);this.Ri=new Fe(3E4);this.Si=[];this.rf=[]}t(Ae,S);ma(Ae);Ae.prototype.init=function(){this.Zg.start();this.Ri.start();L(this.Zg,He,q(function(){u(this.rf,function(a,b){a.time<r()&&(a.callback(),Na.splice.call(this.rf,b,1))},this)},this));L(this.Ri,He,q(function(){u(this.Si,function(a){ic(a.element,Hi(a.time.getTime()))},this)},this))};function Ki(a,b,c){86400>(r()-b.getTime())/1E3&&a.Si.push({time:b,element:c})}
function ze(a,b,c){86400>(r()-b)/1E3&&a.rf.push({time:b,callback:c})};function tj(){S.call(this);this.km=[]}t(tj,S);ma(tj);tj.prototype.Kf=function(a){Lb(a,q(function(a,c){u(a,q(function(a){a=new le(a);W.a().pc[c]&&W.a().pc[c].Ye(a)},this))},this))};var uj=l;function vj(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var wj=navigator.plugins["Shockwave Flash"];wj&&(uj=j,wj.description&&vj(wj.description));navigator.plugins["Shockwave Flash 2.0"]&&(uj=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var xj=navigator.mimeTypes["application/x-shockwave-flash"];(uj=xj&&xj.enabledPlugin)&&vj(xj.enabledPlugin.description)}else try{var yj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),uj=j;vj(yj.GetVariable("$version"))}catch(zj){try{yj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
uj=j}catch(Aj){try{yj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),uj=j,vj(yj.GetVariable("$version"))}catch(Bj){}}};function Cj(a,b,c,d,e,g,h,m){this.Rd=a;this.nj=b;this.tc=c;this.Kb=d;this.gm=e;this.bm=g;this.cj=h;this.ta=m;this.cl=[];this.ef=[];this.Sl=[];this.pm=[]}Cj.prototype.uh=da("nj");Cj.prototype.Gi=function(a){this.Kb=a;return this};Cj.prototype.sg=function(a){this.n=a;return this};function Dj(a){this.Rd=a;this.Yk=k}function Ej(a){this.Rd=a;this.Yk=this.wm=k};function uh(a,b,c){Cj.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.aj=a;this.cl=[new Dj("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.sg(new Ej("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}t(uh,Cj);
var th=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function Fj(){Q.call(this);this.Xk=new nj;this.n=new Kg;this.ii=new Jd}t(Fj,Q);Fj.prototype.q=function(a){Fj.e.q.call(this,a);var b=I(rj,{ij:pe()});cc(a,b,0)};
Fj.prototype.z=function(){Fj.e.z.call(this);this.Xk.h(F("sidebar"));this.n.h(F("stage"));this.ii.h(F("notify"));O(this.ii.b(),l);U.a().j.nl||U.a();M(this.i(),document.body,"touchmove",function(a){pc(a.target,"div","ios-scroll")||a.preventDefault()});M(this.i(),window,"click",function(a){var b=pc(a.target,"a");if(b=b?b.href:k)if((b=b.match("#(.*):(.*)"))&&b.length)switch(a.preventDefault(),a.stopPropagation(),b[1]){case "user":a=U.a().get(b[2]);Z.a().c("profile",a);break;case "channel":a=W.a().get(b[2]);
W.a().c(Af,a);break;case "info":a=Vd.a().get(b[2]),Z.a().c("media-info",a)}});T("/_presence",q(function(a){a=V(a.target);this.Nl=sj.a().init(a.token);var b=W.a();u(a.viewer_sessions,q(function(a){var b=Ee(U.a(),a.user),e=U.a();Ta(e.$f,function(a){return a.id==b.id})||e.$f.push(b);var e=this.pc[a.channel_id],g=Pd(a.tune_in+"Z"),h=a.tune_out?Pd(a.tune_out+"Z"):k,a=new se(a.id,b,e,g,h);b.ce=a;e&&(e.Vd.push(a),e.c(xe,a),(a=e.X())&&a.media.c(Sd,b,e))},b))},this))};
function Gj(a){var b=F("login"),c=F("static-content"),d=F("pages"),e=D(b,"app");E(b,"expanded",a);F("uvTab")&&E(F("uvTab"),"show",e&&a);a?(e?c.style.bottom=-N(d).height-80+"px":c.style.top=Math.max(10,Zb().height-280)+"px",a=e?Math.min(Zb().height-100,c.scrollHeight+80):Math.min(Zb().height-435,c.scrollHeight+190),!e||e&&!b.scrollTop?(e=new Vf(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),A(b,"scrolling"),e.play(),L(e,"end",function(){B(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",e?R(function(){B(b,"show")},200):c.className="")}
function Hj(){var a=F("fb-login"),b=F("static-content"),c=F("login");A(a,"disabled");A(a,"spin");T("/_session",function(a){if(200==yf(a.target)){var e=V(a.target);if(e.error)ic(F("error"),e.error),Ij("error","Yikes...");else if(e.message)ic(F("message"),e.message);else{B(document.body,"login");var a=e.channels,g=e.programs,e=e.current_user;if(!Ob(e)){var h=U.a();h.j=Ee(h,e)}W.a().Kf(a);tj.a().Kf(g);a=W.a();a.K=a.pc[e.current_channel]||a.ad[0];a.K=Cf(a)||a.K;a.K&&a.Ig(a.K.X());Ae.a().init();(new Fj).h(document.body);
te.a().login();R(function(){R(function(){A(c,"hide");R(function(){O(F("homepage"),l);A(c,"app");A(b,"faq")},600)},600)})}}else 500==yf(a.target)?Ij("error","Opps, check back later"):Ij("wait")},"POST")}function Ij(a,b){var c=F("fb-login");if(a){var d=G("power",c);A(d,a)}b&&(d=G("waitlist",c),ic(d,b));B(c,"spin");A(c,"disabled");O(c,j);A(c,"show");A(c,"waitlist")}
ia("brkn.Mobile.staticInit",function(){var a=F("fb-login"),b=F("homepage"),c=F("login"),d=F("static-content"),e=F("pages"),g=F("footer"),h=l;A(b,"hide");var m=H("img");m.src="/static/img/homepage.jpg";L(m,"load",function(){B(b,"hide");A(b,"show")});R(function(){O(a,j);R(za(A,a,"show"),400)},100);L(c,"click",function(a){"static-scrollable"==a.target.id&&(a=D(c,"app"),h=l,a?Gj(h):(a=new Vf(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),L(a,"end",za(Gj,h))))});L(c,"scroll",function(){!D(c,
"scrolling")&&1>c.scrollTop&&(h=l,Gj(h))});L(g,"click",function(a){var a=pc(a.target,k,"section"),b=D(c,"app");a&&(h=j,d.className=a.id,d.style.height=N(e).height+(b?80:220)+"px",Gj(h))});L(window,"resize",za(Gj,h));te.a().init();IPHONE&&(A(document.body,"iphone"),A(document.body,"login"),window.onload=function(){R(function(){window.scrollTo(0,1)},1E3)})});
ia("brkn.Mobile.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)Hj();else{var b=F("fb-login");L(b,"click",function(){A(b,"disabled");FB.login(function(a){a.authResponse?Hj():B(b,"disabled")},{scope:"email"})})}})});