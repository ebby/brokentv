function e(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var m,ea=ea||{},n=this;function fa(a,b){var c=a.split("."),d=n;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&ga(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}
function ha(a){for(var a=a.split("."),b=n,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function ia(){}function ja(a){a.a=function(){return a.gg?a.gg:a.gg=new a}}
function ka(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return a!==i}function la(a){return"array"==ka(a)}function ma(a){var b=ka(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function na(a){return"number"==typeof a}function oa(a){return"function"==ka(a)}function pa(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function qa(a){return a[ra]||(a[ra]=++sa)}
var ra="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),sa=0;function ta(a,b,c){return a.call.apply(a.bind,arguments)}function ua(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ta:ua;return r.apply(k,arguments)}function va(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var s=Date.now||function(){return+new Date};function wa(a,b){var c=b||{},d;for(d in c)var f=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),f);return a}
function t(a,b){function c(){}c.prototype=b.prototype;a.e=b.prototype;a.prototype=new c;a.prototype.constructor=a};function xa(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function ya(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function za(a){if(!Aa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ba,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ca,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Da,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Fa,"&quot;"));return a}var Ba=/&/g,Ca=/</g,Da=/>/g,Fa=/\"/g,Aa=/[&<>\"]/;
function Ga(a){var a=ga(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ha(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Ia=Array.prototype,Ja=Ia.indexOf?function(a,b,c){return Ia.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(q(a))return!q(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},v=Ia.forEach?function(a,b,c){Ia.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Ka=Ia.filter?function(a,b,c){return Ia.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=
q(a)?a.split(""):a,p=0;p<d;p++)if(p in h){var u=h[p];b.call(c,u,p,a)&&(f[g++]=u)}return f},La=Ia.map?function(a,b,c){return Ia.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=q(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Ma=Ia.every?function(a,b,c){return Ia.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=q(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return l;return j};
function Na(a,b){var c=Oa(a,b,i);return 0>c?k:q(a)?a.charAt(c):a[c]}function Oa(a,b,c){for(var d=a.length,f=q(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function Pa(a,b){return 0<=Ja(a,b)}function Qa(a,b){var c=Ja(a,b);0<=c&&Ia.splice.call(a,c,1)}function Ra(a,b,c){b=Oa(a,b,c);0<=b&&Ia.splice.call(a,b,1)}function Sa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ta(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(la(d)||(f=ma(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,p=0;p<h;p++)a[g+p]=d[p];else a.push(d)}}function Ua(a,b,c,d){Ia.splice.apply(a,Va(arguments,1))}function Va(a,b,c){return 2>=arguments.length?Ia.slice.call(a,b):Ia.slice.call(a,b,c)};var Wa,Xa,Ya,Za,$a;function ab(){return n.navigator?n.navigator.userAgent:k}function bb(){return n.navigator}Za=Ya=Xa=Wa=l;var cb;if(cb=ab()){var db=bb();Wa=0==cb.indexOf("Opera");Xa=!Wa&&-1!=cb.indexOf("MSIE");Ya=!Wa&&-1!=cb.indexOf("WebKit");Za=!Wa&&!Ya&&"Gecko"==db.product}var eb=Wa,w=Xa,fb=Za,x=Ya,gb=bb();$a=-1!=(gb&&gb.platform||"").indexOf("Mac");var hb=!!bb()&&-1!=(bb().appVersion||"").indexOf("X11"),jb;
a:{var kb="",lb;if(eb&&n.opera)var mb=n.opera.version,kb="function"==typeof mb?mb():mb;else if(fb?lb=/rv\:([^\);]+)(\)|;)/:w?lb=/MSIE\s+([^\);]+)(\)|;)/:x&&(lb=/WebKit\/(\S+)/),lb)var nb=lb.exec(ab()),kb=nb?nb[1]:"";if(w){var ob,pb=n.document;ob=pb?pb.documentMode:i;if(ob>parseFloat(kb)){jb=String(ob);break a}}jb=kb}var qb={};
function y(a){var b;if(!(b=qb[a])){b=0;for(var c=ya(String(jb)).split("."),d=ya(String(a)).split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var h=c[g]||"",p=d[g]||"",u=RegExp("(\\d*)(\\D*)","g"),B=RegExp("(\\d*)(\\D*)","g");do{var H=u.exec(h)||["","",""],L=B.exec(p)||["","",""];if(0==H[0].length&&0==L[0].length)break;b=((0==H[1].length?0:parseInt(H[1],10))<(0==L[1].length?0:parseInt(L[1],10))?-1:(0==H[1].length?0:parseInt(H[1],10))>(0==L[1].length?0:parseInt(L[1],10))?1:0)||((0==H[2].length)<
(0==L[2].length)?-1:(0==H[2].length)>(0==L[2].length)?1:0)||(H[2]<L[2]?-1:H[2]>L[2]?1:0)}while(0==b)}b=qb[a]=0<=b}return b}var rb={};function sb(a){return rb[a]||(rb[a]=w&&!!document.documentMode&&document.documentMode>=a)};var tb,ub=!w||sb(9),vb=!fb&&!w||w&&sb(9)||fb&&y("1.9.1"),wb=w&&!y("9"),xb=w||eb||x;function yb(a){a=a.className;return q(a)&&a.match(/\S+/g)||[]}function z(a,b){for(var c=yb(a),d=Va(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)Pa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==f}function A(a,b){var c=yb(a),d=Va(arguments,1),f,g=d;f=Ka(c,function(a){return!Pa(g,a)});a.className=f.join(" ");return f.length==c.length-d.length}function C(a,b){return Pa(yb(a),b)}function D(a,b,c){c?z(a,b):A(a,b)}function zb(a,b){var c=!C(a,b);D(a,b,c);return c};function Ab(a,b){this.x=ga(a)?a:0;this.y=ga(b)?b:0}Ab.prototype.clone=function(){return new Ab(this.x,this.y)};function Bb(a,b){this.width=a;this.height=b}Bb.prototype.clone=function(){return new Bb(this.width,this.height)};Bb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Bb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Bb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Cb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Db(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Eb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Fb(a){for(var b in a)return l;return j}function Gb(a,b){b in a&&delete a[b]}function Hb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var Ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Jb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Ib.length;g++)c=Ib[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Kb(a){return a?new Lb(Mb(a)):tb||(tb=new Lb)}function E(a){return q(a)?document.getElementById(a):a}function Nb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Ob("*",a,b)}function F(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Nb(a,b)[0])||k}
function Ob(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},f=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[f++]=h);d.length=f;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=f=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Pa(a.split(/\s+/),b)&&(d[f++]=h);d.length=f;return d}return c}
var Pb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Qb(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Bb(a.clientWidth,a.clientHeight)}function Rb(a,b,c){return Sb(document,arguments)}
function Sb(a,b){var c=b[0],d=b[1];if(!ub&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',za(d.name),'"');if(d.type){c.push(' type="',za(d.type),'"');var f={};Jb(f,d);delete f.type;d=f}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(q(d)?g.className=d:la(d)?z.apply(k,[g].concat(d)):Cb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Pb?g.setAttribute(Pb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(q(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(f=b[c],ma(f)&&!(pa(f)&&0<f.nodeType)){var h=v,p;a:{if((p=f)&&"number"==typeof p.length){if(pa(p)){p="function"==typeof p.item||"string"==typeof p.item;break a}if(oa(p)){p="function"==typeof p.item;break a}}p=l}h(p?Sa(f):f,d)}else d(f)}return g}function Tb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Ub(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}
function G(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Vb(a){return vb&&a.children!=i?a.children:Ka(a.childNodes,function(a){return 1==a.nodeType})}function Wb(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function Xb(a){if(xb)return a.parentElement;a=a.parentNode;return pa(a)&&1==a.nodeType?a:k}
function Yb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Mb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Zb(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Tb(a),a.appendChild(Mb(a).createTextNode(b))}var $b={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ac={IMG:" ",BR:"\n"};function bc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,na(a)&&0<=a&&32768>a):l}
function cc(a){if(wb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];dc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");wb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function ec(a){var b=[];dc(a,b,l);return b.join("")}
function dc(a,b,c){if(!(a.nodeName in $b))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in ac)b.push(ac[a.nodeName]);else for(a=a.firstChild;a;)dc(a,b,c),a=a.nextSibling}function fc(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||C(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Lb(a){this.T=a||n.document||document}m=Lb.prototype;m.Ca=Kb;
m.b=function(a){return q(a)?this.T.getElementById(a):a};m.G=function(a,b,c){return Sb(this.T,arguments)};m.createElement=function(a){return this.T.createElement(a)};m.createTextNode=function(a){return this.T.createTextNode(a)};function gc(a){var b=a.T,a=!x&&"CSS1Compat"==b.compatMode?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Ab(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}m.appendChild=function(a,b){a.appendChild(b)};m.Rf=Vb;
function hc(a,b){return b.firstElementChild!=i?b.firstElementChild:Wb(b.firstChild)}m.contains=Yb;w&&y(8);var ic={};function jc(a,b){a.innerHTML=b(ic,i,i)}function I(a,b){var c;a:if(c=(new Lb(i)||Kb()).createElement("DIV"),c.innerHTML=a(b||ic,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function J(a){return"object"===typeof a&&a&&0===a.Bj?a.content:String(a).replace(kc,lc)}
var mc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function lc(a){return mc[a]}var kc=/[\x00\x22\x26\x27\x3c\x3e]/g;function nc(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="note'+(a.re?" pic":"")+'">'+(a.re?'<div class="picture"><img class="image" src='+J(a.re)+' style="display: none"/></div>':"")+'<div class="action">'+(a.m?J(a.m.name)+" ":"")+J(a.action)+'</div><div class="content">'+J(a.content)+'</div><div class="close"></div></div>'+(a.link?"</a>":"")};function K(){0!=oc&&(this.Cj=Error().stack,pc[qa(this)]=this)}var oc=0,pc={};K.prototype.sd=l;K.prototype.ba=function(){if(!this.sd&&(this.sd=j,this.l(),0!=oc)){var a=qa(this);delete pc[a]}};K.prototype.l=function(){this.Bh&&qc.apply(k,this.Bh);if(this.Fg)for(;this.Fg.length;)this.Fg.shift()()};function rc(a){a&&"function"==typeof a.ba&&a.ba()}function qc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ma(d)?qc.apply(k,d):rc(d)}};var sc=!w||sb(9),tc=!w||sb(9),uc=w&&!y("9");!x||y("528");fb&&y("1.9b")||w&&y("8")||eb&&y("9.5")||x&&y("528");fb&&!y("8")||w&&y("9");function vc(a,b){this.type=a;this.currentTarget=this.target=b}m=vc.prototype;m.l=aa();m.ba=aa();m.Db=l;m.defaultPrevented=l;m.Nd=j;m.stopPropagation=function(){this.Db=j};m.preventDefault=function(){this.defaultPrevented=j;this.Nd=l};function wc(a){a.preventDefault()};function xc(a){xc[" "](a);return a}xc[" "]=ia;function yc(a,b){a&&this.init(a,b)}t(yc,vc);var zc=[1,4,2];m=yc.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.Je=l;m.pa=k;
m.init=function(a,b){var c=this.type=a.type;vc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(fb){var f;a:{try{xc(d.nodeName);f=j;break a}catch(g){}f=l}f||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=x||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=x||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Je=$a?a.metaKey:a.ctrlKey;this.state=a.state;this.pa=a;a.defaultPrevented&&this.preventDefault();delete this.Db};function Ac(a){return(sc?0==a.pa.button:"click"==a.type?j:!!(a.pa.button&zc[0]))&&!(x&&$a&&a.ctrlKey)}
m.stopPropagation=function(){yc.e.stopPropagation.call(this);this.pa.stopPropagation?this.pa.stopPropagation():this.pa.cancelBubble=j};m.preventDefault=function(){yc.e.preventDefault.call(this);var a=this.pa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,uc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};m.l=aa();function Bc(){}var Cc=0;m=Bc.prototype;m.key=0;m.Fb=l;m.vf=l;m.init=function(a,b,c,d,f,g){oa(a)?this.ig=j:a&&a.handleEvent&&oa(a.handleEvent)?this.ig=l:e(Error("Invalid listener argument"));this.ac=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.zd=g;this.vf=l;this.key=++Cc;this.Fb=l};m.handleEvent=function(a){return this.ig?this.ac.call(this.zd||this.src,a):this.ac.handleEvent.call(this.ac,a)};var Dc={},Ec={},Fc={},Gc={};
function M(a,b,c,d,f){if(b){if(la(b)){for(var g=0;g<b.length;g++)M(a,b[g],c,d,f);return k}var d=!!d,h=Ec;b in h||(h[b]={L:0,ka:0});h=h[b];d in h||(h[d]={L:0,ka:0},h.L++);var h=h[d],p=qa(a),u;h.ka++;if(h[p]){u=h[p];for(g=0;g<u.length;g++)if(h=u[g],h.ac==c&&h.zd==f){if(h.Fb)break;return u[g].key}}else u=h[p]=[],h.L++;var B=Hc,H=tc?function(a){return B.call(H.src,H.key,a)}:function(a){a=B.call(H.src,H.key,a);if(!a)return a},g=H;g.src=a;h=new Bc;h.init(c,g,a,b,d,f);c=h.key;g.key=c;u.push(h);Dc[c]=h;Fc[p]||
(Fc[p]=[]);Fc[p].push(h);a.addEventListener?(a==n||!a.Gf)&&a.addEventListener(b,g,d):a.attachEvent(b in Gc?Gc[b]:Gc[b]="on"+b,g);return c}e(Error("Invalid event type"))}function Ic(a,b,c,d,f){if(la(b))for(var g=0;g<b.length;g++)Ic(a,b[g],c,d,f);else if(d=!!d,a=Jc(a,b,d))for(g=0;g<a.length;g++)if(a[g].ac==c&&a[g].capture==d&&a[g].zd==f){Kc(a[g].key);break}}
function Kc(a){if(!Dc[a])return l;var b=Dc[a];if(b.Fb)return l;var c=b.src,d=b.type,f=b.proxy,g=b.capture;c.removeEventListener?(c==n||!c.Gf)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in Gc?Gc[d]:Gc[d]="on"+d,f);c=qa(c);Fc[c]&&(f=Fc[c],Qa(f,b),0==f.length&&delete Fc[c]);b.Fb=j;if(b=Ec[d][g][c])b.Bg=j,Lc(d,g,c,b);delete Dc[a];return j}
function Lc(a,b,c,d){if(!d.Fd&&d.Bg){for(var f=0,g=0;f<d.length;f++)d[f].Fb?d[f].proxy.src=k:(f!=g&&(d[g]=d[f]),g++);d.length=g;d.Bg=l;0==g&&(delete Ec[a][b][c],Ec[a][b].L--,0==Ec[a][b].L&&(delete Ec[a][b],Ec[a].L--),0==Ec[a].L&&delete Ec[a])}}function Jc(a,b,c){var d=Ec;return b in d&&(d=d[b],c in d&&(d=d[c],a=qa(a),d[a]))?d[a]:k}
function Mc(a,b,c,d,f){var g=1,b=qa(b);if(a[b]){a.ka--;a=a[b];a.Fd?a.Fd++:a.Fd=1;try{for(var h=a.length,p=0;p<h;p++){var u=a[p];u&&!u.Fb&&(g&=Nc(u,f)!==l)}}finally{a.Fd--,Lc(c,d,b,a)}}return Boolean(g)}function Nc(a,b){a.vf&&Kc(a.key);return a.handleEvent(b)}
function Hc(a,b){if(!Dc[a])return j;var c=Dc[a],d=c.type,f=Ec;if(!(d in f))return j;var f=f[d],g,h;if(!tc){g=b||ha("window.event");var p=j in f,u=l in f;if(p){if(0>g.keyCode||g.returnValue!=i)return j;a:{var B=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(H){B=j}if(B||g.returnValue==i)g.returnValue=j}}B=new yc;B.init(g,this);g=j;try{if(p){for(var L=[],ib=B.currentTarget;ib;ib=ib.parentNode)L.push(ib);h=f[j];h.ka=h.L;for(var Ea=L.length-1;!B.Db&&0<=Ea&&h.ka;Ea--)B.currentTarget=L[Ea],g&=Mc(h,L[Ea],
d,j,B);if(u){h=f[l];h.ka=h.L;for(Ea=0;!B.Db&&Ea<L.length&&h.ka;Ea++)B.currentTarget=L[Ea],g&=Mc(h,L[Ea],d,l,B)}}else g=Nc(c,B)}finally{L&&(L.length=0)}return g}d=new yc(b,this);return g=Nc(c,d)};function Oc(a){K.call(this);this.Ya=a;this.K=[]}t(Oc,K);var Pc=[];function N(a,b,c,d,f){la(c)||(Pc[0]=c,c=Pc);for(var g=0;g<c.length;g++){var h=M(b,c[g],d||a,f||l,a.Ya||a);a.K.push(h)}return a}function Qc(a,b,c,d,f,g){if(la(c))for(var h=0;h<c.length;h++)Qc(a,b,c[h],d,f,g);else{a:{d=d||a;g=g||a.Ya||a;f=!!f;if(b=Jc(b,c,f))for(c=0;c<b.length;c++)if(!b[c].Fb&&b[c].ac==d&&b[c].capture==f&&b[c].zd==g){b=b[c];break a}b=k}b&&(b=b.key,Kc(b),Qa(a.K,b))}return a}function Rc(a){v(a.K,Kc);a.K.length=0}
Oc.prototype.l=function(){Oc.e.l.call(this);Rc(this)};Oc.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function Sc(){K.call(this)}t(Sc,K);m=Sc.prototype;m.Gf=j;m.Id=k;m.Te=ba("Id");m.addEventListener=function(a,b,c,d){M(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Ic(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=Ec;if(b in c){if(q(a))a=new vc(a,this);else if(a instanceof vc)a.target=a.target||this;else{var d=a,a=new vc(b,this);Jb(a,d)}var d=1,f,c=c[b],b=j in c,g;if(b){f=[];for(g=this;g;g=g.Id)f.push(g);g=c[j];g.ka=g.L;for(var h=f.length-1;!a.Db&&0<=h&&g.ka;h--)a.currentTarget=f[h],d&=Mc(g,f[h],a.type,j,a)&&a.Nd!=l}if(l in c)if(g=c[l],g.ka=g.L,b)for(h=0;!a.Db&&h<f.length&&g.ka;h++)a.currentTarget=f[h],d&=Mc(g,f[h],a.type,l,a)&&a.Nd!=l;else for(f=this;!a.Db&&f&&
g.ka;f=f.Id)a.currentTarget=f,d&=Mc(g,f,a.type,l,a)&&a.Nd!=l;a=Boolean(d)}else a=j;return a};m.l=function(){Sc.e.l.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Cb(Fc,function(d){for(var f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Kc(g.key),b++}});else{var d=qa(this);if(Fc[d])for(var d=Fc[d],f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Kc(g.key),b++}}this.Id=k};function Tc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Tc.prototype.clone=function(){return new Tc(this.top,this.right,this.bottom,this.left)};Tc.prototype.contains=function(a){return!this||!a?l:a instanceof Tc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Uc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Uc.prototype.clone=function(){return new Uc(this.left,this.top,this.width,this.height)};Uc.prototype.contains=function(a){return a instanceof Uc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Vc(a,b,c){q(b)?Wc(a,c,b):Cb(b,va(Wc,a))}function Wc(a,b,c){a.style[Ha(c)]=b}function Xc(a,b){var c=Mb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Yc(a,b){return a.currentStyle?a.currentStyle[b]:k}function Zc(a,b){return Xc(a,b)||Yc(a,b)||a.style&&a.style[b]}function $c(a,b){var c=fb&&($a||hb)&&y("1.9");a.style.left=ad(0,c);a.style.top=ad(b,c)}
function bd(a){return new Ab(a.offsetLeft,a.offsetTop)}function cd(a){var b=a.getBoundingClientRect();w&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function dd(a){if(w&&!sb(8))return a.offsetParent;for(var b=Mb(a),c=Zc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Zc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function ed(a){var b,c=Mb(a),d=Zc(a,"position"),f=fb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Ab(0,0),h;b=c?Mb(c):document;if(h=w)if(h=!sb(9))h="CSS1Compat"!=Kb(b).T.compatMode;h=h?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=cd(a),a=gc(Kb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;
else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(x&&"fixed"==Zc(f,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(eb||x&&"absolute"==d)g.y-=c.body.offsetTop;for(f=a;(f=dd(f))&&f!=c.body&&f!=h;)if(g.x-=f.scrollLeft,!eb||"TR"!=f.tagName)g.y-=f.scrollTop}return g}function ad(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function fd(a,b){a.style.height=ad(b,j)}
function O(a){if("none"!=Zc(a,"display"))return gd(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=gd(a);b.display=c;b.position=f;b.visibility=d;return a}function gd(a){var b=a.offsetWidth,c=a.offsetHeight,d=x&&!b&&!c;return(!ga(b)||d)&&a.getBoundingClientRect?(a=cd(a),new Bb(a.right-a.left,a.bottom-a.top)):new Bb(b,c)}
function hd(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function P(a,b){a.style.display=b?"":"none"}function id(a){return"rtl"==Zc(a,"direction")}var jd=fb?"MozUserSelect":x?"WebkitUserSelect":k;
function kd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function ld(a,b){if(w){var c=kd(a,Yc(a,b+"Left")),d=kd(a,Yc(a,b+"Right")),f=kd(a,Yc(a,b+"Top")),g=kd(a,Yc(a,b+"Bottom"));return new Tc(f,d,g,c)}c=Xc(a,b+"Left");d=Xc(a,b+"Right");f=Xc(a,b+"Top");g=Xc(a,b+"Bottom");return new Tc(parseFloat(f),parseFloat(d),parseFloat(g),parseFloat(c))}var md={thin:2,medium:4,thick:6};function nd(a,b){if("none"==Yc(a,b+"Style"))return 0;var c=Yc(a,b+"Width");return c in md?md[c]:kd(a,c)}
function od(a){if(w){var b=nd(a,"borderLeft"),c=nd(a,"borderRight"),d=nd(a,"borderTop"),a=nd(a,"borderBottom");return new Tc(d,c,a,b)}b=Xc(a,"borderLeftWidth");c=Xc(a,"borderRightWidth");d=Xc(a,"borderTopWidth");a=Xc(a,"borderBottomWidth");return new Tc(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function pd(){}ja(pd);pd.prototype.ci=0;pd.a();function Q(a){K.call(this);this.qb=a||Kb();this.ta=qd}t(Q,Sc);Q.prototype.Sh=pd.a();var qd=k;function rd(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}m=Q.prototype;m.Y=k;m.N=l;m.f=k;m.ta=k;m.Ea=k;m.z=k;m.S=k;m.U=k;m.nh=l;
function sd(a){return a.Y||(a.Y=":"+(a.Sh.ci++).toString(36))}m.b=ca("f");m.q=function(){return this.Xb||(this.Xb=new Oc(this))};m.Qd=function(a){this==a&&e(Error("Unable to set parent component"));a&&(this.z&&this.Y&&this.z.U&&this.Y&&(this.Y in this.z.U&&this.z.U[this.Y])&&this.z!=a)&&e(Error("Unable to set parent component"));this.z=a;Q.e.Te.call(this,a)};m.getParent=ca("z");m.Te=function(a){this.z&&this.z!=a&&e(Error("Method not supported"));Q.e.Te.call(this,a)};m.Ca=ca("qb");
m.G=function(){this.f=this.qb.createElement("div")};function td(a,b){a.N&&e(Error("Component already rendered"));a.f||a.G();b?b.insertBefore(a.f,k):a.qb.T.body.appendChild(a.f);(!a.z||a.z.N)&&a.u()}m.h=function(a){this.N&&e(Error("Component already rendered"));if(a&&this.lb(a)){this.nh=j;if(!this.qb||this.qb.T!=Mb(a))this.qb=Kb(a);this.F(a);this.u()}else e(Error("Invalid element to decorate"))};m.lb=da(j);m.F=ba("f");m.u=function(){this.N=j;ud(this,function(a){!a.N&&a.b()&&a.u()})};
m.Bc=function(){ud(this,function(a){a.N&&a.Bc()});this.Xb&&Rc(this.Xb);this.N=l};m.l=function(){Q.e.l.call(this);this.N&&this.Bc();this.Xb&&(this.Xb.ba(),delete this.Xb);ud(this,function(a){a.ba()});!this.nh&&this.f&&G(this.f);this.z=this.Ea=this.f=this.U=this.S=k};
function vd(a,b){var c=a.S?a.S.length:0;b.N&&!a.N&&e(Error("Component already rendered"));(0>c||c>(a.S?a.S.length:0))&&e(Error("Child component index out of bounds"));if(!a.U||!a.S)a.U={},a.S=[];if(b.getParent()==a){var d=sd(b);a.U[d]=b;Qa(a.S,b)}else Hb(a.U,sd(b),b);b.Qd(a);Ua(a.S,c,0,b);b.N&&a.N&&b.getParent()==a?(d=a.wb(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.N&&(!b.N&&b.f&&b.f.parentNode)&&b.u()}m.wb=ca("f");m.jg=function(){this.ta==k&&(this.ta=id(this.N?this.f:this.qb.T.body));return this.ta};
m.Ib=function(a){this.N&&e(Error("Component already rendered"));this.ta=a};function ud(a,b){a.S&&v(a.S,b,i)}m.removeChild=function(a,b){if(a){var c=q(a)?a:sd(a),a=this.U&&c?(c in this.U?this.U[c]:i)||k:k;c&&a&&(Gb(this.U,c),Qa(this.S,a),b&&(a.Bc(),a.f&&G(a.f)),a.Qd(k))}a||e(Error("Child is not in parent component"));return a};function wd(){Q.call(this)}t(wd,Q);wd.prototype.G=function(){this.f=Rb("div",{id:"notify"})};wd.prototype.F=function(a){wd.e.F.call(this,a);xd.a().subscribe(yd,function(a,c,d,f,g){this.Xg(j,a,c,d,f,g)},this);xd.a().subscribe(zd,function(a,c,d,f,g){this.Xg(l,a,c,d,f,g)},this)};
wd.prototype.Xg=function(a,b,c,d,f,g){var h=I(nc,{action:b,content:c,m:d,re:f,link:g}),p=F("image",h);F("close",h);N(N(N(this.q(),F("close",h),"click",function(a){a.preventDefault();a.stopPropagation();G(h)}),h,"click",function(a){a.preventDefault();a.stopPropagation();G(h)}),p,"load",function(){P(p,j);R(function(){p.style.marginLeft=-1*p.clientWidth/2+"px";p.style.marginTop=-1*p.clientHeight/2+"px"})});this.b().appendChild(h);var u=F("note",h);R(function(){u&&(z(u,"show"),a?R(function(){A(u,"show");
z(u,"fade-out");R(function(){G(h)},5100)},3E3):z(u,"dim"))})};function S(){K.call(this);this.Ga=[];this.cd={}}t(S,K);m=S.prototype;m.mg=1;m.Kd=0;m.subscribe=function(a,b,c){var d=this.cd[a];d||(d=this.cd[a]=[]);var f=this.mg;this.Ga[f]=a;this.Ga[f+1]=b;this.Ga[f+2]=c;this.mg=f+3;d.push(f);return f};m.Vi=function(a){if(0!=this.Kd)this.Oc||(this.Oc=[]),this.Oc.push(a);else{var b=this.Ga[a];b&&((b=this.cd[b])&&Qa(b,a),delete this.Ga[a],delete this.Ga[a+1],delete this.Ga[a+2])}};
m.c=function(a,b){var c=this.cd[a];if(c){this.Kd++;for(var d=Va(arguments,1),f=0,g=c.length;f<g;f++){var h=c[f];this.Ga[h+1].apply(this.Ga[h+2],d)}this.Kd--;if(this.Oc&&0==this.Kd)for(;c=this.Oc.pop();)this.Vi(c)}};m.l=function(){S.e.l.call(this);delete this.Ga;delete this.cd;delete this.Oc};function xd(){S.call(this)}t(xd,S);ja(xd);var yd="flash",zd="show";function Ad(a){this.id=a.id;this.H=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Bd(a){S.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.Yb=a.host_id;this.Rh="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.live=!!a.live;this.Ee=[];this.wi=k;this.Of=l;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.da=a.publisher&&new Ad(a.publisher);this.Eb=a.published&&Cd(a.published+"Z");this.Sa="http://i.ytimg.com/vi/"+this.Yb+"/0.jpg";this.af="http://i.ytimg.com/vi/"+this.Yb+"/1.jpg";this.Yj="http://i.ytimg.com/vi/"+
this.Yb+"/2.jpg";this.Zj="http://i.ytimg.com/vi/"+this.Yb+"/3.jpg";this.Xj=new Bb(480,360);this.eh=37;this.Wa=[];this.jh=[];this.wc=a.comment_count||0;this.Wj=a.star_count||0;this.Xh=a.like_count||0;this.Fj=a.dislike_count||0;this.Pd=[];this.Qa={};this.zh=a.collection_id;this.subscribe(Dd,this.sh,this);this.subscribe(Ed,this.Ci,this);this.subscribe(Fd,this.ae,this)}t(Bd,S);function Gd(a){return a.Eb.getMonth()+1+"/"+a.Eb.getDate()+"/"+a.Eb.getYear()}var Dd="add-comment",Ed="remove-comment",Fd="watching";
Bd.prototype.Yd=function(a){Na(this.Ee,function(b){return a.id==b.id})||this.Ee.push(a)};Bd.prototype.sh=function(a){this.Wa.push(a);this.wc+=1;a.m.id!=T.a().j.id&&xd.a().c(zd,"commented on "+this.name,a.text,a.m,a.m.H,"#info:"+this.id)};Bd.prototype.Ci=function(a){U("/_comment",Hd(),"POST","delete=true&id="+a);Ra(this.Wa,function(b){return b.id==a});this.wc-=1};
Bd.prototype.ae=function(a,b,c){c?(Gb(this.Qa,a.id),a.xc=k):(this.Qa[a.id]=a,a.xc=this,a.id!=T.a().j.id&&xd.a().c(yd,"is watching "+(b?b.name:""),this.name,a,this.af,"#info:"+this.id))};function Id(){S.call(this);this.Be={}}t(Id,S);ja(Id);function Jd(a,b){var c=a.get(b.id);c||(c=new Bd(b),a.add(c));return c}Id.prototype.get=function(a){return a in this.Be?this.Be[a]:i};Id.prototype.add=function(a){this.Be[a.id]=a};var Kd={dj:["BC","AD"],cj:["Before Christ","Anno Domini"],fj:"JFMAMJJASOND".split(""),nj:"JFMAMJJASOND".split(""),ej:"January February March April May June July August September October November December".split(" "),mj:"January February March April May June July August September October November December".split(" "),jj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),pj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),tj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
rj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),qj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),gj:"SMTWTFS".split(""),oj:"SMTWTFS".split(""),kj:["Q1","Q2","Q3","Q4"],ij:["1st quarter","2nd quarter","3rd quarter","4th quarter"],aj:["AM","PM"],bj:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],sj:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],oh:6,uj:[5,6],ph:5};var Ld=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,Md=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,Nd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function Cd(a){var b=new Od(2E3),a=ya(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(Ld);if(d){var f=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var p=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new Pd(Qd,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new Pd(Qd,(4>=d?1-d:8-d)+(Number(p)+7*(Number(c)-1))-1))):(f&&(b.setDate(1),b.setMonth(f-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(Nd),p=0,c&&("Z"!=
c[0]&&(p=60*c[2]+Number(c[3]),p*="-"==c[1]?1:-1),p-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(Md))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=p&&b.setTime(b.getTime()+6E4*p),c=j):c=l;return c?b:k}
function Pd(a,b,c,d,f,g){q(a)?(this.wa=a==Rd?b:0,this.sa=a==Sd?b:0,this.oa=a==Qd?b:0,this.ga=a==Td?b:0,this.ia=a==Ud?b:0,this.la=a==Vd?b:0):(this.wa=a||0,this.sa=b||0,this.oa=c||0,this.ga=d||0,this.ia=f||0,this.la=g||0)}
Pd.prototype.bd=function(a){var b=Math.min(this.wa,this.sa,this.oa,this.ga,this.ia,this.la),c=Math.max(this.wa,this.sa,this.oa,this.ga,this.ia,this.la);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.wa||a)&&c.push(Math.abs(this.wa)+"Y");(this.sa||a)&&c.push(Math.abs(this.sa)+"M");(this.oa||a)&&c.push(Math.abs(this.oa)+"D");if(this.ga||this.ia||this.la||a)c.push("T"),(this.ga||a)&&c.push(Math.abs(this.ga)+"H"),(this.ia||a)&&c.push(Math.abs(this.ia)+"M"),
(this.la||a)&&c.push(Math.abs(this.la)+"S");return c.join("")};Pd.prototype.clone=function(){return new Pd(this.wa,this.sa,this.oa,this.ga,this.ia,this.la)};var Rd="y",Sd="m",Qd="d",Td="h",Ud="n",Vd="s";Pd.prototype.add=function(a){this.wa+=a.wa;this.sa+=a.sa;this.oa+=a.oa;this.ga+=a.ga;this.ia+=a.ia;this.la+=a.la};
function Wd(a,b,c){na(a)?(this.k=new Date(a,b||0,c||1),Xd(this,c||1)):pa(a)?(this.k=new Date(a.getFullYear(),a.getMonth(),a.getDate()),Xd(this,a.getDate())):(this.k=new Date(s()),this.k.setHours(0),this.k.setMinutes(0),this.k.setSeconds(0),this.k.setMilliseconds(0))}m=Wd.prototype;m.ud=Kd.oh;m.vd=Kd.ph;m.clone=function(){var a=new Wd(this.k);a.ud=this.ud;a.vd=this.vd;return a};m.getFullYear=function(){return this.k.getFullYear()};m.getYear=function(){return this.getFullYear()};m.getMonth=function(){return this.k.getMonth()};
m.getDate=function(){return this.k.getDate()};m.getTime=function(){return this.k.getTime()};m.getDay=function(){return this.k.getDay()};m.getUTCHours=function(){return this.k.getUTCHours()};m.getTimezoneOffset=function(){return this.k.getTimezoneOffset()};function Yd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Ga(c)+":"+Ga(b);return a}m.set=function(a){this.k=new Date(a.getFullYear(),a.getMonth(),a.getDate())};m.setFullYear=function(a){this.k.setFullYear(a)};
m.setMonth=function(a){this.k.setMonth(a)};m.setDate=function(a){this.k.setDate(a)};m.setTime=function(a){this.k.setTime(a)};
m.add=function(a){if(a.wa||a.sa){var b=this.getMonth()+a.sa+12*a.wa,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.oa&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.oa),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),Xd(this,a.getDate()))};m.bd=function(a,b){return[this.getFullYear(),Ga(this.getMonth()+1),Ga(this.getDate())].join(a?"-":"")+(b?Yd(this):"")};m.toString=function(){return this.bd()};function Xd(a,b){a.getDate()!=b&&a.k.setUTCHours(a.k.getUTCHours()+(a.getDate()<b?1:-1))}m.valueOf=function(){return this.k.valueOf()};function Od(a,b,c,d,f,g,h){this.k=na(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,h||0):new Date(a?a.getTime():s())}t(Od,Wd);m=Od.prototype;m.getHours=function(){return this.k.getHours()};
m.getMinutes=function(){return this.k.getMinutes()};m.getSeconds=function(){return this.k.getSeconds()};m.getUTCHours=function(){return this.k.getUTCHours()};m.setHours=function(a){this.k.setHours(a)};m.setMinutes=function(a){this.k.setMinutes(a)};m.setSeconds=function(a){this.k.setSeconds(a)};m.setMilliseconds=function(a){this.k.setMilliseconds(a)};m.setUTCHours=function(a){this.k.setUTCHours(a)};
m.add=function(a){Wd.prototype.add.call(this,a);a.ga&&this.setHours(this.k.getHours()+a.ga);a.ia&&this.setMinutes(this.k.getMinutes()+a.ia);a.la&&this.setSeconds(this.k.getSeconds()+a.la)};m.bd=function(a,b){var c=Wd.prototype.bd.call(this,a);return a?c+" "+Ga(this.getHours())+":"+Ga(this.getMinutes())+":"+Ga(this.getSeconds())+(b?Yd(this):""):c+"T"+Ga(this.getHours())+Ga(this.getMinutes())+Ga(this.getSeconds())+(b?Yd(this):"")};m.toString=function(){return this.bd()};
m.clone=function(){var a=new Od(this.k);a.ud=this.ud;a.vd=this.vd;return a};function Zd(a,b){S.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?Jd(Id.a(),d.media):c;Id.a().add(this.media);this.time=d?Cd(d.time+"Z"):new Od;this.async=d?d.async:j;this.seek=d?d.seek:k}t(Zd,S);function $d(a){return new Zd(i,a)};function ae(a){S.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.Yi=a.welcomed;this.Ej=a.demo;this.Yg=[];this.H=xa("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.qh=a.access_level;this.vj=[];this.Nj=a.last_login?Cd(a.last_login+"Z"):k;this.Tj=a.session_count;this.xj=a.ave_session?a.ave_session.toFixed(2):k;this.Uj=a.show_guide!=i?a.show_guide:
j;this.Vj=a.show_sidebar!=i?a.show_sidebar:j;this.yi=a.post_facebook!=i?a.post_facebook:j;this.Mg=a.post_twitter!=i?a.post_twitter:j;this.subscribe(be,function(){this.Mg=j},this)}t(ae,S);function ce(){return T.a().j.qh==de}ae.prototype.Dc=function(){var a=this.name.split(" ");return a&&a.length?a[0]:this.name};function ee(a,b){return Na(a.Yg,function(a){return a.id==b.id})}var be="twitter-auth",de=2;function fe(a,b,c,d,f){this.id=a;this.m=b;this.J=c;this.Si=d;this.Td=f||k;this.wg=[]}fe.prototype.Pd=function(a){this.wg.push(a);this.J.Q&&this.J.M&&(this.J.M.seek=k,this.J.M=k);U("/_seen",Hd(),"POST","media_id="+a.id+"&session_id="+this.id+"&async="+this.J.Q)};
fe.prototype.end=function(a){this.Td=a;a=(this.Td.getTime()-this.Si.getTime())/1E3;if(this.m.id==T.a().j.id&&this.J){ge.a();var b=this.J,c=this.wg.length;T.a().Ge.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",T.a().j.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",T.a().j.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",T.a().j.id,c]);_gaq.push(["_trackEvent","Users","Active",T.a().j.id,c]);_gaq.push(["_trackEvent","Users",b.id+
"-time",T.a().j.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",T.a().j.id,c]);b.Q||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))}};function he(a){S.call(this);this.id=a.id;this.name=a.name;this.Q=a.my_channel;this.xc=a.current_media?Jd(Id.a(),a.current_media):k;this.Dj=a.current_seek;this.gb=[];this.Sc={};this.M=a.current_program&&new Zd(a.current_program);this.jd=[];this.queue=[];this.Da=0;this.qi=a.online!=i?a.online:k;this.subscribe(ie,this.$d,this);this.subscribe(je,this.th,this);this.subscribe(ke,this.ae,this);this.subscribe(le,this.Wi,this)}t(he,S);m=he.prototype;
m.$d=function(a){this.gb.push(a);this.Sc[a.id]=a;a.time.getTime()+1E3*a.media.duration>this.Da&&(this.Da=a.time.getTime()+1E3*a.media.duration-12E4,me(ne.a(),this.Da,r(this.ze,this,this.Da)),me(ne.a(),this.Da+6E4,r(this.ze,this,this.Da+6E4)))};m.ze=function(a){this.Da<=a&&!this.Q&&U("/_programming/"+this.id,r(function(a){a=oe(a.target);a.length||me(ne.a(),s()+1E3,r(this.ze,this,s()+1E3));v(a,function(a){if(!this.Sc[a.id]){var b=this.Sc[a.id];b||(b=new Zd(a),this.$d(b));this.c(ie,b)}},this)},this))};
m.th=function(a,b){b?(this.queue.push(a),xd.a().c(yd,"Added to queue",a.name,i,a.af,"#info:"+a.id),pe(ge.a(),a),U("/_queue",Hd(),"POST","media_id="+a.id)):(Ra(this.queue,function(b){return b.id==a.id},this),U("/_queue",Hd(),"POST","media_id="+a.id+"&delete=1"))};m.ae=function(a){this.jd.push(a)};m.Wi=function(a){var b=a.id in this.Sc?this.Sc[a.id]:i;b&&(b.time=Cd(a.time+"Z"))};
m.O=function(a){if(this.M&&this.M.async&&this.M.seek)return this.M;if(!this.gb.length)return k;var b=this.M;b||(b=this.gb[0],this.Rb=0);if(a)return this.gb[this.Rb+a];if(!this.Q&&s()>=b.time.getTime()&&s()<b.time.getTime()+1E3*b.media.duration)return this.M=b;for(;s()>b.time.getTime()&&s()>=b.time.getTime()+1E3*b.media.duration;){this.M||(this.M=this.gb[0],this.Rb=0);this.gb.length>=this.Rb+1?(this.Rb++,a=this.gb[this.Rb],a=this.M=this.Q?a&&a.seek?a:k:this.gb[this.Rb]):a=k;if(this.Q){if(a&&a.async&&
a.seek)return this.M=a;if(!a)if(this.queue.length){a=this.queue[0];this.c(je,a,l);var c=$d(a);qe().c(ie,c);U("/_addprogram",Hd(),"POST","channel_id="+V.a().Q.id+"&media_id="+a.id+"&now=true");a=c}else a=k}if(!a)break;b=a}return s()>=b.time.getTime()&&s()<b.time.getTime()+1E3*b.media.duration?this.M=b:k};var ie="add-program",je="add-queue",ke="add-viewer",le="update-program";function T(){S.call(this);this.mh={};this.Ge=[]}t(T,S);ja(T);T.prototype.add=function(a){this.mh[a.id]=a};T.prototype.get=function(a){return this.mh[a]};function re(a,b){var c=a.get(b.id);c||(c=new ae(b),a.add(c));return c};function se(a,b){K.call(this);this.ha=a||1;this.ad=b||te;this.de=r(this.Oi,this);this.xe=s()}t(se,Sc);se.prototype.enabled=l;var te=n.window;m=se.prototype;m.Lb=k;m.Oi=function(){if(this.enabled){var a=s()-this.xe;0<a&&a<0.8*this.ha?this.Lb=this.ad.setTimeout(this.de,this.ha-a):(this.dispatchEvent(ue),this.enabled&&(this.Lb=this.ad.setTimeout(this.de,this.ha),this.xe=s()))}};m.start=function(){this.enabled=j;this.Lb||(this.Lb=this.ad.setTimeout(this.de,this.ha),this.xe=s())};
m.stop=function(){this.enabled=l;this.Lb&&(this.ad.clearTimeout(this.Lb),this.Lb=k)};m.l=function(){se.e.l.call(this);this.stop();delete this.ad};var ue="tick";function R(a,b,c){oa(a)?c&&(a=r(a,c)):a&&"function"==typeof a.handleEvent?a=r(a.handleEvent,a):e(Error("Invalid listener argument"));return 2147483647<b?-1:te.setTimeout(a,b||0)};function ve(a){if("function"==typeof a.wd)return a.wd();if(q(a))return a.split("");if(ma(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Db(a)}function we(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ma(a)||q(a))v(a,b,c);else{var d;if("function"==typeof a.ne)d=a.ne();else if("function"!=typeof a.wd)if(ma(a)||q(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Eb(a);else d=i;for(var f=ve(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function xe(a,b){this.Ab={};this.K=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof xe?(c=a.ne(),d=a.wd()):(c=Eb(a),d=Db(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}m=xe.prototype;m.L=0;m.Xi=0;m.wd=function(){ye(this);for(var a=[],b=0;b<this.K.length;b++)a.push(this.Ab[this.K[b]]);return a};m.ne=function(){ye(this);return this.K.concat()};
function ye(a){if(a.L!=a.K.length){for(var b=0,c=0;b<a.K.length;){var d=a.K[b];Object.prototype.hasOwnProperty.call(a.Ab,d)&&(a.K[c++]=d);b++}a.K.length=c}if(a.L!=a.K.length){for(var f={},c=b=0;b<a.K.length;)d=a.K[b],Object.prototype.hasOwnProperty.call(f,d)||(a.K[c++]=d,f[d]=1),b++;a.K.length=c}}m.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.Ab,a)?this.Ab[a]:b};
m.set=function(a,b){Object.prototype.hasOwnProperty.call(this.Ab,a)||(this.L++,this.K.push(a),this.Xi++);this.Ab[a]=b};m.clone=function(){return new xe(this)};function ze(a){return Ae(a||arguments.callee.caller,[])}
function Ae(a,b){var c=[];if(Pa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Be(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Be(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Ae(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Be(a){if(Ce[a])return Ce[a];a=String(a);if(!Ce[a]){var b=/function ([^\(]+)/.exec(a);Ce[a]=b?b[1]:"[Anonymous]"}return Ce[a]}var Ce={};function De(a,b,c,d,f){this.reset(a,b,c,d,f)}De.prototype.Gi=0;De.prototype.Kf=k;De.prototype.Jf=k;var Ee=0;De.prototype.reset=function(a,b,c,d,f){this.Gi="number"==typeof f?f:Ee++;this.$j=d||s();this.Kc=a;this.ai=b;this.Pj=c;delete this.Kf;delete this.Jf};De.prototype.Ug=ba("Kc");function Fe(a){this.bi=a}Fe.prototype.z=k;Fe.prototype.Kc=k;Fe.prototype.S=k;Fe.prototype.Zf=k;function Ge(a,b){this.name=a;this.value=b}Ge.prototype.toString=ca("name");var He=new Ge("SEVERE",1E3),Ie=new Ge("WARNING",900),Je=new Ge("INFO",800),Ke=new Ge("CONFIG",700),Le=new Ge("FINE",500);m=Fe.prototype;m.getParent=ca("z");m.Rf=function(){this.S||(this.S={});return this.S};m.Ug=ba("Kc");function Me(a){return a.Kc?a.Kc:a.z?Me(a.z):k}
m.log=function(a,b,c){if(a.value>=Me(this).value){a=this.Kh(a,b,c);b="log:"+a.ai;n.console&&(n.console.timeStamp?n.console.timeStamp(b):n.console.markTimeline&&n.console.markTimeline(b));n.msWriteProfilerMark&&n.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Zf)for(var f=0,g=i;g=c.Zf[f];f++)g(d);b=b.getParent()}}};
m.Kh=function(a,b,c){var d=new De(a,String(b),this.bi);if(c){d.Kf=c;var f;var g=arguments.callee.caller;try{var h;var p=ha("window.location.href");if(q(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:p,stack:"Not available"};else{var u,B,H=l;try{u=c.lineNumber||c.Oj||"Not available"}catch(L){u="Not available",H=j}try{B=c.fileName||c.filename||c.sourceURL||p}catch(ib){B="Not available",H=j}h=H||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:u,
fileName:B,stack:c.stack||"Not available"}:c}f="Message: "+za(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+za(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+za(ze(g)+"-> ")}catch(Ea){f="Exception trying to expose exception! You win, we lose. "+Ea}d.Jf=f}return d};function Ne(a,b){a.log(He,b,i)}m.info=function(a,b){this.log(Je,a,b)};function Oe(a,b){a.log(Le,b,i)}var Pe={},Qe=k;
function Re(a){Qe||(Qe=new Fe(""),Pe[""]=Qe,Qe.Ug(Ke));var b;if(!(b=Pe[a])){b=new Fe(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Re(a.substr(0,c));c.Rf()[d]=b;b.z=c;Pe[a]=b}return b};function Se(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function Te(){}Te.prototype.md=k;var Ue;function Ve(){}t(Ve,Te);function We(a){return(a=Xe(a))?new ActiveXObject(a):new XMLHttpRequest}function Ye(a){var b={};Xe(a)&&(b[0]=j,b[1]=j);return b}
function Xe(a){if(!a.cg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.cg=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.cg}Ue=new Ve;var Ze=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function $e(a){K.call(this);this.headers=new xe;this.pc=a||k}t($e,Sc);$e.prototype.s=Re("goog.net.XhrIo");var af=/^https?$/i,bf=[];function U(a,b,c,d){var f=new $e;bf.push(f);b&&M(f,"complete",b);M(f,"ready",va(cf,f));f.send(a,c,d,i)}function cf(a){a.ba();Qa(bf,a)}m=$e.prototype;m.Ua=l;m.p=k;m.Wd=k;m.Jc="";m.pg="";m.Hc=0;m.Ic="";m.le=l;m.Ad=l;m.se=l;m.xb=l;m.Rd=0;m.Kb=k;m.Md="";m.$i=l;
m.send=function(a,b,c,d){this.p&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Jc=a;this.Ic="";this.Hc=0;this.pg=b;this.le=l;this.Ua=j;this.p=this.pc?We(this.pc):We(Ue);this.Wd=this.pc?this.pc.md||(this.pc.md=Ye(this.pc)):Ue.md||(Ue.md=Ye(Ue));this.p.onreadystatechange=r(this.Ig,this);try{Oe(this.s,df(this,"Opening Xhr")),this.se=j,this.p.open(b,a,j),this.se=l}catch(f){Oe(this.s,df(this,"Error opening Xhr: "+f.message));ef(this,f);return}var a=c||
"",g=this.headers.clone();d&&we(d,function(a,b){g.set(b,a)});d=n.FormData&&a instanceof n.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.Ab,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");we(g,function(a,b){this.p.setRequestHeader(b,a)},this);this.Md&&(this.p.responseType=this.Md);"withCredentials"in this.p&&(this.p.withCredentials=this.$i);try{this.Kb&&(te.clearTimeout(this.Kb),this.Kb=k),0<this.Rd&&(Oe(this.s,df(this,"Will abort after "+
this.Rd+"ms if incomplete")),this.Kb=te.setTimeout(r(this.Pi,this),this.Rd)),Oe(this.s,df(this,"Sending request")),this.Ad=j,this.p.send(a),this.Ad=l}catch(h){Oe(this.s,df(this,"Send error: "+h.message)),ef(this,h)}};m.Pi=function(){"undefined"!=typeof ea&&this.p&&(this.Ic="Timed out after "+this.Rd+"ms, aborting",this.Hc=8,Oe(this.s,df(this,this.Ic)),this.dispatchEvent("timeout"),this.abort(8))};function ef(a,b){a.Ua=l;a.p&&(a.xb=j,a.p.abort(),a.xb=l);a.Ic=b;a.Hc=5;ff(a);gf(a)}
function ff(a){a.le||(a.le=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}m.abort=function(a){this.p&&this.Ua&&(Oe(this.s,df(this,"Aborting")),this.Ua=l,this.xb=j,this.p.abort(),this.xb=l,this.Hc=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),gf(this))};m.l=function(){this.p&&(this.Ua&&(this.Ua=l,this.xb=j,this.p.abort(),this.xb=l),gf(this,j));$e.e.l.call(this)};m.Ig=function(){!this.se&&!this.Ad&&!this.xb?this.mi():hf(this)};m.mi=function(){hf(this)};
function hf(a){if(a.Ua&&"undefined"!=typeof ea)if(a.Wd[1]&&4==jf(a)&&2==kf(a))Oe(a.s,df(a,"Local request error detected and ignored"));else if(a.Ad&&4==jf(a))te.setTimeout(r(a.Ig,a),0);else if(a.dispatchEvent("readystatechange"),4==jf(a)){Oe(a.s,df(a,"Request complete"));a.Ua=l;try{var b=kf(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var f;if(f=0===b){var g=String(a.Jc).match(Ze)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);f=!af.test(g?g.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Hc=6;var p;try{p=2<jf(a)?a.p.statusText:""}catch(u){Oe(a.s,"Can not get status: "+u.message),p=""}a.Ic=p+" ["+kf(a)+"]";ff(a)}}finally{gf(a)}}}
function gf(a,b){if(a.p){var c=a.p,d=a.Wd[0]?ia:k;a.p=k;a.Wd=k;a.Kb&&(te.clearTimeout(a.Kb),a.Kb=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){Ne(a.s,"Problem encountered resetting onreadystatechange: "+f.message)}}}m.Za=function(){return!!this.p};function jf(a){return a.p?a.p.readyState:0}function kf(a){try{return 2<jf(a)?a.p.status:-1}catch(b){return a.s.log(Ie,"Can not get status: "+b.message,i),-1}}function oe(a){if(a.p)return Se(a.p.responseText)}
function lf(a){try{if(!a.p)return k;if("response"in a.p)return a.p.response;switch(a.Md){case "":case "text":return a.p.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.p)return a.p.mozResponseArrayBuffer}Ne(a.s,"Response type "+a.Md+" is not supported on this browser");return k}catch(b){return Oe(a.s,"Can not get response: "+b.message),k}}function df(a,b){return b+" ["+a.pg+" "+a.Jc+" "+kf(a)+"]"};function V(){S.call(this);this.vc=[];this.Pb={};this.subscribe(mf,this.tc,this);this.subscribe(nf,this.hf,this)}t(V,S);ja(V);m=V.prototype;m.get=function(a){return this.Pb[a]};function of(a){if(a.A&&a.A.O())return a.A;if(a.Dd&&a.Dd.O())return a.Dd;for(var b=k,c=k,d=0;!c&&d<a.vc.length;)c=(b=!a.vc[d].Q?a.vc[d]:k)&&b.O(),d++;return b}m.ye=function(a){Cb(a,r(function(a){this.Yd(a)},this))};m.Yd=function(a){var b=new he(a);this.vc.push(b);this.Pb[a.id]=b;b.Q&&(this.Q=b);this.c(pf,b);return b};
m.tc=function(a,b){if(a&&!this.A||a&&this.A&&this.A.id!=a.id){this.Dd=this.A;this.A=a;this.hf(a.O());var c=a.O(),c=c&&!Fb(c.media.Qa);U("/_changechannel",Hd(),"POST","channel="+a.id+"&friends="+c+(b?"&forced=true":""));ge.a().tc(a,this.Dd)}};m.hf=function(a){this.A&&(this.r&&v(this.A.jd,function(a){Gb(this.r.media.Qa,a.m.id)},this),a&&(this.r=a,v(this.A.jd,function(b){b.Td||(a.media.Qa[b.m.id]=b.m)})))};
function qe(){var a=V.a();if(!a.Q){var b=T.a().j;a.Q=new he({id:b.id,name:b.name.split(" ")[0]+"'s Channel"})}return a.Q}var mf="change-channel",nf="next-program",pf="add-channel";function W(){S.call(this);this.subscribe(qf,function(a){qe().c(ie,a);U("/_addprogram",Hd(),"POST","channel_id="+V.a().Q.id+"&media_id="+a.media.id+"&async=true");pe(ge.a(),a.media)},this);this.subscribe(rf,function(a){U("/_started",Hd(),"POST","media_id="+a.id)},this)}t(W,S);ja(W);W.prototype.O=ca("r");W.prototype.getCurrentTime=function(){return this.n&&this.n.getCurrentTime?this.n.getCurrentTime():0};W.prototype.Sf=function(){return this.n&&this.n.getCurrentTime?this.n.getCurrentTime():0};
var qf="play-async",rf="playing";function sf(){K.call(this);this.i=tf;this.Ac=this.startTime=k}t(sf,Sc);var tf=0;sf.prototype.eb=function(){this.aa("begin")};sf.prototype.fb=function(){this.aa("end")};sf.prototype.aa=function(a){this.dispatchEvent(a)};function uf(){sf.call(this);this.queue=[]}t(uf,sf);uf.prototype.add=function(a){Pa(this.queue,a)||(this.queue.push(a),M(a,"finish",this.di,l,this))};uf.prototype.l=function(){v(this.queue,function(a){a.ba()});this.queue.length=0;uf.e.l.call(this)};function vf(){uf.call(this);this.na=0}t(vf,uf);
vf.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.i==tf)this.na<this.queue.length&&this.queue[this.na].i!=tf&&this.queue[this.na].stop(l),this.na=0,this.eb();else if(1==this.i)return l;this.aa("play");-1==this.i&&this.aa("resume");this.startTime=s();this.Ac=k;this.i=1;this.queue[this.na].play(a);return j};
vf.prototype.stop=function(a){this.i=tf;this.Ac=s();if(a)for(a=this.na;a<this.queue.length;++a){var b=this.queue[a];b.i==tf&&b.play();b.i==tf||b.stop(j)}else this.na<this.queue.length&&this.queue[this.na].stop(l);this.aa("stop");this.fb()};vf.prototype.di=function(){1==this.i&&(this.na++,this.na<this.queue.length?this.queue[this.na].play():(this.Ac=s(),this.i=tf,this.aa("finish"),this.fb()))};function wf(a,b,c){K.call(this);this.bc=a;this.ha=b||0;this.Ya=c;this.wh=r(this.Ch,this)}t(wf,K);m=wf.prototype;m.Y=0;m.l=function(){wf.e.l.call(this);this.stop();delete this.bc;delete this.Ya};m.start=function(a){this.stop();this.Y=R(this.wh,ga(a)?a:this.ha)};m.stop=function(){this.Za()&&te.clearTimeout(this.Y);this.Y=0};m.Za=function(){return 0!=this.Y};m.Ch=function(){this.Y=0;this.bc&&this.bc.call(this.Ya)};var Hd;Hd=da(k);var xf={},yf=k;function zf(a){a=qa(a);delete xf[a];Fb(xf)&&yf&&yf.stop()}function Af(){yf||(yf=new wf(function(){var a=s();Cb(xf,function(c){Bf(c,a)});Fb(xf)||Af()},20));var a=yf;a.Za()||a.start()};function Cf(a,b,c,d){sf.call(this);(!la(a)||!la(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.Zc=a;this.Fh=b;this.duration=c;this.mf=d;this.coords=[];this.hd=l}t(Cf,sf);m=Cf.prototype;m.Qf=0;m.ja=0;m.we=k;
m.play=function(a){if(a||this.i==tf)this.ja=0,this.coords=this.Zc;else if(1==this.i)return l;zf(this);this.startTime=a=s();-1==this.i&&(this.startTime-=this.duration*this.ja);this.Ac=this.startTime+this.duration;this.we=this.startTime;this.ja||this.eb();this.aa("play");-1==this.i&&this.aa("resume");this.i=1;var b=qa(this);b in xf||(xf[b]=this);Af();Bf(this,a);return j};m.stop=function(a){zf(this);this.i=tf;a&&(this.ja=1);Df(this,this.ja);this.aa("stop");this.fb()};m.Sf=ca("ja");
m.l=function(){this.i==tf||this.stop(l);this.aa("destroy");Cf.e.l.call(this)};function Bf(a,b){a.ja=(b-a.startTime)/(a.Ac-a.startTime);1<=a.ja&&(a.ja=1);a.Qf=1E3/(b-a.we);a.we=b;Df(a,a.ja);1==a.ja?(a.i=tf,zf(a),a.aa("finish"),a.fb()):1==a.i&&a.De()}function Df(a,b){oa(a.mf)&&(b=a.mf(b));a.coords=Array(a.Zc.length);for(var c=0;c<a.Zc.length;c++)a.coords[c]=(a.Fh[c]-a.Zc[c])*b+a.Zc[c]}m.De=function(){this.aa("animate")};m.aa=function(a){this.dispatchEvent(new Ef(a,this))};
function Ef(a,b){vc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.ek=b.coords[2];this.duration=b.duration;this.ja=b.Sf();this.Mj=b.Qf;this.state=b.i;this.wj=b}t(Ef,vc);function Ff(a,b,c,d,f){Cf.call(this,b,c,d,f);this.element=a}t(Ff,Cf);m=Ff.prototype;m.gd=ia;m.jg=function(){ga(this.ta)||(this.ta=id(this.element));return this.ta};m.De=function(){this.gd();Ff.e.De.call(this)};m.fb=function(){this.gd();Ff.e.fb.call(this)};m.eb=function(){this.gd();Ff.e.eb.call(this)};function Gf(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));Ff.apply(this,arguments)}t(Gf,Ff);
Gf.prototype.gd=function(){if(this.hd){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=id(a)?fb?-b:!w||!y("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function Hf(a,b,c,d,f){na(b)&&(b=[b]);na(c)&&(c=[c]);Ff.call(this,a,b,c,d,f);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}t(Hf,Ff);Hf.prototype.gd=function(){hd(this.element,this.coords[0])};
Hf.prototype.show=function(){this.element.style.display=""};Hf.prototype.hide=function(){this.element.style.display="none"};function If(a,b,c){Hf.call(this,a,1,0,b,c)}t(If,Hf);If.prototype.eb=function(){this.show();If.e.eb.call(this)};If.prototype.fb=function(){this.hide();If.e.fb.call(this)};function Jf(a,b,c){Hf.call(this,a,0,1,b,c)}t(Jf,Hf);Jf.prototype.eb=function(){this.show();Jf.e.eb.call(this)};function Kf(a){return a*a*a}function Lf(a){return 1-Math.pow(1-a,3)};function Mf(a,b,c,d,f){if(!w&&(!x||!y("525")))return j;if($a&&f)return Nf(a);if(f&&!d||!c&&(17==b||18==b)||w&&d&&b==a)return l;switch(a){case 13:return!(w&&sb(9));case 27:return!x}return Nf(a)}function Nf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||x&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Of(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Pf(){}var Qf;ja(Pf);m=Pf.prototype;m.Wb=aa();m.G=function(a){var b=a.Ca().G("div",Rf(this,a).join(" "),a.za);Sf(this,a,b);return b};m.wb=function(a){return a};m.zc=function(a,b,c){if(a=a.b?a.b():a)if(w&&!y("7")){var d=Tf(yb(a),b);d.push(b);va(c?z:A,a).apply(k,d)}else D(a,b,c)};m.lb=da(j);
m.h=function(a,b){if(b.id){var c=b.id;a.z&&a.z.U&&(Gb(a.z.U,a.Y),Hb(a.z.U,c,a));a.Y=c}(c=this.wb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Sa(c.childNodes):c.firstChild,a.za=c):a.za=k;var d=0,f=this.X(),g=this.X(),h=l,p=l,c=l,u=yb(b);v(u,function(a){if(!h&&a==f)h=j,g==f&&(p=j);else if(!p&&a==g)p=j;else{var b=d;if(!this.ah){this.od||Uf(this);var c=this.od,u={},B;for(B in c)u[c[B]]=B;this.ah=u}a=parseInt(this.ah[a],10);d=b|(isNaN(a)?0:a)}},this);a.i=d;h||(u.push(f),g==f&&(p=j));p||u.push(g);var B=
a.qa;B&&u.push.apply(u,B);if(w&&!y("7")){var H=Tf(u);0<H.length&&(u.push.apply(u,H),c=j)}if(!h||!p||B||c)b.className=u.join(" ");Sf(this,a,b);return b};m.eg=function(a){a.jg()&&this.Ib(a.b(),j);a.isEnabled()&&this.kc(a,a.ib)};function Sf(a,b,c){b.isEnabled()||a.va(c,1,j);X(b,8)&&a.va(c,8,j);b.W&16&&a.va(c,16,X(b,16));b.W&64&&a.va(c,64,X(b,64))}
m.ic=function(a,b){var c=!b,d=w||eb?a.getElementsByTagName("*"):k;if(jd){if(c=c?"none":"",a.style[jd]=c,d)for(var f=0,g;g=d[f];f++)g.style[jd]=c}else if(w||eb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;g=d[f];f++)g.setAttribute("unselectable",c)};m.Ib=function(a,b){this.zc(a,this.X()+"-rtl",b)};m.ue=function(a){var b;return a.W&32&&(b=a.Xa())?bc(b):l};
m.kc=function(a,b){var c;if(a.W&32&&(c=a.Xa())){if(!b&&a.Fc()){try{c.blur()}catch(d){}a.Fc()&&a.Tf()}bc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};m.Ve=function(a,b){P(a,b)};m.$=function(a,b,c){var d=a.b();if(d){var f=Vf(this,b);f&&this.zc(a,f,c);this.va(d,b,c)}};m.va=function(a,b,c){Qf||(Qf={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Qf[b])&&a.setAttribute("aria-"+b,c)};
m.Hb=function(a,b){var c=this.wb(a);if(c&&(Tb(c),b))if(q(b))Zb(c,b);else{var d=function(a){if(a){var b=Mb(c);c.appendChild(q(a)?b.createTextNode(a):a)}};la(b)?v(b,d):ma(b)&&!("nodeType"in b)?v(Sa(b),d):d(b)}};m.Xa=function(a){return a.b()};m.X=da("goog-control");function Rf(a,b){var c=a.X(),d=[c],f=a.X();f!=c&&d.push(f);c=b.i;for(f=[];c;){var g=c&-c;f.push(Vf(a,g));c&=~g}d.push.apply(d,f);(c=b.qa)&&d.push.apply(d,c);w&&!y("7")&&d.push.apply(d,Tf(d));return d}
function Tf(a,b){var c=[];b&&(a=a.concat([b]));v([],function(d){Ma(d,va(Pa,a))&&(!b||Pa(d,b))&&c.push(d.join("_"))});return c}function Vf(a,b){a.od||Uf(a);return a.od[b]}function Uf(a){var b=a.X();a.od={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Wf(){}t(Wf,Pf);ja(Wf);m=Wf.prototype;m.Wb=da("button");m.va=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Wf.e.va.call(this,a,b,c)};m.G=function(a){var b=Wf.e.G.call(this,a),c=a.Ec();c&&this.Ue(b,c);(c=a.C())&&this.Fa(b,c);a.W&16&&this.va(b,16,X(a,16));return b};m.h=function(a,b){var b=Wf.e.h.call(this,a,b),c=this.C(b);a.kf=c;a.cf=this.Ec(b);a.W&16&&this.va(b,16,X(a,16));return b};m.C=ia;m.Fa=ia;m.Ec=function(a){return a.title};m.Ue=function(a,b){a&&(a.title=b||"")};m.X=da("goog-button");function Xf(a,b){K.call(this);a&&Yf(this,a,b)}t(Xf,Sc);m=Xf.prototype;m.f=k;m.Bd=k;m.ve=k;m.Cd=k;m.ab=-1;m.$a=-1;m.ce=l;
var Zf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},$f={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ag=w||x&&y("525"),bg=$a&&fb;m=Xf.prototype;
m.Nh=function(a){if(x&&(17==this.ab&&!a.ctrlKey||18==this.ab&&!a.altKey))this.$a=this.ab=-1;ag&&!Mf(a.keyCode,this.ab,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.$a=fb?Of(a.keyCode):a.keyCode,bg&&(this.ce=a.altKey))};m.Ph=function(a){this.$a=this.ab=-1;this.ce=a.altKey};
m.handleEvent=function(a){var b=a.pa,c,d,f=b.altKey;w&&"keypress"==a.type?(c=this.$a,d=13!=c&&27!=c?b.keyCode:0):x&&"keypress"==a.type?(c=this.$a,d=0<=b.charCode&&63232>b.charCode&&Nf(c)?b.charCode:0):eb?(c=this.$a,d=Nf(c)?b.keyCode:0):(c=b.keyCode||this.$a,d=b.charCode||0,bg&&(f=this.ce),$a&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Zf?g=Zf[c]:25==c&&a.shiftKey&&(g=9):h&&h in $f&&(g=$f[h]);a=g==this.ab;this.ab=g;b=new cg(g,d,a,b);b.altKey=f;this.dispatchEvent(b)};m.b=ca("f");
function Yf(a,b,c){a.Cd&&a.detach();a.f=b;a.Bd=M(a.f,"keypress",a,c);a.ve=M(a.f,"keydown",a.Nh,c,a);a.Cd=M(a.f,"keyup",a.Ph,c,a)}m.detach=function(){this.Bd&&(Kc(this.Bd),Kc(this.ve),Kc(this.Cd),this.Cd=this.ve=this.Bd=k);this.f=k;this.$a=this.ab=-1};m.l=function(){Xf.e.l.call(this);this.detach()};function cg(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}t(cg,yc);function dg(a,b){a||e(Error("Invalid class name "+a));oa(b)||e(Error("Invalid decorator function "+b))}var eg={};function fg(a,b,c){Q.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=qa(b);if(d=eg[d])break;b=b.e?b.e.constructor:k}b=d?oa(d.a)?d.a():new d:k}this.w=b;this.za=a}t(fg,Q);m=fg.prototype;m.za=k;m.i=0;m.W=39;m.Ma=255;m.Li=0;m.ib=j;m.qa=k;m.qe=j;m.ld=l;m.Ng=k;function gg(a){a.N&&l!=a.qe&&hg(a,l);a.qe=l}m.Xa=function(){return this.w.Xa(this)};
m.zc=function(a,b){b?a&&(this.qa?Pa(this.qa,a)||this.qa.push(a):this.qa=[a],this.w.zc(this,a,j)):a&&this.qa&&(Qa(this.qa,a),0==this.qa.length&&(this.qa=k),this.w.zc(this,a,l))};m.G=function(){var a=this.w.G(this);this.f=a;var b=this.Ng||this.w.Wb();b&&a.setAttribute("role",b);this.ld||this.w.ic(a,l);this.ib||this.w.Ve(a,l)};m.wb=function(){return this.w.wb(this.b())};m.lb=function(a){return this.w.lb(a)};
m.F=function(a){this.f=a=this.w.h(this,a);var b=this.Ng||this.w.Wb();b&&a.setAttribute("role",b);this.ld||this.w.ic(a,l);this.ib="none"!=a.style.display};m.u=function(){fg.e.u.call(this);this.w.eg(this);if(this.W&-2&&(this.qe&&hg(this,j),this.W&32)){var a=this.Xa();if(a){var b=this.$b||(this.$b=new Xf);Yf(b,a);N(N(N(this.q(),b,"key",this.Oh),a,"focus",this.Mh),a,"blur",this.Tf)}}};
function hg(a,b){var c=a.q(),d=a.b();b?(N(N(N(N(c,d,"mouseover",a.Xf),d,"mousedown",a.Vf),d,"mouseup",a.Yf),d,"mouseout",a.Wf),a.yd!=ia&&N(c,d,"contextmenu",a.yd),w&&N(c,d,"dblclick",a.Uf)):(Qc(Qc(Qc(Qc(c,d,"mouseover",a.Xf),d,"mousedown",a.Vf),d,"mouseup",a.Yf),d,"mouseout",a.Wf),a.yd!=ia&&Qc(c,d,"contextmenu",a.yd),w&&Qc(c,d,"dblclick",a.Uf))}m.Bc=function(){fg.e.Bc.call(this);this.$b&&this.$b.detach();this.ib&&this.isEnabled()&&this.w.kc(this,l)};
m.l=function(){fg.e.l.call(this);this.$b&&(this.$b.ba(),delete this.$b);delete this.w;this.qa=this.za=k};m.Hb=function(a){this.w.Hb(this.b(),a);this.za=a};function ig(a){a=a.za;return!a?"":(q(a)?a:la(a)?La(a,ec).join(""):cc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}m.Ib=function(a){fg.e.Ib.call(this,a);var b=this.b();b&&this.w.Ib(b,a)};m.ic=function(a){this.ld=a;var b=this.b();b&&this.w.ic(b,a)};
m.Ve=function(a,b){if(b||this.ib!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.w.Ve(c,a);this.isEnabled()&&this.w.kc(this,a);this.ib=a;return j}return l};m.isEnabled=function(){return!X(this,1)};m.jc=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&jg(this,1,!a))a||(this.setActive(l),kg(this,l)),this.ib&&this.w.kc(this,a),this.$(1,!a)};function kg(a,b){jg(a,2,b)&&a.$(2,b)}m.Za=function(){return X(this,4)};
m.setActive=function(a){jg(this,4,a)&&this.$(4,a)};function lg(a,b){jg(a,16,b)&&a.$(16,b)}m.Fc=function(){return X(this,32)};m.ua=function(a){jg(this,32,a)&&this.$(32,a)};function X(a,b){return!!(a.i&b)}m.$=function(a,b){this.W&a&&b!=X(this,a)&&(this.w.$(this,a,b),this.i=b?this.i|a:this.i&~a)};function mg(a,b,c){a.N&&(X(a,b)&&!c)&&e(Error("Component already rendered"));!c&&X(a,b)&&a.$(b,l);a.W=c?a.W|b:a.W&~b}function ng(a,b){return!!(a.Ma&b)&&!!(a.W&b)}
function jg(a,b,c){return!!(a.W&b)&&X(a,b)!=c&&(!(a.Li&b)||a.dispatchEvent(rd(b,c)))&&!a.sd}m.Xf=function(a){(!a.relatedTarget||!Yb(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&ng(this,2))&&kg(this,j)};m.Wf=function(a){if((!a.relatedTarget||!Yb(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))ng(this,4)&&this.setActive(l),ng(this,2)&&kg(this,l)};m.yd=ia;
m.Vf=function(a){this.isEnabled()&&(ng(this,2)&&kg(this,j),Ac(a)&&(ng(this,4)&&this.setActive(j),this.w.ue(this)&&this.Xa().focus()));!this.ld&&Ac(a)&&a.preventDefault()};m.Yf=function(a){this.isEnabled()&&(ng(this,2)&&kg(this,j),this.Za()&&(this.Pc(a)&&ng(this,4))&&this.setActive(l))};m.Uf=function(a){this.isEnabled()&&this.Pc(a)};
m.Pc=function(a){ng(this,16)&&lg(this,!X(this,16));ng(this,8)&&jg(this,8,j)&&this.$(8,j);if(ng(this,64)){var b=!X(this,64);jg(this,64,b)&&this.$(64,b)}b=new vc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.Je=a.Je);return this.dispatchEvent(b)};m.Mh=function(){ng(this,32)&&this.ua(j)};m.Tf=function(){ng(this,4)&&this.setActive(l);ng(this,32)&&this.ua(l)};
m.Oh=function(a){return this.ib&&this.isEnabled()&&this.pe(a)?(a.preventDefault(),a.stopPropagation(),j):l};m.pe=function(a){return 13==a.keyCode&&this.Pc(a)};oa(fg)||e(Error("Invalid component class "+fg));oa(Pf)||e(Error("Invalid renderer class "+Pf));var og=qa(fg);eg[og]=Pf;dg("goog-control",function(){return new fg(k)});function pg(){}t(pg,Wf);ja(pg);m=pg.prototype;m.Wb=aa();m.G=function(a){gg(a);a.Ma&=-256;mg(a,32,l);return a.Ca().G("button",{"class":Rf(this,a).join(" "),disabled:!a.isEnabled(),title:a.Ec()||"",value:a.C()||""},ig(a)||"")};m.lb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};m.h=function(a,b){gg(a);a.Ma&=-256;mg(a,32,l);b.disabled&&z(b,Vf(this,1));return pg.e.h.call(this,a,b)};m.eg=function(a){N(a.q(),a.b(),"click",a.Pc)};m.ic=ia;
m.Ib=ia;m.ue=function(a){return a.isEnabled()};m.kc=ia;m.$=function(a,b,c){pg.e.$.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.C=function(a){return a.value};m.Fa=function(a,b){a&&(a.value=b)};m.va=ia;function qg(a,b,c){fg.call(this,a,b||pg.a(),c)}t(qg,fg);m=qg.prototype;m.C=ca("kf");m.Fa=function(a){this.kf=a;this.w.Fa(this.b(),a)};m.Ec=ca("cf");m.Ue=function(a){this.cf=a;this.w.Ue(this.b(),a)};m.l=function(){qg.e.l.call(this);delete this.kf;delete this.cf};m.u=function(){qg.e.u.call(this);if(this.W&32){var a=this.Xa();a&&N(this.q(),a,"keyup",this.pe)}};m.pe=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Pc(a):32==a.keyCode};dg("goog-button",function(){return new qg(k)});function rg(){}t(rg,Wf);ja(rg);m=rg.prototype;m.G=function(a){var b={"class":"goog-inline-block "+Rf(this,a).join(" "),title:a.Ec()||""},b=a.Ca().G("div",b,sg(this,a.za,a.Ca()));Sf(this,a,b);return b};m.Wb=da("button");m.wb=function(a){return a&&a.firstChild.firstChild};function sg(a,b,c){return c.G("div","goog-inline-block "+(a.X()+"-outer-box"),c.G("div","goog-inline-block "+(a.X()+"-inner-box"),b))}m.lb=function(a){return"DIV"==a.tagName};
m.h=function(a,b){tg(b,j);tg(b,l);var c;a:{c=hc(a.Ca(),b);var d=this.X()+"-outer-box";if(c&&C(c,d)&&(c=hc(a.Ca(),c),d=this.X()+"-inner-box",c&&C(c,d))){c=j;break a}c=l}c||b.appendChild(sg(this,b.childNodes,a.Ca()));z(b,"goog-inline-block",this.X());return rg.e.h.call(this,a,b)};m.X=da("goog-custom-button");
function tg(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==ya(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function ug(a,b,c){qg.call(this,a,b||rg.a(),c)}t(ug,qg);dg("goog-custom-button",function(){return new ug(k)});function vg(){Q.call(this)}t(vg,Q);m=vg.prototype;
m.u=function(){vg.e.u.call(this);(this.r=(this.Ff=V.a().A)&&this.Ff.O())&&s();this.vb=F("fullscreen",this.b());var a=F("expand",this.b());P(this.vb,this.bh());this.Wc=E("stagecover");this.xg=F("message",this.Wc);this.D=F("spinner",this.Wc);this.Tc=F("restart",this.Wc);this.lf=F("vote",this.b());this.zb=F("like",this.b());this.pb=F("dislike",this.b());var b=new Xf(document);wg(this);this.r?DESKTOP&&xg(this,this.r):W.a().c("no-media");N(N(N(N(N(N(N(N(N(this.q(),window,"resize",r(this.resize,this)),
document,"webkitfullscreenchange",r(function(){zb(this.vb,"full")},this)),document,"mozfullscreenchange",r(function(){zb(this.vb,"full")},this)),document,"fullscreenchange",r(function(){zb(this.vb,"full")},this)),this.vb,"click",r(function(a){if(C(this.vb,"full"))document.xh&&document.xh(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();else{var b=F("main");b.Rg&&b.Rg();b.webkitRequestFullScreen&&b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
b.mozRequestFullScreen&&b.mozRequestFullScreen()}a.stopPropagation();a.preventDefault()},this)),a,"click",r(this.Qi,this)),this.b(),"mousemove",r(function(a){var b=a.offsetX/this.ra,a=a.offsetY/this.Zi;if(0.7<b&&1>b&&0.7<a&&1>a&&(this.Qc==YT.PlayerState.PLAYING||this.Qc==YT.PlayerState.PAUSED))z(this.Wc,"click-through"),R(r(function(){A(this.Wc,"click-through")},this),500)},this)),b,"key",r(function(a){"32"==a.keyCode&&yg(this)},this)),this.b(),"click",r(function(a){!C(E("queue"),"show")&&(!C(E("search"),
"show")&&!fc(a.target,k,"queue")&&!fc(a.target,k,"search"))&&yg(this)},this));V.a().subscribe(mf,this.tc,this);V.a().subscribe(nf,function(a){this.r=a;xg(this,a);wg(this)},this);W.a().subscribe(qf,this.ri,this);W.a().subscribe("seek",this.Fi,this);W.a().subscribe("before-end",function(){wg(this,j)},this);DESKTOP&&(N(N(N(this.q(),this.Tc,"click",r(function(a){a.preventDefault();a.stopPropagation();this.r&&xg(this,this.r)},this)),this.zb,"click",r(this.Gg,this,this.zb,j)),this.pb,"click",r(this.Gg,
this,this.pb,l)),Y.a().subscribe(zg,function(a){this.resize(a)},this),Y.a().subscribe(Ag,function(){R(r(this.resize,this))},this),Y.a().subscribe(Bg,function(a){a?this.n.playVideo():this.n.pauseVideo();var a=F(a?"play":"pause",this.b()),b=new vf;b.add(new Jf(a,250,Lf));b.add(new If(a,250,Kf));b.play()},this),Y.a().subscribe(Cg,function(a){this.n&&(a?this.n.mute():this.n.unMute())},this),Y.a().subscribe(Dg,function(){this.n.seekTo(0)},this));this.resize()};
function yg(a){if(a.n&&a.n.getPlayerState&&DESKTOP)switch(a.n.getPlayerState()){case YT.PlayerState.PLAYING:Y.a().c(Bg,l);break;case YT.PlayerState.PAUSED:Y.a().c(Bg,j)}}m.bh=function(){var a=F("main");return!(!a.Rg&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};m.Qi=function(a){a.preventDefault();a.stopPropagation();Z.a();a=!C(E("sidebar"),"toggled");DESKTOP&&(Y.a().c(zg,a),Y.a().c(Ag,a))};
function xg(a,b){W.a().r=b;a.Wh!=b.id&&(xd.a().c(yd,"Now playing",b.media.name,i,b.media.af,"#info:"+b.media.id),a.Wh=b.id);a.play(b.media);U("/_like/"+b.media.id,r(function(a){a=oe(a.target);D(this.zb,"checked",a.liked||C(this.zb,"checked"));D(this.pb,"checked",a.disliked||C(this.pb,"checked"))},a))}
m.play=function(a,b){!this.n||!this.n.loadVideoById?(this.n=new YT.Player("ytplayer",{height:Qb().height-40,width:Qb().width,videoId:a.Yb,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque",origin:HOST_URL,enablejsapi:1},events:{onStateChange:r(this.ti,this),onReady:r(this.ki,this),onError:r(this.ji,this)}}),W.a().n=this.n):(this.n.cueVideoById(a.Yb),R(r(function(){var c=b||0;!this.n.getPlayerState()&&4>c?this.play(a,++c):4<=c&&wg(this,i,j)},this),1E3))};
m.resize=function(){if(!IPHONE){var a=E("stagecover"),b=F("message",a),c=E("guide").style.height,c=c.substring(0,c.length-2),c=Y.a().oe?c:40,d=Y.a().We?320:0;this.Zi=Qb().height-c;this.ra=Qb().width-d;fd(this.b(),Qb().height-c);this.b().style.width=ad(Qb().width-d,j);fd(a,Qb().height-c);a.style.width=ad(Qb().width-d,j);a=O(b);Vc(b,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});D(this.vb,"full",this.bh&&(document.fullScreen||document.webkitIsFullScreen||document.Qj))}};
m.tc=function(a){if(a=a.O())this.r=a,xg(this,a);wg(this)};m.Gg=function(a,b,c){c.preventDefault();c.stopPropagation();this.r&&(a=zb(a,"checked"),(c=b&&C(this.pb,"checked")||!b&&C(this.zb,"checked"))&&A(b?this.pb:this.zb,"checked"),U(b?"/_like":"/_dislike",i,"POST","media_id="+this.r.media.id+(!a?"&delete=1":"")+(c?"&flip=1":"")))};m.ri=function(a){this.r=a;xg(this,a);wg(this);U("/_optin",Hd(),"POST","media_id="+this.r.media.id)};m.Fi=function(a){this.n.seekTo&&this.n.seekTo(a,j)};
m.ti=function(a){this.Qc=a.data;wg(this);switch(a.data){case YT.PlayerState.CUED:a=this.r.async?this.r.seek:(s()-this.r.time.getTime())/1E3;this.n.seekTo(a);this.n.playVideo();Y.a().c(Bg,j);break;case YT.PlayerState.PLAYING:W.a().c(rf,this.r.media);break;case YT.PlayerState.ENDED:T.a().j.rd.Pd(this.r.media),D(this.zb,"checked",l),D(this.pb,"checked",l),(a=V.a().A.O())?V.a().c(nf,a):(W.a().r=k,V.a().c(mf,of(V.a()),j))}};
m.ki=function(){R(r(function(){if(this.n&&(!this.n.getPlayerState||!this.n.getPlayerState()))xg(this,this.r);else if(this.n.getPlayerState()){var a=this.r.async?this.r.seek:(s()-this.r.time.getTime())/1E3;this.n.seekTo(a);this.n.playVideo();DESKTOP&&Y.a().c(Cg,this.n.isMuted())}},this),1E3)};m.ji=function(){W.a().c("no-media");wg(this,i,j)};
function wg(a,b,c){if(!IPHONE){var d=E("stagecover"),f=a.r?W.a().getCurrentTime():0;c?(P(a.D,l),P(a.Tc,j),z(d,"covered")):(!a.r||a.r&&f>a.r.media.duration?(W.a().c("no-media"),Zb(a.xg.firstChild,Eg),P(a.D,l),P(a.Tc,l),P(a.lf,l),z(d,"covered")):a.Qc!=YT.PlayerState.PLAYING&&a.Qc!=YT.PlayerState.PAUSED||b?(Zb(a.xg.firstChild,Fg),P(a.D,j),P(a.Tc,l),P(a.lf,l),z(d,"covered")):(P(a.D,l),P(a.Tc,l),A(d,"covered"),P(a.lf,j)),hd(d,a.Qc==YT.PlayerState.BUFFERING?0.9:1),a.resize())}}
var Eg="THIS CHANNEL IS CURRENTLY OFFLINE",Fg="LOADING STORY";document.createElement("input");function Gg(a,b){K.call(this);this.bc=a;this.Ya=b;this.Aa=new wf(r(this.ni,this),0,this)}t(Gg,K);m=Gg.prototype;m.ha=0;m.Pe=0;m.hg=l;m.l=function(){this.Aa.ba();delete this.bc;delete this.Ya;Gg.e.l.call(this)};m.start=function(a,b){this.stop();this.hg=l;var c=b||0;this.ha=Math.max(a||0,0);this.Pe=0>c?-1:s()+c;this.Aa.start(0>c?this.ha:Math.min(this.ha,c))};m.stop=function(){this.Aa.stop()};m.Za=function(){return this.Aa.Za()};
m.ni=function(){if(this.bc.call(this.Ya))this.hg=j;else if(0>this.Pe)this.Aa.start(this.ha);else{var a=this.Pe-s();0>=a||this.Aa.start(Math.min(this.ha,a))}};function Hg(a){K.call(this);this.f=a;this.Mc=this.f.value;this.V=new Oc(this);this.Da=s();x||w||fb&&y("1.9")?N(this.V,a,"paste",this.Ub):N(this.V,a,["keydown","blur","focus","mouseover","input"],this.Lh);this.Aa=new Gg(r(this.zf,this))}t(Hg,Sc);m=Hg.prototype;m.i="init";m.s=Re("goog.events.PasteHandler");m.l=function(){Hg.e.l.call(this);this.V.ba();this.V=k;this.Aa.ba();this.Aa=k};
m.zf=function(){if(this.Mc==this.f.value)return l;this.s.info("detected textchange after paste");this.dispatchEvent("after_paste");return j};m.Ub=function(a){a=new yc(a.pa);a.type="paste";this.dispatchEvent(a);R(function(){this.zf()||this.Aa.start(50,200)},0,this)};
m.Lh=function(a){switch(this.i){case "init":switch(a.type){case "blur":this.i="init";break;case "focus":this.i="focused";break;case "mouseover":this.i="init";this.f.value!=this.Mc&&(this.s.info("paste by dragdrop while on init!"),this.Ub(a));break;default:Ne(this.s,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.Da+400;if(s()>b||"focus"==this.zi)this.s.info("paste by textchange while focused!"),this.Ub(a);break;case "blur":this.i="init";break;
case "keydown":this.s.info("key down ... looking for ctrl+v");if($a&&eb&&0==a.keyCode||$a&&eb&&17==a.keyCode)break;this.i="typing";break;case "mouseover":this.f.value!=this.Mc&&(this.s.info("paste by dragdrop while focused!"),this.Ub(a));break;default:Ne(this.s,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.i="focused";break;case "blur":this.i="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.s.info("paste by ctrl+v while keypressed!"),
this.Ub(a);break;case "mouseover":this.f.value!=this.Mc&&(this.s.info("paste by dragdrop while keypressed!"),this.Ub(a));break;default:Ne(this.s,"unexpected event "+a.type+" during keypressed")}break;default:Ne(this.s,"invalid "+this.i+" state")}this.Da=s();this.Mc=this.f.value;this.s.info(a.type+" -> "+this.i);this.zi=a.type};function Z(){S.call(this)}t(Z,S);ja(Z);function Ig(a){return'<div class="info"><div class="picture"><img src="'+J(a.media.Sa)+'" class="thumb"><div class="publisher"><img src="'+J(a.media.da.H)+'"><div class="name">'+J(a.media.da.name)+'</div></div><div class="links"><div class="local"></div><a target="_blank" href="'+a.media.Rh+'"><div class="host"></div></a></div><div class="link-select" style="display:none"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><div class="title"><div class="text">'+
J(a.media.name)+'</div></div><div class="scrollable ios-scroll" '+(!a.description?'style="display:none"':"")+'><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+J(a.Eb)+'</div></div><div class="description">'+a.description+'</div></div><div class="button play"><div class="icon"></div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="info-contents"><div class="scrollable ios-scroll"><div class="tweet-holder" style="display:none"><div class="label"><div class="globe-icon"></div><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="viewers" style="display: none"><div class="label"><div class="friends-icon"></div><div class="status">SEEN</div></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><div class="friends-icon"></div><a class="conv-link">CONVERSATION</a>'+
(a.Vh?'<a class="prev-link">&#10218; LAST PROGRAM</a>':"")+'</div><div class="no-comments" style="display:none">Start the conversation with friends.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div><div class="overlay" style="display: none"><div class="leaving"><div>This program is over. Carry on?</div><div class="button dark no">Not yet</div><div class="button dark yes">Let\'s go</div></div></div></div>'}
function Jg(a){return'<div class="viewer" name="'+J(a.Dc)+'"><img src="'+J(a.m.H)+'"></div>'}
function Kg(a){return'<div class="tweet" id="'+J(a.prefix)+"-"+J(a.Ta.id)+'">'+(a.Ta.m?'<a href="#user:'+J(a.Ta.m.id)+'"><img src="'+J(a.Ta.H)+'"/></a>':'<img src="'+J(a.Ta.H)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+J(a.Ta.handle)+"/status/"+J(a.Ta.id)+'">'+J(a.Ta.handle)+"</a> "+a.text+'</div><div class="timestamp">'+J(a.timestamp)+'</div><div class="tweet-options"><div class="reply"></div></div></div>'}
function Lg(a){return'<div class="comment'+(a.Na.R?" reply":"")+'" id="'+J(a.prefix)+"-"+J(a.Na.id)+'"><a href="#user:'+J(a.Na.m.id)+'"><img src="'+J(a.Na.m.H)+'"/></a><div class="text"><a class="username" href="#user:'+J(a.Na.m.id)+'">'+J(a.Na.m.name)+"</a> "+a.text+'</div><div class="timestamp">'+J(a.timestamp)+'</div><div class="comment-options">'+(a.Kg?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div>'}
function Mg(){return'<div class="comment-input"><div class="comment-controls"><div class="comment-button tweet-toggle"><div class="icon"></div>tweet<div class="check"></div></div><div class="comment-button fb-toggle"><div class="icon"></div>post<div class="check"></div></div><div class="comment-button add-comment"><div class="return">&#8618;</div>add</div></div><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div></div>'}
function Ng(a){var b='<div class="activity'+(1<a.v.length?" digest":"")+'">';if(1<a.v.length){for(var b=b+('<div class="template"><span>'+J(a.v.length)+" friends </span>"+(a.ih?"watched":"are watching")+(a.J?' <a href="#channel:'+J(a.J.id)+'">'+J(a.J.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.v,d=c.length,f=0;f<d;f++)var g=c[f],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.H)+'"/></div></a>');
b+="</div>"}return b+=(1==a.v.length?'<a href="#user:'+J(a.v[0].id)+'"><div class="picture" style="background:'+J(a.v[0].color)+'"><img src="'+J(a.v[0].H)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(a.v[0].id)+'">'+J(a.v[0].name)+"</a> "+(a.ih?"watched":"is watching")+(a.J?' <a href="#channel:'+J(a.J.id)+'">'+J(a.J.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Og(a){for(var b='<div class="comment activity'+(1<a.Wa.length?" digest":"")+'">'+(1<a.Wa.length?'<div class="template">'+(1==a.v.length?'<a class="user" href="#user:'+J(a.v[0].id)+'">'+J(a.v[0].name)+' </a> discussed <a class="title" href="#info:'+J(a.media.id)+'">'+J(a.media.name)+"</a>.":"<span>"+J(a.v.length)+' friends </span> discussed <a class="title" href="#info:'+J(a.media.id)+'"> '+J(a.media.name)+"</a>.")+"</div>":""),a=a.Wa,c=a.length,d=0;d<c;d++)var f=a[d],b=b+('<div class="comment"><a href="#user:'+
J(f.m.id)+'"><div class="picture" style="background:'+J(f.m.color)+'"><img src="'+J(f.m.H)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(f.m.id)+'">'+J(f.m.name)+'</a>  <div class="text">'+J(f.text)+'</div><div class="timestamp">'+J(f.Bi)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function Pg(a){var b='<div class="like activity'+(1<a.v.length?" digest":"")+'">';if(1<a.v.length){for(var b=b+('<div class="template"><span>'+J(a.v.length)+' friends </span>liked<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.v,d=c.length,f=0;f<d;f++)var g=c[f],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.H)+'"/></div></a>');b+="</div>"}return b+=(1==a.v.length?'<a href="#user:'+J(a.v[0].id)+'"><div class="picture" style="background:'+
J(a.v[0].color)+'"><img src="'+J(a.v[0].H)+'"/></div></a><div class="template" style="top:10px;margin-bottom:30px"><a class="user" href="#user:'+J(a.v[0].id)+'">'+J(a.v[0].name)+"</a> liked "+(1<a.vg?J(a.vg)+" stories":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Qg(a){return'<div class="list-info"><div class="picture-cell" '+(a.Sa?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+J(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+J(a.Sa)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function Rg(a){return'<li class="'+J(a.className)+' tab"><div class="label">'+J(a.name)+"</div></li>"}
function Sg(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.fg?'placeholder="'+J(a.fg)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function Tg(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function Ug(a){return'<div class="playlist"><div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function Vg(a){return'<div class="category button">'+J(a.name)+"</div>"}function Wg(a){return'<div class="publisher">'+(a.H?'<img src="'+J(a.H)+'"/>':"")+'<div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function Xg(a){return'<div class="channel '+(a.J.qi?"on":"off")+'"><div class="title">'+J(a.J.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.J.gc?'<div class="pending">'+J(a.J.gc)+"</div>":"")+"</div>"}
function Yg(a){return'<div class="collection"><div class="title">'+J(a.ee.name)+'</div><div class="controls">'+(a.ee.gc?'<div class="pending">'+J(a.ee.gc)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Zg(a){return'<div class="topic"><div class="title">'+J(a.Ri)+'</div><div class="controls">'+(a.gc?'<div class="pending">'+J(a.gc)+"</div>":"")+"</div></div>"}
function $g(){return'<div class="tabbed activity"><ul class="tabs"><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul><div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function ah(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function bh(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.Sa)+"); background-position: 50% "+J(a.media.eh)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+J(a.media.wc)+'</div><div class="like-count"><div class="icon"></div>'+J(a.media.Xh)+'</div></div></div></div><div class="publisher">'+(a.media.da?'<img src="'+J(a.media.da.H)+
'"><div class="name">'+J(a.media.da.name)+"</div>":"")+'<div class="list-play"><div class="icon"></div></div><div class="list-plus"><div class="icon"></div></div></div></div>'}
function ch(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.Sa)+"); background-position: 50% "+J(a.media.eh)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="published">'+J(a.Eb)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+J(a.media.da.H)+'"><div class="name">'+J(a.media.da.name)+
'</div><div class="duration">'+J(a.media.duration)+' seconds</div></div><div class="description">'+J(a.media.description)+"</div></div>"};function dh(a,b,c){K.call(this);this.target=a;this.handle=b||a;this.qg=c||new Uc(NaN,NaN,NaN,NaN);this.T=Mb(a);this.V=new Oc(this);M(this.handle,["touchstart","mousedown"],this.Yc,l,this)}t(dh,Sc);var eh=w||fb&&y("1.9.3");m=dh.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.Zg=0;m.$g=0;m.Sb=0;m.Tb=0;m.ke=j;m.sb=l;m.bg=0;m.Zh=0;m.Th=l;m.hd=l;m.q=ca("V");m.Vg=ba("Od");m.jc=ba("ke");
m.l=function(){dh.e.l.call(this);Ic(this.handle,["touchstart","mousedown"],this.Yc,l,this);Rc(this.V);eh&&this.T.releaseCapture();this.V=this.handle=this.target=k};function fh(a){ga(a.ta)||(a.ta=id(a.target));return a.ta}
m.Yc=function(a){var b="mousedown"==a.type;if(this.ke&&!this.sb&&(!b||Ac(a))){gh(a);if(0==this.bg)if(this.dispatchEvent(new hh("start",this,a.clientX,a.clientY,a)))this.sb=j,a.preventDefault();else return;else a.preventDefault();var b=this.T,c=b.documentElement,d=!eh;N(this.V,b,["touchmove","mousemove"],this.Qh,d);N(this.V,b,["touchend","mouseup"],this.tb,d);eh?(c.setCapture(l),N(this.V,c,"losecapture",this.tb)):N(this.V,b?b.parentWindow||b.defaultView:window,"blur",this.tb);w&&this.Th&&N(this.V,
b,"dragstart",wc);this.Od&&N(this.V,this.Od,"scroll",this.Jg,d);this.clientX=this.Zg=a.clientX;this.clientY=this.$g=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.hd?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Zc(a,"position")&&(c=Mb(a).documentElement),c?(fb?(d=od(c),b+=d.left):sb(8)&&(d=od(c),b-=d.left),a=id(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Sb=a;this.Tb=this.target.offsetTop;this.He=gc(Kb(this.T));this.Zh=s()}else this.dispatchEvent("earlycancel")};
m.tb=function(a,b){Rc(this.V);eh&&this.T.releaseCapture();if(this.sb){gh(a);this.sb=l;var c=ih(this,this.Sb),d=jh(this,this.Tb);this.dispatchEvent(new hh("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function gh(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.pa.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.pa.changedTouches[0],a.currentTarget)}
m.Qh=function(a){if(this.ke){gh(a);var b=(this.hd&&fh(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.sb){var d=this.Zg-this.clientX,f=this.$g-this.clientY;if(d*d+f*f>this.bg)if(this.dispatchEvent(new hh("start",this,a.clientX,a.clientY,a)))this.sb=j;else{this.sd||this.tb(a);return}}c=kh(this,b,c);b=c.x;c=c.y;this.sb&&this.dispatchEvent(new hh("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(lh(this,a,b,c),a.preventDefault())}};function kh(a,b,c){var d=gc(Kb(a.T)),b=b+(d.x-a.He.x),c=c+(d.y-a.He.y);a.He=d;a.Sb+=b;a.Tb+=c;b=ih(a,a.Sb);a=jh(a,a.Tb);return new Ab(b,a)}m.Jg=function(a){var b=kh(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;lh(this,a,b.x,b.y)};function lh(a,b,c,d){a.Hf(c,d);a.dispatchEvent(new hh("drag",a,b.clientX,b.clientY,b,c,d))}
function ih(a,b){var c=a.qg,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function jh(a,b){var c=a.qg,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}m.Hf=function(a,b){this.hd&&fh(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function hh(a,b,c,d,f,g,h,p){vc.call(this,a);this.clientX=c;this.clientY=d;this.zj=f;this.left=ga(g)?g:b.Sb;this.top=ga(h)?h:b.Tb;this.Ij=b;this.Dh=!!p}t(hh,vc);function mh(){K.call(this);this.Gc=[];this.Ni=[];this.Vc=[]}t(mh,Sc);m=mh.prototype;m.kg=l;m.lg=l;m.te=l;m.Vg=ba("Od");m.init=function(){if(!this.te){for(var a,b=0;a=this.Gc[b];b++)nh(this,a);this.te=j}};function nh(a,b){a.kg&&(M(b.element,"mousedown",b.zg,l,b),a.Xe&&z(b.element,a.Xe));a.lg&&a.$e&&z(b.element,a.$e)}
m.Yc=function(a,b){if(!this.fa)if(this.fa=b,this.dispatchEvent(new oh("dragstart",this,this.fa))==l)this.fa=k;else{var c=b.Qb,d;a:switch(d=c.cloneNode(j),c.tagName.toLowerCase()){case "tr":d=Rb("table",k,Rb("tbody",k,d));break a;case "td":case "th":d=Rb("table",k,Rb("tbody",k,Rb("tr",k,d)));break a}this.Eh&&z(d,this.Eh);this.Vb=d;d=Mb(c);d.body.appendChild(this.Vb);var f=this.Vb,g=ed(c),c=ld(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=
g.y+"px";this.Oa=new dh(f);this.Oa.Vg(this.Od);M(this.Oa,"drag",this.Ag,l,this);M(this.Oa,"end",this.tb,l,this);M(d.body,"selectstart",this.dh);this.lc=[];for(d=0;c=this.Ni[d];d++)for(var h,f=0;h=c.Gc[f];f++)for(var g=c,p=[h.element],u=this.lc,B=0;B<p.length;B++){var H=p[B],L=ed(H),ib=O(H),L=new Tc(L.y,L.x+ib.width,L.y+ib.height,L.x);u.push(new ph(L,g,h,H));qh(this,L)}this.Ra||(this.Ra=new Tc(0,0,0,0));for(d=0;c=this.Vc[d];d++)c.he=[],c.Sg=c.f.scrollLeft,c.Tg=c.f.scrollTop,f=ed(c.f),g=O(c.f),c.I=
new Tc(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.lc[d];d++)for(f=0;c=this.Vc[f];f++)Yb(c.f,g.f)&&(c.he.push(g),g.Uc=c);this.jb=k;for(d=0;c=this.Vc[d];d++)M(c.f,"scroll",this.Df,l,this);this.Oa.Yc(a);a.preventDefault()}};
m.tb=function(a){var b=a.Dh?k:this.jb;if(b&&b.ea){var c=a.clientX,a=a.clientY,d=gc(Kb(this.Vb)),f=c+d.x,d=a+d.y,g;this.$c&&(g=this.$c(b.Pa,b.I,f,d));this.dispatchEvent(new oh("drag",this,this.fa,b.ea,b.Pa,b.f,c,a,f,d));b.ea.dispatchEvent(new oh("drop",this,this.fa,b.ea,b.Pa,b.f,c,a,f,d,g))}this.dispatchEvent(new oh("dragend",this,this.fa));Ic(this.Oa,"drag",this.Ag,l,this);Ic(this.Oa,"end",this.tb,l,this);Ic(Mb(this.fa.Qb).body,"selectstart",this.dh);for(b=0;c=this.Vc[b];b++)Ic(c.f,"scroll",this.Df,
l,this),c.he=[];this.Oa.ba();G(this.Vb);delete this.fa;delete this.Vb;delete this.Oa;delete this.lc;delete this.jb};
m.Ag=function(a){var b,c=gc(Kb(this.Vb));b=new Ab(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.jb,g;if(f){this.$c&&f.ea&&(g=this.$c(f.Pa,f.I,c,d));if(f.I.contains(b)&&g==this.nf)return;f.ea&&(this.dispatchEvent(new oh("dragout",this,this.fa,f.ea,f.Pa,f.f)),f.ea.dispatchEvent(new oh("dragout",this,this.fa,f.ea,f.Pa,f.f,i,i,i,i,this.nf)));this.nf=g;this.jb=k}if(this.Ra.contains(b)){a:{for(var h=0;f=this.lc[h];h++)if(f.I.contains(b))if(f.Uc){if(f.Uc.I.contains(b)){b=f;break a}}else{b=f;break a}b=
k}if((f=this.jb=b)&&f.ea)this.$c&&(g=this.$c(f.Pa,f.I,c,d)),c=new oh("dragover",this,this.fa,f.ea,f.Pa,f.f),c.Mi=g,this.dispatchEvent(c),f.ea.dispatchEvent(new oh("dragover",this,this.fa,f.ea,f.Pa,f.f,a.clientX,a.clientY,i,i,g));else if(!f){this.ca||(this.ca=new ph(this.Ra.clone()));a=this.ca.I;a.top=this.Ra.top;a.right=this.Ra.right;a.bottom=this.Ra.bottom;a.left=this.Ra.left;for(g=0;f=this.lc[g];g++)b=f.I,f.Uc&&(f=f.Uc.I,b=new Tc(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=k,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),f!==k&&h!==k&&(Math.abs(f-c)>Math.abs(h-d)?h=k:f=k),f===k?h!==k&&(h<=d?a.top=h:a.bottom=h):f<=c?a.left=f:a.right=f;this.jb=10<=(a.right-a.left)*(a.bottom-a.top)?this.ca:k}}};m.dh=da(l);
m.Df=function(a){for(var b=0,c;c=this.Vc[b];b++)if(a.target==c.f){var d=c.Tg-c.f.scrollTop,f=c.Sg-c.f.scrollLeft;c.Tg=c.f.scrollTop;c.Sg=c.f.scrollLeft;this.ca&&this.jb==this.ca&&(0<d?this.ca.I.top+=d:this.ca.I.bottom+=d,0<f?this.ca.I.left+=f:this.ca.I.right+=f);for(var g=0,h;h=c.he[g];g++)h=h.I,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,qh(this,h)}this.Oa.Jg(a)};
function qh(a,b){if(1==a.lc.length)a.Ra=new Tc(b.top,b.right,b.bottom,b.left);else{var c=a.Ra;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}m.l=function(){mh.e.l.call(this);for(var a,b=0;a=this.Gc[b];b++)this.kg&&(Ic(a.element,"mousedown",a.zg,l,a),this.Xe&&A(a.element,this.Xe)),this.lg&&this.$e&&A(a.element,this.$e),a.ba();this.Gc.length=0};
function oh(a,b,c,d,f,g,h,p,u,B,H){vc.call(this,a);this.Gj=b;this.Hj=c;this.Jj=d;this.Lj=f;this.Kj=g;this.clientX=h;this.clientY=p;this.bk=u;this.ck=B;this.Mi=H}t(oh,vc);oh.prototype.l=aa();function rh(a,b){K.call(this);this.element=E(a);this.data=b;this.z=k;this.element||e(Error("Invalid argument"))}t(rh,Sc);m=rh.prototype;m.Qb=k;
m.zg=function(a){if(Ac(a)){var b=a.target;b&&(M(b,"mousemove",this.dc,l,this),M(b,"mouseout",this.dc,l,this),M(b,"mouseup",this.Ce,l,this),this.Qb=b,this.Ye=new Ab(a.clientX,a.clientY),a.preventDefault())}};m.Qd=ba("z");m.dc=function(a){var b=this.Qb,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Ye.x)+Math.abs(a.clientY-this.Ye.y)||c)Ic(b,"mousemove",this.dc,l,this),Ic(b,"mouseout",this.dc,l,this),Ic(b,"mouseup",this.Ce,l,this),this.z.Yc(a,this)};
m.Ce=function(){var a=this.Qb;Ic(a,"mousemove",this.dc,l,this);Ic(a,"mouseout",this.dc,l,this);Ic(a,"mouseup",this.Ce,l,this);delete this.Ye;this.Qb=k};function ph(a,b,c,d){this.I=a;this.ea=b;this.Pa=c;this.f=d}ph.prototype.Uc=k;function sh(){mh.call(this)}t(sh,mh);function th(a,b){b.Qd(a);a.Gc.push(b);a.te&&nh(a,b)};function uh(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(za(d),'="',za(b[d]),'" ');var f=c.join("");return a.replace(vh,function(a,b,c,d,B){a=[za(b)];if(!c)return a[0];a.push("<a ",f,'href="');d?(a.push("mailto:"),c=d,d=""):(B||a.push("http://"),(d=c.match(wh))?(c=d[1],d=d[2]):d="");c=za(c);d=za(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var wh=/^(.*)([:;,\.?\[\]])$/,vh=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function xh(){}t(xh,Pf);ja(xh);m=xh.prototype;m.Wb=aa();m.h=function(a,b){gg(a);a.Ma&=-256;mg(a,32,l);xh.e.h.call(this,a,b);a.Hb(b.value);return b};m.G=function(a){gg(a);a.Ma&=-256;mg(a,32,l);return a.Ca().G("textarea",{"class":Rf(this,a).join(" "),disabled:!a.isEnabled()},a.za||"")};m.lb=function(a){return"TEXTAREA"==a.tagName};m.Ib=ia;m.ue=function(a){return a.isEnabled()};m.kc=ia;m.$=function(a,b,c){xh.e.$.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.va=ia;
m.Hb=function(a,b){a&&(a.value=b)};m.X=da("goog-textarea");function yh(a,b,c){fg.call(this,a,b||xh.a(),c);gg(this);this.ic(j);a||(this.za="")}t(yh,fg);var zh=fb||x;m=yh.prototype;m.Zb=l;m.ra=0;m.sg=0;m.yg=0;m.$f=l;m.Hd=l;m.Se=l;m.Re=l;function Ah(a){return a.Nc.top+a.Nc.bottom+a.uf.top+a.uf.bottom}function Bh(a){var b=a.yg,c=a.b();b&&(c&&a.Hd)&&(b-=Ah(a));return b}function Ch(a){var b=a.sg,c=a.b();b&&(c&&a.Hd)&&(b-=Ah(a));return b}m.Fa=function(a){this.Hb(String(a))};m.C=function(){return this.b().value};m.Hb=function(a){yh.e.Hb.call(this,a);this.resize()};
m.jc=function(a){yh.e.jc.call(this,a);this.b().disabled=!a};m.resize=function(){this.b()&&this.xd()};m.u=function(){yh.e.u.call(this);var a=this.b();Vc(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.Nc=ld(a,"padding");this.uf=od(a);N(N(N(N(this.q(),a,"scroll",this.xd),a,"focus",this.xd),a,"keyup",this.xd),a,"mouseup",this.$h);this.resize()};
function Dh(a){if(!a.$f){var b=a.b().cloneNode(l);Vc(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ca().T.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.Se=d>c;b.style.borderWidth="10px";a.Re=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Hd=j);G(b);a.$f=j}var b=a.b(),c=a.b().scrollHeight,f=a.b(),d=f.offsetHeight-f.clientHeight;if(!a.Se)var g=a.Nc,d=d-(g.top+g.bottom);
a.Re||(f=od(f),d-=f.top+f.bottom);c+=0<d?d:0;a.Hd?c-=Ah(a):(a.Se||(d=a.Nc,c+=d.top+d.bottom),a.Re||(a=od(b),c+=a.top+a.bottom));return c}function Eh(a,b){a.ra!=b&&(a.ra=b,a.b().style.height=b+"px")}function Fh(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
m.xd=function(){if(!this.Zb){var a=l;this.Zb=j;var b=this.b(),c=this.ra;if(b.scrollHeight){var d=l,f=l,g=Dh(this),h=b.offsetHeight,p=Bh(this),u=Ch(this);p&&g<p?(Eh(this,p),d=j):u&&g>u?(Eh(this,u),b.style.overflowY="",f=j):h!=g?Eh(this,g):this.ra||(this.ra=g);!d&&(!f&&zh)&&(a=j)}else Fh(this);this.Zb=l;a&&(a=this.b(),this.Zb||(this.Zb=j,b=l,a.value||(a.value=" ",b=j),(f=a.scrollHeight)?(g=Dh(this),d=Bh(this),h=Ch(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.Nc,a.style.paddingBottom=h.bottom+1+"px",Dh(this)==
g&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=Dh(this)-f,f>=d?Eh(this,f):Eh(this,d)),a.style.paddingBottom=h.bottom+"px")):Fh(this),b&&(a.value=""),this.Zb=l));c!=this.ra&&this.dispatchEvent("resize")}};m.$h=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.ra&&(this.ra=this.yg=b)};function Gh(a,b,c,d,f,g,h){Q.call(this);this.yb=ce();this.xa=a;this.Jd=b;this.Ke=c;this.Ne=d;this.xf=f.categories;this.Hh=f.feed_categories;this.Jh=f.feed_id;this.bf=g||k;this.yc=h||k;this.je=this.yb?new sh:k;this.ub={pending:l,all:l};this.Ha=["pending","all","playlists","publishers","categories"]}t(Gh,Q);var Hh="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),Ih="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
m=Gh.prototype;
m.F=function(a){Gh.e.F.call(this,a);a.innerHTML="";a.scrollTop=0;jc(a,Tg);var b=F("pending-content",a);v(this.Jd,function(a){Jh(this,b,a)},this);this.xi=F("playlists-content",a);v(this.Ke,this.rf,this);this.Ai=F("publishers-content",a);v(this.Ne,this.sf,this);this.yh=F("categories-list",a);this.Mf=F("feed-ids",a);this.Ih=F("feed-cats",a);U("/admin/_categories",r(function(a){a=oe(a.target);v(a,function(a){Kh(this,a,"category",Pa(this.xf,a.id)||!this.xf.length)},this)},this));v(Ih,function(a){Kh(this,a,
"feed_category",Pa(this.Hh,a))},this);v(Hh,function(a){Kh(this,a,"feed_id",this.Jh==a)},this);this.resize()};
m.u=function(){Gh.e.u.call(this);this.Z=F("input",this.b());var a=new Xf(this.Z),b=new Hg(this.Z);this.ma=F("tabs",this.b());this.t="pending";var c=l;N(N(N(N(this.q(),window,"resize",va(R,r(this.resize,this))),a,"key",r(function(a){"13"==a.keyCode&&Lh(this,this.Z.value)},this)),b,"after_paste",r(function(){Lh(this,this.Z.value)},this)),this.ma,"click",r(function(a){a=fc(a.target,"li");this.cb(a)},this));N(this.q(),this.b(),"scroll",r(function(){if(this.xa&&!c&&!this.ub[this.t]&&("pending"==this.t||
"all"==this.t)&&this.b().scrollTop+Qb().height>this.b().scrollHeight-this.b().clientTop){c=j;var a=F("spinner",this.b());P(a,j);var b="pending"==this.t?this.Jd:this.be;U("/admin/_media/collection/"+this.xa+"?offset="+b.length+("pending"==this.t?"&pending=1":""),r(function(g){c=l;g=Se(lf(g.target)).medias;g=La(g,function(a){return new Bd(a)});Ta(b,g);var h=F(this.t+"-content",this.b());v(g,function(a){Jh(this,h,a)},this);this.ub[this.t]=!g.length;D(a,"finished",!g.length)},this))}},this));this.resize()};
m.resize=function(){fd(this.b(),Qb().height-40)};
function Lh(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.xa&&c&&(a.Z.disabled="disabled",U("admin/_add/collection/"+a.xa,r(function(a){this.Z.value="";this.Z.disabled="";a=oe(a.target);if("media"==a.type){var b=Jd(Id.a(),a.data);Na(this.Jd,function(a){return a.id==b.id})||(this.Jd.push(b),a=F("pending-content",this.b()),Jh(this,a,b,j),this.cb(Ob("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Na(this.Ke,function(a){return a.id==
c.id})||(this.Ke.push(c),this.rf(c),this.cb(Ob("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Na(this.Ne,function(a){return a.id==h.id})&&(this.Ne.push(h),this.sf(h),this.cb(Ob("li","publishers",i)[0]))}},a),"POST","url="+c))}
m.cb=function(a){v(this.Ha,function(b){D(this.ma.parentElement,b,C(a,b));this.t=C(a,b)?b:this.t},this);this.xa&&!this.be&&U("/admin/_media/collection/"+this.xa,r(function(a){a=Se(lf(a.target)).medias;this.be=La(a,function(a){return new Bd(a)});var c=F("all-content",this.b());v(this.be,function(a){Jh(this,c,a)},this)},this))};
m.rf=function(a){var b=I(Ug,{name:a.name});this.xi.appendChild(b);var c=F("remove",b);N(this.q(),c,"click",function(){U("admin/_remove/collection/"+this.xa,r(function(){G(b)},this),"POST","pub_id="+a.id)})};m.sf=function(a){var b=I(Wg,{name:a.name||a.id,H:a.picture});this.Ai.appendChild(b);var c=F("remove",b);N(this.q(),c,"click",function(){U("admin/_remove/collection/"+this.xa,r(function(){G(b)},this),"POST","pub_id="+a.id)})};
function Kh(a,b,c,d){if("category"==c){var f=I(Vg,{name:b.name,id:b.id});a.yh.appendChild(f)}else f=I(Vg,{name:b,id:b}),("feed_id"==c?a.Mf:a.Ih).appendChild(f);D(f,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;N(a.q(),f,"click",function(){"feed_id"==c&&v(Vb(this.Mf),function(a){A(a,"enabled")});var a=zb(f,"enabled");U("admin/_edit/collection/"+this.xa,Hd(),"POST",g+"&enabled="+a)})}
function Jh(a,b,c,d){var f=I(ch,{media:c,Eb:Gd(c)});d?Ub(b,f,0):b.appendChild(f);a.yb&&(b=a.je,d=new rh(f,i),th(b,d));var b=new dh(F("repos",f)),g=F("thumb",f),d=F("play",f),h=F("approve",f),p=F("remove",f);b.Hf=function(a,b){var c=b-24;-50<=c&&50>=c&&Vc(g,"background-position-y",50-c+"%")};N(N(N(N(a.q(),b,"end",function(){var a=(g.style[Ha("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);U("/admin/_posthumb",Hd(),"POST","media="+c.id+"&pos="+a)}),d,"click",r(a.si,a,c)),h,"click",
r(a.tf,a,c,j,f)),p,"click",r(a.tf,a,c,l,f));R(va(z,f,"show"))}m.tf=function(a,b,c){var d=a.zh||this.xa;U("admin/_media/collection",r(function(){z(c,"remove");R(function(){G(c)},300);Y.a();var b;Y.a();b=cc(E("toggle-pending"));Mh(0,b-1);Z.a().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};m.si=function(a){a=$d(a);W.a().c(qf,a)};function Nh(a){Q.call(this);this.Va=a||k;this.mc=this.yf=this.hh=this.Cf=0}t(Nh,Q);m=Nh.prototype;m.G=function(){this.f=I(Sg)};m.F=function(a){Nh.e.F.call(this,a);var b=I(Sg,{fg:this.Va?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
m.u=function(){Nh.e.u.call(this);this.Z=F("input",this.b());var a=new Xf(this.Z);this.Ei=F("scrollable",this.b());this.nd=F("admin-channels",this.b());this.df=F("topics",this.b());this.pd=F("collections",this.b());this.Bf=E("admin-col-list");this.kd=E("admin-list");V.a();this.Va?(U("/admin/_topicmedias/"+this.Va,r(function(a){a=oe(a.target);Cb(a,function(a,b){P(this.df.parentElement,j);if(a&&a.length){var f=I(Zg,{Ri:b,gc:a.length});this.df.appendChild(f);M(f,"click",r(function(){a=La(a,function(a){return new Bd(a)});
(new Gh("",a,[],[],[])).h(this.kd);Z.a().c("navigate",this.kd,l,b)},this));Z.a().subscribe("approved",function(b){if(Na(a,function(a){return a.id==b.id})){var d=F("pending",f),p=cc(d)-1;0>=p?(G(f),rc(f)):Zb(d,p)}},this)}},this);this.mc&&Mh(Y.a(),this.mc);this.hh=O(this.df.parentElement).height;this.resize()},this)),U("/admin/_collections/"+this.Va,r(function(a){a=oe(a.target);P(this.pd.parentElement,!!a.length);v(a,this.qf,this);this.mc&&Mh(Y.a(),this.mc);this.Cf=O(this.pd.parentElement).height;this.resize()},
this))):U("/admin/_channels",r(function(a){a=oe(a.target);P(this.nd.parentElement,!!a.length);v(a,this.pf,this);this.yf=O(this.nd.parentElement).height;this.resize()},this));N(this.q(),a,"key",r(function(a){"13"==a.keyCode&&this.Z.value&&(a=this.Z.value,this.Z.disabled="disabled",U(this.Va?"/admin/_collections":"/admin/_channels",r(function(a){a=oe(a.target);this.Va?(P(this.pd.parentElement,!!a),this.qf(a)):(P(this.nd.parentElement,!!a),this.pf(a));this.Z.disabled="";this.Z.value=""},this),"POST",
"name="+a+(this.Va?"&cid="+this.Va:"")))},this))};
m.pf=function(a){var b=new he(a),c=I(Xg,{J:b});this.nd.appendChild(c);M(c,"click",r(function(a){C(a.target,"on")||C(a.target,"off")?(D(c,"on",C(a.target,"on")),D(c,"off",!C(a.target,"on")),U("/admin/_channel/online/"+b.id,r(function(a){a.target.disabled="";a=oe(a.target);D(c,"on",a.online);D(c,"off",!a.online)},this),"POST","online="+C(a.target,"on"))):C(a.target,"program")?U("/admin/_program",Hd(),"POST","channel_id="+b.id):C(a.target,"fetch")?U("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):C(a.target,"remove")&&confirm("Remove "+b.name+"?")?(P(c,l),U("/admin/_channels/"+b.id,function(a){oe(a.target).deleted?G(c):P(c,j)},"DELETE")):((new Nh(b.id)).h(this.Bf),Z.a().c("navigate",this.Bf,l,b.name))},this))};
m.qf=function(a){var b=I(Yg,{ee:a});this.mc+=a.pending;this.pd.appendChild(b);M(b,"click",r(function(c){C(c.target,"remove")&&confirm("Remove "+a.name+"?")?(P(b,l),U("/admin/_collections/"+a.id,function(a){oe(a.target).deleted?G(b):P(b,j)},"DELETE")):C(c.target,"fetch")?U("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):U("/admin/_media/collection/"+a.id+"?pending=1",r(function(b){var b=Se(lf(b.target)),c=b.medias,c=La(c,function(a){return new Bd(a)});
(new Gh(a.id,c,b.playlists,b.publishers,b.categories)).h(this.kd);Z.a().c("navigate",this.kd,l,a.name)},this))},this));Z.a().subscribe("approved",function(c,d){if(d==a.id){var f=F("pending",b),g=cc(f)-1;0>=g?(G(b),rc(b)):Zb(f,g)}},this)};m.resize=function(){fd(this.Ei,this.yf+this.hh+this.Cf+110)};function Oh(){Q.call(this);this.g=new yh("Add to the conversation.");this.Ja=new ug("tweet");mg(this.Ja,16,j);this.Ba=new ug("post");mg(this.Ba,16,j);var a=T.a().j;this.td=a.yi;this.Ud=a.Mg;this.Nb=new ug("add");this.Ie=this.Ia=this.Ld=k}t(Oh,Q);m=Oh.prototype;m.G=function(){this.f=I(Mg)};
m.u=function(){Oh.e.u.call(this);this.g.h(F("comment-textarea",this.b()));var a=this.g;a.sg=70;a.resize();a=new Xf(this.g.Xa());this.qd=F("comment-controls",this.b());this.Uh=F("input-holder",this.b());vd(this,this.Ja);this.Ja.h(F("tweet-toggle",this.b()));U("/_twitter",r(function(a){a=oe(a.target);this.Ud=this.Ud&&a.auth;this.Ui=a.auth_url;lg(this.Ja,this.Ud)},this));vd(this,this.Ba);this.Ba.h(F("fb-toggle",this.b()));FB.api("/me/permissions",r(function(a){this.td=this.td&&!!a.data[0].publish_stream;
lg(this.Ba,this.td)},this));vd(this,this.Nb);this.Nb.h(F("add-comment",this.b()));this.Nb.jc(l);N(N(N(N(N(N(this.q(),this.g.b(),"focus",r(function(){$c(this.qd,0);this.dispatchEvent("focus")},this)),a,"key",r(function(a){a.stopPropagation();this.Nb.jc(this.g.C());"13"==a.keyCode?(a.preventDefault(),a.stopPropagation(),this.Nb.setActive(this.g.C()),this.fc(a)):"8"==a.keyCode&&(!this.C()&&this.Ia)&&Ph(this)},this)),this.g,"resize",r(function(a){this.dispatchEvent(a)},this)),this.Ba,"action",r(this.gi,
this)),this.Ja,"action",r(this.pi,this)),this.Nb,"action",r(this.fc,this));Z.a().subscribe("reply-comment",this.Qg,this);Z.a().subscribe("reply-tweet",this.Di,this);T.a().j.subscribe(be,function(){lg(this.Ja,j)},this)};m.Qg=function(a,b){this.Ia&&Ph(this);this.Ld=b;this.Ie=a.id?a.id:a.toString();this.Ia=Rb("div","token","@"+b.Dc());this.Uh.appendChild(this.Ia);this.ua(j);this.g.b().style.paddingLeft=O(this.Ia).width+5+"px"};
m.Di=function(a){this.Ia&&Ph(this);this.Rj=a.id;this.Fa((this.C()?this.C()+" ":"")+"@"+a.handle+" ");this.ua(j);this.Ja.jc(j);this.ua(j);a=this.C().length;this.setSelectionRange(a,a)};function Ph(a){a.Ld=k;a.Ie=k;G(a.Ia);a.Ia=k;a.g.b().style.paddingLeft=""}
m.setSelectionRange=function(a,b){if(this.g.b().setSelectionRange)this.g.b().focus(),this.g.b().setSelectionRange(a,b);else if(this.g.b().createTextRange){var c=this.g.b().createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",a);c.select()}};m.C=function(){return this.g.C()};m.Fa=function(a){return this.g.Fa(a)};m.collapse=function(){return 25!=bd(this.qd).y?($c(this.qd,25),j):l};m.Fc=function(){return C(this.b(),"focused")};
m.ua=function(a){a&&(this.g.b().focus(),R(r(function(){$c(this.qd,0)},this)));return D(this.b(),"focused",a)};m.fc=function(){this.g.C()&&(this.dispatchEvent({type:"add",wf:r(function(a){var b=oe(a.target),a=new Qh(b.comment),c=b.tweet?new Rh(b.tweet):k;if(b=Jd(Id.a(),b.comment.media))b.c(Dd,a),c&&b.c("add-tweet",c)},this),Cc:X(this.Ba,16),gf:X(this.Ja,16),text:this.g.C(),R:this.Ie,Sd:this.Ld&&this.Ld.id}),this.g.Fa(""),Ph(this))};
m.gi=function(){!this.td&&X(this.Ba,16)&&(P(E("overlay"),j),FB.login(r(function(a){P(E("overlay"),l);this.Gh=!!a.authResponse;lg(this.Ba,this.Gh)},this),{scope:"publish_stream"}))};m.pi=function(){if(!this.Ud&&X(this.Ja,16)){lg(this.Ja,l);var a=window.open(this.Ui,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Qh(a){this.id=a.id;this.m=re(T.a(),a.user);this.text=a.text;this.time=Cd(a.time+"Z");this.Bi=Sh(this.time.getTime());this.R=a.parent_id;this.Pg=[];v(a.replies,function(a){a=new Qh(a);this.Pg.push(a)},this)};function Rh(a){this.id=a.id;this.m=a.user&&re(T.a(),a.user);this.handle=a.handle;this.H=a.picture;this.text=a.text;this.time=Cd(a.time+"Z")};function Th(a,b,c,d){Q.call(this);this.d=a;this.ya=b||[];this.mb={};this.ed=!!c;this.La=d||[];this.dd={};this.Gb=this.Aj=0}t(Th,Q);m=Th.prototype;
m.F=function(a){Th.e.F.call(this,a);a.innerHTML="";a.scrollTop=0;z(this.b(),"ios-scroll");this.D=Rb("div","loading",Rb("div","loading-spinner"));this.b().appendChild(this.D);P(this.D,l);this.Cb=Rb("div","no-comments","Start the conversation.");this.b().appendChild(this.Cb);this.o=Rb("div","comments tweets");this.b().appendChild(this.o);N(N(this.q(),window,"resize",va(R,r(this.resize,this))),this.o,"click",r(this.fe,this));this.ya.length?(v(this.ya,function(a){this.kb(a)},this),this.cc=O(this.o).height):
this.ed&&this.La.length?(v(this.La,function(a){this.Ob(a)},this),this.cc=O(this.o).height):P(this.D,j);this.ed?(U("/_tweet/"+this.d.id+"?offset="+this.La.length,r(function(a){P(this.D,l);a=Se(lf(a.target));a=La(a,function(a){a=new Rh(a);this.Ob(a);return a},this);this.cc=O(this.o).height;this.resize()},this)),this.d.subscribe("add-tweet",function(a){this.Ob(a,j)},this)):(U("/_comment/"+this.d.id+"?offset="+this.ya.length,r(function(a){P(this.D,l);a=Se(lf(a.target));a=La(a,function(a){a=new Qh(a);
this.kb(a);return a},this);this.cc=O(this.o).height;this.resize()},this)),this.d.subscribe(Dd,this.kb,this),this.d.subscribe(Ed,this.Oe,this));this.resize(41)};
m.Ob=function(a,b){this.dd[a.id]=a;P(this.Cb,l);var c=uh(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(Kg,{Ta:a,text:c,timestamp:Sh(a.time.getTime())});Uh(ne.a(),a.time,F("timestamp",c));b?Ub(this.o,c,0):this.o.appendChild(c);this.resize();P(Xb(this.o),j)};
m.fe=function(a){a=a.target;if(this.ed){var b=fc(a,k,"tweet");b&&(b=this.dd[b.id.split("-")[1]],C(a,"reply")&&Z.a().c("reply-tweet",b))}else if(b=fc(a,k,"comment")){var b=b.id.split("-")[1],c=this.mb[b];C(a,"reply")?Z.a().c("reply-comment",c.R?this.mb[c.R]:c,c.m):C(a,"remove")&&this.d.c(Ed,b)}};m.Oe=function(a){var a=E("listcomment-"+a),b=a.nextSibling;for(G(a);b&&C(b,"reply");)b=b.nextSibling,G(b)};
m.kb=function(a){P(this.Cb,l);this.mb[a.id]=a;var b=I(Lg,{prefix:"listcomment",Na:a,text:uh(a.text),timestamp:Sh(a.time.getTime()),Kg:a.m.id==T.a().j.id});Uh(ne.a(),a.time,F("timestamp",b));this.o.appendChild(b);this.resize()};m.resize=function(a){this.Gb=a||this.Gb;fd(this.b(),Qb().height-42-this.Gb-(fc(this.b(),k,"tabbed")?30:0))};function Vh(a,b,c,d){Q.call(this);this.d=this.Ea=a;this.ya=b||[];this.La=c||[];this.ed=!!d;this.ge=new Th(a,this.ya);this.ef=new Th(a,i,j,this.La);this.g=new Oh;this.Ha=["comments","tweets"]}t(Vh,Q);m=Vh.prototype;m.F=function(a){Vh.e.F.call(this,a);z(a,"conversation");z(a,"ios-scroll");jc(a,ah);z(a.firstChild,this.ed?"tweets":"comments")};
m.u=function(){this.ma=F("tabs",this.b());this.ge.h(F("comments-content",this.b()));this.ef.h(F("tweets-content",this.b()));td(this.g,this.b());N(N(N(N(N(N(N(this.q(),this.ma,"click",r(function(a){a=fc(a.target,"li");this.cb(a)},this)),this.g,"add",r(this.fc,this)),this.g,"resize",r(function(){C(this.b().firstChild,"comments")?this.ge.resize(41):this.ef.resize(41)},this)),window,"click",r(function(a){!fc(a.target,k,"comment-input")&&!this.g.C()&&(this.g.ua(l),this.g.collapse())},this)),F("no-comments",
this.b()),"click",r(this.Hg,this)),Nb("no-comments",this.b())[1],"click",r(this.Hg,this)),window,"click",r(function(a){!fc(a.target,k,"comment-input")&&!this.g.C()&&(this.g.ua(l),this.g.collapse())},this));this.ge.resize(41);this.ef.resize(41)};m.Hg=function(a){a.preventDefault();a.stopPropagation();this.g.ua(j)};
m.fc=function(a){U("/_comment",a.wf,"POST","media_id="+this.d.id+"&text="+a.text+"&tweet="+a.gf+"&facebook="+a.Cc+(a.R?"&parent_id="+a.R:"")+(a.Sd?"&to_user_id="+a.Sd:""));a.Cc&&!a.R&&(FB.api("/me/feed","POST",{message:a.text,name:this.d.name,link:this.d.link,picture:this.d.Sa,caption:"on XYLO",description:this.d.description},aa()),lg(this.g.Ba,l))};m.cb=function(a){v(this.Ha,function(b){D(this.ma.parentElement,b,C(a,b));this.t=C(a,b)?b:this.t},this)};function Sh(a){var b=s(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return Wh(c,b,0);c=Math.floor(c/60);if(24>c)return Wh(c,b,1);c=new Date(s());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?Wh(c,b,2):""}
function Wh(a,b,c){return!b&&0==c?(b=wa("{$num} minute ago",{num:a}),c=wa("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=wa("in {$num} minute",{num:a}),c=wa("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=wa("{$num} hour ago",{num:a}),c=wa("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=wa("in {$num} hour",{num:a}),c=wa("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=wa("{$num} day ago",{num:a}),c=wa("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=wa("in {$num} day",{num:a}),c=wa("in {$num} days",
{num:a}),1==a?b:c):""};function Xh(a,b,c,d){Q.call(this);v(a.Ee,function(a){var b=a.O();b&&b.media.id==this.id?(this.wi=a,v(a.jd,function(a){a.Td||(this.Qa[a.m.id]=a.m)})):this.Qa={}},a);this.d=this.Ea=a;this.Ed=c||k;this.og=d||k;this.ag=l;this.Nf=!b;this.nc={};this.ya=[];this.mb={};this.ng={};this.La=[];this.dd={};this.g=new Oh;this.Jb=new ug("Star");mg(this.Jb,16,j);this.Lf=new ug("Facebook");this.kh=new ug("Twitter");this.Lg=new ug("Play");this.Rc=new ug("Plus");mg(this.Rc,16,j);this.Gb=0}t(Xh,Q);m=Xh.prototype;
m.G=function(){this.f=I(Ig,{media:this.d})};m.F=function(a){Xh.e.F.call(this,a);var b=I(Ig,{media:this.d,description:this.d.description?uh(this.d.description):"",Eb:Gd(this.d),Vh:this.Ed?this.Ed.id:k});a.innerHTML=b.innerHTML};
m.u=function(){Xh.e.u.call(this);this.oc=F("viewers",this.b());var a=F("picture",this.b()),b=F("scrollable",this.b()),c=F("publisher",this.b()),d=F("title",this.b()),f=F("links",this.b());this.D=F("loading",this.b());var g=a.firstChild;this.Ah=F("info-contents",this.b());this.ak=F("tweet-holder",this.b());this.Ka=F("tweets",this.b());this.rb=F("dot-nav",this.b());this.o=F("comments",this.b());this.Cb=F("no-comments",this.b());td(this.g,this.b());this.Jb.h(F("star",this.b()));lg(this.Jb,ee(T.a().j,
this.d));this.Lf.h(F("facebook",this.b()));this.kh.h(F("twitter",this.b()));this.Lg.h(F("play",this.b()));this.Rc.h(F("plus",this.b()));this.ff=new se(5E3);this.dk=F("watch-with",this.b());!this.Nf||this.d.Of?Yh(this,l,this.d.description,this.d.Pd,this.d.jh,this.d.Wa):this.Nf&&U("/_info/"+this.d.id,r(function(a){a=Se(lf(a.target));Yh(this,j,a.description,a.seen,a.tweets,a.comments)},this));N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(this.q(),window,"resize",va(R,r(this.resize,this))),c,"click",
r(function(){Z.a().c("media-list",this.d.da.name,i,"/admin/_media/publisher/"+this.d.da.id,this.d.da.H,this.d.da.description,this.d.da.link,"/_publisher/"+this.d.da.id)},this)),this.Jb,"action",r(function(){Id.a().c("star",this.d,X(this.Jb,16));U("/_star",i,"POST","media_id="+this.d.id+(!X(this.Jb,16)?"&delete=1":""))},this)),this.Lf,"action",r(this.fi,this)),this.kh,"action",r(this.oi,this)),this.Lg,"action",r(this.ii,this)),this.Rc,"action",r(this.li,this)),F("local",this.b()),"click",r(function(){P(F("link-select",
this.b()),j);F("link-input",this.b()).select()},this)),this.g,"add",r(this.fc,this)),this.Cb,"click",r(function(a){a.preventDefault();a.stopPropagation();this.g.ua(j)},this)),F("conv-link",this.b()),"click",r(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.d,this.ya,this.La)},this)),F("tweets-link",this.b()),"click",r(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.d,this.ya,this.La,j)},this)),this.g,"focus",r(function(){this.resize(25,
j)},this)),this.g,"resize",r(function(a){this.resize(25+(a.target.ra-41))},this)),this.rb,"click",r(function(a){C(a.target,"dot")&&(Zh(this,a.target),this.ff.stop())},this)),this.ff,ue,r(function(){var a=this.nb&&(this.nb.nextElementSibling!=i?this.nb.nextElementSibling:Wb(this.nb.nextSibling))||F("dot",this.b());R(r(function(){Zh(this,a)},this))},this)),window,"click",r(function(a){!fc(a.target,k,"comment-input")&&!this.g.C()&&(this.g.ua(l),this.g.collapse()&&this.resize(0))},this)),g,"load",function(){P(g,
j);R(function(){O(g).height<O(a).height+50&&z(g,"fix-height");O(g).width>2*O(a).width?z(g,"pan-left"):O(g).height>2*O(a).height&&z(g,"pan-top");g.style.marginTop=-O(g).height/2+"px";g.style.marginLeft=-O(g).width/2+"px";z(g,"show")})}),b,"scroll",r(function(){var h=(120-b.scrollTop)/100;hd(c,Math.min(1,Math.max(h,0)));hd(d,Math.min(1,Math.max(h,0)));hd(f,Math.min(1,Math.max(h,0)));hd(g,Math.min(0.5,Math.max(h,0.1)));D(a,"scrolled",10<b.scrollTop)},this)),this.o,"scroll",r(this.Qe,this)),this.o,"click",
r(this.fe,this)),this.Ka,"click",r(this.Ti,this)),F("desc-link",this.b()),"click",r(function(){var c=zb(a,"scrolled");(new Gf(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,c?170:0],300)).play()},this));this.Ed&&N(this.q(),F("prev-link",this.b()),"click",r(function(){Z.a().c("media-info",this.Ed,j,i,this.g.C())},this));this.og&&this.g.Fa(this.og);this.d.subscribe(Dd,function(a){this.kb(a,j)},this);this.d.subscribe(Ed,this.Oe,this);this.d.subscribe("add-tweet",function(a){this.Ob(a,j)},this);this.d.subscribe(Fd,
function(a,b,c){$h(this,a,c)},this);T.a().j.subscribe("set-starred",function(){lg(this.Jb,ee(T.a().j,this.d))},this);qe().subscribe(je,function(a,b){lg(this.Rc,b)},this)};
function Yh(a,b,c,d,f,g){c?(a.d.description=c,F("description",a.b()).innerHTML=uh(c),P(F("scrollable",a.b()),j)):(P(F("desc-link",a.b()),l),P(F("scrollable",a.b()),l));c=La(d,function(a){var c=b?re(T.a(),a):a;if(c.id!=T.a().j.id){P(this.oc,j);this.ag=j;var d=I(Jg,{m:c,Dc:c.Dc});this.oc.appendChild(d);this.nc[a.id]=d;N(this.q(),d,"click",function(){Z.a().c("profile",a)})}return c},a);Cb(a.d.Qa,function(a){$h(this,a)},a);a.La=La(f,function(a){a=b?new Rh(a):a;this.Ob(a);this.nb=this.rb.firstChild;z(this.nb,
"selected");return a},a);f.length&&a.ff.start();a.o&&P(a.o.parentElement,j);P(a.Cb,!g.length);g=La(g,function(a,c){var d=b?new Qh(a):a;d.R||this.kb(d,c==g.length-1);return d},a);P(a.D,l);a.resize();b&&(a.d.jh=a.La,a.d.Wa=g,a.d.Pd=c,a.d.Of=j)}m.Za=function(){return this.g.Fc()||!!this.g.Ia||!!this.g.C()};
function Zh(a,b){if(b){v(Vb(a.rb),function(a){return A(a,"selected")});a.nb=b;z(a.nb,"selected");var c=Oa(Vb(a.rb),function(a){return a==b});(new Gf(a.Ka,[a.Ka.scrollLeft,a.Ka.scrollTop],[320*c,a.Ka.scrollTop],200)).play();a.resize()}}
m.fc=function(a){U("/_comment",a.wf,"POST","media_id="+this.d.id+"&text="+a.text+"&tweet="+a.gf+"&facebook="+a.Cc+(a.R?"&parent_id="+a.R:"")+(a.Sd?"&to_user_id="+a.Sd:""));a.Cc&&!a.R&&(FB.api("/me/feed","POST",{message:a.text,name:this.d.name,link:this.d.link,picture:this.d.Sa,caption:"on XYLO",description:this.d.description},aa()),lg(this.g.Ba,l));ge.a().Na(this.d.id,a.Cc,a.gf)};
m.Ob=function(a,b){this.dd[a.id]=a;var c=uh(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(Kg,{Ta:a,text:c,timestamp:Sh(a.time.getTime()),prefix:"infotweet"}),d=Rb("div","dot");Uh(ne.a(),a.time,F("timestamp",c));b?(Ub(this.Ka,c,0),Ub(this.rb,d,0),10<Vb(this.Ka).length&&(G(this.Ka.lastChild),G(this.rb.lastChild),
Zh(this,d))):(this.Ka.appendChild(c),this.rb.appendChild(d));this.resize();P(Xb(this.Ka),j)};
m.kb=function(a,b){this.ya.push(a);this.mb[a.id]=a;P(this.Cb,l);var c=I(Lg,{prefix:"infocomment",Na:a,text:uh(a.text),timestamp:Sh(a.time.getTime()),Kg:a.m.id==T.a().j.id});Uh(ne.a(),a.time,F("timestamp",c));if(a.R){var d=this.ng[a.R];d.parentNode&&d.parentNode.insertBefore(c,d.nextSibling)}else this.o.appendChild(c);this.ng[a.R||a.id]=c;this.resize(this.g.Fc()?25:0,j);v(a.Pg,function(a){this.kb(a,b)},this);b&&this.d.Qa[a.m.id]&&this.g.Qg(a.R||a.id,a.m)};
function $h(a,b,c){if(c&&a.nc[b.id])A(a.nc[b.id],"online");else if(b.id!=T.a().j.id){if(!a.nc[b.id]){var d=I(Jg,{m:b});a.nc[b.id]=d;Ub(a.oc,d,1);N(N(N(a.q(),d,"click",function(){Z.a().c("profile",b)}),d,"mouseover",function(){var a=bd(d),c=bd(this.oc),h=E("hovercard");Zb(h,b.Dc()+(C(d,"online")?" is watching":" saw this"));var p=O(h);h.style.right=320-c.x-a.x-p.width/2-12+"px";h.style.top=c.y+a.y+210+"px";P(h,j)}),d,"mouseout",function(){P(E("hovercard"),l)})}P(a.oc,j);Zb(F("status",a.oc),"WATCHING"+
(a.ag?" + SEEN":""));z(a.nc[b.id],"online")}}m.Ti=function(a){var a=a.target,b=fc(a,k,"tweet");b&&(b=this.dd[b.id.split("-")[1]],C(a,"reply")&&Z.a().c("reply-tweet",b))};m.fe=function(a){var a=a.target,b=fc(a,k,"comment");if(b){var b=b.id.split("-")[1],c=this.mb[b];C(a,"reply")?Z.a().c("reply-comment",c.R?this.mb[c.R]:c,c.m):C(a,"remove")&&this.d.c(Ed,b)}};m.Oe=function(a){var b=E("infocomment-"+a),c=b.nextSibling;G(b);for(Ra(this.ya,function(b){return b.id==a});c&&C(c,"reply");)c=c.nextSibling,G(c)};
m.Qe=function(){D(this.o.parentElement,"top-grad",!!this.o.scrollTop);var a=this.o.style.maxHeight,b=Qb().height,a=a.substring(0,a.length-2),c=O(this.o).height;D(this.o.parentElement,"bottom-grad",this.o.scrollTop<this.o.scrollHeight-a-5&&c>=a&&640<b)};
m.resize=function(a,b){this.Gb=a!=i?a:this.Gb;var c=Qb().height;fd(this.Ah,c-283);640<c&&this.o&&this.o.parentElement?(Vc(this.o,"max-height",c-bd(this.o.parentElement).y-313-this.Gb+"px"),this.Qe()):640>c&&(Vc(this.o,"max-height",""),this.Qe());b&&R(r(function(){(new Gf(this.o,[this.o.scrollLeft,this.o.scrollTop],[this.o.scrollLeft,this.o.scrollHeight],400)).play()},this),0)};
m.fi=function(){P(E("overlay"),j);FB.ui({method:"feed",name:this.d.name,link:this.d.link,H:this.d.Sa,caption:"on XYLO",description:this.d.description},function(){P(E("overlay"),l)});ai(ge.a(),this.d.id,j,l)};m.oi=function(){var a=window.open("https://twitter.com/share?url="+this.d.link+"&text=I'm watching "+this.d.name+" "+this.d.link,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();ai(ge.a(),this.d.id,l,j)};m.ii=function(){var a=$d(this.Ea);W.a().c(qf,a)};
m.li=function(){qe().c(je,this.Ea,X(this.Rc,16))};function bi(a,b,c,d,f,g){Q.call(this);this.yb=ce();this.ug=a||k;this.lh=b||k;this.Ae={};this.bf=c||k;this.yc=d||k;this.If=g||k;this.Yh=f||k;this.je=this.yb?new sh:k;this.cc=this.dg=0}t(bi,Q);
bi.prototype.F=function(a){bi.e.F.call(this,a);a.innerHTML="";a.scrollTop=0;z(this.b(),"ios-scroll");(this.yc||this.bf)&&ci(this);!this.yc&&this.If&&U(this.If,r(function(a){a=oe(a.target);a.description&&this.Lc?(F("description",this.Lc).innerHTML=uh(a.description),this.dg=O(this.Lc).height,this.resize()):a.description&&ci(this)},this));this.D=Rb("div","loading",Rb("div","loading-spinner"));this.b().appendChild(this.D);P(this.D,l);C(this.b(),"starred")&&(this.ec=Rb("div","no-comments","Favorities will appear here."),
this.b().appendChild(this.ec));this.Gd=Rb("div","medias");this.b().appendChild(this.Gd);N(this.q(),window,"resize",va(R,r(this.resize,this)));this.lh?(P(this.D,j),U(this.lh,r(function(a){P(this.D,l);a=Se(lf(a.target));a=La(a,function(a){return new Bd(a)});v(a,this.Zd,this);this.cc=O(this.Gd).height;this.resize()},this))):this.ug&&(v(this.ug,this.Zd,this),this.cc=O(this.Gd).height,this.resize())};
bi.prototype.Zd=function(a){this.ec&&P(this.ec,l);var b=I(bh,{media:a}),c=F("list-play",b),d=F("list-plus",b);this.Gd.appendChild(b);if(this.yb){var f=this.je,g=new rh(b,i);th(f,g)}N(N(N(this.q(),b,"click",r(function(){Z.a().c("media-info",a)},this)),c,"click",r(function(b){b.preventDefault();b.stopPropagation();b=$d(a);W.a().c(qf,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();qe().c(je,a,j)});this.Ae[a.id]=b};
bi.prototype.resize=function(){fd(this.b(),Qb().height-40-(fc(this.b(),k,"tabbed")?30:0))};function ci(a){a.Lc=I(Qg,{Sa:a.bf,description:a.yc?uh(a.yc):"",link:a.Yh});a.b().appendChild(a.Lc);a.dg=O(a.Lc).height;a.resize()};function di(a){Q.call(this);this.jf=this.Ea=a;this.Ha=["activity","starred"]}t(di,Q);di.prototype.F=function(a){di.e.F.call(this,a);z(a,"profile");z(a,"ios-scroll");jc(a,$g)};
di.prototype.u=function(){this.ma=F("tabs",this.b());U("/_star/"+this.jf.id,r(function(a){var a=oe(a.target),a=La(a,function(a){return new Bd(a)}),b=T.a().j;b.Yg=a;b.c("set-starred");this.Xc=new bi(a);this.Xc.h(F("starred-content",this.b()))},this));U("/_activity/"+this.jf.id,r(function(a){a=oe(a.target).activities;this.Ze=new ei(a,this.jf.id);this.Ze.h(F("activity-content",this.b()))},this));N(this.q(),this.ma,"click",r(function(a){a=fc(a.target,"li");this.cb(a)},this));Id.a().subscribe("star",function(a,
b){if(b)this.Xc.Zd(a);else{var c=this.Xc,d=c.Ae[a.id];d&&(rc(d),Gb(c.Ae,a.id))}},this)};di.prototype.cb=function(a){v(this.Ha,function(b){D(this.ma.parentElement,b,C(a,b));this.t=C(a,b)?b:this.t},this)};function ei(a,b){Q.call(this);this.rh=a;this.fd=b||k;this.L=0;this.ub=l;this.Pf={};this.uc={};this.Bb={};this.bb={};this.Vd={};this.Og={};this.of=[]}t(ei,Q);
ei.prototype.F=function(a){ei.e.F.call(this,a);a.innerHTML="";a.scrollTop=0;z(a,"stream");z(a,"ios-scroll");this.rc=Rb("div","activities");this.b().appendChild(this.rc);this.D=Rb("div","spinner");this.b().appendChild(this.D);P(this.D,l);this.ec=Rb("div","no-comments",this.fd?"Your activity will appear here.":"Friends' activity will appear here.");this.b().appendChild(this.ec);fi(this,this.rh);T.a().subscribe("new-activity",function(a){(this.fd==a.user.id||!this.fd&&a.user.id!=T.a().j.id)&&gi(this,
a,i,i,j)},this);N(N(this.q(),this.b(),"scroll",r(function(){!this.ub&&this.b().scrollTop+Qb().height>this.b().scrollHeight-60&&hi(this)},this)),window,"resize",va(R,r(this.resize,this)));this.resize()};function hi(a){P(a.D,j);U("/_activity"+(a.fd?"/"+a.fd:"")+"?offset="+a.L,r(function(a){this.Pf[String(a.target.Jc)]||(this.Pf[String(a.target.Jc)]=j,a=oe(a.target).activities,this.ub=!a.length,D(this.D,"finished",this.ub),P(this.D,this.ub),fi(this,a))},a))}
function fi(a,b){a.uc=[];a.Bb=[];a.bb=[];v(b,function(a){this.L++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.uc?this.uc[a.channel_id]:[];b.push(a);this.uc[a.channel_id]=b;break;case "liked":this.Bb[a.media.id]||(b=a.media.id in this.bb?this.bb[a.media.id]:[],b.push(a),this.bb[a.media.id]=b,b=a.user.id in this.Vd?this.Vd[a.user.id]:[],b.push(a),this.Vd[a.user.id]=b);break;case "comment":a=a.comment,b=a.media.id in this.Bb?this.Bb[a.media.id]:[],b.push(a),this.Bb[a.media.id]=
b,this.bb[a.media.id]&&Gb(this.bb,a.media.id)}},a);Cb(a.uc,function(a){gi(this,i,a,"session")},a);Cb(a.Bb,function(a){gi(this,i,a,"comment")},a);Cb(a.bb,function(a){1<a.length&&gi(this,i,a,"liked")},a);Cb(a.Vd,function(a){gi(this,i,a,"liked")},a)}
function gi(a,b,c,d,f){P(a.ec,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],p=b?[re(T.a(),b.user)]:[],u=b?Cd(b.time+"Z"):k;c&&v(c,function(a){Na(p,function(b){return b.id==a.user.id})||p.push(re(T.a(),a.user));var b=Cd((a.time||a.tune_in)+"Z");u=u&&u.getTime()>b.getTime()?u:b;"session"==g?v(a.media,function(a){!this.Bb[a.id]&&(!this.bb[a.id]&&!Na(h,function(b){return b.id==a.id}))&&h.push(a)},this):"liked"==g&&!this.Og[a.media.id]&&(h.push(a.media),this.Og[a.media.id]=j)},a);switch(g){case "session":if(2>
p.length)return;var d=b?b.session:c[0],B=V.a().get(d.channel_id),h=b?b.session.media:h;5<h.length&&(h=h.slice(0,5));b=I(Ng,{v:p,J:B,time:Sh(u.getTime()),ih:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[Jd(Id.a(),c[0].media)],H=b?[new Qh(b.comment)]:[];c&&v(c,function(a){H.push(new Qh(a))});b=I(Og,{Wa:H.reverse().slice(0,3),v:p,media:h[0]});break;case "liked":h=b?[b.media]:h;b=I(Pg,{v:p,vg:h.length,time:Sh(u.getTime())});break;default:return}if(h.length){Uh(ne.a(),u,F("timestamp",
b));d=Oa(a.of,function(a){return a.time<u.getTime()});Ua(a.of,d,0,{time:u,element:b});var L=F("medias",b);v(h,function(a){var b=Jd(Id.a(),a),a=I(bh,{media:b}),c=F("list-play",a),d=F("list-plus",a);F("thumb",a);L.appendChild(a);N(N(N(this.q(),a,"click",function(){Z.a().c("media-info",b)}),c,"click",function(a){a.preventDefault();a.stopPropagation();a=$d(b);W.a().c(qf,a)}),d,"click",function(a){a.preventDefault();a.stopPropagation();qe().c(je,b,j)})},a);f?Ub(a.rc,b,0):c?Ub(a.rc,b,d):a.rc.appendChild(b);
R(va(z,b,"show"))}}ei.prototype.resize=function(){var a=Qb().height-40-(fc(this.b(),k,"tabbed")?40:10);fd(this.b(),a);O(this.rc).height<a&&hi(this)};function ii(){Q.call(this);this.yb=ce();this.vh=new Nh;this.Ha={};this.hb=[];this.hc=[];this.qc=0}t(ii,Q);m=ii.prototype;
m.u=function(){ii.e.u.call(this);this.sc=F("arrow",this.Mb);this.ie=E("sidebar-content");this.tg=E("media-list");this.Le=E("profile");this.Ef=E("conversation");this.Mb=E("toolbar");this.ma=F("tabs",this.b());this.Xd=F("activities-count",this.b());var a=new Xf(document);v(Vb(this.ma),function(a){var b=yb(a)[0];this.Ha[b]=a;this.hb.push(b)},this);this.Fe();U("/_activity",r(function(a){a=oe(a.target);this.Ze=new ei(a.activities);this.Ze.h(E("stream"));Z.a().c("new-activites",parseInt(a.new_count,10))},
this));this.Xc=new di(T.a().j);this.Xc.h(E("my-profile"));this.P&&DESKTOP?(this.B=E("info"),this.t="info",ji(this,"info","info")):(this.B=E("stream"),this.t="stream",ji(this,"info","stream"));var b="left";v(this.hb,function(a){var c=F(a,this.ie);a==this.t?b="right":z(c,b)},this);this.hc=[this.B,""];z(this.B,"current");if(this.yb){this.vh.h(E("admin"));var c=I(Rg,{name:"ADMIN",className:"admin"});this.ma.appendChild(c);this.Ha.admin=c;this.hb.push("admin")}ki(this);N(N(N(N(this.q(),F("back-button",
this.Mb),"click",r(function(a){var b=this.hc.shift();this.navigate(b[0],j,b[1]);ki(this);a.stopPropagation()},this)),this.ma,"click",r(function(a){var b=this.t,c=fc(a.target,"li"),h=yb(c)[0];ji(this,this.t,h);z(c,"selected");ki(this);b!=this.t&&a.stopPropagation();"stream"==h&&this.Cg(0,j)},this)),this.Mb,"click",r(function(a){((a=fc(a.target,"li"))&&yb(a)[0]==this.t||!a)&&(new Gf(this.B,[this.B.scrollLeft,this.B.scrollTop],[this.B.scrollLeft,0],300)).play()},this)),a,"key",r(function(a){a.ctrlKey&&
"68"==a.keyCode&&zb(this.b(),"dark")},this));DESKTOP&&Y.a().subscribe(zg,function(a){D(this.b(),"toggled",a);R(r(function(){D(this.b(),"collapsed",!a)},this),!a?500:0)},this);Z.a().subscribe("navigate",this.navigate,this);Z.a().subscribe("new-activites",this.Cg,this);Z.a().subscribe("conversation",this.Hi,this);Z.a().subscribe("media-list",this.Ii,this);Z.a().subscribe("media-info",this.Wg,this);Z.a().subscribe("profile",this.Ji,this);V.a().subscribe(nf,this.Fe,this);W.a().subscribe(qf,this.Fe,this);
V.a().subscribe(mf,this.ei,this);DESKTOP&&Y.a().subscribe(li,function(a){D(this.b(),"admin",a);a?(Y.a().c(zg,j),ji(this,this.t,"admin")):"admin"==this.t&&ji(this,"admin","info")},this)};m.Cg=function(a,b){b&&(this.qc=0,P(this.Xd,l));this.qc+=a;Zb(this.Xd,this.qc.toString());P(this.Xd,!!this.qc)};m.Fe=function(a){if(a=a||V.a().A.O())if(this.ob=a.media,!this.P||this.ob.id!=this.P.Ea.id){var a=this.P&&this.P.g.C()?this.P.g.C():k,b=this.P?this.P.d:k;rc(this.P);this.P=new Xh(this.ob,l,b,a);this.P.h(E("info"))}};
m.ei=function(a){a=a||V.a().A;if((this.ob=a.O()&&a.O().media)&&(!this.P||this.ob.id!=this.P.Ea.id))rc(this.P),this.P=new Xh(this.ob),this.P.h(E("info")),this.Wg(this.ob)};
function ji(a,b,c){var d=F(c,a.ie),f=Ja(a.hb,b),b=Ja(a.hb,c),g=(f=f<b)?0:a.hb.length-1,h=f?g<a.hb.length:0<=g;for(g;h;g+=f?1:-1){var p=F(a.hb[g],a.ie);if(f&&g>b||!f&&g<b)z(p,"right"),A(p,"left");else if(f&&g<b||!f&&g>b)D(p,"left",f),z(p,"right");else if(g==b){A(p,"right");A(p,"left");break}}a.t=c;Ua(a.hc,0,0,[a.B,""]);A(a.B,"current");a.B=d;z(a.B,"current");ki(a)}
m.navigate=function(a,b,c){if(a!=this.B){var d=C(this.B,"screen");b?(A(this.B,"on"),A(this.B,"current"),z(a,"current"),this.B=a):(D(this.B,"on",!d),b=[this.B,cc(F("back-title",this.Mb))],Ua(this.hc,0,0,b),A(this.B,"current"),this.B=a,z(this.B,"current"));D(this.Mb,"back",C(this.B,"slide"))}c&&Zb(F("back-title",this.Mb),c)};m.Hi=function(a,b,c,d){(new Vh(a,b,c,d)).h(this.Ef);Z.a().c("navigate",this.Ef,l,a.name)};
m.Ii=function(a,b,c,d,f,g,h){(new bi(b,c,d,f,g,h)).h(this.tg);Z.a().c("navigate",this.tg,l,a,d,f)};m.Wg=function(a,b,c,d){if(this.P&&a.id==this.P.Ea.id){A(this.Mb,"back");for(a=this.hc[0][0];a&&C(a,"slide");)a=this.hc.shift();ji(this,this.t,"info")}else{var f=E("media-info");(new Xh(a,b,c,d)).h(f);Z.a().c("navigate",f,l,a.name)}DESKTOP&&Y.a().c(zg,j)};
m.Ji=function(a){if(!this.Me||!(this.Me.Ea.id==a.id&&this.B==this.Le))this.Me=new di(a),this.Me.h(this.Le),Z.a().c("navigate",this.Le,l,a.name),DESKTOP&&Y.a().c(zg,j)};function ki(a){var b=Math.round(O(a.Ha[a.t]).width/2+bd(a.Ha[a.t]).x);a.sc.style.transform="translate3d("+b+"px, 0,0)";a.sc.style.msTransform="translate3d("+b+"px, 0,0)";a.sc.style.WebkitTransform="translate3d("+b+"px, 0,0)";a.sc.style.MozTransform="translate3d("+b+"px, 0,0)";a.sc.style.hj="translate3d("+b+"px, 0,0)"};function mi(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="logo"></div></div><div id="sidebar" class="toggled"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM</div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="conversation" class="slide"></div>'+
(a.uh?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="notify" class="notify"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'};function ge(){}ja(ge);_gaq=[];ge.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};ge.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",T.a().j.id])};
function pe(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",T.a().j.id])}ge.prototype.tc=function(a,b){a.Q||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
ge.prototype.Na=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",T.a().j.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",T.a().j.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",T.a().j.id])};
function ai(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",T.a().j.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",T.a().j.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",T.a().j.id]);U("/_share",Hd(),"POST","facebook="+c+"&twitter="+d)}fa("_gaq",_gaq);function Y(){S.call(this);this.vi=j;var a=E("controller");this.We=!a||C(a,"sidebar-toggled");this.oe=a&&C(a,"guide-toggled");this.subscribe(zg,ba("We"),this);this.subscribe(Ag,ba("oe"),this);this.subscribe(Bg,ba("vi"),this)}t(Y,S);ja(Y);function Mh(a,b){var c=E("toggle-pending");Zb(c,b);P(c,!!b)}var Bg="play",Cg="mute",Dg="restart",Ag="toggle-guide",zg="toggle-sidebar",li="toggle-admin";function ni(){S.call(this);this.rg=l}t(ni,S);ja(ni);ni.prototype.init=function(a){this.Ia=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=r(this.hi,this);a.onclose=r(this.Eg,this);window.onbeforeunload=r(this.Eg,this);return this};
ni.prototype.hi=function(a){var b=Se(a.data);switch(b.type){case "viewer_change":var c=re(T.a(),b.user),d=b.time&&Cd(b.time+"Z");c.rd&&d&&c.rd.end(d);if(a=b.last_channel_id&&V.a().get(b.last_channel_id))a.c("remove-viewer",c),c.xc&&c.xc.c(Fd,c,a,j);var f=b.channel_id&&V.a().get(b.channel_id),a=b.media&&Jd(Id.a(),b.media);f&&(d=d||new Od,d=new fe(b.session_id,c,f,d),c.rd=d,f.c(ke,d),a=(d=f.O())?d.media:a);a&&a.c(Fd,c,f);break;case "new_comment":c=new Qh(b.comment);if(c.m.id!=T.a().j.id&&(d=b.tweet?
new Rh(b.tweet):k,a=Jd(Id.a(),b.comment.media)))a.c(Dd,c),d&&a.c("add-tweet",d);break;case "new_activity":T.a().c("new-activity",b.activity);b.activity.user.id!=T.a().j.id&&Z.a().c("new-activites",1);break;case "update_programs":a=b.programs;f=V.a().get(b.channel_id);v(a,function(a){f.c(le,a)},this);break;case "new_programs":b.channel&&(f=V.a().Yd(b.channel));v(b.programs,r(function(a){a=new Zd(a);if(f=f||V.a().get(b.channel_id))if(f.c(ie,a),!V.a().A||!V.a().A.O())V.a().c(mf,f),V.a().c(nf,a)},this));
break;case "twitter_auth":T.a().j.c(be)}};ni.prototype.Eg=function(){if(!this.rg){var a=V.a().A.Q&&V.a().A.xc&&Math.floor(W.a().getCurrentTime());DESKTOP&&U("/_settings",Hd(),"POST","show_guide="+Y.a().oe+"&show_sidebar="+Y.a().We+(a?"&current_seek="+a:""));this.rg=j}};function ne(){S.call(this);this.Af=new se(1E3);this.fh=new se(3E4);this.gh=[];this.me=[]}t(ne,S);ja(ne);ne.prototype.init=function(){this.Af.start();this.fh.start();M(this.Af,ue,r(function(){v(this.me,function(a,b){a.time<s()&&(a.callback(),Ia.splice.call(this.me,b,1))},this)},this));M(this.fh,ue,r(function(){v(this.gh,function(a){Zb(a.element,Sh(a.time.getTime()))},this)},this))};function Uh(a,b,c){86400>(s()-b.getTime())/1E3&&a.gh.push({time:b,element:c})}
function me(a,b,c){86400>(s()-b)/1E3&&a.me.push({time:b,callback:c})};function oi(){S.call(this);this.Sj=[]}t(oi,S);ja(oi);oi.prototype.ye=function(a){Cb(a,r(function(a,c){v(a,r(function(a){a=new Zd(a);V.a().Pb[c]&&V.a().Pb[c].$d(a)},this))},this))};var pi=l;function qi(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var ri=navigator.plugins["Shockwave Flash"];ri&&(pi=j,ri.description&&qi(ri.description));navigator.plugins["Shockwave Flash 2.0"]&&(pi=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var si=navigator.mimeTypes["application/x-shockwave-flash"];(pi=si&&si.enabledPlugin)&&qi(si.enabledPlugin.description)}else try{var ti=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),pi=j;qi(ti.GetVariable("$version"))}catch(ui){try{ti=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
pi=j}catch(vi){try{ti=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),pi=j,qi(ti.GetVariable("$version"))}catch(wi){}}};function xi(){Q.call(this);this.Ki=new ii;this.n=new vg;this.Dg=new wd}t(xi,Q);xi.prototype.F=function(a){xi.e.F.call(this,a);var b=I(mi,{uh:ce()});Ub(a,b,0)};
xi.prototype.u=function(){xi.e.u.call(this);this.Ki.h(E("sidebar"));this.n.h(E("stage"));this.Dg.h(E("notify"));P(this.Dg.b(),l);T.a().j.Yi||T.a();N(this.q(),document.body,"touchmove",function(a){fc(a.target,"div","ios-scroll")||a.preventDefault()});N(this.q(),window,"click",function(a){var b=fc(a.target,"a");if(b=b?b.href:k)if((b=b.match("#(.*):(.*)"))&&b.length)switch(a.preventDefault(),a.stopPropagation(),b[1]){case "user":a=T.a().get(b[2]);Z.a().c("profile",a);break;case "channel":a=V.a().get(b[2]);
V.a().c(mf,a);break;case "info":a=Id.a().get(b[2]),Z.a().c("media-info",a)}});U("/_presence",r(function(a){a=oe(a.target);this.yj=ni.a().init(a.token);var b=V.a();v(a.viewer_sessions,r(function(a){var b=re(T.a(),a.user),f=T.a();Na(f.Ge,function(a){return a.id==b.id})||f.Ge.push(b);var f=this.Pb[a.channel_id],g=Cd(a.tune_in+"Z"),h=a.tune_out?Cd(a.tune_out+"Z"):k,a=new fe(a.id,b,f,g,h);b.rd=a;f&&(f.jd.push(a),f.c(ke,a),(a=f.O())&&a.media.c(Fd,b,f))},b))},this))};
function yi(a){var b=E("login"),c=E("static-content"),d=E("pages"),f=C(b,"app");D(b,"expanded",a);E("uvTab")&&D(E("uvTab"),"show",f&&a);a?(f?c.style.bottom=-O(d).height-80+"px":c.style.top=Math.max(10,Qb().height-280)+"px",a=f?Math.min(Qb().height-100,c.scrollHeight+80):Math.min(Qb().height-435,c.scrollHeight+190),!f||f&&!b.scrollTop?(f=new Gf(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),z(b,"scrolling"),f.play(),M(f,"end",function(){A(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",f?R(function(){A(b,"show")},200):c.className="")}
function zi(){var a=E("fb-login"),b=E("static-content"),c=E("login");z(a,"disabled");z(a,"spin");U("/_session",function(a){if(200==kf(a.target)){var f=oe(a.target);if(f.error)Zb(E("error"),f.error),Ai("error","Yikes...");else if(f.message)Zb(E("message"),f.message);else{A(document.body,"login");var a=f.channels,g=f.programs,f=f.current_user;if(!Fb(f)){var h=T.a();h.j=re(h,f)}V.a().ye(a);oi.a().ye(g);a=V.a();a.A=a.Pb[f.current_channel]||a.vc[0];a.A=of(a)||a.A;a.A&&a.hf(a.A.O());ne.a().init();(new xi).h(document.body);
ge.a().login();R(function(){R(function(){z(c,"hide");R(function(){P(E("homepage"),l);z(c,"app");z(b,"faq")},600)},600)})}}else 500==kf(a.target)?Ai("error","Opps, check back later"):Ai("wait")},"POST")}function Ai(a,b){var c=E("fb-login");if(a){var d=F("power",c);z(d,a)}b&&(d=F("waitlist",c),Zb(d,b));A(c,"spin");z(c,"disabled");P(c,j);z(c,"show");z(c,"waitlist")}
fa("brkn.Mobile.staticInit",function(){var a=E("fb-login"),b=E("homepage"),c=E("login"),d=E("static-content"),f=E("pages"),g=E("footer"),h=l;z(b,"hide");var p=Rb("img");p.src="/static/img/homepage.jpg";M(p,"load",function(){A(b,"hide");z(b,"show")});R(function(){P(a,j);R(va(z,a,"show"),400)},100);M(c,"click",function(a){"static-scrollable"==a.target.id&&(a=C(c,"app"),h=l,a?yi(h):(a=new Gf(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),M(a,"end",va(yi,h))))});M(c,"scroll",function(){!C(c,
"scrolling")&&1>c.scrollTop&&(h=l,yi(h))});M(g,"click",function(a){var a=fc(a.target,k,"section"),b=C(c,"app");a&&(h=j,d.className=a.id,d.style.height=O(f).height+(b?80:220)+"px",yi(h))});M(window,"resize",va(yi,h));ge.a().init();IPHONE&&(z(document.body,"iphone"),z(document.body,"login"),window.onload=function(){R(function(){window.scrollTo(0,1)},1E3)})});
fa("brkn.Mobile.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)zi();else{var b=E("fb-login");M(b,"click",function(){z(b,"disabled");FB.login(function(a){a.authResponse?zi():A(b,"disabled")},{scope:"email"})})}})});