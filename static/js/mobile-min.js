function f(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function da(a){return function(){return this[a]}}function ea(a){return function(){return a}}var n,fa=fa||{},ga=this;function ha(a,b){var c=a.split("."),d=ga;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ja(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function ka(a){for(var a=a.split("."),b=ga,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function la(){}function ma(a){a.a=function(){return a.Mh?a.Mh:a.Mh=new a}}
function oa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ja(a){return a!==i}function pa(a){return"array"==oa(a)}function qa(a){var b=oa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ra(a){return"number"==typeof a}function sa(a){return"function"==oa(a)}function ta(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function ua(a){return a[va]||(a[va]=++wa)}
var va="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),wa=0;function xa(a,b,c){return a.call.apply(a.bind,arguments)}function ya(a,b,c){a||f(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xa:ya;return q.apply(k,arguments)}function za(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var r=Date.now||function(){return+new Date};function Aa(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a}
function t(a,b){function c(){}c.prototype=b.prototype;a.e=b.prototype;a.prototype=new c;a.prototype.constructor=a};function Ba(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Ca(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Da(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1}
function Ea(a){if(!Fa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ga,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ha,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ia,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ja,"&quot;"));return a}var Ga=/&/g,Ha=/</g,Ia=/>/g,Ja=/\"/g,Fa=/[&<>\"]/;function Ka(a){var a=ja(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}
function Ma(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Na=Array.prototype,Oa=Na.indexOf?function(a,b,c){return Na.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(p(a))return!p(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},u=Na.forEach?function(a,b,c){Na.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function Pa(a,b,c){for(var d=p(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)}
var Qa=Na.filter?function(a,b,c){return Na.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=p(a)?a.split(""):a,m=0;m<d;m++)if(m in h){var s=h[m];b.call(c,s,m,a)&&(e[g++]=s)}return e},Ra=Na.map?function(a,b,c){return Na.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=p(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Sa=Na.every?function(a,b,c){return Na.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in
e&&!b.call(c,e[g],g,a))return l;return j};function Ta(a,b){var c=Ua(a,b,i);return 0>c?k:p(a)?a.charAt(c):a[c]}function Ua(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return g;return-1}function Va(a,b){return 0<=Oa(a,b)}function Wa(a,b){var c=Oa(a,b);0<=c&&Na.splice.call(a,c,1)}function Xa(a,b,c){b=Ua(a,b,c);return 0<=b?(Na.splice.call(a,b,1),j):l}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Za(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(pa(d)||(e=qa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,m=0;m<h;m++)a[g+m]=d[m];else a.push(d)}}function $a(a,b,c,d){Na.splice.apply(a,ab(arguments,1))}function ab(a,b,c){return 2>=arguments.length?Na.slice.call(a,b):Na.slice.call(a,b,c)}function bb(a,b){return a>b?1:a<b?-1:0};var cb,db,eb,fb,gb;function hb(){return ga.navigator?ga.navigator.userAgent:k}function ib(){return ga.navigator}fb=eb=db=cb=l;var lb;if(lb=hb()){var mb=ib();cb=0==lb.indexOf("Opera");db=!cb&&-1!=lb.indexOf("MSIE");eb=!cb&&-1!=lb.indexOf("WebKit");fb=!cb&&!eb&&"Gecko"==mb.product}var nb=cb,v=db,ob=fb,w=eb,pb=ib();gb=-1!=(pb&&pb.platform||"").indexOf("Mac");var qb=!!ib()&&-1!=(ib().appVersion||"").indexOf("X11"),rb;
a:{var sb="",tb;if(nb&&ga.opera)var ub=ga.opera.version,sb="function"==typeof ub?ub():ub;else if(ob?tb=/rv\:([^\);]+)(\)|;)/:v?tb=/MSIE\s+([^\);]+)(\)|;)/:w&&(tb=/WebKit\/(\S+)/),tb)var vb=tb.exec(hb()),sb=vb?vb[1]:"";if(v){var wb,xb=ga.document;wb=xb?xb.documentMode:i;if(wb>parseFloat(sb)){rb=String(wb);break a}}rb=sb}var yb={};
function z(a){var b;if(!(b=yb[a])){b=0;for(var c=Ca(String(rb)).split("."),d=Ca(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",m=d[g]||"",s=RegExp("(\\d*)(\\D*)","g"),y=RegExp("(\\d*)(\\D*)","g");do{var x=s.exec(h)||["","",""],C=y.exec(m)||["","",""];if(0==x[0].length&&0==C[0].length)break;b=((0==x[1].length?0:parseInt(x[1],10))<(0==C[1].length?0:parseInt(C[1],10))?-1:(0==x[1].length?0:parseInt(x[1],10))>(0==C[1].length?0:parseInt(C[1],10))?1:0)||((0==x[2].length)<
(0==C[2].length)?-1:(0==x[2].length)>(0==C[2].length)?1:0)||(x[2]<C[2]?-1:x[2]>C[2]?1:0)}while(0==b)}b=yb[a]=0<=b}return b}var zb={};function Ab(a){return zb[a]||(zb[a]=v&&!!document.documentMode&&document.documentMode>=a)};var Bb,Cb=!v||Ab(9),Db=!ob&&!v||v&&Ab(9)||ob&&z("1.9.1"),Eb=v&&!z("9"),Fb=v||nb||w;function Gb(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}function A(a,b){for(var c=Gb(a),d=ab(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)Va(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e}function B(a,b){var c=Gb(a),d=ab(arguments,1),e,g=d;e=Qa(c,function(a){return!Va(g,a)});a.className=e.join(" ");return e.length==c.length-d.length}function D(a,b){return Va(Gb(a),b)}function E(a,b,c){c?A(a,b):B(a,b)}function Hb(a,b){var c=!D(a,b);E(a,b,c);return c};function Ib(a,b){this.x=ja(a)?a:0;this.y=ja(b)?b:0}Ib.prototype.clone=function(){return new Ib(this.x,this.y)};function Jb(a,b){return new Ib(a.x-b.x,a.y-b.y)};function Kb(a,b){this.width=a;this.height=b}Kb.prototype.clone=function(){return new Kb(this.width,this.height)};Kb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Kb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Kb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Lb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Mb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Nb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ob(a){for(var b in a)return l;return j}function Pb(a,b){b in a&&delete a[b]}function Qb(a,b,c){b in a&&f(Error('The object already contains the key "'+b+'"'));a[b]=c}var Rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Sb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<Rb.length;g++)c=Rb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Tb(a){return a?new Ub(Vb(a)):Bb||(Bb=new Ub)}function F(a){return p(a)?document.getElementById(a):a}function Wb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Xb("*",a,b)}function G(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Wb(a,b)[0])||k}
function Xb(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=e=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Va(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
var Yb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Zb(a){a=(a||window).document;a=$b(a)?a.documentElement:a.body;return new Kb(a.clientWidth,a.clientHeight)}function H(a,b,c){return ac(document,arguments)}
function ac(a,b){var c=b[0],d=b[1];if(!Cb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ea(d.name),'"');if(d.type){c.push(' type="',Ea(d.type),'"');var e={};Sb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(p(d)?g.className=d:pa(d)?A.apply(k,[g].concat(d)):Lb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Yb?g.setAttribute(Yb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(p(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(e=b[c],qa(e)&&!(ta(e)&&0<e.nodeType)){var h=u,m;a:{if((m=e)&&"number"==typeof m.length){if(ta(m)){m="function"==typeof m.item||"string"==typeof m.item;break a}if(sa(m)){m="function"==typeof m.item;break a}}m=l}h(m?Ya(e):e,d)}else d(e)}return g}function $b(a){return"CSS1Compat"==a.compatMode}function bc(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function cc(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}function dc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function ec(a){return Db&&a.children!=i?a.children:Qa(a.childNodes,function(a){return 1==a.nodeType})}function fc(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function gc(a){if(Fb)return a.parentElement;a=a.parentNode;return ta(a)&&1==a.nodeType?a:k}
function hc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Vb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function ic(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else bc(a),a.appendChild(Vb(a).createTextNode(b))}var jc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},kc={IMG:" ",BR:"\n"};function lc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,ra(a)&&0<=a&&32768>a):l}
function mc(a){if(Eb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];nc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Eb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function oc(a){var b=[];nc(a,b,l);return b.join("")}
function nc(a,b,c){if(!(a.nodeName in jc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in kc)b.push(kc[a.nodeName]);else for(a=a.firstChild;a;)nc(a,b,c),a=a.nextSibling}function pc(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||D(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Ub(a){this.w=a||ga.document||document}n=Ub.prototype;n.Ha=Tb;
n.b=function(a){return p(a)?this.w.getElementById(a):a};n.M=function(a,b,c){return ac(this.w,arguments)};n.createElement=function(a){return this.w.createElement(a)};n.createTextNode=function(a){return this.w.createTextNode(a)};function qc(a){return $b(a.w)}function rc(a){var b=a.w,a=!w&&$b(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Ib(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.vh=ec;
function sc(a,b){return b.firstElementChild!=i?b.firstElementChild:fc(b.firstChild)}n.contains=hc;v&&z(8);var tc={};function uc(a,b,c){a.innerHTML=b(c||tc,i,i)}function I(a,b){var c;a:if(c=(new Ub(i)||Tb()).createElement("DIV"),c.innerHTML=a(b||tc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function J(a){return"object"===typeof a&&a&&0===a.Ql?a.content:String(a).replace(vc,wc)}
var xc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function wc(a){return xc[a]}var vc=/[\x00\x22\x26\x27\x3c\x3e]/g;function yc(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="note'+(a.Cf?" pic":"")+'">'+(a.Cf?'<div class="picture"><img class="image" src='+J(a.Cf)+' style="display: none"/></div>':"")+'<div class="action">'+(a.n?J(a.n.name)+" ":"")+J(a.action)+'</div><div class="content">'+J(a.content)+'</div><div class="close"></div></div>'+(a.link?"</a>":"")};function K(){0!=zc&&(this.Rl=Error().stack,Ac[ua(this)]=this)}var zc=0,Ac={};K.prototype.fe=l;K.prototype.$=function(){if(!this.fe&&(this.fe=j,this.k(),0!=zc)){var a=ua(this);delete Ac[a]}};K.prototype.k=function(){this.pj&&Bc.apply(k,this.pj);if(this.ki)for(;this.ki.length;)this.ki.shift()()};function Cc(a){a&&"function"==typeof a.$&&a.$()}function Bc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];qa(d)?Bc.apply(k,d):Cc(d)}};var Dc=!v||Ab(9),Ec=!v||Ab(9),Fc=v&&!z("9");!w||z("528");ob&&z("1.9b")||v&&z("8")||nb&&z("9.5")||w&&z("528");ob&&!z("8")||v&&z("9");function Gc(a,b){this.type=a;this.currentTarget=this.target=b}n=Gc.prototype;n.k=aa();n.$=aa();n.hc=l;n.defaultPrevented=l;n.Je=j;n.stopPropagation=function(){this.hc=j};n.preventDefault=function(){this.defaultPrevented=j;this.Je=l};function Hc(a){a.preventDefault()};function Ic(a){Ic[" "](a);return a}Ic[" "]=la;function Kc(a,b){a&&this.init(a,b)}t(Kc,Gc);var Lc=[1,4,2];n=Kc.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.fg=l;n.ea=k;
n.init=function(a,b){var c=this.type=a.type;Gc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(ob){var e;a:{try{Ic(d.nodeName);e=j;break a}catch(g){}e=l}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=w||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=w||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.fg=gb?a.metaKey:a.ctrlKey;this.state=a.state;this.ea=a;a.defaultPrevented&&this.preventDefault();delete this.hc};function Mc(a){return(Dc?0==a.ea.button:"click"==a.type?j:!!(a.ea.button&Lc[0]))&&!(w&&gb&&a.ctrlKey)}
n.stopPropagation=function(){Kc.e.stopPropagation.call(this);this.ea.stopPropagation?this.ea.stopPropagation():this.ea.cancelBubble=j};n.preventDefault=function(){Kc.e.preventDefault.call(this);var a=this.ea;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,Fc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.Aj=da("ea");n.k=aa();function Nc(){}var Oc=0;n=Nc.prototype;n.key=0;n.jc=l;n.ef=l;n.init=function(a,b,c,d,e,g){sa(a)?this.Oh=j:a&&a.handleEvent&&sa(a.handleEvent)?this.Oh=l:f(Error("Invalid listener argument"));this.Dc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.me=g;this.ef=l;this.key=++Oc;this.jc=l};n.handleEvent=function(a){return this.Oh?this.Dc.call(this.me||this.src,a):this.Dc.handleEvent.call(this.Dc,a)};var Pc={},Qc={},Rc={},Sc={};
function L(a,b,c,d,e){if(b){if(pa(b)){for(var g=0;g<b.length;g++)L(a,b[g],c,d,e);return k}var d=!!d,h=Qc;b in h||(h[b]={R:0,xa:0});h=h[b];d in h||(h[d]={R:0,xa:0},h.R++);var h=h[d],m=ua(a),s;h.xa++;if(h[m]){s=h[m];for(g=0;g<s.length;g++)if(h=s[g],h.Dc==c&&h.me==e){if(h.jc)break;return s[g].key}}else s=h[m]=[],h.R++;var y=Tc,x=Ec?function(a){return y.call(x.src,x.key,a)}:function(a){a=y.call(x.src,x.key,a);if(!a)return a},g=x;g.src=a;h=new Nc;h.init(c,g,a,b,d,e);c=h.key;g.key=c;s.push(h);Pc[c]=h;Rc[m]||
(Rc[m]=[]);Rc[m].push(h);a.addEventListener?(a==ga||!a.gh)&&a.addEventListener(b,g,d):a.attachEvent(b in Sc?Sc[b]:Sc[b]="on"+b,g);return c}f(Error("Invalid event type"))}function Uc(a,b,c,d,e){if(pa(b))for(var g=0;g<b.length;g++)Uc(a,b[g],c,d,e);else a=L(a,b,c,d,e),Pc[a].ef=j}function Vc(a,b,c,d,e){if(pa(b))for(var g=0;g<b.length;g++)Vc(a,b[g],c,d,e);else if(d=!!d,a=Wc(a,b,d))for(g=0;g<a.length;g++)if(a[g].Dc==c&&a[g].capture==d&&a[g].me==e){Xc(a[g].key);break}}
function Xc(a){if(!Pc[a])return l;var b=Pc[a];if(b.jc)return l;var c=b.src,d=b.type,e=b.proxy,g=b.capture;c.removeEventListener?(c==ga||!c.gh)&&c.removeEventListener(d,e,g):c.detachEvent&&c.detachEvent(d in Sc?Sc[d]:Sc[d]="on"+d,e);c=ua(c);Rc[c]&&(e=Rc[c],Wa(e,b),0==e.length&&delete Rc[c]);b.jc=j;if(b=Qc[d][g][c])b.gi=j,Yc(d,g,c,b);delete Pc[a];return j}
function Yc(a,b,c,d){if(!d.ue&&d.gi){for(var e=0,g=0;e<d.length;e++)d[e].jc?d[e].proxy.src=k:(e!=g&&(d[g]=d[e]),g++);d.length=g;d.gi=l;0==g&&(delete Qc[a][b][c],Qc[a][b].R--,0==Qc[a][b].R&&(delete Qc[a][b],Qc[a].R--),0==Qc[a].R&&delete Qc[a])}}function Wc(a,b,c){var d=Qc;return b in d&&(d=d[b],c in d&&(d=d[c],a=ua(a),d[a]))?d[a]:k}
function Zc(a,b,c,d,e){var g=1,b=ua(b);if(a[b]){a.xa--;a=a[b];a.ue?a.ue++:a.ue=1;try{for(var h=a.length,m=0;m<h;m++){var s=a[m];s&&!s.jc&&(g&=$c(s,e)!==l)}}finally{a.ue--,Yc(c,d,b,a)}}return Boolean(g)}function $c(a,b){a.ef&&Xc(a.key);return a.handleEvent(b)}
function Tc(a,b){if(!Pc[a])return j;var c=Pc[a],d=c.type,e=Qc;if(!(d in e))return j;var e=e[d],g,h;if(!Ec){g=b||ka("window.event");var m=j in e,s=l in e;if(m){if(0>g.keyCode||g.returnValue!=i)return j;a:{var y=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(x){y=j}if(y||g.returnValue==i)g.returnValue=j}}y=new Kc;y.init(g,this);g=j;try{if(m){for(var C=[],ca=y.currentTarget;ca;ca=ca.parentNode)C.push(ca);h=e[j];h.xa=h.R;for(var X=C.length-1;!y.hc&&0<=X&&h.xa;X--)y.currentTarget=C[X],g&=Zc(h,C[X],d,
j,y);if(s){h=e[l];h.xa=h.R;for(X=0;!y.hc&&X<C.length&&h.xa;X++)y.currentTarget=C[X],g&=Zc(h,C[X],d,l,y)}}else g=$c(c,y)}finally{C&&(C.length=0)}return g}d=new Kc(b,this);return g=$c(c,d)};function ad(a){K.call(this);this.N=a;this.P=[]}t(ad,K);var bd=[];function M(a,b,c,d,e){pa(c)||(bd[0]=c,c=bd);for(var g=0;g<c.length;g++){var h=L(b,c[g],d||a,e||l,a.N||a);a.P.push(h)}return a}function cd(a,b,c,d,e,g){if(pa(c))for(var h=0;h<c.length;h++)cd(a,b,c[h],d,e,g);else{a:{d=d||a;g=g||a.N||a;e=!!e;if(b=Wc(b,c,e))for(c=0;c<b.length;c++)if(!b[c].jc&&b[c].Dc==d&&b[c].capture==e&&b[c].me==g){b=b[c];break a}b=k}b&&(b=b.key,Xc(b),Wa(a.P,b))}return a}function dd(a){u(a.P,Xc);a.P.length=0}
ad.prototype.k=function(){ad.e.k.call(this);dd(this)};ad.prototype.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};function ed(){K.call(this)}t(ed,K);n=ed.prototype;n.gh=j;n.Be=k;n.qg=ba("Be");n.addEventListener=function(a,b,c,d){L(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Vc(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=Qc;if(b in c){if(p(a))a=new Gc(a,this);else if(a instanceof Gc)a.target=a.target||this;else{var d=a,a=new Gc(b,this);Sb(a,d)}var d=1,e,c=c[b],b=j in c,g;if(b){e=[];for(g=this;g;g=g.Be)e.push(g);g=c[j];g.xa=g.R;for(var h=e.length-1;!a.hc&&0<=h&&g.xa;h--)a.currentTarget=e[h],d&=Zc(g,e[h],a.type,j,a)&&a.Je!=l}if(l in c)if(g=c[l],g.xa=g.R,b)for(h=0;!a.hc&&h<e.length&&g.xa;h++)a.currentTarget=e[h],d&=Zc(g,e[h],a.type,l,a)&&a.Je!=l;else for(e=this;!a.hc&&e&&
g.xa;e=e.Be)a.currentTarget=e,d&=Zc(g,e,a.type,l,a)&&a.Je!=l;a=Boolean(d)}else a=j;return a};n.k=function(){ed.e.k.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Lb(Rc,function(d){for(var e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Xc(g.key),b++}});else{var d=ua(this);if(Rc[d])for(var d=Rc[d],e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Xc(g.key),b++}}this.Be=k};function fd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}fd.prototype.clone=function(){return new fd(this.top,this.right,this.bottom,this.left)};fd.prototype.contains=function(a){return!this||!a?l:a instanceof fd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function gd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}gd.prototype.clone=function(){return new gd(this.left,this.top,this.width,this.height)};gd.prototype.contains=function(a){return a instanceof gd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function hd(a,b,c){p(b)?id(a,c,b):Lb(b,za(id,a))}function id(a,b,c){a.style[Ma(c)]=b}function jd(a,b){var c=Vb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function kd(a,b){return a.currentStyle?a.currentStyle[b]:k}function ld(a,b){return jd(a,b)||kd(a,b)||a.style&&a.style[b]}
function md(a){var b=a.getBoundingClientRect();v&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function nd(a){if(v&&!Ab(8))return a.offsetParent;for(var b=Vb(a),c=ld(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=ld(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function od(a){for(var b=new fd(0,Infinity,Infinity,0),c=Tb(a),d=c.w.body,e=c.w.documentElement,g=!w&&$b(c.w)?c.w.documentElement:c.w.body;a=nd(a);)if((!v||0!=a.clientWidth)&&(!w||0!=a.clientHeight||a!=d)&&a!=d&&a!=e&&"visible"!=ld(a,"overflow")){var h=pd(a),m;m=a;if(ob&&!z("1.9")){var s=parseFloat(jd(m,"borderLeftWidth"));if(qd(m))var y=m.offsetWidth-m.clientWidth-s-parseFloat(jd(m,"borderRightWidth")),s=s+y;m=new Ib(s,parseFloat(jd(m,"borderTopWidth")))}else m=new Ib(m.clientLeft,m.clientTop);h.x+=
m.x;h.y+=m.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=Zb(c.w.parentWindow||c.w.defaultView);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:k}
function pd(a){var b,c=Vb(a),d=ld(a,"position"),e=ob&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Ib(0,0),h;b=c?Vb(c):document;h=v&&!Ab(9)&&!qc(Tb(b))?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=md(a),a=rc(Tb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=
b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(w&&"fixed"==ld(b,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(nb||w&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=nd(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!nb||"TR"!=b.tagName)g.y-=b.scrollTop}return g}function rd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function sd(a,b){a.style.height=rd(b,j)}
function N(a){if("none"!=ld(a,"display"))return td(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=td(a);b.display=c;b.position=e;b.visibility=d;return a}function td(a){var b=a.offsetWidth,c=a.offsetHeight,d=w&&!b&&!c;return(!ja(b)||d)&&a.getBoundingClientRect?(a=md(a),new Kb(a.right-a.left,a.bottom-a.top)):new Kb(b,c)}
function ud(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function O(a,b){a.style.display=b?"":"none"}function qd(a){return"rtl"==ld(a,"direction")}var vd=ob?"MozUserSelect":w?"WebkitUserSelect":k;
function wd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function xd(a,b){if(v){var c=wd(a,kd(a,b+"Left")),d=wd(a,kd(a,b+"Right")),e=wd(a,kd(a,b+"Top")),g=wd(a,kd(a,b+"Bottom"));return new fd(e,d,g,c)}c=jd(a,b+"Left");d=jd(a,b+"Right");e=jd(a,b+"Top");g=jd(a,b+"Bottom");return new fd(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var yd={thin:2,medium:4,thick:6};function zd(a,b){if("none"==kd(a,b+"Style"))return 0;var c=kd(a,b+"Width");return c in yd?yd[c]:wd(a,c)}
function Ad(a){if(v){var b=zd(a,"borderLeft"),c=zd(a,"borderRight"),d=zd(a,"borderTop"),a=zd(a,"borderBottom");return new fd(d,c,a,b)}b=jd(a,"borderLeftWidth");c=jd(a,"borderRightWidth");d=jd(a,"borderTopWidth");a=jd(a,"borderBottomWidth");return new fd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Bd=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Cd(){}ma(Cd);Cd.prototype.ik=0;Cd.a();function Q(a){K.call(this);this.Tb=a||Tb();this.Ja=Dd}t(Q,ed);Q.prototype.Qj=Cd.a();var Dd=k;function Ed(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}f(Error("Invalid component state"))}n=Q.prototype;n.ga=k;n.U=l;n.d=k;n.Ja=k;n.V=k;n.J=k;n.Z=k;n.ba=k;n.$i=l;
function Fd(a){return a.ga||(a.ga=":"+(a.Qj.ik++).toString(36))}n.b=da("d");n.j=function(){return this.xc||(this.xc=new ad(this))};n.Me=function(a){this==a&&f(Error("Unable to set parent component"));a&&(this.J&&this.ga&&this.J.ba&&this.ga&&(this.ga in this.J.ba&&this.J.ba[this.ga])&&this.J!=a)&&f(Error("Unable to set parent component"));this.J=a;Q.e.qg.call(this,a)};n.getParent=da("J");n.qg=function(a){this.J&&this.J!=a&&f(Error("Method not supported"));Q.e.qg.call(this,a)};n.Ha=da("Tb");
n.M=function(){this.d=this.Tb.createElement("div")};function Gd(a,b){a.U&&f(Error("Component already rendered"));a.d||a.M();b?b.insertBefore(a.d,k):a.Tb.w.body.appendChild(a.d);(!a.J||a.J.U)&&a.z()}n.i=function(a){this.U&&f(Error("Component already rendered"));if(a&&this.Pb(a)){this.$i=j;if(!this.Tb||this.Tb.w!=Vb(a))this.Tb=Tb(a);this.u(a);this.z()}else f(Error("Invalid element to decorate"))};n.Pb=ea(j);n.u=ba("d");n.z=function(){this.U=j;Hd(this,function(a){!a.U&&a.b()&&a.z()})};
n.Xb=function(){Hd(this,function(a){a.U&&a.Xb()});this.xc&&dd(this.xc);this.U=l};n.k=function(){Q.e.k.call(this);this.U&&this.Xb();this.xc&&(this.xc.$(),delete this.xc);Hd(this,function(a){a.$()});!this.$i&&this.d&&dc(this.d);this.J=this.V=this.d=this.ba=this.Z=k};
function Id(a,b){var c=a.Z?a.Z.length:0;b.U&&!a.U&&f(Error("Component already rendered"));(0>c||c>(a.Z?a.Z.length:0))&&f(Error("Child component index out of bounds"));if(!a.ba||!a.Z)a.ba={},a.Z=[];if(b.getParent()==a){var d=Fd(b);a.ba[d]=b;Wa(a.Z,b)}else Qb(a.ba,Fd(b),b);b.Me(a);$a(a.Z,c,0,b);b.U&&a.U&&b.getParent()==a?(d=a.Ta(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.U&&(!b.U&&b.d&&b.d.parentNode)&&b.z()}n.Ta=da("d");n.Ph=function(){this.Ja==k&&(this.Ja=qd(this.U?this.d:this.Tb.w.body));return this.Ja};
n.lc=function(a){this.U&&f(Error("Component already rendered"));this.Ja=a};function Hd(a,b){a.Z&&u(a.Z,b,i)}n.removeChild=function(a,b){if(a){var c=p(a)?a:Fd(a),a=this.ba&&c?(c in this.ba?this.ba[c]:i)||k:k;c&&a&&(Pb(this.ba,c),Wa(this.Z,a),b&&(a.Xb(),a.d&&dc(a.d)),a.Me(k))}a||f(Error("Child is not in parent component"));return a};function Jd(){Q.call(this)}t(Jd,Q);Jd.prototype.M=function(){this.d=H("div",{id:"notify"})};Jd.prototype.u=function(a){Jd.e.u.call(this,a);Kd.a().subscribe(Ld,function(a,c,d,e,g){this.Pe(j,a,c,d,e,g)},this);Kd.a().subscribe(Md,function(a,c,d,e,g){this.Pe(l,a,c,d,e,g)},this)};
Jd.prototype.Pe=function(a,b,c,d,e,g){var h=I(yc,{action:b,content:c,n:d,Cf:e,link:g}),m=G("image",h);G("close",h);M(M(this.j(),G("close",h),"click",function(a){a.preventDefault();a.stopPropagation();dc(h)}),m,"load",function(){O(m,j);R(function(){m.style.marginLeft=-1*m.clientWidth/2+"px";m.style.marginTop=-1*m.clientHeight/2+"px"})});this.b().appendChild(h);var s=G("note",h);R(function(){s&&(A(s,"show"),a?R(function(){B(s,"show");A(s,"fade-out");R(function(){dc(h)},5100)},3E3):R(function(){A(s,
"dim")},3E3))})};function S(){K.call(this);this.Ka=[];this.Lb={}}t(S,K);n=S.prototype;n.Sh=1;n.Ee=0;n.subscribe=function(a,b,c){var d=this.Lb[a];d||(d=this.Lb[a]=[]);var e=this.Sh;this.Ka[e]=a;this.Ka[e+1]=b;this.Ka[e+2]=c;this.Sh=e+3;d.push(e);return e};n.Wi=function(a){if(0!=this.Ee)return this.zd||(this.zd=[]),this.zd.push(a),l;var b=this.Ka[a];if(b){var c=this.Lb[b];c&&Wa(c,a);delete this.Ka[a];delete this.Ka[a+1];delete this.Ka[a+2]}return!!b};
n.c=function(a,b){var c=this.Lb[a];if(c){this.Ee++;for(var d=ab(arguments,1),e=0,g=c.length;e<g;e++){var h=c[e];this.Ka[h+1].apply(this.Ka[h+2],d)}this.Ee--;if(this.zd&&0==this.Ee)for(;c=this.zd.pop();)this.Wi(c)}};n.clear=function(a){if(a){var b=this.Lb[a];b&&(u(b,this.Wi,this),delete this.Lb[a])}else this.Ka.length=0,this.Lb={}};n.k=function(){S.e.k.call(this);delete this.Ka;delete this.Lb;delete this.zd};function Kd(){S.call(this)}t(Kd,S);ma(Kd);var Ld="flash",Md="show";function Nd(a){this.id=a.id;this.L=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Od(a){S.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.zc=a.host_id;this.Pj="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.live=!!a.live;this.Xf=[];this.Ek=k;this.nh=l;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.ca=a.publisher&&new Nd(a.publisher);this.ic=a.published&&Pd(a.published+"Z");this.lb="http://i.ytimg.com/vi/"+this.zc+"/0.jpg";this.zg="http://i.ytimg.com/vi/"+this.zc+"/1.jpg";this.qm="http://i.ytimg.com/vi/"+
this.zc+"/2.jpg";this.rm="http://i.ytimg.com/vi/"+this.zc+"/3.jpg";this.pm=new Kb(480,360);this.Pi=37;this.fb=[];this.Vi=[];this.cd=a.comment_count||0;this.nm=a.star_count||0;this.$j=a.like_count||0;this.Vl=a.dislike_count||0;this.Le=[];this.Db={};this.nj=a.collection_id;this.subscribe(Qd,this.pb,this);this.subscribe(Rd,this.Jk,this);this.subscribe(Sd,this.af,this)}t(Od,S);function Td(a){return a.ic.getMonth()+1+"/"+a.ic.getDate()+"/"+a.ic.getYear()}var Qd="add-comment",Rd="remove-comment",Sd="watching";
Od.prototype.Ye=function(a){Ta(this.Xf,function(b){return a.id==b.id})||this.Xf.push(a)};Od.prototype.pb=function(a){if(a.I){var b=Ta(this.fb,function(b){return b.id==a.I});b&&b.Ge.push(a)}else this.fb.push(a);this.cd+=1};Od.prototype.Jk=function(a){T("/_comment",Ud(),"POST","delete=true&id="+a);Xa(this.fb,function(b){return b.id==a});this.cd-=1};
Od.prototype.af=function(a,b,c){c?(Pb(this.Db,a.id),a.Qa=k):(this.Db[a.id]=a,a.Qa=this,a.id!=U.a().h.id&&Kd.a().c(Ld,"is watching "+(b?b.name:""),this.name,a,this.zg,"#info:"+this.id))};function Vd(){S.call(this);this.Of={}}t(Vd,S);ma(Vd);function Wd(a,b){var c=a.get(b.id);c||(c=new Od(b),a.add(c));return c}Vd.prototype.get=function(a){return a in this.Of?this.Of[a]:i};Vd.prototype.add=function(a){this.Of[a.id]=a};var Xd={sl:["BC","AD"],rl:["Before Christ","Anno Domini"],ul:"JFMAMJJASOND".split(""),Cl:"JFMAMJJASOND".split(""),tl:"January February March April May June July August September October November December".split(" "),Bl:"January February March April May June July August September October November December".split(" "),yl:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),El:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Il:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Gl:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Al:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Fl:"Sun Mon Tue Wed Thu Fri Sat".split(" "),vl:"SMTWTFS".split(""),Dl:"SMTWTFS".split(""),zl:["Q1","Q2","Q3","Q4"],xl:["1st quarter","2nd quarter","3rd quarter","4th quarter"],pl:["AM","PM"],ql:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Hl:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],bj:6,Jl:[5,6],cj:5};var Yd=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,Zd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,$d=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function Pd(a){var b=new ae(2E3),a=Ca(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(Yd);if(d){var e=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var m=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new be(ce,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new be(ce,(4>=d?1-d:8-d)+(Number(m)+7*(Number(c)-1))-1))):(e&&(b.setDate(1),b.setMonth(e-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match($d),m=0,c&&("Z"!=
c[0]&&(m=60*c[2]+Number(c[3]),m*="-"==c[1]?1:-1),m-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(Zd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=m&&b.setTime(b.getTime()+6E4*m),c=j):c=l;return c?b:k}
function be(a,b,c,d,e,g){p(a)?(this.Na=a==de?b:0,this.Ia=a==ee?b:0,this.Ea=a==ce?b:0,this.ua=a==fe?b:0,this.va=a==ge?b:0,this.ya=a==he?b:0):(this.Na=a||0,this.Ia=b||0,this.Ea=c||0,this.ua=d||0,this.va=e||0,this.ya=g||0)}
be.prototype.Pd=function(a){var b=Math.min(this.Na,this.Ia,this.Ea,this.ua,this.va,this.ya),c=Math.max(this.Na,this.Ia,this.Ea,this.ua,this.va,this.ya);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Na||a)&&c.push(Math.abs(this.Na)+"Y");(this.Ia||a)&&c.push(Math.abs(this.Ia)+"M");(this.Ea||a)&&c.push(Math.abs(this.Ea)+"D");if(this.ua||this.va||this.ya||a)c.push("T"),(this.ua||a)&&c.push(Math.abs(this.ua)+"H"),(this.va||a)&&c.push(Math.abs(this.va)+"M"),
(this.ya||a)&&c.push(Math.abs(this.ya)+"S");return c.join("")};be.prototype.clone=function(){return new be(this.Na,this.Ia,this.Ea,this.ua,this.va,this.ya)};var de="y",ee="m",ce="d",fe="h",ge="n",he="s";be.prototype.add=function(a){this.Na+=a.Na;this.Ia+=a.Ia;this.Ea+=a.Ea;this.ua+=a.ua;this.va+=a.va;this.ya+=a.ya};
function ie(a,b,c){ra(a)?(this.o=new Date(a,b||0,c||1),je(this,c||1)):ta(a)?(this.o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),je(this,a.getDate())):(this.o=new Date(r()),this.o.setHours(0),this.o.setMinutes(0),this.o.setSeconds(0),this.o.setMilliseconds(0))}n=ie.prototype;n.he=Xd.bj;n.ie=Xd.cj;n.clone=function(){var a=new ie(this.o);a.he=this.he;a.ie=this.ie;return a};n.getFullYear=function(){return this.o.getFullYear()};n.getYear=function(){return this.getFullYear()};n.getMonth=function(){return this.o.getMonth()};
n.getDate=function(){return this.o.getDate()};n.getTime=function(){return this.o.getTime()};n.getDay=function(){return this.o.getDay()};n.getUTCHours=function(){return this.o.getUTCHours()};n.getTimezoneOffset=function(){return this.o.getTimezoneOffset()};function ke(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Ka(c)+":"+Ka(b);return a}n.set=function(a){this.o=new Date(a.getFullYear(),a.getMonth(),a.getDate())};n.setFullYear=function(a){this.o.setFullYear(a)};
n.setMonth=function(a){this.o.setMonth(a)};n.setDate=function(a){this.o.setDate(a)};n.setTime=function(a){this.o.setTime(a)};
n.add=function(a){if(a.Na||a.Ia){var b=this.getMonth()+a.Ia+12*a.Na,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Ea&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Ea),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),je(this,a.getDate()))};n.Pd=function(a,b){return[this.getFullYear(),Ka(this.getMonth()+1),Ka(this.getDate())].join(a?"-":"")+(b?ke(this):"")};n.toString=function(){return this.Pd()};function je(a,b){a.getDate()!=b&&a.o.setUTCHours(a.o.getUTCHours()+(a.getDate()<b?1:-1))}n.valueOf=function(){return this.o.valueOf()};function ae(a,b,c,d,e,g,h){this.o=ra(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():r())}t(ae,ie);n=ae.prototype;n.getHours=function(){return this.o.getHours()};
n.getMinutes=function(){return this.o.getMinutes()};n.getSeconds=function(){return this.o.getSeconds()};n.getUTCHours=function(){return this.o.getUTCHours()};n.setHours=function(a){this.o.setHours(a)};n.setMinutes=function(a){this.o.setMinutes(a)};n.setSeconds=function(a){this.o.setSeconds(a)};n.setMilliseconds=function(a){this.o.setMilliseconds(a)};n.setUTCHours=function(a){this.o.setUTCHours(a)};
n.add=function(a){ie.prototype.add.call(this,a);a.ua&&this.setHours(this.o.getHours()+a.ua);a.va&&this.setMinutes(this.o.getMinutes()+a.va);a.ya&&this.setSeconds(this.o.getSeconds()+a.ya)};n.Pd=function(a,b){var c=ie.prototype.Pd.call(this,a);return a?c+" "+Ka(this.getHours())+":"+Ka(this.getMinutes())+":"+Ka(this.getSeconds())+(b?ke(this):""):c+"T"+Ka(this.getHours())+Ka(this.getMinutes())+Ka(this.getSeconds())+(b?ke(this):"")};n.toString=function(){return this.Pd()};
n.clone=function(){var a=new ae(this.o);a.he=this.he;a.ie=this.ie;return a};function le(a,b){S.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?Wd(Vd.a(),d.media):c;Vd.a().add(this.media);this.time=d?Pd(d.time+"Z"):new ae;this.async=d?d.async:j;this.seek=d?d.seek:k}t(le,S);function me(a){return new le(i,a)};function ne(a){S.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.nl=a.welcomed;this.Ic=a.online;this.Ul=a.demo;this.Qa=a.last_seen?Wd(Od.a(),a.last_seen):k;this.history=[];this.Ji=[];this.L=Ba("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.dj=a.access_level;this.Kl=[];this.v=a.last_login?Pd(a.last_login+"Z"):k;this.km=a.session_count;
this.Ml=a.ave_session?a.ave_session.toFixed(2):k;this.lm=a.show_guide!=i?a.show_guide:j;this.mm=a.show_sidebar!=i?a.show_sidebar:j;this.Gk=a.post_facebook!=i?a.post_facebook:j;this.xi=a.post_twitter!=i?a.post_twitter:j;this.subscribe(oe,function(){this.xi=j},this)}t(ne,S);function pe(){return U.a().h.dj==qe}ne.prototype.kd=function(){var a=this.name.split(" ");return a&&a.length?a[0]:this.name};function re(a,b){return Ta(a.Ji,function(a){return a.id==b.id})}var oe="twitter-auth",qe=2;function se(a,b,c,d,e){this.id=a;this.n=b;this.O=c;this.il=d;this.Re=e||k;this.bi=[]}se.prototype.Le=function(a){this.bi.push(a);this.O&&(this.O.Y&&this.O.T)&&(this.O.T.seek=k,this.O.T=k);T("/_seen",Ud(),"POST","media_id="+a.id+"&session_id="+this.id+"&async="+(this.O?this.O.Y:l))};
se.prototype.end=function(a){this.Re=a;a=(this.Re.getTime()-this.il.getTime())/1E3;if(this.n.id==U.a().h.id&&this.O){te.a();var b=this.O,c=this.bi.length;U.a().ag.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",U.a().h.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",U.a().h.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",U.a().h.id,c]);_gaq.push(["_trackEvent","Users","Active",U.a().h.id,c]);_gaq.push(["_trackEvent","Users",b.id+
"-time",U.a().h.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",U.a().h.id,c]);b.Y||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))}};function ue(a){S.call(this);this.id=a.id;this.name=a.name;this.Y=a.my_channel;this.Qa=a.current_media?Wd(Vd.a(),a.current_media):k;this.Tl=a.current_seek;this.Eb=[];this.Cd={};this.T=a.current_program&&new le(a.current_program);this.Xd=[];this.queue=[];this.Xa=0;this.Ic=a.online!=i?a.online:k;this.subscribe(ve,this.$e,this);this.subscribe(we,this.fj,this);this.subscribe(xe,this.af,this);this.subscribe(ye,this.ll,this)}t(ue,S);n=ue.prototype;
n.$e=function(a){this.Eb.push(a);this.Cd[a.id]=a;a.time.getTime()+1E3*a.media.duration>this.Xa&&(this.Xa=a.time.getTime()+1E3*a.media.duration-12E4,ze(Ae.a(),this.Xa,q(this.Mf,this,this.Xa)),ze(Ae.a(),this.Xa+6E4,q(this.Mf,this,this.Xa+6E4)))};n.Mf=function(a){this.Xa<=a&&!this.Y&&T("/_programming/"+this.id,q(function(a){a=V(a.target);a.length||ze(Ae.a(),r()+1E3,q(this.Mf,this,r()+1E3));u(a,function(a){if(!this.Cd[a.id]){var b=this.Cd[a.id];b||(b=new le(a),this.$e(b));this.c(ve,b)}},this)},this))};
n.fj=function(a,b){b?(this.queue.push(a),Kd.a().c(Ld,"Added to queue",a.name,i,a.zg,"#info:"+a.id),Be(te.a(),a),T("/_queue",Ud(),"POST","media_id="+a.id)):(Xa(this.queue,function(b){return b.id==a.id},this),T("/_queue",Ud(),"POST","media_id="+a.id+"&delete=1"))};n.af=function(a){this.Xd.push(a)};n.ll=function(a){var b=a.id in this.Cd?this.Cd[a.id]:i;b&&(b.time=Pd(a.time+"Z"))};
n.W=function(a){if(this.T&&this.T.async&&this.T.seek)return this.T;if(!this.Eb.length)return k;var b=this.T;b||(b=this.Eb[0],this.qc=0);if(a)return this.Eb[this.qc+a];if(!this.Y&&r()>=b.time.getTime()&&r()<b.time.getTime()+1E3*b.media.duration)return this.T=b;for(;r()>b.time.getTime()&&r()>=b.time.getTime()+1E3*b.media.duration;){this.T||(this.T=this.Eb[0],this.qc=0);this.Eb.length>=this.qc+1?(this.qc++,a=this.Eb[this.qc],a=this.T=this.Y?a&&a.seek?a:k:this.Eb[this.qc]):a=k;if(this.Y){if(a&&a.async&&
a.seek)return this.T=a;if(!a)if(this.queue.length){a=this.queue[0];this.c(we,a,l);var c=me(a);Ce().c(ve,c);T("/_addprogram",Ud(),"POST","channel_id="+W.a().Y.id+"&media_id="+a.id+"&now=true");a=c}else a=k}if(!a)break;b=a}return r()>=b.time.getTime()&&r()<b.time.getTime()+1E3*b.media.duration?this.T=b:k};var ve="add-program",we="add-queue",xe="add-viewer",ye="update-program";function U(){S.call(this);this.Ig={};this.th=l;this.vf=[];this.ag=[];this.subscribe(De,function(a,b){a.Ic=b},this)}t(U,S);ma(U);U.prototype.add=function(a){this.Ig[a.id]=a};U.prototype.get=function(a){return this.Ig[a]};function Ee(a,b){var c=a.get(b.id);c||(c=new ne(b),a.add(c));c.Ic=b.online;c.Qa=b.last_seen?Wd(Vd.a(),b.last_seen):c.Qa;return c}U.prototype.search=function(a){return Qa(Mb(this.Ig),function(b){return 0==Da(a,b.name.substr(0,a.length))},this)};var De="online";function Fe(a,b){K.call(this);this.ia=a||1;this.Od=b||Ge;this.df=q(this.dl,this);this.Kf=r()}t(Fe,ed);Fe.prototype.enabled=l;var Ge=ga.window;n=Fe.prototype;n.la=k;n.dl=function(){if(this.enabled){var a=r()-this.Kf;0<a&&a<0.8*this.ia?this.la=this.Od.setTimeout(this.df,this.ia-a):(this.dispatchEvent(He),this.enabled&&(this.la=this.Od.setTimeout(this.df,this.ia),this.Kf=r()))}};n.start=function(){this.enabled=j;this.la||(this.la=this.Od.setTimeout(this.df,this.ia),this.Kf=r())};
n.stop=function(){this.enabled=l;this.la&&(this.Od.clearTimeout(this.la),this.la=k)};n.k=function(){Fe.e.k.call(this);this.stop();delete this.Od};var He="tick";function R(a,b,c){sa(a)?c&&(a=q(a,c)):a&&"function"==typeof a.handleEvent?a=q(a.handleEvent,a):f(Error("Invalid listener argument"));return 2147483647<b?-1:Ge.setTimeout(a,b||0)};function Ie(a){if("function"==typeof a.je)return a.je();if(p(a))return a.split("");if(qa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Mb(a)}function Je(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(qa(a)||p(a))u(a,b,c);else{var d;if("function"==typeof a.wf)d=a.wf();else if("function"!=typeof a.je)if(qa(a)||p(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Nb(a);else d=i;for(var e=Ie(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function Ke(a,b){this.xb={};this.P=[];var c=arguments.length;if(1<c){c%2&&f(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ke?(c=a.wf(),d=a.je()):(c=Nb(a),d=Mb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}n=Ke.prototype;n.R=0;n.Yi=0;n.je=function(){Le(this);for(var a=[],b=0;b<this.P.length;b++)a.push(this.xb[this.P[b]]);return a};n.wf=function(){Le(this);return this.P.concat()};
n.clear=function(){this.xb={};this.Yi=this.R=this.P.length=0};function Le(a){if(a.R!=a.P.length){for(var b=0,c=0;b<a.P.length;){var d=a.P[b];Object.prototype.hasOwnProperty.call(a.xb,d)&&(a.P[c++]=d);b++}a.P.length=c}if(a.R!=a.P.length){for(var e={},c=b=0;b<a.P.length;)d=a.P[b],Object.prototype.hasOwnProperty.call(e,d)||(a.P[c++]=d,e[d]=1),b++;a.P.length=c}}n.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.xb,a)?this.xb[a]:b};
n.set=function(a,b){Object.prototype.hasOwnProperty.call(this.xb,a)||(this.R++,this.P.push(a),this.Yi++);this.xb[a]=b};n.clone=function(){return new Ke(this)};function Me(a){return Ne(a||arguments.callee.caller,[])}
function Ne(a,b){var c=[];if(Va(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Oe(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Oe(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Ne(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Oe(a){if(Pe[a])return Pe[a];a=String(a);if(!Pe[a]){var b=/function ([^\(]+)/.exec(a);Pe[a]=b?b[1]:"[Anonymous]"}return Pe[a]}var Pe={};function Qe(a,b,c,d,e){this.reset(a,b,c,d,e)}Qe.prototype.Pk=0;Qe.prototype.kh=k;Qe.prototype.jh=k;var Re=0;Qe.prototype.reset=function(a,b,c,d,e){this.Pk="number"==typeof e?e:Re++;this.sm=d||r();this.sd=a;this.fk=b;this.em=c;delete this.kh;delete this.jh};Qe.prototype.Di=ba("sd");function Se(a){this.gk=a}Se.prototype.J=k;Se.prototype.sd=k;Se.prototype.Z=k;Se.prototype.Eh=k;function Te(a,b){this.name=a;this.value=b}Te.prototype.toString=da("name");var Ue=new Te("SEVERE",1E3),Ve=new Te("WARNING",900),We=new Te("INFO",800),Xe=new Te("CONFIG",700),Ye=new Te("FINE",500);n=Se.prototype;n.getParent=da("J");n.vh=function(){this.Z||(this.Z={});return this.Z};n.Di=ba("sd");function Ze(a){return a.sd?a.sd:a.J?Ze(a.J):k}
n.log=function(a,b,c){if(a.value>=Ze(this).value){a=this.Bj(a,b,c);b="log:"+a.fk;ga.console&&(ga.console.timeStamp?ga.console.timeStamp(b):ga.console.markTimeline&&ga.console.markTimeline(b));ga.msWriteProfilerMark&&ga.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Eh)for(var e=0,g=i;g=c.Eh[e];e++)g(d);b=b.getParent()}}};
n.Bj=function(a,b,c){var d=new Qe(a,String(b),this.gk);if(c){d.kh=c;var e;var g=arguments.callee.caller;try{var h;var m=ka("window.location.href");if(p(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var s,y,x=l;try{s=c.lineNumber||c.dm||"Not available"}catch(C){s="Not available",x=j}try{y=c.fileName||c.filename||c.sourceURL||m}catch(ca){y="Not available",x=j}h=x||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:s,
fileName:y,stack:c.stack||"Not available"}:c}e="Message: "+Ea(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ea(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ea(Me(g)+"-> ")}catch(X){e="Exception trying to expose exception! You win, we lose. "+X}d.jh=e}return d};function $e(a,b){a.log(Ue,b,i)}n.info=function(a,b){this.log(We,a,b)};function af(a,b){a.log(Ye,b,i)}var bf={},cf=k;
function df(a){cf||(cf=new Se(""),bf[""]=cf,cf.Di(Xe));var b;if(!(b=bf[a])){b=new Se(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=df(a.substr(0,c));c.vh()[d]=b;b.J=c;bf[a]=b}return b};function ef(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}f(Error("Invalid JSON string: "+a))};function ff(){}ff.prototype.$d=k;var gf;function hf(){}t(hf,ff);function jf(a){return(a=kf(a))?new ActiveXObject(a):new XMLHttpRequest}function lf(a){var b={};kf(a)&&(b[0]=j,b[1]=j);return b}
function kf(a){if(!a.Ih&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Ih=d}catch(e){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Ih}gf=new hf;var mf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function nf(a){K.call(this);this.headers=new Ke;this.Vc=a||k}t(nf,ed);nf.prototype.B=df("goog.net.XhrIo");var of=/^https?$/i,pf=[];function T(a,b,c,d){var e=new nf;pf.push(e);b&&L(e,"complete",b);L(e,"ready",za(qf,e));e.send(a,c,d,i)}function qf(a){a.$();Wa(pf,a)}n=nf.prototype;n.ob=l;n.q=k;n.We=k;n.rd="";n.Vh="";n.pd=0;n.qd="";n.rf=l;n.ne=l;n.Df=l;n.$b=l;n.Qe=0;n.mc=k;n.Ie="";n.ol=l;
n.send=function(a,b,c,d){this.q&&f(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.rd=a;this.qd="";this.pd=0;this.Vh=b;this.rf=l;this.ob=j;this.q=this.Vc?jf(this.Vc):jf(gf);this.We=this.Vc?this.Vc.$d||(this.Vc.$d=lf(this.Vc)):gf.$d||(gf.$d=lf(gf));this.q.onreadystatechange=q(this.pi,this);try{af(this.B,rf(this,"Opening Xhr")),this.Df=j,this.q.open(b,a,j),this.Df=l}catch(e){af(this.B,rf(this,"Error opening Xhr: "+e.message));sf(this,e);return}var a=c||
"",g=this.headers.clone();d&&Je(d,function(a,b){g.set(b,a)});d=ga.FormData&&a instanceof ga.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.xb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Je(g,function(a,b){this.q.setRequestHeader(b,a)},this);this.Ie&&(this.q.responseType=this.Ie);"withCredentials"in this.q&&(this.q.withCredentials=this.ol);try{this.mc&&(Ge.clearTimeout(this.mc),this.mc=k),0<this.Qe&&(af(this.B,rf(this,"Will abort after "+
this.Qe+"ms if incomplete")),this.mc=Ge.setTimeout(q(this.el,this),this.Qe)),af(this.B,rf(this,"Sending request")),this.ne=j,this.q.send(a),this.ne=l}catch(h){af(this.B,rf(this,"Send error: "+h.message)),sf(this,h)}};n.el=function(){"undefined"!=typeof fa&&this.q&&(this.qd="Timed out after "+this.Qe+"ms, aborting",this.pd=8,af(this.B,rf(this,this.qd)),this.dispatchEvent("timeout"),this.abort(8))};function sf(a,b){a.ob=l;a.q&&(a.$b=j,a.q.abort(),a.$b=l);a.qd=b;a.pd=5;uf(a);vf(a)}
function uf(a){a.rf||(a.rf=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}n.abort=function(a){this.q&&this.ob&&(af(this.B,rf(this,"Aborting")),this.ob=l,this.$b=j,this.q.abort(),this.$b=l,this.pd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vf(this))};n.k=function(){this.q&&(this.ob&&(this.ob=l,this.$b=j,this.q.abort(),this.$b=l),vf(this,j));nf.e.k.call(this)};n.pi=function(){!this.Df&&!this.ne&&!this.$b?this.uk():wf(this)};n.uk=function(){wf(this)};
function wf(a){if(a.ob&&"undefined"!=typeof fa)if(a.We[1]&&4==xf(a)&&2==yf(a))af(a.B,rf(a,"Local request error detected and ignored"));else if(a.ne&&4==xf(a))Ge.setTimeout(q(a.pi,a),0);else if(a.dispatchEvent("readystatechange"),4==xf(a)){af(a.B,rf(a,"Request complete"));a.ob=l;try{var b=yf(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var e;if(e=0===b){var g=String(a.rd).match(mf)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);e=!of.test(g?g.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.pd=6;var m;try{m=2<xf(a)?a.q.statusText:""}catch(s){af(a.B,"Can not get status: "+s.message),m=""}a.qd=m+" ["+yf(a)+"]";uf(a)}}finally{vf(a)}}}
function vf(a,b){if(a.q){var c=a.q,d=a.We[0]?la:k;a.q=k;a.We=k;a.mc&&(Ge.clearTimeout(a.mc),a.mc=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){$e(a.B,"Problem encountered resetting onreadystatechange: "+e.message)}}}n.sb=function(){return!!this.q};function xf(a){return a.q?a.q.readyState:0}function yf(a){try{return 2<xf(a)?a.q.status:-1}catch(b){return a.B.log(Ve,"Can not get status: "+b.message,i),-1}}function V(a){if(a.q)return ef(a.q.responseText)}
function zf(a){try{if(!a.q)return k;if("response"in a.q)return a.q.response;switch(a.Ie){case "":case "text":return a.q.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.q)return a.q.mozResponseArrayBuffer}$e(a.B,"Response type "+a.Ie+" is not supported on this browser");return k}catch(b){return af(a.B,"Can not get response: "+b.message),k}}function rf(a,b){return b+" ["+a.Vh+" "+a.rd+" "+yf(a)+"]"};function W(){S.call(this);this.bd=[];this.oc={};this.subscribe(Af,this.$c,this);this.subscribe(Bf,this.Hg,this)}t(W,S);ma(W);n=W.prototype;n.get=function(a){return this.oc[a]};function Cf(a){if(a.K&&a.K.W())return a.K;if(a.re&&a.re.W())return a.re;for(var b=k,c=k,d=0;!c&&d<a.bd.length;)c=(b=!a.bd[d].Y?a.bd[d]:k)&&b.W(),d++;return b}n.Lf=function(a){Lb(a,q(function(a){this.Ye(a)},this))};n.Ye=function(a){var b=new ue(a);this.bd.push(b);this.oc[a.id]=b;b.Y&&(this.Y=b);this.c(Df,b);return b};
n.$c=function(a,b){if(a&&!this.K||a&&this.K&&this.K.id!=a.id){this.re=this.K;this.K=a;this.Hg(a.W());var c=a.W(),c=c&&!Ob(c.media.Db);T("/_changechannel",Ud(),"POST","channel="+a.id+"&friends="+c+(b?"&forced=true":""));te.a().$c(a,this.re)}};n.Hg=function(a){this.K&&(this.t&&u(this.K.Xd,function(a){Pb(this.t.media.Db,a.n.id)},this),a&&(this.t=a,u(this.K.Xd,function(b){b.Re||(a.media.Db[b.n.id]=b.n)})))};
function Ce(){var a=W.a();if(!a.Y){var b=U.a().h;a.Y=new ue({id:b.id,name:b.name.split(" ")[0]+"'s Channel"})}return a.Y}var Af="change-channel",Bf="next-program",Df="add-channel";function Ef(){S.call(this);this.subscribe(Ff,function(a){Ce().c(ve,a);T("/_addprogram",Ud(),"POST","channel_id="+W.a().Y.id+"&media_id="+a.media.id+"&async=true");Be(te.a(),a.media)},this);this.subscribe(Gf,function(a){T("/_started",Ud(),"POST","media_id="+a.id)},this)}t(Ef,S);ma(Ef);Ef.prototype.rg=ba("p");Ef.prototype.W=da("t");Ef.prototype.getCurrentTime=function(){return this.p&&this.p.getCurrentTime?this.p.getCurrentTime():0};
Ef.prototype.wh=function(){return this.p&&this.p.getCurrentTime?this.p.getCurrentTime():0};var Ff="play-async",Gf="playing";function Hf(){K.call(this);this.m=If;this.hd=this.startTime=k}t(Hf,ed);var If=0;Hf.prototype.Bb=function(){this.ma("begin")};Hf.prototype.Cb=function(){this.ma("end")};Hf.prototype.ma=function(a){this.dispatchEvent(a)};function Jf(){Hf.call(this);this.queue=[]}t(Jf,Hf);Jf.prototype.add=function(a){Va(this.queue,a)||(this.queue.push(a),L(a,"finish",this.jk,l,this))};Jf.prototype.k=function(){u(this.queue,function(a){a.$()});this.queue.length=0;Jf.e.k.call(this)};function Kf(){Jf.call(this);this.Da=0}t(Kf,Jf);
Kf.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.m==If)this.Da<this.queue.length&&this.queue[this.Da].m!=If&&this.queue[this.Da].stop(l),this.Da=0,this.Bb();else if(1==this.m)return l;this.ma("play");-1==this.m&&this.ma("resume");this.startTime=r();this.hd=k;this.m=1;this.queue[this.Da].play(a);return j};
Kf.prototype.stop=function(a){this.m=If;this.hd=r();if(a)for(a=this.Da;a<this.queue.length;++a){var b=this.queue[a];b.m==If&&b.play();b.m==If||b.stop(j)}else this.Da<this.queue.length&&this.queue[this.Da].stop(l);this.ma("stop");this.Cb()};Kf.prototype.jk=function(){1==this.m&&(this.Da++,this.Da<this.queue.length?this.queue[this.Da].play():(this.hd=r(),this.m=If,this.ma("finish"),this.Cb()))};function Lf(a,b,c){K.call(this);this.wb=a;this.ia=b||0;this.N=c;this.ff=q(this.fd,this)}t(Lf,K);n=Lf.prototype;n.ga=0;n.k=function(){Lf.e.k.call(this);this.stop();delete this.wb;delete this.N};n.start=function(a){this.stop();this.ga=R(this.ff,ja(a)?a:this.ia)};n.stop=function(){this.sb()&&Ge.clearTimeout(this.ga);this.ga=0};n.ph=function(){this.stop();this.fd()};n.sb=function(){return 0!=this.ga};n.fd=function(){this.ga=0;this.wb&&this.wb.call(this.N)};var Ud;Ud=ea(k);var Mf={},Nf=k;function Of(a){a=ua(a);delete Mf[a];Ob(Mf)&&Nf&&Nf.stop()}function Pf(){Nf||(Nf=new Lf(function(){var a=r();Lb(Mf,function(c){Qf(c,a)});Ob(Mf)||Pf()},20));var a=Nf;a.sb()||a.start()};function Rf(a,b,c,d){Hf.call(this);(!pa(a)||!pa(b))&&f(Error("Start and end parameters must be arrays"));a.length!=b.length&&f(Error("Start and end points must be the same length"));this.Kd=a;this.tj=b;this.duration=c;this.Mg=d;this.coords=[];this.Ud=l}t(Rf,Hf);n=Rf.prototype;n.qh=0;n.wa=0;n.If=k;
n.play=function(a){if(a||this.m==If)this.wa=0,this.coords=this.Kd;else if(1==this.m)return l;Of(this);this.startTime=a=r();-1==this.m&&(this.startTime-=this.duration*this.wa);this.hd=this.startTime+this.duration;this.If=this.startTime;this.wa||this.Bb();this.ma("play");-1==this.m&&this.ma("resume");this.m=1;var b=ua(this);b in Mf||(Mf[b]=this);Pf();Qf(this,a);return j};n.stop=function(a){Of(this);this.m=If;a&&(this.wa=1);Sf(this,this.wa);this.ma("stop");this.Cb()};n.wh=da("wa");
n.k=function(){this.m==If||this.stop(l);this.ma("destroy");Rf.e.k.call(this)};function Qf(a,b){a.wa=(b-a.startTime)/(a.hd-a.startTime);1<=a.wa&&(a.wa=1);a.qh=1E3/(b-a.If);a.If=b;Sf(a,a.wa);1==a.wa?(a.m=If,Of(a),a.ma("finish"),a.Cb()):1==a.m&&a.Wf()}function Sf(a,b){sa(a.Mg)&&(b=a.Mg(b));a.coords=Array(a.Kd.length);for(var c=0;c<a.Kd.length;c++)a.coords[c]=(a.tj[c]-a.Kd[c])*b+a.Kd[c]}n.Wf=function(){this.ma("animate")};n.ma=function(a){this.dispatchEvent(new Tf(a,this))};
function Tf(a,b){Gc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.zm=b.coords[2];this.duration=b.duration;this.wa=b.wh();this.cm=b.qh;this.state=b.m;this.Ll=b}t(Tf,Gc);function Uf(a,b,c,d,e){Rf.call(this,b,c,d,e);this.element=a}t(Uf,Rf);n=Uf.prototype;n.Sd=la;n.Ph=function(){ja(this.Ja)||(this.Ja=qd(this.element));return this.Ja};n.Wf=function(){this.Sd();Uf.e.Wf.call(this)};n.Cb=function(){this.Sd();Uf.e.Cb.call(this)};n.Bb=function(){this.Sd();Uf.e.Bb.call(this)};function Vf(a,b,c,d,e){(2!=b.length||2!=c.length)&&f(Error("Start and end points must be 2D"));Uf.apply(this,arguments)}t(Vf,Uf);
Vf.prototype.Sd=function(){if(this.Ud){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=qd(a)?ob?-b:!v||!z("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function Wf(a,b,c,d,e){ra(b)&&(b=[b]);ra(c)&&(c=[c]);Uf.call(this,a,b,c,d,e);(1!=b.length||1!=c.length)&&f(Error("Start and end points must be 1D"))}t(Wf,Uf);Wf.prototype.Sd=function(){ud(this.element,this.coords[0])};
Wf.prototype.show=function(){this.element.style.display=""};Wf.prototype.hide=function(){this.element.style.display="none"};function Xf(a,b,c){Wf.call(this,a,1,0,b,c)}t(Xf,Wf);Xf.prototype.Bb=function(){this.show();Xf.e.Bb.call(this)};Xf.prototype.Cb=function(){this.hide();Xf.e.Cb.call(this)};function Yf(a,b,c){Wf.call(this,a,0,1,b,c)}t(Yf,Wf);Yf.prototype.Bb=function(){this.show();Yf.e.Bb.call(this)};function Zf(a){return a*a*a}function $f(a){return 1-Math.pow(1-a,3)};function ag(a,b,c,d,e){if(!v&&(!w||!z("525")))return j;if(gb&&e)return bg(a);if(e&&!d||!c&&(17==b||18==b)||v&&d&&b==a)return l;switch(a){case 13:return!(v&&Ab(9));case 27:return!w}return bg(a)}function bg(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||w&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function cg(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function dg(){}var eg;ma(dg);n=dg.prototype;n.wc=aa();n.M=function(a){var b=a.Ha().M("div",fg(this,a).join(" "),a.Pa);gg(this,a,b);return b};n.Ta=function(a){return a};n.gd=function(a,b,c){if(a=a.b?a.b():a)if(v&&!z("7")){var d=hg(Gb(a),b);d.push(b);za(c?A:B,a).apply(k,d)}else E(a,b,c)};n.Pb=ea(j);
n.i=function(a,b){if(b.id){var c=b.id;a.J&&a.J.ba&&(Pb(a.J.ba,a.ga),Qb(a.J.ba,c,a));a.ga=c}(c=this.Ta(b))&&c.firstChild?(c=c.firstChild.nextSibling?Ya(c.childNodes):c.firstChild,a.Pa=c):a.Pa=k;var d=0,e=this.fa(),g=this.fa(),h=l,m=l,c=l,s=Gb(b);u(s,function(a){if(!h&&a==e)h=j,g==e&&(m=j);else if(!m&&a==g)m=j;else{var b=d;if(!this.Mi){this.ce||ig(this);var c=this.ce,s={},y;for(y in c)s[c[y]]=y;this.Mi=s}a=parseInt(this.Mi[a],10);d=b|(isNaN(a)?0:a)}},this);a.m=d;h||(s.push(e),g==e&&(m=j));m||s.push(g);
var y=a.Fa;y&&s.push.apply(s,y);if(v&&!z("7")){var x=hg(s);0<x.length&&(s.push.apply(s,x),c=j)}if(!h||!m||y||c)b.className=s.join(" ");gg(this,a,b);return b};n.Kh=function(a){a.Ph()&&this.lc(a.b(),j);a.isEnabled()&&this.Oc(a,a.Va())};function gg(a,b,c){b.isEnabled()||a.Ma(c,1,j);jg(b,8)&&a.Ma(c,8,j);b.da&16&&a.Ma(c,16,jg(b,16));b.da&64&&a.Ma(c,64,jg(b,64))}
n.Nc=function(a,b){var c=!b,d=v||nb?a.getElementsByTagName("*"):k;if(vd){if(c=c?"none":"",a.style[vd]=c,d)for(var e=0,g;g=d[e];e++)g.style[vd]=c}else if(v||nb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};n.lc=function(a,b){this.gd(a,this.fa()+"-rtl",b)};n.Gf=function(a){var b;return a.da&32&&(b=a.rb())?lc(b):l};
n.Oc=function(a,b){var c;if(a.da&32&&(c=a.rb())){if(!b&&a.oe()){try{c.blur()}catch(d){}a.oe()&&a.xh()}lc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};n.ab=function(a,b){O(a,b)};n.ka=function(a,b,c){var d=a.b();if(d){var e=kg(this,b);e&&this.gd(a,e,c);this.Ma(d,b,c)}};n.Ma=function(a,b,c){eg||(eg={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=eg[b])&&a.setAttribute("aria-"+b,c)};
n.kc=function(a,b){var c=this.Ta(a);if(c&&(bc(c),b))if(p(b))ic(c,b);else{var d=function(a){if(a){var b=Vb(c);c.appendChild(p(a)?b.createTextNode(a):a)}};pa(b)?u(b,d):qa(b)&&!("nodeType"in b)?u(Ya(b),d):d(b)}};n.rb=function(a){return a.b()};n.fa=ea("goog-control");function fg(a,b){var c=a.fa(),d=[c],e=a.fa();e!=c&&d.push(e);c=b.m;for(e=[];c;){var g=c&-c;e.push(kg(a,g));c&=~g}d.push.apply(d,e);(c=b.Fa)&&d.push.apply(d,c);v&&!z("7")&&d.push.apply(d,hg(d));return d}
function hg(a,b){var c=[];b&&(a=a.concat([b]));u([],function(d){Sa(d,za(Va,a))&&(!b||Va(d,b))&&c.push(d.join("_"))});return c}function kg(a,b){a.ce||ig(a);return a.ce[b]}function ig(a){var b=a.fa();a.ce={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function lg(){}t(lg,dg);ma(lg);n=lg.prototype;n.wc=ea("button");n.Ma=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):lg.e.Ma.call(this,a,b,c)};n.M=function(a){var b=lg.e.M.call(this,a),c=a.ld();c&&this.sg(b,c);(c=a.r())&&this.oa(b,c);a.da&16&&this.Ma(b,16,jg(a,16));return b};n.i=function(a,b){var b=lg.e.i.call(this,a,b),c=this.r(b);a.Jg=c;a.Bg=this.ld(b);a.da&16&&this.Ma(b,16,jg(a,16));return b};n.r=la;n.oa=la;n.ld=function(a){return a.title};n.sg=function(a,b){a&&(a.title=b||"")};n.fa=ea("goog-button");function mg(a,b){K.call(this);a&&ng(this,a,b)}t(mg,ed);n=mg.prototype;n.d=k;n.pe=k;n.Hf=k;n.qe=k;n.ub=-1;n.tb=-1;n.cf=l;
var og={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},pg={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},qg=v||w&&z("525"),rg=gb&&ob;n=mg.prototype;
n.Ij=function(a){if(w&&(17==this.ub&&!a.ctrlKey||18==this.ub&&!a.altKey))this.tb=this.ub=-1;qg&&!ag(a.keyCode,this.ub,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.tb=ob?cg(a.keyCode):a.keyCode,rg&&(this.cf=a.altKey))};n.Kj=function(a){this.tb=this.ub=-1;this.cf=a.altKey};
n.handleEvent=function(a){var b=a.ea,c,d,e=b.altKey;v&&"keypress"==a.type?(c=this.tb,d=13!=c&&27!=c?b.keyCode:0):w&&"keypress"==a.type?(c=this.tb,d=0<=b.charCode&&63232>b.charCode&&bg(c)?b.charCode:0):nb?(c=this.tb,d=bg(c)?b.keyCode:0):(c=b.keyCode||this.tb,d=b.charCode||0,rg&&(e=this.cf),gb&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in og?g=og[c]:25==c&&a.shiftKey&&(g=9):h&&h in pg&&(g=pg[h]);a=g==this.ub;this.ub=g;b=new sg(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};n.b=da("d");
function ng(a,b,c){a.qe&&a.detach();a.d=b;a.pe=L(a.d,"keypress",a,c);a.Hf=L(a.d,"keydown",a.Ij,c,a);a.qe=L(a.d,"keyup",a.Kj,c,a)}n.detach=function(){this.pe&&(Xc(this.pe),Xc(this.Hf),Xc(this.qe),this.qe=this.Hf=this.pe=k);this.d=k;this.tb=this.ub=-1};n.k=function(){mg.e.k.call(this);this.detach()};function sg(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}t(sg,Kc);function tg(a,b){a||f(Error("Invalid class name "+a));sa(b)||f(Error("Invalid decorator function "+b))}var ug={};function vg(a,b,c){Q.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ua(b);if(d=ug[d])break;b=b.e?b.e.constructor:k}b=d?sa(d.a)?d.a():new d:k}this.F=b;this.Pa=a}t(vg,Q);n=vg.prototype;n.Pa=k;n.m=0;n.da=39;n.eb=255;n.Zk=0;n.Ve=j;n.Fa=k;n.zf=j;n.Zd=l;n.yi=k;function wg(a){a.U&&l!=a.zf&&xg(a,l);a.zf=l}n.rb=function(){return this.F.rb(this)};
n.gd=function(a,b){b?a&&(this.Fa?Va(this.Fa,a)||this.Fa.push(a):this.Fa=[a],this.F.gd(this,a,j)):a&&this.Fa&&(Wa(this.Fa,a),0==this.Fa.length&&(this.Fa=k),this.F.gd(this,a,l))};n.M=function(){var a=this.F.M(this);this.d=a;var b=this.yi||this.F.wc();b&&a.setAttribute("role",b);this.Zd||this.F.Nc(a,l);this.Va()||this.F.ab(a,l)};n.Ta=function(){return this.F.Ta(this.b())};n.Pb=function(a){return this.F.Pb(a)};
n.u=function(a){this.d=a=this.F.i(this,a);var b=this.yi||this.F.wc();b&&a.setAttribute("role",b);this.Zd||this.F.Nc(a,l);this.Ve="none"!=a.style.display};n.z=function(){vg.e.z.call(this);this.F.Kh(this);if(this.da&-2&&(this.zf&&xg(this,j),this.da&32)){var a=this.rb();if(a){var b=this.Cc||(this.Cc=new mg);ng(b,a);M(M(M(this.j(),b,"key",this.Jj),a,"focus",this.Gj),a,"blur",this.xh)}}};
function xg(a,b){var c=a.j(),d=a.b();b?(M(M(M(M(c,d,"mouseover",a.Ch),d,"mousedown",a.Ah),d,"mouseup",a.Dh),d,"mouseout",a.Bh),a.le!=la&&M(c,d,"contextmenu",a.le),v&&M(c,d,"dblclick",a.yh)):(cd(cd(cd(cd(c,d,"mouseover",a.Ch),d,"mousedown",a.Ah),d,"mouseup",a.Dh),d,"mouseout",a.Bh),a.le!=la&&cd(c,d,"contextmenu",a.le),v&&cd(c,d,"dblclick",a.yh))}n.Xb=function(){vg.e.Xb.call(this);this.Cc&&this.Cc.detach();this.Va()&&this.isEnabled()&&this.F.Oc(this,l)};
n.k=function(){vg.e.k.call(this);this.Cc&&(this.Cc.$(),delete this.Cc);delete this.F;this.Fa=this.Pa=k};n.kc=function(a){this.F.kc(this.b(),a);this.Pa=a};n.uh=function(){var a=this.Pa;return!a?"":(p(a)?a:pa(a)?Ra(a,oc).join(""):mc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};n.lc=function(a){vg.e.lc.call(this,a);var b=this.b();b&&this.F.lc(b,a)};n.Nc=function(a){this.Zd=a;var b=this.b();b&&this.F.Nc(b,a)};n.Va=da("Ve");
n.ab=function(a,b){if(b||this.Ve!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.F.ab(c,a);this.isEnabled()&&this.F.Oc(this,a);this.Ve=a;return j}return l};n.isEnabled=function(){return!jg(this,1)};n.Gb=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&yg(this,1,!a))a||(this.setActive(l),zg(this,l)),this.Va()&&this.F.Oc(this,a),this.ka(1,!a)};function zg(a,b){yg(a,2,b)&&a.ka(2,b)}n.sb=function(){return jg(this,4)};
n.setActive=function(a){yg(this,4,a)&&this.ka(4,a)};function Ag(a,b){yg(a,16,b)&&a.ka(16,b)}n.oe=function(){return jg(this,32)};n.ja=function(a){yg(this,32,a)&&this.ka(32,a)};function jg(a,b){return!!(a.m&b)}n.ka=function(a,b){this.da&a&&b!=jg(this,a)&&(this.F.ka(this,a,b),this.m=b?this.m|a:this.m&~a)};function Bg(a,b,c){a.U&&(jg(a,b)&&!c)&&f(Error("Component already rendered"));!c&&jg(a,b)&&a.ka(b,l);a.da=c?a.da|b:a.da&~b}function Cg(a,b){return!!(a.eb&b)&&!!(a.da&b)}
function yg(a,b,c){return!!(a.da&b)&&jg(a,b)!=c&&(!(a.Zk&b)||a.dispatchEvent(Ed(b,c)))&&!a.fe}n.Ch=function(a){(!a.relatedTarget||!hc(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&Cg(this,2))&&zg(this,j)};n.Bh=function(a){if((!a.relatedTarget||!hc(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))Cg(this,4)&&this.setActive(l),Cg(this,2)&&zg(this,l)};n.le=la;
n.Ah=function(a){this.isEnabled()&&(Cg(this,2)&&zg(this,j),Mc(a)&&(Cg(this,4)&&this.setActive(j),this.F.Gf(this)&&this.rb().focus()));!this.Zd&&Mc(a)&&a.preventDefault()};n.Dh=function(a){this.isEnabled()&&(Cg(this,2)&&zg(this,j),this.sb()&&(this.Ad(a)&&Cg(this,4))&&this.setActive(l))};n.yh=function(a){this.isEnabled()&&this.Ad(a)};
n.Ad=function(a){Cg(this,16)&&Ag(this,!jg(this,16));Cg(this,8)&&yg(this,8,j)&&this.ka(8,j);if(Cg(this,64)){var b=!jg(this,64);yg(this,64,b)&&this.ka(64,b)}b=new Gc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.fg=a.fg);return this.dispatchEvent(b)};n.Gj=function(){Cg(this,32)&&this.ja(j)};n.xh=function(){Cg(this,4)&&this.setActive(l);Cg(this,32)&&this.ja(l)};
n.Jj=function(a){return this.Va()&&this.isEnabled()&&this.yf(a)?(a.preventDefault(),a.stopPropagation(),j):l};n.yf=function(a){return 13==a.keyCode&&this.Ad(a)};sa(vg)||f(Error("Invalid component class "+vg));sa(dg)||f(Error("Invalid renderer class "+dg));var Dg=ua(vg);ug[Dg]=dg;tg("goog-control",function(){return new vg(k)});function Eg(){}t(Eg,lg);ma(Eg);n=Eg.prototype;n.wc=aa();n.M=function(a){wg(a);a.eb&=-256;Bg(a,32,l);return a.Ha().M("button",{"class":fg(this,a).join(" "),disabled:!a.isEnabled(),title:a.ld()||"",value:a.r()||""},a.uh()||"")};n.Pb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};n.i=function(a,b){wg(a);a.eb&=-256;Bg(a,32,l);b.disabled&&A(b,kg(this,1));return Eg.e.i.call(this,a,b)};n.Kh=function(a){M(a.j(),a.b(),"click",a.Ad)};n.Nc=la;
n.lc=la;n.Gf=function(a){return a.isEnabled()};n.Oc=la;n.ka=function(a,b,c){Eg.e.ka.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.r=function(a){return a.value};n.oa=function(a,b){a&&(a.value=b)};n.Ma=la;function Fg(a,b,c){vg.call(this,a,b||Eg.a(),c)}t(Fg,vg);n=Fg.prototype;n.r=da("Jg");n.oa=function(a){this.Jg=a;this.F.oa(this.b(),a)};n.ld=da("Bg");n.sg=function(a){this.Bg=a;this.F.sg(this.b(),a)};n.k=function(){Fg.e.k.call(this);delete this.Jg;delete this.Bg};n.z=function(){Fg.e.z.call(this);if(this.da&32){var a=this.rb();a&&M(this.j(),a,"keyup",this.yf)}};n.yf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Ad(a):32==a.keyCode};tg("goog-button",function(){return new Fg(k)});function Gg(){}t(Gg,lg);ma(Gg);n=Gg.prototype;n.M=function(a){var b={"class":"goog-inline-block "+fg(this,a).join(" "),title:a.ld()||""},b=a.Ha().M("div",b,Hg(this,a.Pa,a.Ha()));gg(this,a,b);return b};n.wc=ea("button");n.Ta=function(a){return a&&a.firstChild.firstChild};function Hg(a,b,c){return c.M("div","goog-inline-block "+(a.fa()+"-outer-box"),c.M("div","goog-inline-block "+(a.fa()+"-inner-box"),b))}n.Pb=function(a){return"DIV"==a.tagName};
n.i=function(a,b){Ig(b,j);Ig(b,l);var c;a:{c=sc(a.Ha(),b);var d=this.fa()+"-outer-box";if(c&&D(c,d)&&(c=sc(a.Ha(),c),d=this.fa()+"-inner-box",c&&D(c,d))){c=j;break a}c=l}c||b.appendChild(Hg(this,b.childNodes,a.Ha()));A(b,"goog-inline-block",this.fa());return Gg.e.i.call(this,a,b)};n.fa=ea("goog-custom-button");
function Ig(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ca(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Jg(a,b,c){Fg.call(this,a,b||Gg.a(),c)}t(Jg,Fg);tg("goog-custom-button",function(){return new Jg(k)});function Kg(){Q.call(this)}t(Kg,Q);n=Kg.prototype;
n.z=function(){Kg.e.z.call(this);(this.t=(this.fh=W.a().K)&&this.fh.W())&&r();this.Zb=G("fullscreen",this.b());var a=G("expand",this.b());O(this.Zb,this.Ni());this.Pc=F("stagecover");this.ci=G("message",this.Pc);this.s=G("spinner",this.Pc);this.Ed=G("restart",this.Pc);this.Lg=G("vote",this.b());this.dc=G("like",this.b());this.Sb=G("dislike",this.b());var b=new mg(document);Lg(this);this.t?Mg(this,this.t):Ef.a().c("no-media");M(M(M(M(M(M(M(M(M(this.j(),window,"resize",q(this.resize,this)),document,
"webkitfullscreenchange",q(function(){Hb(this.Zb,"full")},this)),document,"mozfullscreenchange",q(function(){Hb(this.Zb,"full")},this)),document,"fullscreenchange",q(function(){Hb(this.Zb,"full")},this)),this.Zb,"click",q(function(a){if(D(this.Zb,"full"))document.kj&&document.kj(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();else{var b=G("main");b.Ai&&b.Ai();b.webkitRequestFullScreen&&b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
b.mozRequestFullScreen&&b.mozRequestFullScreen()}a.stopPropagation();a.preventDefault()},this)),a,"click",q(this.gl,this)),this.b(),"mousemove",q(function(a){var b=a.offsetX/this.ta,a=a.offsetY/this.aj;if(0.7<b&&1>b&&0.7<a&&1>a&&(this.Bd==YT.PlayerState.PLAYING||this.Bd==YT.PlayerState.PAUSED))A(this.Pc,"click-through"),R(q(function(){B(this.Pc,"click-through")},this),500)},this)),b,"key",q(function(a){"32"==a.keyCode&&Ng(this)},this)),this.Pc,"click",q(function(a){!D(F("queue"),"show")&&(!D(F("search"),
"show")&&!pc(a.target,k,"queue")&&!pc(a.target,k,"search"))&&Ng(this)},this));W.a().subscribe(Af,this.$c,this);W.a().subscribe(Bf,function(a){this.t=a;Mg(this,a);Lg(this)},this);Ef.a().subscribe(Ff,this.Ak,this);Ef.a().subscribe("seek",this.Ok,this);Ef.a().subscribe("before-end",function(){Lg(this,j)},this);DESKTOP&&(M(M(M(this.j(),this.Ed,"click",q(function(a){a.preventDefault();a.stopPropagation();this.t&&Mg(this,this.t)},this)),this.dc,"click",q(this.ni,this,this.dc,j)),this.Sb,"click",q(this.ni,
this,this.Sb,l)),Y.a().subscribe(Og,function(a){this.resize(a)},this),Y.a().subscribe(Pg,function(){R(q(this.resize,this))},this),Y.a().subscribe(Qg,function(a){a?this.p.playVideo():this.p.pauseVideo();var a=G(a?"play":"pause",this.b()),b=new Kf;b.add(new Yf(a,250,$f));b.add(new Xf(a,250,Zf));b.play()},this),Y.a().subscribe(Rg,function(a){this.p&&(a?this.p.mute():this.p.unMute())},this),Y.a().subscribe(Sg,function(){this.p.seekTo(0)},this));this.resize()};
function Ng(a){if(a.p&&a.p.getPlayerState&&DESKTOP)switch(a.p.getPlayerState()){case YT.PlayerState.PLAYING:Y.a().c(Qg,l);break;case YT.PlayerState.PAUSED:Y.a().c(Qg,j)}}n.Ni=function(){var a=G("main");return!(!a.Ai&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};n.gl=function(a){a.preventDefault();a.stopPropagation();Z.a();a=!D(F("sidebar"),"toggled");DESKTOP&&(Y.a().c(Og,a),Y.a().c(Pg,a))};
function Mg(a,b){Ef.a().t=b;a.Yj!=b.id&&(Kd.a().c(Ld,"Now playing",b.media.name,i,b.media.zg,"#info:"+b.media.id),a.Yj=b.id);a.play(b.media);DESKTOP&&T("/_like/"+b.media.id,q(function(a){a=V(a.target);E(this.dc,"checked",a.liked||D(this.dc,"checked"));E(this.Sb,"checked",a.disliked||D(this.Sb,"checked"))},a))}
n.play=function(a,b){!this.p||!this.p.loadVideoById?(this.p=new YT.Player("ytplayer",{height:Zb().height-40,width:Zb().width,videoId:a.zc,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque",origin:HOST_URL,enablejsapi:1},events:{onStateChange:q(this.Ck,this),onReady:q(this.sk,this),onError:q(this.rk,this)}}),Ef.a().rg(this.p)):(this.p.cueVideoById(a.zc),R(q(function(){var c=b||0;!this.p.getPlayerState()&&4>c?this.play(a,++c):4<=c&&Lg(this,i,j)},this),1E3))};
n.resize=function(){if(IPHONE)this.b().style.width=rd(Zb().width-320,j);else{var a=F("stagecover"),b=G("message",a),c=F("guide").style.height,c=c.substring(0,c.length-2),c=Y.a().xf?c:40,d=Y.a().ug?320:0;this.aj=Zb().height-c;this.ta=Zb().width-d;sd(this.b(),Zb().height-c);this.b().style.width=rd(Zb().width-d,j);sd(a,Zb().height-c);a.style.width=rd(Zb().width-d,j);a=N(b);hd(b,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});E(this.Zb,"full",this.Ni&&(document.fullScreen||document.webkitIsFullScreen||
document.gm))}};n.$c=function(a){if(a=a.W())this.t=a,Mg(this,a);Lg(this)};n.ni=function(a,b,c){c.preventDefault();c.stopPropagation();this.t&&(a=Hb(a,"checked"),(c=b&&D(this.Sb,"checked")||!b&&D(this.dc,"checked"))&&B(b?this.Sb:this.dc,"checked"),T(b?"/_like":"/_dislike",i,"POST","media_id="+this.t.media.id+(!a?"&delete=1":"")+(c?"&flip=1":"")))};n.Ak=function(a){this.t=a;Mg(this,a);Lg(this);T("/_optin",Ud(),"POST","media_id="+this.t.media.id)};n.Ok=function(a){this.p.seekTo&&this.p.seekTo(a,j)};
n.Ck=function(a){this.Bd=a.data;Lg(this);switch(a.data){case YT.PlayerState.CUED:a=this.t.async?this.t.seek:(r()-this.t.time.getTime())/1E3;this.p.seekTo(a);this.p.playVideo();Y.a().c(Qg,j);break;case YT.PlayerState.PLAYING:Ef.a().c(Gf,this.t.media);break;case YT.PlayerState.ENDED:U.a().h.ee.Le(this.t.media),E(this.dc,"checked",l),E(this.Sb,"checked",l),(a=W.a().K.W())?W.a().c(Bf,a):(Ef.a().t=k,W.a().c(Af,Cf(W.a()),j))}};
n.sk=function(){R(q(function(){if(this.p&&(!this.p.getPlayerState||!this.p.getPlayerState()))Mg(this,this.t);else if(this.p.getPlayerState()){this.p.setPlaybackQuality("large");var a=this.t.async?this.t.seek:(r()-this.t.time.getTime())/1E3;this.p.seekTo(a);this.p.playVideo();DESKTOP&&Y.a().c(Rg,this.p.isMuted())}},this),1E3)};n.rk=function(){Ef.a().c("no-media");Lg(this,i,j)};
function Lg(a,b,c){if(!IPHONE){var d=F("stagecover"),e=a.t?Ef.a().getCurrentTime():0;c?(O(a.s,l),O(a.Ed,j),A(d,"covered")):(!a.t||a.t&&e>a.t.media.duration?(Ef.a().c("no-media"),ic(a.ci.firstChild,Tg),O(a.s,l),O(a.Ed,l),O(a.Lg,l),A(d,"covered")):a.Bd!=YT.PlayerState.PLAYING&&a.Bd!=YT.PlayerState.PAUSED||b?(ic(a.ci.firstChild,Ug),O(a.s,j),O(a.Ed,l),O(a.Lg,l),A(d,"covered")):(O(a.s,l),O(a.Ed,l),B(d,"covered"),O(a.Lg,j)),ud(d,a.Bd==YT.PlayerState.BUFFERING?0.9:1),a.resize())}}
var Tg="THIS CHANNEL IS CURRENTLY OFFLINE",Ug="LOADING STORY";function Vg(a,b){Q.call(this,b);this.Wa=a||""}t(Vg,Q);Vg.prototype.Sa=k;var Wg="placeholder"in document.createElement("input");n=Vg.prototype;n.md=l;n.M=function(){this.d=this.Ha().M("input",{type:"text"})};n.u=function(a){Vg.e.u.call(this,a);this.Wa||(this.Wa=a.getAttribute("label")||"");var b;a:{var c=Vb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.md=j,B(this.b(),this.Wc));Wg?this.b().placeholder=this.Wa:this.b().setAttribute("aria-label",this.Wa)};
n.z=function(){Vg.e.z.call(this);var a=new ad(this);M(a,this.b(),"focus",this.zh);M(a,this.b(),"blur",this.Dj);Wg?this.C=a:(ob&&M(a,this.b(),["keypress","keydown","keyup"],this.Ej),M(a,Vb(this.b())?Vb(this.b()).parentWindow||Vb(this.b()).defaultView:window,"load",this.Mj),this.C=a,Xg(this));Yg(this);this.b().Vj=this};n.Xb=function(){Vg.e.Xb.call(this);this.C&&(this.C.$(),this.C=k);this.b().Vj=k};function Xg(a){!a.zj&&(a.C&&a.b().form)&&(M(a.C,a.b().form,"submit",a.Hj),a.zj=j)}
n.k=function(){Vg.e.k.call(this);this.C&&(this.C.$(),this.C=k)};n.Wc="label-input-label";n.zh=function(){this.md=j;B(this.b(),this.Wc);if(!Wg&&!Zg(this)&&!this.Sj){var a=this,b=function(){a.b().value=""};v?R(b,10):b()}};n.Dj=function(){Wg||(cd(this.C,this.b(),"click",this.zh),this.Sa=k);this.md=l;Yg(this)};n.Ej=function(a){27==a.keyCode&&("keydown"==a.type?this.Sa=this.b().value:"keypress"==a.type?this.b().value=this.Sa:"keyup"==a.type&&(this.Sa=k),a.preventDefault())};
n.Hj=function(){Zg(this)||(this.b().value="",R(this.Cj,10,this))};n.Cj=function(){Zg(this)||(this.b().value=this.Wa)};n.Mj=function(){Yg(this)};function Zg(a){return!!a.b()&&""!=a.b().value&&a.b().value!=a.Wa}n.clear=function(){this.b().value="";this.Sa!=k&&(this.Sa="")};n.reset=function(){Zg(this)&&(this.clear(),Yg(this))};n.oa=function(a){this.Sa!=k&&(this.Sa=a);this.b().value=a;Yg(this)};n.r=function(){return this.Sa!=k?this.Sa:Zg(this)?this.b().value:""};
function Yg(a){Wg?a.b().placeholder!=a.Wa&&(a.b().placeholder=a.Wa):(Xg(a),a.b().setAttribute("aria-label",a.Wa));Zg(a)?B(a.b(),a.Wc):(!a.Sj&&!a.md&&A(a.b(),a.Wc),Wg||R(a.Mk,10,a))}n.Gb=function(a){this.b().disabled=!a;E(this.b(),this.Wc+"-disabled",!a)};n.isEnabled=function(){return!this.b().disabled};n.Mk=function(){this.b()&&(!Zg(this)&&!this.md)&&(this.b().value=this.Wa)};function $g(a,b,c,d,e,g,h,m,s){var y,x;if(y=c.offsetParent){var C="HTML"==y.tagName||"BODY"==y.tagName;if(!C||"static"!=ld(y,"position"))x=pd(y),C||(C=(C=qd(y))&&ob?-y.scrollLeft:C&&(!v||!z("8"))?y.scrollWidth-y.clientWidth-y.scrollLeft:y.scrollLeft,x=Jb(x,new Ib(C,y.scrollTop)))}y=x||new Ib;x=pd(a);C=N(a);x=new gd(x.x,x.y,C.width,C.height);if(C=od(a)){var ca=new gd(C.left,C.top,C.right-C.left,C.bottom-C.top),C=Math.max(x.left,ca.left),X=Math.min(x.left+x.width,ca.left+ca.width);if(C<=X){var jb=Math.max(x.top,
ca.top),ca=Math.min(x.top+x.height,ca.top+ca.height);jb<=ca&&(x.left=C,x.top=jb,x.width=X-C,x.height=ca-jb)}}C=Tb(a);jb=Tb(c);if(C.w!=jb.w){var X=C.w.body,jb=jb.w.parentWindow||jb.w.defaultView,ca=new Ib(0,0),Jc=Vb(X)?Vb(X).parentWindow||Vb(X).defaultView:window,tf=X;do{var ia;if(Jc==jb)ia=pd(tf);else{ia=tf;var kb=new Ib;if(1==ia.nodeType){if(ia.getBoundingClientRect){var na=md(ia);kb.x=na.left;kb.y=na.top}else{var na=rc(Tb(ia)),La=pd(ia);kb.x=La.x-na.x;kb.y=La.y-na.y}ob&&!z(12)&&(na=i,na=i,v?na=
"-ms-transform":w?na="-webkit-transform":nb?na="-o-transform":ob&&(na="-moz-transform"),La=i,na&&(La=ld(ia,na)),La||(La=ld(ia,"transform")),La?(ia=La.match(Bd),na=!ia?new Ib(0,0):new Ib(parseFloat(ia[1]),parseFloat(ia[2]))):na=new Ib(0,0),kb=new Ib(kb.x+na.x,kb.y+na.y))}else na=sa(ia.Aj),La=ia,ia.targetTouches?La=ia.targetTouches[0]:na&&ia.ea.targetTouches&&(La=ia.ea.targetTouches[0]),kb.x=La.clientX,kb.y=La.clientY;ia=kb}ca.x+=ia.x;ca.y+=ia.y}while(Jc&&Jc!=jb&&(tf=Jc.frameElement)&&(Jc=Jc.parent));
X=Jb(ca,pd(X));v&&!qc(C)&&(X=Jb(X,rc(C)));x.left+=X.x;x.top+=X.y}a=(b&4&&qd(a)?b^2:b)&-5;b=new Ib(a&2?x.left+x.width:x.left,a&1?x.top+x.height:x.top);b=Jb(b,y);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var P;if(h)if(s)P=s;else if(P=od(c))P.top-=y.y,P.right-=y.x,P.bottom-=y.y,P.left-=y.x;a:{s=b.clone();e=0;a=(d&4&&qd(c)?d^2:d)&-5;d=N(c);m=m?m.clone():d.clone();if(g||0!=a)a&2?s.x-=m.width+(g?g.right:0):g&&(s.x+=g.left),a&1?s.y-=m.height+(g?g.bottom:0):g&&(s.y+=g.top);if(h){if(P){g=s;e=0;if(65==(h&
65)&&(g.x<P.left||g.x>=P.right))h&=-2;if(132==(h&132)&&(g.y<P.top||g.y>=P.bottom))h&=-5;g.x<P.left&&h&1&&(g.x=P.left,e|=1);g.x<P.left&&(g.x+m.width>P.right&&h&16)&&(m.width=Math.max(m.width-(g.x+m.width-P.right),0),e|=4);g.x+m.width>P.right&&h&1&&(g.x=Math.max(P.right-m.width,P.left),e|=1);h&2&&(e|=(g.x<P.left?16:0)|(g.x+m.width>P.right?32:0));g.y<P.top&&h&4&&(g.y=P.top,e|=2);g.y>=P.top&&(g.y+m.height>P.bottom&&h&32)&&(m.height=Math.max(m.height-(g.y+m.height-P.bottom),0),e|=8);g.y+m.height>P.bottom&&
h&4&&(g.y=Math.max(P.bottom-m.height,P.top),e|=2);h&8&&(e|=(g.y<P.top?64:0)|(g.y+m.height>P.bottom?128:0));h=e}else h=256;e=h;if(e&496){c=e;break a}}g=ob&&(gb||qb)&&z("1.9");s instanceof Ib?(h=s.x,s=s.y):(h=s,s=i);c.style.left=rd(h,g);c.style.top=rd(s,g);if(!(d==m||(!d||!m?0:d.width==m.width&&d.height==m.height)))g=qc(Tb(Vb(c))),v&&(!g||!z("8"))?(h=c.style,g?(g=xd(c,"padding"),c=Ad(c),h.pixelWidth=m.width-c.left-g.left-g.right-c.right,h.pixelHeight=m.height-c.top-g.top-g.bottom-c.bottom):(h.pixelWidth=
m.width,h.pixelHeight=m.height)):(c=c.style,ob?c.MozBoxSizing="border-box":w?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(m.width,0)+"px",c.height=Math.max(m.height,0)+"px");c=e}return c};function ah(){}ah.prototype.$a=aa();function bh(a,b,c){this.element=a;this.nf=b;this.zk=c}t(bh,ah);bh.prototype.$a=function(a,b,c){$g(this.element,this.nf,a,b,i,c,this.zk)};function ch(a,b,c,d){bh.call(this,a,b);this.Zj=c?5:0;this.bg=d||i}t(ch,bh);ch.prototype.$a=function(a,b,c,d){var e=$g(this.element,this.nf,a,b,k,c,10,d,this.bg);if(e&496){var g=dh(e,this.nf),b=dh(e,b),e=$g(this.element,g,a,b,k,c,10,d,this.bg);e&496&&(g=dh(e,g),b=dh(e,b),$g(this.element,g,a,b,k,c,this.Zj,d,this.bg))}};function dh(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function eh(a,b){K.call(this);this.N=new ad(this);this.Bc&&f(Error("Can not change this state of the popup while showing."));this.d=a||k;b&&this.Fi(b)}t(eh,ed);n=eh.prototype;n.d=k;n.ij=j;n.Ug=k;n.Bc=l;n.Qk=l;n.Jf=-1;n.Th=-1;n.Oj=l;n.sj=j;n.Mb="toggle_display";n.Fi=ba("Mb");n.b=da("d");n.Va=da("Bc");n.ab=function(a){this.Hd&&this.Hd.stop();this.nd&&this.nd.stop();a?this.Pe():this.yc()};n.$a=la;
n.Pe=function(){if(!this.Bc&&this.dispatchEvent("beforeshow")){this.d||f(Error("Caller must call setElement before trying to show the popup"));this.$a();var a=Vb(this.d);this.Oj&&M(this.N,a,"keydown",this.lk,j);if(this.ij)if(M(this.N,a,"mousedown",this.mi,j),v){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}M(this.N,a,"mousedown",this.mi,j);M(this.N,a,"deactivate",this.li)}else M(this.N,
a,"blur",this.li);"toggle_display"==this.Mb?(this.d.style.visibility="visible",O(this.d,j)):"move_offscreen"==this.Mb&&this.$a();this.Bc=j;this.Hd?(Uc(this.Hd,"end",this.ri,l,this),this.Hd.play()):this.ri()}};n.yc=function(a){if(!this.Bc||!this.dispatchEvent({type:"beforehide",target:a}))return l;this.N&&dd(this.N);this.Bc=l;this.Th=r();this.nd?(Uc(this.nd,"end",za(this.dh,a),l,this),this.nd.play()):this.dh(a);return j};
n.dh=function(a){"toggle_display"==this.Mb?this.Qk?R(this.Gh,0,this):this.Gh():"move_offscreen"==this.Mb&&(this.d.style.top="-10000px");this.dispatchEvent({type:"hide",target:a})};n.Gh=function(){this.d.style.visibility="hidden";O(this.d,l)};n.ri=function(){this.Jf=r();this.Th=-1;this.dispatchEvent("show")};n.mi=function(a){a=a.target;!hc(this.d,a)&&((!this.Ug||hc(this.Ug,a))&&!(150>r()-this.Jf))&&this.yc(a)};n.lk=function(a){27==a.keyCode&&this.yc(a.target)&&(a.preventDefault(),a.stopPropagation())};
n.li=function(a){if(this.sj){var b=Vb(this.d);if(v||nb){if(a=b.activeElement,!a||hc(this.d,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>r()-this.Jf||this.yc()}};n.k=function(){eh.e.k.call(this);this.N.$();Cc(this.Hd);Cc(this.nd);delete this.d;delete this.N};function fh(a,b){this.wi=4;this.hg=b||i;eh.call(this,a)}t(fh,eh);function gh(a,b){a.wi=b;a.Va()&&a.$a()}function hh(a,b){a.hg=b||i;a.Va()&&a.$a()}function ih(a,b,c,d,e){a.ck=b==k||b instanceof fd?b:new fd(b,c,d,e);a.Va()&&a.$a()}fh.prototype.$a=function(){if(this.hg){var a=!this.Va()&&"move_offscreen"!=this.Mb,b=this.b();a&&(b.style.visibility="hidden",O(b,j));this.hg.$a(b,this.wi,this.ck);a&&O(b,l)}};function jh(a,b,c){K.call(this);this.wb=a;this.ia=b;this.N=c;this.ff=q(this.wk,this)}t(jh,K);n=jh.prototype;n.Oe=l;n.ti=0;n.la=k;n.ph=function(){!this.la&&!this.ti?this.fd():this.Oe=j};n.stop=function(){this.la&&(Ge.clearTimeout(this.la),this.la=k,this.Oe=l)};n.k=function(){jh.e.k.call(this);this.stop()};n.wk=function(){this.la=k;this.Oe&&!this.ti&&(this.Oe=l,this.fd())};n.fd=function(){this.la=R(this.ff,this.ia);this.wb.call(this.N)};function kh(a,b){K.call(this);this.wb=a;this.N=b;this.Ra=new Lf(q(this.vk,this),0,this)}t(kh,K);n=kh.prototype;n.ia=0;n.mg=0;n.Nh=l;n.k=function(){this.Ra.$();delete this.wb;delete this.N;kh.e.k.call(this)};n.start=function(a,b){this.stop();this.Nh=l;var c=b||0;this.ia=Math.max(a||0,0);this.mg=0>c?-1:r()+c;this.Ra.start(0>c?this.ia:Math.min(this.ia,c))};n.stop=function(){this.Ra.stop()};n.sb=function(){return this.Ra.sb()};
n.vk=function(){if(this.wb.call(this.N))this.Nh=j;else if(0>this.mg)this.Ra.start(this.ia);else{var a=this.mg-r();0>=a||this.Ra.start(Math.min(this.ia,a))}};function lh(a){K.call(this);this.d=a;this.xd=this.d.value;this.C=new ad(this);this.Xa=r();w||v||ob&&z("1.9")?M(this.C,a,"paste",this.uc):M(this.C,a,["keydown","blur","focus","mouseover","input"],this.Fj);this.Ra=new kh(q(this.Xg,this))}t(lh,ed);n=lh.prototype;n.m="init";n.B=df("goog.events.PasteHandler");n.k=function(){lh.e.k.call(this);this.C.$();this.C=k;this.Ra.$();this.Ra=k};
n.Xg=function(){if(this.xd==this.d.value)return l;this.B.info("detected textchange after paste");this.dispatchEvent("after_paste");return j};n.uc=function(a){a=new Kc(a.ea);a.type="paste";this.dispatchEvent(a);R(function(){this.Xg()||this.Ra.start(50,200)},0,this)};
n.Fj=function(a){switch(this.m){case "init":switch(a.type){case "blur":this.m="init";break;case "focus":this.m="focused";break;case "mouseover":this.m="init";this.d.value!=this.xd&&(this.B.info("paste by dragdrop while on init!"),this.uc(a));break;default:$e(this.B,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.Xa+400;if(r()>b||"focus"==this.Hk)this.B.info("paste by textchange while focused!"),this.uc(a);break;case "blur":this.m="init";break;
case "keydown":this.B.info("key down ... looking for ctrl+v");if(gb&&nb&&0==a.keyCode||gb&&nb&&17==a.keyCode)break;this.m="typing";break;case "mouseover":this.d.value!=this.xd&&(this.B.info("paste by dragdrop while focused!"),this.uc(a));break;default:$e(this.B,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.m="focused";break;case "blur":this.m="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.B.info("paste by ctrl+v while keypressed!"),
this.uc(a);break;case "mouseover":this.d.value!=this.xd&&(this.B.info("paste by dragdrop while keypressed!"),this.uc(a));break;default:$e(this.B,"unexpected event "+a.type+" during keypressed")}break;default:$e(this.B,"invalid "+this.m+" state")}this.Xa=r();this.xd=this.d.value;this.B.info(a.type+" -> "+this.m);this.Hk=a.type};function mh(){return'<div class="popup" id="popup" style="visibility: hidden; display: none;"><div class="content"></div><div id="tailarrow"></div></div>'}function nh(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="tooltip">'+J(a.text)+"</div>"+(a.link?"</a>":"")}
function oh(){return'<div class="select-program"><div class="select-header">Suggest a Program</div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="paste a youtube link"/><div class="page2"></div></div></div></div>'}function ph(a){return'<div class="confirm-media"><img src="'+J(a.bl)+'" /><div class="title">'+J(a.title)+'</div><div class="dark button">Yes</div></div>'};function qh(){S.call(this)}t(qh,S);ma(qh);function rh(){var a=F("popup");a||(a=I(mh),document.body.appendChild(a));fh.call(this,a);L(window,"resize",q(this.ab,this,l));L(this,"hide",this.ok);this.tg=this.Bf=l;this.V=qh.a();this.V.subscribe("tooltip",this.Wk,this);this.V.subscribe("select-program",this.Sk,this);this.V.subscribe("hide",this.yc,this);L(this.b(),"mouseover",q(function(){this.Bf=j},this));L(this.b(),"mouseout",q(function(){this.Bf=l;this.tg&&this.V.c("hide")},this))}t(rh,fh);ma(rh);
function sh(a,b,c,d){L(b,"mouseover",q(function(){this.Zg&&Ge.clearTimeout(this.Zg);this.tg=l;this.V.c("tooltip",b,c,d)},a));L(b,"mouseout",q(function(){this.Zg=R(q(function(){this.Bf?this.tg=j:this.V.c("hide")},this),100)},a))}n=rh.prototype;n.ok=function(){this.yc();this.V.c("on-hide")};n.Ta=function(){return G("content",this.b())};
n.Wk=function(a,b,c){this.ab(l);"top"==b?(gh(this,1),b=-1*(N(this.b()).width-N(a).width)/2,ih(this,0,0,6,b),hh(this,new ch(a,4)),this.b().className="popup",A(this.b(),"top")):"left"==b&&(gh(this,0),b=-1*(N(this.b()).height-N(a).height)/2,ih(this,b,6,0,0),hh(this,new ch(a,6)),this.b().className="popup",A(this.b(),"left"));uc(this.Ta(),nh,{text:c.text,link:c.link});this.ab(j)};
n.Sk=function(a,b){this.ab(l);gh(this,0);var c=-1*(N(this.b()).height-N(a).height)/2;ih(this,c,0,0,5);hh(this,new ch(a,6));A(this.b(),"left");uc(this.Ta(),oh);this.Md=new Vg("paste a YouTube link");this.Md.i(G("program-input",this.b()));var c=new mg(this.Md.b()),d=new lh(this.Md.b()),e=new jh(q(this.Zf,this,b),1E3);this.ab(j);M(M(M(this.N,d,"after_paste",q(this.Zf,this,b)),c,"key",q(function(){e&&e.ph()},this)),this.Md.b(),"focus",q(this.Zf,this,b))};
n.Zf=function(a){var b=G("select-content",this.b());try{var c;var d=this.Md.r(),e=th.exec(d);e?c=new uh(e[1]||e[2],i,i):f(Error("failed to parse video id from youtube url: "+d));T(Ba("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.Zi),q(function(d){var e=ef(zf(d.target)).entry,d=e.title.$t,g=e.media$group.media$thumbnail[0].url,e=G("page2",this.b());uc(e,ph,{title:d,bl:g});d=new Jg("Yes");d.i(G("button",e));(new Vf(b,[0,0],[260,0],300,$f)).play();M(this.N,d,"action",q(this.Vf,this,
a,c))},this))}catch(g){}};n.Vf=function(a,b){T("/_addprogram",q(function(b){b=ef(zf(b.target));b=new le(b);a.c(ve,b);this.ab(l)},this),"POST","channel="+a.id+"&youtube_id="+b.Zi)};function Z(){S.call(this)}t(Z,S);ma(Z);function vh(a){return'<div class="info"><div class="picture"><img src="'+J(a.media.lb)+'" class="thumb"><div class="publisher"><img src="'+J(a.media.ca.L)+'"><div class="name">'+J(a.media.ca.name)+'</div></div><div class="links"><div class="local"></div><a target="_blank" href="'+a.media.Pj+'"><div class="host"></div></a></div><div class="link-select" style="display:none"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><div class="title"><div class="text">'+
J(a.media.name)+'</div></div><div class="scrollable ios-scroll" '+(!a.description?'style="display:none"':"")+'><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+J(a.ic)+'</div></div><div class="description">'+a.description+'</div></div><div class="button play"><div class="icon"></div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="viewers" style="display: none"><div class="label"><div class="eye-icon"></div></div></div><div class="info-contents"><div class="scrollable ios-scroll"><div class="user-poll" style="display: none"><div class="label"><div class="status">VOTE</div></div><div class="poll-options"></div></div><div class="tweet-holder" style="display:none"><div class="label"><div class="globe-icon"></div><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><div class="friends-icon"></div><a class="conv-link">CONVERSATION</a>'+
(a.Wj?'<a class="prev-link">&#10218; LAST PROGRAM</a>':"")+'</div><div class="no-comments" style="display:none">Start the conversation with friends.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div><div class="overlay" style="display: none"><div class="leaving"><div>This program is over. Carry on?</div><div class="button dark no">Not yet</div><div class="button dark yes">Let\'s go</div></div></div></div>'}
function wh(a){return'<div class="viewer" name="'+J(a.kd)+'"><img src="'+J(a.n.L)+'"></div>'}
function xh(a){return'<div class="tweet" id="'+J(a.prefix)+"-"+J(a.nb.id)+'">'+(a.nb.n?'<a href="#user:'+J(a.nb.n.id)+'"><img src="'+J(a.nb.L)+'"/></a>':'<img src="'+J(a.nb.L)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+J(a.nb.handle)+"/status/"+J(a.nb.id)+'">'+J(a.nb.handle)+"</a> "+a.text+'</div><div class="timestamp">'+J(a.timestamp)+'</div><div class="tweet-options"><div class="reply"></div></div></div>'}
function yh(a){return'<div class="comment'+(a.S.I?" reply":"")+'" '+(a.S.id?'id="'+J(a.prefix)+"-"+J(a.S.id)+'"':"")+">"+(!a.S.I?'<a href="#user:'+J(a.S.n.id)+'"><div class="user-picture" style="background:'+J(a.S.n.color)+'"><img src="'+J(a.S.n.L)+'"/></div></a>':"")+'<div class="template"><a class="user" href="#user:'+J(a.S.n.id)+'">'+J(a.S.n.name)+'</a>  <div class="text">'+a.text+'<div class="comment-options">'+(a.si?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div><div class="timestamp">'+
J(a.S.Fb)+'</div><div class="replies"></div>'+(!a.S.I?'<div class="reply-input"><textarea class="reply-textarea" rows="1" placeholder="reply..."></textarea></div>':"")+"</div></div>"}
function zh(){return'<div class="comment-input"><div class="textarea-holder"><div class="input-holder"><div class="highlighter"></div><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea><div class="suggestions" style="display:none"></div></div></div><div class="comment-controls"><div class="comment-toggle tweet-toggle"><div class="icon"></div></div><div class="comment-toggle fb-toggle"><div class="icon"></div></div></div><div class="comment-button add-comment">POST</div></div>'}
function Ah(a){var b='<div class="activity'+(1<a.D.length?" digest":"")+'">';if(1<a.D.length){for(var b=b+('<div class="template"><span>'+J(a.D.length)+" friends </span>"+(a.Ui?"watched":"are watching")+(a.O?' <a href="#channel:'+J(a.O.id)+'">'+J(a.O.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.D,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.L)+'"/></div></a>');
b+="</div>"}return b+=(1==a.D.length?'<a href="#user:'+J(a.D[0].id)+'"><div class="picture" style="background:'+J(a.D[0].color)+'"><img src="'+J(a.D[0].L)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(a.D[0].id)+'">'+J(a.D[0].name)+"</a> "+(a.Ui?"watched":"is watching")+(a.O?' <a href="#channel:'+J(a.O.id)+'">'+J(a.O.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Bh(a){for(var b='<div class="comment activity'+(1<a.fb.length?" digest":"")+'">'+(1<a.fb.length?'<div class="template">'+(1==a.D.length?'<a class="user" href="#user:'+J(a.D[0].id)+'">'+J(a.D[0].name)+' </a> discussed <a class="title" href="#info:'+J(a.media.id)+'">'+J(a.media.name)+"</a>.":"<span>"+J(a.D.length)+' friends </span> discussed <a class="title" href="#info:'+J(a.media.id)+'"> '+J(a.media.name)+"</a>.")+"</div>":""),a=a.fb,c=a.length,d=0;d<c;d++)var e=a[d],b=b+('<div class="comment"><a href="#user:'+
J(e.n.id)+'"><div class="picture" style="background:'+J(e.n.color)+'"><img src="'+J(e.n.L)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(e.n.id)+'">'+J(e.n.name)+'</a>  <div class="text">'+J(e.text)+'</div><div class="timestamp">'+J(e.Fb)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function Ch(a){var b='<div class="like activity'+(1<a.D.length?" digest":"")+'">';if(1<a.D.length){for(var b=b+('<div class="template"><span>'+J(a.D.length)+' friends </span>liked<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.D,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.L)+'"/></div></a>');b+="</div>"}return b+=(1==a.D.length?'<a href="#user:'+J(a.D[0].id)+'"><div class="picture" style="background:'+
J(a.D[0].color)+'"><img src="'+J(a.D[0].L)+'"/></div></a><div class="template" style="top:10px;margin-bottom:30px"><a class="user" href="#user:'+J(a.D[0].id)+'">'+J(a.D[0].name)+"</a> liked "+(1<a.ai?J(a.ai)+" stories":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Dh(a){return'<div class="list-info"><div class="picture-cell" '+(a.lb?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+J(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+J(a.lb)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function Eh(a){return'<li class="'+J(a.className)+' tab"><div class="label">'+J(a.name)+"</div></li>"}
function Fh(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.Lh?'placeholder="'+J(a.Lh)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function Gh(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function Hh(a){return'<div class="playlist"><div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function Ih(a){return'<div class="category button">'+J(a.name)+"</div>"}function Jh(a){return'<div class="publisher">'+(a.L?'<img src="'+J(a.L)+'"/>':"")+'<div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function Kh(a){return'<div class="channel '+(a.O.Ic?"on":"off")+'"><div class="title">'+J(a.O.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.O.Jc?'<div class="pending">'+J(a.O.Jc)+"</div>":"")+"</div>"}
function Lh(a){return'<div class="collection"><div class="title">'+J(a.hf.name)+'</div><div class="controls">'+(a.hf.Jc?'<div class="pending">'+J(a.hf.Jc)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Mh(a){return'<div class="topic"><div class="title">'+J(a.hl)+'</div><div class="controls">'+(a.Jc?'<div class="pending">'+J(a.Jc)+"</div>":"")+"</div></div>"}
function Nh(a){return'<div class="tabbed '+(a.Rf?"inbox":"messages")+'"><ul class="tabs">'+(a.Rf?'<li class="tab inbox"><div class="label">INBOX</div></li>':'<li class="tab messages"><div class="label">MESSAGES</div></li>')+'<li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul>'+(a.Rf?'<div class="inbox-content content inbox"><div class="label">NOTIFICATIONS</div><div class="notifications-content content notifications"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="label">MESSAGES</div><div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div></div>':
'<div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div>')+'<div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function Oh(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function Ph(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.lb)+"); background-position: 50% "+J(a.media.Pi)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+J(a.media.cd)+'</div><div class="like-count"><div class="icon"></div>'+J(a.media.$j)+'</div></div></div></div><div class="publisher">'+(a.media.ca?'<img src="'+J(a.media.ca.L)+
'"><div class="name">'+J(a.media.ca.name)+"</div>":"")+'<div class="list-play"><div class="icon"></div></div><div class="list-plus"><div class="icon"></div></div></div></div>'}
function Qh(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.lb)+"); background-position: 50% "+J(a.media.Pi)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="published">'+J(a.ic)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+J(a.media.ca.L)+'"><div class="name">'+J(a.media.ca.name)+
'</div><div class="duration">'+J(a.media.duration)+' seconds</div></div><div class="description">'+J(a.media.description)+"</div></div>"}function Rh(a){return'<div class="option"><div class="percent"></div><div class="name">'+J(a.name)+'</div><div class="percent-number">'+J(a.eg)+"</div></div>"};function Sh(a,b,c){K.call(this);this.target=a;this.handle=b||a;this.Wh=c||new gd(NaN,NaN,NaN,NaN);this.w=Vb(a);this.C=new ad(this);L(this.handle,["touchstart","mousedown"],this.Jd,l,this)}t(Sh,ed);var Th=v||ob&&z("1.9.3");n=Sh.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.Ki=0;n.Li=0;n.rc=0;n.sc=0;n.qf=j;n.Vb=l;n.Hh=0;n.dk=0;n.Rj=l;n.Ud=l;n.j=da("C");n.Ei=ba("Ke");n.Gb=ba("qf");
n.k=function(){Sh.e.k.call(this);Vc(this.handle,["touchstart","mousedown"],this.Jd,l,this);dd(this.C);Th&&this.w.releaseCapture();this.C=this.handle=this.target=k};function Uh(a){ja(a.Ja)||(a.Ja=qd(a.target));return a.Ja}
n.Jd=function(a){var b="mousedown"==a.type;if(this.qf&&!this.Vb&&(!b||Mc(a))){Vh(a);if(0==this.Hh)if(this.dispatchEvent(new Wh("start",this,a.clientX,a.clientY,a)))this.Vb=j,a.preventDefault();else return;else a.preventDefault();var b=this.w,c=b.documentElement,d=!Th;M(this.C,b,["touchmove","mousemove"],this.Lj,d);M(this.C,b,["touchend","mouseup"],this.Wb,d);Th?(c.setCapture(l),M(this.C,c,"losecapture",this.Wb)):M(this.C,b?b.parentWindow||b.defaultView:window,"blur",this.Wb);v&&this.Rj&&M(this.C,
b,"dragstart",Hc);this.Ke&&M(this.C,this.Ke,"scroll",this.qi,d);this.clientX=this.Ki=a.clientX;this.clientY=this.Li=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Ud?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==ld(a,"position")&&(c=Vb(a).documentElement),c?(ob?(d=Ad(c),b+=d.left):Ab(8)&&(d=Ad(c),b-=d.left),a=qd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.rc=a;this.sc=this.target.offsetTop;this.cg=rc(Tb(this.w));this.dk=r()}else this.dispatchEvent("earlycancel")};
n.Wb=function(a,b){dd(this.C);Th&&this.w.releaseCapture();if(this.Vb){Vh(a);this.Vb=l;var c=Xh(this,this.rc),d=Yh(this,this.sc);this.dispatchEvent(new Wh("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function Vh(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ea.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ea.changedTouches[0],a.currentTarget)}
n.Lj=function(a){if(this.qf){Vh(a);var b=(this.Ud&&Uh(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Vb){var d=this.Ki-this.clientX,e=this.Li-this.clientY;if(d*d+e*e>this.Hh)if(this.dispatchEvent(new Wh("start",this,a.clientX,a.clientY,a)))this.Vb=j;else{this.fe||this.Wb(a);return}}c=Zh(this,b,c);b=c.x;c=c.y;this.Vb&&this.dispatchEvent(new Wh("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&($h(this,a,b,c),a.preventDefault())}};function Zh(a,b,c){var d=rc(Tb(a.w)),b=b+(d.x-a.cg.x),c=c+(d.y-a.cg.y);a.cg=d;a.rc+=b;a.sc+=c;b=Xh(a,a.rc);a=Yh(a,a.sc);return new Ib(b,a)}n.qi=function(a){var b=Zh(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;$h(this,a,b.x,b.y)};function $h(a,b,c,d){a.hh(c,d);a.dispatchEvent(new Wh("drag",a,b.clientX,b.clientY,b,c,d))}
function Xh(a,b){var c=a.Wh,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function Yh(a,b){var c=a.Wh,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}n.hh=function(a,b){this.Ud&&Uh(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function Wh(a,b,c,d,e,g,h,m){Gc.call(this,a);this.clientX=c;this.clientY=d;this.Ol=e;this.left=ja(g)?g:b.rc;this.top=ja(h)?h:b.sc;this.Yl=b;this.qj=!!m}t(Wh,Gc);function ai(){K.call(this);this.od=[];this.al=[];this.Gd=[]}t(ai,ed);n=ai.prototype;n.Qh=l;n.Rh=l;n.Ff=l;n.Ei=ba("Ke");n.init=function(){if(!this.Ff){for(var a,b=0;a=this.od[b];b++)bi(this,a);this.Ff=j}};function bi(a,b){a.Qh&&(L(b.element,"mousedown",b.ei,l,b),a.vg&&A(b.element,a.vg));a.Rh&&a.yg&&A(b.element,a.yg)}
n.Jd=function(a,b){if(!this.sa)if(this.sa=b,this.dispatchEvent(new ci("dragstart",this,this.sa))==l)this.sa=k;else{var c=b.pc,d;a:switch(d=c.cloneNode(j),c.tagName.toLowerCase()){case "tr":d=H("table",k,H("tbody",k,d));break a;case "td":case "th":d=H("table",k,H("tbody",k,H("tr",k,d)));break a}this.rj&&A(d,this.rj);this.vc=d;d=Vb(c);d.body.appendChild(this.vc);var e=this.vc,g=pd(c),c=xd(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=
g.y+"px";this.gb=new Sh(e);this.gb.Ei(this.Ke);L(this.gb,"drag",this.fi,l,this);L(this.gb,"end",this.Wb,l,this);L(d.body,"selectstart",this.Oi);this.Qc=[];for(d=0;c=this.al[d];d++)for(var h,e=0;h=c.od[e];e++)for(var g=c,m=[h.element],s=this.Qc,y=0;y<m.length;y++){var x=m[y],C=pd(x),ca=N(x),C=new fd(C.y,C.x+ca.width,C.y+ca.height,C.x);s.push(new di(C,g,h,x));ei(this,C)}this.kb||(this.kb=new fd(0,0,0,0));for(d=0;c=this.Gd[d];d++)c.kf=[],c.Bi=c.d.scrollLeft,c.Ci=c.d.scrollTop,e=pd(c.d),g=N(c.d),c.Q=
new fd(e.y,e.x+g.width,e.y+g.height,e.x);for(d=0;g=this.Qc[d];d++)for(e=0;c=this.Gd[e];e++)hc(c.d,g.d)&&(c.kf.push(g),g.Fd=c);this.Nb=k;for(d=0;c=this.Gd[d];d++)L(c.d,"scroll",this.bh,l,this);this.gb.Jd(a);a.preventDefault()}};
n.Wb=function(a){var b=a.qj?k:this.Nb;if(b&&b.qa){var c=a.clientX,a=a.clientY,d=rc(Tb(this.vc)),e=c+d.x,d=a+d.y,g;this.Ld&&(g=this.Ld(b.hb,b.Q,e,d));this.dispatchEvent(new ci("drag",this,this.sa,b.qa,b.hb,b.d,c,a,e,d));b.qa.dispatchEvent(new ci("drop",this,this.sa,b.qa,b.hb,b.d,c,a,e,d,g))}this.dispatchEvent(new ci("dragend",this,this.sa));Vc(this.gb,"drag",this.fi,l,this);Vc(this.gb,"end",this.Wb,l,this);Vc(Vb(this.sa.pc).body,"selectstart",this.Oi);for(b=0;c=this.Gd[b];b++)Vc(c.d,"scroll",this.bh,
l,this),c.kf=[];this.gb.$();dc(this.vc);delete this.sa;delete this.vc;delete this.gb;delete this.Qc;delete this.Nb};
n.fi=function(a){var b,c=rc(Tb(this.vc));b=new Ib(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.Nb,g;if(e){this.Ld&&e.qa&&(g=this.Ld(e.hb,e.Q,c,d));if(e.Q.contains(b)&&g==this.Ng)return;e.qa&&(this.dispatchEvent(new ci("dragout",this,this.sa,e.qa,e.hb,e.d)),e.qa.dispatchEvent(new ci("dragout",this,this.sa,e.qa,e.hb,e.d,i,i,i,i,this.Ng)));this.Ng=g;this.Nb=k}if(this.kb.contains(b)){a:{for(var h=0;e=this.Qc[h];h++)if(e.Q.contains(b))if(e.Fd){if(e.Fd.Q.contains(b)){b=e;break a}}else{b=e;break a}b=
k}if((e=this.Nb=b)&&e.qa)this.Ld&&(g=this.Ld(e.hb,e.Q,c,d)),c=new ci("dragover",this,this.sa,e.qa,e.hb,e.d),c.$k=g,this.dispatchEvent(c),e.qa.dispatchEvent(new ci("dragover",this,this.sa,e.qa,e.hb,e.d,a.clientX,a.clientY,i,i,g));else if(!e){this.na||(this.na=new di(this.kb.clone()));a=this.na.Q;a.top=this.kb.top;a.right=this.kb.right;a.bottom=this.kb.bottom;a.left=this.kb.left;for(g=0;e=this.Qc[g];g++)b=e.Q,e.Fd&&(e=e.Fd.Q,b=new fd(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,
e.bottom),Math.max(b.left,e.left))),e=k,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),e!==k&&h!==k&&(Math.abs(e-c)>Math.abs(h-d)?h=k:e=k),e===k?h!==k&&(h<=d?a.top=h:a.bottom=h):e<=c?a.left=e:a.right=e;this.Nb=10<=(a.right-a.left)*(a.bottom-a.top)?this.na:k}}};n.Oi=ea(l);
n.bh=function(a){for(var b=0,c;c=this.Gd[b];b++)if(a.target==c.d){var d=c.Ci-c.d.scrollTop,e=c.Bi-c.d.scrollLeft;c.Ci=c.d.scrollTop;c.Bi=c.d.scrollLeft;this.na&&this.Nb==this.na&&(0<d?this.na.Q.top+=d:this.na.Q.bottom+=d,0<e?this.na.Q.left+=e:this.na.Q.right+=e);for(var g=0,h;h=c.kf[g];g++)h=h.Q,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,ei(this,h)}this.gb.qi(a)};
function ei(a,b){if(1==a.Qc.length)a.kb=new fd(b.top,b.right,b.bottom,b.left);else{var c=a.kb;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}n.k=function(){ai.e.k.call(this);for(var a,b=0;a=this.od[b];b++)this.Qh&&(Vc(a.element,"mousedown",a.ei,l,a),this.vg&&B(a.element,this.vg)),this.Rh&&this.yg&&B(a.element,this.yg),a.$();this.od.length=0};
function ci(a,b,c,d,e,g,h,m,s,y,x){Gc.call(this,a);this.Wl=b;this.Xl=c;this.Zl=d;this.am=e;this.$l=g;this.clientX=h;this.clientY=m;this.wm=s;this.xm=y;this.$k=x}t(ci,Gc);ci.prototype.k=aa();function fi(a,b){K.call(this);this.element=F(a);this.data=b;this.J=k;this.element||f(Error("Invalid argument"))}t(fi,ed);n=fi.prototype;n.pc=k;
n.ei=function(a){if(Mc(a)){var b=a.target;b&&(L(b,"mousemove",this.Fc,l,this),L(b,"mouseout",this.Fc,l,this),L(b,"mouseup",this.Qf,l,this),this.pc=b,this.wg=new Ib(a.clientX,a.clientY),a.preventDefault())}};n.Me=ba("J");n.Fc=function(a){var b=this.pc,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.wg.x)+Math.abs(a.clientY-this.wg.y)||c)Vc(b,"mousemove",this.Fc,l,this),Vc(b,"mouseout",this.Fc,l,this),Vc(b,"mouseup",this.Qf,l,this),this.J.Jd(a,this)};
n.Qf=function(){var a=this.pc;Vc(a,"mousemove",this.Fc,l,this);Vc(a,"mouseout",this.Fc,l,this);Vc(a,"mouseup",this.Qf,l,this);delete this.wg;this.pc=k};function di(a,b,c,d){this.Q=a;this.qa=b;this.hb=c;this.d=d}di.prototype.Fd=k;function gi(){ai.call(this)}t(gi,ai);function hi(a,b){b.Me(a);a.od.push(b);a.Ff&&bi(a,b)};function ii(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Ea(d),'="',Ea(b[d]),'" ');var e=c.join("");return a.replace(ji,function(a,b,c,d,y){a=[Ea(b)];if(!c)return a[0];a.push("<a ",e,'href="');d?(a.push("mailto:"),c=d,d=""):(y||a.push("http://"),(d=c.match(ki))?(c=d[1],d=d[2]):d="");c=Ea(c);d=Ea(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var ki=/^(.*)([:;,\.?\[\]])$/,ji=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function li(){}t(li,dg);ma(li);n=li.prototype;n.wc=aa();n.i=function(a,b){wg(a);a.eb&=-256;Bg(a,32,l);li.e.i.call(this,a,b);a.kc(b.value);return b};n.M=function(a){wg(a);a.eb&=-256;Bg(a,32,l);return a.Ha().M("textarea",{"class":fg(this,a).join(" "),disabled:!a.isEnabled()},a.Pa||"")};n.Pb=function(a){return"TEXTAREA"==a.tagName};n.lc=la;n.Gf=function(a){return a.isEnabled()};n.Oc=la;n.ka=function(a,b,c){li.e.ka.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.Ma=la;
n.kc=function(a,b){a&&(a.value=b)};n.fa=ea("goog-textarea");function mi(a,b,c){vg.call(this,a,b||li.a(),c);wg(this);this.Nc(j);a||(this.Pa="")}t(mi,vg);var ni=ob||w;n=mi.prototype;n.Ac=l;n.ta=0;n.Yh=0;n.di=0;n.Fh=l;n.xe=l;n.pg=l;n.og=l;function oi(a){return a.yd.top+a.yd.bottom+a.Vg.top+a.Vg.bottom}function pi(a){var b=a.di,c=a.b();b&&(c&&a.xe)&&(b-=oi(a));return b}function qi(a){var b=a.Yh,c=a.b();b&&(c&&a.xe)&&(b-=oi(a));return b}n.oa=function(a){this.kc(String(a))};n.r=function(){return this.b().value};n.kc=function(a){mi.e.kc.call(this,a);this.resize()};
n.Gb=function(a){mi.e.Gb.call(this,a);this.b().disabled=!a};n.resize=function(){this.b()&&this.ke()};n.z=function(){mi.e.z.call(this);var a=this.b();hd(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.yd=xd(a,"padding");this.Vg=Ad(a);M(M(M(M(this.j(),a,"scroll",this.ke),a,"focus",this.ke),a,"keyup",this.ke),a,"mouseup",this.ek);this.resize()};
function ri(a){if(!a.Fh){var b=a.b().cloneNode(l);hd(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ha().w.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.pg=d>c;b.style.borderWidth="10px";a.og=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.xe=j);dc(b);a.Fh=j}var b=a.b(),c=a.b().scrollHeight,e=a.b(),d=e.offsetHeight-e.clientHeight;if(!a.pg)var g=a.yd,d=d-(g.top+g.bottom);
a.og||(e=Ad(e),d-=e.top+e.bottom);c+=0<d?d:0;a.xe?c-=oi(a):(a.pg||(d=a.yd,c+=d.top+d.bottom),a.og||(a=Ad(b),c+=a.top+a.bottom));return c}function si(a,b){a.ta!=b&&(a.ta=b,a.b().style.height=b+"px")}function ti(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.ke=function(){if(!this.Ac){var a=l;this.Ac=j;var b=this.b(),c=this.ta;if(b.scrollHeight){var d=l,e=l,g=ri(this),h=b.offsetHeight,m=pi(this),s=qi(this);m&&g<m?(si(this,m),d=j):s&&g>s?(si(this,s),b.style.overflowY="",e=j):h!=g?si(this,g):this.ta||(this.ta=g);!d&&(!e&&ni)&&(a=j)}else ti(this);this.Ac=l;a&&(a=this.b(),this.Ac||(this.Ac=j,b=l,a.value||(a.value=" ",b=j),(e=a.scrollHeight)?(g=ri(this),d=pi(this),h=qi(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.yd,a.style.paddingBottom=h.bottom+1+"px",ri(this)==
g&&(a.style.paddingBottom=h.bottom+e+"px",a.scrollTop=0,e=ri(this)-e,e>=d?si(this,e):si(this,d)),a.style.paddingBottom=h.bottom+"px")):ti(this),b&&(a.value=""),this.Ac=l));c!=this.ta&&this.dispatchEvent("resize")}};n.ek=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.ta&&(this.ta=this.di=b)};function ui(a,b,c,d,e,g,h){Q.call(this);this.bc=pe();this.Oa=a;this.Ce=b;this.gg=c;this.jg=d;this.gf=e.categories;this.vj=e.feed_categories;this.xj=e.feed_id;this.Ag=g||k;this.tc=h||k;this.pf=this.bc?new gi:k;this.Yb={pending:l,all:l};this.La=["pending","all","playlists","publishers","categories"]}t(ui,Q);var vi="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),wi="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
n=ui.prototype;
n.u=function(a){ui.e.u.call(this,a);a.innerHTML="";a.scrollTop=0;uc(a,Gh);var b=G("pending-content",a);u(this.Ce,function(a){xi(this,b,a)},this);this.Fk=G("playlists-content",a);u(this.gg,this.Rg,this);this.Ik=G("publishers-content",a);u(this.jg,this.Sg,this);this.mj=G("categories-list",a);this.lh=G("feed-ids",a);this.wj=G("feed-cats",a);T("/admin/_categories",q(function(a){a=V(a.target);u(a,function(a){yi(this,a,"category",Va(this.gf,a.id)||!this.gf.length)},this)},this));u(wi,function(a){yi(this,a,
"feed_category",Va(this.vj,a))},this);u(vi,function(a){yi(this,a,"feed_id",this.xj==a)},this);this.resize()};
n.z=function(){ui.e.z.call(this);this.ha=G("input",this.b());var a=new mg(this.ha),b=new lh(this.ha);this.za=G("tabs",this.b());this.A="pending";var c=l;M(M(M(M(this.j(),window,"resize",za(R,q(this.resize,this))),a,"key",q(function(a){"13"==a.keyCode&&zi(this,this.ha.value)},this)),b,"after_paste",q(function(){zi(this,this.ha.value)},this)),this.za,"click",q(function(a){a=pc(a.target,"li");this.zb(a)},this));M(this.j(),this.b(),"scroll",q(function(){if(this.Oa&&!c&&!this.Yb[this.A]&&("pending"==this.A||
"all"==this.A)&&this.b().scrollTop+Zb().height>this.b().scrollHeight-this.b().clientTop){c=j;var a=G("spinner",this.b());O(a,j);var b="pending"==this.A?this.Ce:this.bf;T("/admin/_media/collection/"+this.Oa+"?offset="+b.length+("pending"==this.A?"&pending=1":""),q(function(g){c=l;g=ef(zf(g.target)).medias;g=Ra(g,function(a){return new Od(a)});Za(b,g);var h=G(this.A+"-content",this.b());u(g,function(a){xi(this,h,a)},this);this.Yb[this.A]=!g.length;E(a,"finished",!g.length)},this))}},this));this.resize()};
n.resize=function(){sd(this.b(),Zb().height-40)};
function zi(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.Oa&&c&&(a.ha.disabled="disabled",T("admin/_add/collection/"+a.Oa,q(function(a){this.ha.value="";this.ha.disabled="";a=V(a.target);if("media"==a.type){var b=Wd(Vd.a(),a.data);Ta(this.Ce,function(a){return a.id==b.id})||(this.Ce.push(b),a=G("pending-content",this.b()),xi(this,a,b,j),this.zb(Xb("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Ta(this.gg,function(a){return a.id==
c.id})||(this.gg.push(c),this.Rg(c),this.zb(Xb("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Ta(this.jg,function(a){return a.id==h.id})&&(this.jg.push(h),this.Sg(h),this.zb(Xb("li","publishers",i)[0]))}},a),"POST","url="+c))}
n.zb=function(a){u(this.La,function(b){E(this.za.parentElement,b,D(a,b));this.A=D(a,b)?b:this.A},this);this.Oa&&!this.bf&&T("/admin/_media/collection/"+this.Oa,q(function(a){a=ef(zf(a.target)).medias;this.bf=Ra(a,function(a){return new Od(a)});var c=G("all-content",this.b());u(this.bf,function(a){xi(this,c,a)},this)},this))};
n.Rg=function(a){var b=I(Hh,{name:a.name});this.Fk.appendChild(b);var c=G("remove",b);M(this.j(),c,"click",function(){T("admin/_remove/collection/"+this.Oa,q(function(){dc(b)},this),"POST","pub_id="+a.id)})};n.Sg=function(a){var b=I(Jh,{name:a.name||a.id,L:a.picture});this.Ik.appendChild(b);var c=G("remove",b);M(this.j(),c,"click",function(){T("admin/_remove/collection/"+this.Oa,q(function(){dc(b)},this),"POST","pub_id="+a.id)})};
function yi(a,b,c,d){if("category"==c){var e=I(Ih,{name:b.name,id:b.id});a.mj.appendChild(e)}else e=I(Ih,{name:b,id:b}),("feed_id"==c?a.lh:a.wj).appendChild(e);E(e,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;M(a.j(),e,"click",function(){"feed_id"==c&&u(ec(this.lh),function(a){B(a,"enabled")});var a=Hb(e,"enabled");T("admin/_edit/collection/"+this.Oa,Ud(),"POST",g+"&enabled="+a)})}
function xi(a,b,c,d){var e=I(Qh,{media:c,ic:Td(c)});d?cc(b,e,0):b.appendChild(e);a.bc&&(b=a.pf,d=new fi(e,i),hi(b,d));var b=new Sh(G("repos",e)),g=G("thumb",e),d=G("play",e),h=G("approve",e),m=G("remove",e);b.hh=function(a,b){var c=b-24;-50<=c&&50>=c&&hd(g,"background-position-y",50-c+"%")};M(M(M(M(a.j(),b,"end",function(){var a=(g.style[Ma("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);T("/admin/_posthumb",Ud(),"POST","media="+c.id+"&pos="+a)}),d,"click",q(a.Bk,a,c)),h,"click",
q(a.Tg,a,c,j,e)),m,"click",q(a.Tg,a,c,l,e));R(za(A,e,"show"))}n.Vf=function(a,b){T("/admin/_addprogram",q(function(b){b=ef(zf(b.target));b=new le(b);a.c(ve,b)},this),"POST","channel="+a.id+"&media="+b.id)};n.Tg=function(a,b,c){var d=a.nj||this.Oa;T("admin/_media/collection",q(function(){A(c,"remove");R(function(){dc(c)},300);Y.a();var b;Y.a();b=mc(F("toggle-pending"));Ai(0,b-1);Z.a().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};n.Bk=function(a){a=me(a);Ef.a().c(Ff,a)};function Bi(a){Q.call(this);this.qb=a||k;this.Sc=this.Wg=this.Ti=this.ah=0}t(Bi,Q);n=Bi.prototype;n.M=function(){this.d=I(Fh)};n.u=function(a){Bi.e.u.call(this,a);var b=I(Fh,{Lh:this.qb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
n.z=function(){Bi.e.z.call(this);this.ha=G("input",this.b());var a=new mg(this.ha);this.Nk=G("scrollable",this.b());this.be=G("admin-channels",this.b());this.Cg=G("topics",this.b());this.de=G("collections",this.b());this.$g=F("admin-col-list");this.Yd=F("admin-list");W.a();this.qb?(T("/admin/_topicmedias/"+this.qb,q(function(a){a=V(a.target);Lb(a,function(a,b){O(this.Cg.parentElement,j);if(a&&a.length){var e=I(Mh,{hl:b,Jc:a.length});this.Cg.appendChild(e);L(e,"click",q(function(){a=Ra(a,function(a){return new Od(a)});
(new ui("",a,[],[],[])).i(this.Yd);Z.a().c("navigate",this.Yd,l,b)},this));Z.a().subscribe("approved",function(b){if(Ta(a,function(a){return a.id==b.id})){var d=G("pending",e),m=mc(d)-1;0>=m?(dc(e),Cc(e)):ic(d,m)}},this)}},this);this.Sc&&Ai(Y.a(),this.Sc);this.Ti=N(this.Cg.parentElement).height;this.resize()},this)),T("/admin/_collections/"+this.qb,q(function(a){a=V(a.target);O(this.de.parentElement,!!a.length);u(a,this.Qg,this);this.Sc&&Ai(Y.a(),this.Sc);this.ah=N(this.de.parentElement).height;this.resize()},
this))):T("/admin/_channels",q(function(a){a=V(a.target);O(this.be.parentElement,!!a.length);u(a,this.Pg,this);this.Wg=N(this.be.parentElement).height;this.resize()},this));M(this.j(),a,"key",q(function(a){"13"==a.keyCode&&this.ha.value&&(a=this.ha.value,this.ha.disabled="disabled",T(this.qb?"/admin/_collections":"/admin/_channels",q(function(a){a=V(a.target);this.qb?(O(this.de.parentElement,!!a),this.Qg(a)):(O(this.be.parentElement,!!a),this.Pg(a));this.ha.disabled="";this.ha.value=""},this),"POST",
"name="+a+(this.qb?"&cid="+this.qb:"")))},this))};
n.Pg=function(a){var b=new ue(a),c=I(Kh,{O:b});this.be.appendChild(c);L(c,"click",q(function(a){D(a.target,"on")||D(a.target,"off")?(E(c,"on",D(a.target,"on")),E(c,"off",!D(a.target,"on")),T("/admin/_channel/online/"+b.id,q(function(a){a.target.disabled="";a=V(a.target);E(c,"on",a.online);E(c,"off",!a.online)},this),"POST","online="+D(a.target,"on"))):D(a.target,"program")?T("/admin/_program",Ud(),"POST","channel_id="+b.id):D(a.target,"fetch")?T("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):D(a.target,"remove")&&confirm("Remove "+b.name+"?")?(O(c,l),T("/admin/_channels/"+b.id,function(a){V(a.target).deleted?dc(c):O(c,j)},"DELETE")):((new Bi(b.id)).i(this.$g),Z.a().c("navigate",this.$g,l,b.name))},this))};
n.Qg=function(a){var b=I(Lh,{hf:a});this.Sc+=a.pending;this.de.appendChild(b);L(b,"click",q(function(c){D(c.target,"remove")&&confirm("Remove "+a.name+"?")?(O(b,l),T("/admin/_collections/"+a.id,function(a){V(a.target).deleted?dc(b):O(b,j)},"DELETE")):D(c.target,"fetch")?T("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):T("/admin/_media/collection/"+a.id+"?pending=1",q(function(b){var b=ef(zf(b.target)),c=b.medias,c=Ra(c,function(a){return new Od(a)});
(new ui(a.id,c,b.playlists,b.publishers,b.categories)).i(this.Yd);Z.a().c("navigate",this.Yd,l,a.name)},this))},this));Z.a().subscribe("approved",function(c,d){if(d==a.id){var e=G("pending",b),g=mc(e)-1;0>=g?(dc(b),Cc(b)):ic(e,g)}},this)};n.resize=function(){sd(this.Nk,this.Wg+this.Ti+this.ah+110)};function Ci(a,b){Q.call(this);this.Gi=!!a;this.ae=!!b;this.value="";this.g=new mi("Add to the conversation.");this.Aa=new Jg("tweet");Bg(this.Aa,16,j);this.Ga=new Jg("post");Bg(this.Ga,16,j);var c=U.a().h;this.ge=c.Gk;this.Se=c.xi;this.Ob=new Jg("add");this.He=k;this.Rc={};this.pa=[];this.ra=-1;this.dg=this.mb=k}t(Ci,Q);var Di=/@(\w+)/;n=Ci.prototype;n.M=function(){this.d=I(zh)};
n.z=function(){Ci.e.z.call(this);this.g.i(G("comment-textarea",this.b()));var a=this.g;a.Yh=70;a.resize();a=new mg(this.g.rb());this.oj=G("comment-controls",this.b());O(this.oj,this.Gi);E(this.b(),"show-controls",this.Gi);this.jb=G("suggestions",this.b());this.Af=G("highlighter",this.b());this.Uj=G("input-holder",this.b());Id(this,this.Aa);this.Aa.i(G("tweet-toggle",this.b()));T("/_twitter",q(function(a){a=V(a.target);this.Se=this.Se&&a.auth;this.kl=a.auth_url;Ag(this.Aa,this.Se)},this));Id(this,
this.Ga);this.Ga.i(G("fb-toggle",this.b()));FB.api("/me/permissions",q(function(a){this.ge=this.ge&&!!a.data[0].publish_stream;Ag(this.Ga,this.ge)},this));Id(this,this.Ob);this.Ob.i(G("add-comment",this.b()));this.Ob.Gb(l);M(M(M(M(M(M(this.j(),this.g.b(),"focus",q(function(){this.dispatchEvent("focus")},this)),a,"key",q(function(a){a.stopPropagation();if("13"==a.keyCode){a.preventDefault();if(this.pa.length&&this.pa.reverse()[this.ra]){var c=this.g.r().slice(0,this.g.b().selectionStart),c=c.split(" ").pop(),
d=this.pa.reverse()[this.ra];this.Rc[d.id]=d;Ei(this,c.match(Di)[0]);this.g.b().focus();O(this.jb,l);this.pa=[];this.ra=-1;c=this.r().length;this.setSelectionRange(c,c)}else this.Ob.setActive(this.g.r()),this.Ab(a);this.ae&&Ei(this)}else"27"==a.keyCode&&this.pa.length?(O(this.jb,l),this.pa=[],c=this.r().length,this.setSelectionRange(c,c),this.ra=-1,this.Rc={}):("38"==a.keyCode||"40"==a.keyCode)&&this.pa.length?(a.preventDefault(),c=Array.prototype.slice.call(ec(this.jb)),c.reverse()[this.ra]&&B(c[this.ra],
"selected"),this.ra="38"==a.keyCode?Math.min(this.ra+1,this.pa.length-1):Math.max(this.ra-1,-1),-1!=this.ra&&A(c[this.ra],"selected")):R(q(function(){this.Ob.Gb(!!this.g.r());var c=this.g.r().slice(0,this.g.b().selectionStart),c=c.split(" ").pop(),d=this.ae&&Di.test(c);O(this.jb,d);if("8"==a.keyCode)this.Af.innerHTML.match('<div class="token">.*</div>$');else if(d&&(c=c.match(Di),this.pa=U.a().search(c[1]),this.pa.length)){var d=this.pa,h=c[0];this.jb.innerHTML="";O(this.jb,j);u(d.slice(0,3),function(a){var b=
H("div","suggestion",a.name);this.jb.appendChild(b);M(this.j(),b,"click",q(function(){this.Rc[a.id]=a;Ei(this,h);this.g.b().focus();var b=this.r().length;this.setSelectionRange(b,b);O(this.jb,l);this.pa=[];this.ra=-1},this))},this)}this.ae&&Ei(this)},this))},this)),this.g,"resize",q(function(a){this.dispatchEvent(a)},this)),this.Ga,"action",q(this.nk,this)),this.Aa,"action",q(this.yk,this)),this.Ob,"action",q(this.Ab,this));sh(rh.a(),this.Aa.b(),"top",{text:"Share on Twitter"});sh(rh.a(),this.Ga.b(),
"top",{text:"Share on Facebook"});Z.a().subscribe("reply-comment",this.Kk,this);Z.a().subscribe("reply-tweet",this.Lk,this);U.a().h.subscribe(oe,function(){Ag(this.Aa,j)},this)};function Ei(a,b){var c=a.g.r(),d=c,e=c;u(Mb(a.Rc),function(a){var h=b&&0==Da(b,("@"+a.name).substr(0,b.length))?b:a.name;d=d.replace(RegExp(h,"g"),'<div class="token">'+a.name+"</div> ");this.Af.innerHTML=d;this.value=e=e.replace(RegExp(h,"g"),"@["+a.id+":"+a.name+"]");b&&this.g.oa(c.replace(h,a.name)+" ")},a)}
n.Kk=function(a,b){this.mb&&Fi(this);this.He=b;this.dg=a.id?a.id:a.toString();this.mb=H("div","token","@"+b.kd());this.Uj.appendChild(this.mb);this.ja(j);this.g.b().style.paddingLeft=N(this.mb).width+5+"px"};n.Lk=function(a){this.mb&&Fi(this);this.im=a.id;this.oa((this.r()?this.r()+" ":"")+"@"+a.handle+" ");this.ja(j);this.Aa.Gb(j);this.ja(j);a=this.r().length;this.setSelectionRange(a,a)};function Fi(a){a.He=k;a.dg=k;dc(a.mb);a.mb=k;a.g.b().style.paddingLeft=""}
n.setSelectionRange=function(a,b){if(this.g.b().setSelectionRange)this.g.b().focus(),this.g.b().setSelectionRange(a,b);else if(this.g.b().createTextRange){var c=this.g.b().createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",a);c.select()}};n.r=function(){this.ae&&Mb(this.Rc).length?Ei(this):this.value=this.g.r();return this.value};n.oa=function(a,b,c){Ag(this.Ga,!!b);Ag(this.Aa,!!c);this.g.oa(a);this.value=a;this.Ob.Gb(!!a)};n.collapse=aa();
n.clear=function(){this.g.oa("");Fi(this);this.Rc={};this.pa=[];this.Af.innerHTML="";O(this.jb,l)};n.oe=function(){return D(this.b(),"focused")};n.ja=function(a){a&&this.g.b().focus();return E(this.b(),"focused",a)};
n.Ab=function(){this.r()&&(this.dispatchEvent({type:"add",jj:q(function(a){var b=V(a.target);if(b.comment){var a=new Gi(b.comment),c=b.tweet?new Hi(b.tweet):k;if(b=Wd(Vd.a(),b.comment.media))b.c(Qd,a),c&&b.c("add-tweet",c)}},this),jd:jg(this.Ga,16),Fg:jg(this.Aa,16),text:this.r(),I:this.dg,Si:this.He&&this.He.id}),this.clear())};n.nk=function(){!this.ge&&jg(this.Ga,16)&&(O(F("overlay"),j),FB.login(q(function(a){O(F("overlay"),l);this.uj=!!a.authResponse;Ag(this.Ga,this.uj)},this),{scope:"publish_stream"}))};
n.yk=function(){if(!this.Se&&jg(this.Aa,16)){Ag(this.Aa,l);var a=window.open(this.kl,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Gi(a){this.id=a.id;this.n=a.user?Ee(U.a(),a.user):k;this.text=a.text;this.media=a.media?Wd(Vd.a(),a.media):k;this.time=a.time?Pd(a.time+"Z"):new ae;this.Fb=Ii(this.time.getTime());this.I=a.parent_id;this.Ge=[];a.replies&&u(a.replies,function(a){a=new Gi(a);this.Ge.push(a)},this)}
function Ji(a,b,c,d,e,g,h,m){var s=new Gi({text:c,parentId:g});s.n=a;s.I=g||k;T("/_comment",q(function(a){a=V(a.target);s.id=a.comment.id;m&&m(s)},this),"POST","media_id="+b+"&text="+c+"&tweet="+e+"&facebook="+d+(g?"&parent_id="+g:"")+(h?"&to_user_id="+h:""));return s};function Hi(a){this.id=a.id;this.n=a.user&&Ee(U.a(),a.user);this.handle=a.handle;this.L=a.picture;this.text=a.text;this.time=Pd(a.time+"Z")};function Ki(a,b,c,d){Q.call(this);this.f=a;this.Ca=b||[];this.ed={};this.Rd=!!c;this.cb=d||[];this.Qd={};this.aa=this.Pl=0;this.cc={}}t(Ki,Q);n=Ki.prototype;
n.u=function(a){Ki.e.u.call(this,a);a.innerHTML="";a.scrollTop=0;A(this.b(),"ios-scroll");this.s=H("div","loading",H("div","loading-spinner"));this.b().appendChild(this.s);O(this.s,l);this.fc=H("div","no-comments","Start the conversation.");this.b().appendChild(this.fc);this.l=H("div","comments tweets");this.b().appendChild(this.l);M(M(this.j(),window,"resize",za(R,q(this.resize,this))),this.l,"click",q(this.jf,this));this.Ca.length?(u(this.Ca,function(a){this.pb(a)},this),this.Ec=N(this.l).height):
this.Rd&&this.cb.length?(u(this.cb,function(a){this.nc(a)},this),this.Ec=N(this.l).height):O(this.s,j);this.Rd?(T("/_tweet/"+this.f.id+"?offset="+this.cb.length,q(function(a){O(this.s,l);a=ef(zf(a.target));a=Ra(a,function(a){a=new Hi(a);this.nc(a);return a},this);this.Ec=N(this.l).height;this.resize()},this)),this.f.subscribe("add-tweet",function(a){this.nc(a,j)},this)):(T("/_comment/"+this.f.id+"?offset="+this.Ca.length,q(function(a){O(this.s,l);a=ef(zf(a.target));a=Ra(a,function(a){a=new Gi(a);
this.pb(a);return a},this);this.Ec=N(this.l).height;this.resize()},this)),this.f.subscribe(Qd,this.pb,this),this.f.subscribe(Rd,this.kg,this));this.resize(41)};
n.nc=function(a,b){this.Qd[a.id]=a;O(this.fc,l);var c=ii(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(xh,{nb:a,text:c,timestamp:Ii(a.time.getTime())});Li(Ae.a(),a.time,G("timestamp",c));b?cc(this.l,c,0):this.l.appendChild(c);this.resize();O(gc(this.l),j)};
n.jf=function(a){a=a.target;if(this.Rd){var b=pc(a,k,"tweet");b&&(b=this.Qd[b.id.split("-")[1]],D(a,"reply")&&Z.a().c("reply-tweet",b))}else if(b=pc(a,k,"comment")){var b=b.id.split("-")[1],c=this.ed[b];D(a,"reply")?G("reply-textarea",this.cc[c.I?c.I:c.id]).focus():D(a,"remove")&&this.f.c(Rd,b)}};n.kg=function(a){var a=F("listcomment-"+a),b=a.nextSibling;for(dc(a);b&&D(b,"reply");)b=b.nextSibling,dc(b)};
n.pb=function(a){this.Ca.push(a);O(this.fc,l);var b=ii(a.text),b=b.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,e){return'<a href="#user:'+b+'">'+e+"</a>"}),b=I(yh,{prefix:"listcomment",S:a,text:b,si:a.n.id==U.a().h.id});Li(Ae.a(),a.time,G("timestamp",b));a.I?G("replies",this.cc[a.I]).appendChild(b):this.l.appendChild(b);u(a.Ge,function(a){this.pb(a)},this);a.I||(this.l.scrollTop=this.l.scrollHeight);a.id&&Mi(this,a,b);return b};
function Mi(a,b,c){a.ed[b.id]=b;if(!b.I){a.cc[b.id]=c;var d=G("reply-textarea",c),c=new mg(d);M(a.j(),c,"key",q(function(a){a.stopPropagation();"13"==a.keyCode&&d.value&&(a.preventDefault(),a=Ji(U.a().h,this.f.id,d.value,l,l,b.id,b.n.id),this.pb(a),d.value="")},a))}}n.resize=function(a){this.aa=a||this.aa;sd(this.b(),Zb().height-42-this.aa-(pc(this.b(),k,"tabbed")?30:0))};function Ni(a,b,c,d){Q.call(this);this.f=this.V=a;this.Ca=b||[];this.cb=c||[];this.Rd=!!d;this.dd=new Ki(a,this.Ca);this.Dg=new Ki(a,i,j,this.cb);this.g=new Ci(j,j);this.La=["comments","tweets"];this.Nd={}}t(Ni,Q);n=Ni.prototype;n.u=function(a){Ni.e.u.call(this,a);A(a,"conversation");A(a,"ios-scroll");uc(a,Oh);A(a.firstChild,this.Rd?"tweets":"comments")};
n.z=function(){this.za=G("tabs",this.b());this.dd.i(G("comments-content",this.b()));this.Dg.i(G("tweets-content",this.b()));Gd(this.g,this.b());M(M(M(M(M(M(M(this.j(),this.za,"click",q(function(a){a=pc(a.target,"li");this.zb(a)},this)),this.g,"add",q(this.Ab,this)),this.g,"resize",q(function(){D(this.b().firstChild,"comments")?this.dd.resize(41):this.Dg.resize(41)},this)),window,"click",q(function(a){!pc(a.target,k,"comment-input")&&!this.g.r()&&(this.g.ja(l),this.g.collapse())},this)),G("no-comments",
this.b()),"click",q(this.oi,this)),Wb("no-comments",this.b())[1],"click",q(this.oi,this)),window,"click",q(function(a){!pc(a.target,k,"comment-input")&&!this.g.r()&&(this.g.ja(l),this.g.collapse())},this));this.dd.resize(41);this.Dg.resize(41)};n.oi=function(a){a.preventDefault();a.stopPropagation();this.g.ja(j)};
n.Ab=function(a){var b=Ji(U.a().h,this.f.id,a.text,a.jd,a.Fg,a.I,a.Si,q(function(a){var b=this.Nd[a.time.getTime()];b.id="infocomment-"+a.id;Mi(this.dd,a,b)},this)),c=this.dd.pb(b);this.Nd[b.time.getTime()]=c;a.jd&&!a.I&&(FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.lb,caption:"on XYLO",description:this.f.description},aa()),Ag(this.g.Ga,l))};n.zb=function(a){u(this.La,function(b){E(this.za.parentElement,b,D(a,b));this.A=D(a,b)?b:this.A},this)};function Ii(a){var b=r(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return Oi(c,b,0);c=Math.floor(c/60);if(24>c)return Oi(c,b,1);c=new Date(r());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?Oi(c,b,2):""}
function Oi(a,b,c){return!b&&0==c?(b=Aa("{$num} minute ago",{num:a}),c=Aa("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=Aa("in {$num} minute",{num:a}),c=Aa("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=Aa("{$num} hour ago",{num:a}),c=Aa("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=Aa("in {$num} hour",{num:a}),c=Aa("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=Aa("{$num} day ago",{num:a}),c=Aa("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=Aa("in {$num} day",{num:a}),c=Aa("in {$num} days",
{num:a}),1==a?b:c):""};function Pi(a,b,c,d,e){Q.call(this);u(a.Xf,function(a){var b=a.W();b&&b.media.id==this.id?(this.Ek=a,u(a.Xd,function(a){a.Re||(this.Db[a.n.id]=a.n)})):this.Db={}},a);this.f=this.V=a;this.se=c||k;this.Uh=d||k;this.Nj=l;this.mh=!b;this.ud=EMBED||!!e;this.Ue=[];this.Wd={};this.Ca=[];this.ed={};this.cc={};this.Nd={};this.cb=[];this.Qd={};this.g=new Ci(j,j);this.Ib=new Jg("Star");Bg(this.Ib,16,j);this.tf=new Jg("Facebook");this.Gg=new Jg("Twitter");this.vi=new Jg("Play");this.Kc=new Jg("Plus");Bg(this.Kc,
16,j);this.aa=0}t(Pi,Q);n=Pi.prototype;n.M=function(){this.d=I(vh,{media:this.f})};n.u=function(a){Pi.e.u.call(this,a);var b=I(vh,{media:this.f,description:this.f.description?ii(this.f.description):"",ic:Td(this.f),Wj:this.se?this.se.id:k});a.innerHTML=b.innerHTML};
n.z=function(){Pi.e.z.call(this);this.Kg=G("viewers",this.b());var a=G("picture",this.b()),b=G("scrollable",this.b()),c=G("publisher",this.b()),d=G("title",this.b()),e=G("links",this.b());this.s=G("loading",this.b());var g=a.firstChild;this.mf=G("info-contents",this.b());this.Vd=G("user-poll",this.b());this.um=G("tweet-holder",this.b());this.bb=G("tweets",this.b());this.Ub=G("dot-nav",this.b());this.l=G("comments",this.b());this.fc=G("no-comments",this.b());Gd(this.g,this.b());this.Ib.i(G("star",
this.b()));Ag(this.Ib,re(U.a().h,this.f));this.tf.i(G("facebook",this.b()));this.Gg.i(G("twitter",this.b()));this.vi.i(G("play",this.b()));this.Kc.i(G("plus",this.b()));this.Eg=new Fe(5E3);this.ym=G("watch-with",this.b());E(this.b(),"mini",this.ud);!this.mh||this.f.nh?Qi(this,l,this.f.description,this.f.Le,this.f.Vi,this.f.fb):this.mh&&T("/_info/"+this.f.id,q(function(a){a=ef(zf(a.target));Qi(this,j,a.description,a.seen,a.tweets,a.comments)},this));if("youtubeUCAMPco9PqjBbI_MLsDOO4Jw"==this.f.ca.id||
"youtubeAMPco9PqjBbI_MLsDOO4Jw"==this.f.ca.id){var h=G("status",this.Vd),m=G("poll-options",this.Vd);ic(h,"WHO'S YOUR FAVORITE FINALIST?");h=I(Rh,{name:"Kree Harrison",eg:"31%"});m.appendChild(h);h=I(Rh,{name:"Angie Miller",eg:"52%"});m.appendChild(h);h=I(Rh,{name:"Candice Glover",eg:"17%"});m.appendChild(h);O(this.Vd,j);M(this.j(),m,"click",q(function(a){if(!D(this.Vd,"voted")){A(this.Vd,"voted");var a=pc(a.target,k,"option"),b=mc(G("name",a));A(a,"selected");this.g.oa("@americanidol I just voted for "+
b,j,j);this.g.ja(j);u(ec(m),function(a){var b=mc(G("percent-number",a));G("percent",a).style.width=b},this)}},this))}M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(M(this.j(),window,"resize",za(R,q(this.resize,this))),c,"click",q(function(){Z.a().c("media-list",this.f.ca.name,i,"/admin/_media/publisher/"+this.f.ca.id,this.f.ca.L,this.f.ca.description,this.f.ca.link,"/_publisher/"+this.f.ca.id)},this)),this.Ib,"action",q(function(){Vd.a().c("star",this.f,jg(this.Ib,16));T("/_star",i,"POST","media_id="+
this.f.id+(!jg(this.Ib,16)?"&delete=1":""))},this)),this.tf,"action",q(this.mk,this)),this.Gg,"action",q(this.xk,this)),this.vi,"action",q(this.qk,this)),this.Kc,"action",q(this.tk,this)),G("local",this.b()),"click",q(function(){O(G("link-select",this.b()),j);G("link-input",this.b()).select()},this)),this.g,"add",q(this.Ab,this)),this.fc,"click",q(function(a){a.preventDefault();a.stopPropagation();this.g.ja(j)},this)),G("conv-link",this.b()),"click",q(function(a){a.preventDefault();a.stopPropagation();
Z.a().c("conversation",this.f,this.Ca,this.cb)},this)),G("tweets-link",this.b()),"click",q(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.f,this.Ca,this.cb,j)},this)),this.g,"focus",q(function(){this.resize(0,j)},this)),this.g,"resize",q(function(a){this.resize(a.target.ta-41)},this)),this.Ub,"click",q(function(a){D(a.target,"dot")&&(Ri(this,a.target),this.Eg.stop())},this)),this.Eg,He,q(function(){var a=this.Qb&&(this.Qb.nextElementSibling!=i?this.Qb.nextElementSibling:
fc(this.Qb.nextSibling))||G("dot",this.b());R(q(function(){Ri(this,a)},this))},this)),window,"click",q(function(a){!pc(a.target,k,"comment-input")&&!this.g.r()&&(this.g.ja(l),this.g.collapse()&&this.resize(0))},this)),g,"load",function(){O(g,j);R(function(){N(g).height<N(a).height+50&&A(g,"fix-height");N(g).width>2*N(a).width?A(g,"pan-left"):N(g).height>2*N(a).height&&A(g,"pan-top");g.style.marginTop=-N(g).height/2+"px";g.style.marginLeft=-N(g).width/2+"px";A(g,"show")})}),b,"scroll",q(function(){var h=
((this.ud?100:120)-b.scrollTop)/100;ud(c,Math.min(1,Math.max(h,0)));ud(d,Math.min(1,Math.max(h,0)));ud(e,Math.min(1,Math.max(h,0)));ud(g,Math.min(0.5,Math.max(h,0.1)));E(a,"scrolled",10<b.scrollTop)},this)),this.l,"scroll",q(this.ng,this)),this.l,"click",q(this.jf,this)),this.bb,"click",q(this.jl,this)),G("desc-link",this.b()),"click",q(function(){var c=Hb(a,"scrolled");(new Vf(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,c?this.ud?70:170:0],300)).play()},this));this.se&&M(this.j(),G("prev-link",this.b()),
"click",q(function(){Z.a().c("media-info",this.se,j,i,this.g.r())},this));this.Uh&&this.g.oa(this.Uh);sh(rh.a(),this.Kc.b(),"left",{text:"Add to Queue"});sh(rh.a(),this.tf.b(),"left",{text:"Post to Facebook"});sh(rh.a(),this.Gg.b(),"left",{text:"Tweet"});sh(rh.a(),this.Ib.b(),"left",{text:"Save"});sh(rh.a(),G("eye-icon",this.b()),"left",{text:"Seen by"});sh(rh.a(),G("friends-icon",this.b()),"left",{text:"Visible by only your Facebook friends"});this.f.subscribe(Qd,function(a){Si(this,a,j)},this);
this.f.subscribe(Rd,this.kg,this);this.f.subscribe("add-tweet",function(a){this.nc(a,j)},this);this.f.subscribe(Sd,function(a,b,c){Ti(this,a,!c)},this);U.a().h.subscribe("set-starred",function(){Ag(this.Ib,re(U.a().h,this.f))},this);Ce().subscribe(we,function(a,b){Ag(this.Kc,b)},this)};
function Qi(a,b,c,d,e,g){c?(a.f.description=c,G("description",a.b()).innerHTML=ii(c),O(G("scrollable",a.b()),j)):(O(G("desc-link",a.b()),l),O(G("scrollable",a.b()),l));a.Ue=Ra(d,function(a){a=b?Ee(U.a(),a):a;a.id!=U.a().h.id&&(O(this.Kg,j),this.Nj=j,Ti(this,a,l));return a},a);Lb(a.f.Db,function(a){Ti(this,a,j)},a);a.cb=Ra(e,function(a){a=b?new Hi(a):a;this.nc(a);this.Qb=this.Ub.firstChild;A(this.Qb,"selected");return a},a);e.length&&a.Eg.start();a.l&&O(a.l.parentElement,j);O(a.fc,!g.length);g=Ra(g,
function(a){a=b?new Gi(a):a;a.I||Si(this,a);return a},a);O(a.s,l);a.resize();b&&(a.f.Vi=a.cb,a.f.fb=g,a.f.Le=a.Ue,a.f.nh=j)}n.sb=function(){return this.g.oe()||!!this.g.mb||!!this.g.r()};function Ri(a,b){if(b){u(ec(a.Ub),function(a){return B(a,"selected")});a.Qb=b;A(a.Qb,"selected");var c=Ua(ec(a.Ub),function(a){return a==b});(new Vf(a.bb,[a.bb.scrollLeft,a.bb.scrollTop],[320*c,a.bb.scrollTop],200)).play();a.resize()}}
n.Ab=function(a){var b=Ji(U.a().h,this.f.id,a.text,a.jd,a.Fg,a.I,a.Si,q(function(a){var b=this.Nd[a.time.getTime()];b.id="infocomment-"+a.id;Ui(this,a,b)},this)),c=Si(this,b);this.Nd[b.time.getTime()]=c;a.jd&&!a.I&&FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.lb,caption:"on XYLO",description:this.f.description},aa());te.a().S(this.f.id,a.jd,a.Fg)};
n.nc=function(a,b){this.Qd[a.id]=a;var c=ii(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(xh,{nb:a,text:c,timestamp:Ii(a.time.getTime()),prefix:"infotweet"}),d=H("div","dot");Li(Ae.a(),a.time,G("timestamp",c));b?(cc(this.bb,c,0),cc(this.Ub,d,0),10<ec(this.bb).length&&(dc(this.bb.lastChild),dc(this.Ub.lastChild),
Ri(this,d))):(this.bb.appendChild(c),this.Ub.appendChild(d));this.resize();O(gc(this.bb),j)};
function Si(a,b,c){a.Ca.push(b);O(a.fc,l);var d=ii(b.text),d=d.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return'<a href="#user:'+b+'">'+c+"</a>"}),d=I(yh,{prefix:"infocomment",S:b,text:d,si:b.n.id==U.a().h.id});Li(Ae.a(),b.time,G("timestamp",d));b.I?G("replies",a.cc[b.I]).appendChild(d):a.l.appendChild(d);u(b.Ge,function(a){Si(this,a,c)},a);!b.I&&c&&(a.l.scrollTop=a.l.scrollHeight,a.mf.firstChild.scrollTop=a.mf.firstChild.scrollHeight);b.id&&Ui(a,b,d);return d}
function Ui(a,b,c){a.ed[b.id]=b;if(!b.I){a.cc[b.id]=c;var d=G("reply-textarea",c),c=new mg(d);M(a.j(),c,"key",q(function(a){a.stopPropagation();"13"==a.keyCode&&d.value&&(a.preventDefault(),a=Ji(U.a().h,this.f.id,d.value,l,l,b.id,b.n.id),Si(this,a),d.value="")},a))}}
function Ti(a,b,c){if(!c&&a.Wd[b.id])B(a.Wd[b.id],"online");else if(b.id!=U.a().h.id){if(!a.Wd[b.id]){var d=I(wh,{n:b});a.Wd[b.id]=d;cc(a.Kg,d,1);M(a.j(),d,"click",function(){Z.a().c("profile",b)});sh(rh.a(),d,"top",{text:b.kd()+(D(d,"online")?" is watching":" saw this")})}O(a.Kg,j);E(a.Wd[b.id],"online",c)}}n.jl=function(a){var a=a.target,b=pc(a,k,"tweet");b&&(b=this.Qd[b.id.split("-")[1]],D(a,"reply")&&Z.a().c("reply-tweet",b))};
n.jf=function(a){var a=a.target,b=pc(a,k,"comment");if(b){var b=b.id.split("-")[1],c=this.ed[b];D(a,"reply")?G("reply-textarea",this.cc[c.I?c.I:c.id]).focus():D(a,"remove")&&this.f.c(Rd,b)}};n.kg=function(a){var b=F("infocomment-"+a),c=b.nextSibling;dc(b);for(Xa(this.Ca,function(b){return b.id==a});c&&D(c,"reply");)c=c.nextSibling,dc(c)};
n.ng=function(){E(this.l.parentElement,"top-grad",!!this.l.scrollTop);var a=this.l.style.maxHeight,b=Zb().height,a=a.substring(0,a.length-2),c=N(this.l).height;E(this.l.parentElement,"bottom-grad",this.l.scrollTop<this.l.scrollHeight-a-5&&c>=a&&640<b)};
n.resize=function(a,b){this.aa=a!=i?a:this.aa;var c=Zb().height;sd(this.mf,c-(this.ud?183:283)-(this.Ue.length?38:0));640<c&&this.l&&this.l.parentElement?(hd(this.l,"max-height",c-(new Ib(this.l.parentElement.offsetLeft,this.l.parentElement.offsetTop)).y-(this.ud?213:313)-(this.Ue.length?38:0)-this.aa+"px"),this.ng()):640>c&&(hd(this.l,"max-height",""),this.ng());b&&R(q(function(){(new Vf(this.l,[this.l.scrollLeft,this.l.scrollTop],[this.l.scrollLeft,this.l.scrollHeight],400)).play()},this),0)};
n.mk=function(){O(F("overlay"),j);FB.ui({method:"feed",name:this.f.name,link:this.f.link,L:this.f.lb,caption:"on XYLO",description:this.f.description},function(){O(F("overlay"),l)});Vi(te.a(),this.f.id,j,l)};n.xk=function(){var a=window.open("https://twitter.com/share?url="+this.f.link+"&text=I'm watching "+this.f.name+" "+this.f.link,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();Vi(te.a(),this.f.id,l,j)};n.qk=function(){var a=me(this.V);Ef.a().c(Ff,a)};
n.tk=function(){Ce().c(we,this.V,jg(this.Kc,16))};function Wi(a,b,c,d,e,g){Q.call(this);this.bc=pe();this.$h=a||k;this.Td=b||k;this.Nf={};this.Ag=c||k;this.tc=d||k;this.ih=g||k;this.ak=e||k;this.pf=this.bc?new gi:k;this.Ec=this.Jh=0}t(Wi,Q);
Wi.prototype.u=function(a){Wi.e.u.call(this,a);a.innerHTML="";a.scrollTop=0;A(this.b(),"ios-scroll");(this.tc||this.Ag)&&Xi(this);!this.tc&&this.ih&&T(this.ih,q(function(a){a=V(a.target);a.description&&this.td?(G("description",this.td).innerHTML=ii(a.description),this.Jh=N(this.td).height,this.resize()):a.description&&Xi(this)},this));this.s=H("div","loading",H("div","loading-spinner"));this.b().appendChild(this.s);O(this.s,l);D(this.b(),"starred")&&(this.Gc=H("div","no-comments","Favorities will appear here."),
this.b().appendChild(this.Gc));this.ve=H("div","medias");this.b().appendChild(this.ve);M(this.j(),window,"resize",za(R,q(this.resize,this)));this.Td?(O(this.s,j),T(this.Td,q(function(a){O(this.s,l);a=ef(zf(a.target));a=Ra(a,function(a){return new Od(a)});u(a,this.Ze,this);this.Ec=N(this.ve).height;this.resize()},this))):this.$h&&(u(this.$h,this.Ze,this),this.Ec=N(this.ve).height,this.resize())};
Wi.prototype.Ze=function(a){this.Gc&&O(this.Gc,l);var b=I(Ph,{media:a}),c=G("list-play",b),d=G("list-plus",b);this.ve.appendChild(b);if(this.bc){var e=this.pf,g=new fi(b,i);hi(e,g)}M(M(M(this.j(),b,"click",q(function(){Z.a().c("media-info",a)},this)),c,"click",q(function(b){b.preventDefault();b.stopPropagation();b=me(a);Ef.a().c(Ff,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();Ce().c(we,a,j)});this.Nf[a.id]=b};
Wi.prototype.resize=function(){sd(this.b(),Zb().height-40-(pc(this.b(),k,"tabbed")?30:0))};function Xi(a){a.td=I(Dh,{lb:a.Ag,description:a.tc?ii(a.tc):"",link:a.ak});a.b().appendChild(a.td);a.Jh=N(a.td).height;a.resize()}Wi.prototype.Vf=function(a,b){T("/admin/_addprogram",q(function(b){b=ef(zf(b.target));b=new le(b);a.c(ve,b)},this),"POST","channel="+a.id+"&media="+b.id)};function Yi(a){this.id=a.id;this.H=Ee(U.a(),a.from_user);this.fl=Ee(U.a(),a.to_user);this.text=a.text;this.Za=a.read;this.Fb=(this.time=a.time?Pd(a.time+"Z"):k)?Ii(this.time.getTime()):k}Yi.prototype.Ne=function(){T("/_message",Ud(),"POST","id="+this.id+"&read=1");this.Za=j;U.a().h.c("read-message",this.H.id)};function Zi(a){return'<div class="message'+(a.yj?" flip":"")+'"><a href="#user:'+J(a.message.H.id)+'"><div class="picture" style="background:'+J(a.message.H.color)+'"><img src="'+J(a.message.H.L)+'"/></div></a><div class="body"><a class="user" href="#user:'+J(a.message.H.id)+'">'+J(a.message.H.name)+'</a>  <div class="texts"><div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.Fb)+"</div></div></div></div></div>"}
function $i(a){return'<div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.Fb)+"</div></div>"};function aj(a,b){Q.call(this);this.Ba=a||k;this.Ya=b||k;this.Pf={};this.g=new Ci(l);this.aa=0;this.Ua=this.Ba.id==U.a().h.id}t(aj,Q);
aj.prototype.u=function(a){aj.e.u.call(this,a);a.innerHTML="";a.scrollTop=0;this.yb=H("div","messages");this.b().appendChild(this.yb);E(this.yb,"inbox",this.Ua);this.s=H("div","spinner");this.yb.appendChild(this.s);O(this.s,l);this.ye=H("div","no-comments","Start a private conversation.");this.yb.appendChild(this.ye);this.ib=H("div","no-comments","Load previous messages");this.yb.appendChild(this.ib);O(this.ib,!this.Ua&&10<=this.Ya.length);O(this.ye,l);this.Ua?(this.Ya=this.Ya.reverse(),U.a().h.subscribe("read-message",
function(a){if((a=this.Pf[a])&&D(a,"unread"))B(a,"unread"),Z.a().c("new-messages",-1)},this)):(Gd(this.g,this.b()),M(M(M(M(M(this.j(),window,"click",q(function(a){!pc(a.target,k,"comment-input")&&!this.g.r()&&(this.g.ja(l),this.g.collapse()&&this.resize(0))},this)),this.ye,"click",q(function(a){a.preventDefault();a.stopPropagation();this.g.ja(j)},this)),this.ib,"click",q(this.bk,this)),this.g,"add",q(this.Ab,this)),window,"resize",za(R,q(this.resize,this))));Pa(this.Ya,function(a){bj(this,a)},this);
U.a().subscribe("new-message",function(a){if(a.H.id==this.Ba.id||a.fl.id==this.Ba.id){if(this.Ua){var c=j,d=this.Pf[a.H.id];d&&(c=!D(d,"unread"),dc(d));c&&Z.a().c("new-messages",1)}bj(this,a,this.Ua);this.resize()}},this);this.resize()};
aj.prototype.bk=function(){this.ib&&O(this.ib,l);O(this.s,j);T("/_message/"+this.Ba.id+"?offset="+this.Ya.length,q(function(a){a=V(a.target);if(a.length){this.te=k;var b=H("div","separator");cc(this.yb,b,3)}O(this.s,l);this.ib&&O(this.ib,!!a.length);Pa(a,function(a){a=new Yi(a);this.Ya.push(a);bj(this,a,j);return a},this);a.length&&(this.b().scrollTop=0,this.te=k,this.b().scrollTop=b.offsetHeight)},this))};
function bj(a,b,c){O(a.ye,l);a.ib&&O(a.ib,!a.Ua&&10<=a.Ya.length);var d;if(!a.Ua&&a.te&&a.te.H.id==b.H.id)d=I($i,{message:b}),G("texts",a.Xj).appendChild(d),d=G("timestamp",d);else{var e=I(Zi,{message:b,yj:b.H.id==U.a().h.id});a.te=b;a.Xj=e;c?cc(a.yb,e,3):a.yb.appendChild(e);d=G("timestamp",e);E(e,"unread",!b.Za);a.Ua&&(a.Pf[b.H.id]=e,M(a.j(),e,"click",q(function(){b.Za||(b.Ne(),B(e,"unread"),Z.a().c("new-messages",-1));Z.a().c("profile",b.H)},a)))}Li(Ae.a(),b.time,d);c||(a.b().scrollTop=a.b().scrollHeight);
!a.Ua&&(!b.Za&&Z.a().of==b.H.id)&&b.Ne()}aj.prototype.Ab=function(a){var b=new Yi({from_user:U.a().h,to_user:Ee(U.a(),this.Ba),text:a.text});b.time=new ae;b.Fb=Ii(b.time.getTime());bj(this,b);T("/_message",a.jj,"POST","from_id="+U.a().h.id+"&to_id="+this.Ba.id+"&text="+a.text)};aj.prototype.resize=function(a){this.Ua?this.dispatchEvent("resize"):(this.aa=a||this.aa,sd(this.b(),Zb().height-82-this.aa-(pc(this.b(),k,"tabbed")?30:0)))};function cj(a){this.id=a.id;this.n=Ee(U.a(),a.user);this.type=a.type;this.S=new Gi(a.comment);this.Za=a.read;this.Fb=(this.time=a.time?Pd(a.time+"Z"):k)?Ii(this.time.getTime()):k}cj.prototype.Ne=function(){T("/_notification",Ud(),"POST","id="+this.id+"&read=1");this.Za=j};function dj(a){return'<div class="notification"><a href="#user:'+J(a.H.id)+'"><div class="picture" style="background:'+J(a.H.color)+'"><img src="'+J(a.H.L)+'"/></div></a><div class="body"><div class="type"><a class="user" href="#user:'+J(a.H.id)+'">'+J(a.H.name)+"</a> "+("reply"==a.Tf.type?"replied to your comment":"")+("mention"==a.Tf.type?"mentioned you in a comment":"")+'</div><div class="texts"><div class="text">'+J(a.text)+'<div class="timestamp">'+J(a.Tf.Fb)+"</div></div></div></div></div>"}
;function ej(a){Q.call(this);this.wd=a;this.hm={};this.aa=0}t(ej,Q);
ej.prototype.u=function(a){ej.e.u.call(this,a);a.innerHTML="";a.scrollTop=0;this.vd=H("div","notifications");this.b().appendChild(this.vd);this.s=H("div","spinner");this.vd.appendChild(this.s);O(this.s,l);this.Sf=H("div","no-comments","No Notifications");this.vd.appendChild(this.Sf);O(this.Sf,!this.wd.length);u(this.wd,function(a){fj(this,a)},this);this.dispatchEvent("resize");U.a().subscribe("new-notification",function(a){fj(this,a,j);Z.a().c("new-messages",1);this.dispatchEvent("resize")},this)};
function fj(a,b,c){O(a.Sf,l);var d;d=b.S.text.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return c});var e=I(dj,{Tf:b,text:d,H:b.S.n});c?cc(a.vd,e,2):a.vd.appendChild(e);d=G("timestamp",e);E(e,"unread",!b.Za);M(a.j(),e,"click",q(function(){b.Za||(b.Ne(),B(e,"unread"),Z.a().c("new-messages",-1));Z.a().c("media-info",b.S.media)},a));Li(Ae.a(),b.time,d);c||(a.b().scrollTop=a.b().scrollHeight)};function gj(a){return'<div class="user'+(a.media?" media":"")+'"><div class="name">'+J(a.n.name)+'</div><div class="picture" style="background:'+J(a.n.color)+'"><img src="'+J(a.n.L)+'"/></div>'+(a.timestamp?'<div class="timestamp">'+J(a.timestamp)+"</div>":"")+(a.media?'<div class="media"><div class="watched">LAST WATCHED </div><div class="watching">NOW WATCHING </div><a class="media-link">'+J(a.media.name)+"</a></div>":"")+"</div>"};function hj(a,b){Q.call(this);this.Uc=a||k;this.Xi={};this.gc=[];this.Hc=[];this.Lc=[];this.Hb=!!b;this.aa=0}t(hj,Q);
hj.prototype.u=function(a){hj.e.u.call(this,a);a.innerHTML="";a.scrollTop=0;A(a,"friendlist");A(a,"ios-scroll");this.Hb||(a=H("div","label show-all",H("a",{href:"#friendlist:1"},"ALL FRIENDS >")),this.b().appendChild(a));this.Ae=H("div","label online-friends-label",this.Hb?"ONLINE FRIENDS":H("a",{href:"#friendlist:1"},"ONLINE FRIENDS"));O(this.Ae,l);this.b().appendChild(this.Ae);this.$f=H("div","online-friends");this.b().appendChild(this.$f);this.Dd=H("div","label",this.Hb?"RECENTLY ONLINE":H("a",
{href:"#friendlist:1"},"RECENTLY ONLINE"));O(this.Dd,l);this.b().appendChild(this.Dd);this.Fe=H("div","recent-friends");this.b().appendChild(this.Fe);this.Hb&&(this.ze=H("div","label","OFFLINE FRIENDS"),O(this.ze,l),this.b().appendChild(this.ze),this.Uf=H("div","offline-friends"),this.b().appendChild(this.Uf),T("/_friends?offline=1",q(function(a){a=V(a.target);this.Hc=Ra(a,function(a){a=Ee(U.a(),a);ij(this,a,j);return a})},this)),this.Hb&&this.resize(),M(this.j(),window,"resize",q(function(){this.Hb&&
R(q(function(){this.resize()},this))},this)));if(this.Uc)Na.sort.call(this.Uc,function(a,b){return a.v&&!b.v?1:!a.v&&b.v?-1:!a.v&&!b.v?0:a.v.getTime()<b.v.getTime()?1:-1}||bb),u(this.Uc,function(a){ij(this,a)},this);else{var a=U.a(),b=q(function(a){this.Uc=a;Na.sort.call(this.Uc,function(a,b){return a.v&&!b.v?1:!a.v&&b.v?-1:!a.v&&!b.v?0:a.v.getTime()<b.v.getTime()?1:-1}||bb);u(this.Uc,function(a){ij(this,a)},this)},this);a.th?b&&b(a.vf):T("/_friends",q(function(a){a=V(a.target);this.vf=Ra(a,function(a){return Ee(this,
a)},this);this.th=j;b&&b(this.vf)},a))}U.a().subscribe(De,this.ml,this)};
function ij(a,b,c){var d=l,e=I(gj,{n:b,timestamp:b.v?Ii(b.v.getTime()):k,media:b.Qa});b.v&&Li(Ae.a(),b.v,G("timestamp",e));b.Ic&&!c?(O(a.Ae,j),A(e,"online"),u(a.gc,function(a,c){a.kd()>b.kd()&&(cc(this.$f,e,c),$a(this.gc,c,0,b),d=j)},a),d||(a.$f.appendChild(e),a.gc.push(b))):b.v&&!c&&5>a.Lc.length?(O(a.Dd,j),u(a.Lc,function(a,c){a.v&&(b.v&&a.v.getTime()<b.v.getTime())&&(cc(this.Fe,e,c),$a(this.Lc,c,0,b),d=j)},a),d||(a.Fe.appendChild(e),a.Lc.push(b))):a.Hb&&(O(a.ze,j),u(a.Hc,function(a,c){a.v&&(b.v&&
a.v.getTime()<b.v.getTime())&&(cc(this.Uf,e,c),$a(this.Hc,c,0,b),d=j)},a),d||(a.Uf.appendChild(e),a.Hc.push(b)));a.Hb||(O(a.Dd,!a.gc.length),O(a.Fe,!a.gc.length));a.Xi[b.id]=e;c=G("media-link",e);M(a.j(),e,"click",q(function(){Z.a().c("profile",b)},a));c&&M(a.j(),c,"click",q(function(a){a.stopPropagation();a.preventDefault();Z.a().c("media-info",b.Qa)},a))}
hj.prototype.ml=function(a){var b=this.Xi[a.id];b&&(dc(b),Xa(this.Hc,function(b){return b.id==a.id})&&O(this.ze,!!this.Hc.length),Xa(this.gc,function(b){return b.id==a.id})&&O(this.Ae,!!this.gc.length),Xa(this.Lc,function(b){return b.id==a.id})&&O(this.Dd,!!this.Lc.length));ij(this,a)};hj.prototype.resize=function(a){this.aa=a||this.aa;sd(this.b(),Zb().height-42-this.aa-(pc(this.b(),k,"tabbed")?30:0))};function jj(a,b){Q.call(this);this.ej=a;this.Tc=b||k;this.R=0;this.Hi=!b;this.Yb=l;this.oh={};this.ad={};this.ec={};this.vb={};this.Te={};this.zi={};this.Og=[]}t(jj,Q);
jj.prototype.u=function(a){jj.e.u.call(this,a);a.innerHTML="";a.scrollTop=0;A(a,"stream");A(a,"ios-scroll");this.Hi&&(this.sh=H("div","friendlist"),this.b().appendChild(this.sh),a=H("div","label","ACTIVITY"),this.b().appendChild(a));this.Yc=H("div","activities");this.b().appendChild(this.Yc);this.s=H("div","spinner");this.b().appendChild(this.s);O(this.s,l);this.Gc=H("div","no-comments",this.Tc?"Your activity will appear here.":"Friends' activity will appear here.");this.b().appendChild(this.Gc);
kj(this,this.ej);this.Hi&&(this.uf=new hj(i,l),this.uf.i(this.sh));U.a().subscribe("new-activity",function(a){(this.Tc==a.user.id||!this.Tc&&a.user.id!=U.a().h.id)&&lj(this,a,i,i,j)},this);M(M(this.j(),this.b(),"scroll",q(function(){!this.Yb&&this.b().scrollTop+Zb().height>this.b().scrollHeight-60&&mj(this)},this)),window,"resize",za(R,q(this.resize,this)));this.resize()};
function mj(a){O(a.s,j);T("/_activity"+(a.Tc?"/"+a.Tc:"")+"?offset="+a.R,q(function(a){this.oh[String(a.target.rd)]||(this.oh[String(a.target.rd)]=j,a=V(a.target).activities,this.Yb=!a.length,E(this.s,"finished",this.Yb),O(this.s,this.Yb),kj(this,a))},a))}
function kj(a,b){a.ad=[];a.ec=[];a.vb=[];u(b,function(a){this.R++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.ad?this.ad[a.channel_id]:[];b.push(a);this.ad[a.channel_id]=b;break;case "liked":this.ec[a.media.id]||(b=a.media.id in this.vb?this.vb[a.media.id]:[],b.push(a),this.vb[a.media.id]=b,b=a.user.id in this.Te?this.Te[a.user.id]:[],b.push(a),this.Te[a.user.id]=b);break;case "comment":a=a.comment,b=a.media.id in this.ec?this.ec[a.media.id]:[],b.push(a),this.ec[a.media.id]=
b,this.vb[a.media.id]&&Pb(this.vb,a.media.id)}},a);Lb(a.ad,function(a){lj(this,i,a,"session")},a);Lb(a.ec,function(a){lj(this,i,a,"comment")},a);Lb(a.vb,function(a){1<a.length&&lj(this,i,a,"liked")},a);Lb(a.Te,function(a){lj(this,i,a,"liked")},a)}
function lj(a,b,c,d,e){O(a.Gc,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],m=b?[Ee(U.a(),b.user)]:[],s=b?Pd(b.time+"Z"):k;c&&u(c,function(a){Ta(m,function(b){return b.id==a.user.id})||m.push(Ee(U.a(),a.user));var b=Pd((a.time||a.tune_in)+"Z");s=s&&s.getTime()>b.getTime()?s:b;"session"==g?u(a.media,function(a){!this.ec[a.id]&&(!this.vb[a.id]&&!Ta(h,function(b){return b.id==a.id}))&&h.push(a)},this):"liked"==g&&!this.zi[a.media.id]&&(h.push(a.media),this.zi[a.media.id]=j)},a);switch(g){case "session":if(!a.Tc&&
2>m.length)return;var d=b?b.session:c[0],y=W.a().get(d.channel_id),h=b?b.session.media:h;3<h.length&&(h=h.slice(0,3));b=I(Ah,{D:m,O:y,time:Ii(s.getTime()),Ui:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[Wd(Vd.a(),c[0].media)],x=b?[new Gi(b.comment)]:[];c&&u(c,function(a){x.push(new Gi(a))});b=I(Bh,{fb:x.reverse().slice(0,3),D:m,media:h[0]});break;case "liked":h=b?[b.media]:h;b=I(Ch,{D:m,ai:h.length,time:Ii(s.getTime())});break;default:return}if(h.length){Li(Ae.a(),s,G("timestamp",
b));d=Ua(a.Og,function(a){return a.time<s.getTime()});$a(a.Og,d,0,{time:s,element:b});var C=G("medias",b);u(h,function(a){var b=Wd(Vd.a(),a),a=I(Ph,{media:b}),c=G("list-play",a),d=G("list-plus",a);G("thumb",a);C.appendChild(a);M(M(M(this.j(),a,"click",function(){Z.a().c("media-info",b)}),c,"click",function(a){a.preventDefault();a.stopPropagation();a=me(b);Ef.a().c(Ff,a)}),d,"click",function(a){a.preventDefault();a.stopPropagation();Ce().c(we,b,j)})},a);e?cc(a.Yc,b,0):c?cc(a.Yc,b,d):a.Yc.appendChild(b);
R(za(A,b,"show"))}}jj.prototype.resize=function(){var a=Zb().height-40-(pc(this.b(),k,"tabbed")?40:10);sd(this.b(),a);N(this.Yc).height<a&&mj(this)};function nj(a){Q.call(this);this.Ba=this.V=a;this.we=a.id==U.a().h.id;this.La=[this.we?"inbox":"messages","activity","starred"]}t(nj,Q);nj.prototype.u=function(a){nj.e.u.call(this,a);A(a,"profile");A(a,"ios-scroll");uc(a,Nh,{Rf:this.we})};
nj.prototype.z=function(){this.za=G("tabs",this.b());this.we&&(T("/_notification",q(function(a){var a=V(a.target),b=0,a=Ra(a,function(a){a=new cj(a);b+=!a.Za?1:0;return a},this);Z.a().c("new-messages",b);this.wd=new ej(a);M(this.j(),this.wd,"resize",za(R,q(this.lg,this)));this.wd.i(G("notifications-content",this.b()))},this)),this.Tj=G("inbox-content",this.b()),M(this.j(),window,"resize",za(R,q(this.lg,this))));T("/_message/"+this.Ba.id,q(function(a){var a=V(a.target),b=0,a=Ra(a,function(a){a=new Yi(a);
b+=!a.Za?1:0;return a},this);this.we&&Z.a().c("new-messages",b);this.Ya=new aj(this.Ba,a);M(this.j(),this.Ya,"resize",za(R,q(this.lg,this)));this.Ya.i(G("messages-content",this.b()))},this));T("/_star/"+this.Ba.id,q(function(a){var a=V(a.target),a=Ra(a,function(a){return new Od(a)}),b=U.a().h;b.Ji=a;b.c("set-starred");this.Id=new Wi(a);this.Id.i(G("starred-content",this.b()))},this));T("/_activity/"+this.Ba.id,q(function(a){a=V(a.target).activities;this.xg=new jj(a,this.Ba.id);this.xg.i(G("activity-content",
this.b()))},this));M(this.j(),this.za,"click",q(function(a){a=pc(a.target,"li");this.zb(a)},this));Vd.a().subscribe("star",function(a,b){if(b)this.Id.Ze(a);else{var c=this.Id,d=c.Nf[a.id];d&&(Cc(d),Pb(c.Nf,a.id))}},this)};nj.prototype.zb=function(a){u(this.La,function(b){E(this.za.parentElement,b,D(a,b));this.A=D(a,b)?b:this.A},this)};nj.prototype.lg=function(){sd(this.Tj,Zb().height-73)};function oj(){Q.call(this);this.bc=pe();this.hj=new Bi;this.La={};this.Jb=[];this.Mc=[];this.ac=this.Xc=0}t(oj,Q);n=oj.prototype;
n.z=function(){oj.e.z.call(this);this.Zc=G("arrow",this.Kb);this.lf=F("sidebar-content");this.Zh=F("media-list");this.De=F("profile");this.rh=F("friendlist");this.eh=F("conversation");this.Kb=F("toolbar");this.za=G("tabs",this.b());this.Xe=G("activities-count",this.b());this.Ef=G("inbox-count",this.b());var a=new mg(document);u(ec(this.za),function(a){var b=Gb(a)[0];this.La[b]=a;this.Jb.push(b)},this);this.Yf();T("/_activity",q(function(a){a=V(a.target);this.xg=new jj(a.activities);this.xg.i(F("stream"));
Z.a().c("new-activites",parseInt(a.new_count,10))},this));this.Id=new nj(U.a().h);this.Id.i(F("my-profile"));this.X&&DESKTOP?(this.G=F("info"),this.A="info",pj(this,"info","info")):(this.G=F("stream"),this.A="stream",pj(this,"info","stream"));var b="left";u(this.Jb,function(a){var c=G(a,this.lf);a==this.A?b="right":A(c,b)},this);this.Mc=[this.G,""];A(this.G,"current");if(this.bc){this.hj.i(F("admin"));var c=I(Eh,{name:"ADMIN",className:"admin"});this.za.appendChild(c);this.La.admin=c;this.Jb.push("admin")}qj(this);
M(M(M(M(this.j(),G("back-button",this.Kb),"click",q(function(a){var b=this.Mc.shift();this.navigate(b[0],j,b[1]);qj(this);a.stopPropagation()},this)),this.za,"click",q(function(a){var b=this.A,c=pc(a.target,"li"),h=Gb(c)[0];pj(this,this.A,h);A(c,"selected");qj(this);b!=this.A&&a.stopPropagation();"stream"==h&&this.hi(0,j)},this)),this.Kb,"click",q(function(a){((a=pc(a.target,"li"))&&Gb(a)[0]==this.A||!a)&&(new Vf(this.G,[this.G.scrollLeft,this.G.scrollTop],[this.G.scrollLeft,0],300)).play()},this)),
a,"key",q(function(a){a.ctrlKey&&"68"==a.keyCode&&Hb(this.b(),"dark")},this));DESKTOP&&Y.a().subscribe(Og,function(a){E(this.b(),"toggled",a);R(q(function(){E(this.b(),"collapsed",!a)},this),!a?500:0)},this);Z.a().subscribe("navigate",this.navigate,this);Z.a().subscribe("new-activites",this.hi,this);Z.a().subscribe("new-messages",this.hk,this);Z.a().subscribe("conversation",this.Rk,this);Z.a().subscribe("media-list",this.Uk,this);Z.a().subscribe("media-info",this.Ii,this);Z.a().subscribe("friend-list",
this.Tk,this);Z.a().subscribe("profile",this.Vk,this);W.a().subscribe(Bf,this.Yf,this);Ef.a().subscribe(Ff,this.Yf,this);W.a().subscribe(Af,this.kk,this);DESKTOP&&Y.a().subscribe(rj,function(a){E(this.b(),"admin",a);a?(Y.a().c(Og,j),pj(this,this.A,"admin")):"admin"==this.A&&pj(this,"admin","info")},this)};n.hi=function(a,b){b&&(this.Xc=0,O(this.Xe,l));this.Xc+=a;ic(this.Xe,this.Xc.toString());O(this.Xe,!!this.Xc)};
n.hk=function(a,b){b&&(this.ac=0,O(this.Ef,l));this.ac+=a;this.ac=Math.max(this.ac,0);ic(this.Ef,this.ac.toString());O(this.Ef,!!this.ac)};n.Yf=function(a){if(a=a||W.a().K.W())if(this.Rb=a.media,!this.X||this.Rb.id!=this.X.V.id){var a=this.X&&this.X.g.r()?this.X.g.r():k,b=this.X?this.X.f:k;Cc(this.X);this.X=new Pi(this.Rb,l,b,a);this.X.i(F("info"))}};
n.kk=function(a){a=a||W.a().K;if((this.Rb=a.W()&&a.W().media)&&(!this.X||this.Rb.id!=this.X.V.id))Cc(this.X),this.X=new Pi(this.Rb),this.X.i(F("info")),this.Ii(this.Rb)};
function pj(a,b,c){var d=G(c,a.lf),e=Oa(a.Jb,b),b=Oa(a.Jb,c),g=(e=e<b)?0:a.Jb.length-1,h=e?g<a.Jb.length:0<=g;for(g;h;g+=e?1:-1){var m=G(a.Jb[g],a.lf);if(e&&g>b||!e&&g<b)A(m,"right"),B(m,"left");else if(e&&g<b||!e&&g>b)E(m,"left",e),A(m,"right");else if(g==b){B(m,"right");B(m,"left");break}}a.A=c;$a(a.Mc,0,0,[a.G,""]);B(a.G,"current");a.G=d;A(a.G,"current");qj(a)}
n.navigate=function(a,b,c){if(a==this.G)c&&ic(G("back-title",this.Kb),c);else{var d=D(this.G,"screen");b?(B(this.G,"on"),B(this.G,"current"),A(a,"current"),this.G=a):(E(this.G,"on",!d),b=[this.G,mc(G("back-title",this.Kb))],$a(this.Mc,0,0,b),B(this.G,"current"),this.G=a,A(this.G,"current"));E(this.Kb,"back",D(this.G,"slide"));c&&ic(G("back-title",this.Kb),c);this.G!=this.De&&(Z.a().of=k)}};n.Rk=function(a,b,c,d){(new Ni(a,b,c,d)).i(this.eh);Z.a().c("navigate",this.eh,l,a.name)};
n.Uk=function(a,b,c,d,e,g,h){(new Wi(b,c,d,e,g,h)).i(this.Zh);Z.a().c("navigate",this.Zh,l,a,d,e)};n.Tk=function(){this.uf=new hj(i,j);this.uf.i(this.rh);Z.a().c("navigate",this.rh,l,"Friends")};n.Ii=function(a,b,c,d){if(this.X&&a.id==this.X.V.id){B(this.Kb,"back");for(a=this.Mc[0][0];a&&D(a,"slide");)a=this.Mc.shift();pj(this,this.A,"info")}else{var e=F("media-info");(new Pi(a,b,c,d)).i(e);Z.a().c("navigate",e,l,a.name)}DESKTOP&&Y.a().c(Og,j)};
n.Vk=function(a){if(!this.ig||!(this.ig.V.id==a.id&&this.G==this.De))Z.a().of=a.id,this.ig=new nj(a),this.ig.i(this.De),Z.a().c("navigate",this.De,l,a.name),DESKTOP&&Y.a().c(Og,j)};
function qj(a){var b=Math.round(N(a.La[a.A]).width/2+(new Ib(a.La[a.A].offsetLeft,a.La[a.A].offsetTop)).x);a.Zc.style.transform="translate3d("+b+"px, 0,0)";a.Zc.style.msTransform="translate3d("+b+"px, 0,0)";a.Zc.style.WebkitTransform="translate3d("+b+"px, 0,0)";a.Zc.style.MozTransform="translate3d("+b+"px, 0,0)";a.Zc.style.wl="translate3d("+b+"px, 0,0)"};function sj(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="logo"></div></div><div id="sidebar" class="toggled"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM<div class="activities-count" style="display:none"></div></div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="conversation" class="slide"></div>'+
(a.gj?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="notify" class="notify"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'};function te(){}ma(te);_gaq=[];te.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};te.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",U.a().h.id])};
function Be(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",U.a().h.id])}te.prototype.$c=function(a,b){a.Y||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
te.prototype.S=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",U.a().h.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",U.a().h.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",U.a().h.id])};
function Vi(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",U.a().h.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",U.a().h.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",U.a().h.id]);T("/_share",Ud(),"POST","facebook="+c+"&twitter="+d)}ha("_gaq",_gaq);function Y(){S.call(this);this.Dk=j;var a=F("controller");this.ug=!a||D(a,"sidebar-toggled");this.xf=a&&D(a,"guide-toggled");a=F("guide");this.tm=!!a&&D(a,"timeless");this.subscribe(Og,ba("ug"),this);this.subscribe(Pg,ba("xf"),this);this.subscribe(Qg,ba("Dk"),this)}t(Y,S);ma(Y);function Ai(a,b){var c=F("toggle-pending");ic(c,b);O(c,!!b)}var Qg="play",Rg="mute",Sg="restart",Pg="toggle-guide",Og="toggle-sidebar",rj="toggle-admin";function tj(){S.call(this);this.Xh=l}t(tj,S);ma(tj);tj.prototype.init=function(a){this.mb=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=q(this.pk,this);a.onclose=q(this.ji,this);L(window,"onbeforeunload",q(this.ji,this));return this};
tj.prototype.pk=function(a){var b=ef(a.data);switch(b.type){case "viewer_change":var c=Ee(U.a(),b.user);c.Ic!=b.online&&U.a().c(De,c,b.online);var d=b.time&&Pd(b.time+"Z");c.ee&&d&&c.ee.end(d);if(a=b.last_channel_id&&W.a().get(b.last_channel_id))a.c("remove-viewer",c),c.Qa&&c.Qa.c(Sd,c,a,j);var e=b.channel_id&&W.a().get(b.channel_id),a=b.media&&Wd(Vd.a(),b.media);e&&(d=d||new ae,d=new se(b.session_id,c,e,d),c.ee=d,e.c(xe,d),a=(d=e.W())?d.media:a);a&&a.c(Sd,c,e);break;case "notification":a=new cj(b.notification);
U.a().c("new-notification",a);break;case "new_comment":c=new Gi(b.comment);if(c.n.id!=U.a().h.id&&(d=b.tweet?new Hi(b.tweet):k,a=Wd(Vd.a(),b.comment.media)))a.c(Qd,c),d&&a.c("add-tweet",d);break;case "new_message":a=new Yi(b.message);U.a().c("new-message",a);Z.a().of!=a.H.id&&Kd.a().c(Ld,"messaged you",a.text,a.H,a.H.L,"#user:"+a.H.id);break;case "new_activity":U.a().c("new-activity",b.activity);b.activity.user.id!=U.a().h.id&&Z.a().c("new-activites",1);break;case "update_programs":a=b.programs;e=
W.a().get(b.channel_id);u(a,function(a){e.c(ye,a)},this);break;case "new_programs":b.channel&&(e=W.a().Ye(b.channel));u(b.programs,q(function(a){a=new le(a);if(e=e||W.a().get(b.channel_id))if(e.c(ve,a),!W.a().K||!W.a().K.W())W.a().c(Af,e),W.a().c(Bf,a)},this));break;case "twitter_auth":U.a().h.c(oe)}};
tj.prototype.ji=function(){if(!this.Xh){var a=W.a().K.Y&&W.a().K.Qa&&Math.floor(Ef.a().getCurrentTime());DESKTOP&&T("/_settings",Ud(),"POST","show_guide="+Y.a().xf+"&show_sidebar="+Y.a().ug+(a?"&current_seek="+a:""));this.Xh=j}};function Ae(){S.call(this);this.Yg=new Fe(1E3);this.Qi=new Fe(3E4);this.Ri=[];this.sf=[]}t(Ae,S);ma(Ae);Ae.prototype.init=function(){this.Yg.start();this.Qi.start();L(this.Yg,He,q(function(){u(this.sf,function(a,b){a.time<r()&&(a.callback(),Na.splice.call(this.sf,b,1))},this)},this));L(this.Qi,He,q(function(){u(this.Ri,function(a){ic(a.element,Ii(a.time.getTime()))},this)},this))};function Li(a,b,c){86400>(r()-b.getTime())/1E3&&a.Ri.push({time:b,element:c})}
function ze(a,b,c){86400>(r()-b)/1E3&&a.sf.push({time:b,callback:c})};function uj(){S.call(this);this.jm=[]}t(uj,S);ma(uj);uj.prototype.Lf=function(a){Lb(a,q(function(a,c){u(a,q(function(a){a=new le(a);W.a().oc[c]&&W.a().oc[c].$e(a)},this))},this))};var vj=l;function wj(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var xj=navigator.plugins["Shockwave Flash"];xj&&(vj=j,xj.description&&wj(xj.description));navigator.plugins["Shockwave Flash 2.0"]&&(vj=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var yj=navigator.mimeTypes["application/x-shockwave-flash"];(vj=yj&&yj.enabledPlugin)&&wj(yj.enabledPlugin.description)}else try{var zj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),vj=j;wj(zj.GetVariable("$version"))}catch(Aj){try{zj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
vj=j}catch(Bj){try{zj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),vj=j,wj(zj.GetVariable("$version"))}catch(Cj){}}};function Dj(a,b,c,d,e,g,h,m){this.Td=a;this.lj=b;this.tc=c;this.Mb=d;this.fm=e;this.bm=g;this.aj=h;this.ta=m;this.cl=[];this.gf=[];this.Sl=[];this.om=[]}Dj.prototype.uh=da("lj");Dj.prototype.Fi=function(a){this.Mb=a;return this};Dj.prototype.rg=function(a){this.p=a;return this};function Ej(a){this.Td=a;this.Yk=k}function Fj(a){this.Td=a;this.Yk=this.vm=k};function uh(a,b,c){Dj.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.Zi=a;this.cl=[new Ej("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.rg(new Fj("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}t(uh,Dj);
var th=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function Gj(){Q.call(this);this.Xk=new oj;this.p=new Kg;this.ii=new Jd}t(Gj,Q);Gj.prototype.u=function(a){Gj.e.u.call(this,a);var b=I(sj,{gj:pe()});cc(a,b,0)};
Gj.prototype.z=function(){Gj.e.z.call(this);this.Xk.i(F("sidebar"));this.p.i(F("stage"));this.ii.i(F("notify"));O(this.ii.b(),l);U.a().h.nl||U.a();M(this.j(),document.body,"touchmove",function(a){pc(a.target,"div","ios-scroll")||a.preventDefault()});M(this.j(),window,"click",function(a){var b=pc(a.target,"a");if(b=b?b.href:k)if((b=b.match("#(.*):(.*)"))&&b.length)switch(a.preventDefault(),a.stopPropagation(),b[1]){case "user":a=U.a().get(b[2]);Z.a().c("profile",a);break;case "channel":a=W.a().get(b[2]);
W.a().c(Af,a);break;case "info":a=Vd.a().get(b[2]),Z.a().c("media-info",a)}});T("/_presence",q(function(a){a=V(a.target);this.Nl=tj.a().init(a.token);var b=W.a();u(a.viewer_sessions,q(function(a){var b=Ee(U.a(),a.user),e=U.a();Ta(e.ag,function(a){return a.id==b.id})||e.ag.push(b);var e=this.oc[a.channel_id],g=Pd(a.tune_in+"Z"),h=a.tune_out?Pd(a.tune_out+"Z"):k,a=new se(a.id,b,e,g,h);b.ee=a;e&&(e.Xd.push(a),e.c(xe,a),(a=e.W())&&a.media.c(Sd,b,e))},b))},this))};
function Hj(a){var b=F("login"),c=F("static-content"),d=F("pages"),e=D(b,"app");E(b,"expanded",a);F("uvTab")&&E(F("uvTab"),"show",e&&a);a?(e?c.style.bottom=-N(d).height-80+"px":c.style.top=Math.max(10,Zb().height-280)+"px",a=e?Math.min(Zb().height-100,c.scrollHeight+80):Math.min(Zb().height-435,c.scrollHeight+190),!e||e&&!b.scrollTop?(e=new Vf(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),A(b,"scrolling"),e.play(),L(e,"end",function(){B(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",e?R(function(){B(b,"show")},200):c.className="")}
function Ij(){var a=F("fb-login"),b=F("static-content"),c=F("login");A(a,"disabled");A(a,"spin");T("/_session",function(a){if(200==yf(a.target)){var e=V(a.target);if(e.error)ic(F("error"),e.error),Jj("error","Yikes...");else if(e.message)ic(F("message"),e.message);else{B(document.body,"login");var a=e.channels,g=e.programs,e=e.current_user;if(!Ob(e)){var h=U.a();h.h=Ee(h,e)}W.a().Lf(a);uj.a().Lf(g);a=W.a();a.K=a.oc[e.current_channel]||a.bd[0];a.K=Cf(a)||a.K;a.K&&a.Hg(a.K.W());Ae.a().init();(new Gj).i(document.body);
te.a().login();R(function(){R(function(){A(c,"hide");R(function(){O(F("homepage"),l);A(c,"app");A(b,"faq")},600)},600)})}}else 500==yf(a.target)?Jj("error","Opps, check back later"):Jj("wait")},"POST")}function Jj(a,b){var c=F("fb-login");if(a){var d=G("power",c);A(d,a)}b&&(d=G("waitlist",c),ic(d,b));B(c,"spin");A(c,"disabled");O(c,j);A(c,"show");A(c,"waitlist")}
ha("brkn.Mobile.staticInit",function(){var a=F("fb-login"),b=F("homepage"),c=F("login"),d=F("static-content"),e=F("pages"),g=F("footer"),h=l;A(b,"hide");var m=H("img");m.src="/static/img/homepage.jpg";L(m,"load",function(){B(b,"hide");A(b,"show")});R(function(){O(a,j);R(za(A,a,"show"),400)},100);L(c,"click",function(a){"static-scrollable"==a.target.id&&(a=D(c,"app"),h=l,a?Hj(h):(a=new Vf(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),L(a,"end",za(Hj,h))))});L(c,"scroll",function(){!D(c,
"scrolling")&&1>c.scrollTop&&(h=l,Hj(h))});L(g,"click",function(a){var a=pc(a.target,k,"section"),b=D(c,"app");a&&(h=j,d.className=a.id,d.style.height=N(e).height+(b?80:220)+"px",Hj(h))});L(window,"resize",za(Hj,h));te.a().init();IPHONE&&(A(document.body,"iphone"),A(document.body,"login"),window.onload=function(){R(function(){window.scrollTo(0,1)},1E3)})});
ha("brkn.Mobile.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)Ij();else{var b=F("fb-login");L(b,"click",function(){A(b,"disabled");FB.login(function(a){a.authResponse?Ij():B(b,"disabled")},{scope:"email"})})}})});