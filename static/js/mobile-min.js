function f(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var n,fa=fa||{},ga=this;function ha(a,b){var c=a.split("."),d=ga;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ia(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function ja(a){for(var a=a.split("."),b=ga,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function la(){}function ma(a){a.b=function(){return a.Bh?a.Bh:a.Bh=new a}}
function na(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ia(a){return a!==i}function oa(a){return"array"==na(a)}function pa(a){var b=na(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function qa(a){return"function"==na(a)}function ra(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function sa(a){return a[ta]||(a[ta]=++ua)}var ta="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ua=0;
function va(a,b,c){return a.call.apply(a.bind,arguments)}function wa(a,b,c){a||f(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return q.apply(k,arguments)}
function xa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var s=Date.now||function(){return+new Date};function ya(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a}function t(a,b){function c(){}c.prototype=b.prototype;a.f=b.prototype;a.prototype=new c;a.prototype.constructor=a};function u(){0!=za&&(this.wl=Error().stack,Aa[sa(this)]=this)}var za=0,Aa={};u.prototype.Ud=l;u.prototype.Z=function(){if(!this.Ud&&(this.Ud=j,this.k(),0!=za)){var a=sa(this);delete Aa[a]}};u.prototype.k=function(){this.ej&&Ba.apply(k,this.ej);if(this.$h)for(;this.$h.length;)this.$h.shift()()};function Ca(a){a&&"function"==typeof a.Z&&a.Z()}function Ba(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];pa(d)?Ba.apply(k,d):Ca(d)}};function Da(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Ea(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Fa(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1}
function Ga(a){if(!Ha.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ia,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ka,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(La,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ma,"&quot;"));return a}var Ia=/&/g,Ka=/</g,La=/>/g,Ma=/\"/g,Ha=/[&<>\"]/;function Na(a){var a=ia(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}
function Oa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Pa=Array.prototype,Qa=Pa.indexOf?function(a,b,c){return Pa.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(p(a))return!p(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},v=Pa.forEach?function(a,b,c){Pa.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function Ra(a,b,c){for(var d=p(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)}
var Sa=Pa.filter?function(a,b,c){return Pa.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=p(a)?a.split(""):a,m=0;m<d;m++)if(m in h){var r=h[m];b.call(c,r,m,a)&&(e[g++]=r)}return e},Ta=Pa.map?function(a,b,c){return Pa.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=p(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Ua=Pa.every?function(a,b,c){return Pa.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in
e&&!b.call(c,e[g],g,a))return l;return j};function Va(a,b,c){b=Wa(a,b,c);return 0>b?k:p(a)?a.charAt(b):a[b]}function Wa(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return g;return-1}function Xa(a,b){return 0<=Qa(a,b)}function Ya(a,b){var c=Qa(a,b);0<=c&&Pa.splice.call(a,c,1)}function Za(a,b,c){b=Wa(a,b,c);return 0<=b?(Pa.splice.call(a,b,1),j):l}function $a(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function ab(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(oa(d)||(e=pa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,m=0;m<h;m++)a[g+m]=d[m];else a.push(d)}}function bb(a,b,c,d){Pa.splice.apply(a,cb(arguments,1))}function cb(a,b,c){return 2>=arguments.length?Pa.slice.call(a,b):Pa.slice.call(a,b,c)}function db(a,b){return a>b?1:a<b?-1:0};function w(){u.call(this);this.Ja=[];this.Gb={}}t(w,u);n=w.prototype;n.Hh=1;n.ve=0;n.subscribe=function(a,b,c){var d=this.Gb[a];d||(d=this.Gb[a]=[]);var e=this.Hh;this.Ja[e]=a;this.Ja[e+1]=b;this.Ja[e+2]=c;this.Hh=e+3;d.push(e);return e};n.Oi=function(a){if(0!=this.ve)return this.od||(this.od=[]),this.od.push(a),l;var b=this.Ja[a];if(b){var c=this.Gb[b];c&&Ya(c,a);delete this.Ja[a];delete this.Ja[a+1];delete this.Ja[a+2]}return!!b};
n.c=function(a,b){var c=this.Gb[a];if(c){this.ve++;for(var d=cb(arguments,1),e=0,g=c.length;e<g;e++){var h=c[e];this.Ja[h+1].apply(this.Ja[h+2],d)}this.ve--;if(this.od&&0==this.ve)for(;c=this.od.pop();)this.Oi(c)}};n.clear=function(a){if(a){var b=this.Gb[a];b&&(v(b,this.Oi,this),delete this.Gb[a])}else this.Ja.length=0,this.Gb={}};n.k=function(){w.f.k.call(this);delete this.Ja;delete this.Gb;delete this.od};function eb(){w.call(this)}t(eb,w);ma(eb);function fb(a){this.id=a.id;this.J=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function gb(a){w.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.cd=a.host_id;this.Fj="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.live=!!a.live;this.Of=[];this.mk=k;this.ah=l;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.aa=a.publisher&&new fb(a.publisher);this.dc=a.published&&hb(a.published+"Z");this.mb="http://i.ytimg.com/vi/"+this.cd+"/0.jpg";this.Fi="http://i.ytimg.com/vi/"+this.cd+"/1.jpg";this.Xl="http://i.ytimg.com/vi/"+
this.cd+"/2.jpg";this.Yl="http://i.ytimg.com/vi/"+this.cd+"/3.jpg";this.Wl=new jb(480,360);this.Ei=37;this.Oa=[];this.Mi=[];this.Uc=a.comment_count||0;this.Ul=a.star_count||0;this.Nj=a.like_count||0;this.Bl=a.dislike_count||0;this.hg=[];this.Cc={};this.cj=a.collection_id;this.subscribe(lb,this.pb,this);this.subscribe(mb,this.rk,this);this.subscribe(nb,this.Qe,this)}t(gb,w);function ob(a){return a.dc.getMonth()+1+"/"+a.dc.getDate()+"/"+a.dc.getYear()}var lb="add-comment",mb="remove-comment",nb="watching";
gb.prototype.Ne=function(a){Va(this.Of,function(b){return a.id==b.id})||this.Of.push(a)};gb.prototype.pb=function(a){if(a.A){var b=Va(this.Oa,function(b){return b.id==a.A});b&&b.ud.push(a)}else this.Oa.push(a);this.Uc+=1};gb.prototype.rk=function(a){z("/_comment",pb(),"POST","delete=true&id="+a.id);if(a.A){var b=Va(this.Oa,function(b){return b.id==a.A});b&&Za(b.ud,function(b){return b.id==a.id})}else Za(this.Oa,function(b){return b.id==a.id});this.Uc-=1};
gb.prototype.Qe=function(a,b,c){if(c)qb(this.Cc,a.id);else if(this.Cc[a.id]=a,a.cb=this,a.id!=A.b().h.id&&(!b||b&&C.b().L&&b.id!=C.b().L.id))eb.b().c("flash","is watching "+(b?b.name:""),this.name,a,this.Fi,"#info:"+this.id)};function rb(){w.call(this);this.Yb={}}t(rb,w);ma(rb);function sb(a,b){var c=a.get(b.id);c||(c=new gb(b),a.add(c));return c}rb.prototype.get=function(a){return a in this.Yb?this.Yb[a]:i};rb.prototype.add=function(a){this.Yb[a.id]=a};var tb={Yk:["BC","AD"],Xk:["Before Christ","Anno Domini"],$k:"JFMAMJJASOND".split(""),hl:"JFMAMJJASOND".split(""),Zk:"January February March April May June July August September October November December".split(" "),gl:"January February March April May June July August September October November December".split(" "),dl:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),jl:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),nl:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
ll:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),fl:"Sun Mon Tue Wed Thu Fri Sat".split(" "),kl:"Sun Mon Tue Wed Thu Fri Sat".split(" "),al:"SMTWTFS".split(""),il:"SMTWTFS".split(""),el:["Q1","Q2","Q3","Q4"],cl:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Vk:["AM","PM"],Wk:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],ml:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Ti:6,ol:[5,6],Ui:5};var ub=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,vb=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,wb=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function hb(a){var b=new xb(2E3),a=Ea(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(ub);if(d){var e=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var m=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new yb(zb,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new yb(zb,(4>=d?1-d:8-d)+(Number(m)+7*(Number(c)-1))-1))):(e&&(b.setDate(1),b.setMonth(e-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(wb),m=0,c&&("Z"!=
c[0]&&(m=60*c[2]+Number(c[3]),m*="-"==c[1]?1:-1),m-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(vb))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=m&&b.setTime(b.getTime()+6E4*m),c=j):c=l;return c?b:k}
function yb(a,b,c,d,e,g){p(a)?(this.Ma=a==Ab?b:0,this.Ga=a==Bb?b:0,this.Ba=a==zb?b:0,this.sa=a==Cb?b:0,this.ua=a==Db?b:0,this.xa=a==Eb?b:0):(this.Ma=a||0,this.Ga=b||0,this.Ba=c||0,this.sa=d||0,this.ua=e||0,this.xa=g||0)}
yb.prototype.Fd=function(a){var b=Math.min(this.Ma,this.Ga,this.Ba,this.sa,this.ua,this.xa),c=Math.max(this.Ma,this.Ga,this.Ba,this.sa,this.ua,this.xa);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Ma||a)&&c.push(Math.abs(this.Ma)+"Y");(this.Ga||a)&&c.push(Math.abs(this.Ga)+"M");(this.Ba||a)&&c.push(Math.abs(this.Ba)+"D");if(this.sa||this.ua||this.xa||a)c.push("T"),(this.sa||a)&&c.push(Math.abs(this.sa)+"H"),(this.ua||a)&&c.push(Math.abs(this.ua)+"M"),
(this.xa||a)&&c.push(Math.abs(this.xa)+"S");return c.join("")};yb.prototype.clone=function(){return new yb(this.Ma,this.Ga,this.Ba,this.sa,this.ua,this.xa)};var Ab="y",Bb="m",zb="d",Cb="h",Db="n",Eb="s";yb.prototype.add=function(a){this.Ma+=a.Ma;this.Ga+=a.Ga;this.Ba+=a.Ba;this.sa+=a.sa;this.ua+=a.ua;this.xa+=a.xa};
function Fb(a,b,c){"number"==typeof a?(this.m=new Date(a,b||0,c||1),Gb(this,c||1)):ra(a)?(this.m=new Date(a.getFullYear(),a.getMonth(),a.getDate()),Gb(this,a.getDate())):(this.m=new Date(s()),this.m.setHours(0),this.m.setMinutes(0),this.m.setSeconds(0),this.m.setMilliseconds(0))}n=Fb.prototype;n.Wd=tb.Ti;n.Yd=tb.Ui;n.clone=function(){var a=new Fb(this.m);a.Wd=this.Wd;a.Yd=this.Yd;return a};n.getFullYear=function(){return this.m.getFullYear()};n.getYear=function(){return this.getFullYear()};
n.getMonth=function(){return this.m.getMonth()};n.getDate=function(){return this.m.getDate()};n.getTime=function(){return this.m.getTime()};n.getDay=function(){return this.m.getDay()};n.getUTCHours=function(){return this.m.getUTCHours()};n.getTimezoneOffset=function(){return this.m.getTimezoneOffset()};function Hb(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Na(c)+":"+Na(b);return a}
n.set=function(a){this.m=new Date(a.getFullYear(),a.getMonth(),a.getDate())};n.setFullYear=function(a){this.m.setFullYear(a)};n.setMonth=function(a){this.m.setMonth(a)};n.setDate=function(a){this.m.setDate(a)};n.setTime=function(a){this.m.setTime(a)};
n.add=function(a){if(a.Ma||a.Ga){var b=this.getMonth()+a.Ga+12*a.Ma,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Ba&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Ba),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),Gb(this,a.getDate()))};n.Fd=function(a,b){return[this.getFullYear(),Na(this.getMonth()+1),Na(this.getDate())].join(a?"-":"")+(b?Hb(this):"")};n.toString=function(){return this.Fd()};function Gb(a,b){a.getDate()!=b&&a.m.setUTCHours(a.m.getUTCHours()+(a.getDate()<b?1:-1))}n.valueOf=function(){return this.m.valueOf()};function xb(a,b,c,d,e,g,h){this.m="number"==typeof a?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():s())}t(xb,Fb);n=xb.prototype;
n.getHours=function(){return this.m.getHours()};n.getMinutes=function(){return this.m.getMinutes()};n.getSeconds=function(){return this.m.getSeconds()};n.getUTCHours=function(){return this.m.getUTCHours()};n.setHours=function(a){this.m.setHours(a)};n.setMinutes=function(a){this.m.setMinutes(a)};n.setSeconds=function(a){this.m.setSeconds(a)};n.setMilliseconds=function(a){this.m.setMilliseconds(a)};n.setUTCHours=function(a){this.m.setUTCHours(a)};
n.add=function(a){Fb.prototype.add.call(this,a);a.sa&&this.setHours(this.m.getHours()+a.sa);a.ua&&this.setMinutes(this.m.getMinutes()+a.ua);a.xa&&this.setSeconds(this.m.getSeconds()+a.xa)};n.Fd=function(a,b){var c=Fb.prototype.Fd.call(this,a);return a?c+" "+Na(this.getHours())+":"+Na(this.getMinutes())+":"+Na(this.getSeconds())+(b?Hb(this):""):c+"T"+Na(this.getHours())+Na(this.getMinutes())+Na(this.getSeconds())+(b?Hb(this):"")};n.toString=function(){return this.Fd()};
n.clone=function(){var a=new xb(this.m);a.Wd=this.Wd;a.Yd=this.Yd;return a};function Ib(a,b){w.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?sb(rb.b(),d.media):c;rb.b().add(this.media);this.time=d?hb(d.time+"Z"):new xb;this.async=d?d.async:j;this.seek=d?d.seek:b?0:k;this.ended=l}t(Ib,w);function Jb(a){return new Ib(i,a)};function Kb(a){var b=s(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return Lb(c,b,0);c=Math.floor(c/60);if(24>c)return Lb(c,b,1);c=new Date(s());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?Lb(c,b,2):""}
function Lb(a,b,c){return!b&&0==c?(b=ya("{$num} minute ago",{num:a}),c=ya("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=ya("in {$num} minute",{num:a}),c=ya("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=ya("{$num} hour ago",{num:a}),c=ya("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=ya("in {$num} hour",{num:a}),c=ya("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=ya("{$num} day ago",{num:a}),c=ya("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=ya("in {$num} day",{num:a}),c=ya("in {$num} days",
{num:a}),1==a?b:c):""};function Mb(a){w.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.Si=a.welcomed;this.Bc=a.online;this.Al=a.demo;this.cb=a.last_seen?sb(rb.b(),a.last_seen):k;this.history=[];this.zi=[];this.J=Da("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.Vi=a.access_level;this.pl=[];this.r=a.last_login?hb(a.last_login+"Z"):k;this.Rl=a.session_count;
this.rl=a.ave_session_time?a.ave_session_time.toFixed(2):k;this.Sl=a.show_guide!=i?a.show_guide:j;this.Tl=a.show_sidebar!=i?a.show_sidebar:j;this.ok=a.post_facebook!=i?a.post_facebook:j;this.ki=a.post_twitter!=i?a.post_twitter:j;this.rf=a.has_twitter;this.uh=l;this.Ik=a.temp;this.subscribe(Nb,function(){this.ki=j},this)}t(Mb,w);function Ob(){return A.b().h.Vi==Pb}Mb.prototype.Xd=function(){var a=this.name.split(" ");return a&&a.length?a[0]:this.name};
function Qb(a,b){return Va(a.zi,function(a){return a.id==b.id})}var Nb="twitter-auth",Pb=2;function Rb(a,b,c,d,e){this.id=a;this.p=b;this.N=c;this.Pk=d;this.sg=e||k;this.Rh=[]}Rb.prototype.hg=function(a){this.Rh.push(a);this.N&&(this.N.S&&this.N.I)&&(this.N.I.seek=k,this.N.I=k);z("/_seen",pb(),"POST","media_id="+a.id+"&session_id="+this.id+"&async="+(this.N?this.N.S:l))};
Rb.prototype.end=function(a){this.sg=a;a=(this.sg.getTime()-this.Pk.getTime())/1E3;if(this.p.id==A.b().h.id&&this.N){Sb.b();var b=this.N,c=this.Rh.length;A.b().qe.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",A.b().h.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",A.b().h.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",A.b().h.id,c]);_gaq.push(["_trackEvent","Users","Active",A.b().h.id,c]);_gaq.push(["_trackEvent","Users",b.id+
"-time",A.b().h.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",A.b().h.id,c]);b.S||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))}};function Tb(a){w.call(this);this.id=a.id;this.name=a.name;this.Yh=this.S=a.my_channel;this.cb=a.current_media?sb(rb.b(),a.current_media):k;this.zl=a.current_seek;this.ha=[];this.rd={};this.I=a.current_program&&new Ib(a.current_program);this.yg=[];this.queue=[];this.Wa=0;this.Bc=a.online!=i?a.online:k;this.subscribe(Ub,this.Pe,this);this.subscribe(Vb,this.Wi,this);this.subscribe(Wb,this.Qe,this);this.subscribe(Xb,this.Sk,this);this.I||(this.rb=0,this.I=this.ha[0])}t(Tb,w);n=Tb.prototype;
n.Pe=function(a){this.ha.push(a);this.rd[a.id]=a;a.async&&(this.rb=this.ha.length-1,this.I=a);a.time.getTime()+1E3*a.media.duration>this.Wa&&(this.Wa=a.time.getTime()+1E3*a.media.duration-12E4,Yb(Zb.b(),this.Wa,q(this.Df,this,this.Wa)),Yb(Zb.b(),this.Wa+6E4,q(this.Df,this,this.Wa+6E4)))};
n.Df=function(a){this.Wa<=a&&!this.S&&z("/_programming/"+this.id,q(function(a){a=D(a.target);a.length||Yb(Zb.b(),s()+1E3,q(this.Df,this,s()+1E3));v(a,function(a){if(!this.rd[a.id]){var b=this.rd[a.id];b||(b=new Ib(a),this.Pe(b));this.c(Ub,b)}},this)},this))};
n.Wi=function(a,b){b?(this.queue.push(a),eb.b().c("flash","Added to queue",a.name,i,a.Fi,"#info:"+a.id),$b(Sb.b(),a),z("/_queue",pb(),"POST","media_id="+a.id)):(Za(this.queue,function(b){return b.id==a.id},this),z("/_queue",pb(),"POST","media_id="+a.id+"&delete=1"))};n.Qe=function(a){this.yg.push(a)};n.Sk=function(a){var b=a.id in this.rd?this.rd[a.id]:i;b&&(b.time=hb(a.time+"Z"))};
n.$=function(a){if(this.I&&this.I.async&&this.I.seek!=k&&!this.I.ended)return this.I;if(!this.ha.length)return k;if(a)return this.ha[this.rb+a];if(this.Yh){if(this.I&&this.I.ended){a=this.rb;if(this.ha[a+1])a=this.ha[a+1];else if(this.S)if(this.queue.length){a=this.queue[0];this.c(Vb,a,l);var b=Jb(a);ac().c(Ub,b);z("/_addprogram",pb(),"POST","channel_id="+C.b().S.id+"&media_id="+a.id+"&now=true");a=b}else a=k;else a=k;this.I=a}}else{a:if(a=this.I,b=this.rb,a&&s()>=a.time.getTime()&&s()<a.time.getTime()+
1E3*a.media.duration)a=this.I=a;else{if(!a||a.time.getTime()>=s())b=0,a=this.ha[0];for(;b<this.ha.length;b++){var c=this.ha[b];if(s()>=c.time.getTime()&&s()<c.time.getTime()+1E3*c.media.duration){a=c;break a}}}this.I=a}this.I&&(!this.ha[this.rb]||this.ha[this.rb].id!=this.I.id)?(a=Wa(this.ha,q(function(a){return a.id==this.I.id},this)),this.rb=Math.max(a,0)):this.I||(this.rb=this.ha.length);return this.I};var Ub="add-program",Vb="add-queue",Wb="add-viewer",Xb="update-program";function A(){w.call(this);this.Kd={};this.gh=l;this.nf=[];this.jj={};this.qe=[];this.subscribe(bc,function(a,b){a.Bc=b},this)}t(A,w);ma(A);A.prototype.add=function(a){this.Kd[a.id]=a};A.prototype.get=function(a){return this.Kd[a]};function cc(a,b){var c=a.get(b.id);if(!c||c.Ik)c=new Mb(b),a.add(c);b.online==l&&c.Bc==j&&(c.r=new xb);c.Bc=b.online||!!Va(a.qe,function(a){return a.id==c.id},a);c.cb=b.last_seen?sb(rb.b(),b.last_seen):c.cb;return c}
A.prototype.search=function(a){var b=Sa(dc(this.Kd),function(b){return 0==Fa(a,b.name.substr(0,a.length))},this);Sa(dc(this.jj),function(b){return 0==Fa(a,b.substr(0,a.length))},this);return b};var bc="online";var ec,fc,gc,hc,ic;function jc(){return ga.navigator?ga.navigator.userAgent:k}function kc(){return ga.navigator}hc=gc=fc=ec=l;var lc;if(lc=jc()){var mc=kc();ec=0==lc.indexOf("Opera");fc=!ec&&-1!=lc.indexOf("MSIE");gc=!ec&&-1!=lc.indexOf("WebKit");hc=!ec&&!gc&&"Gecko"==mc.product}var nc=ec,E=fc,oc=hc,F=gc,pc=kc();ic=-1!=(pc&&pc.platform||"").indexOf("Mac");var qc=!!kc()&&-1!=(kc().appVersion||"").indexOf("X11"),rc;
a:{var sc="",tc;if(nc&&ga.opera)var uc=ga.opera.version,sc="function"==typeof uc?uc():uc;else if(oc?tc=/rv\:([^\);]+)(\)|;)/:E?tc=/MSIE\s+([^\);]+)(\)|;)/:F&&(tc=/WebKit\/(\S+)/),tc)var vc=tc.exec(jc()),sc=vc?vc[1]:"";if(E){var wc,xc=ga.document;wc=xc?xc.documentMode:i;if(wc>parseFloat(sc)){rc=String(wc);break a}}rc=sc}var zc={};
function G(a){var b;if(!(b=zc[a])){b=0;for(var c=Ea(String(rc)).split("."),d=Ea(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",m=d[g]||"",r=RegExp("(\\d*)(\\D*)","g"),x=RegExp("(\\d*)(\\D*)","g");do{var y=r.exec(h)||["","",""],B=x.exec(m)||["","",""];if(0==y[0].length&&0==B[0].length)break;b=((0==y[1].length?0:parseInt(y[1],10))<(0==B[1].length?0:parseInt(B[1],10))?-1:(0==y[1].length?0:parseInt(y[1],10))>(0==B[1].length?0:parseInt(B[1],10))?1:0)||((0==y[2].length)<
(0==B[2].length)?-1:(0==y[2].length)>(0==B[2].length)?1:0)||(y[2]<B[2]?-1:y[2]>B[2]?1:0)}while(0==b)}b=zc[a]=0<=b}return b}var Ac={};function Bc(a){return Ac[a]||(Ac[a]=E&&!!document.documentMode&&document.documentMode>=a)};var Cc=!E||Bc(9),Dc=!E||Bc(9),Ec=E&&!G("9");!F||G("528");oc&&G("1.9b")||E&&G("8")||nc&&G("9.5")||F&&G("528");oc&&!G("8")||E&&G("9");function Fc(a,b){this.type=a;this.currentTarget=this.target=b}n=Fc.prototype;n.k=aa();n.Z=aa();n.cc=l;n.defaultPrevented=l;n.ye=j;n.stopPropagation=function(){this.cc=j};n.preventDefault=function(){this.defaultPrevented=j;this.ye=l};function Gc(a){a.preventDefault()};function Hc(a){Hc[" "](a);return a}Hc[" "]=la;function Ic(a,b){a&&this.init(a,b)}t(Ic,Fc);var Jc=[1,4,2];n=Ic.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.Vf=l;n.ca=k;
n.init=function(a,b){var c=this.type=a.type;Fc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(oc){var e;a:{try{Hc(d.nodeName);e=j;break a}catch(g){}e=l}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=F||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=F||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Vf=ic?a.metaKey:a.ctrlKey;this.state=a.state;this.ca=a;a.defaultPrevented&&this.preventDefault();delete this.cc};function Kc(a){return(Cc?0==a.ca.button:"click"==a.type?j:!!(a.ca.button&Jc[0]))&&!(F&&ic&&a.ctrlKey)}
n.stopPropagation=function(){Ic.f.stopPropagation.call(this);this.ca.stopPropagation?this.ca.stopPropagation():this.ca.cancelBubble=j};n.preventDefault=function(){Ic.f.preventDefault.call(this);var a=this.ca;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,Ec)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.qj=ca("ca");n.k=aa();function Lc(){}var Mc=0;n=Lc.prototype;n.key=0;n.ec=l;n.Ue=l;n.init=function(a,b,c,d,e,g){qa(a)?this.Dh=j:a&&a.handleEvent&&qa(a.handleEvent)?this.Dh=l:f(Error("Invalid listener argument"));this.wc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.be=g;this.Ue=l;this.key=++Mc;this.ec=l};n.handleEvent=function(a){return this.Dh?this.wc.call(this.be||this.src,a):this.wc.handleEvent.call(this.wc,a)};function Nc(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function dc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Oc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Pc(a){for(var b in a)return l;return j}function qb(a,b){b in a&&delete a[b]}function Qc(a,b,c){b in a&&f(Error('The object already contains the key "'+b+'"'));a[b]=c}var Rc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Sc(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<Rc.length;g++)c=Rc[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Tc={},Uc={},Vc={},Wc={};
function H(a,b,c,d,e){if(b){if(oa(b)){for(var g=0;g<b.length;g++)H(a,b[g],c,d,e);return k}var d=!!d,h=Uc;b in h||(h[b]={R:0,wa:0});h=h[b];d in h||(h[d]={R:0,wa:0},h.R++);var h=h[d],m=sa(a),r;h.wa++;if(h[m]){r=h[m];for(g=0;g<r.length;g++)if(h=r[g],h.wc==c&&h.be==e){if(h.ec)break;return r[g].key}}else r=h[m]=[],h.R++;var x=Xc,y=Dc?function(a){return x.call(y.src,y.key,a)}:function(a){a=x.call(y.src,y.key,a);if(!a)return a},g=y;g.src=a;h=new Lc;h.init(c,g,a,b,d,e);c=h.key;g.key=c;r.push(h);Tc[c]=h;Vc[m]||
(Vc[m]=[]);Vc[m].push(h);a.addEventListener?(a==ga||!a.Tg)&&a.addEventListener(b,g,d):a.attachEvent(b in Wc?Wc[b]:Wc[b]="on"+b,g);return c}f(Error("Invalid event type"))}function Yc(a,b,c,d,e){if(oa(b))for(var g=0;g<b.length;g++)Yc(a,b[g],c,d,e);else a=H(a,b,c,d,e),Tc[a].Ue=j}function Zc(a,b,c,d,e){if(oa(b))for(var g=0;g<b.length;g++)Zc(a,b[g],c,d,e);else if(d=!!d,a=$c(a,b,d))for(g=0;g<a.length;g++)if(a[g].wc==c&&a[g].capture==d&&a[g].be==e){ad(a[g].key);break}}
function ad(a){if(!Tc[a])return l;var b=Tc[a];if(b.ec)return l;var c=b.src,d=b.type,e=b.proxy,g=b.capture;c.removeEventListener?(c==ga||!c.Tg)&&c.removeEventListener(d,e,g):c.detachEvent&&c.detachEvent(d in Wc?Wc[d]:Wc[d]="on"+d,e);c=sa(c);Vc[c]&&(e=Vc[c],Ya(e,b),0==e.length&&delete Vc[c]);b.ec=j;if(b=Uc[d][g][c])b.Vh=j,bd(d,g,c,b);delete Tc[a];return j}
function bd(a,b,c,d){if(!d.je&&d.Vh){for(var e=0,g=0;e<d.length;e++)d[e].ec?d[e].proxy.src=k:(e!=g&&(d[g]=d[e]),g++);d.length=g;d.Vh=l;0==g&&(delete Uc[a][b][c],Uc[a][b].R--,0==Uc[a][b].R&&(delete Uc[a][b],Uc[a].R--),0==Uc[a].R&&delete Uc[a])}}function $c(a,b,c){var d=Uc;return b in d&&(d=d[b],c in d&&(d=d[c],a=sa(a),d[a]))?d[a]:k}
function cd(a,b,c,d,e){var g=1,b=sa(b);if(a[b]){a.wa--;a=a[b];a.je?a.je++:a.je=1;try{for(var h=a.length,m=0;m<h;m++){var r=a[m];r&&!r.ec&&(g&=dd(r,e)!==l)}}finally{a.je--,bd(c,d,b,a)}}return Boolean(g)}function dd(a,b){a.Ue&&ad(a.key);return a.handleEvent(b)}
function Xc(a,b){if(!Tc[a])return j;var c=Tc[a],d=c.type,e=Uc;if(!(d in e))return j;var e=e[d],g,h;if(!Dc){g=b||ja("window.event");var m=j in e,r=l in e;if(m){if(0>g.keyCode||g.returnValue!=i)return j;a:{var x=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(y){x=j}if(x||g.returnValue==i)g.returnValue=j}}x=new Ic;x.init(g,this);g=j;try{if(m){for(var B=[],Z=x.currentTarget;Z;Z=Z.parentNode)B.push(Z);h=e[j];h.wa=h.R;for(var V=B.length-1;!x.cc&&0<=V&&h.wa;V--)x.currentTarget=B[V],g&=cd(h,B[V],d,j,x);
if(r){h=e[l];h.wa=h.R;for(V=0;!x.cc&&V<B.length&&h.wa;V++)x.currentTarget=B[V],g&=cd(h,B[V],d,l,x)}}else g=dd(c,x)}finally{B&&(B.length=0)}return g}d=new Ic(b,this);return g=dd(c,d)};function ed(){u.call(this)}t(ed,u);n=ed.prototype;n.Tg=j;n.se=k;n.ig=ba("se");n.addEventListener=function(a,b,c,d){H(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Zc(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=Uc;if(b in c){if(p(a))a=new Fc(a,this);else if(a instanceof Fc)a.target=a.target||this;else{var d=a,a=new Fc(b,this);Sc(a,d)}var d=1,e,c=c[b],b=j in c,g;if(b){e=[];for(g=this;g;g=g.se)e.push(g);g=c[j];g.wa=g.R;for(var h=e.length-1;!a.cc&&0<=h&&g.wa;h--)a.currentTarget=e[h],d&=cd(g,e[h],a.type,j,a)&&a.ye!=l}if(l in c)if(g=c[l],g.wa=g.R,b)for(h=0;!a.cc&&h<e.length&&g.wa;h++)a.currentTarget=e[h],d&=cd(g,e[h],a.type,l,a)&&a.ye!=l;else for(e=this;!a.cc&&e&&
g.wa;e=e.se)a.currentTarget=e,d&=cd(g,e,a.type,l,a)&&a.ye!=l;a=Boolean(d)}else a=j;return a};n.k=function(){ed.f.k.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Nc(Vc,function(d){for(var e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)ad(g.key),b++}});else{var d=sa(this);if(Vc[d])for(var d=Vc[d],e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)ad(g.key),b++}}this.se=k};function fd(a,b){u.call(this);this.ga=a||1;this.Ed=b||gd;this.Te=q(this.Lk,this);this.Bf=s()}t(fd,ed);fd.prototype.enabled=l;var gd=ga.window;n=fd.prototype;n.ja=k;n.Lk=function(){if(this.enabled){var a=s()-this.Bf;0<a&&a<0.8*this.ga?this.ja=this.Ed.setTimeout(this.Te,this.ga-a):(this.dispatchEvent(hd),this.enabled&&(this.ja=this.Ed.setTimeout(this.Te,this.ga),this.Bf=s()))}};n.start=function(){this.enabled=j;this.ja||(this.ja=this.Ed.setTimeout(this.Te,this.ga),this.Bf=s())};
n.stop=function(){this.enabled=l;this.ja&&(this.Ed.clearTimeout(this.ja),this.ja=k)};n.k=function(){fd.f.k.call(this);this.stop();delete this.Ed};var hd="tick";function I(a,b,c){qa(a)?c&&(a=q(a,c)):a&&"function"==typeof a.handleEvent?a=q(a.handleEvent,a):f(Error("Invalid listener argument"));return 2147483647<b?-1:gd.setTimeout(a,b||0)};function id(a){if("function"==typeof a.Zd)return a.Zd();if(p(a))return a.split("");if(pa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return dc(a)}function jd(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(pa(a)||p(a))v(a,b,c);else{var d;if("function"==typeof a.of)d=a.of();else if("function"!=typeof a.Zd)if(pa(a)||p(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Oc(a);else d=i;for(var e=id(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function kd(a,b){this.yb={};this.P=[];var c=arguments.length;if(1<c){c%2&&f(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof kd?(c=a.of(),d=a.Zd()):(c=Oc(a),d=dc(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}n=kd.prototype;n.R=0;n.Pi=0;n.Zd=function(){ld(this);for(var a=[],b=0;b<this.P.length;b++)a.push(this.yb[this.P[b]]);return a};n.of=function(){ld(this);return this.P.concat()};
n.clear=function(){this.yb={};this.Pi=this.R=this.P.length=0};function ld(a){if(a.R!=a.P.length){for(var b=0,c=0;b<a.P.length;){var d=a.P[b];Object.prototype.hasOwnProperty.call(a.yb,d)&&(a.P[c++]=d);b++}a.P.length=c}if(a.R!=a.P.length){for(var e={},c=b=0;b<a.P.length;)d=a.P[b],Object.prototype.hasOwnProperty.call(e,d)||(a.P[c++]=d,e[d]=1),b++;a.P.length=c}}n.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.yb,a)?this.yb[a]:b};
n.set=function(a,b){Object.prototype.hasOwnProperty.call(this.yb,a)||(this.R++,this.P.push(a),this.Pi++);this.yb[a]=b};n.clone=function(){return new kd(this)};function md(a){return nd(a||arguments.callee.caller,[])}
function nd(a,b){var c=[];if(Xa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(od(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=od(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(nd(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function od(a){if(pd[a])return pd[a];a=String(a);if(!pd[a]){var b=/function ([^\(]+)/.exec(a);pd[a]=b?b[1]:"[Anonymous]"}return pd[a]}var pd={};function qd(a,b,c,d,e){this.reset(a,b,c,d,e)}qd.prototype.vk=0;qd.prototype.Yg=k;qd.prototype.Xg=k;var rd=0;qd.prototype.reset=function(a,b,c,d,e){this.vk="number"==typeof e?e:rd++;this.Zl=d||s();this.hd=a;this.Tj=b;this.Nl=c;delete this.Yg;delete this.Xg};qd.prototype.qi=ba("hd");function sd(a){this.Uj=a}sd.prototype.H=k;sd.prototype.hd=k;sd.prototype.X=k;sd.prototype.sh=k;function td(a,b){this.name=a;this.value=b}td.prototype.toString=ca("name");var ud=new td("SEVERE",1E3),vd=new td("WARNING",900),wd=new td("INFO",800),xd=new td("CONFIG",700),yd=new td("FINE",500);n=sd.prototype;n.getParent=ca("H");n.ih=function(){this.X||(this.X={});return this.X};n.qi=ba("hd");function zd(a){return a.hd?a.hd:a.H?zd(a.H):k}
n.log=function(a,b,c){if(a.value>=zd(this).value){a=this.rj(a,b,c);b="log:"+a.Tj;ga.console&&(ga.console.timeStamp?ga.console.timeStamp(b):ga.console.markTimeline&&ga.console.markTimeline(b));ga.msWriteProfilerMark&&ga.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.sh)for(var e=0,g=i;g=c.sh[e];e++)g(d);b=b.getParent()}}};
n.rj=function(a,b,c){var d=new qd(a,String(b),this.Uj);if(c){d.Yg=c;var e;var g=arguments.callee.caller;try{var h;var m=ja("window.location.href");if(p(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var r,x,y=l;try{r=c.lineNumber||c.Ml||"Not available"}catch(B){r="Not available",y=j}try{x=c.fileName||c.filename||c.sourceURL||m}catch(Z){x="Not available",y=j}h=y||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:r,
fileName:x,stack:c.stack||"Not available"}:c}e="Message: "+Ga(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ga(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ga(md(g)+"-> ")}catch(V){e="Exception trying to expose exception! You win, we lose. "+V}d.Xg=e}return d};function Ad(a,b){a.log(ud,b,i)}n.info=function(a,b){this.log(wd,a,b)};function Bd(a,b){a.log(yd,b,i)}var Cd={},Dd=k;
function Ed(a){Dd||(Dd=new sd(""),Cd[""]=Dd,Dd.qi(xd));var b;if(!(b=Cd[a])){b=new sd(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Ed(a.substr(0,c));c.ih()[d]=b;b.H=c;Cd[a]=b}return b};function Fd(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}f(Error("Invalid JSON string: "+a))};function Gd(){}Gd.prototype.Pd=k;var Hd;function Id(){}t(Id,Gd);function Jd(a){return(a=Kd(a))?new ActiveXObject(a):new XMLHttpRequest}function Ld(a){var b={};Kd(a)&&(b[0]=j,b[1]=j);return b}
function Kd(a){if(!a.xh&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.xh=d}catch(e){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.xh}Hd=new Id;var Md=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Nd(a){u.call(this);this.headers=new kd;this.Nc=a||k}t(Nd,ed);Nd.prototype.v=Ed("goog.net.XhrIo");var Od=/^https?$/i,Pd=[];function z(a,b,c,d){var e=new Nd;Pd.push(e);b&&H(e,"complete",b);H(e,"ready",xa(Qd,e));e.send(a,c,d,i)}function Qd(a){a.Z();Ya(Pd,a)}n=Nd.prototype;n.ob=l;n.n=k;n.Ke=k;n.gd="";n.Kh="";n.ed=0;n.fd="";n.hf=l;n.ce=l;n.uf=l;n.Tb=l;n.De=0;n.hc=k;n.xe="";n.Uk=l;
n.send=function(a,b,c,d){this.n&&f(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.gd=a;this.fd="";this.ed=0;this.Kh=b;this.hf=l;this.ob=j;this.n=this.Nc?Jd(this.Nc):Jd(Hd);this.Ke=this.Nc?this.Nc.Pd||(this.Nc.Pd=Ld(this.Nc)):Hd.Pd||(Hd.Pd=Ld(Hd));this.n.onreadystatechange=q(this.di,this);try{Bd(this.v,Rd(this,"Opening Xhr")),this.uf=j,this.n.open(b,a,j),this.uf=l}catch(e){Bd(this.v,Rd(this,"Error opening Xhr: "+e.message));Sd(this,e);return}var a=c||
"",g=this.headers.clone();d&&jd(d,function(a,b){g.set(b,a)});d=ga.FormData&&a instanceof ga.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.yb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");jd(g,function(a,b){this.n.setRequestHeader(b,a)},this);this.xe&&(this.n.responseType=this.xe);"withCredentials"in this.n&&(this.n.withCredentials=this.Uk);try{this.hc&&(gd.clearTimeout(this.hc),this.hc=k),0<this.De&&(Bd(this.v,Rd(this,"Will abort after "+
this.De+"ms if incomplete")),this.hc=gd.setTimeout(q(this.Mk,this),this.De)),Bd(this.v,Rd(this,"Sending request")),this.ce=j,this.n.send(a),this.ce=l}catch(h){Bd(this.v,Rd(this,"Send error: "+h.message)),Sd(this,h)}};n.Mk=function(){"undefined"!=typeof fa&&this.n&&(this.fd="Timed out after "+this.De+"ms, aborting",this.ed=8,Bd(this.v,Rd(this,this.fd)),this.dispatchEvent("timeout"),this.abort(8))};function Sd(a,b){a.ob=l;a.n&&(a.Tb=j,a.n.abort(),a.Tb=l);a.fd=b;a.ed=5;Td(a);Ud(a)}
function Td(a){a.hf||(a.hf=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}n.abort=function(a){this.n&&this.ob&&(Bd(this.v,Rd(this,"Aborting")),this.ob=l,this.Tb=j,this.n.abort(),this.Tb=l,this.ed=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ud(this))};n.k=function(){this.n&&(this.ob&&(this.ob=l,this.Tb=j,this.n.abort(),this.Tb=l),Ud(this,j));Nd.f.k.call(this)};n.di=function(){!this.uf&&!this.ce&&!this.Tb?this.ek():Vd(this)};n.ek=function(){Vd(this)};
function Vd(a){if(a.ob&&"undefined"!=typeof fa)if(a.Ke[1]&&4==Wd(a)&&2==Xd(a))Bd(a.v,Rd(a,"Local request error detected and ignored"));else if(a.ce&&4==Wd(a))gd.setTimeout(q(a.di,a),0);else if(a.dispatchEvent("readystatechange"),4==Wd(a)){Bd(a.v,Rd(a,"Request complete"));a.ob=l;try{var b=Xd(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var e;if(e=0===b){var g=String(a.gd).match(Md)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);e=!Od.test(g?g.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.ed=6;var m;try{m=2<Wd(a)?a.n.statusText:""}catch(r){Bd(a.v,"Can not get status: "+r.message),m=""}a.fd=m+" ["+Xd(a)+"]";Td(a)}}finally{Ud(a)}}}
function Ud(a,b){if(a.n){var c=a.n,d=a.Ke[0]?la:k;a.n=k;a.Ke=k;a.hc&&(gd.clearTimeout(a.hc),a.hc=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){Ad(a.v,"Problem encountered resetting onreadystatechange: "+e.message)}}}n.tb=function(){return!!this.n};function Wd(a){return a.n?a.n.readyState:0}function Xd(a){try{return 2<Wd(a)?a.n.status:-1}catch(b){return a.v.log(vd,"Can not get status: "+b.message,i),-1}}function D(a){if(a.n)return Fd(a.n.responseText)}
function Yd(a){try{if(!a.n)return k;if("response"in a.n)return a.n.response;switch(a.xe){case "":case "text":return a.n.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.n)return a.n.mozResponseArrayBuffer}Ad(a.v,"Response type "+a.xe+" is not supported on this browser");return k}catch(b){return Bd(a.v,"Can not get response: "+b.message),k}}function Rd(a,b){return b+" ["+a.Kh+" "+a.gd+" "+Xd(a)+"]"};function C(){w.call(this);this.Tc=[];this.jc={};this.subscribe(Zd,this.Xe,this);this.subscribe($d,this.Rk,this)}t(C,w);ma(C);n=C.prototype;n.get=function(a){return this.jc[a]};n.Cf=function(a){Nc(a,q(function(a){this.Ne(a)},this))};n.Ne=function(a){var b=new Tb(a);this.Tc.push(b);this.jc[a.id]=b;b.S&&(this.S=b);this.c(ae,b);return b};
n.Xe=function(a,b){if(a&&!this.L||a&&this.L&&this.L.id!=a.id){this.ge=this.L;this.L=a;a.Yh=a.S;a.$();var c=a.$(),d=c&&!Pc(c.media.Cc);z("/_changechannel",pb(),"POST","channel="+a.id+"&friends="+d+"&media_id"+c.media.id+(b?"&forced=true":""));Sb.b().Xe(a,this.ge)}};n.Rk=aa();function ac(){var a=C.b();if(!a.S){var b=A.b().h;a.S=new Tb({id:b.id,name:b.name.split(" ")[0]+"'s Channel",S:j})}return a.S}var Zd="change-channel",$d="next-program",ae="add-channel";function be(){w.call(this);this.subscribe(ce,function(a){ac().c(Ub,a);z("/_addprogram",pb(),"POST","channel_id="+C.b().S.id+"&media_id="+a.media.id+"&async=true");$b(Sb.b(),a.media)},this);this.subscribe(de,function(a){z("/_started",pb(),"POST","media_id="+a.id)},this)}t(be,w);ma(be);be.prototype.ri=ba("bc");be.prototype.$=ca("yl");be.prototype.getCurrentTime=function(){return this.bc&&this.bc.getCurrentTime?this.bc.getCurrentTime():0};
be.prototype.jh=function(){return this.bc&&this.bc.getCurrentTime?this.bc.getCurrentTime():0};var ce="play-async",de="playing";function ee(a){u.call(this);this.M=a;this.P=[]}t(ee,u);var fe=[];function J(a,b,c,d,e){oa(c)||(fe[0]=c,c=fe);for(var g=0;g<c.length;g++){var h=H(b,c[g],d||a,e||l,a.M||a);a.P.push(h)}return a}function ge(a,b,c,d,e,g){if(oa(c))for(var h=0;h<c.length;h++)ge(a,b,c[h],d,e,g);else{a:{d=d||a;g=g||a.M||a;e=!!e;if(b=$c(b,c,e))for(c=0;c<b.length;c++)if(!b[c].ec&&b[c].wc==d&&b[c].capture==e&&b[c].be==g){b=b[c];break a}b=k}b&&(b=b.key,ad(b),Ya(a.P,b))}return a}function he(a){v(a.P,ad);a.P.length=0}
ee.prototype.k=function(){ee.f.k.call(this);he(this)};ee.prototype.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};function ie(){u.call(this);this.t=je;this.Wg=this.startTime=k}t(ie,ed);var je=0;ie.prototype.Nf=function(){this.eb("begin")};ie.prototype.pe=function(){this.eb("end")};ie.prototype.eb=function(a){this.dispatchEvent(a)};function ke(a,b,c){u.call(this);this.xb=a;this.ga=b||0;this.M=c;this.Ve=q(this.Xc,this)}t(ke,u);n=ke.prototype;n.ea=0;n.k=function(){ke.f.k.call(this);this.stop();delete this.xb;delete this.M};n.start=function(a){this.stop();this.ea=I(this.Ve,ia(a)?a:this.ga)};n.stop=function(){this.tb()&&gd.clearTimeout(this.ea);this.ea=0};n.dh=function(){this.stop();this.Xc()};n.tb=function(){return 0!=this.ea};n.Xc=function(){this.ea=0;this.xb&&this.xb.call(this.M)};var pb;pb=da(k);var le={},me=k;function ne(a){a=sa(a);delete le[a];Pc(le)&&me&&me.stop()}function oe(){me||(me=new ke(function(){var a=s();Nc(le,function(c){pe(c,a)});Pc(le)||oe()},20));var a=me;a.tb()||a.start()};function qe(a,b,c,d){ie.call(this);(!oa(a)||!oa(b))&&f(Error("Start and end parameters must be arrays"));a.length!=b.length&&f(Error("Start and end points must be the same length"));this.Ad=a;this.ij=b;this.duration=c;this.Ag=d;this.coords=[];this.Jd=l}t(qe,ie);n=qe.prototype;n.eh=0;n.va=0;n.zf=k;
n.play=function(a){if(a||this.t==je)this.va=0,this.coords=this.Ad;else if(1==this.t)return l;ne(this);this.startTime=a=s();-1==this.t&&(this.startTime-=this.duration*this.va);this.Wg=this.startTime+this.duration;this.zf=this.startTime;this.va||this.Nf();this.eb("play");-1==this.t&&this.eb("resume");this.t=1;var b=sa(this);b in le||(le[b]=this);oe();pe(this,a);return j};n.stop=function(a){ne(this);this.t=je;a&&(this.va=1);re(this,this.va);this.eb("stop");this.pe()};n.jh=ca("va");
n.k=function(){this.t==je||this.stop(l);this.eb("destroy");qe.f.k.call(this)};function pe(a,b){a.va=(b-a.startTime)/(a.Wg-a.startTime);1<=a.va&&(a.va=1);a.eh=1E3/(b-a.zf);a.zf=b;re(a,a.va);1==a.va?(a.t=je,ne(a),a.eb("finish"),a.pe()):1==a.t&&a.Mf()}function re(a,b){qa(a.Ag)&&(b=a.Ag(b));a.coords=Array(a.Ad.length);for(var c=0;c<a.Ad.length;c++)a.coords[c]=(a.ij[c]-a.Ad[c])*b+a.Ad[c]}n.Mf=function(){this.eb("animate")};n.eb=function(a){this.dispatchEvent(new se(a,this))};
function se(a,b){Fc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.gm=b.coords[2];this.duration=b.duration;this.va=b.jh();this.Jl=b.eh;this.state=b.t;this.ql=b}t(se,Fc);var te,ue=!E||Bc(9),ve=!oc&&!E||E&&Bc(9)||oc&&G("1.9.1"),we=E&&!G("9"),xe=E||nc||F;function ye(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}function L(a,b){for(var c=ye(a),d=cb(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)Xa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e}function M(a,b){var c=ye(a),d=cb(arguments,1),e,g=d;e=Sa(c,function(a){return!Xa(g,a)});a.className=e.join(" ");return e.length==c.length-d.length}function N(a,b){return Xa(ye(a),b)}function O(a,b,c){c?L(a,b):M(a,b)}function ze(a,b){var c=!N(a,b);O(a,b,c);return c};function Ae(a,b){this.x=ia(a)?a:0;this.y=ia(b)?b:0}Ae.prototype.clone=function(){return new Ae(this.x,this.y)};function Be(a,b){return new Ae(a.x-b.x,a.y-b.y)};function jb(a,b){this.width=a;this.height=b}jb.prototype.clone=function(){return new jb(this.width,this.height)};jb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};jb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};jb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Ce(a){return a?new De(Ee(a)):te||(te=new De)}function P(a){return p(a)?document.getElementById(a):a}function Fe(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Ge("*",a,b)}function Q(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Fe(a,b)[0])||k}
function Ge(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=e=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Xa(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
var He={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ie(a){a=(a||window).document;a=Je(a)?a.documentElement:a.body;return new jb(a.clientWidth,a.clientHeight)}function R(a,b,c){return Ke(document,arguments)}
function Ke(a,b){var c=b[0],d=b[1];if(!ue&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ga(d.name),'"');if(d.type){c.push(' type="',Ga(d.type),'"');var e={};Sc(e,d);delete e.type;d=e}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(p(d)?g.className=d:oa(d)?L.apply(k,[g].concat(d)):Nc(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in He?g.setAttribute(He[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(p(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(e=b[c],pa(e)&&!(ra(e)&&0<e.nodeType)){var h=v,m;a:{if((m=e)&&"number"==typeof m.length){if(ra(m)){m="function"==typeof m.item||"string"==typeof m.item;break a}if(qa(m)){m="function"==typeof m.item;break a}}m=l}h(m?$a(e):e,d)}else d(e)}return g}function Je(a){return"CSS1Compat"==a.compatMode}function Le(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function Me(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}function Ne(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Oe(a){return ve&&a.children!=i?a.children:Sa(a.childNodes,function(a){return 1==a.nodeType})}function Pe(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function Qe(a){if(xe)return a.parentElement;a=a.parentNode;return ra(a)&&1==a.nodeType?a:k}
function Re(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ee(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Se(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Le(a),a.appendChild(Ee(a).createTextNode(b))}var Te={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ue={IMG:" ",BR:"\n"};function Ve(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,"number"==typeof a&&0<=a&&32768>a):l}
function We(a){if(we&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Xe(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");we||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function Ye(a){var b=[];Xe(a,b,l);return b.join("")}
function Xe(a,b,c){if(!(a.nodeName in Te))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Ue)b.push(Ue[a.nodeName]);else for(a=a.firstChild;a;)Xe(a,b,c),a=a.nextSibling}function Ze(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||N(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function De(a){this.s=a||ga.document||document}n=De.prototype;n.Ea=Ce;
n.a=function(a){return p(a)?this.s.getElementById(a):a};n.O=function(a,b,c){return Ke(this.s,arguments)};n.createElement=function(a){return this.s.createElement(a)};n.createTextNode=function(a){return this.s.createTextNode(a)};function $e(a){return Je(a.s)}function af(a){var b=a.s,a=!F&&Je(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Ae(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.ih=Oe;
function bf(a,b){return b.firstElementChild!=i?b.firstElementChild:Pe(b.firstChild)}n.contains=Re;function cf(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}cf.prototype.clone=function(){return new cf(this.top,this.right,this.bottom,this.left)};cf.prototype.contains=function(a){return!this||!a?l:a instanceof cf?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function df(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}df.prototype.clone=function(){return new df(this.left,this.top,this.width,this.height)};df.prototype.contains=function(a){return a instanceof df?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function ef(a,b,c){p(b)?ff(a,c,b):Nc(b,xa(ff,a))}function ff(a,b,c){a.style[Oa(c)]=b}function gf(a,b){var c=Ee(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function hf(a,b){return a.currentStyle?a.currentStyle[b]:k}function jf(a,b){return gf(a,b)||hf(a,b)||a.style&&a.style[b]}
function lf(a){var b=a.getBoundingClientRect();E&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function mf(a){if(E&&!Bc(8))return a.offsetParent;for(var b=Ee(a),c=jf(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=jf(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function nf(a){for(var b=new cf(0,Infinity,Infinity,0),c=Ce(a),d=c.s.body,e=c.s.documentElement,g=!F&&Je(c.s)?c.s.documentElement:c.s.body;a=mf(a);)if((!E||0!=a.clientWidth)&&(!F||0!=a.clientHeight||a!=d)&&a!=d&&a!=e&&"visible"!=jf(a,"overflow")){var h=of(a),m;m=a;if(oc&&!G("1.9")){var r=parseFloat(gf(m,"borderLeftWidth"));if(pf(m))var x=m.offsetWidth-m.clientWidth-r-parseFloat(gf(m,"borderRightWidth")),r=r+x;m=new Ae(r,parseFloat(gf(m,"borderTopWidth")))}else m=new Ae(m.clientLeft,m.clientTop);h.x+=
m.x;h.y+=m.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=Ie(c.s.parentWindow||c.s.defaultView);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:k}
function of(a){var b,c=Ee(a),d=jf(a,"position"),e=oc&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Ae(0,0),h;b=c?Ee(c):document;h=E&&!Bc(9)&&!$e(Ce(b))?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=lf(a),a=af(Ce(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=
b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(F&&"fixed"==jf(b,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(nc||F&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=mf(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!nc||"TR"!=b.tagName)g.y-=b.scrollTop}return g}function qf(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function rf(a,b){a.style.height=qf(b,j)}
function S(a){if("none"!=jf(a,"display"))return sf(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=sf(a);b.display=c;b.position=e;b.visibility=d;return a}function sf(a){var b=a.offsetWidth,c=a.offsetHeight,d=F&&!b&&!c;return(!ia(b)||d)&&a.getBoundingClientRect?(a=lf(a),new jb(a.right-a.left,a.bottom-a.top)):new jb(b,c)}
function tf(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function T(a,b){a.style.display=b?"":"none"}function pf(a){return"rtl"==jf(a,"direction")}var uf=oc?"MozUserSelect":F?"WebkitUserSelect":k;
function vf(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function wf(a,b){if(E){var c=vf(a,hf(a,b+"Left")),d=vf(a,hf(a,b+"Right")),e=vf(a,hf(a,b+"Top")),g=vf(a,hf(a,b+"Bottom"));return new cf(e,d,g,c)}c=gf(a,b+"Left");d=gf(a,b+"Right");e=gf(a,b+"Top");g=gf(a,b+"Bottom");return new cf(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var xf={thin:2,medium:4,thick:6};function yf(a,b){if("none"==hf(a,b+"Style"))return 0;var c=hf(a,b+"Width");return c in xf?xf[c]:vf(a,c)}
function zf(a){if(E){var b=yf(a,"borderLeft"),c=yf(a,"borderRight"),d=yf(a,"borderTop"),a=yf(a,"borderBottom");return new cf(d,c,a,b)}b=gf(a,"borderLeftWidth");c=gf(a,"borderRightWidth");d=gf(a,"borderTopWidth");a=gf(a,"borderBottomWidth");return new cf(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Af=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Bf(a,b,c,d,e){qe.call(this,b,c,d,e);this.element=a}t(Bf,qe);n=Bf.prototype;n.Fe=la;n.Eh=function(){ia(this.Ia)||(this.Ia=pf(this.element));return this.Ia};n.Mf=function(){this.Fe();Bf.f.Mf.call(this)};n.pe=function(){this.Fe();Bf.f.pe.call(this)};n.Nf=function(){this.Fe();Bf.f.Nf.call(this)};function Cf(a,b,c,d,e){(2!=b.length||2!=c.length)&&f(Error("Start and end points must be 2D"));Bf.apply(this,arguments)}t(Cf,Bf);
Cf.prototype.Fe=function(){if(this.Jd){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=pf(a)?oc?-b:!E||!G("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function Df(a){return 1-Math.pow(1-a,3)};function Ef(){}ma(Ef);Ef.prototype.Wj=0;Ef.b();function U(a){u.call(this);this.Nb=a||Ce();this.Ia=Ff}t(U,ed);U.prototype.Gj=Ef.b();var Ff=k;function Gf(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}f(Error("Invalid component state"))}n=U.prototype;n.ea=k;n.T=l;n.d=k;n.Ia=k;n.U=k;n.H=k;n.X=k;n.Y=k;n.Ri=l;
function Hf(a){return a.ea||(a.ea=":"+(a.Gj.Wj++).toString(36))}n.a=ca("d");n.j=function(){return this.rc||(this.rc=new ee(this))};n.Ae=function(a){this==a&&f(Error("Unable to set parent component"));a&&(this.H&&this.ea&&this.H.Y&&this.ea&&(this.ea in this.H.Y&&this.H.Y[this.ea])&&this.H!=a)&&f(Error("Unable to set parent component"));this.H=a;U.f.ig.call(this,a)};n.getParent=ca("H");n.ig=function(a){this.H&&this.H!=a&&f(Error("Method not supported"));U.f.ig.call(this,a)};n.Ea=ca("Nb");
n.O=function(){this.d=this.Nb.createElement("div")};function If(a,b){a.T&&f(Error("Component already rendered"));a.d||a.O();b?b.insertBefore(a.d,k):a.Nb.s.body.appendChild(a.d);(!a.H||a.H.T)&&a.w()}n.i=function(a){this.T&&f(Error("Component already rendered"));if(a&&this.Kb(a)){this.Ri=j;if(!this.Nb||this.Nb.s!=Ee(a))this.Nb=Ce(a);this.q(a);this.w()}else f(Error("Invalid element to decorate"))};n.Kb=da(j);n.q=ba("d");n.w=function(){this.T=j;Jf(this,function(a){!a.T&&a.a()&&a.w()})};
n.Rb=function(){Jf(this,function(a){a.T&&a.Rb()});this.rc&&he(this.rc);this.T=l};n.k=function(){U.f.k.call(this);this.T&&this.Rb();this.rc&&(this.rc.Z(),delete this.rc);Jf(this,function(a){a.Z()});!this.Ri&&this.d&&Ne(this.d);this.H=this.U=this.d=this.Y=this.X=k};
function Kf(a,b){var c=a.X?a.X.length:0;b.T&&!a.T&&f(Error("Component already rendered"));(0>c||c>(a.X?a.X.length:0))&&f(Error("Child component index out of bounds"));if(!a.Y||!a.X)a.Y={},a.X=[];if(b.getParent()==a){var d=Hf(b);a.Y[d]=b;Ya(a.X,b)}else Qc(a.Y,Hf(b),b);b.Ae(a);bb(a.X,c,0,b);b.T&&a.T&&b.getParent()==a?(d=a.Sa(),d.insertBefore(b.a(),d.childNodes[c]||k)):a.T&&(!b.T&&b.d&&b.d.parentNode)&&b.w()}n.Sa=ca("d");n.Eh=function(){this.Ia==k&&(this.Ia=pf(this.T?this.d:this.Nb.s.body));return this.Ia};
n.gc=function(a){this.T&&f(Error("Component already rendered"));this.Ia=a};function Jf(a,b){a.X&&v(a.X,b,i)}n.removeChild=function(a,b){if(a){var c=p(a)?a:Hf(a),a=this.Y&&c?(c in this.Y?this.Y[c]:i)||k:k;c&&a&&(qb(this.Y,c),Ya(this.X,a),b&&(a.Rb(),a.d&&Ne(a.d)),a.Ae(k))}a||f(Error("Child is not in parent component"));return a};function Lf(a,b,c,d,e){if(!E&&(!F||!G("525")))return j;if(ic&&e)return Mf(a);if(e&&!d||!c&&(17==b||18==b)||E&&d&&b==a)return l;switch(a){case 13:return!(E&&Bc(9));case 27:return!F}return Mf(a)}function Mf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||F&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Nf(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Of(){}var Pf;ma(Of);n=Of.prototype;n.qc=aa();n.O=function(a){var b=a.Ea().O("div",Qf(this,a).join(" "),a.Pa);Rf(this,a,b);return b};n.Sa=function(a){return a};n.Yc=function(a,b,c){if(a=a.a?a.a():a)if(E&&!G("7")){var d=Sf(ye(a),b);d.push(b);xa(c?L:M,a).apply(k,d)}else O(a,b,c)};n.Kb=da(j);
n.i=function(a,b){if(b.id){var c=b.id;a.H&&a.H.Y&&(qb(a.H.Y,a.ea),Qc(a.H.Y,c,a));a.ea=c}(c=this.Sa(b))&&c.firstChild?(c=c.firstChild.nextSibling?$a(c.childNodes):c.firstChild,a.Pa=c):a.Pa=k;var d=0,e=this.da(),g=this.da(),h=l,m=l,c=l,r=ye(b);v(r,function(a){if(!h&&a==e)h=j,g==e&&(m=j);else if(!m&&a==g)m=j;else{var b=d;if(!this.Ci){this.Sd||Tf(this);var c=this.Sd,r={},x;for(x in c)r[c[x]]=x;this.Ci=r}a=parseInt(this.Ci[a],10);d=b|(isNaN(a)?0:a)}},this);a.t=d;h||(r.push(e),g==e&&(m=j));m||r.push(g);
var x=a.Ca;x&&r.push.apply(r,x);if(E&&!G("7")){var y=Sf(r);0<y.length&&(r.push.apply(r,y),c=j)}if(!h||!m||x||c)b.className=r.join(" ");Rf(this,a,b);return b};n.zh=function(a){a.Eh()&&this.gc(a.a(),j);a.isEnabled()&&this.Hc(a,a.Ua())};function Rf(a,b,c){b.isEnabled()||a.La(c,1,j);Uf(b,8)&&a.La(c,8,j);b.ba&16&&a.La(c,16,Uf(b,16));b.ba&64&&a.La(c,64,Uf(b,64))}
n.Gc=function(a,b){var c=!b,d=E||nc?a.getElementsByTagName("*"):k;if(uf){if(c=c?"none":"",a.style[uf]=c,d)for(var e=0,g;g=d[e];e++)g.style[uf]=c}else if(E||nc)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};n.gc=function(a,b){this.Yc(a,this.da()+"-rtl",b)};n.xf=function(a){var b;return a.ba&32&&(b=a.sb())?Ve(b):l};
n.Hc=function(a,b){var c;if(a.ba&32&&(c=a.sb())){if(!b&&a.de()){try{c.blur()}catch(d){}a.de()&&a.lh()}Ve(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};n.Za=function(a,b){T(a,b)};n.ia=function(a,b,c){var d=a.a();if(d){var e=Vf(this,b);e&&this.Yc(a,e,c);this.La(d,b,c)}};n.La=function(a,b,c){Pf||(Pf={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Pf[b])&&a.setAttribute("aria-"+b,c)};
n.fc=function(a,b){var c=this.Sa(a);if(c&&(Le(c),b))if(p(b))Se(c,b);else{var d=function(a){if(a){var b=Ee(c);c.appendChild(p(a)?b.createTextNode(a):a)}};oa(b)?v(b,d):pa(b)&&!("nodeType"in b)?v($a(b),d):d(b)}};n.sb=function(a){return a.a()};n.da=da("goog-control");function Qf(a,b){var c=a.da(),d=[c],e=a.da();e!=c&&d.push(e);c=b.t;for(e=[];c;){var g=c&-c;e.push(Vf(a,g));c&=~g}d.push.apply(d,e);(c=b.Ca)&&d.push.apply(d,c);E&&!G("7")&&d.push.apply(d,Sf(d));return d}
function Sf(a,b){var c=[];b&&(a=a.concat([b]));v([],function(d){Ua(d,xa(Xa,a))&&(!b||Xa(d,b))&&c.push(d.join("_"))});return c}function Vf(a,b){a.Sd||Tf(a);return a.Sd[b]}function Tf(a){var b=a.da();a.Sd={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Wf(){}t(Wf,Of);ma(Wf);n=Wf.prototype;n.qc=da("button");n.La=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Wf.f.La.call(this,a,b,c)};n.O=function(a){var b=Wf.f.O.call(this,a),c=a.$c();c&&this.jg(b,c);(c=a.o())&&this.ma(b,c);a.ba&16&&this.La(b,16,Uf(a,16));return b};n.i=function(a,b){var b=Wf.f.i.call(this,a,b),c=this.o(b);a.xg=c;a.qg=this.$c(b);a.ba&16&&this.La(b,16,Uf(a,16));return b};n.o=la;n.ma=la;n.$c=function(a){return a.title};n.jg=function(a,b){a&&(a.title=b||"")};n.da=da("goog-button");function Xf(a,b){u.call(this);a&&Yf(this,a,b)}t(Xf,ed);n=Xf.prototype;n.d=k;n.ee=k;n.yf=k;n.fe=k;n.vb=-1;n.ub=-1;n.Se=l;
var Zf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},$f={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ag=E||F&&G("525"),bg=ic&&oc;n=Xf.prototype;
n.yj=function(a){if(F&&(17==this.vb&&!a.ctrlKey||18==this.vb&&!a.altKey))this.ub=this.vb=-1;ag&&!Lf(a.keyCode,this.vb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.ub=oc?Nf(a.keyCode):a.keyCode,bg&&(this.Se=a.altKey))};n.Aj=function(a){this.ub=this.vb=-1;this.Se=a.altKey};
n.handleEvent=function(a){var b=a.ca,c,d,e=b.altKey;E&&"keypress"==a.type?(c=this.ub,d=13!=c&&27!=c?b.keyCode:0):F&&"keypress"==a.type?(c=this.ub,d=0<=b.charCode&&63232>b.charCode&&Mf(c)?b.charCode:0):nc?(c=this.ub,d=Mf(c)?b.keyCode:0):(c=b.keyCode||this.ub,d=b.charCode||0,bg&&(e=this.Se),ic&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Zf?g=Zf[c]:25==c&&a.shiftKey&&(g=9):h&&h in $f&&(g=$f[h]);a=g==this.vb;this.vb=g;b=new cg(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};n.a=ca("d");
function Yf(a,b,c){a.fe&&a.detach();a.d=b;a.ee=H(a.d,"keypress",a,c);a.yf=H(a.d,"keydown",a.yj,c,a);a.fe=H(a.d,"keyup",a.Aj,c,a)}n.detach=function(){this.ee&&(ad(this.ee),ad(this.yf),ad(this.fe),this.fe=this.yf=this.ee=k);this.d=k;this.ub=this.vb=-1};n.k=function(){Xf.f.k.call(this);this.detach()};function cg(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}t(cg,Ic);function dg(a,b){a||f(Error("Invalid class name "+a));qa(b)||f(Error("Invalid decorator function "+b))}var eg={};function fg(a,b,c){U.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=sa(b);if(d=eg[d])break;b=b.f?b.f.constructor:k}b=d?qa(d.b)?d.b():new d:k}this.D=b;this.Pa=a}t(fg,U);n=fg.prototype;n.Pa=k;n.t=0;n.ba=39;n.bb=255;n.Fk=0;n.Je=j;n.Ca=k;n.qf=j;n.Od=l;n.li=k;function gg(a){a.T&&l!=a.qf&&hg(a,l);a.qf=l}n.sb=function(){return this.D.sb(this)};
n.Yc=function(a,b){b?a&&(this.Ca?Xa(this.Ca,a)||this.Ca.push(a):this.Ca=[a],this.D.Yc(this,a,j)):a&&this.Ca&&(Ya(this.Ca,a),0==this.Ca.length&&(this.Ca=k),this.D.Yc(this,a,l))};n.O=function(){var a=this.D.O(this);this.d=a;var b=this.li||this.D.qc();b&&a.setAttribute("role",b);this.Od||this.D.Gc(a,l);this.Ua()||this.D.Za(a,l)};n.Sa=function(){return this.D.Sa(this.a())};n.Kb=function(a){return this.D.Kb(a)};
n.q=function(a){this.d=a=this.D.i(this,a);var b=this.li||this.D.qc();b&&a.setAttribute("role",b);this.Od||this.D.Gc(a,l);this.Je="none"!=a.style.display};n.w=function(){fg.f.w.call(this);this.D.zh(this);if(this.ba&-2&&(this.qf&&hg(this,j),this.ba&32)){var a=this.sb();if(a){var b=this.vc||(this.vc=new Xf);Yf(b,a);J(J(J(this.j(),b,"key",this.zj),a,"focus",this.wj),a,"blur",this.lh)}}};
function hg(a,b){var c=a.j(),d=a.a();b?(J(J(J(J(c,d,"mouseover",a.qh),d,"mousedown",a.oh),d,"mouseup",a.rh),d,"mouseout",a.ph),a.ae!=la&&J(c,d,"contextmenu",a.ae),E&&J(c,d,"dblclick",a.mh)):(ge(ge(ge(ge(c,d,"mouseover",a.qh),d,"mousedown",a.oh),d,"mouseup",a.rh),d,"mouseout",a.ph),a.ae!=la&&ge(c,d,"contextmenu",a.ae),E&&ge(c,d,"dblclick",a.mh))}n.Rb=function(){fg.f.Rb.call(this);this.vc&&this.vc.detach();this.Ua()&&this.isEnabled()&&this.D.Hc(this,l)};
n.k=function(){fg.f.k.call(this);this.vc&&(this.vc.Z(),delete this.vc);delete this.D;this.Ca=this.Pa=k};n.fc=function(a){this.D.fc(this.a(),a);this.Pa=a};n.hh=function(){var a=this.Pa;return!a?"":(p(a)?a:oa(a)?Ta(a,Ye).join(""):We(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};n.gc=function(a){fg.f.gc.call(this,a);var b=this.a();b&&this.D.gc(b,a)};n.Gc=function(a){this.Od=a;var b=this.a();b&&this.D.Gc(b,a)};n.Ua=ca("Je");
n.Za=function(a,b){if(b||this.Je!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.a();c&&this.D.Za(c,a);this.isEnabled()&&this.D.Hc(this,a);this.Je=a;return j}return l};n.isEnabled=function(){return!Uf(this,1)};n.Cb=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&ig(this,1,!a))a||(this.setActive(l),jg(this,l)),this.Ua()&&this.D.Hc(this,a),this.ia(1,!a)};function jg(a,b){ig(a,2,b)&&a.ia(2,b)}n.tb=function(){return Uf(this,4)};
n.setActive=function(a){ig(this,4,a)&&this.ia(4,a)};function kg(a,b){ig(a,16,b)&&a.ia(16,b)}n.de=function(){return Uf(this,32)};n.la=function(a){ig(this,32,a)&&this.ia(32,a)};function Uf(a,b){return!!(a.t&b)}n.ia=function(a,b){this.ba&a&&b!=Uf(this,a)&&(this.D.ia(this,a,b),this.t=b?this.t|a:this.t&~a)};function lg(a,b,c){a.T&&(Uf(a,b)&&!c)&&f(Error("Component already rendered"));!c&&Uf(a,b)&&a.ia(b,l);a.ba=c?a.ba|b:a.ba&~b}function mg(a,b){return!!(a.bb&b)&&!!(a.ba&b)}
function ig(a,b,c){return!!(a.ba&b)&&Uf(a,b)!=c&&(!(a.Fk&b)||a.dispatchEvent(Gf(b,c)))&&!a.Ud}n.qh=function(a){(!a.relatedTarget||!Re(this.a(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&mg(this,2))&&jg(this,j)};n.ph=function(a){if((!a.relatedTarget||!Re(this.a(),a.relatedTarget))&&this.dispatchEvent("leave"))mg(this,4)&&this.setActive(l),mg(this,2)&&jg(this,l)};n.ae=la;
n.oh=function(a){this.isEnabled()&&(mg(this,2)&&jg(this,j),Kc(a)&&(mg(this,4)&&this.setActive(j),this.D.xf(this)&&this.sb().focus()));!this.Od&&Kc(a)&&a.preventDefault()};n.rh=function(a){this.isEnabled()&&(mg(this,2)&&jg(this,j),this.tb()&&(this.pd(a)&&mg(this,4))&&this.setActive(l))};n.mh=function(a){this.isEnabled()&&this.pd(a)};
n.pd=function(a){mg(this,16)&&kg(this,!Uf(this,16));mg(this,8)&&ig(this,8,j)&&this.ia(8,j);if(mg(this,64)){var b=!Uf(this,64);ig(this,64,b)&&this.ia(64,b)}b=new Fc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.Vf=a.Vf);return this.dispatchEvent(b)};n.wj=function(){mg(this,32)&&this.la(j)};n.lh=function(){mg(this,4)&&this.setActive(l);mg(this,32)&&this.la(l)};
n.zj=function(a){return this.Ua()&&this.isEnabled()&&this.pf(a)?(a.preventDefault(),a.stopPropagation(),j):l};n.pf=function(a){return 13==a.keyCode&&this.pd(a)};qa(fg)||f(Error("Invalid component class "+fg));qa(Of)||f(Error("Invalid renderer class "+Of));var ng=sa(fg);eg[ng]=Of;dg("goog-control",function(){return new fg(k)});function og(){}t(og,Wf);ma(og);n=og.prototype;n.qc=aa();n.O=function(a){gg(a);a.bb&=-256;lg(a,32,l);return a.Ea().O("button",{"class":Qf(this,a).join(" "),disabled:!a.isEnabled(),title:a.$c()||"",value:a.o()||""},a.hh()||"")};n.Kb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};n.i=function(a,b){gg(a);a.bb&=-256;lg(a,32,l);b.disabled&&L(b,Vf(this,1));return og.f.i.call(this,a,b)};n.zh=function(a){J(a.j(),a.a(),"click",a.pd)};n.Gc=la;
n.gc=la;n.xf=function(a){return a.isEnabled()};n.Hc=la;n.ia=function(a,b,c){og.f.ia.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};n.o=function(a){return a.value};n.ma=function(a,b){a&&(a.value=b)};n.La=la;function pg(a,b,c){fg.call(this,a,b||og.b(),c)}t(pg,fg);n=pg.prototype;n.o=ca("xg");n.ma=function(a){this.xg=a;this.D.ma(this.a(),a)};n.$c=ca("qg");n.jg=function(a){this.qg=a;this.D.jg(this.a(),a)};n.k=function(){pg.f.k.call(this);delete this.xg;delete this.qg};n.w=function(){pg.f.w.call(this);if(this.ba&32){var a=this.sb();a&&J(this.j(),a,"keyup",this.pf)}};n.pf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.pd(a):32==a.keyCode};dg("goog-button",function(){return new pg(k)});function qg(){}t(qg,Wf);ma(qg);n=qg.prototype;n.O=function(a){var b={"class":"goog-inline-block "+Qf(this,a).join(" "),title:a.$c()||""},b=a.Ea().O("div",b,rg(this,a.Pa,a.Ea()));Rf(this,a,b);return b};n.qc=da("button");n.Sa=function(a){return a&&a.firstChild.firstChild};function rg(a,b,c){return c.O("div","goog-inline-block "+(a.da()+"-outer-box"),c.O("div","goog-inline-block "+(a.da()+"-inner-box"),b))}n.Kb=function(a){return"DIV"==a.tagName};
n.i=function(a,b){sg(b,j);sg(b,l);var c;a:{c=bf(a.Ea(),b);var d=this.da()+"-outer-box";if(c&&N(c,d)&&(c=bf(a.Ea(),c),d=this.da()+"-inner-box",c&&N(c,d))){c=j;break a}c=l}c||b.appendChild(rg(this,b.childNodes,a.Ea()));L(b,"goog-inline-block",this.da());return qg.f.i.call(this,a,b)};n.da=da("goog-custom-button");
function sg(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ea(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function tg(a,b,c){pg.call(this,a,b||qg.b(),c)}t(tg,pg);dg("goog-custom-button",function(){return new tg(k)});function ug(a,b){U.call(this,b);this.Va=a||""}t(ug,U);ug.prototype.Ra=k;var vg="placeholder"in document.createElement("input");n=ug.prototype;n.ad=l;n.O=function(){this.d=this.Ea().O("input",{type:"text"})};n.q=function(a){ug.f.q.call(this,a);this.Va||(this.Va=a.getAttribute("label")||"");var b;a:{var c=Ee(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.ad=j,M(this.a(),this.Oc));vg?this.a().placeholder=this.Va:this.a().setAttribute("aria-label",this.Va)};
n.w=function(){ug.f.w.call(this);var a=new ee(this);J(a,this.a(),"focus",this.nh);J(a,this.a(),"blur",this.tj);vg?this.z=a:(oc&&J(a,this.a(),["keypress","keydown","keyup"],this.uj),J(a,Ee(this.a())?Ee(this.a()).parentWindow||Ee(this.a()).defaultView:window,"load",this.Cj),this.z=a,wg(this));xg(this);this.a().Jj=this};n.Rb=function(){ug.f.Rb.call(this);this.z&&(this.z.Z(),this.z=k);this.a().Jj=k};function wg(a){!a.pj&&(a.z&&a.a().form)&&(J(a.z,a.a().form,"submit",a.xj),a.pj=j)}
n.k=function(){ug.f.k.call(this);this.z&&(this.z.Z(),this.z=k)};n.Oc="label-input-label";n.nh=function(){this.ad=j;M(this.a(),this.Oc);if(!vg&&!yg(this)&&!this.Ij){var a=this,b=function(){a.a().value=""};E?I(b,10):b()}};n.tj=function(){vg||(ge(this.z,this.a(),"click",this.nh),this.Ra=k);this.ad=l;xg(this)};n.uj=function(a){27==a.keyCode&&("keydown"==a.type?this.Ra=this.a().value:"keypress"==a.type?this.a().value=this.Ra:"keyup"==a.type&&(this.Ra=k),a.preventDefault())};
n.xj=function(){yg(this)||(this.a().value="",I(this.sj,10,this))};n.sj=function(){yg(this)||(this.a().value=this.Va)};n.Cj=function(){xg(this)};function yg(a){return!!a.a()&&""!=a.a().value&&a.a().value!=a.Va}n.clear=function(){this.a().value="";this.Ra!=k&&(this.Ra="")};n.reset=function(){yg(this)&&(this.clear(),xg(this))};n.ma=function(a){this.Ra!=k&&(this.Ra=a);this.a().value=a;xg(this)};n.o=function(){return this.Ra!=k?this.Ra:yg(this)?this.a().value:""};
function xg(a){vg?a.a().placeholder!=a.Va&&(a.a().placeholder=a.Va):(wg(a),a.a().setAttribute("aria-label",a.Va));yg(a)?M(a.a(),a.Oc):(!a.Ij&&!a.ad&&L(a.a(),a.Oc),vg||I(a.tk,10,a))}n.Cb=function(a){this.a().disabled=!a;O(this.a(),this.Oc+"-disabled",!a)};n.isEnabled=function(){return!this.a().disabled};n.tk=function(){this.a()&&(!yg(this)&&!this.ad)&&(this.a().value=this.Va)};function zg(a,b,c,d,e,g,h,m,r){var x,y;if(x=c.offsetParent){var B="HTML"==x.tagName||"BODY"==x.tagName;if(!B||"static"!=jf(x,"position"))y=of(x),B||(B=(B=pf(x))&&oc?-x.scrollLeft:B&&(!E||!G("8"))?x.scrollWidth-x.clientWidth-x.scrollLeft:x.scrollLeft,y=Be(y,new Ae(B,x.scrollTop)))}x=y||new Ae;y=of(a);B=S(a);y=new df(y.x,y.y,B.width,B.height);if(B=nf(a)){var Z=new df(B.left,B.top,B.right-B.left,B.bottom-B.top),B=Math.max(y.left,Z.left),V=Math.min(y.left+y.width,Z.left+Z.width);if(B<=V){var ib=Math.max(y.top,
Z.top),Z=Math.min(y.top+y.height,Z.top+Z.height);ib<=Z&&(y.left=B,y.top=ib,y.width=V-B,y.height=Z-ib)}}B=Ce(a);ib=Ce(c);if(B.s!=ib.s){var V=B.s.body,ib=ib.s.parentWindow||ib.s.defaultView,Z=new Ae(0,0),yc=Ee(V)?Ee(V).parentWindow||Ee(V).defaultView:window,kf=V;do{var ea;if(yc==ib)ea=of(kf);else{ea=kf;var kb=new Ae;if(1==ea.nodeType){if(ea.getBoundingClientRect){var ka=lf(ea);kb.x=ka.left;kb.y=ka.top}else{var ka=af(Ce(ea)),Ja=of(ea);kb.x=Ja.x-ka.x;kb.y=Ja.y-ka.y}oc&&!G(12)&&(ka=i,ka=i,E?ka="-ms-transform":
F?ka="-webkit-transform":nc?ka="-o-transform":oc&&(ka="-moz-transform"),Ja=i,ka&&(Ja=jf(ea,ka)),Ja||(Ja=jf(ea,"transform")),Ja?(ea=Ja.match(Af),ka=!ea?new Ae(0,0):new Ae(parseFloat(ea[1]),parseFloat(ea[2]))):ka=new Ae(0,0),kb=new Ae(kb.x+ka.x,kb.y+ka.y))}else ka=qa(ea.qj),Ja=ea,ea.targetTouches?Ja=ea.targetTouches[0]:ka&&ea.ca.targetTouches&&(Ja=ea.ca.targetTouches[0]),kb.x=Ja.clientX,kb.y=Ja.clientY;ea=kb}Z.x+=ea.x;Z.y+=ea.y}while(yc&&yc!=ib&&(kf=yc.frameElement)&&(yc=yc.parent));V=Be(Z,of(V));E&&
!$e(B)&&(V=Be(V,af(B)));y.left+=V.x;y.top+=V.y}a=(b&4&&pf(a)?b^2:b)&-5;b=new Ae(a&2?y.left+y.width:y.left,a&1?y.top+y.height:y.top);b=Be(b,x);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var K;if(h)if(r)K=r;else if(K=nf(c))K.top-=x.y,K.right-=x.x,K.bottom-=x.y,K.left-=x.x;a:{r=b.clone();e=0;a=(d&4&&pf(c)?d^2:d)&-5;d=S(c);m=m?m.clone():d.clone();if(g||0!=a)a&2?r.x-=m.width+(g?g.right:0):g&&(r.x+=g.left),a&1?r.y-=m.height+(g?g.bottom:0):g&&(r.y+=g.top);if(h){if(K){g=r;e=0;if(65==(h&65)&&(g.x<K.left||
g.x>=K.right))h&=-2;if(132==(h&132)&&(g.y<K.top||g.y>=K.bottom))h&=-5;g.x<K.left&&h&1&&(g.x=K.left,e|=1);g.x<K.left&&(g.x+m.width>K.right&&h&16)&&(m.width=Math.max(m.width-(g.x+m.width-K.right),0),e|=4);g.x+m.width>K.right&&h&1&&(g.x=Math.max(K.right-m.width,K.left),e|=1);h&2&&(e|=(g.x<K.left?16:0)|(g.x+m.width>K.right?32:0));g.y<K.top&&h&4&&(g.y=K.top,e|=2);g.y>=K.top&&(g.y+m.height>K.bottom&&h&32)&&(m.height=Math.max(m.height-(g.y+m.height-K.bottom),0),e|=8);g.y+m.height>K.bottom&&h&4&&(g.y=Math.max(K.bottom-
m.height,K.top),e|=2);h&8&&(e|=(g.y<K.top?64:0)|(g.y+m.height>K.bottom?128:0));h=e}else h=256;e=h;if(e&496){c=e;break a}}g=oc&&(ic||qc)&&G("1.9");r instanceof Ae?(h=r.x,r=r.y):(h=r,r=i);c.style.left=qf(h,g);c.style.top=qf(r,g);if(!(d==m||(!d||!m?0:d.width==m.width&&d.height==m.height)))g=$e(Ce(Ee(c))),E&&(!g||!G("8"))?(h=c.style,g?(g=wf(c,"padding"),c=zf(c),h.pixelWidth=m.width-c.left-g.left-g.right-c.right,h.pixelHeight=m.height-c.top-g.top-g.bottom-c.bottom):(h.pixelWidth=m.width,h.pixelHeight=
m.height)):(c=c.style,oc?c.MozBoxSizing="border-box":F?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(m.width,0)+"px",c.height=Math.max(m.height,0)+"px");c=e}return c};function Ag(){}Ag.prototype.Ya=aa();function Bg(a,b,c){this.element=a;this.cf=b;this.jk=c}t(Bg,Ag);Bg.prototype.Ya=function(a,b,c){zg(this.element,this.cf,a,b,i,c,this.jk)};function Cg(a,b,c,d){Bg.call(this,a,b);this.Mj=c?5:0;this.Sf=d||i}t(Cg,Bg);Cg.prototype.Ya=function(a,b,c,d){var e=zg(this.element,this.cf,a,b,k,c,10,d,this.Sf);if(e&496){var g=Dg(e,this.cf),b=Dg(e,b),e=zg(this.element,g,a,b,k,c,10,d,this.Sf);e&496&&(g=Dg(e,g),b=Dg(e,b),zg(this.element,g,a,b,k,c,this.Mj,d,this.Sf))}};function Dg(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function Eg(a,b){u.call(this);this.M=new ee(this);this.uc&&f(Error("Can not change this state of the popup while showing."));this.d=a||k;b&&this.ti(b)}t(Eg,ed);n=Eg.prototype;n.d=k;n.Zi=j;n.Ig=k;n.uc=l;n.wk=l;n.Af=-1;n.Ih=-1;n.Ej=l;n.hj=j;n.Hb="toggle_display";n.ti=ba("Hb");n.a=ca("d");n.Ua=ca("uc");
n.Za=function(a){this.xd&&this.xd.stop();this.bd&&this.bd.stop();if(a){if(!this.uc&&this.dispatchEvent("beforeshow")){this.d||f(Error("Caller must call setElement before trying to show the popup"));this.Ya();a=Ee(this.d);this.Ej&&J(this.M,a,"keydown",this.Yj,j);if(this.Zi)if(J(this.M,a,"mousedown",this.bi,j),E){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}J(this.M,a,"mousedown",this.bi,
j);J(this.M,a,"deactivate",this.ai)}else J(this.M,a,"blur",this.ai);"toggle_display"==this.Hb?(this.d.style.visibility="visible",T(this.d,j)):"move_offscreen"==this.Hb&&this.Ya();this.uc=j;this.xd?(Yc(this.xd,"end",this.fi,l,this),this.xd.play()):this.fi()}}else this.sc()};n.Ya=la;n.sc=function(a){if(!this.uc||!this.dispatchEvent({type:"beforehide",target:a}))return l;this.M&&he(this.M);this.uc=l;this.Ih=s();this.bd?(Yc(this.bd,"end",xa(this.Rg,a),l,this),this.bd.play()):this.Rg(a);return j};
n.Rg=function(a){"toggle_display"==this.Hb?this.wk?I(this.vh,0,this):this.vh():"move_offscreen"==this.Hb&&(this.d.style.top="-10000px");this.dispatchEvent({type:"hide",target:a})};n.vh=function(){this.d.style.visibility="hidden";T(this.d,l)};n.fi=function(){this.Af=s();this.Ih=-1;this.dispatchEvent("show")};n.bi=function(a){a=a.target;!Re(this.d,a)&&((!this.Ig||Re(this.Ig,a))&&!(150>s()-this.Af))&&this.sc(a)};n.Yj=function(a){27==a.keyCode&&this.sc(a.target)&&(a.preventDefault(),a.stopPropagation())};
n.ai=function(a){if(this.hj){var b=Ee(this.d);if(E||nc){if(a=b.activeElement,!a||Re(this.d,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>s()-this.Af||this.sc()}};n.k=function(){Eg.f.k.call(this);this.M.Z();Ca(this.xd);Ca(this.bd);delete this.d;delete this.M};function Fg(a,b){this.ji=4;this.Xf=b||i;Eg.call(this,a)}t(Fg,Eg);function Gg(a,b){a.ji=b;a.Ua()&&a.Ya()}function Hg(a,b){a.Xf=b||i;a.Ua()&&a.Ya()}function Ig(a,b,c,d,e){a.Qj=b==k||b instanceof cf?b:new cf(b,c,d,e);a.Ua()&&a.Ya()}Fg.prototype.Ya=function(){if(this.Xf){var a=!this.Ua()&&"move_offscreen"!=this.Hb,b=this.a();a&&(b.style.visibility="hidden",T(b,j));this.Xf.Ya(b,this.ji,this.Qj);a&&T(b,l)}};function Jg(a,b,c){u.call(this);this.xb=a;this.ga=b;this.M=c;this.Ve=q(this.gk,this)}t(Jg,u);n=Jg.prototype;n.Ce=l;n.ii=0;n.ja=k;n.dh=function(){!this.ja&&!this.ii?this.Xc():this.Ce=j};n.stop=function(){this.ja&&(gd.clearTimeout(this.ja),this.ja=k,this.Ce=l)};n.k=function(){Jg.f.k.call(this);this.stop()};n.gk=function(){this.ja=k;this.Ce&&!this.ii&&(this.Ce=l,this.Xc())};n.Xc=function(){this.ja=I(this.Ve,this.ga);this.xb.call(this.M)};function Kg(a,b){u.call(this);this.xb=a;this.M=b;this.Qa=new ke(q(this.fk,this),0,this)}t(Kg,u);n=Kg.prototype;n.ga=0;n.dg=0;n.Ch=l;n.k=function(){this.Qa.Z();delete this.xb;delete this.M;Kg.f.k.call(this)};n.start=function(a,b){this.stop();this.Ch=l;var c=b||0;this.ga=Math.max(a||0,0);this.dg=0>c?-1:s()+c;this.Qa.start(0>c?this.ga:Math.min(this.ga,c))};n.stop=function(){this.Qa.stop()};n.tb=function(){return this.Qa.tb()};
n.fk=function(){if(this.xb.call(this.M))this.Ch=j;else if(0>this.dg)this.Qa.start(this.ga);else{var a=this.dg-s();0>=a||this.Qa.start(Math.min(this.ga,a))}};function Lg(a){u.call(this);this.d=a;this.md=this.d.value;this.z=new ee(this);this.Wa=s();F||E||oc&&G("1.9")?J(this.z,a,"paste",this.oc):J(this.z,a,["keydown","blur","focus","mouseover","input"],this.vj);this.Qa=new Kg(q(this.Lg,this))}t(Lg,ed);n=Lg.prototype;n.t="init";n.v=Ed("goog.events.PasteHandler");n.k=function(){Lg.f.k.call(this);this.z.Z();this.z=k;this.Qa.Z();this.Qa=k};
n.Lg=function(){if(this.md==this.d.value)return l;this.v.info("detected textchange after paste");this.dispatchEvent("after_paste");return j};n.oc=function(a){a=new Ic(a.ca);a.type="paste";this.dispatchEvent(a);I(function(){this.Lg()||this.Qa.start(50,200)},0,this)};
n.vj=function(a){switch(this.t){case "init":switch(a.type){case "blur":this.t="init";break;case "focus":this.t="focused";break;case "mouseover":this.t="init";this.d.value!=this.md&&(this.v.info("paste by dragdrop while on init!"),this.oc(a));break;default:Ad(this.v,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.Wa+400;if(s()>b||"focus"==this.pk)this.v.info("paste by textchange while focused!"),this.oc(a);break;case "blur":this.t="init";break;
case "keydown":this.v.info("key down ... looking for ctrl+v");if(ic&&nc&&0==a.keyCode||ic&&nc&&17==a.keyCode)break;this.t="typing";break;case "mouseover":this.d.value!=this.md&&(this.v.info("paste by dragdrop while focused!"),this.oc(a));break;default:Ad(this.v,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.t="focused";break;case "blur":this.t="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.v.info("paste by ctrl+v while keypressed!"),
this.oc(a);break;case "mouseover":this.d.value!=this.md&&(this.v.info("paste by dragdrop while keypressed!"),this.oc(a));break;default:Ad(this.v,"unexpected event "+a.type+" during keypressed")}break;default:Ad(this.v,"invalid "+this.t+" state")}this.Wa=s();this.md=this.d.value;this.v.info(a.type+" -> "+this.t);this.pk=a.type};E&&G(8);var Mg={};function Ng(a,b,c){a.innerHTML=b(c||Mg,i,i)}function W(a,b){var c;a:if(c=(new De(i)||Ce()).createElement("DIV"),c.innerHTML=a(b||Mg,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function X(a){return"object"===typeof a&&a&&0===a.vl?a.content:String(a).replace(Og,Pg)}
var Qg={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Pg(a){return Qg[a]}var Og=/[\x00\x22\x26\x27\x3c\x3e]/g;function Rg(){return'<div class="popup" id="popup" style="visibility: hidden; display: none;"><div class="content"></div><div id="tailarrow"></div></div>'}function Sg(a){return(a.link?'<a href="'+X(a.link)+'">':"")+'<div class="tooltip">'+X(a.text)+"</div>"+(a.link?"</a>":"")}
function Tg(){return'<div class="select-program"><div class="select-header">Suggest a Program</div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="paste a youtube link"/><div class="page2"></div></div></div></div>'}function Ug(a){return'<div class="confirm-media"><img src="'+X(a.Jk)+'" /><div class="title">'+X(a.title)+'</div><div class="dark button">Yes</div></div>'};function Vg(){w.call(this)}t(Vg,w);ma(Vg);function Wg(){var a=P("popup");a||(a=W(Rg),document.body.appendChild(a));Fg.call(this,a);H(window,"resize",q(this.Za,this,l));H(this,"hide",this.ak);this.kg=this.tf=l;this.U=Vg.b();this.U.subscribe("tooltip",this.Ck,this);this.U.subscribe("select-program",this.yk,this);this.U.subscribe("hide",this.sc,this);H(this.a(),"mouseover",q(function(){this.tf=j},this));H(this.a(),"mouseout",q(function(){this.tf=l;this.kg&&this.U.c("hide")},this))}t(Wg,Fg);ma(Wg);
function Xg(a,b,c,d){H(b,"mouseover",q(function(){this.Ng&&gd.clearTimeout(this.Ng);this.kg=l;this.U.c("tooltip",b,c,d)},a));H(b,"mouseout",q(function(){this.Ng=I(q(function(){this.tf?this.kg=j:this.U.c("hide")},this),100)},a))}n=Wg.prototype;n.ak=function(){this.sc();this.U.c("on-hide")};n.Sa=function(){return Q("content",this.a())};
n.Ck=function(a,b,c){this.Za(l);"top"==b?(Gg(this,1),b=-1*(S(this.a()).width-S(a).width)/2,Ig(this,0,0,6,b),Hg(this,new Cg(a,4)),this.a().className="popup",L(this.a(),"top")):"left"==b?(Gg(this,0),b=-1*(S(this.a()).height-S(a).height)/2,Ig(this,b,6,0,0),Hg(this,new Cg(a,6)),this.a().className="popup",L(this.a(),"left")):"right"==b&&(Gg(this,0),b=-1*(S(this.a()).height-S(a).height)/2,Ig(this,b,0,0,6),Hg(this,new Cg(a,6)),this.a().className="popup",L(this.a(),"right"));Ng(this.Sa(),Sg,{text:c.text,
link:c.link});this.Za(j)};n.yk=function(a,b){this.Za(l);Gg(this,0);var c=-1*(S(this.a()).height-S(a).height)/2;Ig(this,c,0,0,5);Hg(this,new Cg(a,6));L(this.a(),"left");Ng(this.Sa(),Tg);this.Cd=new ug("paste a YouTube link");this.Cd.i(Q("program-input",this.a()));var c=new Xf(this.Cd.a()),d=new Lg(this.Cd.a()),e=new Jg(q(this.Qf,this,b),1E3);this.Za(j);J(J(J(this.M,d,"after_paste",q(this.Qf,this,b)),c,"key",q(function(){e&&e.dh()},this)),this.Cd.a(),"focus",q(this.Qf,this,b))};
n.Qf=function(a){var b=Q("select-content",this.a());try{var c;var d=this.Cd.o(),e=Yg.exec(d);e?c=new Zg(e[1]||e[2],i,i):f(Error("failed to parse video id from youtube url: "+d));z(Da("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.Qi),q(function(d){var e=Fd(Yd(d.target)).entry,d=e.title.$t,g=e.media$group.media$thumbnail[0].url,e=Q("page2",this.a());Ng(e,Ug,{title:d,Jk:g});d=new tg("Yes");d.i(Q("button",e));(new Cf(b,[0,0],[260,0],300,Df)).play();J(this.M,d,"action",q(this.Lf,this,
a,c))},this))}catch(g){}};n.Lf=function(a,b){z("/_addprogram",q(function(b){b=Fd(Yd(b.target));b=new Ib(b);a.c(Ub,b);this.Za(l)},this),"POST","channel="+a.id+"&youtube_id="+b.Qi)};function Y(){w.call(this)}t(Y,w);ma(Y);function $g(a){return'<div class="info"><div class="picture"><img src="'+X(a.media.mb)+'" class="thumb"><div class="ytvideo"></div><div class="publisher"><img src="'+X(a.media.aa.J)+'"><div class="name">'+X(a.media.aa.name)+'</div></div><div class="links"><div class="local"></div><a target="_blank" href="'+a.media.Fj+'"><div class="host"></div></a></div><div class="link-select" style="display:none"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><div class="title"><div class="text">'+
X(a.media.name)+'</div></div><div class="scrollable ios-scroll" '+(!a.description?'style="display:none"':"")+'><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+X(a.dc)+'</div></div><div class="description">'+a.description+'</div></div><div class="button play"><div class="icon"></div><div class="loading-icon"></div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="viewers" style="display: none"><div class="label"><div class="eye-icon"></div></div></div><div class="info-contents"><div class="scrollable ios-scroll"><div class="user-poll" style="display: none"><div class="label"><div class="status">VOTE</div></div><div class="poll-options"></div></div><div class="tweet-holder" style="display:none"><div class="label"><div class="globe-icon"></div><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><div class="friends-icon"></div><a class="conv-link">CONVERSATION</a>'+
(a.Kj?'<a class="prev-link">&#10218; LAST PROGRAM</a>':"")+'</div><div class="no-comments" style="display:none">Start the conversation with friends.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div><div class="overlay" style="display: none"><div class="leaving"><div>This program is over. Carry on?</div><div class="button dark no">Not yet</div><div class="button dark yes">Let\'s go</div></div></div></div>'}
function ah(a){return'<div class="viewer" name="'+X(a.Xd)+'"><img src="'+X(a.p.J)+'"></div>'}
function bh(a){return'<div class="tweet" id="'+X(a.prefix)+"-"+X(a.nb.id)+'">'+(a.nb.p?'<a href="#user:'+X(a.nb.p.id)+'"><img src="'+X(a.nb.J)+'"/></a>':'<img src="'+X(a.nb.J)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+X(a.nb.handle)+"/status/"+X(a.nb.id)+'">'+X(a.nb.handle)+"</a> "+a.text+'</div><div class="timestamp">'+X(a.timestamp)+'</div><div class="tweet-options"><div class="reply"></div></div></div>'}
function ch(a){return'<div class="comment'+(a.K.A?" reply":"")+'" '+(a.K.id?'id="'+X(a.prefix)+"-"+X(a.K.id)+'"':"")+">"+(!a.K.A?'<a href="#user:'+X(a.K.p.id)+'"><div class="user-picture" style="background:'+X(a.K.p.color)+'"><img src="'+X(a.K.p.J)+'"/></div></a>':"")+'<div class="template"><a class="user" href="#user:'+X(a.K.p.id)+'">'+X(a.K.p.name)+'</a>  <div class="text">'+a.text+'<div class="comment-options">'+(a.gi?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div><div class="timestamp">'+
X(a.K.Bb)+'</div><div class="replies"></div>'+(!a.K.A?'<div class="reply-input"><textarea class="reply-textarea" rows="1" placeholder="reply..."></textarea></div>':"")+"</div></div>"}
function dh(){return'<div class="comment-input"><div class="textarea-holder"><div class="input-holder"><div class="highlighter"></div><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea><div class="suggestions" style="display:none"></div></div></div><div class="comment-controls"><div class="comment-toggle tweet-toggle"><div class="icon"></div></div><div class="comment-toggle fb-toggle"><div class="icon"></div></div></div><div class="comment-button add-comment">POST</div></div>'}
function eh(a){var b='<div class="activity'+(1<a.C.length?" digest":"")+'">';if(1<a.C.length){for(var b=b+('<div class="template"><span>'+X(a.C.length)+" friends </span>"+(a.Li?"watched":"are watching")+(a.N?' <a href="#channel:'+X(a.N.id)+'">'+X(a.N.name)+"</a>":"")+'<div class="timestamp">'+X(a.time)+'</div></div><div class="users">'),c=a.C,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+X(g.id)+'"><div class="picture" style="background:'+X(g.color)+'"><img src="'+X(g.J)+'"/></div></a>');
b+="</div>"}return b+=(1==a.C.length?'<a href="#user:'+X(a.C[0].id)+'"><div class="picture" style="background:'+X(a.C[0].color)+'"><img src="'+X(a.C[0].J)+'"/></div></a><div class="template"><a class="user" href="#user:'+X(a.C[0].id)+'">'+X(a.C[0].name)+"</a> "+(a.Li?"watched":"is watching")+(a.N?' <a href="#channel:'+X(a.N.id)+'">'+X(a.N.name)+"</a>":"")+'<div class="timestamp">'+X(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function fh(a){for(var b='<div class="comment activity'+(1<a.Oa.length?" digest":"")+'">'+(1<a.Oa.length?'<div class="template">'+(1==a.C.length?'<a class="user" href="#user:'+X(a.C[0].id)+'">'+X(a.C[0].name)+' </a> discussed <a class="title" href="#info:'+X(a.media.id)+'">'+X(a.media.name)+"</a>.":"<span>"+X(a.C.length)+' friends </span> discussed <a class="title" href="#info:'+X(a.media.id)+'"> '+X(a.media.name)+"</a>.")+"</div>":""),a=a.Oa,c=a.length,d=0;d<c;d++)var e=a[d],b=b+('<div class="comment"><a href="#user:'+
X(e.p.id)+'"><div class="picture" style="background:'+X(e.p.color)+'"><img src="'+X(e.p.J)+'"/></div></a><div class="template"><a class="user" href="#user:'+X(e.p.id)+'">'+X(e.p.name)+'</a>  <div class="text">'+e.text+'</div><div class="timestamp">'+X(e.Bb)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function gh(a){var b='<div class="like activity'+(1<a.C.length?" digest":"")+'">';if(1<a.C.length){for(var b=b+('<div class="template"><span>'+X(a.C.length)+' friends </span>liked<div class="timestamp">'+X(a.time)+'</div></div><div class="users">'),c=a.C,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+X(g.id)+'"><div class="picture" style="background:'+X(g.color)+'"><img src="'+X(g.J)+'"/></div></a>');b+="</div>"}return b+=(1==a.C.length?'<a href="#user:'+X(a.C[0].id)+'"><div class="picture" style="background:'+
X(a.C[0].color)+'"><img src="'+X(a.C[0].J)+'"/></div></a><div class="template" style="top:10px;margin-bottom:30px"><a class="user" href="#user:'+X(a.C[0].id)+'">'+X(a.C[0].name)+"</a> liked "+(1<a.Qh?X(a.Qh)+" stories":"")+'<div class="timestamp">'+X(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function hh(a){return'<div class="list-info"><div class="picture-cell" '+(a.mb?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+X(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+X(a.mb)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function ih(a){return'<li class="'+X(a.className)+' tab"><div class="label">'+X(a.name)+"</div></li>"}
function jh(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.Ah?'placeholder="'+X(a.Ah)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function kh(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function lh(a){return'<div class="playlist"><div class="title">'+X(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function mh(a){return'<div class="category button">'+X(a.name)+"</div>"}function nh(a){return'<div class="publisher">'+(a.J?'<img src="'+X(a.J)+'"/>':"")+'<div class="title">'+X(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function oh(a){return'<div class="channel '+(a.N.Bc?"on":"off")+'"><div class="title">'+X(a.N.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.N.Dc?'<div class="pending">'+X(a.N.Dc)+"</div>":"")+"</div>"}
function ph(a){return'<div class="collection"><div class="title">'+X(a.Ye.name)+'</div><div class="controls">'+(a.Ye.Dc?'<div class="pending">'+X(a.Ye.Dc)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function qh(a){return'<div class="topic"><div class="title">'+X(a.Ok)+'</div><div class="controls">'+(a.Dc?'<div class="pending">'+X(a.Dc)+"</div>":"")+"</div></div>"}
function rh(a){return'<div class="tabbed '+(a.Hf?"inbox":"messages")+'"><ul class="tabs">'+(a.Hf?'<li class="tab inbox"><div class="label">INBOX</div></li>':'<li class="tab messages"><div class="label">MESSAGES</div></li>')+'<li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul>'+(a.Hf?'<div class="inbox-content content inbox"><div class="label">NOTIFICATIONS</div><div class="notifications-content content notifications"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="label messages-label">MESSAGES<div class="label show-all"><a href="#friendlist:1">ALL FRIENDS &gt;</a></div></div><div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div></div>':
'<div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div>')+'<div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function sh(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function th(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+X(a.media.mb)+"); background-position: 50% "+X(a.media.Ei)+'%"></div><div class="title">'+X(a.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+X(a.media.Uc)+'</div><div class="like-count"><div class="icon"></div>'+X(a.media.Nj)+'</div></div></div></div><div class="publisher">'+(a.media.aa?'<img src="'+X(a.media.aa.J)+
'"><div class="name">'+X(a.media.aa.name)+"</div>":"")+'<div class="list-play"><div class="icon"></div></div><div class="list-plus"><div class="icon"></div></div></div></div>'}
function uh(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+X(a.media.mb)+"); background-position: 50% "+X(a.media.Ei)+'%"></div><div class="title">'+X(a.media.name)+'</div><div class="published">'+X(a.dc)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+X(a.media.aa.J)+'"><div class="name">'+X(a.media.aa.name)+
'</div><div class="duration">'+X(a.media.duration)+' seconds</div></div><div class="description">'+X(a.media.description)+"</div></div>"}function vh(a){return'<div class="option"><div class="percent"></div><div class="name">'+X(a.name)+'</div><div class="percent-number">'+X(a.Uf)+"</div></div>"};function wh(a,b,c){u.call(this);this.target=a;this.handle=b||a;this.Lh=c||new df(NaN,NaN,NaN,NaN);this.s=Ee(a);this.z=new ee(this);H(this.handle,["touchstart","mousedown"],this.zd,l,this)}t(wh,ed);var xh=E||oc&&G("1.9.3");n=wh.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.Ai=0;n.Bi=0;n.lc=0;n.mc=0;n.gf=j;n.Pb=l;n.wh=0;n.Rj=0;n.Hj=l;n.Jd=l;n.j=ca("z");n.si=ba("ze");n.Cb=ba("gf");
n.k=function(){wh.f.k.call(this);Zc(this.handle,["touchstart","mousedown"],this.zd,l,this);he(this.z);xh&&this.s.releaseCapture();this.z=this.handle=this.target=k};function yh(a){ia(a.Ia)||(a.Ia=pf(a.target));return a.Ia}
n.zd=function(a){var b="mousedown"==a.type;if(this.gf&&!this.Pb&&(!b||Kc(a))){zh(a);if(0==this.wh)if(this.dispatchEvent(new Ah("start",this,a.clientX,a.clientY,a)))this.Pb=j,a.preventDefault();else return;else a.preventDefault();var b=this.s,c=b.documentElement,d=!xh;J(this.z,b,["touchmove","mousemove"],this.Bj,d);J(this.z,b,["touchend","mouseup"],this.Qb,d);xh?(c.setCapture(l),J(this.z,c,"losecapture",this.Qb)):J(this.z,b?b.parentWindow||b.defaultView:window,"blur",this.Qb);E&&this.Hj&&J(this.z,
b,"dragstart",Gc);this.ze&&J(this.z,this.ze,"scroll",this.ei,d);this.clientX=this.Ai=a.clientX;this.clientY=this.Bi=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Jd?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==jf(a,"position")&&(c=Ee(a).documentElement),c?(oc?(d=zf(c),b+=d.left):Bc(8)&&(d=zf(c),b-=d.left),a=pf(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.lc=a;this.mc=this.target.offsetTop;this.Tf=af(Ce(this.s));this.Rj=s()}else this.dispatchEvent("earlycancel")};
n.Qb=function(a,b){he(this.z);xh&&this.s.releaseCapture();if(this.Pb){zh(a);this.Pb=l;var c=Bh(this,this.lc),d=Ch(this,this.mc);this.dispatchEvent(new Ah("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function zh(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ca.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ca.changedTouches[0],a.currentTarget)}
n.Bj=function(a){if(this.gf){zh(a);var b=(this.Jd&&yh(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Pb){var d=this.Ai-this.clientX,e=this.Bi-this.clientY;if(d*d+e*e>this.wh)if(this.dispatchEvent(new Ah("start",this,a.clientX,a.clientY,a)))this.Pb=j;else{this.Ud||this.Qb(a);return}}c=Dh(this,b,c);b=c.x;c=c.y;this.Pb&&this.dispatchEvent(new Ah("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(Eh(this,a,b,c),a.preventDefault())}};function Dh(a,b,c){var d=af(Ce(a.s)),b=b+(d.x-a.Tf.x),c=c+(d.y-a.Tf.y);a.Tf=d;a.lc+=b;a.mc+=c;b=Bh(a,a.lc);a=Ch(a,a.mc);return new Ae(b,a)}n.ei=function(a){var b=Dh(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Eh(this,a,b.x,b.y)};function Eh(a,b,c,d){a.Ug(c,d);a.dispatchEvent(new Ah("drag",a,b.clientX,b.clientY,b,c,d))}
function Bh(a,b){var c=a.Lh,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function Ch(a,b){var c=a.Lh,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}n.Ug=function(a,b){this.Jd&&yh(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function Ah(a,b,c,d,e,g,h,m){Fc.call(this,a);this.clientX=c;this.clientY=d;this.tl=e;this.left=ia(g)?g:b.lc;this.top=ia(h)?h:b.mc;this.El=b;this.fj=!!m}t(Ah,Fc);function Fh(){u.call(this);this.dd=[];this.Hk=[];this.wd=[]}t(Fh,ed);n=Fh.prototype;n.Fh=l;n.Gh=l;n.wf=l;n.si=ba("ze");n.init=function(){if(!this.wf){for(var a,b=0;a=this.dd[b];b++)Gh(this,a);this.wf=j}};function Gh(a,b){a.Fh&&(H(b.element,"mousedown",b.Th,l,b),a.lg&&L(b.element,a.lg));a.Gh&&a.og&&L(b.element,a.og)}
n.zd=function(a,b){if(!this.ra)if(this.ra=b,this.dispatchEvent(new Hh("dragstart",this,this.ra))==l)this.ra=k;else{var c=b.kc,d;a:switch(d=c.cloneNode(j),c.tagName.toLowerCase()){case "tr":d=R("table",k,R("tbody",k,d));break a;case "td":case "th":d=R("table",k,R("tbody",k,R("tr",k,d)));break a}this.gj&&L(d,this.gj);this.pc=d;d=Ee(c);d.body.appendChild(this.pc);var e=this.pc,g=of(c),c=wf(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=
g.y+"px";this.fb=new wh(e);this.fb.si(this.ze);H(this.fb,"drag",this.Uh,l,this);H(this.fb,"end",this.Qb,l,this);H(d.body,"selectstart",this.Di);this.Ic=[];for(d=0;c=this.Hk[d];d++)for(var h,e=0;h=c.dd[e];e++)for(var g=c,m=[h.element],r=this.Ic,x=0;x<m.length;x++){var y=m[x],B=of(y),Z=S(y),B=new cf(B.y,B.x+Z.width,B.y+Z.height,B.x);r.push(new Ih(B,g,h,y));Jh(this,B)}this.lb||(this.lb=new cf(0,0,0,0));for(d=0;c=this.wd[d];d++)c.$e=[],c.oi=c.d.scrollLeft,c.pi=c.d.scrollTop,e=of(c.d),g=S(c.d),c.Q=new cf(e.y,
e.x+g.width,e.y+g.height,e.x);for(d=0;g=this.Ic[d];d++)for(e=0;c=this.wd[e];e++)Re(c.d,g.d)&&(c.$e.push(g),g.vd=c);this.Ib=k;for(d=0;c=this.wd[d];d++)H(c.d,"scroll",this.Qg,l,this);this.fb.zd(a);a.preventDefault()}};
n.Qb=function(a){var b=a.fj?k:this.Ib;if(b&&b.oa){var c=a.clientX,a=a.clientY,d=af(Ce(this.pc)),e=c+d.x,d=a+d.y,g;this.Bd&&(g=this.Bd(b.gb,b.Q,e,d));this.dispatchEvent(new Hh("drag",this,this.ra,b.oa,b.gb,b.d,c,a,e,d));b.oa.dispatchEvent(new Hh("drop",this,this.ra,b.oa,b.gb,b.d,c,a,e,d,g))}this.dispatchEvent(new Hh("dragend",this,this.ra));Zc(this.fb,"drag",this.Uh,l,this);Zc(this.fb,"end",this.Qb,l,this);Zc(Ee(this.ra.kc).body,"selectstart",this.Di);for(b=0;c=this.wd[b];b++)Zc(c.d,"scroll",this.Qg,
l,this),c.$e=[];this.fb.Z();Ne(this.pc);delete this.ra;delete this.pc;delete this.fb;delete this.Ic;delete this.Ib};
n.Uh=function(a){var b,c=af(Ce(this.pc));b=new Ae(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.Ib,g;if(e){this.Bd&&e.oa&&(g=this.Bd(e.gb,e.Q,c,d));if(e.Q.contains(b)&&g==this.Bg)return;e.oa&&(this.dispatchEvent(new Hh("dragout",this,this.ra,e.oa,e.gb,e.d)),e.oa.dispatchEvent(new Hh("dragout",this,this.ra,e.oa,e.gb,e.d,i,i,i,i,this.Bg)));this.Bg=g;this.Ib=k}if(this.lb.contains(b)){a:{for(var h=0;e=this.Ic[h];h++)if(e.Q.contains(b))if(e.vd){if(e.vd.Q.contains(b)){b=e;break a}}else{b=e;break a}b=
k}if((e=this.Ib=b)&&e.oa)this.Bd&&(g=this.Bd(e.gb,e.Q,c,d)),c=new Hh("dragover",this,this.ra,e.oa,e.gb,e.d),c.Gk=g,this.dispatchEvent(c),e.oa.dispatchEvent(new Hh("dragover",this,this.ra,e.oa,e.gb,e.d,a.clientX,a.clientY,i,i,g));else if(!e){this.ka||(this.ka=new Ih(this.lb.clone()));a=this.ka.Q;a.top=this.lb.top;a.right=this.lb.right;a.bottom=this.lb.bottom;a.left=this.lb.left;for(g=0;e=this.Ic[g];g++)b=e.Q,e.vd&&(e=e.vd.Q,b=new cf(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,
e.bottom),Math.max(b.left,e.left))),e=k,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),e!==k&&h!==k&&(Math.abs(e-c)>Math.abs(h-d)?h=k:e=k),e===k?h!==k&&(h<=d?a.top=h:a.bottom=h):e<=c?a.left=e:a.right=e;this.Ib=10<=(a.right-a.left)*(a.bottom-a.top)?this.ka:k}}};n.Di=da(l);
n.Qg=function(a){for(var b=0,c;c=this.wd[b];b++)if(a.target==c.d){var d=c.pi-c.d.scrollTop,e=c.oi-c.d.scrollLeft;c.pi=c.d.scrollTop;c.oi=c.d.scrollLeft;this.ka&&this.Ib==this.ka&&(0<d?this.ka.Q.top+=d:this.ka.Q.bottom+=d,0<e?this.ka.Q.left+=e:this.ka.Q.right+=e);for(var g=0,h;h=c.$e[g];g++)h=h.Q,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,Jh(this,h)}this.fb.ei(a)};
function Jh(a,b){if(1==a.Ic.length)a.lb=new cf(b.top,b.right,b.bottom,b.left);else{var c=a.lb;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}n.k=function(){Fh.f.k.call(this);for(var a,b=0;a=this.dd[b];b++)this.Fh&&(Zc(a.element,"mousedown",a.Th,l,a),this.lg&&M(a.element,this.lg)),this.Gh&&this.og&&M(a.element,this.og),a.Z();this.dd.length=0};
function Hh(a,b,c,d,e,g,h,m,r,x,y){Fc.call(this,a);this.Cl=b;this.Dl=c;this.Fl=d;this.Hl=e;this.Gl=g;this.clientX=h;this.clientY=m;this.cm=r;this.dm=x;this.Gk=y}t(Hh,Fc);Hh.prototype.k=aa();function Kh(a,b){u.call(this);this.element=P(a);this.data=b;this.H=k;this.element||f(Error("Invalid argument"))}t(Kh,ed);n=Kh.prototype;n.kc=k;
n.Th=function(a){if(Kc(a)){var b=a.target;b&&(H(b,"mousemove",this.yc,l,this),H(b,"mouseout",this.yc,l,this),H(b,"mouseup",this.Gf,l,this),this.kc=b,this.mg=new Ae(a.clientX,a.clientY),a.preventDefault())}};n.Ae=ba("H");n.yc=function(a){var b=this.kc,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.mg.x)+Math.abs(a.clientY-this.mg.y)||c)Zc(b,"mousemove",this.yc,l,this),Zc(b,"mouseout",this.yc,l,this),Zc(b,"mouseup",this.Gf,l,this),this.H.zd(a,this)};
n.Gf=function(){var a=this.kc;Zc(a,"mousemove",this.yc,l,this);Zc(a,"mouseout",this.yc,l,this);Zc(a,"mouseup",this.Gf,l,this);delete this.mg;this.kc=k};function Ih(a,b,c,d){this.Q=a;this.oa=b;this.gb=c;this.d=d}Ih.prototype.vd=k;function Lh(){Fh.call(this)}t(Lh,Fh);function Mh(a,b){b.Ae(a);a.dd.push(b);a.wf&&Gh(a,b)};function Nh(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Ga(d),'="',Ga(b[d]),'" ');var e=c.join("");return a.replace(Oh,function(a,b,c,d,x){a=[Ga(b)];if(!c)return a[0];a.push("<a ",e,'href="');d?(a.push("mailto:"),c=d,d=""):(x||a.push("http://"),(d=c.match(Ph))?(c=d[1],d=d[2]):d="");c=Ga(c);d=Ga(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var Ph=/^(.*)([:;,\.?\[\]])$/,Oh=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function Qh(){}t(Qh,Of);ma(Qh);n=Qh.prototype;n.qc=aa();n.i=function(a,b){gg(a);a.bb&=-256;lg(a,32,l);Qh.f.i.call(this,a,b);a.fc(b.value);return b};n.O=function(a){gg(a);a.bb&=-256;lg(a,32,l);return a.Ea().O("textarea",{"class":Qf(this,a).join(" "),disabled:!a.isEnabled()},a.Pa||"")};n.Kb=function(a){return"TEXTAREA"==a.tagName};n.gc=la;n.xf=function(a){return a.isEnabled()};n.Hc=la;n.ia=function(a,b,c){Qh.f.ia.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};n.La=la;
n.fc=function(a,b){a&&(a.value=b)};n.da=da("goog-textarea");function Rh(a,b,c){fg.call(this,a,b||Qh.b(),c);gg(this);this.Gc(j);a||(this.Pa="")}t(Rh,fg);var Sh=oc||F;n=Rh.prototype;n.tc=l;n.Ta=0;n.Nh=0;n.Sh=0;n.th=l;n.me=l;n.gg=l;n.fg=l;function Th(a){return a.nd.top+a.nd.bottom+a.Jg.top+a.Jg.bottom}function Uh(a){var b=a.Sh,c=a.a();b&&(c&&a.me)&&(b-=Th(a));return b}function Vh(a){var b=a.Nh,c=a.a();b&&(c&&a.me)&&(b-=Th(a));return b}n.ma=function(a){this.fc(String(a))};n.o=function(){return this.a().value};n.fc=function(a){Rh.f.fc.call(this,a);this.resize()};
n.Cb=function(a){Rh.f.Cb.call(this,a);this.a().disabled=!a};n.resize=function(){this.a()&&this.$d()};n.w=function(){Rh.f.w.call(this);var a=this.a();ef(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.nd=wf(a,"padding");this.Jg=zf(a);J(J(J(J(this.j(),a,"scroll",this.$d),a,"focus",this.$d),a,"keyup",this.$d),a,"mouseup",this.Sj);this.resize()};
function Wh(a){if(!a.th){var b=a.a().cloneNode(l);ef(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ea().s.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.gg=d>c;b.style.borderWidth="10px";a.fg=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.me=j);Ne(b);a.th=j}var b=a.a(),c=a.a().scrollHeight,e=a.a(),d=e.offsetHeight-e.clientHeight;if(!a.gg)var g=a.nd,d=d-(g.top+g.bottom);
a.fg||(e=zf(e),d-=e.top+e.bottom);c+=0<d?d:0;a.me?c-=Th(a):(a.gg||(d=a.nd,c+=d.top+d.bottom),a.fg||(a=zf(b),c+=a.top+a.bottom));return c}function Xh(a,b){a.Ta!=b&&(a.Ta=b,a.a().style.height=b+"px")}function Yh(a){a=a.a();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.$d=function(){if(!this.tc){var a=l;this.tc=j;var b=this.a(),c=this.Ta;if(b.scrollHeight){var d=l,e=l,g=Wh(this),h=b.offsetHeight,m=Uh(this),r=Vh(this);m&&g<m?(Xh(this,m),d=j):r&&g>r?(Xh(this,r),b.style.overflowY="",e=j):h!=g?Xh(this,g):this.Ta||(this.Ta=g);!d&&(!e&&Sh)&&(a=j)}else Yh(this);this.tc=l;a&&(a=this.a(),this.tc||(this.tc=j,b=l,a.value||(a.value=" ",b=j),(e=a.scrollHeight)?(g=Wh(this),d=Uh(this),h=Vh(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.nd,a.style.paddingBottom=h.bottom+1+"px",Wh(this)==
g&&(a.style.paddingBottom=h.bottom+e+"px",a.scrollTop=0,e=Wh(this)-e,e>=d?Xh(this,e):Xh(this,d)),a.style.paddingBottom=h.bottom+"px")):Yh(this),b&&(a.value=""),this.tc=l));c!=this.Ta&&this.dispatchEvent("resize")}};n.Sj=function(){var a=this.a(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Ta&&(this.Ta=this.Sh=b)};function Zh(a,b,c,d,e,g,h){U.call(this);this.Vb=Ob();this.Na=a;this.te=b;this.Wf=c;this.Zf=d;this.We=e.categories;this.lj=e.feed_categories;this.nj=e.feed_id;this.pg=g||k;this.nc=h||k;this.ff=this.Vb?new Lh:k;this.Sb={pending:l,all:l};this.Ka=["pending","all","playlists","publishers","categories"]}t(Zh,U);var $h="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),ai="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
n=Zh.prototype;
n.q=function(a){Zh.f.q.call(this,a);a.innerHTML="";a.scrollTop=0;Ng(a,kh);var b=Q("pending-content",a);v(this.te,function(a){bi(this,b,a)},this);this.nk=Q("playlists-content",a);v(this.Wf,this.Fg,this);this.qk=Q("publishers-content",a);v(this.Zf,this.Gg,this);this.bj=Q("categories-list",a);this.Zg=Q("feed-ids",a);this.mj=Q("feed-cats",a);z("/admin/_categories",q(function(a){a=D(a.target);v(a,function(a){ci(this,a,"category",Xa(this.We,a.id)||!this.We.length)},this)},this));v(ai,function(a){ci(this,a,
"feed_category",Xa(this.lj,a))},this);v($h,function(a){ci(this,a,"feed_id",this.nj==a)},this);this.resize()};
n.w=function(){Zh.f.w.call(this);this.fa=Q("input",this.a());var a=new Xf(this.fa),b=new Lg(this.fa);this.ya=Q("tabs",this.a());this.u="pending";var c=l;J(J(J(J(this.j(),window,"resize",xa(I,q(this.resize,this))),a,"key",q(function(a){"13"==a.keyCode&&di(this,this.fa.value)},this)),b,"after_paste",q(function(){di(this,this.fa.value)},this)),this.ya,"click",q(function(a){a=Ze(a.target,"li");this.Ab(a)},this));J(this.j(),this.a(),"scroll",q(function(){if(this.Na&&!c&&!this.Sb[this.u]&&("pending"==this.u||
"all"==this.u)&&this.a().scrollTop+Ie().height>this.a().scrollHeight-this.a().clientTop){c=j;var a=Q("spinner",this.a());T(a,j);var b="pending"==this.u?this.te:this.Re;z("/admin/_media/collection/"+this.Na+"?offset="+b.length+("pending"==this.u?"&pending=1":""),q(function(g){c=l;g=Fd(Yd(g.target)).medias;g=Ta(g,function(a){return new gb(a)});ab(b,g);var h=Q(this.u+"-content",this.a());v(g,function(a){bi(this,h,a)},this);this.Sb[this.u]=!g.length;O(a,"finished",!g.length)},this))}},this));this.resize()};
n.resize=function(){rf(this.a(),Ie().height-40)};
function di(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.Na&&c&&(a.fa.disabled="disabled",z("admin/_add/collection/"+a.Na,q(function(a){this.fa.value="";this.fa.disabled="";a=D(a.target);if("media"==a.type){var b=sb(rb.b(),a.data);Va(this.te,function(a){return a.id==b.id})||(this.te.push(b),a=Q("pending-content",this.a()),bi(this,a,b,j),this.Ab(Ge("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Va(this.Wf,function(a){return a.id==
c.id})||(this.Wf.push(c),this.Fg(c),this.Ab(Ge("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Va(this.Zf,function(a){return a.id==h.id})&&(this.Zf.push(h),this.Gg(h),this.Ab(Ge("li","publishers",i)[0]))}},a),"POST","url="+c))}
n.Ab=function(a){v(this.Ka,function(b){O(this.ya.parentElement,b,N(a,b));this.u=N(a,b)?b:this.u},this);this.Na&&!this.Re&&z("/admin/_media/collection/"+this.Na,q(function(a){a=Fd(Yd(a.target)).medias;this.Re=Ta(a,function(a){return new gb(a)});var c=Q("all-content",this.a());v(this.Re,function(a){bi(this,c,a)},this)},this))};
n.Fg=function(a){var b=W(lh,{name:a.name});this.nk.appendChild(b);var c=Q("remove",b);J(this.j(),c,"click",function(){z("admin/_remove/collection/"+this.Na,q(function(){Ne(b)},this),"POST","pub_id="+a.id)})};n.Gg=function(a){var b=W(nh,{name:a.name||a.id,J:a.picture});this.qk.appendChild(b);var c=Q("remove",b);J(this.j(),c,"click",function(){z("admin/_remove/collection/"+this.Na,q(function(){Ne(b)},this),"POST","pub_id="+a.id)})};
function ci(a,b,c,d){if("category"==c){var e=W(mh,{name:b.name,id:b.id});a.bj.appendChild(e)}else e=W(mh,{name:b,id:b}),("feed_id"==c?a.Zg:a.mj).appendChild(e);O(e,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;J(a.j(),e,"click",function(){"feed_id"==c&&v(Oe(this.Zg),function(a){M(a,"enabled")});var a=ze(e,"enabled");z("admin/_edit/collection/"+this.Na,pb(),"POST",g+"&enabled="+a)})}
function bi(a,b,c,d){var e=W(uh,{media:c,dc:ob(c)});d?Me(b,e,0):b.appendChild(e);a.Vb&&(b=a.ff,d=new Kh(e,i),Mh(b,d));var b=new wh(Q("repos",e)),g=Q("thumb",e),d=Q("play",e),h=Q("approve",e),m=Q("remove",e);b.Ug=function(a,b){var c=b-24;-50<=c&&50>=c&&ef(g,"background-position-y",50-c+"%")};J(J(J(J(a.j(),b,"end",function(){var a=(g.style[Oa("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);z("/admin/_posthumb",pb(),"POST","media="+c.id+"&pos="+a)}),d,"click",q(a.kk,a,c)),h,"click",
q(a.Hg,a,c,j,e)),m,"click",q(a.Hg,a,c,l,e));I(xa(L,e,"show"))}n.Lf=function(a,b){z("/admin/_addprogram",q(function(b){b=Fd(Yd(b.target));b=new Ib(b);a.c(Ub,b)},this),"POST","channel="+a.id+"&media="+b.id)};n.Hg=function(a,b,c){var d=a.cj||this.Na;z("admin/_media/collection",q(function(){L(c,"remove");I(function(){Ne(c)},300);ei.b();var b;ei.b();b=We(P("toggle-pending"));fi(0,b-1);Y.b().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};n.kk=function(a){a=Jb(a);be.b().c(ce,a)};function gi(a){U.call(this);this.qb=a||k;this.Kc=this.Kg=this.Ki=this.Pg=0}t(gi,U);n=gi.prototype;n.O=function(){this.d=W(jh)};n.q=function(a){gi.f.q.call(this,a);var b=W(jh,{Ah:this.qb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
n.w=function(){gi.f.w.call(this);this.fa=Q("input",this.a());var a=new Xf(this.fa);this.uk=Q("scrollable",this.a());this.Rd=Q("admin-channels",this.a());this.rg=Q("topics",this.a());this.Td=Q("collections",this.a());this.Og=P("admin-col-list");this.Nd=P("admin-list");C.b();this.qb?(z("/admin/_topicmedias/"+this.qb,q(function(a){a=D(a.target);Nc(a,function(a,b){T(this.rg.parentElement,j);if(a&&a.length){var e=W(qh,{Ok:b,Dc:a.length});this.rg.appendChild(e);H(e,"click",q(function(){a=Ta(a,function(a){return new gb(a)});
(new Zh("",a,[],[],[])).i(this.Nd);Y.b().c("navigate",this.Nd,l,b)},this));Y.b().subscribe("approved",function(b){if(Va(a,function(a){return a.id==b.id})){var d=Q("pending",e),m=We(d)-1;0>=m?(Ne(e),Ca(e)):Se(d,m)}},this)}},this);this.Kc&&fi(ei.b(),this.Kc);this.Ki=S(this.rg.parentElement).height;this.resize()},this)),z("/admin/_collections/"+this.qb,q(function(a){a=D(a.target);T(this.Td.parentElement,!!a.length);v(a,this.Eg,this);this.Kc&&fi(ei.b(),this.Kc);this.Pg=S(this.Td.parentElement).height;
this.resize()},this))):z("/admin/_channels",q(function(a){a=D(a.target);T(this.Rd.parentElement,!!a.length);v(a,this.Dg,this);this.Kg=S(this.Rd.parentElement).height;this.resize()},this));J(this.j(),a,"key",q(function(a){"13"==a.keyCode&&this.fa.value&&(a=this.fa.value,this.fa.disabled="disabled",z(this.qb?"/admin/_collections":"/admin/_channels",q(function(a){a=D(a.target);this.qb?(T(this.Td.parentElement,!!a),this.Eg(a)):(T(this.Rd.parentElement,!!a),this.Dg(a));this.fa.disabled="";this.fa.value=
""},this),"POST","name="+a+(this.qb?"&cid="+this.qb:"")))},this))};
n.Dg=function(a){var b=new Tb(a),c=W(oh,{N:b});this.Rd.appendChild(c);H(c,"click",q(function(a){N(a.target,"on")||N(a.target,"off")?(O(c,"on",N(a.target,"on")),O(c,"off",!N(a.target,"on")),z("/admin/_channel/online/"+b.id,q(function(a){a.target.disabled="";a=D(a.target);O(c,"on",a.online);O(c,"off",!a.online)},this),"POST","online="+N(a.target,"on"))):N(a.target,"program")?z("/admin/_program",pb(),"POST","channel_id="+b.id):N(a.target,"fetch")?z("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):N(a.target,"remove")&&confirm("Remove "+b.name+"?")?(T(c,l),z("/admin/_channels/"+b.id,function(a){D(a.target).deleted?Ne(c):T(c,j)},"DELETE")):((new gi(b.id)).i(this.Og),Y.b().c("navigate",this.Og,l,b.name))},this))};
n.Eg=function(a){var b=W(ph,{Ye:a});this.Kc+=a.pending;this.Td.appendChild(b);H(b,"click",q(function(c){N(c.target,"remove")&&confirm("Remove "+a.name+"?")?(T(b,l),z("/admin/_collections/"+a.id,function(a){D(a.target).deleted?Ne(b):T(b,j)},"DELETE")):N(c.target,"fetch")?z("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):z("/admin/_media/collection/"+a.id+"?pending=1",q(function(b){var b=Fd(Yd(b.target)),c=b.medias,c=Ta(c,function(a){return new gb(a)});
(new Zh(a.id,c,b.playlists,b.publishers,b.categories)).i(this.Nd);Y.b().c("navigate",this.Nd,l,a.name)},this))},this));Y.b().subscribe("approved",function(c,d){if(d==a.id){var e=Q("pending",b),g=We(e)-1;0>=g?(Ne(b),Ca(b)):Se(e,g)}},this)};n.resize=function(){rf(this.uk,this.Kg+this.Ki+this.Pg+110)};function hi(a,b,c){U.call(this);this.vi=!!a;this.Qd=!!b;this.cg=!!c;this.value="";this.g=new Rh(this.cg?"reply...":"Add to the conversation.");this.za=new tg("tweet");lg(this.za,16,j);this.Da=new tg("post");lg(this.Da,16,j);a=A.b().h;this.Vd=a.ok;this.Ee=a.ki;this.Jb=new tg("add");this.bg=k;this.Jc={};this.na=[];this.qa=-1;this.hi=this.Ji=k}t(hi,U);var ii=/@(\w+)/;n=hi.prototype;n.O=function(){this.d=W(dh)};
n.q=function(a){hi.f.q.call(this,a);L(a,"decorated");var b=R("div","suggestions");a.appendChild(b);b=R("div","highlighter");a.appendChild(b)};
n.w=function(){hi.f.w.call(this);this.g.i(Q(this.cg?"reply-textarea":"comment-textarea",this.a()));var a=this.g;a.Nh=70;a.resize();a=new Xf(this.g.sb());this.cg||(this.dj=Q("comment-controls",this.a()),T(this.dj,this.vi),O(this.a(),"show-controls",this.vi),this.Ll=Q("input-holder",this.a()),Kf(this,this.za),this.za.i(Q("tweet-toggle",this.a())),A.b().h.rf||z("/_twitter",q(function(a){a=D(a.target);this.Ee=this.Ee&&a.auth;this.Ni=a.auth_url;kg(this.za,this.Ee)},this)),Kf(this,this.Da),this.Da.i(Q("fb-toggle",
this.a())),FB.api("/me/permissions",q(function(a){this.Vd=this.Vd&&!!a.data[0].publish_stream;kg(this.Da,this.Vd)},this)),Kf(this,this.Jb),this.Jb.i(Q("add-comment",this.a())),this.Jb.Cb(l),J(J(J(this.j(),this.Da,"action",q(this.$j,this)),this.za,"action",q(this.ik,this)),this.Jb,"action",q(this.Xa,this)),DESKTOP&&!IPAD&&(Xg(Wg.b(),this.za.a(),"top",{text:"Share on Twitter"}),Xg(Wg.b(),this.Da.a(),"top",{text:"Share on Facebook"})),A.b().h.subscribe(Nb,function(){kg(this.za,j);A.b().h.rf=j},this));
this.kb=Q("suggestions",this.a());this.sf=Q("highlighter",this.a());J(J(J(this.j(),this.g.a(),"focus",q(function(){A.b().h.Si||Vg.b().c("tooltip",this.g.a(),"top",{text:"Mention friends using @"});this.dispatchEvent("focus")},this)),a,"key",q(function(a){a.stopPropagation();Vg.b().c("hide");if("13"==a.keyCode||"32"==a.keyCode){if(this.na.length&&this.na.reverse()[this.qa]){a.preventDefault();var c=this.g.o().slice(0,this.g.a().selectionStart),c=c.split(" ").pop(),d=this.na[this.qa];this.Jc[d.id]=
d;ji(this,c.match(ii)[0]);this.g.a().focus();T(this.kb,l);this.na=[];this.qa=-1;c=this.o().length;this.setSelectionRange(c,c)}else"13"==a.keyCode&&(a.preventDefault(),this.Jb.setActive(this.g.o()),this.Xa(a));this.Qd&&ji(this)}else"27"==a.keyCode&&this.na.length?(T(this.kb,l),this.na=[],c=this.o().length,this.setSelectionRange(c,c),this.qa=-1,this.Jc={}):("38"==a.keyCode||"40"==a.keyCode)&&this.na.length?(a.preventDefault(),c=Array.prototype.slice.call(Oe(this.kb)),c.reverse()[this.qa]&&M(c[this.qa],
"selected"),this.qa="38"==a.keyCode?Math.min(this.qa+1,this.na.length-1):Math.max(this.qa-1,-1),-1!=this.qa&&L(c[this.qa],"selected")):I(q(function(){this.Jb.Cb(!!this.g.o());var c=this.g.o().slice(0,this.g.a().selectionStart),c=c.split(" ").pop(),d=this.Qd&&ii.test(c);T(this.kb,d);if("8"==a.keyCode)this.sf.innerHTML.match('<div class="token">.*</div>$');else if(d&&(c=c.match(ii),this.na=A.b().search(c[1]),this.na.length)){var d=this.na,h=c[0];this.kb.innerHTML="";T(this.kb,j);v(d.slice(0,3),function(a){var b=
R("div","suggestion",a.name);this.kb.appendChild(b);J(this.j(),b,"click",q(function(){this.Jc[a.id]=a;ji(this,h);this.g.a().focus();var b=this.o().length;this.setSelectionRange(b,b);T(this.kb,l);this.na=[];this.qa=-1},this))},this)}this.Qd&&ji(this)},this))},this)),this.g,"resize",q(function(a){this.dispatchEvent(a)},this));Y.b().subscribe("reply-comment",this.ag,this);Y.b().subscribe("reply-tweet",this.sk,this)};
function ji(a,b){var c=a.g.o(),d=c,e=c;v(dc(a.Jc),function(a){var h=b&&0==Fa(b,("@"+a.name).substr(0,b.length))?b:a.name;d=d.replace(RegExp(h,"g"),'<div class="token">'+a.name+"</div> ");this.sf.innerHTML=d;this.value=e=e.replace(RegExp(h,"g"),"@["+a.id+":"+a.name+"]");b&&this.g.ma(c.replace(h,a.name)+" ")},a)}n.ag=function(a,b){this.hi=a.id?a.id:a.toString();this.bg=b};
n.sk=function(a){this.Pl=a.id;this.ma((this.o()?this.o()+" ":"")+"@"+a.handle+" ");this.la(j);this.za.Cb(j);this.la(j);a=this.o().length;this.setSelectionRange(a,a)};n.setSelectionRange=function(a,b){if(this.g.a().setSelectionRange)this.g.a().focus(),this.g.a().setSelectionRange(a,b);else if(this.g.a().createTextRange){var c=this.g.a().createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",a);c.select()}};
n.o=function(){this.Qd&&dc(this.Jc).length?ji(this):this.value=this.g.o();return this.value};n.ma=function(a,b,c){kg(this.Da,!!b);kg(this.za,!!c);this.g.ma(a);this.value=a;this.Jb.Cb(!!a)};n.clear=function(){this.g.ma("");this.Jc={};this.na=[];this.sf.innerHTML="";T(this.kb,l)};n.de=function(){return N(this.a(),"focused")};n.la=function(a){a&&this.g.a().focus();return O(this.a(),"focused",a)};
n.Xa=function(){this.o()&&(this.dispatchEvent({type:"add",$i:q(function(a){var b=D(a.target);if(b.comment){var a=new ki(b.comment),c=b.tweet?new li(b.tweet):k;if(b=sb(rb.b(),b.comment.media))b.c(lb,a),c&&b.c("add-tweet",c)}},this),Zc:Uf(this.Da,16),vg:Uf(this.za,16),text:this.o(),A:this.hi,Ii:this.bg&&this.bg.id}),this.clear())};n.$j=function(){!A.b().h.uh&&(!this.Vd&&Uf(this.Da,16))&&(T(P("overlay"),j),FB.login(q(function(a){T(P("overlay"),l);this.kj=!!a.authResponse;kg(this.Da,this.kj)},this),{scope:"publish_stream"}))};
n.ik=function(){if(!A.b().h.rf&&!this.Ee&&Uf(this.za,16))if(kg(this.za,l),IPHONE||IPAD){var a=document.createElement("a");a.setAttribute("href",this.Ni);a.setAttribute("target","_blank");var b=document.createEvent("HTMLEvents");b.initEvent("click",j,j);a.dispatchEvent(b)}else a=window.open(this.Ni,"Twitter Login","height=300,width=550"),a.moveTo(screen.width/2-225,screen.height/2-150),a.focus()};function ki(a){this.id=a.id;this.p=a.user?cc(A.b(),a.user):k;this.text=a.text;this.media=a.media?sb(rb.b(),a.media):k;this.time=a.time?hb(a.time+"Z"):new xb;this.Bb=Kb(this.time.getTime());this.A=a.parent_id;this.ud=[];this.Ha=l;a.replies&&v(a.replies,function(a){a=new ki(a);this.ud.push(a)},this)}
function mi(a,b,c,d,e,g,h,m){var r=new ki({text:c,parentId:g});r.p=a;r.A=g||k;rb.b().get(b).pb(r);z("/_comment",q(function(a){a=D(a.target);r.id=a.comment.id;m&&m(r)},this),"POST","media_id="+b+"&text="+c+"&tweet="+e+"&facebook="+d+(g?"&parent_id="+g:"")+(h?"&to_user_id="+h:""));return r};function li(a){this.id=a.id;this.p=a.user&&cc(A.b(),a.user);this.handle=a.handle;this.J=a.picture;this.text=a.text;this.time=hb(a.time+"Z")};function ni(a,b,c,d){U.call(this);this.e=a;this.pa=b||[];this.Wc={};this.Hd=!!c;this.ab=d||[];this.Gd={};this.W=this.ul=0;this.Wb={}}t(ni,U);n=ni.prototype;
n.q=function(a){ni.f.q.call(this,a);a.innerHTML="";a.scrollTop=0;L(this.a(),"ios-scroll");this.B=R("div","loading",R("div","loading-spinner"));this.a().appendChild(this.B);T(this.B,l);this.Zb=R("div","no-comments","Start the conversation.");this.a().appendChild(this.Zb);this.l=R("div","comments tweets");this.a().appendChild(this.l);J(J(this.j(),window,"resize",xa(I,q(this.resize,this))),this.l,"click",q(this.Ze,this));this.pa.length?(v(this.pa,function(a){this.pb(a)},this),this.xc=S(this.l).height):
this.Hd&&this.ab.length?(v(this.ab,function(a){this.ic(a)},this),this.xc=S(this.l).height):T(this.B,j);this.Hd?(z("/_tweet/"+this.e.id+"?offset="+this.ab.length,q(function(a){T(this.B,l);a=Fd(Yd(a.target));a=Ta(a,function(a){a=new li(a);this.ic(a);return a},this);this.xc=S(this.l).height;this.resize()},this)),this.e.subscribe("add-tweet",function(a){this.ic(a,j)},this)):(z("/_comment/"+this.e.id+"?offset="+this.pa.length,q(function(a){T(this.B,l);a=Fd(Yd(a.target));a=Ta(a,function(a){a=new ki(a);
this.pb(a);return a},this);this.xc=S(this.l).height;this.resize()},this)),this.e.subscribe(lb,this.pb,this),this.e.subscribe(mb,this.$f,this));this.resize(41)};
n.ic=function(a,b){this.Gd[a.id]=a;T(this.Zb,l);var c=Nh(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=W(bh,{nb:a,text:c,timestamp:Kb(a.time.getTime())});oi(Zb.b(),a.time,Q("timestamp",c));b?Me(this.l,c,0):this.l.appendChild(c);this.resize();T(Qe(this.l),j)};
n.Ze=function(a){a=a.target;if(this.Hd){var b=Ze(a,k,"tweet");b&&(b=this.Gd[b.id.split("-")[1]],N(a,"reply")&&Y.b().c("reply-tweet",b))}else if(b=Ze(a,k,"comment"))b=this.Wc[b.id.split("-")[1]],N(a,"reply")?Q("reply-textarea",this.Wb[b.A?b.A:b.id]).focus():N(a,"remove")&&this.e.c(mb,b)};n.$f=function(a){Ne(P("listcomment-"+a.id));Za(this.pa,function(b){return b.id==a.id})};
n.pb=function(a){this.pa.push(a);T(this.Zb,l);var b=Nh(a.text),b=b.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,e){return'<a href="#user:'+b+'">'+e+"</a>"}),b=W(ch,{prefix:"listcomment",K:a,text:b,gi:a.p.id==A.b().h.id});oi(Zb.b(),a.time,Q("timestamp",b));a.A?Q("replies",this.Wb[a.A]).appendChild(b):this.l.appendChild(b);a.id&&pi(this,a,b);v(a.ud,function(a){this.pb(a)},this);a.A||(this.l.scrollTop=this.l.scrollHeight);return b};
function pi(a,b,c){a.Wc[b.id]=b;c.id="listcomment-"+b.id;if(!b.A){a.Wb[b.id]=c;var d=Q("reply-input",c),c=Q("reply-textarea",c);J(a.j(),c,"click",q(function(){if(!N(d,"decorated")){var a=new hi(l,j,j);a.i(d);a.ag(b,b.p);J(this.j(),a,"add",q(function(a){this.Xa(a)},this))}},a))}}n.resize=function(a){this.W=a||this.W;rf(this.a(),Ie().height-42-this.W-(Ze(this.a(),k,"tabbed")?30:0))};function qi(a,b,c,d){U.call(this);this.e=this.U=a;this.pa=b||[];this.ab=c||[];this.Hd=!!d;this.Vc=new ni(a,this.pa);this.tg=new ni(a,i,j,this.ab);this.g=new hi(j,j);this.Ka=["comments","tweets"];this.Dd={}}t(qi,U);n=qi.prototype;n.q=function(a){qi.f.q.call(this,a);L(a,"conversation");L(a,"ios-scroll");Ng(a,sh);L(a.firstChild,this.Hd?"tweets":"comments")};
n.w=function(){this.ya=Q("tabs",this.a());this.Vc.i(Q("comments-content",this.a()));this.tg.i(Q("tweets-content",this.a()));If(this.g,this.a());J(J(J(J(J(J(J(this.j(),this.ya,"click",q(function(a){a=Ze(a.target,"li");this.Ab(a)},this)),this.g,"add",q(this.Xa,this)),this.g,"resize",q(function(){N(this.a().firstChild,"comments")?this.Vc.resize(41):this.tg.resize(41)},this)),window,"click",q(function(a){!Ze(a.target,k,"comment-input")&&!this.g.o()&&this.g.la(l)},this)),Q("no-comments",this.a()),"click",
q(this.ci,this)),Fe("no-comments",this.a())[1],"click",q(this.ci,this)),window,"click",q(function(a){!Ze(a.target,k,"comment-input")&&!this.g.o()&&this.g.la(l)},this));this.Vc.resize(41);this.tg.resize(41)};n.ci=function(a){a.preventDefault();a.stopPropagation();this.g.la(j)};
n.Xa=function(a){var b=mi(A.b().h,this.e.id,a.text,a.Zc,a.vg,a.A,a.Ii,q(function(a){var b=this.Dd[a.time.getTime()];b.id="infocomment-"+a.id;pi(this.Vc,a,b)},this)),c=this.Vc.pb(b);this.Dd[b.time.getTime()]=c;a.Zc&&!a.A&&(FB.api("/me/feed","POST",{message:a.text,name:this.e.name,link:this.e.link,picture:this.e.mb,caption:"on XYLO",description:this.e.description},aa()),kg(this.g.Da,l))};n.Ab=function(a){v(this.Ka,function(b){O(this.ya.parentElement,b,N(a,b));this.u=N(a,b)?b:this.u},this)};function ri(a,b,c,d,e){U.call(this);v(a.Of,function(a){var b=a.$();b&&b.media.id==this.id?(this.mk=a,v(a.yg,function(a){a.sg||(this.Cc[a.p.id]=a.p)})):this.Cc={}},a);this.e=this.U=a;this.he=c||k;this.Jh=d||k;this.Dj=l;this.$g=!b;this.kd=EMBED||!!e;this.Ie=[];this.Md={};this.pa=[];this.Wc={};this.Wb={};this.Dd={};this.ab=[];this.Gd={};this.g=new hi(j,j);this.Db=new tg("Star");lg(this.Db,16,j);this.kf=new tg("Facebook");this.wg=new tg("Twitter");this.qd=new tg("Play");this.Ec=new tg("Plus");lg(this.Ec,
16,j);this.W=0}t(ri,U);n=ri.prototype;n.O=function(){this.d=W($g,{media:this.e})};n.q=function(a){ri.f.q.call(this,a);var b=W($g,{media:this.e,description:this.e.description?Nh(this.e.description):"",dc:ob(this.e),Kj:this.he?this.he.id:k});a.innerHTML=b.innerHTML};
n.w=function(){ri.f.w.call(this);this.zg=Q("viewers",this.a());var a=Q("picture",this.a()),b=Q("ytvideo",this.a()),c=Q("scrollable",this.a()),d=Q("publisher",this.a()),e=Q("title",this.a()),g=Q("links",this.a());this.B=Q("loading",this.a());var h=a.firstChild;this.bf=Q("info-contents",this.a());this.Ld=Q("user-poll",this.a());this.am=Q("tweet-holder",this.a());this.$a=Q("tweets",this.a());this.Ob=Q("dot-nav",this.a());this.l=Q("comments",this.a());this.Zb=Q("no-comments",this.a());If(this.g,this.a());
this.Db.i(Q("star",this.a()));kg(this.Db,Qb(A.b().h,this.e));this.kf.i(Q("facebook",this.a()));this.wg.i(Q("twitter",this.a()));this.qd.i(Q("play",this.a()));this.Ec.i(Q("plus",this.a()));this.ug=new fd(5E3);this.em=Q("watch-with",this.a());O(this.a(),"mini",this.kd);!this.$g||this.e.ah?si(this,l,this.e.description,this.e.hg,this.e.Mi,this.e.Oa):this.$g&&z("/_info/"+this.e.id,q(function(a){a=Fd(Yd(a.target));si(this,j,a.description,a.seen,a.tweets,a.comments)},this));if("youtubeUCAMPco9PqjBbI_MLsDOO4Jw"==
this.e.aa.id||"youtubeAMPco9PqjBbI_MLsDOO4Jw"==this.e.aa.id){var m=Q("status",this.Ld),r=Q("poll-options",this.Ld);Se(m,"WHO'S YOUR FAVORITE FINALIST?");m=W(vh,{name:"Kree Harrison",Uf:"31%"});r.appendChild(m);m=W(vh,{name:"Angie Miller",Uf:"52%"});r.appendChild(m);m=W(vh,{name:"Candice Glover",Uf:"17%"});r.appendChild(m);T(this.Ld,j);J(this.j(),r,"click",q(function(a){if(!N(this.Ld,"voted")){L(this.Ld,"voted");var a=Ze(a.target,k,"option"),b=We(Q("name",a));L(a,"selected");this.g.ma("@americanidol I just voted for "+
b,j,j);this.g.la(j);v(Oe(r),function(a){var b=We(Q("percent-number",a));Q("percent",a).style.width=b},this)}},this))}J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(J(this.j(),window,"resize",xa(I,q(this.resize,this))),d,"click",q(function(){Y.b().c("media-list",this.e.aa.name,i,"/admin/_media/publisher/"+this.e.aa.id,this.e.aa.J,this.e.aa.description,this.e.aa.link,"/_publisher/"+this.e.aa.id)},this)),this.Db,"action",q(function(){rb.b().c("star",this.e,Uf(this.Db,16));z("/_star",i,"POST","media_id="+
this.e.id+(!Uf(this.Db,16)?"&delete=1":""))},this)),this.kf,"action",q(this.Zj,this)),this.wg,"action",q(this.hk,this)),this.qd,"action",q(this.ck,this)),this.Ec,"action",q(this.dk,this)),Q("local",this.a()),"click",q(function(){T(Q("link-select",this.a()),j);Q("link-input",this.a()).select()},this)),this.g,"add",q(this.Xa,this)),this.Zb,"click",q(function(a){a.preventDefault();a.stopPropagation();this.g.la(j)},this)),Q("conv-link",this.a()),"click",q(function(a){a.preventDefault();a.stopPropagation();
Y.b().c("conversation",this.e,this.pa,this.ab)},this)),Q("tweets-link",this.a()),"click",q(function(a){a.preventDefault();a.stopPropagation();Y.b().c("conversation",this.e,this.pa,this.ab,j)},this)),this.g,"focus",q(function(){this.resize(0,j)},this)),this.g,"resize",q(function(a){this.resize(a.target.Ta-41)},this)),this.Ob,"click",q(function(a){N(a.target,"dot")&&(ti(this,a.target),this.ug.stop())},this)),this.ug,hd,q(function(){var a=this.Lb&&(this.Lb.nextElementSibling!=i?this.Lb.nextElementSibling:
Pe(this.Lb.nextSibling))||Q("dot",this.a());I(q(function(){ti(this,a)},this))},this)),window,"click",q(function(a){!Ze(a.target,k,"comment-input")&&!this.g.o()&&(this.g.la(l),this.resize(0))},this)),h,"load",function(){T(h,j);I(function(){S(h).height<S(a).height+50&&L(h,"fix-height");S(h).width>2*S(a).width?L(h,"pan-left"):S(h).height>2*S(a).height&&L(h,"pan-top");h.style.marginTop=-S(h).height/2+"px";h.style.marginLeft=-S(h).width/2+"px";L(h,"show")})}),c,"scroll",q(function(){var m=Q("ytvideo",
this.a()),r=IPHONE&&10<c.scrollTop?0:((this.kd?100:120)-c.scrollTop)/100;tf(d,Math.min(1,Math.max(r,0)));tf(e,Math.min(1,Math.max(r,0)));tf(g,Math.min(1,Math.max(r,0)));tf(h,Math.min(0.5,Math.max(r,0.1)));m&&tf(m,Math.min(0.5,Math.max(r,0.1)));tf(b,Math.min(0.5,Math.max(r,0.1)));O(a,"scrolled",10<c.scrollTop)},this)),this.l,"scroll",q(this.eg,this)),this.l,"click",q(this.Ze,this)),this.$a,"click",q(this.Qk,this)),Q("desc-link",this.a()),"click",q(function(){var b=ze(a,"scrolled");(new Cf(c,[c.scrollLeft,
c.scrollTop],[c.scrollLeft,b?this.kd?70:170:0],300)).play()},this));this.he&&J(this.j(),Q("prev-link",this.a()),"click",q(function(){Y.b().c("media-info",this.he,j,i,this.g.o())},this));this.Jh&&this.g.ma(this.Jh);DESKTOP&&!IPAD&&(Xg(Wg.b(),this.Ec.a(),"left",{text:"Add to Queue"}),Xg(Wg.b(),this.kf.a(),"left",{text:"Post to Facebook"}),Xg(Wg.b(),this.wg.a(),"left",{text:"Tweet"}),Xg(Wg.b(),this.Db.a(),"left",{text:"Save"}),Xg(Wg.b(),Q("eye-icon",this.a()),"left",{text:"Seen by"}),Xg(Wg.b(),Q("friends-icon",
this.a()),"right",{text:"Visible by only your Facebook friends"}));IPHONE&&new YT.Player(b,{height:"100%",width:"100%",videoId:this.e.cd,playerVars:{controls:0,showinfo:0}});this.e.subscribe(lb,function(a){ui(this,a,j)},this);this.e.subscribe(mb,this.$f,this);this.e.subscribe("add-tweet",function(a){this.ic(a,j)},this);this.e.subscribe(nb,function(a,b,c){vi(this,a,!c)},this);be.b().subscribe(de,function(){M(this.qd.a(),"play-loading")},this);be.b().subscribe("no-media",function(){M(this.qd.a(),"play-loading")},
this);A.b().h.subscribe("set-starred",function(){kg(this.Db,Qb(A.b().h,this.e))},this);ac().subscribe(Vb,function(a,b){kg(this.Ec,b)},this)};
function si(a,b,c,d,e,g){c?(a.e.description=c,Q("description",a.a()).innerHTML=Nh(c),T(Q("scrollable",a.a()),j)):(T(Q("desc-link",a.a()),l),T(Q("scrollable",a.a()),l));a.Ie=Ta(d,function(a){a=b?cc(A.b(),a):a;a.id!=A.b().h.id&&(T(this.zg,j),this.Dj=j,vi(this,a,l));return a},a);Nc(a.e.Cc,function(a){vi(this,a,j)},a);a.ab=Ta(e,function(a){a=b?new li(a):a;this.ic(a);this.Lb=this.Ob.firstChild;L(this.Lb,"selected");return a},a);e.length&&a.ug.start();a.l&&T(a.l.parentElement,j);T(a.Zb,!g.length);g=Ta(g,
function(a){a=b?new ki(a):a;a.A||ui(this,a);return a},a);T(a.B,l);a.resize();b&&(a.e.Mi=a.ab,a.e.Oa=g,a.e.hg=a.Ie,a.e.ah=j)}n.tb=function(){return this.g.de()||!!this.g.Ji||!!this.g.o()};function ti(a,b){if(b){v(Oe(a.Ob),function(a){return M(a,"selected")});a.Lb=b;L(a.Lb,"selected");var c=Wa(Oe(a.Ob),function(a){return a==b});(new Cf(a.$a,[a.$a.scrollLeft,a.$a.scrollTop],[320*c,a.$a.scrollTop],200)).play();a.resize()}}
n.Xa=function(a){var b=mi(A.b().h,this.e.id,a.text,a.Zc,a.vg,a.A,a.Ii,q(function(a){var b=this.Dd[a.time.getTime()];b.id="infocomment-"+a.id;wi(this,a,b)},this)),c=ui(this,b);this.Dd[b.time.getTime()]=c;a.Zc&&!a.A&&FB.api("/me/feed","POST",{message:a.text,name:this.e.name,link:this.e.link,picture:this.e.mb,caption:"on XYLO",description:this.e.description},aa());Sb.b().K(this.e.id,a.Zc,a.vg)};
n.ic=function(a,b){this.Gd[a.id]=a;var c=Nh(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=W(bh,{nb:a,text:c,timestamp:Kb(a.time.getTime()),prefix:"infotweet"}),d=R("div","dot");oi(Zb.b(),a.time,Q("timestamp",c));b?(Me(this.$a,c,0),Me(this.Ob,d,0),10<Oe(this.$a).length&&(Ne(this.$a.lastChild),Ne(this.Ob.lastChild),
ti(this,d))):(this.$a.appendChild(c),this.Ob.appendChild(d));this.resize();T(Qe(this.$a),j)};
function ui(a,b,c){a.pa.push(b);T(a.Zb,l);var d=Nh(b.text),d=d.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return'<a href="#user:'+b+'">'+c+"</a>"}),d=W(ch,{prefix:"infocomment",K:b,text:d,gi:b.p.id==A.b().h.id});oi(Zb.b(),b.time,Q("timestamp",d));b.A?Q("replies",a.Wb[b.A]).appendChild(d):a.l.appendChild(d);b.id&&wi(a,b,d);v(b.ud,function(a){ui(this,a,c)},a);!b.A&&c&&(a.l.scrollTop=a.l.scrollHeight,a.bf.firstChild.scrollTop=a.bf.firstChild.scrollHeight);return d}
function wi(a,b,c){a.Wc[b.id]=b;c.id="infocomment-"+b.id;if(!b.A){a.Wb[b.id]=c;var d=Q("reply-input",c),c=Q("reply-textarea",c);J(a.j(),c,"click",q(function(){if(!N(d,"decorated")){var a=new hi(l,j,j);a.i(d);a.ag(b,b.p);J(this.j(),a,"add",q(function(a){this.Xa(a)},this))}},a))}}
function vi(a,b,c){if(!c&&a.Md[b.id])M(a.Md[b.id],"online");else if(b.id!=A.b().h.id){if(!a.Md[b.id]){var d=W(ah,{p:b});a.Md[b.id]=d;Me(a.zg,d,1);J(a.j(),d,"click",function(){Y.b().c("profile",b)});DESKTOP&&!IPAD&&Xg(Wg.b(),d,"top",{text:b.Xd()+(c?" is watching":" saw this")})}T(a.zg,j);O(a.Md[b.id],"online",c)}}n.Qk=function(a){var a=a.target,b=Ze(a,k,"tweet");b&&(b=this.Gd[b.id.split("-")[1]],N(a,"reply")&&Y.b().c("reply-tweet",b))};
n.Ze=function(a){var a=a.target,b=Ze(a,k,"comment");b&&(b=this.Wc[b.id.split("-")[1]],N(a,"reply")?Q("reply-textarea",this.Wb[b.A?b.A:b.id]).focus():N(a,"remove")&&this.e.c(mb,b))};n.$f=function(a){Ne(P("infocomment-"+a.id));Za(this.pa,function(b){return b.id==a.id})};
n.eg=function(){O(this.l.parentElement,"top-grad",!!this.l.scrollTop);var a=this.l.style.maxHeight,b=Ie().height,a=a.substring(0,a.length-2),c=S(this.l).height;O(this.l.parentElement,"bottom-grad",this.l.scrollTop<this.l.scrollHeight-a-5&&c>=a&&640<b)};
n.resize=function(a,b){this.W=a!=i?a:this.W;var c=Ie().height;if(this.a()){var d=Ie().height+(IPHONE&&SAFARI?61:0)-41-this.W-(Ze(this.a(),k,"tabbed")?30:0);rf(this.a(),d);rf(this.bf,d-(this.kd?143:243)+(IPHONE?50:0)-(this.Ie.length?38:0));640<c&&this.l&&this.l.parentElement?(ef(this.l,"max-height",c-(new Ae(this.l.parentElement.offsetLeft,this.l.parentElement.offsetTop)).y-(this.kd?213:313)-(this.Ie.length?38:0)-this.W+"px"),this.eg()):640>c&&(ef(this.l,"max-height",""),this.eg());b&&I(q(function(){(new Cf(this.l,
[this.l.scrollLeft,this.l.scrollTop],[this.l.scrollLeft,this.l.scrollHeight],400)).play()},this),0)}};n.Zj=function(){T(P("overlay"),j);FB.ui({method:"feed",name:this.e.name,link:this.e.link,J:this.e.mb,caption:"on XYLO",description:this.e.description},function(){T(P("overlay"),l)});xi(Sb.b(),this.e.id,j,l)};
n.hk=function(){var a="https://twitter.com/share?url="+this.e.link+"&text=I'm watching "+this.e.name+" "+this.e.link;if(IPHONE||IPAD){var b=document.createElement("a");b.setAttribute("href",a);b.setAttribute("target","_blank");a=document.createEvent("HTMLEvents");a.initEvent("click",j,j);b.dispatchEvent(a)}else b=window.open(a,"Tweet","height=320,width=550"),b.moveTo(screen.width/2-225,screen.height/2-150),b.focus(),xi(Sb.b(),this.e.id,l,j)};
n.ck=function(){L(this.qd.a(),"play-loading");var a=Jb(this.U);be.b().c(ce,a)};n.dk=function(){ac().c(Vb,this.U,Uf(this.Ec,16))};function yi(a,b,c,d,e,g){U.call(this);this.Vb=Ob();this.Ph=a||k;this.Id=b||k;this.Ef={};this.pg=c||k;this.nc=d||k;this.Vg=g||k;this.Oj=e||k;this.ff=this.Vb?new Lh:k;this.xc=this.yh=0}t(yi,U);
yi.prototype.q=function(a){yi.f.q.call(this,a);a.innerHTML="";a.scrollTop=0;L(this.a(),"ios-scroll");(this.nc||this.pg)&&zi(this);!this.nc&&this.Vg&&z(this.Vg,q(function(a){a=D(a.target);a.description&&this.jd?(Q("description",this.jd).innerHTML=Nh(a.description),this.yh=S(this.jd).height,this.resize()):a.description&&zi(this)},this));this.B=R("div","loading",R("div","loading-spinner"));this.a().appendChild(this.B);T(this.B,l);N(this.a(),"starred")&&(this.zc=R("div","no-comments","Favorities will appear here."),
this.a().appendChild(this.zc));this.ke=R("div","medias");this.a().appendChild(this.ke);J(this.j(),window,"resize",xa(I,q(this.resize,this)));this.Id?(T(this.B,j),z(this.Id,q(function(a){T(this.B,l);a=Fd(Yd(a.target));a=Ta(a,function(a){return new gb(a)});v(a,this.Oe,this);this.xc=S(this.ke).height;this.resize()},this))):this.Ph&&(v(this.Ph,this.Oe,this),this.xc=S(this.ke).height,this.resize())};
yi.prototype.Oe=function(a){this.zc&&T(this.zc,l);var b=W(th,{media:a}),c=Q("list-play",b),d=Q("list-plus",b);this.ke.appendChild(b);if(this.Vb){var e=this.ff,g=new Kh(b,i);Mh(e,g)}J(J(J(this.j(),b,"click",q(function(){Y.b().c("media-info",a)},this)),c,"click",q(function(b){b.preventDefault();b.stopPropagation();b=Jb(a);be.b().c(ce,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();ac().c(Vb,a,j)});this.Ef[a.id]=b};
yi.prototype.resize=function(){rf(this.a(),Ie().height+(IPHONE&&SAFARI?61:0)-(DESKTOP?40:0)-(Ze(this.a(),k,"tabbed")?30:0))};function zi(a){a.jd=W(hh,{mb:a.pg,description:a.nc?Nh(a.nc):"",link:a.Oj});a.a().appendChild(a.jd);a.yh=S(a.jd).height;a.resize()}yi.prototype.Lf=function(a,b){z("/admin/_addprogram",q(function(b){b=Fd(Yd(b.target));b=new Ib(b);a.c(Ub,b)},this),"POST","channel="+a.id+"&media="+b.id)};function Ai(a){this.id=a.id;this.G=cc(A.b(),a.from_user);this.Nk=cc(A.b(),a.to_user);this.text=a.text;this.Ha=a.read;this.Bb=(this.time=a.time?hb(a.time+"Z"):k)?Kb(this.time.getTime()):k}Ai.prototype.Be=function(){z("/_message",pb(),"POST","id="+this.id+"&read=1");this.Ha=j;A.b().h.c("read-message",this.G.id)};function Bi(a){return'<div class="message'+(a.oj?" flip":"")+'"><a href="#user:'+X(a.message.G.id)+'"><div class="picture" style="background:'+X(a.message.G.color)+'"><img src="'+X(a.message.G.J)+'"/></div></a><div class="body"><a class="user" href="#user:'+X(a.message.G.id)+'">'+X(a.message.G.name)+'</a>  <div class="texts"><div class="text">'+X(a.message.text)+'<div class="timestamp">'+X(a.message.Bb)+"</div></div></div></div></div>"}
function Ci(a){return'<div class="text">'+X(a.message.text)+'<div class="timestamp">'+X(a.message.Bb)+"</div></div>"};function Di(a,b){U.call(this);this.Aa=a||k;this.ta=b||k;this.Ff={};this.g=new hi(l);this.W=0;this.Fa=this.Aa.id==A.b().h.id}t(Di,U);
Di.prototype.q=function(a){Di.f.q.call(this,a);a.innerHTML="";a.scrollTop=0;this.zb=R("div","messages");this.a().appendChild(this.zb);O(this.zb,"inbox",this.Fa);this.B=R("div","spinner");this.zb.appendChild(this.B);T(this.B,l);this.ne=R("div","no-comments",this.Fa?"No Messages":"Start a private conversation.");this.zb.appendChild(this.ne);this.hb=R("div","no-comments","Load previous messages");this.zb.appendChild(this.hb);T(this.hb,!this.Fa&&10<=this.ta.length);T(this.ne,j);this.Fa?(this.ta=this.ta.reverse(),
A.b().h.subscribe("read-message",function(a){if((a=this.Ff[a])&&N(a,"unread"))M(a,"unread"),Y.b().c("new-messages",-1)},this)):(If(this.g,this.a()),J(J(J(J(J(this.j(),window,"click",q(function(a){!Ze(a.target,k,"comment-input")&&!this.g.o()&&(this.g.la(l),this.resize(0))},this)),this.ne,"click",q(function(a){a.preventDefault();a.stopPropagation();this.g.la(j)},this)),this.hb,"click",q(this.Pj,this)),this.g,"add",q(this.Xa,this)),window,"resize",xa(I,q(this.resize,this))));Ra(this.ta,function(a){Ei(this,
a)},this);A.b().subscribe("new-message",function(a){if(a.G.id==this.Aa.id||a.Nk.id==this.Aa.id){if(this.Fa){var c=j,d=this.Ff[a.G.id];d&&(c=!N(d,"unread"),Ne(d));c&&Y.b().c("new-messages",1)}Ei(this,a,this.Fa);this.resize()}},this);this.resize()};
Di.prototype.Pj=function(){this.hb&&T(this.hb,l);T(this.B,j);z("/_message/"+this.Aa.id+"?offset="+this.ta.length,q(function(a){a=D(a.target);if(a.length){this.ie=k;var b=R("div","separator");Me(this.zb,b,3)}T(this.B,l);this.hb&&T(this.hb,!!a.length);Ra(a,function(a){a=new Ai(a);this.ta.push(a);Ei(this,a,j);return a},this);a.length&&(this.a().scrollTop=0,this.ie=k,this.a().scrollTop=b.offsetHeight)},this))};
function Ei(a,b,c){T(a.ne,l);a.hb&&T(a.hb,!a.Fa&&10<=a.ta.length);var d;if(!a.Fa&&a.ie&&a.ie.G.id==b.G.id)d=W(Ci,{message:b}),Q("texts",a.Lj).appendChild(d),d=Q("timestamp",d);else{var e=W(Bi,{message:b,oj:b.G.id==A.b().h.id});a.ie=b;a.Lj=e;c?Me(a.zb,e,3):a.zb.appendChild(e);d=Q("timestamp",e);O(e,"unread",!b.Ha);a.Fa&&(a.Ff[b.G.id]=e,J(a.j(),e,"click",q(function(){b.Ha||(b.Be(),M(e,"unread"),Y.b().c("new-messages",-1));Y.b().c("profile",b.G)},a)))}oi(Zb.b(),b.time,d);c||(a.a().scrollTop=a.a().scrollHeight);
!a.Fa&&(!b.Ha&&Y.b().df==b.G.id)&&b.Be()}Di.prototype.Xa=function(a){var b=new Ai({from_user:A.b().h,to_user:cc(A.b(),this.Aa),text:a.text});b.time=new xb;b.Bb=Kb(b.time.getTime());Ei(this,b);z("/_message",a.$i,"POST","from_id="+A.b().h.id+"&to_id="+this.Aa.id+"&text="+a.text)};Di.prototype.resize=function(a){this.Fa?this.dispatchEvent("resize"):(this.W=a||this.W,rf(this.a(),Ie().height+(IPHONE&&SAFARI?61:0)-(DESKTOP?40:0)-42-this.W-(Ze(this.a(),k,"tabbed")?30:0)))};function Fi(a){this.id=a.id;this.p=cc(A.b(),a.user);this.type=a.type;this.K=a.comment?new ki(a.comment):k;this.Ha=a.read;this.Bb=(this.time=a.time?hb(a.time+"Z"):k)?Kb(this.time.getTime()):k}Fi.prototype.Be=function(){z("/_notification",pb(),"POST","id="+this.id+"&read=1");this.Ha=j};function Gi(a){return'<div class="notification"><a href="#user:'+X(a.G.id)+'"><div class="picture" style="background:'+X(a.G.color)+'"><img src="'+X(a.G.J)+'"/></div></a><div class="body"><div class="type"><a class="user" href="#user:'+X(a.G.id)+'">'+X(a.G.name)+"</a> "+("reply"==a.Jf.type?"replied to your comment":"")+("mention"==a.Jf.type?"mentioned you in a comment":"")+'</div><div class="texts"><div class="text">'+X(a.text)+'<div class="timestamp">'+X(a.Jf.Bb)+"</div></div></div></div></div>"}
;function Hi(a){U.call(this);this.$b=a;this.Xh={};this.Yb={};this.W=0}t(Hi,U);
Hi.prototype.q=function(a){Hi.f.q.call(this,a);a.innerHTML="";a.scrollTop=0;this.ld=R("div","notifications");this.a().appendChild(this.ld);this.B=R("div","spinner");this.ld.appendChild(this.B);T(this.B,l);this.If=R("div","no-comments","No Notifications");this.ld.appendChild(this.If);T(this.If,!this.$b.length);v(this.$b,function(a){Ii(this,a)},this);this.dispatchEvent("resize");A.b().subscribe("new-notification",function(a){Ii(this,a,j);Y.b().c("new-messages",1);this.dispatchEvent("resize")},this)};
function Ii(a,b,c){if(b.K){T(a.If,l);var d,e=b.K.text.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return c}),e=W(Gi,{Jf:b,text:e,G:b.K.p});c?Me(a.ld,e,2):a.ld.appendChild(e);a.Xh[b.id]=e;d=a.Yb[b.K.media.id]||[];d.push(b);a.Yb[b.K.media.id]=d;d=Q("timestamp",e);O(e,"unread",!b.Ha);J(a.j(),e,"click",q(function(){b.Ha||v(this.Yb[b.K.media.id]||[],function(a){a.Be();Y.b().c("new-messages",-1);(a=this.Xh[a.id])&&M(a,"unread")},this);Y.b().c("media-info",b.K.media)},a));oi(Zb.b(),b.time,d);c||
(a.a().scrollTop=a.a().scrollHeight)}};function Ji(a){return'<div class="user'+(a.media?" media":"")+'"><div class="name">'+X(a.p.name)+'</div><div class="picture" style="background:'+X(a.p.color)+'"><img src="'+X(a.p.J)+'"/></div>'+(a.timestamp?'<div class="timestamp">'+X(a.timestamp)+"</div>":"")+(a.media?'<div class="media"><div class="watched">LAST WATCHED </div><div class="watching">NOW WATCHING </div><a class="media-link">'+X(a.media.name)+"</a></div>":"")+"</div>"};function Ki(a,b){U.call(this);this.Mc=a||k;this.He={};this.ac=[];this.Ac=[];this.ib=[];this.jb=!!b;this.W=0}t(Ki,U);
Ki.prototype.q=function(a){Ki.f.q.call(this,a);a.innerHTML="";a.scrollTop=0;L(a,"friendlist");L(a,"ios-scroll");this.jb||(a=R("div","label show-all",R("a",{href:"#friendlist:1"},"ALL FRIENDS >")),this.a().appendChild(a));this.re=R("div","label online-friends-label",this.jb?"ONLINE FRIENDS":R("a",{href:"#friendlist:1"},"ONLINE FRIENDS"));T(this.re,l);this.a().appendChild(this.re);this.Rf=R("div","online-friends");this.a().appendChild(this.Rf);this.td=R("div","label",this.jb?"RECENTLY ONLINE":R("a",
{href:"#friendlist:1"},"RECENTLY ONLINE"));T(this.td,l);this.a().appendChild(this.td);this.sd=R("div","recent-friends");this.a().appendChild(this.sd);this.jb&&(this.oe=R("div","label","OFFLINE FRIENDS"),T(this.oe,l),this.a().appendChild(this.oe),this.Kf=R("div","offline-friends"),this.a().appendChild(this.Kf),this.jb&&this.resize(),J(this.j(),window,"resize",q(function(){this.jb&&I(q(function(){this.resize()},this))},this)));if(this.Mc)Pa.sort.call(this.Mc,function(a,b){return a.r&&!b.r?1:!a.r&&b.r?
-1:!a.r&&!b.r?0:a.r.getTime()<b.r.getTime()?1:-1}||db),v(this.Mc,function(a){Li(this,a)},this),T(this.a(),j);else{var a=A.b(),b=q(function(a){this.Mc=a;Pa.sort.call(this.Mc,function(a,b){return a.r&&!b.r?1:!a.r&&b.r?-1:!a.r&&!b.r?0:a.r.getTime()<b.r.getTime()?1:-1}||db);v(this.Mc,function(a){Li(this,a)},this);T(this.a(),j)},this);a.gh?b&&b(a.nf):z("/_friends",q(function(a){a=D(a.target);this.nf=Ta(a,function(a){return cc(this,a)},this);this.gh=j;b&&b(this.nf)},a))}A.b().subscribe(bc,this.Tk,this)};
function Li(a,b){if(!a.He[b.id]){var c=l,d=b.r?Kb(b.r.getTime()):k,e=W(Ji,{p:b,timestamp:d,media:b.cb});b.r&&432E5>s()-b.r.getTime()&&oi(Zb.b(),b.r,Q("timestamp",e));b.Bc?(T(a.re,j),L(e,"online"),v(a.ac,function(a,d){a.Xd()>b.Xd()&&(Me(this.Rf,e,d),bb(this.ac,d,0,b),c=j)},a),c||(a.Rf.appendChild(e),a.ac.push(b))):d&&(3>a.ib.length||a.jb)?(v(a.ib,function(a,d){a.r&&(b.r&&a.r.getTime()<b.r.getTime())&&(Me(this.sd,e,d),bb(this.ib,d,0,b),c=j)},a),c||(a.sd.appendChild(e),a.ib.push(b)),T(a.td,j),T(a.sd,
j)):a.jb&&(!Va(a.ib,function(a){return b.id==a.id})&&!Va(a.Ac,function(a){return b.id==a.id}))&&(T(a.oe,j),v(a.Ac,function(a,d){a.r&&(b.r&&a.r.getTime()<b.r.getTime())&&(Me(this.Kf,e,d),bb(this.Ac,d,0,b),c=j)},a),c||(a.Kf.appendChild(e),a.Ac.push(b)));a.jb||(T(a.td,!a.ac.length&&a.ib.length),T(a.sd,!a.ac.length&&a.ib.length));a.He[b.id]=e;d=Q("media-link",e);J(a.j(),e,"click",q(function(){Y.b().c("profile",b)},a));d&&J(a.j(),d,"click",q(function(a){a.stopPropagation();a.preventDefault();Y.b().c("media-info",
b.cb)},a))}}Ki.prototype.Tk=function(a){var b=this.He[a.id];b&&(Ne(b),qb(this.He,a.id),Za(this.Ac,function(b){return b.id==a.id})&&T(this.oe,!!this.Ac.length),Za(this.ac,function(b){return b.id==a.id})&&T(this.re,!!this.ac.length),Za(this.ib,function(b){return b.id==a.id})&&T(this.td,!!this.ib.length));Li(this,a)};Ki.prototype.resize=function(a){this.W=a||this.W;rf(this.a(),Ie().height+(IPHONE&&SAFARI?61:0)-42-this.W-(Ze(this.a(),k,"tabbed")?30:0))};function Mi(a,b){U.call(this);this.Me=a;this.Lc=b||k;this.R=0;this.wi=!b;this.Sb=l;this.bh={};this.Sc={};this.Xb={};this.wb={};this.Ge={};this.mi={};this.Cg=[]}t(Mi,U);
Mi.prototype.q=function(a){Mi.f.q.call(this,a);a.innerHTML="";a.scrollTop=0;L(a,"stream");L(a,"ios-scroll");this.wi&&(this.mf=R("div","friendlist"),T(this.mf,l),this.a().appendChild(this.mf),a=R("div","label","ACTIVITY"),this.a().appendChild(a));this.Qc=R("div","activities");this.a().appendChild(this.Qc);this.B=R("div","spinner");this.a().appendChild(this.B);T(this.B,l);this.zc=R("div","no-comments",this.Lc==A.b().h.id?"Your activity will appear here.":"Friends' activity will appear here.");this.a().appendChild(this.zc);
this.Me&&this.Me.length&&Ni(this,this.Me);this.wi&&(this.lf=new Ki(i,l),this.lf.i(this.mf));A.b().subscribe("new-activity",function(a){(this.Lc==a.user.id||!this.Lc&&a.user.id!=A.b().h.id)&&Oi(this,a,i,i,j)},this);J(J(this.j(),this.a(),"scroll",q(function(){!this.Sb&&this.a().scrollTop+Ie().height>this.a().scrollHeight-60&&Pi(this)},this)),window,"resize",xa(I,q(this.resize,this)));this.resize()};
function Pi(a){T(a.B,j);z("/_activity"+(a.Lc?"/"+a.Lc:"")+"?offset="+a.R,q(function(a){this.bh[String(a.target.gd)]||(this.bh[String(a.target.gd)]=j,a=D(a.target).activities,this.Sb=!a.length,O(this.B,"finished",this.Sb),T(this.B,this.Sb),Ni(this,a))},a))}
function Ni(a,b){a.Sc=[];a.Xb=[];a.wb=[];v(b,function(a){this.R++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.Sc?this.Sc[a.channel_id]:[];b.push(a);this.Sc[a.channel_id]=b;break;case "liked":this.Xb[a.media.id]||(b=a.media.id in this.wb?this.wb[a.media.id]:[],b.push(a),this.wb[a.media.id]=b,b=a.user.id in this.Ge?this.Ge[a.user.id]:[],b.push(a),this.Ge[a.user.id]=b);break;case "comment":a=a.comment,b=a.media.id in this.Xb?this.Xb[a.media.id]:[],b.push(a),this.Xb[a.media.id]=
b,this.wb[a.media.id]&&qb(this.wb,a.media.id)}},a);Nc(a.Sc,function(a){Oi(this,i,a,"session")},a);Nc(a.Xb,function(a){Oi(this,i,a,"comment")},a);Nc(a.wb,function(a){1<a.length&&Oi(this,i,a,"liked")},a);Nc(a.Ge,function(a){Oi(this,i,a,"liked")},a)}
function Oi(a,b,c,d,e){T(a.zc,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],m=b?[cc(A.b(),b.user)]:[],r=b?hb(b.time+"Z"):k;c&&v(c,function(a){Va(m,function(b){return b.id==a.user.id})||m.push(cc(A.b(),a.user));var b=hb((a.time||a.tune_in)+"Z");r=r&&r.getTime()>b.getTime()?r:b;"session"==g?v(a.media,function(a){!this.Xb[a.id]&&(!this.wb[a.id]&&!Va(h,function(b){return b.id==a.id}))&&h.push(a)},this):"liked"==g&&!this.mi[a.media.id]&&(h.push(a.media),this.mi[a.media.id]=j)},a);switch(g){case "session":if(!a.Lc&&
2>m.length)return;var d=b?b.session:c[0],x=C.b().get(d.channel_id),h=b?b.session.media:h;3<h.length&&(h=h.slice(0,3));b=W(eh,{C:m,N:x,time:Kb(r.getTime()),Li:!!d.tune_out});break;case "comment":h=b?[b.comment.media]:[sb(rb.b(),c[0].media)];b=Ta(b?[b.comment]:c,function(a){a=new ki(a);a.text=Nh(a.text);a.text=a.text.replace(/@\[(\d+):([a-zA-z\s]+)\]/g,function(a,b,c){return'<a href="#user:'+b+'">'+c+"</a>"});return a});b=W(fh,{Oa:b.reverse().slice(0,3),C:m,media:h[0]});break;case "liked":h=b?[b.media]:
h;b=W(gh,{C:m,Qh:h.length,time:Kb(r.getTime())});break;default:return}if(h.length){oi(Zb.b(),r,Q("timestamp",b));d=Wa(a.Cg,function(a){return a.time<r.getTime()});bb(a.Cg,d,0,{time:r,element:b});var y=Q("medias",b);v(h,function(a){var b=sb(rb.b(),a),a=W(th,{media:b}),c=Q("list-play",a),d=Q("list-plus",a);Q("thumb",a);y.appendChild(a);J(J(J(this.j(),a,"click",function(){Y.b().c("media-info",b)}),c,"click",function(a){a.preventDefault();a.stopPropagation();a=Jb(b);be.b().c(ce,a)}),d,"click",function(a){a.preventDefault();
a.stopPropagation();ac().c(Vb,b,j)})},a);e?Me(a.Qc,b,0):c?Me(a.Qc,b,d):a.Qc.appendChild(b);I(xa(L,b,"show"))}}Mi.prototype.resize=function(){var a=Ie().height+(IPHONE&&SAFARI?61:0)-40-(Ze(this.a(),k,"tabbed")?40:10);rf(this.a(),a);S(this.Qc).height<a&&Pi(this)};function Qi(a){U.call(this);this.Aa=this.U=a;this.le=a.id==A.b().h.id;this.Ka=[this.le?"inbox":"messages","activity","starred"]}t(Qi,U);n=Qi.prototype;n.q=function(a){Qi.f.q.call(this,a);L(a,"profile");L(a,"ios-scroll");Ng(a,rh,{Hf:this.le})};
n.w=function(){this.ya=Q("tabs",this.a());this.le&&(z("/_notification",q(function(a){var a=D(a.target),a=Sa(a,function(a){return!!a}),b=0,a=Ta(a,function(a){a=new Fi(a);b+=!a.Ha?1:0;return a},this);Y.b().c("new-messages",b);this.$b=new Hi(a);J(this.j(),this.$b,"resize",xa(I,q(this.we,this)));this.$b.i(Q("notifications-content",this.a()))},this)),this.Kl=Q("inbox-content",this.a()),J(this.j(),window,"resize",xa(I,q(this.we,this))));z("/_message/"+this.Aa.id,q(function(a){var a=D(a.target),b=0,a=Ta(a,
function(a){a=new Ai(a);b+=!a.Ha?1:0;return a},this);this.le&&Y.b().c("new-messages",b);this.ta=new Di(this.Aa,a);J(this.j(),this.ta,"resize",xa(I,q(this.we,this)));this.ta.i(Q("messages-content",this.a()))},this));z("/_star/"+this.Aa.id,q(function(a){var a=D(a.target),a=Ta(a,function(a){return new gb(a)}),b=A.b().h;b.zi=a;b.c("set-starred");this.yd=new yi(a);this.yd.i(Q("starred-content",this.a()))},this));z("/_activity/"+this.Aa.id,q(function(a){a=D(a.target).activities;this.ng=new Mi(a,this.Aa.id);
this.ng.i(Q("activity-content",this.a()))},this));J(this.j(),this.ya,"click",q(function(a){a=Ze(a.target,"li");this.Ab(a)},this));rb.b().subscribe("star",function(a,b){if(b)this.yd.Oe(a);else{var c=this.yd,d=c.Ef[a.id];d&&(Ca(d),qb(c.Ef,a.id))}},this);J(this.j(),window,"resize",xa(I,q(this.ni,this)));this.ni()};n.Ab=function(a){v(this.Ka,function(b){O(this.ya.parentElement,b,N(a,b));this.u=N(a,b)?b:this.u},this)};
n.ni=function(){var a=Ie().height+(IPHONE&&SAFARI?61:0)-41-(Ze(this.a(),k,"tabbed")?30:0);rf(this.a(),a);this.we()};n.we=function(){var a=S(this.a()).height-80;this.$b&&rf(this.$b.a(),Math.floor(a/2));this.ta&&rf(this.ta.a(),Math.ceil(a/2))};function Ri(){U.call(this);this.Vb=Ob();this.Yi=new gi;this.Ka={};this.Eb=[];this.Fc=[];this.Ub=this.Pc=0}t(Ri,U);n=Ri.prototype;
n.w=function(){Ri.f.w.call(this);this.Rc=Q("arrow",this.Fb);this.af=P("sidebar-content");this.Oh=P("media-list");this.ue=P("profile");this.fh=P("friendlist");this.Sg=P("conversation");this.Fb=P("toolbar");this.ya=Q("tabs",this.a());this.Le=Q("activities-count",this.a());this.vf=Q("inbox-count",this.a());var a=new Xf(document);v(Oe(this.ya),function(a){var b=ye(a)[0];this.Ka[b]=a;this.Eb.push(b)},this);this.Pf();z("/_activity",q(function(a){a=D(a.target);this.ng=new Mi(a.activities);this.ng.i(P("stream"));
Y.b().c("new-activites",parseInt(a.new_count,10))},this));this.yd=new Qi(A.b().h);this.yd.i(P("my-profile"));this.V&&(DESKTOP||C.b().L.S&&C.b().L.$())?(this.F=P("info"),this.u="info",Si(this,"info","info")):(this.F=P("stream"),this.u="stream",Si(this,"info","stream"));var b="left";v(this.Eb,function(a){var c=Q(a,this.af);a==this.u?b="right":L(c,b)},this);this.Fc=[this.F,""];L(this.F,"current");if(this.Vb){this.Yi.i(P("admin"));var c=W(ih,{name:"ADMIN",className:"admin"});this.ya.appendChild(c);this.Ka.admin=
c;this.Eb.push("admin")}Ti(this);J(J(J(J(this.j(),Q("back-button",this.Fb),"click",q(function(a){var b=this.Fc.shift();this.navigate(b[0],j,b[1]);Ti(this);a.stopPropagation()},this)),this.ya,"click",q(function(a){var b=this.u,c=Ze(a.target,"li"),h=ye(c)[0];Si(this,this.u,h);L(c,"selected");Ti(this);b!=this.u&&a.stopPropagation();"stream"==h&&this.Wh(0,j)},this)),this.Fb,"click",q(function(a){((a=Ze(a.target,"li"))&&ye(a)[0]==this.u||!a)&&(new Cf(this.F,[this.F.scrollLeft,this.F.scrollTop],[this.F.scrollLeft,
0],300)).play()},this)),a,"key",q(function(a){a.ctrlKey&&"68"==a.keyCode&&ze(this.a(),"dark")},this));DESKTOP&&ei.b().subscribe(Ui,function(a){O(this.a(),"toggled",a);I(q(function(){O(this.a(),"collapsed",!a)},this),!a?500:0)},this);Y.b().subscribe("navigate",this.navigate,this);Y.b().subscribe("new-activites",this.Wh,this);Y.b().subscribe("new-messages",this.Vj,this);Y.b().subscribe("conversation",this.xk,this);Y.b().subscribe("media-list",this.Ak,this);Y.b().subscribe("media-info",this.xi,this);
Y.b().subscribe("friend-list",this.zk,this);Y.b().subscribe("profile",this.Bk,this);C.b().subscribe($d,this.Pf,this);be.b().subscribe(ce,this.Pf,this);C.b().subscribe(Zd,this.Xj,this);DESKTOP&&ei.b().subscribe(Vi,function(a){O(this.a(),"admin",a);a?(ei.b().c(Ui,j),Si(this,this.u,"admin")):"admin"==this.u&&Si(this,"admin","info")},this)};n.Wh=function(a,b){b&&(this.Pc=0,T(this.Le,l));this.Pc+=a;Se(this.Le,this.Pc.toString());T(this.Le,!!this.Pc)};
n.Vj=function(a,b){b&&(this.Ub=0,T(this.vf,l));this.Ub+=a;this.Ub=Math.max(this.Ub,0);Se(this.vf,this.Ub.toString());T(this.vf,!!this.Ub)};n.Pf=function(a){if(a=a||C.b().L.$())if(this.Mb=a.media,!this.V||this.Mb.id!=this.V.U.id){var a=this.V&&this.V.g.o()?this.V.g.o():k,b=this.V?this.V.e:k;Ca(this.V);this.V=new ri(this.Mb,l,b,a);this.V.i(P("info"))}};
n.Xj=function(a){a=a||C.b().L;if((this.Mb=a.$()&&a.$().media)&&(!this.V||this.Mb.id!=this.V.U.id))Ca(this.V),this.V=new ri(this.Mb),this.V.i(P("info")),this.xi(this.Mb)};
function Si(a,b,c){var d=Q(c,a.af),e=Qa(a.Eb,b),b=Qa(a.Eb,c),g=(e=e<b)?0:a.Eb.length-1,h=e?g<a.Eb.length:0<=g;for(g;h;g+=e?1:-1){var m=Q(a.Eb[g],a.af);if(e&&g>b||!e&&g<b)L(m,"right"),M(m,"left");else if(e&&g<b||!e&&g>b)O(m,"left",e),L(m,"right");else if(g==b){M(m,"right");M(m,"left");break}}a.u=c;bb(a.Fc,0,0,[a.F,""]);M(a.F,"current");a.F=d;L(a.F,"current");Ti(a)}
n.navigate=function(a,b,c){if(a==this.F)c&&Se(Q("back-title",this.Fb),c);else{var d=N(this.F,"screen");b?(M(this.F,"on"),M(this.F,"current"),L(a,"current"),this.F=a):(O(this.F,"on",!d),b=[this.F,We(Q("back-title",this.Fb))],bb(this.Fc,0,0,b),M(this.F,"current"),this.F=a,L(this.F,"current"));O(this.Fb,"back",N(this.F,"slide"));c&&Se(Q("back-title",this.Fb),c);this.F!=this.ue&&(Y.b().df=k)}};n.xk=function(a,b,c,d){(new qi(a,b,c,d)).i(this.Sg);Y.b().c("navigate",this.Sg,l,a.name)};
n.Ak=function(a,b,c,d,e,g,h){(new yi(b,c,d,e,g,h)).i(this.Oh);Y.b().c("navigate",this.Oh,l,a,d,e)};n.zk=function(){this.lf=new Ki(i,j);this.lf.i(this.fh);Y.b().c("navigate",this.fh,l,"Friends")};n.xi=function(a,b,c,d){if(this.V&&a.id==this.V.U.id){M(this.Fb,"back");for(a=this.Fc[0][0];a&&N(a,"slide");)a=this.Fc.shift();Si(this,this.u,"info")}else{var e=P("media-info");(new ri(a,b,c,d)).i(e);Y.b().c("navigate",e,l,a.name)}DESKTOP&&ei.b().c(Ui,j)};
n.Bk=function(a){if(!this.Yf||!(this.Yf.U.id==a.id&&this.F==this.ue))Y.b().df=a.id,this.Yf=new Qi(a),this.Yf.i(this.ue),Y.b().c("navigate",this.ue,l,a.name),DESKTOP&&ei.b().c(Ui,j)};
function Ti(a){var b=Math.round(S(a.Ka[a.u]).width/2+(new Ae(a.Ka[a.u].offsetLeft,a.Ka[a.u].offsetTop)).x);a.Rc.style.transform="translate3d("+b+"px, 0,0)";a.Rc.style.msTransform="translate3d("+b+"px, 0,0)";a.Rc.style.WebkitTransform="translate3d("+b+"px, 0,0)";a.Rc.style.MozTransform="translate3d("+b+"px, 0,0)";a.Rc.style.bl="translate3d("+b+"px, 0,0)"};function Wi(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="logo"></div></div><div id="sidebar" class="toggled"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM<div class="activities-count" style="display:none"></div></div></li><li class="profile tab"><div class="label">HOME<div class="inbox-count" style="display:none"></div></div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="friendlist" class="slide friendlist"></div><div id="conversation" class="slide"></div>'+
(a.Xi?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="notify" class="notify"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'};function Sb(){}ma(Sb);_gaq=[];Sb.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};Sb.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",A.b().h.id])};
function $b(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",A.b().h.id])}Sb.prototype.Xe=function(a,b){a.S||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
Sb.prototype.K=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",A.b().h.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",A.b().h.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",A.b().h.id])};
function xi(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",A.b().h.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",A.b().h.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",A.b().h.id]);z("/_share",pb(),"POST","facebook="+c+"&twitter="+d)}ha("_gaq",_gaq);function ei(){w.call(this);this.lk=j;var a=P("controller");this.yi=!a||N(a,"sidebar-toggled");this.kh=a&&N(a,"guide-toggled");a=P("guide");this.$l=!!a&&N(a,"timeless");this.subscribe(Ui,ba("yi"),this);this.subscribe(Xi,ba("kh"),this);this.subscribe(Yi,ba("lk"),this)}t(ei,w);ma(ei);function fi(a,b){var c=P("toggle-pending");Se(c,b);T(c,!!b)}var Yi="play",Xi="toggle-guide",Ui="toggle-sidebar",Vi="toggle-admin";function Zi(){w.call(this);this.Mh=l}t(Zi,w);ma(Zi);Zi.prototype.init=function(a){this.Ji=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=q(this.bk,this);a.onclose=q(this.Zh,this);H(window,"onbeforeunload",q(this.Zh,this));return this};
Zi.prototype.bk=function(a){var b=Fd(a.data);switch(b.type){case "viewer_change":var c=cc(A.b(),b.user),d=b.time&&hb(b.time+"Z");c.ef&&d&&c.ef.end(d);(a=b.last_channel_id&&C.b().get(b.last_channel_id))&&a.c("remove-viewer",c);c.cb&&c.cb.c(nb,c,a,j);var e=b.channel_id&&C.b().get(b.channel_id),a=b.media&&sb(rb.b(),b.media);e&&(d=d||new xb,d=new Rb(b.session_id,c,e,d),c.ef=d,e.c(Wb,d));a&&a.c(nb,c,e,b.online!=j);A.b().c(bc,c,b.online);break;case "notification":a=new Fi(b.notification);A.b().c("new-notification",
a);break;case "new_comment":c=new ki(b.comment);if(c.p.id!=A.b().h.id&&(d=b.tweet?new li(b.tweet):k,a=sb(rb.b(),b.comment.media)))a.c(lb,c),d&&a.c("add-tweet",d);break;case "new_message":a=new Ai(b.message);A.b().c("new-message",a);Y.b().df!=a.G.id&&eb.b().c("flash","messaged you",a.text,a.G,a.G.J,"#user:"+a.G.id);break;case "new_activity":A.b().c("new-activity",b.activity);b.activity.user.id!=A.b().h.id&&"session"!=b.activity.type&&Y.b().c("new-activites",1);break;case "update_programs":a=b.programs;
e=C.b().get(b.channel_id);v(a,function(a){e.c(Xb,a)},this);break;case "new_programs":b.channel&&(e=C.b().Ne(b.channel));v(b.programs,q(function(a){a=new Ib(a);if(e=e||C.b().get(b.channel_id))e.c(Ub,a),C.b().L&&C.b().L.$(),be.b().$()||(C.b().c(Zd,e),C.b().c($d,a))},this));break;case "twitter_auth":A.b().h.c(Nb)}};
Zi.prototype.Zh=function(){if(!this.Mh){var a=C.b().L.S&&C.b().L.cb&&Math.floor(be.b().getCurrentTime());DESKTOP&&z("/_settings",pb(),"POST","show_guide="+ei.b().kh+"&show_sidebar="+ei.b().yi+(a?"&current_seek="+a:""));this.Mh=j}};function Zb(){w.call(this);this.Mg=new fd(1E3);this.Gi=new fd(3E4);this.Hi=[];this.jf=[]}t(Zb,w);ma(Zb);Zb.prototype.init=function(){this.Mg.start();this.Gi.start();H(this.Mg,hd,q(function(){v(this.jf,function(a,b){a.time<s()&&(a.callback(),Pa.splice.call(this.jf,b,1))},this)},this));H(this.Gi,hd,q(function(){v(this.Hi,function(a){Se(a.element,Kb(a.time.getTime()))},this)},this))};function oi(a,b,c){86400>(s()-b.getTime())/1E3&&a.Hi.push({time:b,element:c})}
function Yb(a,b,c){86400>(s()-b)/1E3&&a.jf.push({time:b,callback:c})};function $i(){w.call(this);this.Ql=[]}t($i,w);ma($i);$i.prototype.Cf=function(a){Nc(a,q(function(a,c){v(a,q(function(a){a=new Ib(a);C.b().jc[c]&&C.b().jc[c].Pe(a)},this))},this))};var aj=l;function bj(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var cj=navigator.plugins["Shockwave Flash"];cj&&(aj=j,cj.description&&bj(cj.description));navigator.plugins["Shockwave Flash 2.0"]&&(aj=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var dj=navigator.mimeTypes["application/x-shockwave-flash"];(aj=dj&&dj.enabledPlugin)&&bj(dj.enabledPlugin.description)}else try{var ej=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),aj=j;bj(ej.GetVariable("$version"))}catch(fj){try{ej=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
aj=j}catch(gj){try{ej=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),aj=j,bj(ej.GetVariable("$version"))}catch(hj){}}};function ij(a,b,c,d,e,g,h,m){this.Id=a;this.aj=b;this.nc=c;this.Hb=d;this.Ol=e;this.Il=g;this.fm=h;this.Ta=m;this.Kk=[];this.We=[];this.xl=[];this.Vl=[]}ij.prototype.hh=ca("aj");ij.prototype.ti=function(a){this.Hb=a;return this};ij.prototype.ri=function(a){this.bc=a;return this};function jj(a){this.Id=a;this.Ek=k}function kj(a){this.Id=a;this.Ek=this.bm=k};function Zg(a,b,c){ij.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.Qi=a;this.Kk=[new jj("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.ri(new kj("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}t(Zg,ij);
var Yg=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function lj(){U.call(this);this.Dk=new Ri}t(lj,U);lj.prototype.q=function(a){lj.f.q.call(this,a);var b=W(Wi,{Xi:Ob()});Me(a,b,0)};
lj.prototype.w=function(){lj.f.w.call(this);SAFARI||(document.body.style.height=Ie().height+"px");this.Dk.i(P("sidebar"));A.b().h.Si||A.b();J(this.j(),document.body,"touchmove",function(a){Ze(a.target,"div","ios-scroll")||a.preventDefault()});J(this.j(),window,"click",function(a){var b=Ze(a.target,"a");if(b=b?b.href:k)if((b=b.match("#(.*):(.*)"))&&b.length)switch(a.preventDefault(),a.stopPropagation(),b[1]){case "user":a=A.b().get(b[2]);Y.b().c("profile",a);break;case "channel":a=C.b().get(b[2]);
C.b().c(Zd,a);break;case "info":a=rb.b().get(b[2]);Y.b().c("media-info",a);break;case "friendlist":Y.b().c("friend-list")}});z("/_presence",q(function(a){a=D(a.target);this.sl=Zi.b().init(a.token);var b=C.b();v(a.viewer_sessions,q(function(a){var b=cc(A.b(),a.user),e=A.b();Va(e.qe,function(a){return a.id==b.id})||e.qe.push(b);var e=this.jc[a.channel_id],g=a.media[0]?sb(rb.b(),a.media[0]):k,h=hb(a.tune_in+"Z"),m=a.tune_out?hb(a.tune_out+"Z"):k,a=new Rb(a.id,b,e,h,m);b.ef=a;if(e){e.yg.push(a);e.c(Wb,
a);var r=e.$()}else g&&(r=Jb(g));b.id!=A.b().h.id&&(r&&r.media.c(nb,b,e),A.b().c(bc,b,j))},b))},this))};
function mj(a){var b=P("login"),c=P("static-content"),d=P("pages"),e=N(b,"app");O(b,"expanded",a);P("uvTab")&&O(P("uvTab"),"show",e&&a);a?(e?c.style.bottom=-S(d).height-80+"px":c.style.top=Math.max(10,Ie().height-280)+"px",a=e?Math.min(Ie().height-100,c.scrollHeight+80):Math.min(Ie().height-435,c.scrollHeight+190),!e||e&&!b.scrollTop?(e=new Cf(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),L(b,"scrolling"),e.play(),H(e,"end",function(){M(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",e?I(function(){M(b,"show")},200):c.className="")}function nj(a,b){var c=P("fb-login");if(a){var d=Q("power",c);L(d,a)}b&&(d=Q("waitlist",c),Se(d,b));M(c,"spin");L(c,"disabled");T(c,j);L(c,"show");L(c,"waitlist")}
ha("brkn.Mobile.staticInit",function(){var a=P("fb-login"),b=P("homepage"),c=P("login"),d=P("static-content"),e=P("pages"),g=P("footer"),h=l;L(b,"hide");var m=R("img");m.src="/static/img/homepage.jpg";H(m,"load",function(){M(b,"hide");L(b,"show")});I(function(){T(a,j);I(xa(L,a,"show"),400)},100);H(c,"click",function(a){"static-scrollable"==a.target.id&&(a=N(c,"app"),h=l,a?mj(h):(a=new Cf(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),H(a,"end",xa(mj,h))))});H(c,"scroll",function(){!N(c,
"scrolling")&&1>c.scrollTop&&(h=l,mj(h))});H(g,"click",function(a){var a=Ze(a.target,k,"section"),b=N(c,"app");a&&(h=j,d.className=a.id,d.style.height=S(e).height+(b?80:220)+"px",mj(h))});H(window,"resize",xa(mj,h));Sb.b().init();IPHONE&&(L(document.body,"iphone"),L(document.body,"login"),window.onload=function(){I(function(){window.scrollTo(0,1)},1E3)})});
ha("brkn.Mobile.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status){var a=P("fb-login"),b=P("static-content"),c=P("login");L(a,"disabled");L(a,"spin");z("/_session",function(a){if(200==Xd(a.target)){var e=D(a.target);if(e.error)Se(P("error"),e.error),nj("error","Yikes...");else if(e.message)Se(P("message"),e.message);else{M(document.body,"login");var a=e.channels,g=e.programs,e=e.current_user;if(!Pc(e)){var h=A.b();h.h=cc(h,e);FB.api("/me/permissions",q(function(a){this.h.uh=
a.data[0].publish_stream},h));FB.api("/me/friends",q(function(a){a&&a.data&&v(a.data,function(a){this.Kd[a.id]||(this.Kd[a.id]=new Mb({id:a.id,name:a.name,temp:j}))},this)},h))}C.b().Cf(a);$i.b().Cf(g);a=C.b();a.L=a.jc[e.current_channel]||a.Tc[0];if(a.L&&a.L.$())g=a.L;else if(a.ge&&a.ge.$())g=a.ge;else{e=g=k;for(h=0;!e&&h<a.Tc.length;)e=(g=!a.Tc[h].S?a.Tc[h]:k)&&g.$(),h++}a.L=g||a.L;a.L&&a.L.$();Zb.b().init();(new lj).i(document.body);Sb.b().login();I(function(){I(function(){L(c,"hide");I(function(){T(P("homepage"),
l);L(c,"app");L(b,"faq")},600)},600)})}}else 500==Xd(a.target)?nj("error","Opps, check back later"):nj("wait")},"POST")}else H(P("fb-login"),"click",function(){window.location.href="https://m.facebook.com/dialog/oauth?client_id="+FB_APP_ID+"&response_type=code&redirect_uri="+HOST_URL+"&scope=email";return l})})});