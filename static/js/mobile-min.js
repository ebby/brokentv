function f(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var m,ea=ea||{},n=this;function fa(a,b){var c=a.split("."),d=n;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ga(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function ha(a){for(var a=a.split("."),b=n,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function ia(){}function ja(a){a.a=function(){return a.Kg?a.Kg:a.Kg=new a}}
function ka(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return a!==i}function la(a){return"array"==ka(a)}function ma(a){var b=ka(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function na(a){return"number"==typeof a}function oa(a){return"function"==ka(a)}function pa(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function qa(a){return a[ra]||(a[ra]=++sa)}
var ra="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),sa=0;function ta(a,b,c){return a.call.apply(a.bind,arguments)}function ua(a,b,c){a||f(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ta:ua;return r.apply(k,arguments)}function va(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var s=Date.now||function(){return+new Date};function wa(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a}
function t(a,b){function c(){}c.prototype=b.prototype;a.e=b.prototype;a.prototype=new c;a.prototype.constructor=a};function xa(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function ya(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function za(a){if(!Aa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ba,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ca,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Da,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ea,"&quot;"));return a}var Ba=/&/g,Ca=/</g,Da=/>/g,Ea=/\"/g,Aa=/[&<>\"]/;
function Fa(a){var a=ga(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ga(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Ha=Array.prototype,Ia=Ha.indexOf?function(a,b,c){return Ha.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(p(a))return!p(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},v=Ha.forEach?function(a,b,c){Ha.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function Ka(a,b,c){for(var d=p(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)}
var La=Ha.filter?function(a,b,c){return Ha.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=p(a)?a.split(""):a,q=0;q<d;q++)if(q in h){var u=h[q];b.call(c,u,q,a)&&(e[g++]=u)}return e},Ma=Ha.map?function(a,b,c){return Ha.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=p(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Na=Ha.every?function(a,b,c){return Ha.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in
e&&!b.call(c,e[g],g,a))return l;return j};function Oa(a,b){var c=Pa(a,b,i);return 0>c?k:p(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return g;return-1}function Qa(a,b){return 0<=Ia(a,b)}function Ra(a,b){var c=Ia(a,b);0<=c&&Ha.splice.call(a,c,1)}function Sa(a,b,c){b=Pa(a,b,c);return 0<=b?(Ha.splice.call(a,b,1),j):l}function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ua(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(la(d)||(e=ma(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,q=0;q<h;q++)a[g+q]=d[q];else a.push(d)}}function Va(a,b,c,d){Ha.splice.apply(a,Wa(arguments,1))}function Wa(a,b,c){return 2>=arguments.length?Ha.slice.call(a,b):Ha.slice.call(a,b,c)}function Xa(a,b){return a>b?1:a<b?-1:0};var Ya,Za,$a,ab;function bb(){return n.navigator?n.navigator.userAgent:k}ab=$a=Za=Ya=l;var cb;if(cb=bb()){var db=n.navigator;Ya=0==cb.indexOf("Opera");Za=!Ya&&-1!=cb.indexOf("MSIE");$a=!Ya&&-1!=cb.indexOf("WebKit");ab=!Ya&&!$a&&"Gecko"==db.product}var eb=Ya,w=Za,fb=ab,gb=$a,hb=n.navigator,ib=-1!=(hb&&hb.platform||"").indexOf("Mac"),jb;
a:{var kb="",lb;if(eb&&n.opera)var nb=n.opera.version,kb="function"==typeof nb?nb():nb;else if(fb?lb=/rv\:([^\);]+)(\)|;)/:w?lb=/MSIE\s+([^\);]+)(\)|;)/:gb&&(lb=/WebKit\/(\S+)/),lb)var ob=lb.exec(bb()),kb=ob?ob[1]:"";if(w){var pb,qb=n.document;pb=qb?qb.documentMode:i;if(pb>parseFloat(kb)){jb=String(pb);break a}}jb=kb}var rb={};
function sb(a){var b;if(!(b=rb[a])){b=0;for(var c=ya(String(jb)).split("."),d=ya(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",q=d[g]||"",u=RegExp("(\\d*)(\\D*)","g"),B=RegExp("(\\d*)(\\D*)","g");do{var K=u.exec(h)||["","",""],P=B.exec(q)||["","",""];if(0==K[0].length&&0==P[0].length)break;b=((0==K[1].length?0:parseInt(K[1],10))<(0==P[1].length?0:parseInt(P[1],10))?-1:(0==K[1].length?0:parseInt(K[1],10))>(0==P[1].length?0:parseInt(P[1],10))?1:0)||((0==K[2].length)<
(0==P[2].length)?-1:(0==K[2].length)>(0==P[2].length)?1:0)||(K[2]<P[2]?-1:K[2]>P[2]?1:0)}while(0==b)}b=rb[a]=0<=b}return b}var tb={};function ub(a){return tb[a]||(tb[a]=w&&!!document.documentMode&&document.documentMode>=a)};var vb,wb=!w||ub(9),xb=!fb&&!w||w&&ub(9)||fb&&sb("1.9.1"),yb=w&&!sb("9"),zb=w||eb||gb;function Ab(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}function x(a,b){for(var c=Ab(a),d=Wa(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)Qa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e}function y(a,b){var c=Ab(a),d=Wa(arguments,1),e,g=d;e=La(c,function(a){return!Qa(g,a)});a.className=e.join(" ");return e.length==c.length-d.length}function z(a,b){return Qa(Ab(a),b)}function A(a,b,c){c?x(a,b):y(a,b)}function Bb(a,b){var c=!z(a,b);A(a,b,c);return c};function Cb(a,b){this.x=ga(a)?a:0;this.y=ga(b)?b:0}Cb.prototype.clone=function(){return new Cb(this.x,this.y)};function Db(a,b){this.width=a;this.height=b}Db.prototype.clone=function(){return new Db(this.width,this.height)};Db.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Db.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Db.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Eb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Fb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Gb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Hb(a){for(var b in a)return l;return j}function Ib(a,b){b in a&&delete a[b]}function Jb(a,b,c){b in a&&f(Error('The object already contains the key "'+b+'"'));a[b]=c}var Kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Lb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<Kb.length;g++)c=Kb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Mb(a){return a?new Nb(Ob(a)):vb||(vb=new Nb)}function C(a){return p(a)?document.getElementById(a):a}function Pb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Qb("*",a,b)}function D(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Pb(a,b)[0])||k}
function Qb(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=e=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Qa(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
var Rb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function E(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Db(a.clientWidth,a.clientHeight)}function F(a,b,c){return Sb(document,arguments)}
function Sb(a,b){var c=b[0],d=b[1];if(!wb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',za(d.name),'"');if(d.type){c.push(' type="',za(d.type),'"');var e={};Lb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(p(d)?g.className=d:la(d)?x.apply(k,[g].concat(d)):Eb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Rb?g.setAttribute(Rb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(p(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(e=b[c],ma(e)&&!(pa(e)&&0<e.nodeType)){var h=v,q;a:{if((q=e)&&"number"==typeof q.length){if(pa(q)){q="function"==typeof q.item||"string"==typeof q.item;break a}if(oa(q)){q="function"==typeof q.item;break a}}q=l}h(q?Ta(e):e,d)}else d(e)}return g}function Tb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Ub(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}
function G(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Vb(a){return xb&&a.children!=i?a.children:La(a.childNodes,function(a){return 1==a.nodeType})}function Wb(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function Xb(a){if(zb)return a.parentElement;a=a.parentNode;return pa(a)&&1==a.nodeType?a:k}
function Yb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ob(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Zb(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Tb(a),a.appendChild(Ob(a).createTextNode(b))}var $b={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ac={IMG:" ",BR:"\n"};function bc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,na(a)&&0<=a&&32768>a):l}
function cc(a){if(yb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];dc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");yb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function ec(a){var b=[];dc(a,b,l);return b.join("")}
function dc(a,b,c){if(!(a.nodeName in $b))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in ac)b.push(ac[a.nodeName]);else for(a=a.firstChild;a;)dc(a,b,c),a=a.nextSibling}function H(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||z(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Nb(a){this.U=a||n.document||document}m=Nb.prototype;m.Ka=Mb;
m.b=function(a){return p(a)?this.U.getElementById(a):a};m.K=function(a,b,c){return Sb(this.U,arguments)};m.createElement=function(a){return this.U.createElement(a)};m.createTextNode=function(a){return this.U.createTextNode(a)};function fc(a){var b=a.U,a=!gb&&"CSS1Compat"==b.compatMode?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Cb(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}m.appendChild=function(a,b){a.appendChild(b)};m.vg=Vb;
function gc(a,b){return b.firstElementChild!=i?b.firstElementChild:Wb(b.firstChild)}m.contains=Yb;w&&sb(8);var hc={};function ic(a,b){a.innerHTML=b(hc,i,i)}function I(a,b){var c;a:if(c=(new Nb(i)||Mb()).createElement("DIV"),c.innerHTML=a(b||hc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function J(a){return"object"===typeof a&&a&&0===a.mk?a.content:String(a).replace(jc,kc)}
var lc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function kc(a){return lc[a]}var jc=/[\x00\x22\x26\x27\x3c\x3e]/g;function mc(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="note'+(a.Se?" pic":"")+'">'+(a.Se?'<div class="picture"><img class="image" src='+J(a.Se)+' style="display: none"/></div>':"")+'<div class="action">'+(a.l?J(a.l.name)+" ":"")+J(a.action)+'</div><div class="content">'+J(a.content)+'</div><div class="close"></div></div>'+(a.link?"</a>":"")};function L(){0!=nc&&(this.nk=Error().stack,oc[qa(this)]=this)}var nc=0,oc={};L.prototype.Jd=l;L.prototype.ha=function(){if(!this.Jd&&(this.Jd=j,this.o(),0!=nc)){var a=qa(this);delete oc[a]}};L.prototype.o=function(){this.gi&&pc.apply(k,this.gi);if(this.jh)for(;this.jh.length;)this.jh.shift()()};function qc(a){a&&"function"==typeof a.ha&&a.ha()}function pc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ma(d)?pc.apply(k,d):qc(d)}};var rc=!w||ub(9),sc=!w||ub(9),tc=w&&!sb("9");!gb||sb("528");fb&&sb("1.9b")||w&&sb("8")||eb&&sb("9.5")||gb&&sb("528");fb&&!sb("8")||w&&sb("9");function uc(a,b){this.type=a;this.currentTarget=this.target=b}m=uc.prototype;m.o=aa();m.ha=aa();m.Qb=l;m.defaultPrevented=l;m.ke=j;m.stopPropagation=function(){this.Qb=j};m.preventDefault=function(){this.defaultPrevented=j;this.ke=l};function vc(a){a.preventDefault()};function wc(a){wc[" "](a);return a}wc[" "]=ia;function xc(a,b){a&&this.init(a,b)}t(xc,uc);var yc=[1,4,2];m=xc.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.nf=l;m.wa=k;
m.init=function(a,b){var c=this.type=a.type;uc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(fb){var e;a:{try{wc(d.nodeName);e=j;break a}catch(g){}e=l}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=gb||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=gb||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.nf=ib?a.metaKey:a.ctrlKey;this.state=a.state;this.wa=a;a.defaultPrevented&&this.preventDefault();delete this.Qb};function zc(a){return(rc?0==a.wa.button:"click"==a.type?j:!!(a.wa.button&yc[0]))&&!(gb&&ib&&a.ctrlKey)}
m.stopPropagation=function(){xc.e.stopPropagation.call(this);this.wa.stopPropagation?this.wa.stopPropagation():this.wa.cancelBubble=j};m.preventDefault=function(){xc.e.preventDefault.call(this);var a=this.wa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,tc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};m.o=aa();function Ac(){}var Bc=0;m=Ac.prototype;m.key=0;m.Sb=l;m.Yf=l;m.init=function(a,b,c,d,e,g){oa(a)?this.Mg=j:a&&a.handleEvent&&oa(a.handleEvent)?this.Mg=l:f(Error("Invalid listener argument"));this.mc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.Qd=g;this.Yf=l;this.key=++Bc;this.Sb=l};m.handleEvent=function(a){return this.Mg?this.mc.call(this.Qd||this.src,a):this.mc.handleEvent.call(this.mc,a)};var Cc={},Dc={},Ec={},Fc={};
function M(a,b,c,d,e){if(b){if(la(b)){for(var g=0;g<b.length;g++)M(a,b[g],c,d,e);return k}var d=!!d,h=Dc;b in h||(h[b]={N:0,pa:0});h=h[b];d in h||(h[d]={N:0,pa:0},h.N++);var h=h[d],q=qa(a),u;h.pa++;if(h[q]){u=h[q];for(g=0;g<u.length;g++)if(h=u[g],h.mc==c&&h.Qd==e){if(h.Sb)break;return u[g].key}}else u=h[q]=[],h.N++;var B=Gc,K=sc?function(a){return B.call(K.src,K.key,a)}:function(a){a=B.call(K.src,K.key,a);if(!a)return a},g=K;g.src=a;h=new Ac;h.init(c,g,a,b,d,e);c=h.key;g.key=c;u.push(h);Cc[c]=h;Ec[q]||
(Ec[q]=[]);Ec[q].push(h);a.addEventListener?(a==n||!a.hg)&&a.addEventListener(b,g,d):a.attachEvent(b in Fc?Fc[b]:Fc[b]="on"+b,g);return c}f(Error("Invalid event type"))}function Hc(a,b,c,d,e){if(la(b))for(var g=0;g<b.length;g++)Hc(a,b[g],c,d,e);else if(d=!!d,a=Ic(a,b,d))for(g=0;g<a.length;g++)if(a[g].mc==c&&a[g].capture==d&&a[g].Qd==e){Jc(a[g].key);break}}
function Jc(a){if(!Cc[a])return l;var b=Cc[a];if(b.Sb)return l;var c=b.src,d=b.type,e=b.proxy,g=b.capture;c.removeEventListener?(c==n||!c.hg)&&c.removeEventListener(d,e,g):c.detachEvent&&c.detachEvent(d in Fc?Fc[d]:Fc[d]="on"+d,e);c=qa(c);Ec[c]&&(e=Ec[c],Ra(e,b),0==e.length&&delete Ec[c]);b.Sb=j;if(b=Dc[d][g][c])b.fh=j,Kc(d,g,c,b);delete Cc[a];return j}
function Kc(a,b,c,d){if(!d.Yd&&d.fh){for(var e=0,g=0;e<d.length;e++)d[e].Sb?d[e].proxy.src=k:(e!=g&&(d[g]=d[e]),g++);d.length=g;d.fh=l;0==g&&(delete Dc[a][b][c],Dc[a][b].N--,0==Dc[a][b].N&&(delete Dc[a][b],Dc[a].N--),0==Dc[a].N&&delete Dc[a])}}function Ic(a,b,c){var d=Dc;return b in d&&(d=d[b],c in d&&(d=d[c],a=qa(a),d[a]))?d[a]:k}
function Lc(a,b,c,d,e){var g=1,b=qa(b);if(a[b]){a.pa--;a=a[b];a.Yd?a.Yd++:a.Yd=1;try{for(var h=a.length,q=0;q<h;q++){var u=a[q];u&&!u.Sb&&(g&=Mc(u,e)!==l)}}finally{a.Yd--,Kc(c,d,b,a)}}return Boolean(g)}function Mc(a,b){a.Yf&&Jc(a.key);return a.handleEvent(b)}
function Gc(a,b){if(!Cc[a])return j;var c=Cc[a],d=c.type,e=Dc;if(!(d in e))return j;var e=e[d],g,h;if(!sc){g=b||ha("window.event");var q=j in e,u=l in e;if(q){if(0>g.keyCode||g.returnValue!=i)return j;a:{var B=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(K){B=j}if(B||g.returnValue==i)g.returnValue=j}}B=new xc;B.init(g,this);g=j;try{if(q){for(var P=[],mb=B.currentTarget;mb;mb=mb.parentNode)P.push(mb);h=e[j];h.pa=h.N;for(var Ja=P.length-1;!B.Qb&&0<=Ja&&h.pa;Ja--)B.currentTarget=P[Ja],g&=Lc(h,P[Ja],
d,j,B);if(u){h=e[l];h.pa=h.N;for(Ja=0;!B.Qb&&Ja<P.length&&h.pa;Ja++)B.currentTarget=P[Ja],g&=Lc(h,P[Ja],d,l,B)}}else g=Mc(c,B)}finally{P&&(P.length=0)}return g}d=new xc(b,this);return g=Mc(c,d)};function Nc(a){L.call(this);this.fb=a;this.M=[]}t(Nc,L);var Oc=[];function N(a,b,c,d,e){la(c)||(Oc[0]=c,c=Oc);for(var g=0;g<c.length;g++){var h=M(b,c[g],d||a,e||l,a.fb||a);a.M.push(h)}return a}function Pc(a,b,c,d,e,g){if(la(c))for(var h=0;h<c.length;h++)Pc(a,b,c[h],d,e,g);else{a:{d=d||a;g=g||a.fb||a;e=!!e;if(b=Ic(b,c,e))for(c=0;c<b.length;c++)if(!b[c].Sb&&b[c].mc==d&&b[c].capture==e&&b[c].Qd==g){b=b[c];break a}b=k}b&&(b=b.key,Jc(b),Ra(a.M,b))}return a}function Qc(a){v(a.M,Jc);a.M.length=0}
Nc.prototype.o=function(){Nc.e.o.call(this);Qc(this)};Nc.prototype.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};function Rc(){L.call(this)}t(Rc,L);m=Rc.prototype;m.hg=j;m.de=k;m.xf=ba("de");m.addEventListener=function(a,b,c,d){M(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Hc(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=Dc;if(b in c){if(p(a))a=new uc(a,this);else if(a instanceof uc)a.target=a.target||this;else{var d=a,a=new uc(b,this);Lb(a,d)}var d=1,e,c=c[b],b=j in c,g;if(b){e=[];for(g=this;g;g=g.de)e.push(g);g=c[j];g.pa=g.N;for(var h=e.length-1;!a.Qb&&0<=h&&g.pa;h--)a.currentTarget=e[h],d&=Lc(g,e[h],a.type,j,a)&&a.ke!=l}if(l in c)if(g=c[l],g.pa=g.N,b)for(h=0;!a.Qb&&h<e.length&&g.pa;h++)a.currentTarget=e[h],d&=Lc(g,e[h],a.type,l,a)&&a.ke!=l;else for(e=this;!a.Qb&&e&&
g.pa;e=e.de)a.currentTarget=e,d&=Lc(g,e,a.type,l,a)&&a.ke!=l;a=Boolean(d)}else a=j;return a};m.o=function(){Rc.e.o.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Eb(Ec,function(d){for(var e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Jc(g.key),b++}});else{var d=qa(this);if(Ec[d])for(var d=Ec[d],e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Jc(g.key),b++}}this.de=k};function Sc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Sc.prototype.clone=function(){return new Sc(this.top,this.right,this.bottom,this.left)};Sc.prototype.contains=function(a){return!this||!a?l:a instanceof Sc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Tc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Tc.prototype.clone=function(){return new Tc(this.left,this.top,this.width,this.height)};Tc.prototype.contains=function(a){return a instanceof Tc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Uc(a,b,c){p(b)?Vc(a,c,b):Eb(b,va(Vc,a))}function Vc(a,b,c){a.style[Ga(c)]=b}function Wc(a,b){var c=Ob(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Xc(a,b){return a.currentStyle?a.currentStyle[b]:k}function Yc(a,b){return Wc(a,b)||Xc(a,b)||a.style&&a.style[b]}function Zc(a){return new Cb(a.offsetLeft,a.offsetTop)}
function $c(a){var b=a.getBoundingClientRect();w&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function ad(a){if(w&&!ub(8))return a.offsetParent;for(var b=Ob(a),c=Yc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Yc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function bd(a){var b,c=Ob(a),d=Yc(a,"position"),e=fb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Cb(0,0),h;b=c?Ob(c):document;if(h=w)if(h=!ub(9))h="CSS1Compat"!=Mb(b).U.compatMode;h=h?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=$c(a),a=fc(Mb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;
else{e=a;do{g.x+=e.offsetLeft;g.y+=e.offsetTop;e!=a&&(g.x+=e.clientLeft||0,g.y+=e.clientTop||0);if(gb&&"fixed"==Yc(e,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(eb||gb&&"absolute"==d)g.y-=c.body.offsetTop;for(e=a;(e=ad(e))&&e!=c.body&&e!=h;)if(g.x-=e.scrollLeft,!eb||"TR"!=e.tagName)g.y-=e.scrollTop}return g}function cd(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function dd(a,b){a.style.height=cd(b)}
function O(a){if("none"!=Yc(a,"display"))return ed(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=ed(a);b.display=c;b.position=e;b.visibility=d;return a}function ed(a){var b=a.offsetWidth,c=a.offsetHeight,d=gb&&!b&&!c;return(!ga(b)||d)&&a.getBoundingClientRect?(a=$c(a),new Db(a.right-a.left,a.bottom-a.top)):new Db(b,c)}
function fd(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function Q(a,b){a.style.display=b?"":"none"}function gd(a){return"rtl"==Yc(a,"direction")}var hd=fb?"MozUserSelect":gb?"WebkitUserSelect":k;
function id(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function jd(a,b){if(w){var c=id(a,Xc(a,b+"Left")),d=id(a,Xc(a,b+"Right")),e=id(a,Xc(a,b+"Top")),g=id(a,Xc(a,b+"Bottom"));return new Sc(e,d,g,c)}c=Wc(a,b+"Left");d=Wc(a,b+"Right");e=Wc(a,b+"Top");g=Wc(a,b+"Bottom");return new Sc(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var kd={thin:2,medium:4,thick:6};function ld(a,b){if("none"==Xc(a,b+"Style"))return 0;var c=Xc(a,b+"Width");return c in kd?kd[c]:id(a,c)}
function md(a){if(w){var b=ld(a,"borderLeft"),c=ld(a,"borderRight"),d=ld(a,"borderTop"),a=ld(a,"borderBottom");return new Sc(d,c,a,b)}b=Wc(a,"borderLeftWidth");c=Wc(a,"borderRightWidth");d=Wc(a,"borderTopWidth");a=Wc(a,"borderBottomWidth");return new Sc(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function nd(){}ja(nd);nd.prototype.Ni=0;nd.a();function R(a){L.call(this);this.Ab=a||Mb();this.Aa=od}t(R,Rc);R.prototype.Ai=nd.a();var od=k;function pd(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}f(Error("Invalid component state"))}m=R.prototype;m.ca=k;m.P=l;m.g=k;m.Aa=k;m.Ma=k;m.F=k;m.T=k;m.V=k;m.Th=l;
function qd(a){return a.ca||(a.ca=":"+(a.Ai.Ni++).toString(36))}m.b=ca("g");m.j=function(){return this.ic||(this.ic=new Nc(this))};m.ne=function(a){this==a&&f(Error("Unable to set parent component"));a&&(this.F&&this.ca&&this.F.V&&this.ca&&(this.ca in this.F.V&&this.F.V[this.ca])&&this.F!=a)&&f(Error("Unable to set parent component"));this.F=a;R.e.xf.call(this,a)};m.getParent=ca("F");m.xf=function(a){this.F&&this.F!=a&&f(Error("Method not supported"));R.e.xf.call(this,a)};m.Ka=ca("Ab");
m.K=function(){this.g=this.Ab.createElement("div")};function rd(a,b){a.P&&f(Error("Component already rendered"));a.g||a.K();b?b.insertBefore(a.g,k):a.Ab.U.body.appendChild(a.g);(!a.F||a.F.P)&&a.z()}m.i=function(a){this.P&&f(Error("Component already rendered"));if(a&&this.wb(a)){this.Th=j;if(!this.Ab||this.Ab.U!=Ob(a))this.Ab=Mb(a);this.w(a);this.z()}else f(Error("Invalid element to decorate"))};m.wb=da(j);m.w=ba("g");m.z=function(){this.P=j;sd(this,function(a){!a.P&&a.b()&&a.z()})};
m.Pc=function(){sd(this,function(a){a.P&&a.Pc()});this.ic&&Qc(this.ic);this.P=l};m.o=function(){R.e.o.call(this);this.P&&this.Pc();this.ic&&(this.ic.ha(),delete this.ic);sd(this,function(a){a.ha()});!this.Th&&this.g&&G(this.g);this.F=this.Ma=this.g=this.V=this.T=k};
function td(a,b){var c=a.T?a.T.length:0;b.P&&!a.P&&f(Error("Component already rendered"));(0>c||c>(a.T?a.T.length:0))&&f(Error("Child component index out of bounds"));if(!a.V||!a.T)a.V={},a.T=[];if(b.getParent()==a){var d=qd(b);a.V[d]=b;Ra(a.T,b)}else Jb(a.V,qd(b),b);b.ne(a);Va(a.T,c,0,b);b.P&&a.P&&b.getParent()==a?(d=a.Gb(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.P&&(!b.P&&b.g&&b.g.parentNode)&&b.z()}m.Gb=ca("g");m.Ng=function(){this.Aa==k&&(this.Aa=gd(this.P?this.g:this.Ab.U.body));return this.Aa};
m.Vb=function(a){this.P&&f(Error("Component already rendered"));this.Aa=a};function sd(a,b){a.T&&v(a.T,b,i)}m.removeChild=function(a,b){if(a){var c=p(a)?a:qd(a),a=this.V&&c?(c in this.V?this.V[c]:i)||k:k;c&&a&&(Ib(this.V,c),Ra(this.T,a),b&&(a.Pc(),a.g&&G(a.g)),a.ne(k))}a||f(Error("Child is not in parent component"));return a};function ud(){R.call(this)}t(ud,R);ud.prototype.K=function(){this.g=F("div",{id:"notify"})};ud.prototype.w=function(a){ud.e.w.call(this,a);vd.a().subscribe(wd,function(a,c,d,e,g){this.Bh(j,a,c,d,e,g)},this);vd.a().subscribe(xd,function(a,c,d,e,g){this.Bh(l,a,c,d,e,g)},this)};
ud.prototype.Bh=function(a,b,c,d,e,g){var h=I(mc,{action:b,content:c,l:d,Se:e,link:g}),q=D("image",h);D("close",h);N(N(N(this.j(),D("close",h),"click",function(a){a.preventDefault();a.stopPropagation();G(h)}),h,"click",function(a){a.preventDefault();a.stopPropagation();G(h)}),q,"load",function(){Q(q,j);S(function(){q.style.marginLeft=-1*q.clientWidth/2+"px";q.style.marginTop=-1*q.clientHeight/2+"px"})});this.b().appendChild(h);var u=D("note",h);S(function(){u&&(x(u,"show"),a?S(function(){y(u,"show");
x(u,"fade-out");S(function(){G(h)},5100)},3E3):S(function(){x(u,"dim")},3E3))})};function T(){L.call(this);this.Na=[];this.td={}}t(T,L);m=T.prototype;m.Qg=1;m.fe=0;m.subscribe=function(a,b,c){var d=this.td[a];d||(d=this.td[a]=[]);var e=this.Qg;this.Na[e]=a;this.Na[e+1]=b;this.Na[e+2]=c;this.Qg=e+3;d.push(e);return e};m.Fj=function(a){if(0!=this.fe)this.bd||(this.bd=[]),this.bd.push(a);else{var b=this.Na[a];b&&((b=this.td[b])&&Ra(b,a),delete this.Na[a],delete this.Na[a+1],delete this.Na[a+2])}};
m.c=function(a,b){var c=this.td[a];if(c){this.fe++;for(var d=Wa(arguments,1),e=0,g=c.length;e<g;e++){var h=c[e];this.Na[h+1].apply(this.Na[h+2],d)}this.fe--;if(this.bd&&0==this.fe)for(;c=this.bd.pop();)this.Fj(c)}};m.o=function(){T.e.o.call(this);delete this.Na;delete this.td;delete this.bd};function vd(){T.call(this)}t(vd,T);ja(vd);var wd="flash",xd="show";function yd(a){this.id=a.id;this.I=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function zd(a){T.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.jc=a.host_id;this.zi="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.live=!!a.live;this.ff=[];this.ej=k;this.pg=l;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.Y=a.publisher&&new yd(a.publisher);this.Rb=a.published&&Ad(a.published+"Z");this.Za="http://i.ytimg.com/vi/"+this.jc+"/0.jpg";this.Ff="http://i.ytimg.com/vi/"+this.jc+"/1.jpg";this.Ik="http://i.ytimg.com/vi/"+
this.jc+"/2.jpg";this.Jk="http://i.ytimg.com/vi/"+this.jc+"/3.jpg";this.Hk=new Db(480,360);this.Ih=37;this.Ta=[];this.Oh=[];this.Jc=a.comment_count||0;this.Gk=a.star_count||0;this.Gi=a.like_count||0;this.qk=a.dislike_count||0;this.me=[];this.pb={};this.ei=a.collection_id;this.subscribe(Bd,this.bb,this);this.subscribe(Cd,this.jj,this);this.subscribe(Dd,this.ze,this)}t(zd,T);function Ed(a){return a.Rb.getMonth()+1+"/"+a.Rb.getDate()+"/"+a.Rb.getYear()}var Bd="add-comment",Cd="remove-comment",Dd="watching";
zd.prototype.we=function(a){Oa(this.ff,function(b){return a.id==b.id})||this.ff.push(a)};zd.prototype.bb=function(a){if(a.D){var b=Oa(this.Ta,function(b){return b.id==a.D});b&&b.he.push(a)}else this.Ta.push(a);this.Jc+=1;a.l.id!=U.a().h.id&&vd.a().c(xd,"commented on "+this.name,a.text,a.l,a.l.I,"#info:"+this.id)};zd.prototype.jj=function(a){V("/_comment",Fd(),"POST","delete=true&id="+a);Sa(this.Ta,function(b){return b.id==a});this.Jc-=1};
zd.prototype.ze=function(a,b,c){c?(Ib(this.pb,a.id),a.Ha=k):(this.pb[a.id]=a,a.Ha=this,a.id!=U.a().h.id&&vd.a().c(wd,"is watching "+(b?b.name:""),this.name,a,this.Ff,"#info:"+this.id))};function Gd(){T.call(this);this.bf={}}t(Gd,T);ja(Gd);function Hd(a,b){var c=a.get(b.id);c||(c=new zd(b),a.add(c));return c}Gd.prototype.get=function(a){return a in this.bf?this.bf[a]:i};Gd.prototype.add=function(a){this.bf[a.id]=a};var Id={Pj:["BC","AD"],Oj:["Before Christ","Anno Domini"],Rj:"JFMAMJJASOND".split(""),Zj:"JFMAMJJASOND".split(""),Qj:"January February March April May June July August September October November December".split(" "),Yj:"January February March April May June July August September October November December".split(" "),Vj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ak:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ek:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
ck:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Xj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),bk:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Sj:"SMTWTFS".split(""),$j:"SMTWTFS".split(""),Wj:["Q1","Q2","Q3","Q4"],Uj:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Mj:["AM","PM"],Nj:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],dk:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Uh:6,fk:[5,6],Vh:5};var Jd=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,Kd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,Ld=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function Ad(a){var b=new Md(2E3),a=ya(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(Jd);if(d){var e=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var q=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new Nd(Od,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new Nd(Od,(4>=d?1-d:8-d)+(Number(q)+7*(Number(c)-1))-1))):(e&&(b.setDate(1),b.setMonth(e-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(Ld),q=0,c&&("Z"!=
c[0]&&(q=60*c[2]+Number(c[3]),q*="-"==c[1]?1:-1),q-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(Kd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=q&&b.setTime(b.getTime()+6E4*q),c=j):c=l;return c?b:k}
function Nd(a,b,c,d,e,g){p(a)?(this.Ea=a==Pd?b:0,this.za=a==Qd?b:0,this.va=a==Od?b:0,this.la=a==Rd?b:0,this.na=a==Sd?b:0,this.qa=a==Td?b:0):(this.Ea=a||0,this.za=b||0,this.va=c||0,this.la=d||0,this.na=e||0,this.qa=g||0)}
Nd.prototype.sd=function(a){var b=Math.min(this.Ea,this.za,this.va,this.la,this.na,this.qa),c=Math.max(this.Ea,this.za,this.va,this.la,this.na,this.qa);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Ea||a)&&c.push(Math.abs(this.Ea)+"Y");(this.za||a)&&c.push(Math.abs(this.za)+"M");(this.va||a)&&c.push(Math.abs(this.va)+"D");if(this.la||this.na||this.qa||a)c.push("T"),(this.la||a)&&c.push(Math.abs(this.la)+"H"),(this.na||a)&&c.push(Math.abs(this.na)+"M"),
(this.qa||a)&&c.push(Math.abs(this.qa)+"S");return c.join("")};Nd.prototype.clone=function(){return new Nd(this.Ea,this.za,this.va,this.la,this.na,this.qa)};var Pd="y",Qd="m",Od="d",Rd="h",Sd="n",Td="s";Nd.prototype.add=function(a){this.Ea+=a.Ea;this.za+=a.za;this.va+=a.va;this.la+=a.la;this.na+=a.na;this.qa+=a.qa};
function Ud(a,b,c){na(a)?(this.n=new Date(a,b||0,c||1),Vd(this,c||1)):pa(a)?(this.n=new Date(a.getFullYear(),a.getMonth(),a.getDate()),Vd(this,a.getDate())):(this.n=new Date(s()),this.n.setHours(0),this.n.setMinutes(0),this.n.setSeconds(0),this.n.setMilliseconds(0))}m=Ud.prototype;m.Ld=Id.Uh;m.Md=Id.Vh;m.clone=function(){var a=new Ud(this.n);a.Ld=this.Ld;a.Md=this.Md;return a};m.getFullYear=function(){return this.n.getFullYear()};m.getYear=function(){return this.getFullYear()};m.getMonth=function(){return this.n.getMonth()};
m.getDate=function(){return this.n.getDate()};m.getTime=function(){return this.n.getTime()};m.getDay=function(){return this.n.getDay()};m.getUTCHours=function(){return this.n.getUTCHours()};m.getTimezoneOffset=function(){return this.n.getTimezoneOffset()};function Wd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Fa(c)+":"+Fa(b);return a}m.set=function(a){this.n=new Date(a.getFullYear(),a.getMonth(),a.getDate())};m.setFullYear=function(a){this.n.setFullYear(a)};
m.setMonth=function(a){this.n.setMonth(a)};m.setDate=function(a){this.n.setDate(a)};m.setTime=function(a){this.n.setTime(a)};
m.add=function(a){if(a.Ea||a.za){var b=this.getMonth()+a.za+12*a.Ea,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.va&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.va),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),Vd(this,a.getDate()))};m.sd=function(a,b){return[this.getFullYear(),Fa(this.getMonth()+1),Fa(this.getDate())].join(a?"-":"")+(b?Wd(this):"")};m.toString=function(){return this.sd()};function Vd(a,b){a.getDate()!=b&&a.n.setUTCHours(a.n.getUTCHours()+(a.getDate()<b?1:-1))}m.valueOf=function(){return this.n.valueOf()};function Md(a,b,c,d,e,g,h){this.n=na(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():s())}t(Md,Ud);m=Md.prototype;m.getHours=function(){return this.n.getHours()};
m.getMinutes=function(){return this.n.getMinutes()};m.getSeconds=function(){return this.n.getSeconds()};m.getUTCHours=function(){return this.n.getUTCHours()};m.setHours=function(a){this.n.setHours(a)};m.setMinutes=function(a){this.n.setMinutes(a)};m.setSeconds=function(a){this.n.setSeconds(a)};m.setMilliseconds=function(a){this.n.setMilliseconds(a)};m.setUTCHours=function(a){this.n.setUTCHours(a)};
m.add=function(a){Ud.prototype.add.call(this,a);a.la&&this.setHours(this.n.getHours()+a.la);a.na&&this.setMinutes(this.n.getMinutes()+a.na);a.qa&&this.setSeconds(this.n.getSeconds()+a.qa)};m.sd=function(a,b){var c=Ud.prototype.sd.call(this,a);return a?c+" "+Fa(this.getHours())+":"+Fa(this.getMinutes())+":"+Fa(this.getSeconds())+(b?Wd(this):""):c+"T"+Fa(this.getHours())+Fa(this.getMinutes())+Fa(this.getSeconds())+(b?Wd(this):"")};m.toString=function(){return this.sd()};
m.clone=function(){var a=new Md(this.n);a.Ld=this.Ld;a.Md=this.Md;return a};function Xd(a,b){T.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?Hd(Gd.a(),d.media):c;Gd.a().add(this.media);this.time=d?Ad(d.time+"Z"):new Md;this.async=d?d.async:j;this.seek=d?d.seek:k}t(Xd,T);function Yd(a){return new Xd(i,a)};function Zd(a){T.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.Jj=a.welcomed;this.sc=a.online;this.pk=a.demo;this.Ha=a.last_seen?Hd(zd.a(),a.last_seen):k;this.history=[];this.Ch=[];this.I=xa("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.Wh=a.access_level;this.gk=[];this.s=a.last_login?Ad(a.last_login+"Z"):k;this.Dk=a.session_count;
this.ik=a.ave_session?a.ave_session.toFixed(2):k;this.Ek=a.show_guide!=i?a.show_guide:j;this.Fk=a.show_sidebar!=i?a.show_sidebar:j;this.gj=a.post_facebook!=i?a.post_facebook:j;this.qh=a.post_twitter!=i?a.post_twitter:j;this.subscribe($d,function(){this.qh=j},this)}t(Zd,T);function ae(){return U.a().h.Wh==be}Zd.prototype.Rc=function(){var a=this.name.split(" ");return a&&a.length?a[0]:this.name};function ce(a,b){return Oa(a.Ch,function(a){return a.id==b.id})}var $d="twitter-auth",be=2;function de(a,b,c,d,e){this.id=a;this.l=b;this.J=c;this.Cj=d;this.pe=e||k;this.Zg=[]}de.prototype.me=function(a){this.Zg.push(a);this.J&&(this.J.S&&this.J.O)&&(this.J.O.seek=k,this.J.O=k);V("/_seen",Fd(),"POST","media_id="+a.id+"&session_id="+this.id+"&async="+(this.J?this.J.S:l))};
de.prototype.end=function(a){this.pe=a;a=(this.pe.getTime()-this.Cj.getTime())/1E3;if(this.l.id==U.a().h.id&&this.J){ee.a();var b=this.J,c=this.Zg.length;U.a().jf.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",U.a().h.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",U.a().h.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",U.a().h.id,c]);_gaq.push(["_trackEvent","Users","Active",U.a().h.id,c]);_gaq.push(["_trackEvent","Users",b.id+
"-time",U.a().h.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",U.a().h.id,c]);b.S||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))}};function fe(a){T.call(this);this.id=a.id;this.name=a.name;this.S=a.my_channel;this.Ha=a.current_media?Hd(Gd.a(),a.current_media):k;this.ok=a.current_seek;this.qb=[];this.fd={};this.O=a.current_program&&new Xd(a.current_program);this.Bd=[];this.queue=[];this.La=0;this.sc=a.online!=i?a.online:k;this.subscribe(ge,this.ye,this);this.subscribe(he,this.Yh,this);this.subscribe(ie,this.ze,this);this.subscribe(je,this.Gj,this)}t(fe,T);m=fe.prototype;
m.ye=function(a){this.qb.push(a);this.fd[a.id]=a;a.time.getTime()+1E3*a.media.duration>this.La&&(this.La=a.time.getTime()+1E3*a.media.duration-12E4,ke(le.a(),this.La,r(this.$e,this,this.La)),ke(le.a(),this.La+6E4,r(this.$e,this,this.La+6E4)))};m.$e=function(a){this.La<=a&&!this.S&&V("/_programming/"+this.id,r(function(a){a=W(a.target);a.length||ke(le.a(),s()+1E3,r(this.$e,this,s()+1E3));v(a,function(a){if(!this.fd[a.id]){var b=this.fd[a.id];b||(b=new Xd(a),this.ye(b));this.c(ge,b)}},this)},this))};
m.Yh=function(a,b){b?(this.queue.push(a),vd.a().c(wd,"Added to queue",a.name,i,a.Ff,"#info:"+a.id),me(ee.a(),a),V("/_queue",Fd(),"POST","media_id="+a.id)):(Sa(this.queue,function(b){return b.id==a.id},this),V("/_queue",Fd(),"POST","media_id="+a.id+"&delete=1"))};m.ze=function(a){this.Bd.push(a)};m.Gj=function(a){var b=a.id in this.fd?this.fd[a.id]:i;b&&(b.time=Ad(a.time+"Z"))};
m.Q=function(a){if(this.O&&this.O.async&&this.O.seek)return this.O;if(!this.qb.length)return k;var b=this.O;b||(b=this.qb[0],this.cc=0);if(a)return this.qb[this.cc+a];if(!this.S&&s()>=b.time.getTime()&&s()<b.time.getTime()+1E3*b.media.duration)return this.O=b;for(;s()>b.time.getTime()&&s()>=b.time.getTime()+1E3*b.media.duration;){this.O||(this.O=this.qb[0],this.cc=0);this.qb.length>=this.cc+1?(this.cc++,a=this.qb[this.cc],a=this.O=this.S?a&&a.seek?a:k:this.qb[this.cc]):a=k;if(this.S){if(a&&a.async&&
a.seek)return this.O=a;if(!a)if(this.queue.length){a=this.queue[0];this.c(he,a,l);var c=Yd(a);ne().c(ge,c);V("/_addprogram",Fd(),"POST","channel_id="+X.a().S.id+"&media_id="+a.id+"&now=true");a=c}else a=k}if(!a)break;b=a}return s()>=b.time.getTime()&&s()<b.time.getTime()+1E3*b.media.duration?this.O=b:k};var ge="add-program",he="add-queue",ie="add-viewer",je="update-program";function U(){T.call(this);this.Rh={};this.ug=l;this.Ne=[];this.jf=[];this.subscribe(oe,function(a,b){a.sc=b},this)}t(U,T);ja(U);U.prototype.add=function(a){this.Rh[a.id]=a};U.prototype.get=function(a){return this.Rh[a]};function pe(a,b){var c=a.get(b.id);c||(c=new Zd(b),a.add(c));c.sc=b.online;c.Ha=b.last_seen?Hd(Gd.a(),b.last_seen):c.Ha;return c}var oe="online";function qe(a,b){L.call(this);this.ma=a||1;this.rd=b||re;this.Ce=r(this.xj,this);this.Ye=s()}t(qe,Rc);qe.prototype.enabled=l;var re=n.window;m=qe.prototype;m.Yb=k;m.xj=function(){if(this.enabled){var a=s()-this.Ye;0<a&&a<0.8*this.ma?this.Yb=this.rd.setTimeout(this.Ce,this.ma-a):(this.dispatchEvent(se),this.enabled&&(this.Yb=this.rd.setTimeout(this.Ce,this.ma),this.Ye=s()))}};m.start=function(){this.enabled=j;this.Yb||(this.Yb=this.rd.setTimeout(this.Ce,this.ma),this.Ye=s())};
m.stop=function(){this.enabled=l;this.Yb&&(this.rd.clearTimeout(this.Yb),this.Yb=k)};m.o=function(){qe.e.o.call(this);this.stop();delete this.rd};var se="tick";function S(a,b,c){oa(a)?c&&(a=r(a,c)):a&&"function"==typeof a.handleEvent?a=r(a.handleEvent,a):f(Error("Invalid listener argument"));return 2147483647<b?-1:re.setTimeout(a,b||0)};function te(a){if("function"==typeof a.Nd)return a.Nd();if(p(a))return a.split("");if(ma(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Fb(a)}function ue(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ma(a)||p(a))v(a,b,c);else{var d;if("function"==typeof a.Oe)d=a.Oe();else if("function"!=typeof a.Nd)if(ma(a)||p(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Gb(a);else d=i;for(var e=te(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function ve(a,b){this.Mb={};this.M=[];var c=arguments.length;if(1<c){c%2&&f(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof ve?(c=a.Oe(),d=a.Nd()):(c=Gb(a),d=Fb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}m=ve.prototype;m.N=0;m.Ij=0;m.Nd=function(){we(this);for(var a=[],b=0;b<this.M.length;b++)a.push(this.Mb[this.M[b]]);return a};m.Oe=function(){we(this);return this.M.concat()};
function we(a){if(a.N!=a.M.length){for(var b=0,c=0;b<a.M.length;){var d=a.M[b];Object.prototype.hasOwnProperty.call(a.Mb,d)&&(a.M[c++]=d);b++}a.M.length=c}if(a.N!=a.M.length){for(var e={},c=b=0;b<a.M.length;)d=a.M[b],Object.prototype.hasOwnProperty.call(e,d)||(a.M[c++]=d,e[d]=1),b++;a.M.length=c}}m.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.Mb,a)?this.Mb[a]:b};
m.set=function(a,b){Object.prototype.hasOwnProperty.call(this.Mb,a)||(this.N++,this.M.push(a),this.Ij++);this.Mb[a]=b};m.clone=function(){return new ve(this)};function xe(a){return ye(a||arguments.callee.caller,[])}
function ye(a,b){var c=[];if(Qa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(ze(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=ze(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(ye(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function ze(a){if(Ae[a])return Ae[a];a=String(a);if(!Ae[a]){var b=/function ([^\(]+)/.exec(a);Ae[a]=b?b[1]:"[Anonymous]"}return Ae[a]}var Ae={};function Be(a,b,c,d,e){this.reset(a,b,c,d,e)}Be.prototype.oj=0;Be.prototype.lg=k;Be.prototype.kg=k;var Ce=0;Be.prototype.reset=function(a,b,c,d,e){this.oj="number"==typeof e?e:Ce++;this.Kk=d||s();this.Xc=a;this.Li=b;this.zk=c;delete this.lg;delete this.kg};Be.prototype.wh=ba("Xc");function De(a){this.Mi=a}De.prototype.F=k;De.prototype.Xc=k;De.prototype.T=k;De.prototype.Dg=k;function Ee(a,b){this.name=a;this.value=b}Ee.prototype.toString=ca("name");var Fe=new Ee("SEVERE",1E3),Ge=new Ee("WARNING",900),He=new Ee("INFO",800),Ie=new Ee("CONFIG",700),Je=new Ee("FINE",500);m=De.prototype;m.getParent=ca("F");m.vg=function(){this.T||(this.T={});return this.T};m.wh=ba("Xc");function Ke(a){return a.Xc?a.Xc:a.F?Ke(a.F):k}
m.log=function(a,b,c){if(a.value>=Ke(this).value){a=this.qi(a,b,c);b="log:"+a.Li;n.console&&(n.console.timeStamp?n.console.timeStamp(b):n.console.markTimeline&&n.console.markTimeline(b));n.msWriteProfilerMark&&n.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Dg)for(var e=0,g=i;g=c.Dg[e];e++)g(d);b=b.getParent()}}};
m.qi=function(a,b,c){var d=new Be(a,String(b),this.Mi);if(c){d.lg=c;var e;var g=arguments.callee.caller;try{var h;var q=ha("window.location.href");if(p(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:q,stack:"Not available"};else{var u,B,K=l;try{u=c.lineNumber||c.yk||"Not available"}catch(P){u="Not available",K=j}try{B=c.fileName||c.filename||c.sourceURL||q}catch(mb){B="Not available",K=j}h=K||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:u,
fileName:B,stack:c.stack||"Not available"}:c}e="Message: "+za(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+za(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+za(xe(g)+"-> ")}catch(Ja){e="Exception trying to expose exception! You win, we lose. "+Ja}d.kg=e}return d};function Le(a,b){a.log(Fe,b,i)}m.info=function(a,b){this.log(He,a,b)};function Me(a,b){a.log(Je,b,i)}var Ne={},Oe=k;
function Pe(a){Oe||(Oe=new De(""),Ne[""]=Oe,Oe.wh(Ie));var b;if(!(b=Ne[a])){b=new De(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Pe(a.substr(0,c));c.vg()[d]=b;b.F=c;Ne[a]=b}return b};function Qe(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}f(Error("Invalid JSON string: "+a))};function Re(){}Re.prototype.Ed=k;var Se;function Te(){}t(Te,Re);function Ue(a){return(a=Ve(a))?new ActiveXObject(a):new XMLHttpRequest}function We(a){var b={};Ve(a)&&(b[0]=j,b[1]=j);return b}
function Ve(a){if(!a.Gg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Gg=d}catch(e){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Gg}Se=new Te;var Xe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Ye(a){L.call(this);this.headers=new ve;this.Cc=a||k}t(Ye,Rc);Ye.prototype.u=Pe("goog.net.XhrIo");var Ze=/^https?$/i,$e=[];function V(a,b,c,d){var e=new Ye;$e.push(e);b&&M(e,"complete",b);M(e,"ready",va(af,e));e.send(a,c,d,i)}function af(a){a.ha();Ra($e,a)}m=Ye.prototype;m.ab=l;m.q=k;m.ue=k;m.Wc="";m.Sg="";m.Uc=0;m.Vc="";m.Ke=l;m.Rd=l;m.Te=l;m.Hb=l;m.oe=0;m.Xb=k;m.je="";m.Lj=l;
m.send=function(a,b,c,d){this.q&&f(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Wc=a;this.Vc="";this.Uc=0;this.Sg=b;this.Ke=l;this.ab=j;this.q=this.Cc?Ue(this.Cc):Ue(Se);this.ue=this.Cc?this.Cc.Ed||(this.Cc.Ed=We(this.Cc)):Se.Ed||(Se.Ed=We(Se));this.q.onreadystatechange=r(this.mh,this);try{Me(this.u,bf(this,"Opening Xhr")),this.Te=j,this.q.open(b,a,j),this.Te=l}catch(e){Me(this.u,bf(this,"Error opening Xhr: "+e.message));cf(this,e);return}var a=c||
"",g=this.headers.clone();d&&ue(d,function(a,b){g.set(b,a)});d=n.FormData&&a instanceof n.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.Mb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");ue(g,function(a,b){this.q.setRequestHeader(b,a)},this);this.je&&(this.q.responseType=this.je);"withCredentials"in this.q&&(this.q.withCredentials=this.Lj);try{this.Xb&&(re.clearTimeout(this.Xb),this.Xb=k),0<this.oe&&(Me(this.u,bf(this,"Will abort after "+
this.oe+"ms if incomplete")),this.Xb=re.setTimeout(r(this.yj,this),this.oe)),Me(this.u,bf(this,"Sending request")),this.Rd=j,this.q.send(a),this.Rd=l}catch(h){Me(this.u,bf(this,"Send error: "+h.message)),cf(this,h)}};m.yj=function(){"undefined"!=typeof ea&&this.q&&(this.Vc="Timed out after "+this.oe+"ms, aborting",this.Uc=8,Me(this.u,bf(this,this.Vc)),this.dispatchEvent("timeout"),this.abort(8))};function cf(a,b){a.ab=l;a.q&&(a.Hb=j,a.q.abort(),a.Hb=l);a.Vc=b;a.Uc=5;df(a);ef(a)}
function df(a){a.Ke||(a.Ke=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}m.abort=function(a){this.q&&this.ab&&(Me(this.u,bf(this,"Aborting")),this.ab=l,this.Hb=j,this.q.abort(),this.Hb=l,this.Uc=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ef(this))};m.o=function(){this.q&&(this.ab&&(this.ab=l,this.Hb=j,this.q.abort(),this.Hb=l),ef(this,j));Ye.e.o.call(this)};m.mh=function(){!this.Te&&!this.Rd&&!this.Hb?this.Xi():ff(this)};m.Xi=function(){ff(this)};
function ff(a){if(a.ab&&"undefined"!=typeof ea)if(a.ue[1]&&4==gf(a)&&2==hf(a))Me(a.u,bf(a,"Local request error detected and ignored"));else if(a.Rd&&4==gf(a))re.setTimeout(r(a.mh,a),0);else if(a.dispatchEvent("readystatechange"),4==gf(a)){Me(a.u,bf(a,"Request complete"));a.ab=l;try{var b=hf(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var e;if(e=0===b){var g=String(a.Wc).match(Xe)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);e=!Ze.test(g?g.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Uc=6;var q;try{q=2<gf(a)?a.q.statusText:""}catch(u){Me(a.u,"Can not get status: "+u.message),q=""}a.Vc=q+" ["+hf(a)+"]";df(a)}}finally{ef(a)}}}
function ef(a,b){if(a.q){var c=a.q,d=a.ue[0]?ia:k;a.q=k;a.ue=k;a.Xb&&(re.clearTimeout(a.Xb),a.Xb=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){Le(a.u,"Problem encountered resetting onreadystatechange: "+e.message)}}}m.gb=function(){return!!this.q};function gf(a){return a.q?a.q.readyState:0}function hf(a){try{return 2<gf(a)?a.q.status:-1}catch(b){return a.u.log(Ge,"Can not get status: "+b.message,i),-1}}function W(a){if(a.q)return Qe(a.q.responseText)}
function jf(a){try{if(!a.q)return k;if("response"in a.q)return a.q.response;switch(a.je){case "":case "text":return a.q.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.q)return a.q.mozResponseArrayBuffer}Le(a.u,"Response type "+a.je+" is not supported on this browser");return k}catch(b){return Me(a.u,"Can not get response: "+b.message),k}}function bf(a,b){return b+" ["+a.Sg+" "+a.Wc+" "+hf(a)+"]"};function X(){T.call(this);this.Ic=[];this.ac={};this.subscribe(kf,this.Gc,this);this.subscribe(lf,this.Mf,this)}t(X,T);ja(X);m=X.prototype;m.get=function(a){return this.ac[a]};function mf(a){if(a.G&&a.G.Q())return a.G;if(a.Vd&&a.Vd.Q())return a.Vd;for(var b=k,c=k,d=0;!c&&d<a.Ic.length;)c=(b=!a.Ic[d].S?a.Ic[d]:k)&&b.Q(),d++;return b}m.Ze=function(a){Eb(a,r(function(a){this.we(a)},this))};m.we=function(a){var b=new fe(a);this.Ic.push(b);this.ac[a.id]=b;b.S&&(this.S=b);this.c(nf,b);return b};
m.Gc=function(a,b){if(a&&!this.G||a&&this.G&&this.G.id!=a.id){this.Vd=this.G;this.G=a;this.Mf(a.Q());var c=a.Q(),c=c&&!Hb(c.media.pb);V("/_changechannel",Fd(),"POST","channel="+a.id+"&friends="+c+(b?"&forced=true":""));ee.a().Gc(a,this.Vd)}};m.Mf=function(a){this.G&&(this.r&&v(this.G.Bd,function(a){Ib(this.r.media.pb,a.l.id)},this),a&&(this.r=a,v(this.G.Bd,function(b){b.pe||(a.media.pb[b.l.id]=b.l)})))};
function ne(){var a=X.a();if(!a.S){var b=U.a().h;a.S=new fe({id:b.id,name:b.name.split(" ")[0]+"'s Channel"})}return a.S}var kf="change-channel",lf="next-program",nf="add-channel";function of(){T.call(this);this.subscribe(pf,function(a){ne().c(ge,a);V("/_addprogram",Fd(),"POST","channel_id="+X.a().S.id+"&media_id="+a.media.id+"&async=true");me(ee.a(),a.media)},this);this.subscribe(qf,function(a){V("/_started",Fd(),"POST","media_id="+a.id)},this)}t(of,T);ja(of);of.prototype.Q=ca("r");of.prototype.getCurrentTime=function(){return this.p&&this.p.getCurrentTime?this.p.getCurrentTime():0};of.prototype.wg=function(){return this.p&&this.p.getCurrentTime?this.p.getCurrentTime():0};
var pf="play-async",qf="playing";function rf(){L.call(this);this.k=sf;this.Oc=this.startTime=k}t(rf,Rc);var sf=0;rf.prototype.nb=function(){this.ga("begin")};rf.prototype.ob=function(){this.ga("end")};rf.prototype.ga=function(a){this.dispatchEvent(a)};function tf(){rf.call(this);this.queue=[]}t(tf,rf);tf.prototype.add=function(a){Qa(this.queue,a)||(this.queue.push(a),M(a,"finish",this.Oi,l,this))};tf.prototype.o=function(){v(this.queue,function(a){a.ha()});this.queue.length=0;tf.e.o.call(this)};function uf(){tf.call(this);this.ua=0}t(uf,tf);
uf.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.k==sf)this.ua<this.queue.length&&this.queue[this.ua].k!=sf&&this.queue[this.ua].stop(l),this.ua=0,this.nb();else if(1==this.k)return l;this.ga("play");-1==this.k&&this.ga("resume");this.startTime=s();this.Oc=k;this.k=1;this.queue[this.ua].play(a);return j};
uf.prototype.stop=function(a){this.k=sf;this.Oc=s();if(a)for(a=this.ua;a<this.queue.length;++a){var b=this.queue[a];b.k==sf&&b.play();b.k==sf||b.stop(j)}else this.ua<this.queue.length&&this.queue[this.ua].stop(l);this.ga("stop");this.ob()};uf.prototype.Oi=function(){1==this.k&&(this.ua++,this.ua<this.queue.length?this.queue[this.ua].play():(this.Oc=s(),this.k=sf,this.ga("finish"),this.ob()))};function vf(a,b,c){L.call(this);this.nc=a;this.ma=b||0;this.fb=c;this.bi=r(this.hi,this)}t(vf,L);m=vf.prototype;m.ca=0;m.o=function(){vf.e.o.call(this);this.stop();delete this.nc;delete this.fb};m.start=function(a){this.stop();this.ca=S(this.bi,ga(a)?a:this.ma)};m.stop=function(){this.gb()&&re.clearTimeout(this.ca);this.ca=0};m.gb=function(){return 0!=this.ca};m.hi=function(){this.ca=0;this.nc&&this.nc.call(this.fb)};var Fd;Fd=da(k);var wf={},xf=k;function yf(a){a=qa(a);delete wf[a];Hb(wf)&&xf&&xf.stop()}function zf(){xf||(xf=new vf(function(){var a=s();Eb(wf,function(c){Af(c,a)});Hb(wf)||zf()},20));var a=xf;a.gb()||a.start()};function Bf(a,b,c,d){rf.call(this);(!la(a)||!la(b))&&f(Error("Start and end parameters must be arrays"));a.length!=b.length&&f(Error("Start and end points must be the same length"));this.od=a;this.ki=b;this.duration=c;this.Pf=d;this.coords=[];this.yd=l}t(Bf,rf);m=Bf.prototype;m.rg=0;m.oa=0;m.Xe=k;
m.play=function(a){if(a||this.k==sf)this.oa=0,this.coords=this.od;else if(1==this.k)return l;yf(this);this.startTime=a=s();-1==this.k&&(this.startTime-=this.duration*this.oa);this.Oc=this.startTime+this.duration;this.Xe=this.startTime;this.oa||this.nb();this.ga("play");-1==this.k&&this.ga("resume");this.k=1;var b=qa(this);b in wf||(wf[b]=this);zf();Af(this,a);return j};m.stop=function(a){yf(this);this.k=sf;a&&(this.oa=1);Cf(this,this.oa);this.ga("stop");this.ob()};m.wg=ca("oa");
m.o=function(){this.k==sf||this.stop(l);this.ga("destroy");Bf.e.o.call(this)};function Af(a,b){a.oa=(b-a.startTime)/(a.Oc-a.startTime);1<=a.oa&&(a.oa=1);a.rg=1E3/(b-a.Xe);a.Xe=b;Cf(a,a.oa);1==a.oa?(a.k=sf,yf(a),a.ga("finish"),a.ob()):1==a.k&&a.ef()}function Cf(a,b){oa(a.Pf)&&(b=a.Pf(b));a.coords=Array(a.od.length);for(var c=0;c<a.od.length;c++)a.coords[c]=(a.ki[c]-a.od[c])*b+a.od[c]}m.ef=function(){this.ga("animate")};m.ga=function(a){this.dispatchEvent(new Df(a,this))};
function Df(a,b){uc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.Pk=b.coords[2];this.duration=b.duration;this.oa=b.wg();this.xk=b.rg;this.state=b.k;this.hk=b}t(Df,uc);function Ef(a,b,c,d,e){Bf.call(this,b,c,d,e);this.element=a}t(Ef,Bf);m=Ef.prototype;m.xd=ia;m.Ng=function(){ga(this.Aa)||(this.Aa=gd(this.element));return this.Aa};m.ef=function(){this.xd();Ef.e.ef.call(this)};m.ob=function(){this.xd();Ef.e.ob.call(this)};m.nb=function(){this.xd();Ef.e.nb.call(this)};function Ff(a,b,c,d,e){(2!=b.length||2!=c.length)&&f(Error("Start and end points must be 2D"));Ef.apply(this,arguments)}t(Ff,Ef);
Ff.prototype.xd=function(){if(this.yd){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=gd(a)?fb?-b:!w||!sb("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function Gf(a,b,c,d,e){na(b)&&(b=[b]);na(c)&&(c=[c]);Ef.call(this,a,b,c,d,e);(1!=b.length||1!=c.length)&&f(Error("Start and end points must be 1D"))}t(Gf,Ef);Gf.prototype.xd=function(){fd(this.element,this.coords[0])};
Gf.prototype.show=function(){this.element.style.display=""};Gf.prototype.hide=function(){this.element.style.display="none"};function Hf(a,b,c){Gf.call(this,a,1,0,b,c)}t(Hf,Gf);Hf.prototype.nb=function(){this.show();Hf.e.nb.call(this)};Hf.prototype.ob=function(){this.hide();Hf.e.ob.call(this)};function If(a,b,c){Gf.call(this,a,0,1,b,c)}t(If,Gf);If.prototype.nb=function(){this.show();If.e.nb.call(this)};function Jf(a){return a*a*a}function Kf(a){return 1-Math.pow(1-a,3)};function Lf(a,b,c,d,e){if(!w&&(!gb||!sb("525")))return j;if(ib&&e)return Mf(a);if(e&&!d||!c&&(17==b||18==b)||w&&d&&b==a)return l;switch(a){case 13:return!(w&&ub(9));case 27:return!gb}return Mf(a)}function Mf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||gb&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Nf(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Of(){}var Pf;ja(Of);m=Of.prototype;m.hc=aa();m.K=function(a){var b=a.Ka().K("div",Qf(this,a).join(" "),a.Ga);Rf(this,a,b);return b};m.Gb=function(a){return a};m.Nc=function(a,b,c){if(a=a.b?a.b():a)if(w&&!sb("7")){var d=Sf(Ab(a),b);d.push(b);va(c?x:y,a).apply(k,d)}else A(a,b,c)};m.wb=da(j);
m.i=function(a,b){if(b.id){var c=b.id;a.F&&a.F.V&&(Ib(a.F.V,a.ca),Jb(a.F.V,c,a));a.ca=c}(c=this.Gb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Ta(c.childNodes):c.firstChild,a.Ga=c):a.Ga=k;var d=0,e=this.ba(),g=this.ba(),h=l,q=l,c=l,u=Ab(b);v(u,function(a){if(!h&&a==e)h=j,g==e&&(q=j);else if(!q&&a==g)q=j;else{var b=d;if(!this.Fh){this.Gd||Tf(this);var c=this.Gd,u={},B;for(B in c)u[c[B]]=B;this.Fh=u}a=parseInt(this.Fh[a],10);d=b|(isNaN(a)?0:a)}},this);a.k=d;h||(u.push(e),g==e&&(q=j));q||u.push(g);
var B=a.xa;B&&u.push.apply(u,B);if(w&&!sb("7")){var K=Sf(u);0<K.length&&(u.push.apply(u,K),c=j)}if(!h||!q||B||c)b.className=u.join(" ");Rf(this,a,b);return b};m.Ig=function(a){a.Ng()&&this.Vb(a.b(),j);a.isEnabled()&&this.yc(a,a.tb)};function Rf(a,b,c){b.isEnabled()||a.Da(c,1,j);Uf(b,8)&&a.Da(c,8,j);b.$&16&&a.Da(c,16,Uf(b,16));b.$&64&&a.Da(c,64,Uf(b,64))}
m.xc=function(a,b){var c=!b,d=w||eb?a.getElementsByTagName("*"):k;if(hd){if(c=c?"none":"",a.style[hd]=c,d)for(var e=0,g;g=d[e];e++)g.style[hd]=c}else if(w||eb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};m.Vb=function(a,b){this.Nc(a,this.ba()+"-rtl",b)};m.Ve=function(a){var b;return a.$&32&&(b=a.eb())?bc(b):l};
m.yc=function(a,b){var c;if(a.$&32&&(c=a.eb())){if(!b&&a.Sd()){try{c.blur()}catch(d){}a.Sd()&&a.xg()}bc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};m.zf=function(a,b){Q(a,b)};m.fa=function(a,b,c){var d=a.b();if(d){var e=Vf(this,b);e&&this.Nc(a,e,c);this.Da(d,b,c)}};m.Da=function(a,b,c){Pf||(Pf={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Pf[b])&&a.setAttribute("aria-"+b,c)};
m.Tb=function(a,b){var c=this.Gb(a);if(c&&(Tb(c),b))if(p(b))Zb(c,b);else{var d=function(a){if(a){var b=Ob(c);c.appendChild(p(a)?b.createTextNode(a):a)}};la(b)?v(b,d):ma(b)&&!("nodeType"in b)?v(Ta(b),d):d(b)}};m.eb=function(a){return a.b()};m.ba=da("goog-control");function Qf(a,b){var c=a.ba(),d=[c],e=a.ba();e!=c&&d.push(e);c=b.k;for(e=[];c;){var g=c&-c;e.push(Vf(a,g));c&=~g}d.push.apply(d,e);(c=b.xa)&&d.push.apply(d,c);w&&!sb("7")&&d.push.apply(d,Sf(d));return d}
function Sf(a,b){var c=[];b&&(a=a.concat([b]));v([],function(d){Na(d,va(Qa,a))&&(!b||Qa(d,b))&&c.push(d.join("_"))});return c}function Vf(a,b){a.Gd||Tf(a);return a.Gd[b]}function Tf(a){var b=a.ba();a.Gd={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Wf(){}t(Wf,Of);ja(Wf);m=Wf.prototype;m.hc=da("button");m.Da=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Wf.e.Da.call(this,a,b,c)};m.K=function(a){var b=Wf.e.K.call(this,a),c=a.Sc();c&&this.yf(b,c);(c=a.C())&&this.Ba(b,c);a.$&16&&this.Da(b,16,Uf(a,16));return b};m.i=function(a,b){var b=Wf.e.i.call(this,a,b),c=this.C(b);a.Nf=c;a.Hf=this.Sc(b);a.$&16&&this.Da(b,16,Uf(a,16));return b};m.C=ia;m.Ba=ia;m.Sc=function(a){return a.title};m.yf=function(a,b){a&&(a.title=b||"")};m.ba=da("goog-button");function Xf(a,b){L.call(this);a&&Yf(this,a,b)}t(Xf,Rc);m=Xf.prototype;m.g=k;m.Td=k;m.We=k;m.Ud=k;m.ib=-1;m.hb=-1;m.Be=l;
var Zf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},$f={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ag=w||gb&&sb("525"),bg=ib&&fb;m=Xf.prototype;
m.ti=function(a){if(gb&&(17==this.ib&&!a.ctrlKey||18==this.ib&&!a.altKey))this.hb=this.ib=-1;ag&&!Lf(a.keyCode,this.ib,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.hb=fb?Nf(a.keyCode):a.keyCode,bg&&(this.Be=a.altKey))};m.wi=function(a){this.hb=this.ib=-1;this.Be=a.altKey};
m.handleEvent=function(a){var b=a.wa,c,d,e=b.altKey;w&&"keypress"==a.type?(c=this.hb,d=13!=c&&27!=c?b.keyCode:0):gb&&"keypress"==a.type?(c=this.hb,d=0<=b.charCode&&63232>b.charCode&&Mf(c)?b.charCode:0):eb?(c=this.hb,d=Mf(c)?b.keyCode:0):(c=b.keyCode||this.hb,d=b.charCode||0,bg&&(e=this.Be),ib&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Zf?g=Zf[c]:25==c&&a.shiftKey&&(g=9):h&&h in $f&&(g=$f[h]);a=g==this.ib;this.ib=g;b=new cg(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};
m.b=ca("g");function Yf(a,b,c){a.Ud&&a.detach();a.g=b;a.Td=M(a.g,"keypress",a,c);a.We=M(a.g,"keydown",a.ti,c,a);a.Ud=M(a.g,"keyup",a.wi,c,a)}m.detach=function(){this.Td&&(Jc(this.Td),Jc(this.We),Jc(this.Ud),this.Ud=this.We=this.Td=k);this.g=k;this.hb=this.ib=-1};m.o=function(){Xf.e.o.call(this);this.detach()};function cg(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}t(cg,xc);function dg(a,b){a||f(Error("Invalid class name "+a));oa(b)||f(Error("Invalid decorator function "+b))}var eg={};function fg(a,b,c){R.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=qa(b);if(d=eg[d])break;b=b.e?b.e.constructor:k}b=d?oa(d.a)?d.a():new d:k}this.B=b;this.Ga=a}t(fg,R);m=fg.prototype;m.Ga=k;m.k=0;m.$=39;m.Sa=255;m.uj=0;m.tb=j;m.xa=k;m.Re=j;m.Dd=l;m.rh=k;function gg(a){a.P&&l!=a.Re&&hg(a,l);a.Re=l}m.eb=function(){return this.B.eb(this)};
m.Nc=function(a,b){b?a&&(this.xa?Qa(this.xa,a)||this.xa.push(a):this.xa=[a],this.B.Nc(this,a,j)):a&&this.xa&&(Ra(this.xa,a),0==this.xa.length&&(this.xa=k),this.B.Nc(this,a,l))};m.K=function(){var a=this.B.K(this);this.g=a;var b=this.rh||this.B.hc();b&&a.setAttribute("role",b);this.Dd||this.B.xc(a,l);this.tb||this.B.zf(a,l)};m.Gb=function(){return this.B.Gb(this.b())};m.wb=function(a){return this.B.wb(a)};
m.w=function(a){this.g=a=this.B.i(this,a);var b=this.rh||this.B.hc();b&&a.setAttribute("role",b);this.Dd||this.B.xc(a,l);this.tb="none"!=a.style.display};m.z=function(){fg.e.z.call(this);this.B.Ig(this);if(this.$&-2&&(this.Re&&hg(this,j),this.$&32)){var a=this.eb();if(a){var b=this.lc||(this.lc=new Xf);Yf(b,a);N(N(N(this.j(),b,"key",this.vi),a,"focus",this.si),a,"blur",this.xg)}}};
function hg(a,b){var c=a.j(),d=a.b();b?(N(N(N(N(c,d,"mouseover",a.Bg),d,"mousedown",a.zg),d,"mouseup",a.Cg),d,"mouseout",a.Ag),a.Pd!=ia&&N(c,d,"contextmenu",a.Pd),w&&N(c,d,"dblclick",a.yg)):(Pc(Pc(Pc(Pc(c,d,"mouseover",a.Bg),d,"mousedown",a.zg),d,"mouseup",a.Cg),d,"mouseout",a.Ag),a.Pd!=ia&&Pc(c,d,"contextmenu",a.Pd),w&&Pc(c,d,"dblclick",a.yg))}m.Pc=function(){fg.e.Pc.call(this);this.lc&&this.lc.detach();this.tb&&this.isEnabled()&&this.B.yc(this,l)};
m.o=function(){fg.e.o.call(this);this.lc&&(this.lc.ha(),delete this.lc);delete this.B;this.xa=this.Ga=k};m.Tb=function(a){this.B.Tb(this.b(),a);this.Ga=a};function ig(a){a=a.Ga;return!a?"":(p(a)?a:la(a)?Ma(a,ec).join(""):cc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}m.Vb=function(a){fg.e.Vb.call(this,a);var b=this.b();b&&this.B.Vb(b,a)};m.xc=function(a){this.Dd=a;var b=this.b();b&&this.B.xc(b,a)};
m.zf=function(a,b){if(b||this.tb!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.B.zf(c,a);this.isEnabled()&&this.B.yc(this,a);this.tb=a;return j}return l};m.isEnabled=function(){return!Uf(this,1)};m.Ub=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&jg(this,1,!a))a||(this.setActive(l),kg(this,l)),this.tb&&this.B.yc(this,a),this.fa(1,!a)};function kg(a,b){jg(a,2,b)&&a.fa(2,b)}m.gb=function(){return Uf(this,4)};
m.setActive=function(a){jg(this,4,a)&&this.fa(4,a)};function lg(a,b){jg(a,16,b)&&a.fa(16,b)}m.Sd=function(){return Uf(this,32)};m.ea=function(a){jg(this,32,a)&&this.fa(32,a)};function Uf(a,b){return!!(a.k&b)}m.fa=function(a,b){this.$&a&&b!=Uf(this,a)&&(this.B.fa(this,a,b),this.k=b?this.k|a:this.k&~a)};function mg(a,b,c){a.P&&(Uf(a,b)&&!c)&&f(Error("Component already rendered"));!c&&Uf(a,b)&&a.fa(b,l);a.$=c?a.$|b:a.$&~b}function ng(a,b){return!!(a.Sa&b)&&!!(a.$&b)}
function jg(a,b,c){return!!(a.$&b)&&Uf(a,b)!=c&&(!(a.uj&b)||a.dispatchEvent(pd(b,c)))&&!a.Jd}m.Bg=function(a){(!a.relatedTarget||!Yb(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&ng(this,2))&&kg(this,j)};m.Ag=function(a){if((!a.relatedTarget||!Yb(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))ng(this,4)&&this.setActive(l),ng(this,2)&&kg(this,l)};m.Pd=ia;
m.zg=function(a){this.isEnabled()&&(ng(this,2)&&kg(this,j),zc(a)&&(ng(this,4)&&this.setActive(j),this.B.Ve(this)&&this.eb().focus()));!this.Dd&&zc(a)&&a.preventDefault()};m.Cg=function(a){this.isEnabled()&&(ng(this,2)&&kg(this,j),this.gb()&&(this.cd(a)&&ng(this,4))&&this.setActive(l))};m.yg=function(a){this.isEnabled()&&this.cd(a)};
m.cd=function(a){ng(this,16)&&lg(this,!Uf(this,16));ng(this,8)&&jg(this,8,j)&&this.fa(8,j);if(ng(this,64)){var b=!Uf(this,64);jg(this,64,b)&&this.fa(64,b)}b=new uc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.nf=a.nf);return this.dispatchEvent(b)};m.si=function(){ng(this,32)&&this.ea(j)};m.xg=function(){ng(this,4)&&this.setActive(l);ng(this,32)&&this.ea(l)};
m.vi=function(a){return this.tb&&this.isEnabled()&&this.Qe(a)?(a.preventDefault(),a.stopPropagation(),j):l};m.Qe=function(a){return 13==a.keyCode&&this.cd(a)};oa(fg)||f(Error("Invalid component class "+fg));oa(Of)||f(Error("Invalid renderer class "+Of));var og=qa(fg);eg[og]=Of;dg("goog-control",function(){return new fg(k)});function pg(){}t(pg,Wf);ja(pg);m=pg.prototype;m.hc=aa();m.K=function(a){gg(a);a.Sa&=-256;mg(a,32,l);return a.Ka().K("button",{"class":Qf(this,a).join(" "),disabled:!a.isEnabled(),title:a.Sc()||"",value:a.C()||""},ig(a)||"")};m.wb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};m.i=function(a,b){gg(a);a.Sa&=-256;mg(a,32,l);b.disabled&&x(b,Vf(this,1));return pg.e.i.call(this,a,b)};m.Ig=function(a){N(a.j(),a.b(),"click",a.cd)};m.xc=ia;
m.Vb=ia;m.Ve=function(a){return a.isEnabled()};m.yc=ia;m.fa=function(a,b,c){pg.e.fa.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.C=function(a){return a.value};m.Ba=function(a,b){a&&(a.value=b)};m.Da=ia;function qg(a,b,c){fg.call(this,a,b||pg.a(),c)}t(qg,fg);m=qg.prototype;m.C=ca("Nf");m.Ba=function(a){this.Nf=a;this.B.Ba(this.b(),a)};m.Sc=ca("Hf");m.yf=function(a){this.Hf=a;this.B.yf(this.b(),a)};m.o=function(){qg.e.o.call(this);delete this.Nf;delete this.Hf};m.z=function(){qg.e.z.call(this);if(this.$&32){var a=this.eb();a&&N(this.j(),a,"keyup",this.Qe)}};m.Qe=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.cd(a):32==a.keyCode};dg("goog-button",function(){return new qg(k)});function rg(){}t(rg,Wf);ja(rg);m=rg.prototype;m.K=function(a){var b={"class":"goog-inline-block "+Qf(this,a).join(" "),title:a.Sc()||""},b=a.Ka().K("div",b,sg(this,a.Ga,a.Ka()));Rf(this,a,b);return b};m.hc=da("button");m.Gb=function(a){return a&&a.firstChild.firstChild};function sg(a,b,c){return c.K("div","goog-inline-block "+(a.ba()+"-outer-box"),c.K("div","goog-inline-block "+(a.ba()+"-inner-box"),b))}m.wb=function(a){return"DIV"==a.tagName};
m.i=function(a,b){tg(b,j);tg(b,l);var c;a:{c=gc(a.Ka(),b);var d=this.ba()+"-outer-box";if(c&&z(c,d)&&(c=gc(a.Ka(),c),d=this.ba()+"-inner-box",c&&z(c,d))){c=j;break a}c=l}c||b.appendChild(sg(this,b.childNodes,a.Ka()));x(b,"goog-inline-block",this.ba());return rg.e.i.call(this,a,b)};m.ba=da("goog-custom-button");
function tg(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==ya(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function ug(a,b,c){qg.call(this,a,b||rg.a(),c)}t(ug,qg);dg("goog-custom-button",function(){return new ug(k)});function vg(){R.call(this)}t(vg,R);m=vg.prototype;
m.z=function(){vg.e.z.call(this);(this.r=(this.gg=X.a().G)&&this.gg.Q())&&s();this.Fb=D("fullscreen",this.b());var a=D("expand",this.b());Q(this.Fb,this.Gh());this.ld=C("stagecover");this.ah=D("message",this.ld);this.t=D("spinner",this.ld);this.hd=D("restart",this.ld);this.Of=D("vote",this.b());this.Lb=D("like",this.b());this.zb=D("dislike",this.b());var b=new Xf(document);wg(this);this.r?xg(this,this.r):of.a().c("no-media");N(N(N(N(N(N(N(N(N(this.j(),window,"resize",r(this.resize,this)),document,
"webkitfullscreenchange",r(function(){Bb(this.Fb,"full")},this)),document,"mozfullscreenchange",r(function(){Bb(this.Fb,"full")},this)),document,"fullscreenchange",r(function(){Bb(this.Fb,"full")},this)),this.Fb,"click",r(function(a){if(z(this.Fb,"full"))document.ci&&document.ci(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();else{var b=D("main");b.th&&b.th();b.webkitRequestFullScreen&&b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
b.mozRequestFullScreen&&b.mozRequestFullScreen()}a.stopPropagation();a.preventDefault()},this)),a,"click",r(this.Aj,this)),this.b(),"mousemove",r(function(a){var b=a.offsetX/this.ya,a=a.offsetY/this.Kj;if(0.7<b&&1>b&&0.7<a&&1>a&&(this.dd==YT.PlayerState.PLAYING||this.dd==YT.PlayerState.PAUSED))x(this.ld,"click-through"),S(r(function(){y(this.ld,"click-through")},this),500)},this)),b,"key",r(function(a){"32"==a.keyCode&&yg(this)},this)),this.b(),"click",r(function(a){!z(C("queue"),"show")&&(!z(C("search"),
"show")&&!H(a.target,k,"queue")&&!H(a.target,k,"search"))&&yg(this)},this));X.a().subscribe(kf,this.Gc,this);X.a().subscribe(lf,function(a){this.r=a;xg(this,a);wg(this)},this);of.a().subscribe(pf,this.aj,this);of.a().subscribe("seek",this.nj,this);of.a().subscribe("before-end",function(){wg(this,j)},this);DESKTOP&&(N(N(N(this.j(),this.hd,"click",r(function(a){a.preventDefault();a.stopPropagation();this.r&&xg(this,this.r)},this)),this.Lb,"click",r(this.kh,this,this.Lb,j)),this.zb,"click",r(this.kh,
this,this.zb,l)),Y.a().subscribe(zg,function(a){this.resize(a)},this),Y.a().subscribe(Ag,function(){S(r(this.resize,this))},this),Y.a().subscribe(Bg,function(a){a?this.p.playVideo():this.p.pauseVideo();var a=D(a?"play":"pause",this.b()),b=new uf;b.add(new If(a,250,Kf));b.add(new Hf(a,250,Jf));b.play()},this),Y.a().subscribe(Cg,function(a){this.p&&(a?this.p.mute():this.p.unMute())},this),Y.a().subscribe(Dg,function(){this.p.seekTo(0)},this));this.resize()};
function yg(a){if(a.p&&a.p.getPlayerState&&DESKTOP)switch(a.p.getPlayerState()){case YT.PlayerState.PLAYING:Y.a().c(Bg,l);break;case YT.PlayerState.PAUSED:Y.a().c(Bg,j)}}m.Gh=function(){var a=D("main");return!(!a.th&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};m.Aj=function(a){a.preventDefault();a.stopPropagation();Z.a();a=!z(C("sidebar"),"toggled");DESKTOP&&(Y.a().c(zg,a),Y.a().c(Ag,a))};
function xg(a,b){of.a().r=b;a.Fi!=b.id&&(vd.a().c(wd,"Now playing",b.media.name,i,b.media.Ff,"#info:"+b.media.id),a.Fi=b.id);a.play(b.media);DESKTOP&&V("/_like/"+b.media.id,r(function(a){a=W(a.target);A(this.Lb,"checked",a.liked||z(this.Lb,"checked"));A(this.zb,"checked",a.disliked||z(this.zb,"checked"))},a))}
m.play=function(a,b){!this.p||!this.p.loadVideoById?(this.p=new YT.Player("ytplayer",{height:E().height-40,width:E().width,videoId:a.jc,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque",origin:HOST_URL,enablejsapi:1},events:{onStateChange:r(this.cj,this),onReady:r(this.Vi,this),onError:r(this.Ui,this)}}),of.a().p=this.p):(this.p.cueVideoById(a.jc),S(r(function(){var c=b||0;!this.p.getPlayerState()&&4>c?this.play(a,++c):4<=c&&wg(this,i,j)},this),1E3))};
m.resize=function(){if(IPHONE)this.b().style.width=cd(E().width-320);else{var a=C("stagecover"),b=D("message",a),c=C("guide").style.height,c=c.substring(0,c.length-2),c=Y.a().Pe?c:40,d=Y.a().Af?320:0;this.Kj=E().height-c;this.ya=E().width-d;dd(this.b(),E().height-c);this.b().style.width=cd(E().width-d);dd(a,E().height-c);a.style.width=cd(E().width-d);a=O(b);Uc(b,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});A(this.Fb,"full",this.Gh&&(document.fullScreen||document.webkitIsFullScreen||
document.Ak))}};m.Gc=function(a){if(a=a.Q())this.r=a,xg(this,a);wg(this)};m.kh=function(a,b,c){c.preventDefault();c.stopPropagation();this.r&&(a=Bb(a,"checked"),(c=b&&z(this.zb,"checked")||!b&&z(this.Lb,"checked"))&&y(b?this.zb:this.Lb,"checked"),V(b?"/_like":"/_dislike",i,"POST","media_id="+this.r.media.id+(!a?"&delete=1":"")+(c?"&flip=1":"")))};m.aj=function(a){this.r=a;xg(this,a);wg(this);V("/_optin",Fd(),"POST","media_id="+this.r.media.id)};m.nj=function(a){this.p.seekTo&&this.p.seekTo(a,j)};
m.cj=function(a){this.dd=a.data;wg(this);switch(a.data){case YT.PlayerState.CUED:a=this.r.async?this.r.seek:(s()-this.r.time.getTime())/1E3;this.p.seekTo(a);this.p.playVideo();Y.a().c(Bg,j);break;case YT.PlayerState.PLAYING:of.a().c(qf,this.r.media);break;case YT.PlayerState.ENDED:U.a().h.Id.me(this.r.media),A(this.Lb,"checked",l),A(this.zb,"checked",l),(a=X.a().G.Q())?X.a().c(lf,a):(of.a().r=k,X.a().c(kf,mf(X.a()),j))}};
m.Vi=function(){S(r(function(){if(this.p&&(!this.p.getPlayerState||!this.p.getPlayerState()))xg(this,this.r);else if(this.p.getPlayerState()){var a=this.r.async?this.r.seek:(s()-this.r.time.getTime())/1E3;this.p.seekTo(a);this.p.playVideo();DESKTOP&&Y.a().c(Cg,this.p.isMuted())}},this),1E3)};m.Ui=function(){of.a().c("no-media");wg(this,i,j)};
function wg(a,b,c){if(!IPHONE){var d=C("stagecover"),e=a.r?of.a().getCurrentTime():0;c?(Q(a.t,l),Q(a.hd,j),x(d,"covered")):(!a.r||a.r&&e>a.r.media.duration?(of.a().c("no-media"),Zb(a.ah.firstChild,Eg),Q(a.t,l),Q(a.hd,l),Q(a.Of,l),x(d,"covered")):a.dd!=YT.PlayerState.PLAYING&&a.dd!=YT.PlayerState.PAUSED||b?(Zb(a.ah.firstChild,Fg),Q(a.t,j),Q(a.hd,l),Q(a.Of,l),x(d,"covered")):(Q(a.t,l),Q(a.hd,l),y(d,"covered"),Q(a.Of,j)),fd(d,a.dd==YT.PlayerState.BUFFERING?0.9:1),a.resize())}}
var Eg="THIS CHANNEL IS CURRENTLY OFFLINE",Fg="LOADING STORY";document.createElement("input");function Gg(a,b){L.call(this);this.nc=a;this.fb=b;this.Ia=new vf(r(this.Yi,this),0,this)}t(Gg,L);m=Gg.prototype;m.ma=0;m.tf=0;m.Lg=l;m.o=function(){this.Ia.ha();delete this.nc;delete this.fb;Gg.e.o.call(this)};m.start=function(a,b){this.stop();this.Lg=l;var c=b||0;this.ma=Math.max(a||0,0);this.tf=0>c?-1:s()+c;this.Ia.start(0>c?this.ma:Math.min(this.ma,c))};m.stop=function(){this.Ia.stop()};m.gb=function(){return this.Ia.gb()};
m.Yi=function(){if(this.nc.call(this.fb))this.Lg=j;else if(0>this.tf)this.Ia.start(this.ma);else{var a=this.tf-s();0>=a||this.Ia.start(Math.min(this.ma,a))}};function Hg(a){L.call(this);this.g=a;this.$c=this.g.value;this.W=new Nc(this);this.La=s();gb||w||fb&&sb("1.9")?N(this.W,a,"paste",this.fc):N(this.W,a,["keydown","blur","focus","mouseover","input"],this.ri);this.Ia=new Gg(r(this.ag,this))}t(Hg,Rc);m=Hg.prototype;m.k="init";m.u=Pe("goog.events.PasteHandler");m.o=function(){Hg.e.o.call(this);this.W.ha();this.W=k;this.Ia.ha();this.Ia=k};
m.ag=function(){if(this.$c==this.g.value)return l;this.u.info("detected textchange after paste");this.dispatchEvent("after_paste");return j};m.fc=function(a){a=new xc(a.wa);a.type="paste";this.dispatchEvent(a);S(function(){this.ag()||this.Ia.start(50,200)},0,this)};
m.ri=function(a){switch(this.k){case "init":switch(a.type){case "blur":this.k="init";break;case "focus":this.k="focused";break;case "mouseover":this.k="init";this.g.value!=this.$c&&(this.u.info("paste by dragdrop while on init!"),this.fc(a));break;default:Le(this.u,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.La+400;if(s()>b||"focus"==this.hj)this.u.info("paste by textchange while focused!"),this.fc(a);break;case "blur":this.k="init";break;
case "keydown":this.u.info("key down ... looking for ctrl+v");if(ib&&eb&&0==a.keyCode||ib&&eb&&17==a.keyCode)break;this.k="typing";break;case "mouseover":this.g.value!=this.$c&&(this.u.info("paste by dragdrop while focused!"),this.fc(a));break;default:Le(this.u,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.k="focused";break;case "blur":this.k="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.u.info("paste by ctrl+v while keypressed!"),
this.fc(a);break;case "mouseover":this.g.value!=this.$c&&(this.u.info("paste by dragdrop while keypressed!"),this.fc(a));break;default:Le(this.u,"unexpected event "+a.type+" during keypressed")}break;default:Le(this.u,"invalid "+this.k+" state")}this.La=s();this.$c=this.g.value;this.u.info(a.type+" -> "+this.k);this.hj=a.type};function Z(){T.call(this)}t(Z,T);ja(Z);function Ig(a){return'<div class="info"><div class="picture"><img src="'+J(a.media.Za)+'" class="thumb"><div class="publisher"><img src="'+J(a.media.Y.I)+'"><div class="name">'+J(a.media.Y.name)+'</div></div><div class="links"><div class="local"></div><a target="_blank" href="'+a.media.zi+'"><div class="host"></div></a></div><div class="link-select" style="display:none"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><div class="title"><div class="text">'+
J(a.media.name)+'</div></div><div class="scrollable ios-scroll" '+(!a.description?'style="display:none"':"")+'><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+J(a.Rb)+'</div></div><div class="description">'+a.description+'</div></div><div class="button play"><div class="icon"></div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="viewers" style="display: none"><div class="label"><div class="eye-icon"></div></div></div><div class="info-contents"><div class="scrollable ios-scroll"><div class="user-poll" style="display: none"><div class="label"><div class="status">VOTE</div></div><div class="poll-options"></div></div><div class="tweet-holder" style="display:none"><div class="label"><div class="globe-icon"></div><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><div class="friends-icon"></div><a class="conv-link">CONVERSATION</a>'+
(a.Di?'<a class="prev-link">&#10218; LAST PROGRAM</a>':"")+'</div><div class="no-comments" style="display:none">Start the conversation with friends.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div><div class="overlay" style="display: none"><div class="leaving"><div>This program is over. Carry on?</div><div class="button dark no">Not yet</div><div class="button dark yes">Let\'s go</div></div></div></div>'}
function Jg(a){return'<div class="viewer" name="'+J(a.Rc)+'"><img src="'+J(a.l.I)+'"></div>'}
function Kg(a){return'<div class="tweet" id="'+J(a.prefix)+"-"+J(a.$a.id)+'">'+(a.$a.l?'<a href="#user:'+J(a.$a.l.id)+'"><img src="'+J(a.$a.I)+'"/></a>':'<img src="'+J(a.$a.I)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+J(a.$a.handle)+"/status/"+J(a.$a.id)+'">'+J(a.$a.handle)+"</a> "+a.text+'</div><div class="timestamp">'+J(a.timestamp)+'</div><div class="tweet-options"><div class="reply"></div></div></div>'}
function Lg(a){return'<div class="comment'+(a.aa.D?" reply":"")+'" '+(a.aa.id?'id="'+J(a.prefix)+"-"+J(a.aa.id)+'"':"")+">"+(!a.aa.D?'<a href="#user:'+J(a.aa.l.id)+'"><div class="user-picture" style="background:'+J(a.aa.l.color)+'"><img src="'+J(a.aa.l.I)+'"/></div></a>':"")+'<div class="template"><a class="user" href="#user:'+J(a.aa.l.id)+'">'+J(a.aa.l.name)+'</a>  <div class="text">'+a.text+'<div class="comment-options">'+(a.oh?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div><div class="timestamp">'+
J(a.aa.vc)+'</div><div class="replies"></div>'+(!a.aa.D?'<div class="reply-input"><textarea class="reply-textarea" rows="1" placeholder="reply..."></textarea></div>':"")+"</div></div>"}
function Mg(){return'<div class="comment-input"><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div><div class="comment-controls"><div class="comment-toggle tweet-toggle"><div class="icon"></div></div><div class="comment-toggle fb-toggle"><div class="icon"></div></div></div><div class="comment-button add-comment">POST</div></div>'}
function Ng(a){var b='<div class="activity'+(1<a.A.length?" digest":"")+'">';if(1<a.A.length){for(var b=b+('<div class="template"><span>'+J(a.A.length)+" friends </span>"+(a.Nh?"watched":"are watching")+(a.J?' <a href="#channel:'+J(a.J.id)+'">'+J(a.J.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.A,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.I)+'"/></div></a>');
b+="</div>"}return b+=(1==a.A.length?'<a href="#user:'+J(a.A[0].id)+'"><div class="picture" style="background:'+J(a.A[0].color)+'"><img src="'+J(a.A[0].I)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(a.A[0].id)+'">'+J(a.A[0].name)+"</a> "+(a.Nh?"watched":"is watching")+(a.J?' <a href="#channel:'+J(a.J.id)+'">'+J(a.J.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Og(a){for(var b='<div class="comment activity'+(1<a.Ta.length?" digest":"")+'">'+(1<a.Ta.length?'<div class="template">'+(1==a.A.length?'<a class="user" href="#user:'+J(a.A[0].id)+'">'+J(a.A[0].name)+' </a> discussed <a class="title" href="#info:'+J(a.media.id)+'">'+J(a.media.name)+"</a>.":"<span>"+J(a.A.length)+' friends </span> discussed <a class="title" href="#info:'+J(a.media.id)+'"> '+J(a.media.name)+"</a>.")+"</div>":""),a=a.Ta,c=a.length,d=0;d<c;d++)var e=a[d],b=b+('<div class="comment"><a href="#user:'+
J(e.l.id)+'"><div class="picture" style="background:'+J(e.l.color)+'"><img src="'+J(e.l.I)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(e.l.id)+'">'+J(e.l.name)+'</a>  <div class="text">'+J(e.text)+'</div><div class="timestamp">'+J(e.vc)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function Pg(a){var b='<div class="like activity'+(1<a.A.length?" digest":"")+'">';if(1<a.A.length){for(var b=b+('<div class="template"><span>'+J(a.A.length)+' friends </span>liked<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.A,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.I)+'"/></div></a>');b+="</div>"}return b+=(1==a.A.length?'<a href="#user:'+J(a.A[0].id)+'"><div class="picture" style="background:'+
J(a.A[0].color)+'"><img src="'+J(a.A[0].I)+'"/></div></a><div class="template" style="top:10px;margin-bottom:30px"><a class="user" href="#user:'+J(a.A[0].id)+'">'+J(a.A[0].name)+"</a> liked "+(1<a.Yg?J(a.Yg)+" stories":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Qg(a){return'<div class="list-info"><div class="picture-cell" '+(a.Za?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+J(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+J(a.Za)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function Rg(a){return'<li class="'+J(a.className)+' tab"><div class="label">'+J(a.name)+"</div></li>"}
function Sg(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.Jg?'placeholder="'+J(a.Jg)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function Tg(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function Ug(a){return'<div class="playlist"><div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function Vg(a){return'<div class="category button">'+J(a.name)+"</div>"}function Wg(a){return'<div class="publisher">'+(a.I?'<img src="'+J(a.I)+'"/>':"")+'<div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function Xg(a){return'<div class="channel '+(a.J.sc?"on":"off")+'"><div class="title">'+J(a.J.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.J.tc?'<div class="pending">'+J(a.J.tc)+"</div>":"")+"</div>"}
function Yg(a){return'<div class="collection"><div class="title">'+J(a.De.name)+'</div><div class="controls">'+(a.De.tc?'<div class="pending">'+J(a.De.tc)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Zg(a){return'<div class="topic"><div class="title">'+J(a.Bj)+'</div><div class="controls">'+(a.tc?'<div class="pending">'+J(a.tc)+"</div>":"")+"</div></div>"}
function $g(){return'<div class="tabbed messages"><ul class="tabs"><li class="tab messages"><div class="label">MESSAGES</div></li><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul><div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function ah(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function bh(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.Za)+"); background-position: 50% "+J(a.media.Ih)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+J(a.media.Jc)+'</div><div class="like-count"><div class="icon"></div>'+J(a.media.Gi)+'</div></div></div></div><div class="publisher">'+(a.media.Y?'<img src="'+J(a.media.Y.I)+'"><div class="name">'+
J(a.media.Y.name)+"</div>":"")+'<div class="list-play"><div class="icon"></div></div><div class="list-plus"><div class="icon"></div></div></div></div>'}
function ch(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.Za)+"); background-position: 50% "+J(a.media.Ih)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="published">'+J(a.Rb)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+J(a.media.Y.I)+'"><div class="name">'+J(a.media.Y.name)+
'</div><div class="duration">'+J(a.media.duration)+' seconds</div></div><div class="description">'+J(a.media.description)+"</div></div>"}function dh(a){return'<div class="option"><div class="percent"></div><div class="name">'+J(a.name)+'</div><div class="percent-number">'+J(a.mf)+"</div></div>"};function eh(a,b,c){L.call(this);this.target=a;this.handle=b||a;this.Tg=c||new Tc(NaN,NaN,NaN,NaN);this.U=Ob(a);this.W=new Nc(this);M(this.handle,["touchstart","mousedown"],this.nd,l,this)}t(eh,Rc);var fh=w||fb&&sb("1.9.3");m=eh.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.Dh=0;m.Eh=0;m.dc=0;m.ec=0;m.Je=j;m.Cb=l;m.Fg=0;m.Ji=0;m.Bi=l;m.yd=l;m.j=ca("W");m.xh=ba("le");m.Ub=ba("Je");
m.o=function(){eh.e.o.call(this);Hc(this.handle,["touchstart","mousedown"],this.nd,l,this);Qc(this.W);fh&&this.U.releaseCapture();this.W=this.handle=this.target=k};function gh(a){ga(a.Aa)||(a.Aa=gd(a.target));return a.Aa}
m.nd=function(a){var b="mousedown"==a.type;if(this.Je&&!this.Cb&&(!b||zc(a))){hh(a);if(0==this.Fg)if(this.dispatchEvent(new ih("start",this,a.clientX,a.clientY,a)))this.Cb=j,a.preventDefault();else return;else a.preventDefault();var b=this.U,c=b.documentElement,d=!fh;N(this.W,b,["touchmove","mousemove"],this.xi,d);N(this.W,b,["touchend","mouseup"],this.Db,d);fh?(c.setCapture(l),N(this.W,c,"losecapture",this.Db)):N(this.W,b?b.parentWindow||b.defaultView:window,"blur",this.Db);w&&this.Bi&&N(this.W,
b,"dragstart",vc);this.le&&N(this.W,this.le,"scroll",this.nh,d);this.clientX=this.Dh=a.clientX;this.clientY=this.Eh=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.yd?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Yc(a,"position")&&(c=Ob(a).documentElement),c?(fb?(d=md(c),b+=d.left):ub(8)&&(d=md(c),b-=d.left),a=gd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.dc=a;this.ec=this.target.offsetTop;this.kf=fc(Mb(this.U));this.Ji=s()}else this.dispatchEvent("earlycancel")};
m.Db=function(a,b){Qc(this.W);fh&&this.U.releaseCapture();if(this.Cb){hh(a);this.Cb=l;var c=jh(this,this.dc),d=kh(this,this.ec);this.dispatchEvent(new ih("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function hh(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.wa.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.wa.changedTouches[0],a.currentTarget)}
m.xi=function(a){if(this.Je){hh(a);var b=(this.yd&&gh(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Cb){var d=this.Dh-this.clientX,e=this.Eh-this.clientY;if(d*d+e*e>this.Fg)if(this.dispatchEvent(new ih("start",this,a.clientX,a.clientY,a)))this.Cb=j;else{this.Jd||this.Db(a);return}}c=lh(this,b,c);b=c.x;c=c.y;this.Cb&&this.dispatchEvent(new ih("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(mh(this,a,b,c),a.preventDefault())}};function lh(a,b,c){var d=fc(Mb(a.U)),b=b+(d.x-a.kf.x),c=c+(d.y-a.kf.y);a.kf=d;a.dc+=b;a.ec+=c;b=jh(a,a.dc);a=kh(a,a.ec);return new Cb(b,a)}m.nh=function(a){var b=lh(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;mh(this,a,b.x,b.y)};function mh(a,b,c,d){a.ig(c,d);a.dispatchEvent(new ih("drag",a,b.clientX,b.clientY,b,c,d))}
function jh(a,b){var c=a.Tg,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function kh(a,b){var c=a.Tg,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}m.ig=function(a,b){this.yd&&gh(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function ih(a,b,c,d,e,g,h,q){uc.call(this,a);this.clientX=c;this.clientY=d;this.kk=e;this.left=ga(g)?g:b.dc;this.top=ga(h)?h:b.ec;this.tk=b;this.ii=!!q}t(ih,uc);function nh(){L.call(this);this.Tc=[];this.wj=[];this.kd=[]}t(nh,Rc);m=nh.prototype;m.Og=l;m.Pg=l;m.Ue=l;m.xh=ba("le");m.init=function(){if(!this.Ue){for(var a,b=0;a=this.Tc[b];b++)oh(this,a);this.Ue=j}};function oh(a,b){a.Og&&(M(b.element,"mousedown",b.dh,l,b),a.Bf&&x(b.element,a.Bf));a.Pg&&a.Ef&&x(b.element,a.Ef)}
m.nd=function(a,b){if(!this.ka)if(this.ka=b,this.dispatchEvent(new ph("dragstart",this,this.ka))==l)this.ka=k;else{var c=b.bc,d;a:switch(d=c.cloneNode(j),c.tagName.toLowerCase()){case "tr":d=F("table",k,F("tbody",k,d));break a;case "td":case "th":d=F("table",k,F("tbody",k,F("tr",k,d)));break a}this.ji&&x(d,this.ji);this.gc=d;d=Ob(c);d.body.appendChild(this.gc);var e=this.gc,g=bd(c),c=jd(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=
g.y+"px";this.Ua=new eh(e);this.Ua.xh(this.le);M(this.Ua,"drag",this.eh,l,this);M(this.Ua,"end",this.Db,l,this);M(d.body,"selectstart",this.Hh);this.zc=[];for(d=0;c=this.wj[d];d++)for(var h,e=0;h=c.Tc[e];e++)for(var g=c,q=[h.element],u=this.zc,B=0;B<q.length;B++){var K=q[B],P=bd(K),mb=O(K),P=new Sc(P.y,P.x+mb.width,P.y+mb.height,P.x);u.push(new qh(P,g,h,K));rh(this,P)}this.Ya||(this.Ya=new Sc(0,0,0,0));for(d=0;c=this.kd[d];d++)c.Fe=[],c.uh=c.g.scrollLeft,c.vh=c.g.scrollTop,e=bd(c.g),g=O(c.g),c.L=
new Sc(e.y,e.x+g.width,e.y+g.height,e.x);for(d=0;g=this.zc[d];d++)for(e=0;c=this.kd[e];e++)Yb(c.g,g.g)&&(c.Fe.push(g),g.jd=c);this.ub=k;for(d=0;c=this.kd[d];d++)M(c.g,"scroll",this.eg,l,this);this.Ua.nd(a);a.preventDefault()}};
m.Db=function(a){var b=a.ii?k:this.ub;if(b&&b.ja){var c=a.clientX,a=a.clientY,d=fc(Mb(this.gc)),e=c+d.x,d=a+d.y,g;this.pd&&(g=this.pd(b.Va,b.L,e,d));this.dispatchEvent(new ph("drag",this,this.ka,b.ja,b.Va,b.g,c,a,e,d));b.ja.dispatchEvent(new ph("drop",this,this.ka,b.ja,b.Va,b.g,c,a,e,d,g))}this.dispatchEvent(new ph("dragend",this,this.ka));Hc(this.Ua,"drag",this.eh,l,this);Hc(this.Ua,"end",this.Db,l,this);Hc(Ob(this.ka.bc).body,"selectstart",this.Hh);for(b=0;c=this.kd[b];b++)Hc(c.g,"scroll",this.eg,
l,this),c.Fe=[];this.Ua.ha();G(this.gc);delete this.ka;delete this.gc;delete this.Ua;delete this.zc;delete this.ub};
m.eh=function(a){var b,c=fc(Mb(this.gc));b=new Cb(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.ub,g;if(e){this.pd&&e.ja&&(g=this.pd(e.Va,e.L,c,d));if(e.L.contains(b)&&g==this.Qf)return;e.ja&&(this.dispatchEvent(new ph("dragout",this,this.ka,e.ja,e.Va,e.g)),e.ja.dispatchEvent(new ph("dragout",this,this.ka,e.ja,e.Va,e.g,i,i,i,i,this.Qf)));this.Qf=g;this.ub=k}if(this.Ya.contains(b)){a:{for(var h=0;e=this.zc[h];h++)if(e.L.contains(b))if(e.jd){if(e.jd.L.contains(b)){b=e;break a}}else{b=e;break a}b=
k}if((e=this.ub=b)&&e.ja)this.pd&&(g=this.pd(e.Va,e.L,c,d)),c=new ph("dragover",this,this.ka,e.ja,e.Va,e.g),c.vj=g,this.dispatchEvent(c),e.ja.dispatchEvent(new ph("dragover",this,this.ka,e.ja,e.Va,e.g,a.clientX,a.clientY,i,i,g));else if(!e){this.ia||(this.ia=new qh(this.Ya.clone()));a=this.ia.L;a.top=this.Ya.top;a.right=this.Ya.right;a.bottom=this.Ya.bottom;a.left=this.Ya.left;for(g=0;e=this.zc[g];g++)b=e.L,e.jd&&(e=e.jd.L,b=new Sc(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,
e.bottom),Math.max(b.left,e.left))),e=k,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),e!==k&&h!==k&&(Math.abs(e-c)>Math.abs(h-d)?h=k:e=k),e===k?h!==k&&(h<=d?a.top=h:a.bottom=h):e<=c?a.left=e:a.right=e;this.ub=10<=(a.right-a.left)*(a.bottom-a.top)?this.ia:k}}};m.Hh=da(l);
m.eg=function(a){for(var b=0,c;c=this.kd[b];b++)if(a.target==c.g){var d=c.vh-c.g.scrollTop,e=c.uh-c.g.scrollLeft;c.vh=c.g.scrollTop;c.uh=c.g.scrollLeft;this.ia&&this.ub==this.ia&&(0<d?this.ia.L.top+=d:this.ia.L.bottom+=d,0<e?this.ia.L.left+=e:this.ia.L.right+=e);for(var g=0,h;h=c.Fe[g];g++)h=h.L,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,rh(this,h)}this.Ua.nh(a)};
function rh(a,b){if(1==a.zc.length)a.Ya=new Sc(b.top,b.right,b.bottom,b.left);else{var c=a.Ya;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}m.o=function(){nh.e.o.call(this);for(var a,b=0;a=this.Tc[b];b++)this.Og&&(Hc(a.element,"mousedown",a.dh,l,a),this.Bf&&y(a.element,this.Bf)),this.Pg&&this.Ef&&y(a.element,this.Ef),a.ha();this.Tc.length=0};
function ph(a,b,c,d,e,g,h,q,u,B,K){uc.call(this,a);this.rk=b;this.sk=c;this.uk=d;this.wk=e;this.vk=g;this.clientX=h;this.clientY=q;this.Mk=u;this.Nk=B;this.vj=K}t(ph,uc);ph.prototype.o=aa();function sh(a,b){L.call(this);this.element=C(a);this.data=b;this.F=k;this.element||f(Error("Invalid argument"))}t(sh,Rc);m=sh.prototype;m.bc=k;
m.dh=function(a){if(zc(a)){var b=a.target;b&&(M(b,"mousemove",this.pc,l,this),M(b,"mouseout",this.pc,l,this),M(b,"mouseup",this.cf,l,this),this.bc=b,this.Cf=new Cb(a.clientX,a.clientY),a.preventDefault())}};m.ne=ba("F");m.pc=function(a){var b=this.bc,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Cf.x)+Math.abs(a.clientY-this.Cf.y)||c)Hc(b,"mousemove",this.pc,l,this),Hc(b,"mouseout",this.pc,l,this),Hc(b,"mouseup",this.cf,l,this),this.F.nd(a,this)};
m.cf=function(){var a=this.bc;Hc(a,"mousemove",this.pc,l,this);Hc(a,"mouseout",this.pc,l,this);Hc(a,"mouseup",this.cf,l,this);delete this.Cf;this.bc=k};function qh(a,b,c,d){this.L=a;this.ja=b;this.Va=c;this.g=d}qh.prototype.jd=k;function th(){nh.call(this)}t(th,nh);function uh(a,b){b.ne(a);a.Tc.push(b);a.Ue&&oh(a,b)};function vh(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(za(d),'="',za(b[d]),'" ');var e=c.join("");return a.replace(wh,function(a,b,c,d,B){a=[za(b)];if(!c)return a[0];a.push("<a ",e,'href="');d?(a.push("mailto:"),c=d,d=""):(B||a.push("http://"),(d=c.match(xh))?(c=d[1],d=d[2]):d="");c=za(c);d=za(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var xh=/^(.*)([:;,\.?\[\]])$/,wh=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function yh(){}t(yh,Of);ja(yh);m=yh.prototype;m.hc=aa();m.i=function(a,b){gg(a);a.Sa&=-256;mg(a,32,l);yh.e.i.call(this,a,b);a.Tb(b.value);return b};m.K=function(a){gg(a);a.Sa&=-256;mg(a,32,l);return a.Ka().K("textarea",{"class":Qf(this,a).join(" "),disabled:!a.isEnabled()},a.Ga||"")};m.wb=function(a){return"TEXTAREA"==a.tagName};m.Vb=ia;m.Ve=function(a){return a.isEnabled()};m.yc=ia;m.fa=function(a,b,c){yh.e.fa.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.Da=ia;
m.Tb=function(a,b){a&&(a.value=b)};m.ba=da("goog-textarea");function zh(a,b,c){fg.call(this,a,b||yh.a(),c);gg(this);this.xc(j);a||(this.Ga="")}t(zh,fg);var Ah=fb||gb;m=zh.prototype;m.kc=l;m.ya=0;m.Vg=0;m.bh=0;m.Eg=l;m.$d=l;m.wf=l;m.vf=l;function Bh(a){return a.ad.top+a.ad.bottom+a.Xf.top+a.Xf.bottom}function Ch(a){var b=a.bh,c=a.b();b&&(c&&a.$d)&&(b-=Bh(a));return b}function Dh(a){var b=a.Vg,c=a.b();b&&(c&&a.$d)&&(b-=Bh(a));return b}m.Ba=function(a){this.Tb(String(a))};m.C=function(){return this.b().value};m.Tb=function(a){zh.e.Tb.call(this,a);this.resize()};
m.Ub=function(a){zh.e.Ub.call(this,a);this.b().disabled=!a};m.resize=function(){this.b()&&this.Od()};m.z=function(){zh.e.z.call(this);var a=this.b();Uc(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.ad=jd(a,"padding");this.Xf=md(a);N(N(N(N(this.j(),a,"scroll",this.Od),a,"focus",this.Od),a,"keyup",this.Od),a,"mouseup",this.Ki);this.resize()};
function Eh(a){if(!a.Eg){var b=a.b().cloneNode(l);Uc(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ka().U.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.wf=d>c;b.style.borderWidth="10px";a.vf=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.$d=j);G(b);a.Eg=j}var b=a.b(),c=a.b().scrollHeight,e=a.b(),d=e.offsetHeight-e.clientHeight;if(!a.wf)var g=a.ad,d=d-(g.top+g.bottom);
a.vf||(e=md(e),d-=e.top+e.bottom);c+=0<d?d:0;a.$d?c-=Bh(a):(a.wf||(d=a.ad,c+=d.top+d.bottom),a.vf||(a=md(b),c+=a.top+a.bottom));return c}function Fh(a,b){a.ya!=b&&(a.ya=b,a.b().style.height=b+"px")}function Gh(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
m.Od=function(){if(!this.kc){var a=l;this.kc=j;var b=this.b(),c=this.ya;if(b.scrollHeight){var d=l,e=l,g=Eh(this),h=b.offsetHeight,q=Ch(this),u=Dh(this);q&&g<q?(Fh(this,q),d=j):u&&g>u?(Fh(this,u),b.style.overflowY="",e=j):h!=g?Fh(this,g):this.ya||(this.ya=g);!d&&(!e&&Ah)&&(a=j)}else Gh(this);this.kc=l;a&&(a=this.b(),this.kc||(this.kc=j,b=l,a.value||(a.value=" ",b=j),(e=a.scrollHeight)?(g=Eh(this),d=Ch(this),h=Dh(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.ad,a.style.paddingBottom=h.bottom+1+"px",Eh(this)==
g&&(a.style.paddingBottom=h.bottom+e+"px",a.scrollTop=0,e=Eh(this)-e,e>=d?Fh(this,e):Fh(this,d)),a.style.paddingBottom=h.bottom+"px")):Gh(this),b&&(a.value=""),this.kc=l));c!=this.ya&&this.dispatchEvent("resize")}};m.Ki=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.ya&&(this.ya=this.bh=b)};function Hh(a,b,c,d,e,g,h){R.call(this);this.Jb=ae();this.Fa=a;this.ee=b;this.of=c;this.rf=d;this.Zf=e.categories;this.mi=e.feed_categories;this.oi=e.feed_id;this.Gf=g||k;this.Mc=h||k;this.Ie=this.Jb?new th:k;this.Eb={pending:l,all:l};this.Oa=["pending","all","playlists","publishers","categories"]}t(Hh,R);var Ih="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),Jh="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
m=Hh.prototype;
m.w=function(a){Hh.e.w.call(this,a);a.innerHTML="";a.scrollTop=0;ic(a,Tg);var b=D("pending-content",a);v(this.ee,function(a){Kh(this,b,a)},this);this.fj=D("playlists-content",a);v(this.of,this.Uf,this);this.ij=D("publishers-content",a);v(this.rf,this.Vf,this);this.di=D("categories-list",a);this.ng=D("feed-ids",a);this.ni=D("feed-cats",a);V("/admin/_categories",r(function(a){a=W(a.target);v(a,function(a){Lh(this,a,"category",Qa(this.Zf,a.id)||!this.Zf.length)},this)},this));v(Jh,function(a){Lh(this,a,
"feed_category",Qa(this.mi,a))},this);v(Ih,function(a){Lh(this,a,"feed_id",this.oi==a)},this);this.resize()};
m.z=function(){Hh.e.z.call(this);this.da=D("input",this.b());var a=new Xf(this.da),b=new Hg(this.da);this.ra=D("tabs",this.b());this.v="pending";var c=l;N(N(N(N(this.j(),window,"resize",va(S,r(this.resize,this))),a,"key",r(function(a){"13"==a.keyCode&&Mh(this,this.da.value)},this)),b,"after_paste",r(function(){Mh(this,this.da.value)},this)),this.ra,"click",r(function(a){a=H(a.target,"li");this.lb(a)},this));N(this.j(),this.b(),"scroll",r(function(){if(this.Fa&&!c&&!this.Eb[this.v]&&("pending"==this.v||
"all"==this.v)&&this.b().scrollTop+E().height>this.b().scrollHeight-this.b().clientTop){c=j;var a=D("spinner",this.b());Q(a,j);var b="pending"==this.v?this.ee:this.Ae;V("/admin/_media/collection/"+this.Fa+"?offset="+b.length+("pending"==this.v?"&pending=1":""),r(function(g){c=l;g=Qe(jf(g.target)).medias;g=Ma(g,function(a){return new zd(a)});Ua(b,g);var h=D(this.v+"-content",this.b());v(g,function(a){Kh(this,h,a)},this);this.Eb[this.v]=!g.length;A(a,"finished",!g.length)},this))}},this));this.resize()};
m.resize=function(){dd(this.b(),E().height-40)};
function Mh(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.Fa&&c&&(a.da.disabled="disabled",V("admin/_add/collection/"+a.Fa,r(function(a){this.da.value="";this.da.disabled="";a=W(a.target);if("media"==a.type){var b=Hd(Gd.a(),a.data);Oa(this.ee,function(a){return a.id==b.id})||(this.ee.push(b),a=D("pending-content",this.b()),Kh(this,a,b,j),this.lb(Qb("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Oa(this.of,function(a){return a.id==
c.id})||(this.of.push(c),this.Uf(c),this.lb(Qb("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Oa(this.rf,function(a){return a.id==h.id})&&(this.rf.push(h),this.Vf(h),this.lb(Qb("li","publishers",i)[0]))}},a),"POST","url="+c))}
m.lb=function(a){v(this.Oa,function(b){A(this.ra.parentElement,b,z(a,b));this.v=z(a,b)?b:this.v},this);this.Fa&&!this.Ae&&V("/admin/_media/collection/"+this.Fa,r(function(a){a=Qe(jf(a.target)).medias;this.Ae=Ma(a,function(a){return new zd(a)});var c=D("all-content",this.b());v(this.Ae,function(a){Kh(this,c,a)},this)},this))};
m.Uf=function(a){var b=I(Ug,{name:a.name});this.fj.appendChild(b);var c=D("remove",b);N(this.j(),c,"click",function(){V("admin/_remove/collection/"+this.Fa,r(function(){G(b)},this),"POST","pub_id="+a.id)})};m.Vf=function(a){var b=I(Wg,{name:a.name||a.id,I:a.picture});this.ij.appendChild(b);var c=D("remove",b);N(this.j(),c,"click",function(){V("admin/_remove/collection/"+this.Fa,r(function(){G(b)},this),"POST","pub_id="+a.id)})};
function Lh(a,b,c,d){if("category"==c){var e=I(Vg,{name:b.name,id:b.id});a.di.appendChild(e)}else e=I(Vg,{name:b,id:b}),("feed_id"==c?a.ng:a.ni).appendChild(e);A(e,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;N(a.j(),e,"click",function(){"feed_id"==c&&v(Vb(this.ng),function(a){y(a,"enabled")});var a=Bb(e,"enabled");V("admin/_edit/collection/"+this.Fa,Fd(),"POST",g+"&enabled="+a)})}
function Kh(a,b,c,d){var e=I(ch,{media:c,Rb:Ed(c)});d?Ub(b,e,0):b.appendChild(e);a.Jb&&(b=a.Ie,d=new sh(e,i),uh(b,d));var b=new eh(D("repos",e)),g=D("thumb",e),d=D("play",e),h=D("approve",e),q=D("remove",e);b.ig=function(a,b){var c=b-24;-50<=c&&50>=c&&Uc(g,"background-position-y",50-c+"%")};N(N(N(N(a.j(),b,"end",function(){var a=(g.style[Ga("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);V("/admin/_posthumb",Fd(),"POST","media="+c.id+"&pos="+a)}),d,"click",r(a.bj,a,c)),h,"click",
r(a.Wf,a,c,j,e)),q,"click",r(a.Wf,a,c,l,e));S(va(x,e,"show"))}m.Wf=function(a,b,c){var d=a.ei||this.Fa;V("admin/_media/collection",r(function(){x(c,"remove");S(function(){G(c)},300);Y.a();var b;Y.a();b=cc(C("toggle-pending"));Nh(0,b-1);Z.a().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};m.bj=function(a){a=Yd(a);of.a().c(pf,a)};function Oh(a){R.call(this);this.cb=a||k;this.Ac=this.$f=this.Mh=this.dg=0}t(Oh,R);m=Oh.prototype;m.K=function(){this.g=I(Sg)};m.w=function(a){Oh.e.w.call(this,a);var b=I(Sg,{Jg:this.cb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
m.z=function(){Oh.e.z.call(this);this.da=D("input",this.b());var a=new Xf(this.da);this.mj=D("scrollable",this.b());this.Fd=D("admin-channels",this.b());this.If=D("topics",this.b());this.Hd=D("collections",this.b());this.cg=C("admin-col-list");this.Cd=C("admin-list");X.a();this.cb?(V("/admin/_topicmedias/"+this.cb,r(function(a){a=W(a.target);Eb(a,function(a,b){Q(this.If.parentElement,j);if(a&&a.length){var e=I(Zg,{Bj:b,tc:a.length});this.If.appendChild(e);M(e,"click",r(function(){a=Ma(a,function(a){return new zd(a)});
(new Hh("",a,[],[],[])).i(this.Cd);Z.a().c("navigate",this.Cd,l,b)},this));Z.a().subscribe("approved",function(b){if(Oa(a,function(a){return a.id==b.id})){var d=D("pending",e),q=cc(d)-1;0>=q?(G(e),qc(e)):Zb(d,q)}},this)}},this);this.Ac&&Nh(Y.a(),this.Ac);this.Mh=O(this.If.parentElement).height;this.resize()},this)),V("/admin/_collections/"+this.cb,r(function(a){a=W(a.target);Q(this.Hd.parentElement,!!a.length);v(a,this.Tf,this);this.Ac&&Nh(Y.a(),this.Ac);this.dg=O(this.Hd.parentElement).height;this.resize()},
this))):V("/admin/_channels",r(function(a){a=W(a.target);Q(this.Fd.parentElement,!!a.length);v(a,this.Sf,this);this.$f=O(this.Fd.parentElement).height;this.resize()},this));N(this.j(),a,"key",r(function(a){"13"==a.keyCode&&this.da.value&&(a=this.da.value,this.da.disabled="disabled",V(this.cb?"/admin/_collections":"/admin/_channels",r(function(a){a=W(a.target);this.cb?(Q(this.Hd.parentElement,!!a),this.Tf(a)):(Q(this.Fd.parentElement,!!a),this.Sf(a));this.da.disabled="";this.da.value=""},this),"POST",
"name="+a+(this.cb?"&cid="+this.cb:"")))},this))};
m.Sf=function(a){var b=new fe(a),c=I(Xg,{J:b});this.Fd.appendChild(c);M(c,"click",r(function(a){z(a.target,"on")||z(a.target,"off")?(A(c,"on",z(a.target,"on")),A(c,"off",!z(a.target,"on")),V("/admin/_channel/online/"+b.id,r(function(a){a.target.disabled="";a=W(a.target);A(c,"on",a.online);A(c,"off",!a.online)},this),"POST","online="+z(a.target,"on"))):z(a.target,"program")?V("/admin/_program",Fd(),"POST","channel_id="+b.id):z(a.target,"fetch")?V("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):z(a.target,"remove")&&confirm("Remove "+b.name+"?")?(Q(c,l),V("/admin/_channels/"+b.id,function(a){W(a.target).deleted?G(c):Q(c,j)},"DELETE")):((new Oh(b.id)).i(this.cg),Z.a().c("navigate",this.cg,l,b.name))},this))};
m.Tf=function(a){var b=I(Yg,{De:a});this.Ac+=a.pending;this.Hd.appendChild(b);M(b,"click",r(function(c){z(c.target,"remove")&&confirm("Remove "+a.name+"?")?(Q(b,l),V("/admin/_collections/"+a.id,function(a){W(a.target).deleted?G(b):Q(b,j)},"DELETE")):z(c.target,"fetch")?V("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):V("/admin/_media/collection/"+a.id+"?pending=1",r(function(b){var b=Qe(jf(b.target)),c=b.medias,c=Ma(c,function(a){return new zd(a)});
(new Hh(a.id,c,b.playlists,b.publishers,b.categories)).i(this.Cd);Z.a().c("navigate",this.Cd,l,a.name)},this))},this));Z.a().subscribe("approved",function(c,d){if(d==a.id){var e=D("pending",b),g=cc(e)-1;0>=g?(G(b),qc(b)):Zb(e,g)}},this)};m.resize=function(){dd(this.mj,this.$f+this.Mh+this.dg+110)};function Ph(a){R.call(this);this.yh=!!a;this.f=new zh("Add to the conversation.");this.Ca=new ug("tweet");mg(this.Ca,16,j);this.Ja=new ug("post");mg(this.Ja,16,j);a=U.a().h;this.Kd=a.gj;this.qe=a.qh;this.vb=new ug("add");this.lf=this.Pa=this.ie=k}t(Ph,R);m=Ph.prototype;m.K=function(){this.g=I(Mg)};
m.z=function(){Ph.e.z.call(this);this.f.i(D("comment-textarea",this.b()));var a=this.f;a.Vg=70;a.resize();a=new Xf(this.f.eb());this.fi=D("comment-controls",this.b());Q(this.fi,this.yh);A(this.b(),"show-controls",this.yh);this.Ci=D("input-holder",this.b());td(this,this.Ca);this.Ca.i(D("tweet-toggle",this.b()));V("/_twitter",r(function(a){a=W(a.target);this.qe=this.qe&&a.auth;this.Ej=a.auth_url;lg(this.Ca,this.qe)},this));td(this,this.Ja);this.Ja.i(D("fb-toggle",this.b()));FB.api("/me/permissions",
r(function(a){this.Kd=this.Kd&&!!a.data[0].publish_stream;lg(this.Ja,this.Kd)},this));td(this,this.vb);this.vb.i(D("add-comment",this.b()));this.vb.Ub(l);N(N(N(N(N(N(this.j(),this.f.b(),"focus",r(function(){this.dispatchEvent("focus")},this)),a,"key",r(function(a){a.stopPropagation();this.vb.Ub(!!this.f.C());"13"==a.keyCode?(a.preventDefault(),a.stopPropagation(),this.vb.setActive(this.f.C()),this.mb(a)):"8"==a.keyCode&&(!this.C()&&this.Pa)&&Qh(this)},this)),this.f,"resize",r(function(a){this.dispatchEvent(a)},
this)),this.Ja,"action",r(this.Ri,this)),this.Ca,"action",r(this.$i,this)),this.vb,"action",r(this.mb,this));Z.a().subscribe("reply-comment",this.kj,this);Z.a().subscribe("reply-tweet",this.lj,this);U.a().h.subscribe($d,function(){lg(this.Ca,j)},this)};m.kj=function(a,b){this.Pa&&Qh(this);this.ie=b;this.lf=a.id?a.id:a.toString();this.Pa=F("div","token","@"+b.Rc());this.Ci.appendChild(this.Pa);this.ea(j);this.f.b().style.paddingLeft=O(this.Pa).width+5+"px"};
m.lj=function(a){this.Pa&&Qh(this);this.Bk=a.id;this.Ba((this.C()?this.C()+" ":"")+"@"+a.handle+" ");this.ea(j);this.Ca.Ub(j);this.ea(j);a=this.C().length;this.setSelectionRange(a,a)};function Qh(a){a.ie=k;a.lf=k;G(a.Pa);a.Pa=k;a.f.b().style.paddingLeft=""}
m.setSelectionRange=function(a,b){if(this.f.b().setSelectionRange)this.f.b().focus(),this.f.b().setSelectionRange(a,b);else if(this.f.b().createTextRange){var c=this.f.b().createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",a);c.select()}};m.C=function(){return this.f.C()};m.Ba=function(a,b,c){lg(this.Ja,!!b);lg(this.Ca,!!c);this.f.Ba(a);this.vb.Ub(!!a)};m.collapse=aa();m.Sd=function(){return z(this.b(),"focused")};
m.ea=function(a){a&&this.f.b().focus();return A(this.b(),"focused",a)};m.mb=function(){this.f.C()&&(this.dispatchEvent({type:"add",ai:r(function(a){var b=W(a.target);if(b.comment){var a=new Rh(b.comment),c=b.tweet?new Sh(b.tweet):k;if(b=Hd(Gd.a(),b.comment.media))b.c(Bd,a),c&&b.c("add-tweet",c)}},this),Qc:Uf(this.Ja,16),Lf:Uf(this.Ca,16),text:this.f.C(),D:this.lf,Lh:this.ie&&this.ie.id}),this.f.Ba(""),Qh(this))};
m.Ri=function(){!this.Kd&&Uf(this.Ja,16)&&(Q(C("overlay"),j),FB.login(r(function(a){Q(C("overlay"),l);this.li=!!a.authResponse;lg(this.Ja,this.li)},this),{scope:"publish_stream"}))};m.$i=function(){if(!this.qe&&Uf(this.Ca,16)){lg(this.Ca,l);var a=window.open(this.Ej,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Rh(a){this.id=a.id;this.l=a.user?pe(U.a(),a.user):k;this.text=a.text;this.time=a.time?Ad(a.time+"Z"):new Md;this.vc=Th(this.time.getTime());this.D=a.parent_id;this.he=[];a.replies&&v(a.replies,function(a){a=new Rh(a);this.he.push(a)},this)}
function Uh(a,b,c,d,e,g,h,q){var u=new Rh({text:c,parentId:g});u.l=a;u.D=g||k;V("/_comment",r(function(a){a=W(a.target);u.id=a.comment.id;q&&q(u)},this),"POST","media_id="+b+"&text="+c+"&tweet="+e+"&facebook="+d+(g?"&parent_id="+g:"")+(h?"&to_user_id="+h:""));return u};function Sh(a){this.id=a.id;this.l=a.user&&pe(U.a(),a.user);this.handle=a.handle;this.I=a.picture;this.text=a.text;this.time=Ad(a.time+"Z")};function Vh(a,b,c,d){R.call(this);this.d=a;this.ta=b||[];this.Lc={};this.vd=!!c;this.Ra=d||[];this.ud={};this.Z=this.lk=0;this.Kb={}}t(Vh,R);m=Vh.prototype;
m.w=function(a){Vh.e.w.call(this,a);a.innerHTML="";a.scrollTop=0;x(this.b(),"ios-scroll");this.t=F("div","loading",F("div","loading-spinner"));this.b().appendChild(this.t);Q(this.t,l);this.Ob=F("div","no-comments","Start the conversation.");this.b().appendChild(this.Ob);this.m=F("div","comments tweets");this.b().appendChild(this.m);N(N(this.j(),window,"resize",va(S,r(this.resize,this))),this.m,"click",r(this.Ee,this));this.ta.length?(v(this.ta,function(a){this.bb(a)},this),this.oc=O(this.m).height):
this.vd&&this.Ra.length?(v(this.Ra,function(a){this.$b(a)},this),this.oc=O(this.m).height):Q(this.t,j);this.vd?(V("/_tweet/"+this.d.id+"?offset="+this.Ra.length,r(function(a){Q(this.t,l);a=Qe(jf(a.target));a=Ma(a,function(a){a=new Sh(a);this.$b(a);return a},this);this.oc=O(this.m).height;this.resize()},this)),this.d.subscribe("add-tweet",function(a){this.$b(a,j)},this)):(V("/_comment/"+this.d.id+"?offset="+this.ta.length,r(function(a){Q(this.t,l);a=Qe(jf(a.target));a=Ma(a,function(a){a=new Rh(a);
this.bb(a);return a},this);this.oc=O(this.m).height;this.resize()},this)),this.d.subscribe(Bd,this.bb,this),this.d.subscribe(Cd,this.sf,this));this.resize(41)};
m.$b=function(a,b){this.ud[a.id]=a;Q(this.Ob,l);var c=vh(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(Kg,{$a:a,text:c,timestamp:Th(a.time.getTime())});Wh(le.a(),a.time,D("timestamp",c));b?Ub(this.m,c,0):this.m.appendChild(c);this.resize();Q(Xb(this.m),j)};
m.Ee=function(a){a=a.target;if(this.vd){var b=H(a,k,"tweet");b&&(b=this.ud[b.id.split("-")[1]],z(a,"reply")&&Z.a().c("reply-tweet",b))}else if(b=H(a,k,"comment")){var b=b.id.split("-")[1],c=this.Lc[b];z(a,"reply")?D("reply-textarea",this.Kb[c.D?c.D:c.id]).focus():z(a,"remove")&&this.d.c(Cd,b)}};m.sf=function(a){var a=C("listcomment-"+a),b=a.nextSibling;for(G(a);b&&z(b,"reply");)b=b.nextSibling,G(b)};
m.bb=function(a){this.ta.push(a);Q(this.Ob,l);var b=I(Lg,{prefix:"listcomment",aa:a,text:vh(a.text),oh:a.l.id==U.a().h.id});Wh(le.a(),a.time,D("timestamp",b));a.D?D("replies",this.Kb[a.D]).appendChild(b):this.m.appendChild(b);v(a.he,function(a){this.bb(a)},this);a.D||(this.m.scrollTop=this.m.scrollHeight);a.id&&Xh(this,a,b);return b};
function Xh(a,b,c){a.Lc[b.id]=b;if(!b.D){a.Kb[b.id]=c;var d=D("reply-textarea",c),c=new Xf(d);N(a.j(),c,"key",r(function(a){a.stopPropagation();"13"==a.keyCode&&d.value&&(a.preventDefault(),a=Uh(U.a().h,this.d.id,d.value,l,l,b.id,b.l.id),this.bb(a),d.value="")},a))}}m.resize=function(a){this.Z=a||this.Z;dd(this.b(),E().height-42-this.Z-(H(this.b(),k,"tabbed")?30:0))};function Yh(a,b,c,d){R.call(this);this.d=this.Ma=a;this.ta=b||[];this.Ra=c||[];this.vd=!!d;this.Kc=new Vh(a,this.ta);this.Jf=new Vh(a,i,j,this.Ra);this.f=new Ph(j);this.Oa=["comments","tweets"];this.qd={}}t(Yh,R);m=Yh.prototype;m.w=function(a){Yh.e.w.call(this,a);x(a,"conversation");x(a,"ios-scroll");ic(a,ah);x(a.firstChild,this.vd?"tweets":"comments")};
m.z=function(){this.ra=D("tabs",this.b());this.Kc.i(D("comments-content",this.b()));this.Jf.i(D("tweets-content",this.b()));rd(this.f,this.b());N(N(N(N(N(N(N(this.j(),this.ra,"click",r(function(a){a=H(a.target,"li");this.lb(a)},this)),this.f,"add",r(this.mb,this)),this.f,"resize",r(function(){z(this.b().firstChild,"comments")?this.Kc.resize(41):this.Jf.resize(41)},this)),window,"click",r(function(a){!H(a.target,k,"comment-input")&&!this.f.C()&&(this.f.ea(l),this.f.collapse())},this)),D("no-comments",
this.b()),"click",r(this.lh,this)),Pb("no-comments",this.b())[1],"click",r(this.lh,this)),window,"click",r(function(a){!H(a.target,k,"comment-input")&&!this.f.C()&&(this.f.ea(l),this.f.collapse())},this));this.Kc.resize(41);this.Jf.resize(41)};m.lh=function(a){a.preventDefault();a.stopPropagation();this.f.ea(j)};
m.mb=function(a){var b=Uh(U.a().h,this.d.id,a.text,a.Qc,a.Lf,a.D,a.Lh,r(function(a){var b=this.qd[a.time.getTime()];b.id="infocomment-"+a.id;Xh(this.Kc,a,b)},this)),c=this.Kc.bb(b);this.qd[b.time.getTime()]=c;a.Qc&&!a.D&&(FB.api("/me/feed","POST",{message:a.text,name:this.d.name,link:this.d.link,picture:this.d.Za,caption:"on XYLO",description:this.d.description},aa()),lg(this.f.Ja,l))};m.lb=function(a){v(this.Oa,function(b){A(this.ra.parentElement,b,z(a,b));this.v=z(a,b)?b:this.v},this)};function Th(a){var b=s(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return Zh(c,b,0);c=Math.floor(c/60);if(24>c)return Zh(c,b,1);c=new Date(s());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?Zh(c,b,2):""}
function Zh(a,b,c){return!b&&0==c?(b=wa("{$num} minute ago",{num:a}),c=wa("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=wa("in {$num} minute",{num:a}),c=wa("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=wa("{$num} hour ago",{num:a}),c=wa("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=wa("in {$num} hour",{num:a}),c=wa("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=wa("{$num} day ago",{num:a}),c=wa("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=wa("in {$num} day",{num:a}),c=wa("in {$num} days",
{num:a}),1==a?b:c):""};function $h(a,b,c,d,e){R.call(this);v(a.ff,function(a){var b=a.Q();b&&b.media.id==this.id?(this.ej=a,v(a.Bd,function(a){a.pe||(this.pb[a.l.id]=a.l)})):this.pb={}},a);this.d=this.Ma=a;this.Wd=c||k;this.Rg=d||k;this.yi=l;this.og=!b;this.Zc=EMBED||!!e;this.te=[];this.Ad={};this.ta=[];this.Lc={};this.Kb={};this.qd={};this.Ra=[];this.ud={};this.f=new Ph(j);this.Wb=new ug("Star");mg(this.Wb,16,j);this.mg=new ug("Facebook");this.Ph=new ug("Twitter");this.ph=new ug("Play");this.ed=new ug("Plus");mg(this.ed,
16,j);this.Z=0}t($h,R);m=$h.prototype;m.K=function(){this.g=I(Ig,{media:this.d})};m.w=function(a){$h.e.w.call(this,a);var b=I(Ig,{media:this.d,description:this.d.description?vh(this.d.description):"",Rb:Ed(this.d),Di:this.Wd?this.Wd.id:k});a.innerHTML=b.innerHTML};
m.z=function(){$h.e.z.call(this);this.se=D("viewers",this.b());var a=D("picture",this.b()),b=D("scrollable",this.b()),c=D("publisher",this.b()),d=D("title",this.b()),e=D("links",this.b());this.t=D("loading",this.b());var g=a.firstChild;this.He=D("info-contents",this.b());this.zd=D("user-poll",this.b());this.Lk=D("tweet-holder",this.b());this.Qa=D("tweets",this.b());this.Bb=D("dot-nav",this.b());this.m=D("comments",this.b());this.Ob=D("no-comments",this.b());rd(this.f,this.b());this.Wb.i(D("star",
this.b()));lg(this.Wb,ce(U.a().h,this.d));this.mg.i(D("facebook",this.b()));this.Ph.i(D("twitter",this.b()));this.ph.i(D("play",this.b()));this.ed.i(D("plus",this.b()));this.Kf=new qe(5E3);this.Ok=D("watch-with",this.b());A(this.b(),"mini",this.Zc);!this.og||this.d.pg?ai(this,l,this.d.description,this.d.me,this.d.Oh,this.d.Ta):this.og&&V("/_info/"+this.d.id,r(function(a){a=Qe(jf(a.target));ai(this,j,a.description,a.seen,a.tweets,a.comments)},this));if("youtubeUCAMPco9PqjBbI_MLsDOO4Jw"==this.d.Y.id||
"youtubeAMPco9PqjBbI_MLsDOO4Jw"==this.d.Y.id){var h=D("status",this.zd),q=D("poll-options",this.zd);Zb(h,"WHO'S YOUR FAVORITE FINALIST?");h=I(dh,{name:"Kree Harrison",mf:"31%"});q.appendChild(h);h=I(dh,{name:"Angie Miller",mf:"52%"});q.appendChild(h);h=I(dh,{name:"Candice Glover",mf:"17%"});q.appendChild(h);Q(this.zd,j);N(this.j(),q,"click",r(function(a){if(!z(this.zd,"voted")){x(this.zd,"voted");var a=H(a.target,k,"option"),b=cc(D("name",a));x(a,"selected");this.f.Ba("@americanidol I just voted for "+
b,j,j);this.f.ea(j);v(Vb(q),function(a){var b=cc(D("percent-number",a));D("percent",a).style.width=b},this)}},this))}N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(this.j(),window,"resize",va(S,r(this.resize,this))),c,"click",r(function(){Z.a().c("media-list",this.d.Y.name,i,"/admin/_media/publisher/"+this.d.Y.id,this.d.Y.I,this.d.Y.description,this.d.Y.link,"/_publisher/"+this.d.Y.id)},this)),this.Wb,"action",r(function(){Gd.a().c("star",this.d,Uf(this.Wb,16));V("/_star",i,"POST","media_id="+this.d.id+
(!Uf(this.Wb,16)?"&delete=1":""))},this)),this.mg,"action",r(this.Qi,this)),this.Ph,"action",r(this.Zi,this)),this.ph,"action",r(this.Ti,this)),this.ed,"action",r(this.Wi,this)),D("local",this.b()),"click",r(function(){Q(D("link-select",this.b()),j);D("link-input",this.b()).select()},this)),this.f,"add",r(this.mb,this)),this.Ob,"click",r(function(a){a.preventDefault();a.stopPropagation();this.f.ea(j)},this)),D("conv-link",this.b()),"click",r(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",
this.d,this.ta,this.Ra)},this)),D("tweets-link",this.b()),"click",r(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.d,this.ta,this.Ra,j)},this)),this.f,"focus",r(function(){this.resize(0,j)},this)),this.f,"resize",r(function(a){this.resize(a.target.ya-41)},this)),this.Bb,"click",r(function(a){z(a.target,"dot")&&(bi(this,a.target),this.Kf.stop())},this)),this.Kf,se,r(function(){var a=this.xb&&(this.xb.nextElementSibling!=i?this.xb.nextElementSibling:Wb(this.xb.nextSibling))||
D("dot",this.b());S(r(function(){bi(this,a)},this))},this)),window,"click",r(function(a){!H(a.target,k,"comment-input")&&!this.f.C()&&(this.f.ea(l),this.f.collapse()&&this.resize(0))},this)),g,"load",function(){Q(g,j);S(function(){O(g).height<O(a).height+50&&x(g,"fix-height");O(g).width>2*O(a).width?x(g,"pan-left"):O(g).height>2*O(a).height&&x(g,"pan-top");g.style.marginTop=-O(g).height/2+"px";g.style.marginLeft=-O(g).width/2+"px";x(g,"show")})}),b,"scroll",r(function(){var h=((this.Zc?100:120)-b.scrollTop)/
100;fd(c,Math.min(1,Math.max(h,0)));fd(d,Math.min(1,Math.max(h,0)));fd(e,Math.min(1,Math.max(h,0)));fd(g,Math.min(0.5,Math.max(h,0.1)));A(a,"scrolled",10<b.scrollTop)},this)),this.m,"scroll",r(this.uf,this)),this.m,"click",r(this.Ee,this)),this.Qa,"click",r(this.Dj,this)),D("desc-link",this.b()),"click",r(function(){var c=Bb(a,"scrolled");(new Ff(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,c?this.Zc?70:170:0],300)).play()},this));this.Wd&&N(this.j(),D("prev-link",this.b()),"click",r(function(){Z.a().c("media-info",
this.Wd,j,i,this.f.C())},this));this.Rg&&this.f.Ba(this.Rg);this.d.subscribe(Bd,function(a){ci(this,a,j)},this);this.d.subscribe(Cd,this.sf,this);this.d.subscribe("add-tweet",function(a){this.$b(a,j)},this);this.d.subscribe(Dd,function(a,b,c){di(this,a,!c)},this);U.a().h.subscribe("set-starred",function(){lg(this.Wb,ce(U.a().h,this.d))},this);ne().subscribe(he,function(a,b){lg(this.ed,b)},this)};
function ai(a,b,c,d,e,g){c?(a.d.description=c,D("description",a.b()).innerHTML=vh(c),Q(D("scrollable",a.b()),j)):(Q(D("desc-link",a.b()),l),Q(D("scrollable",a.b()),l));a.te=Ma(d,function(a){a=b?pe(U.a(),a):a;a.id!=U.a().h.id&&(Q(this.se,j),this.yi=j,di(this,a,l));return a},a);Eb(a.d.pb,function(a){di(this,a,j)},a);a.Ra=Ma(e,function(a){a=b?new Sh(a):a;this.$b(a);this.xb=this.Bb.firstChild;x(this.xb,"selected");return a},a);e.length&&a.Kf.start();a.m&&Q(a.m.parentElement,j);Q(a.Ob,!g.length);g=Ma(g,
function(a){a=b?new Rh(a):a;a.D||ci(this,a);return a},a);Q(a.t,l);a.resize();b&&(a.d.Oh=a.Ra,a.d.Ta=g,a.d.me=a.te,a.d.pg=j)}m.gb=function(){return this.f.Sd()||!!this.f.Pa||!!this.f.C()};function bi(a,b){if(b){v(Vb(a.Bb),function(a){return y(a,"selected")});a.xb=b;x(a.xb,"selected");var c=Pa(Vb(a.Bb),function(a){return a==b});(new Ff(a.Qa,[a.Qa.scrollLeft,a.Qa.scrollTop],[320*c,a.Qa.scrollTop],200)).play();a.resize()}}
m.mb=function(a){var b=Uh(U.a().h,this.d.id,a.text,a.Qc,a.Lf,a.D,a.Lh,r(function(a){var b=this.qd[a.time.getTime()];b.id="infocomment-"+a.id;ei(this,a,b)},this)),c=ci(this,b);this.qd[b.time.getTime()]=c;a.Qc&&!a.D&&FB.api("/me/feed","POST",{message:a.text,name:this.d.name,link:this.d.link,picture:this.d.Za,caption:"on XYLO",description:this.d.description},aa());ee.a().aa(this.d.id,a.Qc,a.Lf)};
m.$b=function(a,b){this.ud[a.id]=a;var c=vh(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(Kg,{$a:a,text:c,timestamp:Th(a.time.getTime()),prefix:"infotweet"}),d=F("div","dot");Wh(le.a(),a.time,D("timestamp",c));b?(Ub(this.Qa,c,0),Ub(this.Bb,d,0),10<Vb(this.Qa).length&&(G(this.Qa.lastChild),G(this.Bb.lastChild),
bi(this,d))):(this.Qa.appendChild(c),this.Bb.appendChild(d));this.resize();Q(Xb(this.Qa),j)};function ci(a,b,c){a.ta.push(b);Q(a.Ob,l);var d=I(Lg,{prefix:"infocomment",aa:b,text:vh(b.text),oh:b.l.id==U.a().h.id});Wh(le.a(),b.time,D("timestamp",d));b.D?D("replies",a.Kb[b.D]).appendChild(d):a.m.appendChild(d);v(b.he,function(a){ci(this,a,c)},a);!b.D&&c&&(a.m.scrollTop=a.m.scrollHeight,a.He.firstChild.scrollTop=a.He.firstChild.scrollHeight);b.id&&ei(a,b,d);return d}
function ei(a,b,c){a.Lc[b.id]=b;if(!b.D){a.Kb[b.id]=c;var d=D("reply-textarea",c),c=new Xf(d);N(a.j(),c,"key",r(function(a){a.stopPropagation();"13"==a.keyCode&&d.value&&(a.preventDefault(),a=Uh(U.a().h,this.d.id,d.value,l,l,b.id,b.l.id),ci(this,a),d.value="")},a))}}
function di(a,b,c){if(!c&&a.Ad[b.id])y(a.Ad[b.id],"online");else if(b.id!=U.a().h.id){if(!a.Ad[b.id]){var d=I(Jg,{l:b});a.Ad[b.id]=d;Ub(a.se,d,1);N(N(N(a.j(),d,"click",function(){Z.a().c("profile",b)}),d,"mouseover",function(){var a=Zc(d),c=Zc(this.se),h=C("hovercard");Zb(h,b.Rc()+(z(d,"online")?" is watching":" saw this"));var q=O(h);h.style.right=320-c.x-a.x-q.width/2-12+"px";h.style.top=c.y+a.y+13+"px";Q(h,j)}),d,"mouseout",function(){Q(C("hovercard"),l)})}Q(a.se,j);A(a.Ad[b.id],"online",c)}}
m.Dj=function(a){var a=a.target,b=H(a,k,"tweet");b&&(b=this.ud[b.id.split("-")[1]],z(a,"reply")&&Z.a().c("reply-tweet",b))};m.Ee=function(a){var a=a.target,b=H(a,k,"comment");if(b){var b=b.id.split("-")[1],c=this.Lc[b];z(a,"reply")?D("reply-textarea",this.Kb[c.D?c.D:c.id]).focus():z(a,"remove")&&this.d.c(Cd,b)}};m.sf=function(a){var b=C("infocomment-"+a),c=b.nextSibling;G(b);for(Sa(this.ta,function(b){return b.id==a});c&&z(c,"reply");)c=c.nextSibling,G(c)};
m.uf=function(){A(this.m.parentElement,"top-grad",!!this.m.scrollTop);var a=this.m.style.maxHeight,b=E().height,a=a.substring(0,a.length-2),c=O(this.m).height;A(this.m.parentElement,"bottom-grad",this.m.scrollTop<this.m.scrollHeight-a-5&&c>=a&&640<b)};
m.resize=function(a,b){this.Z=a!=i?a:this.Z;var c=E().height;dd(this.He,c-(this.Zc?183:283)-(this.te.length?38:0));640<c&&this.m&&this.m.parentElement?(Uc(this.m,"max-height",c-Zc(this.m.parentElement).y-(this.Zc?213:313)-(this.te.length?38:0)-this.Z+"px"),this.uf()):640>c&&(Uc(this.m,"max-height",""),this.uf());b&&S(r(function(){(new Ff(this.m,[this.m.scrollLeft,this.m.scrollTop],[this.m.scrollLeft,this.m.scrollHeight],400)).play()},this),0)};
m.Qi=function(){Q(C("overlay"),j);FB.ui({method:"feed",name:this.d.name,link:this.d.link,I:this.d.Za,caption:"on XYLO",description:this.d.description},function(){Q(C("overlay"),l)});fi(ee.a(),this.d.id,j,l)};m.Zi=function(){var a=window.open("https://twitter.com/share?url="+this.d.link+"&text=I'm watching "+this.d.name+" "+this.d.link,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();fi(ee.a(),this.d.id,l,j)};m.Ti=function(){var a=Yd(this.Ma);of.a().c(pf,a)};
m.Wi=function(){ne().c(he,this.Ma,Uf(this.ed,16))};function gi(a,b,c,d,e,g){R.call(this);this.Jb=ae();this.Xg=a||k;this.Qh=b||k;this.af={};this.Gf=c||k;this.Mc=d||k;this.jg=g||k;this.Hi=e||k;this.Ie=this.Jb?new th:k;this.oc=this.Hg=0}t(gi,R);
gi.prototype.w=function(a){gi.e.w.call(this,a);a.innerHTML="";a.scrollTop=0;x(this.b(),"ios-scroll");(this.Mc||this.Gf)&&hi(this);!this.Mc&&this.jg&&V(this.jg,r(function(a){a=W(a.target);a.description&&this.Yc?(D("description",this.Yc).innerHTML=vh(a.description),this.Hg=O(this.Yc).height,this.resize()):a.description&&hi(this)},this));this.t=F("div","loading",F("div","loading-spinner"));this.b().appendChild(this.t);Q(this.t,l);z(this.b(),"starred")&&(this.qc=F("div","no-comments","Favorities will appear here."),
this.b().appendChild(this.qc));this.Zd=F("div","medias");this.b().appendChild(this.Zd);N(this.j(),window,"resize",va(S,r(this.resize,this)));this.Qh?(Q(this.t,j),V(this.Qh,r(function(a){Q(this.t,l);a=Qe(jf(a.target));a=Ma(a,function(a){return new zd(a)});v(a,this.xe,this);this.oc=O(this.Zd).height;this.resize()},this))):this.Xg&&(v(this.Xg,this.xe,this),this.oc=O(this.Zd).height,this.resize())};
gi.prototype.xe=function(a){this.qc&&Q(this.qc,l);var b=I(bh,{media:a}),c=D("list-play",b),d=D("list-plus",b);this.Zd.appendChild(b);if(this.Jb){var e=this.Ie,g=new sh(b,i);uh(e,g)}N(N(N(this.j(),b,"click",r(function(){Z.a().c("media-info",a)},this)),c,"click",r(function(b){b.preventDefault();b.stopPropagation();b=Yd(a);of.a().c(pf,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();ne().c(he,a,j)});this.af[a.id]=b};
gi.prototype.resize=function(){dd(this.b(),E().height-40-(H(this.b(),k,"tabbed")?30:0))};function hi(a){a.Yc=I(Qg,{Za:a.Gf,description:a.Mc?vh(a.Mc):"",link:a.Hi});a.b().appendChild(a.Yc);a.Hg=O(a.Yc).height;a.resize()};function ii(a){this.id=a.id;this.X=pe(U.a(),a.from_user);this.zj=pe(U.a(),a.to_user);this.text=a.text;this.vc=(this.time=a.time?Ad(a.time+"Z"):k)?Th(this.time.getTime()):k};function ji(a){return'<div class="message'+(a.pi?" flip":"")+'"><a href="#user:'+J(a.message.X.id)+'"><div class="picture" style="background:'+J(a.message.X.color)+'"><img src="'+J(a.message.X.I)+'"/></div></a><div class="body"><a class="user" href="#user:'+J(a.message.X.id)+'">'+J(a.message.X.name)+'</a>  <div class="texts"><div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.vc)+"</div></div></div></div></div>"}
function ki(a){return'<div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.vc)+"</div></div>"};function li(a,b){R.call(this);this.sa=a||k;this.Wa=b||k;this.$g={};this.f=new Ph(l);this.Z=0;this.Ib=this.sa.id==U.a().h.id}t(li,R);
li.prototype.w=function(a){li.e.w.call(this,a);a.innerHTML="";a.scrollTop=0;this.kb=F("div","messages");this.b().appendChild(this.kb);A(this.kb,"inbox",this.Ib);this.t=F("div","spinner");this.kb.appendChild(this.t);Q(this.t,l);this.ae=F("div","no-comments","Start a private conversation.");this.kb.appendChild(this.ae);this.Xa=F("div","no-comments","Load previous messages");this.kb.appendChild(this.Xa);Q(this.Xa,!this.Ib&&10<=this.Wa.length);Q(this.ae,l);this.Ib?this.Wa=this.Wa.reverse():(rd(this.f,
this.b()),N(N(N(this.j(),window,"click",r(function(a){!H(a.target,k,"comment-input")&&!this.f.C()&&(this.f.ea(l),this.f.collapse()&&this.resize(0))},this)),this.ae,"click",r(function(a){a.preventDefault();a.stopPropagation();this.f.ea(j)},this)),this.Xa,"click",r(this.Ii,this)));N(N(this.j(),this.f,"add",r(this.mb,this)),window,"resize",va(S,r(this.resize,this)));Ka(this.Wa,function(a){mi(this,a)},this);U.a().subscribe("new-message",function(a){if(a.X.id==this.sa.id||a.zj.id==this.sa.id){if(this.Ib){var c=
this.$g[a.X.id];c&&G(c)}mi(this,a,this.Ib);this.resize()}},this);this.resize()};li.prototype.Ii=function(){this.Xa&&Q(this.Xa,l);Q(this.t,j);V("/_message/"+this.sa.id+"?offset="+this.Wa.length,r(function(a){a=W(a.target);if(a.length){this.Xd=k;var b=F("div","separator");Ub(this.kb,b,3)}Q(this.t,l);this.Xa&&Q(this.Xa,!!a.length);Ka(a,function(a){a=new ii(a);this.Wa.push(a);mi(this,a,j);return a},this);a.length&&(this.b().scrollTop=0,this.Xd=k,this.b().scrollTop=b.offsetHeight)},this))};
function mi(a,b,c){Q(a.ae,l);a.Xa&&Q(a.Xa,!a.Ib&&10<=a.Wa.length);var d;if(a.Xd&&a.Xd.X.id==b.X.id)d=I(ki,{message:b}),D("texts",a.Ei).appendChild(d),d=D("timestamp",d);else{var e=I(ji,{message:b,pi:b.X.id==U.a().h.id});a.Xd=b;a.Ei=e;c?Ub(a.kb,e,3):a.kb.appendChild(e);d=D("timestamp",e);a.Ib&&(a.$g[b.X.id]=e,N(a.j(),e,"click",r(function(){Z.a().c("profile",b.X)},a)))}Wh(le.a(),b.time,d);c||(a.b().scrollTop=a.b().scrollHeight)}
li.prototype.mb=function(a){var b=new ii({from_user:U.a().h,to_user:pe(U.a(),this.sa),text:a.text});b.time=new Md;b.vc=Th(b.time.getTime());mi(this,b);V("/_message",a.ai,"POST","from_id="+U.a().h.id+"&to_id="+this.sa.id+"&text="+a.text)};li.prototype.resize=function(a){this.Z=a||this.Z;dd(this.b(),E().height-82-this.Z-(H(this.b(),k,"tabbed")?30:0))};function ni(a){return'<div class="user'+(a.media?" media":"")+'"><div class="name">'+J(a.l.name)+'</div><div class="picture" style="background:'+J(a.l.color)+'"><img src="'+J(a.l.I)+'"/></div>'+(a.timestamp?'<div class="timestamp">'+J(a.timestamp)+"</div>":"")+(a.media?'<div class="media"><div class="watched">LAST WATCHED </div><div class="watching">NOW WATCHING </div><a class="media-link">'+J(a.media.name)+"</a></div>":"")+"</div>"};function oi(a,b){R.call(this);this.Bc=a||k;this.Sh={};this.Pb=[];this.rc=[];this.uc=[];this.rb=!!b;this.Z=0}t(oi,R);
oi.prototype.w=function(a){oi.e.w.call(this,a);a.innerHTML="";a.scrollTop=0;x(a,"friendlist");x(a,"ios-scroll");this.rb||(a=F("div","label show-all",F("a",{href:"#friendlist:1"},"ALL FRIENDS >")),this.b().appendChild(a));this.ce=F("div","label online-friends-label",this.rb?"ONLINE FRIENDS":F("a",{href:"#friendlist:1"},"ONLINE FRIENDS"));Q(this.ce,l);this.b().appendChild(this.ce);this.hf=F("div","online-friends");this.b().appendChild(this.hf);this.gd=F("div","label",this.rb?"RECENTLY ONLINE":F("a",
{href:"#friendlist:1"},"RECENTLY ONLINE"));Q(this.gd,l);this.b().appendChild(this.gd);this.ge=F("div","recent-friends");this.b().appendChild(this.ge);this.rb&&(this.be=F("div","label","OFFLINE FRIENDS"),Q(this.be,l),this.b().appendChild(this.be),this.df=F("div","offline-friends"),this.b().appendChild(this.df),V("/_friends?offline=1",r(function(a){a=W(a.target);this.rc=Ma(a,function(a){a=pe(U.a(),a);pi(this,a,j);return a})},this)),this.rb&&this.resize(),N(this.j(),window,"resize",r(function(){this.rb&&
S(r(function(){this.resize()},this))},this)));if(this.Bc)Ha.sort.call(this.Bc,function(a,b){return a.s&&!b.s?1:!a.s&&b.s?-1:!a.s&&!b.s?0:a.s.getTime()<b.s.getTime()?1:-1}||Xa),v(this.Bc,function(a){pi(this,a)},this);else{var a=U.a(),b=r(function(a){this.Bc=a;Ha.sort.call(this.Bc,function(a,b){return a.s&&!b.s?1:!a.s&&b.s?-1:!a.s&&!b.s?0:a.s.getTime()<b.s.getTime()?1:-1}||Xa);v(this.Bc,function(a){pi(this,a)},this)},this);a.ug?b&&b(a.Ne):V("/_friends",r(function(a){a=W(a.target);this.Ne=Ma(a,function(a){return pe(this,
a)},this);this.ug=j;b&&b(this.Ne)},a))}U.a().subscribe(oe,this.Hj,this)};
function pi(a,b,c){var d=l,e=I(ni,{l:b,timestamp:b.s?Th(b.s.getTime()):k,media:b.Ha});b.s&&Wh(le.a(),b.s,D("timestamp",e));b.sc&&!c?(Q(a.ce,j),x(e,"online"),v(a.Pb,function(a,c){a.Rc()>b.Rc()&&(Ub(this.hf,e,c),Va(this.Pb,c,0,b),d=j)},a),d||(a.hf.appendChild(e),a.Pb.push(b))):b.s&&!c&&5>a.uc.length?(Q(a.gd,j),v(a.uc,function(a,c){a.s&&(b.s&&a.s.getTime()<b.s.getTime())&&(Ub(this.ge,e,c),Va(this.uc,c,0,b),d=j)},a),d||(a.ge.appendChild(e),a.uc.push(b))):a.rb&&(Q(a.be,j),v(a.rc,function(a,c){a.s&&(b.s&&
a.s.getTime()<b.s.getTime())&&(Ub(this.df,e,c),Va(this.rc,c,0,b),d=j)},a),d||(a.df.appendChild(e),a.rc.push(b)));a.rb||(Q(a.gd,!a.Pb.length),Q(a.ge,!a.Pb.length));a.Sh[b.id]=e;c=D("media-link",e);N(a.j(),e,"click",r(function(){Z.a().c("profile",b)},a));c&&N(a.j(),c,"click",r(function(a){a.stopPropagation();a.preventDefault();Z.a().c("media-info",b.Ha)},a))}
oi.prototype.Hj=function(a){var b=this.Sh[a.id];b&&(G(b),Sa(this.rc,function(b){return b.id==a.id})&&Q(this.be,!!this.rc.length),Sa(this.Pb,function(b){return b.id==a.id})&&Q(this.ce,!!this.Pb.length),Sa(this.uc,function(b){return b.id==a.id})&&Q(this.gd,!!this.uc.length));pi(this,a)};oi.prototype.resize=function(a){this.Z=a||this.Z;dd(this.b(),E().height-42-this.Z-(H(this.b(),k,"tabbed")?30:0))};function qi(a,b){R.call(this);this.Xh=a;this.wd=b||k;this.N=0;this.zh=!b;this.Eb=l;this.qg={};this.Hc={};this.Nb={};this.jb={};this.re={};this.sh={};this.Rf=[]}t(qi,R);
qi.prototype.w=function(a){qi.e.w.call(this,a);a.innerHTML="";a.scrollTop=0;x(a,"stream");x(a,"ios-scroll");this.zh&&(this.tg=F("div","friendlist"),this.b().appendChild(this.tg),a=F("div","label","ACTIVITY"),this.b().appendChild(a));this.Ec=F("div","activities");this.b().appendChild(this.Ec);this.t=F("div","spinner");this.b().appendChild(this.t);Q(this.t,l);this.qc=F("div","no-comments",this.wd?"Your activity will appear here.":"Friends' activity will appear here.");this.b().appendChild(this.qc);
ri(this,this.Xh);this.zh&&(this.Me=new oi(i,l),this.Me.i(this.tg));U.a().subscribe("new-activity",function(a){(this.wd==a.user.id||!this.wd&&a.user.id!=U.a().h.id)&&si(this,a,i,i,j)},this);N(N(this.j(),this.b(),"scroll",r(function(){!this.Eb&&this.b().scrollTop+E().height>this.b().scrollHeight-60&&ti(this)},this)),window,"resize",va(S,r(this.resize,this)));this.resize()};
function ti(a){Q(a.t,j);V("/_activity"+(a.wd?"/"+a.wd:"")+"?offset="+a.N,r(function(a){this.qg[String(a.target.Wc)]||(this.qg[String(a.target.Wc)]=j,a=W(a.target).activities,this.Eb=!a.length,A(this.t,"finished",this.Eb),Q(this.t,this.Eb),ri(this,a))},a))}
function ri(a,b){a.Hc=[];a.Nb=[];a.jb=[];v(b,function(a){this.N++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.Hc?this.Hc[a.channel_id]:[];b.push(a);this.Hc[a.channel_id]=b;break;case "liked":this.Nb[a.media.id]||(b=a.media.id in this.jb?this.jb[a.media.id]:[],b.push(a),this.jb[a.media.id]=b,b=a.user.id in this.re?this.re[a.user.id]:[],b.push(a),this.re[a.user.id]=b);break;case "comment":a=a.comment,b=a.media.id in this.Nb?this.Nb[a.media.id]:[],b.push(a),this.Nb[a.media.id]=
b,this.jb[a.media.id]&&Ib(this.jb,a.media.id)}},a);Eb(a.Hc,function(a){si(this,i,a,"session")},a);Eb(a.Nb,function(a){si(this,i,a,"comment")},a);Eb(a.jb,function(a){1<a.length&&si(this,i,a,"liked")},a);Eb(a.re,function(a){si(this,i,a,"liked")},a)}
function si(a,b,c,d,e){Q(a.qc,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],q=b?[pe(U.a(),b.user)]:[],u=b?Ad(b.time+"Z"):k;c&&v(c,function(a){Oa(q,function(b){return b.id==a.user.id})||q.push(pe(U.a(),a.user));var b=Ad((a.time||a.tune_in)+"Z");u=u&&u.getTime()>b.getTime()?u:b;"session"==g?v(a.media,function(a){!this.Nb[a.id]&&(!this.jb[a.id]&&!Oa(h,function(b){return b.id==a.id}))&&h.push(a)},this):"liked"==g&&!this.sh[a.media.id]&&(h.push(a.media),this.sh[a.media.id]=j)},a);switch(g){case "session":if(2>
q.length)return;var d=b?b.session:c[0],B=X.a().get(d.channel_id),h=b?b.session.media:h;5<h.length&&(h=h.slice(0,5));b=I(Ng,{A:q,J:B,time:Th(u.getTime()),Nh:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[Hd(Gd.a(),c[0].media)],K=b?[new Rh(b.comment)]:[];c&&v(c,function(a){K.push(new Rh(a))});b=I(Og,{Ta:K.reverse().slice(0,3),A:q,media:h[0]});break;case "liked":h=b?[b.media]:h;b=I(Pg,{A:q,Yg:h.length,time:Th(u.getTime())});break;default:return}if(h.length){Wh(le.a(),u,D("timestamp",
b));d=Pa(a.Rf,function(a){return a.time<u.getTime()});Va(a.Rf,d,0,{time:u,element:b});var P=D("medias",b);v(h,function(a){var b=Hd(Gd.a(),a),a=I(bh,{media:b}),c=D("list-play",a),d=D("list-plus",a);D("thumb",a);P.appendChild(a);N(N(N(this.j(),a,"click",function(){Z.a().c("media-info",b)}),c,"click",function(a){a.preventDefault();a.stopPropagation();a=Yd(b);of.a().c(pf,a)}),d,"click",function(a){a.preventDefault();a.stopPropagation();ne().c(he,b,j)})},a);e?Ub(a.Ec,b,0):c?Ub(a.Ec,b,d):a.Ec.appendChild(b);
S(va(x,b,"show"))}}qi.prototype.resize=function(){var a=E().height-40-(H(this.b(),k,"tabbed")?40:10);dd(this.b(),a);O(this.Ec).height<a&&ti(this)};function ui(a){R.call(this);this.sa=this.Ma=a;this.Oa=["messages","activity","starred"]}t(ui,R);ui.prototype.w=function(a){ui.e.w.call(this,a);x(a,"profile");x(a,"ios-scroll");ic(a,$g)};
ui.prototype.z=function(){this.ra=D("tabs",this.b());V("/_message/"+this.sa.id,r(function(a){a=W(a.target);a=Ma(a,function(a){return new ii(a)},this);this.Wa=new li(this.sa,a);this.Wa.i(D("messages-content",this.b()))},this));V("/_star/"+this.sa.id,r(function(a){var a=W(a.target),a=Ma(a,function(a){return new zd(a)}),b=U.a().h;b.Ch=a;b.c("set-starred");this.md=new gi(a);this.md.i(D("starred-content",this.b()))},this));V("/_activity/"+this.sa.id,r(function(a){a=W(a.target).activities;this.Df=new qi(a,
this.sa.id);this.Df.i(D("activity-content",this.b()))},this));N(this.j(),this.ra,"click",r(function(a){a=H(a.target,"li");this.lb(a)},this));Gd.a().subscribe("star",function(a,b){if(b)this.md.xe(a);else{var c=this.md,d=c.af[a.id];d&&(qc(d),Ib(c.af,a.id))}},this)};ui.prototype.lb=function(a){v(this.Oa,function(b){A(this.ra.parentElement,b,z(a,b));this.v=z(a,b)?b:this.v},this)};function vi(){R.call(this);this.Jb=ae();this.$h=new Oh;this.Oa={};this.sb=[];this.wc=[];this.Dc=0}t(vi,R);m=vi.prototype;
m.z=function(){vi.e.z.call(this);this.Fc=D("arrow",this.Zb);this.Ge=C("sidebar-content");this.Wg=C("media-list");this.pf=C("profile");this.sg=C("friendlist");this.fg=C("conversation");this.Zb=C("toolbar");this.ra=D("tabs",this.b());this.ve=D("activities-count",this.b());var a=new Xf(document);v(Vb(this.ra),function(a){var b=Ab(a)[0];this.Oa[b]=a;this.sb.push(b)},this);this.gf();V("/_activity",r(function(a){a=W(a.target);this.Df=new qi(a.activities);this.Df.i(C("stream"));Z.a().c("new-activites",parseInt(a.new_count,
10))},this));this.md=new ui(U.a().h);this.md.i(C("my-profile"));this.R&&DESKTOP?(this.H=C("info"),this.v="info",wi(this,"info","info")):(this.H=C("stream"),this.v="stream",wi(this,"info","stream"));var b="left";v(this.sb,function(a){var c=D(a,this.Ge);a==this.v?b="right":x(c,b)},this);this.wc=[this.H,""];x(this.H,"current");if(this.Jb){this.$h.i(C("admin"));var c=I(Rg,{name:"ADMIN",className:"admin"});this.ra.appendChild(c);this.Oa.admin=c;this.sb.push("admin")}xi(this);N(N(N(N(this.j(),D("back-button",
this.Zb),"click",r(function(a){var b=this.wc.shift();this.navigate(b[0],j,b[1]);xi(this);a.stopPropagation()},this)),this.ra,"click",r(function(a){var b=this.v,c=H(a.target,"li"),h=Ab(c)[0];wi(this,this.v,h);x(c,"selected");xi(this);b!=this.v&&a.stopPropagation();"stream"==h&&this.gh(0,j)},this)),this.Zb,"click",r(function(a){((a=H(a.target,"li"))&&Ab(a)[0]==this.v||!a)&&(new Ff(this.H,[this.H.scrollLeft,this.H.scrollTop],[this.H.scrollLeft,0],300)).play()},this)),a,"key",r(function(a){a.ctrlKey&&
"68"==a.keyCode&&Bb(this.b(),"dark")},this));DESKTOP&&Y.a().subscribe(zg,function(a){A(this.b(),"toggled",a);S(r(function(){A(this.b(),"collapsed",!a)},this),!a?500:0)},this);Z.a().subscribe("navigate",this.navigate,this);Z.a().subscribe("new-activites",this.gh,this);Z.a().subscribe("conversation",this.pj,this);Z.a().subscribe("media-list",this.rj,this);Z.a().subscribe("media-info",this.Ah,this);Z.a().subscribe("friend-list",this.qj,this);Z.a().subscribe("profile",this.sj,this);X.a().subscribe(lf,
this.gf,this);of.a().subscribe(pf,this.gf,this);X.a().subscribe(kf,this.Pi,this);DESKTOP&&Y.a().subscribe(yi,function(a){A(this.b(),"admin",a);a?(Y.a().c(zg,j),wi(this,this.v,"admin")):"admin"==this.v&&wi(this,"admin","info")},this)};m.gh=function(a,b){b&&(this.Dc=0,Q(this.ve,l));this.Dc+=a;Zb(this.ve,this.Dc.toString());Q(this.ve,!!this.Dc)};
m.gf=function(a){if(a=a||X.a().G.Q())if(this.yb=a.media,!this.R||this.yb.id!=this.R.Ma.id){var a=this.R&&this.R.f.C()?this.R.f.C():k,b=this.R?this.R.d:k;qc(this.R);this.R=new $h(this.yb,l,b,a);this.R.i(C("info"))}};m.Pi=function(a){a=a||X.a().G;if((this.yb=a.Q()&&a.Q().media)&&(!this.R||this.yb.id!=this.R.Ma.id))qc(this.R),this.R=new $h(this.yb),this.R.i(C("info")),this.Ah(this.yb)};
function wi(a,b,c){var d=D(c,a.Ge),e=Ia(a.sb,b),b=Ia(a.sb,c),g=(e=e<b)?0:a.sb.length-1,h=e?g<a.sb.length:0<=g;for(g;h;g+=e?1:-1){var q=D(a.sb[g],a.Ge);if(e&&g>b||!e&&g<b)x(q,"right"),y(q,"left");else if(e&&g<b||!e&&g>b)A(q,"left",e),x(q,"right");else if(g==b){y(q,"right");y(q,"left");break}}a.v=c;Va(a.wc,0,0,[a.H,""]);y(a.H,"current");a.H=d;x(a.H,"current");xi(a)}
m.navigate=function(a,b,c){if(a!=this.H){var d=z(this.H,"screen");b?(y(this.H,"on"),y(this.H,"current"),x(a,"current"),this.H=a):(A(this.H,"on",!d),b=[this.H,cc(D("back-title",this.Zb))],Va(this.wc,0,0,b),y(this.H,"current"),this.H=a,x(this.H,"current"));A(this.Zb,"back",z(this.H,"slide"))}c&&Zb(D("back-title",this.Zb),c)};m.pj=function(a,b,c,d){(new Yh(a,b,c,d)).i(this.fg);Z.a().c("navigate",this.fg,l,a.name)};
m.rj=function(a,b,c,d,e,g,h){(new gi(b,c,d,e,g,h)).i(this.Wg);Z.a().c("navigate",this.Wg,l,a,d,e)};m.qj=function(){this.Me=new oi(i,j);this.Me.i(this.sg);Z.a().c("navigate",this.sg,l,"Friends")};m.Ah=function(a,b,c,d){if(this.R&&a.id==this.R.Ma.id){y(this.Zb,"back");for(a=this.wc[0][0];a&&z(a,"slide");)a=this.wc.shift();wi(this,this.v,"info")}else{var e=C("media-info");(new $h(a,b,c,d)).i(e);Z.a().c("navigate",e,l,a.name)}DESKTOP&&Y.a().c(zg,j)};
m.sj=function(a){if(!this.qf||!(this.qf.Ma.id==a.id&&this.H==this.pf))this.qf=new ui(a),this.qf.i(this.pf),Z.a().c("navigate",this.pf,l,a.name),DESKTOP&&Y.a().c(zg,j)};function xi(a){var b=Math.round(O(a.Oa[a.v]).width/2+Zc(a.Oa[a.v]).x);a.Fc.style.transform="translate3d("+b+"px, 0,0)";a.Fc.style.msTransform="translate3d("+b+"px, 0,0)";a.Fc.style.WebkitTransform="translate3d("+b+"px, 0,0)";a.Fc.style.MozTransform="translate3d("+b+"px, 0,0)";a.Fc.style.Tj="translate3d("+b+"px, 0,0)"};function zi(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="logo"></div></div><div id="sidebar" class="toggled"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM<div class="activities-count" style="display:none"></div></div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="conversation" class="slide"></div>'+
(a.Zh?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="notify" class="notify"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'};function ee(){}ja(ee);_gaq=[];ee.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};ee.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",U.a().h.id])};
function me(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",U.a().h.id])}ee.prototype.Gc=function(a,b){a.S||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
ee.prototype.aa=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",U.a().h.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",U.a().h.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",U.a().h.id])};
function fi(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",U.a().h.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",U.a().h.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",U.a().h.id]);V("/_share",Fd(),"POST","facebook="+c+"&twitter="+d)}fa("_gaq",_gaq);function Y(){T.call(this);this.dj=j;var a=C("controller");this.Af=!a||z(a,"sidebar-toggled");this.Pe=a&&z(a,"guide-toggled");this.subscribe(zg,ba("Af"),this);this.subscribe(Ag,ba("Pe"),this);this.subscribe(Bg,ba("dj"),this)}t(Y,T);ja(Y);function Nh(a,b){var c=C("toggle-pending");Zb(c,b);Q(c,!!b)}var Bg="play",Cg="mute",Dg="restart",Ag="toggle-guide",zg="toggle-sidebar",yi="toggle-admin";function Ai(){T.call(this);this.Ug=l}t(Ai,T);ja(Ai);Ai.prototype.init=function(a){this.Pa=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=r(this.Si,this);a.onclose=r(this.ih,this);M(window,"onbeforeunload",r(this.ih,this));return this};
Ai.prototype.Si=function(a){var b=Qe(a.data);switch(b.type){case "viewer_change":var c=pe(U.a(),b.user);c.sc!=b.online&&U.a().c(oe,c,b.online);var d=b.time&&Ad(b.time+"Z");c.Id&&d&&c.Id.end(d);if(a=b.last_channel_id&&X.a().get(b.last_channel_id))a.c("remove-viewer",c),c.Ha&&c.Ha.c(Dd,c,a,j);var e=b.channel_id&&X.a().get(b.channel_id),a=b.media&&Hd(Gd.a(),b.media);e&&(d=d||new Md,d=new de(b.session_id,c,e,d),c.Id=d,e.c(ie,d),a=(d=e.Q())?d.media:a);a&&a.c(Dd,c,e);break;case "new_comment":c=new Rh(b.comment);
if(c.l.id!=U.a().h.id&&(d=b.tweet?new Sh(b.tweet):k,a=Hd(Gd.a(),b.comment.media)))a.c(Bd,c),d&&a.c("add-tweet",d);break;case "new_message":a=new ii(b.message);U.a().c("new-message",a);vd.a().c(xd,"messaged you",a.text,a.X,a.X.I,"#profile:"+a.X.id);break;case "new_activity":U.a().c("new-activity",b.activity);b.activity.user.id!=U.a().h.id&&Z.a().c("new-activites",1);break;case "update_programs":a=b.programs;e=X.a().get(b.channel_id);v(a,function(a){e.c(je,a)},this);break;case "new_programs":b.channel&&
(e=X.a().we(b.channel));v(b.programs,r(function(a){a=new Xd(a);if(e=e||X.a().get(b.channel_id))if(e.c(ge,a),!X.a().G||!X.a().G.Q())X.a().c(kf,e),X.a().c(lf,a)},this));break;case "twitter_auth":U.a().h.c($d)}};Ai.prototype.ih=function(){if(!this.Ug){var a=X.a().G.S&&X.a().G.Ha&&Math.floor(of.a().getCurrentTime());DESKTOP&&V("/_settings",Fd(),"POST","show_guide="+Y.a().Pe+"&show_sidebar="+Y.a().Af+(a?"&current_seek="+a:""));this.Ug=j}};function le(){T.call(this);this.bg=new qe(1E3);this.Jh=new qe(3E4);this.Kh=[];this.Le=[]}t(le,T);ja(le);le.prototype.init=function(){this.bg.start();this.Jh.start();M(this.bg,se,r(function(){v(this.Le,function(a,b){a.time<s()&&(a.callback(),Ha.splice.call(this.Le,b,1))},this)},this));M(this.Jh,se,r(function(){v(this.Kh,function(a){Zb(a.element,Th(a.time.getTime()))},this)},this))};function Wh(a,b,c){86400>(s()-b.getTime())/1E3&&a.Kh.push({time:b,element:c})}
function ke(a,b,c){86400>(s()-b)/1E3&&a.Le.push({time:b,callback:c})};function Bi(){T.call(this);this.Ck=[]}t(Bi,T);ja(Bi);Bi.prototype.Ze=function(a){Eb(a,r(function(a,c){v(a,r(function(a){a=new Xd(a);X.a().ac[c]&&X.a().ac[c].ye(a)},this))},this))};var Ci=l;function Di(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var Ei=navigator.plugins["Shockwave Flash"];Ei&&(Ci=j,Ei.description&&Di(Ei.description));navigator.plugins["Shockwave Flash 2.0"]&&(Ci=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Fi=navigator.mimeTypes["application/x-shockwave-flash"];(Ci=Fi&&Fi.enabledPlugin)&&Di(Fi.enabledPlugin.description)}else try{var Gi=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),Ci=j;Di(Gi.GetVariable("$version"))}catch(Hi){try{Gi=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
Ci=j}catch(Ii){try{Gi=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Ci=j,Di(Gi.GetVariable("$version"))}catch(Ji){}}};function Ki(){R.call(this);this.tj=new vi;this.p=new vg;this.hh=new ud}t(Ki,R);Ki.prototype.w=function(a){Ki.e.w.call(this,a);var b=I(zi,{Zh:ae()});Ub(a,b,0)};
Ki.prototype.z=function(){Ki.e.z.call(this);this.tj.i(C("sidebar"));this.p.i(C("stage"));this.hh.i(C("notify"));Q(this.hh.b(),l);U.a().h.Jj||U.a();N(this.j(),document.body,"touchmove",function(a){H(a.target,"div","ios-scroll")||a.preventDefault()});N(this.j(),window,"click",function(a){var b=H(a.target,"a");if(b=b?b.href:k)if((b=b.match("#(.*):(.*)"))&&b.length)switch(a.preventDefault(),a.stopPropagation(),b[1]){case "user":a=U.a().get(b[2]);Z.a().c("profile",a);break;case "channel":a=X.a().get(b[2]);
X.a().c(kf,a);break;case "info":a=Gd.a().get(b[2]),Z.a().c("media-info",a)}});V("/_presence",r(function(a){a=W(a.target);this.jk=Ai.a().init(a.token);var b=X.a();v(a.viewer_sessions,r(function(a){var b=pe(U.a(),a.user),e=U.a();Oa(e.jf,function(a){return a.id==b.id})||e.jf.push(b);var e=this.ac[a.channel_id],g=Ad(a.tune_in+"Z"),h=a.tune_out?Ad(a.tune_out+"Z"):k,a=new de(a.id,b,e,g,h);b.Id=a;e&&(e.Bd.push(a),e.c(ie,a),(a=e.Q())&&a.media.c(Dd,b,e))},b))},this))};
function Li(a){var b=C("login"),c=C("static-content"),d=C("pages"),e=z(b,"app");A(b,"expanded",a);C("uvTab")&&A(C("uvTab"),"show",e&&a);a?(e?c.style.bottom=-O(d).height-80+"px":c.style.top=Math.max(10,E().height-280)+"px",a=e?Math.min(E().height-100,c.scrollHeight+80):Math.min(E().height-435,c.scrollHeight+190),!e||e&&!b.scrollTop?(e=new Ff(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),x(b,"scrolling"),e.play(),M(e,"end",function(){y(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",e?S(function(){y(b,"show")},200):c.className="")}
function Mi(){var a=C("fb-login"),b=C("static-content"),c=C("login");x(a,"disabled");x(a,"spin");V("/_session",function(a){if(200==hf(a.target)){var e=W(a.target);if(e.error)Zb(C("error"),e.error),Ni("error","Yikes...");else if(e.message)Zb(C("message"),e.message);else{y(document.body,"login");var a=e.channels,g=e.programs,e=e.current_user;if(!Hb(e)){var h=U.a();h.h=pe(h,e)}X.a().Ze(a);Bi.a().Ze(g);a=X.a();a.G=a.ac[e.current_channel]||a.Ic[0];a.G=mf(a)||a.G;a.G&&a.Mf(a.G.Q());le.a().init();(new Ki).i(document.body);
ee.a().login();S(function(){S(function(){x(c,"hide");S(function(){Q(C("homepage"),l);x(c,"app");x(b,"faq")},600)},600)})}}else 500==hf(a.target)?Ni("error","Opps, check back later"):Ni("wait")},"POST")}function Ni(a,b){var c=C("fb-login");if(a){var d=D("power",c);x(d,a)}b&&(d=D("waitlist",c),Zb(d,b));y(c,"spin");x(c,"disabled");Q(c,j);x(c,"show");x(c,"waitlist")}
fa("brkn.Mobile.staticInit",function(){var a=C("fb-login"),b=C("homepage"),c=C("login"),d=C("static-content"),e=C("pages"),g=C("footer"),h=l;x(b,"hide");var q=F("img");q.src="/static/img/homepage.jpg";M(q,"load",function(){y(b,"hide");x(b,"show")});S(function(){Q(a,j);S(va(x,a,"show"),400)},100);M(c,"click",function(a){"static-scrollable"==a.target.id&&(a=z(c,"app"),h=l,a?Li(h):(a=new Ff(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),M(a,"end",va(Li,h))))});M(c,"scroll",function(){!z(c,
"scrolling")&&1>c.scrollTop&&(h=l,Li(h))});M(g,"click",function(a){var a=H(a.target,k,"section"),b=z(c,"app");a&&(h=j,d.className=a.id,d.style.height=O(e).height+(b?80:220)+"px",Li(h))});M(window,"resize",va(Li,h));ee.a().init();IPHONE&&(x(document.body,"iphone"),x(document.body,"login"),window.onload=function(){S(function(){window.scrollTo(0,1)},1E3)})});
fa("brkn.Mobile.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)Mi();else{var b=C("fb-login");M(b,"click",function(){x(b,"disabled");FB.login(function(a){a.authResponse?Mi():y(b,"disabled")},{scope:"email"})})}})});