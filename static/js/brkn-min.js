function e(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var m,ea=ea||{},p=this;function fa(a){for(var a=a.split("."),b=p,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function ga(){}function ha(a){a.b=function(){return a.jg?a.jg:a.jg=new a}}
function ia(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ja(a){return a!==i}function ka(a){return"array"==ia(a)}function la(a){var b=ia(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function ma(a){return"number"==typeof a}function na(a){return"function"==ia(a)}function oa(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function pa(a){return a[qa]||(a[qa]=++ra)}
var qa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ra=0;function sa(a,b,c){return a.call.apply(a.bind,arguments)}function ta(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function s(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:ta;return s.apply(k,arguments)}function ua(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var t=Date.now||function(){return+new Date};function va(a,b){var c=b||{},d;for(d in c)var f=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),f);return a}
function v(a,b){function c(){}c.prototype=b.prototype;a.c=b.prototype;a.prototype=new c;a.prototype.constructor=a};function xa(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function ya(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function za(a){if(!Aa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ba,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ca,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Da,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ea,"&quot;"));return a}var Ba=/&/g,Ca=/</g,Da=/>/g,Ea=/\"/g,Aa=/[&<>\"]/;
function Fa(a){var a=ja(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ga(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Ha=Array.prototype,Ia=Ha.indexOf?function(a,b,c){return Ha.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(r(a))return!r(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},w=Ha.forEach?function(a,b,c){Ha.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Ja=Ha.filter?function(a,b,c){return Ha.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=
r(a)?a.split(""):a,n=0;n<d;n++)if(n in h){var q=h[n];b.call(c,q,n,a)&&(f[g++]=q)}return f},Ka=Ha.map?function(a,b,c){return Ha.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=r(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},La=Ha.every?function(a,b,c){return Ha.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return l;return j};
function Ma(a,b){var c=Na(a,b,i);return 0>c?k:r(a)?a.charAt(c):a[c]}function Na(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function Oa(a,b){return 0<=Ia(a,b)}function Pa(a,b){var c=Ia(a,b);0<=c&&Ha.splice.call(a,c,1)}function Qa(a){return Ha.concat.apply(Ha,arguments)}function Ra(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Sa(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(ka(d)||(f=la(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,n=0;n<h;n++)a[g+n]=d[n];else a.push(d)}}function Ta(a,b,c,d){Ha.splice.apply(a,Ua(arguments,1))}function Ua(a,b,c){return 2>=arguments.length?Ha.slice.call(a,b):Ha.slice.call(a,b,c)};var Va,Wa,Xa,Ya,Za;function $a(){return p.navigator?p.navigator.userAgent:k}function ab(){return p.navigator}Ya=Xa=Wa=Va=l;var bb;if(bb=$a()){var cb=ab();Va=0==bb.indexOf("Opera");Wa=!Va&&-1!=bb.indexOf("MSIE");Xa=!Va&&-1!=bb.indexOf("WebKit");Ya=!Va&&!Xa&&"Gecko"==cb.product}var db=Va,x=Wa,eb=Ya,y=Xa,fb=ab();Za=-1!=(fb&&fb.platform||"").indexOf("Mac");var gb=!!ab()&&-1!=(ab().appVersion||"").indexOf("X11"),hb;
a:{var ib="",jb;if(db&&p.opera)var kb=p.opera.version,ib="function"==typeof kb?kb():kb;else if(eb?jb=/rv\:([^\);]+)(\)|;)/:x?jb=/MSIE\s+([^\);]+)(\)|;)/:y&&(jb=/WebKit\/(\S+)/),jb)var lb=jb.exec($a()),ib=lb?lb[1]:"";if(x){var mb,nb=p.document;mb=nb?nb.documentMode:i;if(mb>parseFloat(ib)){hb=String(mb);break a}}hb=ib}var ob={};
function z(a){var b;if(!(b=ob[a])){b=0;for(var c=ya(String(hb)).split("."),d=ya(String(a)).split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var h=c[g]||"",n=d[g]||"",q=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var A=q.exec(h)||["","",""],B=u.exec(n)||["","",""];if(0==A[0].length&&0==B[0].length)break;b=((0==A[1].length?0:parseInt(A[1],10))<(0==B[1].length?0:parseInt(B[1],10))?-1:(0==A[1].length?0:parseInt(A[1],10))>(0==B[1].length?0:parseInt(B[1],10))?1:0)||((0==A[2].length)<
(0==B[2].length)?-1:(0==A[2].length)>(0==B[2].length)?1:0)||(A[2]<B[2]?-1:A[2]>B[2]?1:0)}while(0==b)}b=ob[a]=0<=b}return b}var pb={};function qb(a){return pb[a]||(pb[a]=x&&!!document.documentMode&&document.documentMode>=a)};var rb,sb=!x||qb(9),tb=!eb&&!x||x&&qb(9)||eb&&z("1.9.1"),ub=x&&!z("9"),vb=x||db||y;function wb(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function C(a,b){for(var c=wb(a),d=Ua(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)Oa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==f}function D(a,b){var c=wb(a),d=Ua(arguments,1),f,g=d;f=Ja(c,function(a){return!Oa(g,a)});a.className=f.join(" ");return f.length==c.length-d.length}function E(a,b){return Oa(wb(a),b)}function F(a,b,c){c?C(a,b):D(a,b)}function xb(a,b){var c=!E(a,b);F(a,b,c);return c};function yb(a,b){this.x=ja(a)?a:0;this.y=ja(b)?b:0}yb.prototype.clone=function(){return new yb(this.x,this.y)};function zb(a,b){this.width=a;this.height=b}zb.prototype.clone=function(){return new zb(this.width,this.height)};zb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};zb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};zb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Ab(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Bb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Cb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Db(a){for(var b in a)return l;return j}function Eb(a,b){b in a&&delete a[b]}function Fb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}function Gb(a,b){return b in a?a[b]:i}var Hb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ib(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Hb.length;g++)c=Hb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Jb(a){return a?new Kb(Lb(a)):rb||(rb=new Kb)}function G(a){return r(a)?document.getElementById(a):a}function Mb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Nb("*",a,b)}function H(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Mb(a,b)[0])||k}
function Nb(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},f=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[f++]=h);d.length=f;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=f=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Oa(a.split(/\s+/),b)&&(d[f++]=h);d.length=f;return d}return c}
var Ob={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function I(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new zb(a.clientWidth,a.clientHeight)}function Pb(a,b,c){return Qb(document,arguments)}
function Qb(a,b){var c=b[0],d=b[1];if(!sb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',za(d.name),'"');if(d.type){c.push(' type="',za(d.type),'"');var f={};Ib(f,d);delete f.type;d=f}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(r(d)?g.className=d:ka(d)?C.apply(k,[g].concat(d)):Ab(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Ob?g.setAttribute(Ob[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(r(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(f=b[c],la(f)&&!(oa(f)&&0<f.nodeType)){var h=w,n;a:{if((n=f)&&"number"==typeof n.length){if(oa(n)){n="function"==typeof n.item||"string"==typeof n.item;break a}if(na(n)){n="function"==typeof n.item;break a}}n=l}h(n?Ra(f):f,d)}else d(f)}return g}function Rb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Sb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Tb(a){return tb&&a.children!=i?a.children:Ja(a.childNodes,function(a){return 1==a.nodeType})}function Ub(a){return a.nextElementSibling!=i?a.nextElementSibling:Vb(a.nextSibling,j)}function Vb(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function Wb(a){if(vb)return a.parentElement;a=a.parentNode;return oa(a)&&1==a.nodeType?a:k}
function Xb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Lb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Yb(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Rb(a),a.appendChild(Lb(a).createTextNode(b))}var Zb={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},$b={IMG:" ",BR:"\n"};function ac(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,ma(a)&&0<=a&&32768>a):l}
function bc(a){if(ub&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];cc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");ub||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function dc(a){var b=[];cc(a,b,l);return b.join("")}
function cc(a,b,c){if(!(a.nodeName in Zb))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in $b)b.push($b[a.nodeName]);else for(a=a.firstChild;a;)cc(a,b,c),a=a.nextSibling}function ec(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||E(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Kb(a){this.Q=a||p.document||document}m=Kb.prototype;m.sa=Jb;
m.a=function(a){return r(a)?this.Q.getElementById(a):a};m.C=function(a,b,c){return Qb(this.Q,arguments)};m.createElement=function(a){return this.Q.createElement(a)};m.createTextNode=function(a){return this.Q.createTextNode(a)};function fc(a){var b=a.Q,a=!y&&"CSS1Compat"==b.compatMode?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new yb(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}m.appendChild=function(a,b){a.appendChild(b)};m.Tf=Tb;
function gc(a,b){return b.firstElementChild!=i?b.firstElementChild:Vb(b.firstChild,j)}m.contains=Xb;x&&z(8);var hc={};function ic(a,b,c){a.innerHTML=b(c||hc,i,i)}function J(a,b){var c;a:if(c=(new Kb(i)||Jb()).createElement("DIV"),c.innerHTML=a(b||hc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function L(a){return"object"===typeof a&&a&&0===a.Ej?a.content:String(a).replace(jc,kc)}
var lc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function kc(a){return lc[a]}var jc=/[\x00\x22\x26\x27\x3c\x3e]/g;function M(){0!=mc&&(this.Fj=Error().stack,nc[pa(this)]=this)}var mc=0,nc={};M.prototype.qd=l;M.prototype.P=function(){if(!this.qd&&(this.qd=j,this.g(),0!=mc)){var a=pa(this);delete nc[a]}};M.prototype.g=function(){this.vh&&oc.apply(k,this.vh);if(this.Eg)for(;this.Eg.length;)this.Eg.shift()()};function pc(a){a&&"function"==typeof a.P&&a.P()}function oc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];la(d)?oc.apply(k,d):pc(d)}};var qc=!x||qb(9),rc=!x||qb(9),sc=x&&!z("9");!y||z("528");eb&&z("1.9b")||x&&z("8")||db&&z("9.5")||y&&z("528");eb&&!z("8")||x&&z("9");function tc(a,b){this.type=a;this.currentTarget=this.target=b}m=tc.prototype;m.g=aa();m.P=aa();m.Gb=l;m.defaultPrevented=l;m.Qd=j;m.stopPropagation=function(){this.Gb=j};m.preventDefault=function(){this.defaultPrevented=j;this.Qd=l};function uc(a){a.preventDefault()};function vc(a){vc[" "](a);return a}vc[" "]=ga;function wc(a,b){a&&this.init(a,b)}v(wc,tc);var xc=[1,4,2];m=wc.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.Ve=l;m.ha=k;
m.init=function(a,b){var c=this.type=a.type;tc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(eb){var f;a:{try{vc(d.nodeName);f=j;break a}catch(g){}f=l}f||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=y||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=y||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Ve=Za?a.metaKey:a.ctrlKey;this.state=a.state;this.ha=a;a.defaultPrevented&&this.preventDefault();delete this.Gb};function yc(a){return(qc?0==a.ha.button:"click"==a.type?j:!!(a.ha.button&xc[0]))&&!(y&&Za&&a.ctrlKey)}
m.stopPropagation=function(){wc.c.stopPropagation.call(this);this.ha.stopPropagation?this.ha.stopPropagation():this.ha.cancelBubble=j};m.preventDefault=function(){wc.c.preventDefault.call(this);var a=this.ha;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,sc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};m.g=aa();function zc(){}var Ac=0;m=zc.prototype;m.key=0;m.Hb=l;m.ge=l;m.init=function(a,b,c,d,f,g){na(a)?this.lg=j:a&&a.handleEvent&&na(a.handleEvent)?this.lg=l:e(Error("Invalid listener argument"));this.hc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.Bd=g;this.ge=l;this.key=++Ac;this.Hb=l};m.handleEvent=function(a){return this.lg?this.hc.call(this.Bd||this.src,a):this.hc.handleEvent.call(this.hc,a)};var Bc={},Cc={},Dc={},Ec={};
function N(a,b,c,d,f){if(b){if(ka(b)){for(var g=0;g<b.length;g++)N(a,b[g],c,d,f);return k}var d=!!d,h=Cc;b in h||(h[b]={J:0,la:0});h=h[b];d in h||(h[d]={J:0,la:0},h.J++);var h=h[d],n=pa(a),q;h.la++;if(h[n]){q=h[n];for(g=0;g<q.length;g++)if(h=q[g],h.hc==c&&h.Bd==f){if(h.Hb)break;return q[g].key}}else q=h[n]=[],h.J++;var u=Fc,A=rc?function(a){return u.call(A.src,A.key,a)}:function(a){a=u.call(A.src,A.key,a);if(!a)return a},g=A;g.src=a;h=new zc;h.init(c,g,a,b,d,f);c=h.key;g.key=c;q.push(h);Bc[c]=h;Dc[n]||
(Dc[n]=[]);Dc[n].push(h);a.addEventListener?(a==p||!a.Hf)&&a.addEventListener(b,g,d):a.attachEvent(b in Ec?Ec[b]:Ec[b]="on"+b,g);return c}e(Error("Invalid event type"))}function Gc(a,b,c,d,f){if(ka(b)){for(var g=0;g<b.length;g++)Gc(a,b[g],c,d,f);return k}a=N(a,b,c,d,f);Bc[a].ge=j;return a}function Hc(a,b,c,d,f){if(ka(b))for(var g=0;g<b.length;g++)Hc(a,b[g],c,d,f);else if(d=!!d,a=Ic(a,b,d))for(g=0;g<a.length;g++)if(a[g].hc==c&&a[g].capture==d&&a[g].Bd==f){Jc(a[g].key);break}}
function Jc(a){if(!Bc[a])return l;var b=Bc[a];if(b.Hb)return l;var c=b.src,d=b.type,f=b.proxy,g=b.capture;c.removeEventListener?(c==p||!c.Hf)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in Ec?Ec[d]:Ec[d]="on"+d,f);c=pa(c);Dc[c]&&(f=Dc[c],Pa(f,b),0==f.length&&delete Dc[c]);b.Hb=j;if(b=Cc[d][g][c])b.Dg=j,Lc(d,g,c,b);delete Bc[a];return j}
function Lc(a,b,c,d){if(!d.Gd&&d.Dg){for(var f=0,g=0;f<d.length;f++)d[f].Hb?d[f].proxy.src=k:(f!=g&&(d[g]=d[f]),g++);d.length=g;d.Dg=l;0==g&&(delete Cc[a][b][c],Cc[a][b].J--,0==Cc[a][b].J&&(delete Cc[a][b],Cc[a].J--),0==Cc[a].J&&delete Cc[a])}}function Ic(a,b,c){var d=Cc;return b in d&&(d=d[b],c in d&&(d=d[c],a=pa(a),d[a]))?d[a]:k}
function Mc(a,b,c,d,f){var g=1,b=pa(b);if(a[b]){a.la--;a=a[b];a.Gd?a.Gd++:a.Gd=1;try{for(var h=a.length,n=0;n<h;n++){var q=a[n];q&&!q.Hb&&(g&=Nc(q,f)!==l)}}finally{a.Gd--,Lc(c,d,b,a)}}return Boolean(g)}function Nc(a,b){a.ge&&Jc(a.key);return a.handleEvent(b)}
function Fc(a,b){if(!Bc[a])return j;var c=Bc[a],d=c.type,f=Cc;if(!(d in f))return j;var f=f[d],g,h;if(!rc){g=b||fa("window.event");var n=j in f,q=l in f;if(n){if(0>g.keyCode||g.returnValue!=i)return j;a:{var u=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(A){u=j}if(u||g.returnValue==i)g.returnValue=j}}u=new wc;u.init(g,this);g=j;try{if(n){for(var B=[],K=u.currentTarget;K;K=K.parentNode)B.push(K);h=f[j];h.la=h.J;for(var R=B.length-1;!u.Gb&&0<=R&&h.la;R--)u.currentTarget=B[R],g&=Mc(h,B[R],d,j,u);
if(q){h=f[l];h.la=h.J;for(R=0;!u.Gb&&R<B.length&&h.la;R++)u.currentTarget=B[R],g&=Mc(h,B[R],d,l,u)}}else g=Nc(c,u)}finally{B&&(B.length=0)}return g}d=new wc(b,this);return g=Nc(c,d)};function Oc(){M.call(this)}v(Oc,M);m=Oc.prototype;m.Hf=j;m.Md=k;m.ef=ba("Md");m.addEventListener=function(a,b,c,d){N(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Hc(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=Cc;if(b in c){if(r(a))a=new tc(a,this);else if(a instanceof tc)a.target=a.target||this;else{var d=a,a=new tc(b,this);Ib(a,d)}var d=1,f,c=c[b],b=j in c,g;if(b){f=[];for(g=this;g;g=g.Md)f.push(g);g=c[j];g.la=g.J;for(var h=f.length-1;!a.Gb&&0<=h&&g.la;h--)a.currentTarget=f[h],d&=Mc(g,f[h],a.type,j,a)&&a.Qd!=l}if(l in c)if(g=c[l],g.la=g.J,b)for(h=0;!a.Gb&&h<f.length&&g.la;h++)a.currentTarget=f[h],d&=Mc(g,f[h],a.type,l,a)&&a.Qd!=l;else for(f=this;!a.Gb&&f&&
g.la;f=f.Md)a.currentTarget=f,d&=Mc(g,f,a.type,l,a)&&a.Qd!=l;a=Boolean(d)}else a=j;return a};m.g=function(){Oc.c.g.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Ab(Dc,function(d){for(var f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Jc(g.key),b++}});else{var d=pa(this);if(Dc[d])for(var d=Dc[d],f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Jc(g.key),b++}}this.Md=k};function Pc(a,b){M.call(this);this.F=a||1;this.Xc=b||Qc;this.ee=s(this.$i,this);this.Ke=t()}v(Pc,Oc);Pc.prototype.enabled=l;var Qc=p.window;m=Pc.prototype;m.X=k;m.$i=function(){if(this.enabled){var a=t()-this.Ke;0<a&&a<0.8*this.F?this.X=this.Xc.setTimeout(this.ee,this.F-a):(this.dispatchEvent(Rc),this.enabled&&(this.X=this.Xc.setTimeout(this.ee,this.F),this.Ke=t()))}};m.start=function(){this.enabled=j;this.X||(this.X=this.Xc.setTimeout(this.ee,this.F),this.Ke=t())};
m.stop=function(){this.enabled=l;this.X&&(this.Xc.clearTimeout(this.X),this.X=k)};m.g=function(){Pc.c.g.call(this);this.stop();delete this.Xc};var Rc="tick";function O(a,b,c){na(a)?c&&(a=s(a,c)):a&&"function"==typeof a.handleEvent?a=s(a.handleEvent,a):e(Error("Invalid listener argument"));return 2147483647<b?-1:Qc.setTimeout(a,b||0)};function P(){M.call(this);this.Aa=[];this.nb={}}v(P,M);m=P.prototype;m.qg=1;m.Od=0;m.subscribe=function(a,b,c){var d=this.nb[a];d||(d=this.nb[a]=[]);var f=this.qg;this.Aa[f]=a;this.Aa[f+1]=b;this.Aa[f+2]=c;this.qg=f+3;d.push(f);return f};m.dh=function(a){if(0!=this.Od)return this.Jc||(this.Jc=[]),this.Jc.push(a),l;var b=this.Aa[a];if(b){var c=this.nb[b];c&&Pa(c,a);delete this.Aa[a];delete this.Aa[a+1];delete this.Aa[a+2]}return!!b};
m.h=function(a,b){var c=this.nb[a];if(c){this.Od++;for(var d=Ua(arguments,1),f=0,g=c.length;f<g;f++){var h=c[f];this.Aa[h+1].apply(this.Aa[h+2],d)}this.Od--;if(this.Jc&&0==this.Od)for(;c=this.Jc.pop();)this.dh(c)}};m.clear=function(a){if(a){var b=this.nb[a];b&&(w(b,this.dh,this),delete this.nb[a])}else this.Aa.length=0,this.nb={}};m.g=function(){P.c.g.call(this);delete this.Aa;delete this.nb;delete this.Jc};function Sc(){P.call(this);this.le=new Pc(1E3);this.Xg=new Pc(3E4);this.Yg=[]}v(Sc,P);ha(Sc);Sc.prototype.init=function(){this.le.start();this.Xg.start();N(this.Xg,Rc,s(function(){w(this.Yg,function(a){Yb(a.element,Tc(a.time.getTime()))},this)},this))};function Uc(a,b,c){86400>(t()-b.getTime())/1E3&&a.Yg.push({time:b,element:c})};function Q(){P.call(this);this.Fi=j;this.Qc=l;this.we=j;this.subscribe(Vc,ba("Qc"),this);this.subscribe(Wc,ba("we"),this);this.subscribe(Xc,ba("Fi"),this)}v(Q,P);ha(Q);function Yc(a,b){var c=G("toggle-pending");Yb(c,b);S(c,!!b)}var Xc="play",Wc="toggle-guide",Vc="toggle-sidebar";var Zc={kj:["BC","AD"],jj:["Before Christ","Anno Domini"],mj:"JFMAMJJASOND".split(""),tj:"JFMAMJJASOND".split(""),lj:"January February March April May June July August September October November December".split(" "),sj:"January February March April May June July August September October November December".split(" "),pj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),vj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),zj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
xj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),rj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),wj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),nj:"SMTWTFS".split(""),uj:"SMTWTFS".split(""),qj:["Q1","Q2","Q3","Q4"],oj:["1st quarter","2nd quarter","3rd quarter","4th quarter"],gj:["AM","PM"],ij:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],yj:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],kh:6,Aj:[5,6],lh:5};var $c=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,ad=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,bd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function cd(a){var b=new dd(2E3),a=ya(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match($c);if(d){var f=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var n=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new ed(fd,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new ed(fd,(4>=d?1-d:8-d)+(Number(n)+7*(Number(c)-1))-1))):(f&&(b.setDate(1),b.setMonth(f-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(bd),n=0,c&&("Z"!=
c[0]&&(n=60*c[2]+Number(c[3]),n*="-"==c[1]?1:-1),n-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(ad))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=n&&b.setTime(b.getTime()+6E4*n),c=j):c=l;return c?b:k}
function ed(a,b,c,d,f,g){r(a)?(this.Da=a==gd?b:0,this.va=a==hd?b:0,this.qa=a==fd?b:0,this.ia=a==id?b:0,this.ja=a==jd?b:0,this.ma=a==kd?b:0):(this.Da=a||0,this.va=b||0,this.qa=c||0,this.ia=d||0,this.ja=f||0,this.ma=g||0)}
ed.prototype.Yc=function(a){var b=Math.min(this.Da,this.va,this.qa,this.ia,this.ja,this.ma),c=Math.max(this.Da,this.va,this.qa,this.ia,this.ja,this.ma);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Da||a)&&c.push(Math.abs(this.Da)+"Y");(this.va||a)&&c.push(Math.abs(this.va)+"M");(this.qa||a)&&c.push(Math.abs(this.qa)+"D");if(this.ia||this.ja||this.ma||a)c.push("T"),(this.ia||a)&&c.push(Math.abs(this.ia)+"H"),(this.ja||a)&&c.push(Math.abs(this.ja)+"M"),
(this.ma||a)&&c.push(Math.abs(this.ma)+"S");return c.join("")};ed.prototype.clone=function(){return new ed(this.Da,this.va,this.qa,this.ia,this.ja,this.ma)};var gd="y",hd="m",fd="d",id="h",jd="n",kd="s";ed.prototype.add=function(a){this.Da+=a.Da;this.va+=a.va;this.qa+=a.qa;this.ia+=a.ia;this.ja+=a.ja;this.ma+=a.ma};
function ld(a,b,c){ma(a)?(this.j=new Date(a,b||0,c||1),md(this,c||1)):oa(a)?(this.j=new Date(a.getFullYear(),a.getMonth(),a.getDate()),md(this,a.getDate())):(this.j=new Date(t()),this.j.setHours(0),this.j.setMinutes(0),this.j.setSeconds(0),this.j.setMilliseconds(0))}m=ld.prototype;m.ud=Zc.kh;m.vd=Zc.lh;m.clone=function(){var a=new ld(this.j);a.ud=this.ud;a.vd=this.vd;return a};m.getFullYear=function(){return this.j.getFullYear()};m.getYear=function(){return this.getFullYear()};m.getMonth=function(){return this.j.getMonth()};
m.getDate=function(){return this.j.getDate()};m.getTime=function(){return this.j.getTime()};m.getDay=function(){return this.j.getDay()};m.getUTCHours=function(){return this.j.getUTCHours()};m.getTimezoneOffset=function(){return this.j.getTimezoneOffset()};function nd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Fa(c)+":"+Fa(b);return a}m.set=function(a){this.j=new Date(a.getFullYear(),a.getMonth(),a.getDate())};m.setFullYear=function(a){this.j.setFullYear(a)};
m.setMonth=function(a){this.j.setMonth(a)};m.setDate=function(a){this.j.setDate(a)};m.setTime=function(a){this.j.setTime(a)};
m.add=function(a){if(a.Da||a.va){var b=this.getMonth()+a.va+12*a.Da,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.qa&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.qa),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),md(this,a.getDate()))};m.Yc=function(a,b){return[this.getFullYear(),Fa(this.getMonth()+1),Fa(this.getDate())].join(a?"-":"")+(b?nd(this):"")};m.toString=function(){return this.Yc()};function md(a,b){a.getDate()!=b&&a.j.setUTCHours(a.j.getUTCHours()+(a.getDate()<b?1:-1))}m.valueOf=function(){return this.j.valueOf()};function dd(a,b,c,d,f,g,h){this.j=ma(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,h||0):new Date(a?a.getTime():t())}v(dd,ld);m=dd.prototype;m.getHours=function(){return this.j.getHours()};
m.getMinutes=function(){return this.j.getMinutes()};m.getSeconds=function(){return this.j.getSeconds()};m.getUTCHours=function(){return this.j.getUTCHours()};m.setHours=function(a){this.j.setHours(a)};m.setMinutes=function(a){this.j.setMinutes(a)};m.setSeconds=function(a){this.j.setSeconds(a)};m.setMilliseconds=function(a){this.j.setMilliseconds(a)};m.setUTCHours=function(a){this.j.setUTCHours(a)};
m.add=function(a){ld.prototype.add.call(this,a);a.ia&&this.setHours(this.j.getHours()+a.ia);a.ja&&this.setMinutes(this.j.getMinutes()+a.ja);a.ma&&this.setSeconds(this.j.getSeconds()+a.ma)};m.Yc=function(a,b){var c=ld.prototype.Yc.call(this,a);return a?c+" "+Fa(this.getHours())+":"+Fa(this.getMinutes())+":"+Fa(this.getSeconds())+(b?nd(this):""):c+"T"+Fa(this.getHours())+Fa(this.getMinutes())+Fa(this.getSeconds())+(b?nd(this):"")};m.toString=function(){return this.Yc()};
function od(a){var b,c=a.getHours();ja(b)||(b=j);var d=12==c;12<c&&(c-=12,d=j);0==c&&b&&(c=12);c=String(c);c+=":"+Fa(a.getMinutes());b&&(a=va("am"),b=va("pm"),c+=d?b:a);return c}m.clone=function(){var a=new dd(this.j);a.ud=this.ud;a.vd=this.vd;return a};function pd(a){M.call(this);this.ta=a;this.G=[]}v(pd,M);var qd=[];function T(a,b,c,d,f){ka(c)||(qd[0]=c,c=qd);for(var g=0;g<c.length;g++){var h=N(b,c[g],d||a,f||l,a.ta||a);a.G.push(h)}return a}function rd(a,b,c,d,f,g){if(ka(c))for(var h=0;h<c.length;h++)rd(a,b,c[h],d,f,g);else b=Gc(b,c,d||a,f,g||a.ta||a),a.G.push(b)}
function sd(a,b,c,d,f,g){if(ka(c))for(var h=0;h<c.length;h++)sd(a,b,c[h],d,f,g);else{a:{d=d||a;g=g||a.ta||a;f=!!f;if(b=Ic(b,c,f))for(c=0;c<b.length;c++)if(!b[c].Hb&&b[c].hc==d&&b[c].capture==f&&b[c].Bd==g){b=b[c];break a}b=k}b&&(b=b.key,Jc(b),Pa(a.G,b))}return a}function td(a){w(a.G,Jc);a.G.length=0}pd.prototype.g=function(){pd.c.g.call(this);td(this)};pd.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function ud(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}ud.prototype.clone=function(){return new ud(this.top,this.right,this.bottom,this.left)};ud.prototype.contains=function(a){return!this||!a?l:a instanceof ud?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function vd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}vd.prototype.clone=function(){return new vd(this.left,this.top,this.width,this.height)};vd.prototype.contains=function(a){return a instanceof vd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function U(a,b,c){r(b)?wd(a,c,b):Ab(b,ua(wd,a))}function wd(a,b,c){a.style[Ga(c)]=b}function xd(a,b){var c=Lb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function yd(a,b){return a.currentStyle?a.currentStyle[b]:k}function zd(a,b){return xd(a,b)||yd(a,b)||a.style&&a.style[b]}function Ad(a,b,c){var d,f=eb&&(Za||gb)&&z("1.9");b instanceof yb?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Bd(d,f);a.style.top=Bd(b,f)}
function Cd(a){return new yb(a.offsetLeft,a.offsetTop)}function Dd(a){var b=a.getBoundingClientRect();x&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Ed(a){if(x&&!qb(8))return a.offsetParent;for(var b=Lb(a),c=zd(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=zd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function Fd(a){var b,c=Lb(a),d=zd(a,"position"),f=eb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new yb(0,0),h;b=c?Lb(c):document;if(h=x)if(h=!qb(9))h="CSS1Compat"!=Jb(b).Q.compatMode;h=h?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=Dd(a),a=fc(Jb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;
else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(y&&"fixed"==zd(f,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(db||y&&"absolute"==d)g.y-=c.body.offsetTop;for(f=a;(f=Ed(f))&&f!=c.body&&f!=h;)if(g.x-=f.scrollLeft,!db||"TR"!=f.tagName)g.y-=f.scrollTop}return g}function Gd(a,b){var c,d=Fd(a);b instanceof yb&&(c=b.y,b=b.x);Ad(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Bd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Hd(a,b){a.style.height=Bd(b,j)}function Id(a,b){a.style.width=Bd(b,j)}function V(a){if("none"!=zd(a,"display"))return Jd(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Jd(a);b.display=c;b.position=f;b.visibility=d;return a}
function Jd(a){var b=a.offsetWidth,c=a.offsetHeight,d=y&&!b&&!c;return(!ja(b)||d)&&a.getBoundingClientRect?(a=Dd(a),new zb(a.right-a.left,a.bottom-a.top)):new zb(b,c)}function Kd(a){var b=Fd(a),a=V(a);return new vd(b.x,b.y,a.width,a.height)}function Ld(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function S(a,b){a.style.display=b?"":"none"}function Md(a){return"rtl"==zd(a,"direction")}
var Nd=eb?"MozUserSelect":y?"WebkitUserSelect":k;function Od(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function Pd(a,b){if(x){var c=Od(a,yd(a,b+"Left")),d=Od(a,yd(a,b+"Right")),f=Od(a,yd(a,b+"Top")),g=Od(a,yd(a,b+"Bottom"));return new ud(f,d,g,c)}c=xd(a,b+"Left");d=xd(a,b+"Right");f=xd(a,b+"Top");g=xd(a,b+"Bottom");return new ud(parseFloat(f),parseFloat(d),parseFloat(g),parseFloat(c))}var Qd={thin:2,medium:4,thick:6};function Rd(a,b){if("none"==yd(a,b+"Style"))return 0;var c=yd(a,b+"Width");return c in Qd?Qd[c]:Od(a,c)}
function Sd(a){if(x){var b=Rd(a,"borderLeft"),c=Rd(a,"borderRight"),d=Rd(a,"borderTop"),a=Rd(a,"borderBottom");return new ud(d,c,a,b)}b=xd(a,"borderLeftWidth");c=xd(a,"borderRightWidth");d=xd(a,"borderTopWidth");a=xd(a,"borderBottomWidth");return new ud(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function Td(a,b,c){M.call(this);this.target=a;this.handle=b||a;this.tg=c||new vd(NaN,NaN,NaN,NaN);this.Q=Lb(a);this.l=new pd(this);N(this.handle,["touchstart","mousedown"],this.Kb,l,this)}v(Td,Oc);var Ud=x||eb&&z("1.9.3");m=Td.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.Sg=0;m.Tg=0;m.Vb=0;m.Wb=0;m.re=j;m.xb=l;m.Ae=0;m.ei=0;m.ai=l;m.ad=l;m.o=ca("l");m.df=function(a){this.Ae=Math.pow(a,2)};m.Qg=ba("Rd");m.Qa=ba("re");
m.g=function(){Td.c.g.call(this);Hc(this.handle,["touchstart","mousedown"],this.Kb,l,this);td(this.l);Ud&&this.Q.releaseCapture();this.l=this.handle=this.target=k};function Vd(a){ja(a.za)||(a.za=Md(a.target));return a.za}
m.Kb=function(a){var b="mousedown"==a.type;if(this.re&&!this.xb&&(!b||yc(a))){Wd(a);if(0==this.Ae)if(this.dispatchEvent(new Xd("start",this,a.clientX,a.clientY,a)))this.xb=j,a.preventDefault();else return;else a.preventDefault();var b=this.Q,c=b.documentElement,d=!Ud;T(this.l,b,["touchmove","mousemove"],this.Yh,d);T(this.l,b,["touchend","mouseup"],this.yb,d);Ud?(c.setCapture(l),T(this.l,c,"losecapture",this.yb)):T(this.l,b?b.parentWindow||b.defaultView:window,"blur",this.yb);x&&this.ai&&T(this.l,
b,"dragstart",uc);this.Rd&&T(this.l,this.Rd,"scroll",this.Hg,d);this.clientX=this.Sg=a.clientX;this.clientY=this.Tg=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.ad?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==zd(a,"position")&&(c=Lb(a).documentElement),c?(eb?(d=Sd(c),b+=d.left):qb(8)&&(d=Sd(c),b-=d.left),a=Md(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Vb=a;this.Wb=this.target.offsetTop;this.Te=fc(Jb(this.Q));this.ei=t()}else this.dispatchEvent("earlycancel")};
m.yb=function(a,b){td(this.l);Ud&&this.Q.releaseCapture();if(this.xb){Wd(a);this.xb=l;var c=Yd(this,this.Vb),d=Zd(this,this.Wb);this.dispatchEvent(new Xd("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function Wd(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ha.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ha.changedTouches[0],a.currentTarget)}
m.Yh=function(a){if(this.re){Wd(a);var b=(this.ad&&Vd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.xb){var d=this.Sg-this.clientX,f=this.Tg-this.clientY;if(d*d+f*f>this.Ae)if(this.dispatchEvent(new Xd("start",this,a.clientX,a.clientY,a)))this.xb=j;else{this.qd||this.yb(a);return}}c=$d(this,b,c);b=c.x;c=c.y;this.xb&&this.dispatchEvent(new Xd("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(ae(this,a,b,c),a.preventDefault())}};function $d(a,b,c){var d=fc(Jb(a.Q)),b=b+(d.x-a.Te.x),c=c+(d.y-a.Te.y);a.Te=d;a.Vb+=b;a.Wb+=c;b=Yd(a,a.Vb);a=Zd(a,a.Wb);return new yb(b,a)}m.Hg=function(a){var b=$d(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;ae(this,a,b.x,b.y)};function ae(a,b,c,d){a.od(c,d);a.dispatchEvent(new Xd("drag",a,b.clientX,b.clientY,b,c,d))}
function Yd(a,b){var c=a.tg,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function Zd(a,b){var c=a.tg,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}m.od=function(a,b){this.ad&&Vd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function Xd(a,b,c,d,f,g,h,n){tc.call(this,a);this.clientX=c;this.clientY=d;this.fe=f;this.left=ja(g)?g:b.Vb;this.top=ja(h)?h:b.Wb;this.yh=b;this.wh=!!n}v(Xd,tc);function be(){M.call(this);this.e=ce;this.zc=this.startTime=k}v(be,Oc);var ce=0;be.prototype.gb=function(){this.aa("begin")};be.prototype.hb=function(){this.aa("end")};be.prototype.aa=function(a){this.dispatchEvent(a)};function de(a,b,c){M.call(this);this.cb=a;this.F=b||0;this.ta=c;this.he=s(this.xc,this)}v(de,M);m=de.prototype;m.ca=0;m.g=function(){de.c.g.call(this);this.stop();delete this.cb;delete this.ta};m.start=function(a){this.stop();this.ca=O(this.he,ja(a)?a:this.F)};m.stop=function(){this.Fb()&&Qc.clearTimeout(this.ca);this.ca=0};m.te=function(){this.stop();this.xc()};m.Fb=function(){return 0!=this.ca};m.xc=function(){this.ca=0;this.cb&&this.cb.call(this.ta)};var ee;ee=da(k);var fe={},ge=k;function he(a){a=pa(a);delete fe[a];Db(fe)&&ge&&ge.stop()}function ie(){ge||(ge=new de(function(){var a=t();Ab(fe,function(c){je(c,a)});Db(fe)||ie()},20));var a=ge;a.Fb()||a.start()};function ke(a,b,c,d){be.call(this);(!ka(a)||!ka(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.Tc=a;this.Ah=b;this.duration=c;this.uf=d;this.coords=[];this.ad=l}v(ke,be);m=ke.prototype;m.Rf=0;m.ka=0;m.Ie=k;
m.play=function(a){if(a||this.e==ce)this.ka=0,this.coords=this.Tc;else if(1==this.e)return l;he(this);this.startTime=a=t();-1==this.e&&(this.startTime-=this.duration*this.ka);this.zc=this.startTime+this.duration;this.Ie=this.startTime;this.ka||this.gb();this.aa("play");-1==this.e&&this.aa("resume");this.e=1;var b=pa(this);b in fe||(fe[b]=this);ie();je(this,a);return j};m.stop=function(a){he(this);this.e=ce;a&&(this.ka=1);le(this,this.ka);this.aa("stop");this.hb()};m.xd=ca("ka");
m.g=function(){this.e==ce||this.stop(l);this.aa("destroy");ke.c.g.call(this)};function je(a,b){a.ka=(b-a.startTime)/(a.zc-a.startTime);1<=a.ka&&(a.ka=1);a.Rf=1E3/(b-a.Ie);a.Ie=b;le(a,a.ka);1==a.ka?(a.e=ce,he(a),a.aa("finish"),a.hb()):1==a.e&&a.Qe()}function le(a,b){na(a.uf)&&(b=a.uf(b));a.coords=Array(a.Tc.length);for(var c=0;c<a.Tc.length;c++)a.coords[c]=(a.Ah[c]-a.Tc[c])*b+a.Tc[c]}m.Qe=function(){this.aa("animate")};m.aa=function(a){this.dispatchEvent(new me(a,this))};
function me(a,b){tc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.kk=b.coords[2];this.duration=b.duration;this.ka=b.xd();this.Qj=b.Rf;this.state=b.e;this.Cj=b}v(me,tc);function ne(a,b,c,d,f){ke.call(this,b,c,d,f);this.element=a}v(ne,ke);m=ne.prototype;m.$c=ga;m.ng=function(){ja(this.za)||(this.za=Md(this.element));return this.za};m.Qe=function(){this.$c();ne.c.Qe.call(this)};m.hb=function(){this.$c();ne.c.hb.call(this)};m.gb=function(){this.$c();ne.c.gb.call(this)};function oe(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));ne.apply(this,arguments)}v(oe,ne);
oe.prototype.$c=function(){if(this.ad){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=Md(a)?eb?-b:!x||!z("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function pe(a,b,c,d,f){ma(b)&&(b=[b]);ma(c)&&(c=[c]);ne.call(this,a,b,c,d,f);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}v(pe,ne);pe.prototype.$c=function(){Ld(this.element,this.coords[0])};
pe.prototype.show=function(){this.element.style.display=""};pe.prototype.hide=function(){this.element.style.display="none"};function qe(a,b,c){pe.call(this,a,1,0,b,c)}v(qe,pe);qe.prototype.gb=function(){this.show();qe.c.gb.call(this)};qe.prototype.hb=function(){this.hide();qe.c.hb.call(this)};function re(a,b,c){pe.call(this,a,0,1,b,c)}v(re,pe);re.prototype.gb=function(){this.show();re.c.gb.call(this)};function se(){}ha(se);se.prototype.ii=0;se.b();function W(a){M.call(this);this.wb=a||Jb();this.za=te}v(W,Oc);W.prototype.$h=se.b();var te=k;function ue(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}m=W.prototype;m.ca=k;m.N=l;m.d=k;m.za=k;m.p=k;m.A=k;m.O=k;m.$=k;m.jh=l;
function ve(a){return a.ca||(a.ca=":"+(a.$h.ii++).toString(36))}m.a=ca("d");m.o=function(){return this.bc||(this.bc=new pd(this))};m.Td=function(a){this==a&&e(Error("Unable to set parent component"));a&&(this.A&&this.ca&&this.A.$&&this.ca&&Gb(this.A.$,this.ca)&&this.A!=a)&&e(Error("Unable to set parent component"));this.A=a;W.c.ef.call(this,a)};m.getParent=ca("A");m.ef=function(a){this.A&&this.A!=a&&e(Error("Method not supported"));W.c.ef.call(this,a)};m.sa=ca("wb");m.C=function(){this.d=this.wb.createElement("div")};
function we(a,b){a.N&&e(Error("Component already rendered"));a.d||a.C();b?b.insertBefore(a.d,k):a.wb.Q.body.appendChild(a.d);(!a.A||a.A.N)&&a.m()}m.f=function(a){this.N&&e(Error("Component already rendered"));if(a&&this.rb(a)){this.jh=j;if(!this.wb||this.wb.Q!=Lb(a))this.wb=Jb(a);this.M(a);this.m()}else e(Error("Invalid element to decorate"))};m.rb=da(j);m.M=ba("d");m.m=function(){this.N=j;xe(this,function(a){!a.N&&a.a()&&a.m()})};
m.zb=function(){xe(this,function(a){a.N&&a.zb()});this.bc&&td(this.bc);this.N=l};m.g=function(){W.c.g.call(this);this.N&&this.zb();this.bc&&(this.bc.P(),delete this.bc);xe(this,function(a){a.P()});!this.jh&&this.d&&Sb(this.d);this.A=this.p=this.d=this.$=this.O=k};
function ye(a,b){var c=a.O?a.O.length:0;b.N&&!a.N&&e(Error("Component already rendered"));(0>c||c>(a.O?a.O.length:0))&&e(Error("Child component index out of bounds"));if(!a.$||!a.O)a.$={},a.O=[];if(b.getParent()==a){var d=ve(b);a.$[d]=b;Pa(a.O,b)}else Fb(a.$,ve(b),b);b.Td(a);Ta(a.O,c,0,b);b.N&&a.N&&b.getParent()==a?(d=a.Bb(),d.insertBefore(b.a(),d.childNodes[c]||k)):a.N&&(!b.N&&b.d&&b.d.parentNode)&&b.m()}m.Bb=ca("d");m.ng=function(){this.za==k&&(this.za=Md(this.N?this.d:this.wb.Q.body));return this.za};
m.Jb=function(a){this.N&&e(Error("Component already rendered"));this.za=a};function xe(a,b){a.O&&w(a.O,b,i)}m.removeChild=function(a,b){if(a){var c=r(a)?a:ve(a),a=this.$&&c?Gb(this.$,c)||k:k;c&&a&&(Eb(this.$,c),Pa(this.O,a),b&&(a.zb(),a.d&&Sb(a.d)),a.Td(k))}a||e(Error("Child is not in parent component"));return a};function ze(a,b,c,d,f){if(!x&&(!y||!z("525")))return j;if(Za&&f)return Ae(a);if(f&&!d||!c&&(17==b||18==b)||x&&d&&b==a)return l;switch(a){case 13:return!(x&&qb(9));case 27:return!y}return Ae(a)}function Ae(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||y&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Be(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Ce(){}var De;ha(Ce);m=Ce.prototype;m.ac=aa();m.C=function(a){var b=a.sa().C("div",Ee(this,a).join(" "),a.Ea);Fe(this,a,b);return b};m.Bb=function(a){return a};m.yc=function(a,b,c){if(a=a.a?a.a():a)if(x&&!z("7")){var d=Ge(wb(a),b);d.push(b);ua(c?C:D,a).apply(k,d)}else F(a,b,c)};m.rb=da(j);
m.f=function(a,b){if(b.id){var c=b.id;a.A&&a.A.$&&(Eb(a.A.$,a.ca),Fb(a.A.$,c,a));a.ca=c}(c=this.Bb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Ra(c.childNodes):c.firstChild,a.Ea=c):a.Ea=k;var d=0,f=this.U(),g=this.U(),h=l,n=l,c=l,q=wb(b);w(q,function(a){if(!h&&a==f)h=j,g==f&&(n=j);else if(!n&&a==g)n=j;else{var b=d;if(!this.Ug){this.hd||He(this);var c=this.hd,q={},u;for(u in c)q[c[u]]=u;this.Ug=q}a=parseInt(this.Ug[a],10);d=b|(isNaN(a)?0:a)}},this);a.e=d;h||(q.push(f),g==f&&(n=j));n||q.push(g);var u=
a.ra;u&&q.push.apply(q,u);if(x&&!z("7")){var A=Ge(q);0<A.length&&(q.push.apply(q,A),c=j)}if(!h||!n||u||c)b.className=q.join(" ");Fe(this,a,b);return b};m.ig=function(a){a.ng()&&this.Jb(a.a(),j);a.isEnabled()&&this.lc(a,a.ob)};function Fe(a,b,c){b.isEnabled()||a.Ba(c,1,j);b.e&8&&a.Ba(c,8,j);b.T&16&&a.Ba(c,16,Ie(b));b.T&64&&a.Ba(c,64,!!(b.e&64))}
m.kc=function(a,b){var c=!b,d=x||db?a.getElementsByTagName("*"):k;if(Nd){if(c=c?"none":"",a.style[Nd]=c,d)for(var f=0,g;g=d[f];f++)g.style[Nd]=c}else if(x||db)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;g=d[f];f++)g.setAttribute("unselectable",c)};m.Jb=function(a,b){this.yc(a,this.U()+"-rtl",b)};m.Fe=function(a){var b;return a.T&32&&(b=a.Za())?ac(b):l};
m.lc=function(a,b){var c;if(a.T&32&&(c=a.Za())){if(!b&&a.Dd()){try{c.blur()}catch(d){}a.Dd()&&a.Uf()}ac(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};m.hf=function(a,b){S(a,b)};m.W=function(a,b,c){var d=a.a();if(d){var f=Je(this,b);f&&this.yc(a,f,c);this.Ba(d,b,c)}};m.Ba=function(a,b,c){De||(De={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=De[b])&&a.setAttribute("aria-"+b,c)};
m.Ib=function(a,b){var c=this.Bb(a);if(c&&(Rb(c),b))if(r(b))Yb(c,b);else{var d=function(a){if(a){var b=Lb(c);c.appendChild(r(a)?b.createTextNode(a):a)}};ka(b)?w(b,d):la(b)&&!("nodeType"in b)?w(Ra(b),d):d(b)}};m.Za=function(a){return a.a()};m.U=da("goog-control");function Ee(a,b){var c=a.U(),d=[c],f=a.U();f!=c&&d.push(f);c=b.e;for(f=[];c;){var g=c&-c;f.push(Je(a,g));c&=~g}d.push.apply(d,f);(c=b.ra)&&d.push.apply(d,c);x&&!z("7")&&d.push.apply(d,Ge(d));return d}
function Ge(a,b){var c=[];b&&(a=a.concat([b]));w([],function(d){La(d,ua(Oa,a))&&(!b||Oa(d,b))&&c.push(d.join("_"))});return c}function Je(a,b){a.hd||He(a);return a.hd[b]}function He(a){var b=a.U();a.hd={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Ke(){}v(Ke,Ce);ha(Ke);m=Ke.prototype;m.ac=da("button");m.Ba=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Ke.c.Ba.call(this,a,b,c)};m.C=function(a){var b=Ke.c.C.call(this,a),c=a.Ac();c&&this.gf(b,c);(c=a.S())&&this.ib(b,c);a.T&16&&this.Ba(b,16,Ie(a));return b};m.f=function(a,b){var b=Ke.c.f.call(this,a,b),c=this.S(b);a.tf=c;a.qf=this.Ac(b);a.T&16&&this.Ba(b,16,Ie(a));return b};m.S=ga;m.ib=ga;m.Ac=function(a){return a.title};m.gf=function(a,b){a&&(a.title=b||"")};m.U=da("goog-button");function Le(a,b){M.call(this);a&&Me(this,a,b)}v(Le,Oc);m=Le.prototype;m.d=k;m.Ed=k;m.Ge=k;m.Fd=k;m.bb=-1;m.ab=-1;m.de=l;
var Ne={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Oe={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Pe=x||y&&z("525"),Qe=Za&&eb;m=Le.prototype;
m.Vh=function(a){if(y&&(17==this.bb&&!a.ctrlKey||18==this.bb&&!a.altKey))this.ab=this.bb=-1;Pe&&!ze(a.keyCode,this.bb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.ab=eb?Be(a.keyCode):a.keyCode,Qe&&(this.de=a.altKey))};m.Xh=function(a){this.ab=this.bb=-1;this.de=a.altKey};
m.handleEvent=function(a){var b=a.ha,c,d,f=b.altKey;x&&"keypress"==a.type?(c=this.ab,d=13!=c&&27!=c?b.keyCode:0):y&&"keypress"==a.type?(c=this.ab,d=0<=b.charCode&&63232>b.charCode&&Ae(c)?b.charCode:0):db?(c=this.ab,d=Ae(c)?b.keyCode:0):(c=b.keyCode||this.ab,d=b.charCode||0,Qe&&(f=this.de),Za&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Ne?g=Ne[c]:25==c&&a.shiftKey&&(g=9):h&&h in Oe&&(g=Oe[h]);a=g==this.bb;this.bb=g;b=new Re(g,d,a,b);b.altKey=f;this.dispatchEvent(b)};m.a=ca("d");
function Me(a,b,c){a.Fd&&a.detach();a.d=b;a.Ed=N(a.d,"keypress",a,c);a.Ge=N(a.d,"keydown",a.Vh,c,a);a.Fd=N(a.d,"keyup",a.Xh,c,a)}m.detach=function(){this.Ed&&(Jc(this.Ed),Jc(this.Ge),Jc(this.Fd),this.Fd=this.Ge=this.Ed=k);this.d=k;this.ab=this.bb=-1};m.g=function(){Le.c.g.call(this);this.detach()};function Re(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}v(Re,wc);function Se(a,b){a||e(Error("Invalid class name "+a));na(b)||e(Error("Invalid decorator function "+b))}var Te={};function Ue(a,b,c){W.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=pa(b);if(d=Te[d])break;b=b.c?b.c.constructor:k}b=d?na(d.b)?d.b():new d:k}this.u=b;this.Ea=a}v(Ue,W);m=Ue.prototype;m.Ea=k;m.e=0;m.T=39;m.Ma=255;m.Ui=0;m.ob=j;m.ra=k;m.ze=j;m.fd=l;m.Kg=k;function Ve(a){a.N&&l!=a.ze&&We(a,l);a.ze=l}m.Za=function(){return this.u.Za(this)};
m.yc=function(a,b){b?a&&(this.ra?Oa(this.ra,a)||this.ra.push(a):this.ra=[a],this.u.yc(this,a,j)):a&&this.ra&&(Pa(this.ra,a),0==this.ra.length&&(this.ra=k),this.u.yc(this,a,l))};m.C=function(){var a=this.u.C(this);this.d=a;var b=this.Kg||this.u.ac();b&&a.setAttribute("role",b);this.fd||this.u.kc(a,l);this.ob||this.u.hf(a,l)};m.Bb=function(){return this.u.Bb(this.a())};m.rb=function(a){return this.u.rb(a)};
m.M=function(a){this.d=a=this.u.f(this,a);var b=this.Kg||this.u.ac();b&&a.setAttribute("role",b);this.fd||this.u.kc(a,l);this.ob="none"!=a.style.display};m.m=function(){Ue.c.m.call(this);this.u.ig(this);if(this.T&-2&&(this.ze&&We(this,j),this.T&32)){var a=this.Za();if(a){var b=this.fc||(this.fc=new Le);Me(b,a);T(T(T(this.o(),b,"key",this.Wh),a,"focus",this.Th),a,"blur",this.Uf)}}};
function We(a,b){var c=a.o(),d=a.a();b?(T(T(T(T(c,d,"mouseover",a.$f),d,"mousedown",a.Yf),d,"mouseup",a.ag),d,"mouseout",a.Zf),a.Ad!=ga&&T(c,d,"contextmenu",a.Ad),x&&T(c,d,"dblclick",a.Vf)):(sd(sd(sd(sd(c,d,"mouseover",a.$f),d,"mousedown",a.Yf),d,"mouseup",a.ag),d,"mouseout",a.Zf),a.Ad!=ga&&sd(c,d,"contextmenu",a.Ad),x&&sd(c,d,"dblclick",a.Vf))}m.zb=function(){Ue.c.zb.call(this);this.fc&&this.fc.detach();this.ob&&this.isEnabled()&&this.u.lc(this,l)};
m.g=function(){Ue.c.g.call(this);this.fc&&(this.fc.P(),delete this.fc);delete this.u;this.ra=this.Ea=k};m.Ib=function(a){this.u.Ib(this.a(),a);this.Ea=a};m.Sf=function(){var a=this.Ea;return!a?"":(r(a)?a:ka(a)?Ka(a,dc).join(""):bc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};m.Jb=function(a){Ue.c.Jb.call(this,a);var b=this.a();b&&this.u.Jb(b,a)};m.kc=function(a){this.fd=a;var b=this.a();b&&this.u.kc(b,a)};
m.hf=function(a,b){if(b||this.ob!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.a();c&&this.u.hf(c,a);this.isEnabled()&&this.u.lc(this,a);this.ob=a;return j}return l};m.isEnabled=function(){return!(this.e&1)};m.Qa=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&Xe(this,1,!a))a||(this.setActive(l),Ye(this,l)),this.ob&&this.u.lc(this,a),this.W(1,!a)};function Ye(a,b){Xe(a,2,b)&&a.W(2,b)}m.Fb=function(){return!!(this.e&4)};
m.setActive=function(a){Xe(this,4,a)&&this.W(4,a)};function Ie(a){return!!(a.e&16)}function Ze(a,b){Xe(a,16,b)&&a.W(16,b)}m.Dd=function(){return!!(this.e&32)};m.mc=function(a){Xe(this,32,a)&&this.W(32,a)};m.W=function(a,b){this.T&a&&b!=!!(this.e&a)&&(this.u.W(this,a,b),this.e=b?this.e|a:this.e&~a)};function $e(a,b,c){a.N&&(a.e&b&&!c)&&e(Error("Component already rendered"));!c&&a.e&b&&a.W(b,l);a.T=c?a.T|b:a.T&~b}function af(a,b){return!!(a.Ma&b)&&!!(a.T&b)}
function Xe(a,b,c){return!!(a.T&b)&&!!(a.e&b)!=c&&(!(a.Ui&b)||a.dispatchEvent(ue(b,c)))&&!a.qd}m.$f=function(a){(!a.relatedTarget||!Xb(this.a(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&af(this,2))&&Ye(this,j)};m.Zf=function(a){if((!a.relatedTarget||!Xb(this.a(),a.relatedTarget))&&this.dispatchEvent("leave"))af(this,4)&&this.setActive(l),af(this,2)&&Ye(this,l)};m.Ad=ga;
m.Yf=function(a){this.isEnabled()&&(af(this,2)&&Ye(this,j),yc(a)&&(af(this,4)&&this.setActive(j),this.u.Fe(this)&&this.Za().focus()));!this.fd&&yc(a)&&a.preventDefault()};m.ag=function(a){this.isEnabled()&&(af(this,2)&&Ye(this,j),this.Fb()&&(this.Kc(a)&&af(this,4))&&this.setActive(l))};m.Vf=function(a){this.isEnabled()&&this.Kc(a)};
m.Kc=function(a){af(this,16)&&Ze(this,!Ie(this));af(this,8)&&Xe(this,8,j)&&this.W(8,j);if(af(this,64)){var b=!(this.e&64);Xe(this,64,b)&&this.W(64,b)}b=new tc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.Ve=a.Ve);return this.dispatchEvent(b)};m.Th=function(){af(this,32)&&this.mc(j)};m.Uf=function(){af(this,4)&&this.setActive(l);af(this,32)&&this.mc(l)};
m.Wh=function(a){return this.ob&&this.isEnabled()&&this.ye(a)?(a.preventDefault(),a.stopPropagation(),j):l};m.ye=function(a){return 13==a.keyCode&&this.Kc(a)};na(Ue)||e(Error("Invalid component class "+Ue));na(Ce)||e(Error("Invalid renderer class "+Ce));var bf=pa(Ue);Te[bf]=Ce;Se("goog-control",function(){return new Ue(k)});function cf(){}v(cf,Ke);ha(cf);m=cf.prototype;m.ac=aa();m.C=function(a){Ve(a);a.Ma&=-256;$e(a,32,l);return a.sa().C("button",{"class":Ee(this,a).join(" "),disabled:!a.isEnabled(),title:a.Ac()||"",value:a.S()||""},a.Sf()||"")};m.rb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};m.f=function(a,b){Ve(a);a.Ma&=-256;$e(a,32,l);b.disabled&&C(b,Je(this,1));return cf.c.f.call(this,a,b)};m.ig=function(a){T(a.o(),a.a(),"click",a.Kc)};m.kc=ga;
m.Jb=ga;m.Fe=function(a){return a.isEnabled()};m.lc=ga;m.W=function(a,b,c){cf.c.W.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};m.S=function(a){return a.value};m.ib=function(a,b){a&&(a.value=b)};m.Ba=ga;function df(a,b,c){Ue.call(this,a,b||cf.b(),c)}v(df,Ue);m=df.prototype;m.S=ca("tf");m.ib=function(a){this.tf=a;this.u.ib(this.a(),a)};m.Ac=ca("qf");m.gf=function(a){this.qf=a;this.u.gf(this.a(),a)};m.g=function(){df.c.g.call(this);delete this.tf;delete this.qf};m.m=function(){df.c.m.call(this);if(this.T&32){var a=this.Za();a&&T(this.o(),a,"keyup",this.ye)}};m.ye=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Kc(a):32==a.keyCode};Se("goog-button",function(){return new df(k)});function ef(){}v(ef,Ke);ha(ef);m=ef.prototype;m.C=function(a){var b={"class":"goog-inline-block "+Ee(this,a).join(" "),title:a.Ac()||""},b=a.sa().C("div",b,ff(this,a.Ea,a.sa()));Fe(this,a,b);return b};m.ac=da("button");m.Bb=function(a){return a&&a.firstChild.firstChild};function ff(a,b,c){return c.C("div","goog-inline-block "+(a.U()+"-outer-box"),c.C("div","goog-inline-block "+(a.U()+"-inner-box"),b))}m.rb=function(a){return"DIV"==a.tagName};
m.f=function(a,b){gf(b,j);gf(b,l);var c;a:{c=gc(a.sa(),b);var d=this.U()+"-outer-box";if(c&&E(c,d)&&(c=gc(a.sa(),c),d=this.U()+"-inner-box",c&&E(c,d))){c=j;break a}c=l}c||b.appendChild(ff(this,b.childNodes,a.sa()));C(b,"goog-inline-block",this.U());return ef.c.f.call(this,a,b)};m.U=da("goog-custom-button");
function gf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==ya(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function hf(a,b,c){df.call(this,a,b||ef.b(),c)}v(hf,df);Se("goog-custom-button",function(){return new hf(k)});function jf(){W.call(this);this.Va=3;this.F=10;this.Wc=60*this.Va*this.F;this.ke=[];this.je={};this.da=kf();this.cc=0;this.Og=l;this.Ub=[X.b().z,X.b().z.t()]}v(jf,W);m=jf.prototype;
m.m=function(){jf.c.m.call(this);this.Vc=G("ticker");this.Id=G("my-ticker");var a=G("go-live");this.eg=G("header");this.Z=G("channels");this.fg=3;this.Ca=I().width*this.fg;this.wc=V(G("controller")).height;Q.b().subscribe(Wc,function(a){this.pf(a)},this);Q.b().subscribe(Vc,function(){this.Y()},this);this.Ra=new dd;for(var b=60;b>=this.Ra.getMinutes();)b-=this.F;this.Ra.setMinutes(b);this.L=this.Ra.clone();this.L.add(new ed(0,0,0,0,2*-this.F));this.vg=this.L.clone();this.vg.add(new ed(0,0,0,0,this.F*
(this.Va+1)));lf(this,this.Va,this.L);Id(this.a(),this.Ca);var c=2/this.Va*this.Ca-200;Ad(this.a(),-1*c);this.ea=(this.Ca-200)/this.Wc;this.bj=this.Ca/this.Va;this.sb=document.createElement("style");this.sb.id="channel-name-offs";this.sb.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.sb);this.sb.innerHTML="div#guide div.channels div.channel div.name{left:"+c+"px !important}";this.k=new Td(this.a());var d=this.sb,f=this.a();this.k.od=function(a){0>a&&a>-V(f).width+I().width&&
(this.target.style.left=a+"px",d.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}")};w(X.b().Sb,s(function(a){var b=new mf(a,this.Wc,this.Ra,c,this.L);we(b,this.Z);a.id==X.b().z.id&&(C(b.a(),"current"),this.Fa=b);this.fb=a.jc?a:this.fb;this.ke.push(b);this.je[a.id]=b},this));var b=G("now-left"),g=G("now-right");T(T(T(T(T(T(T(T(T(T(this.o(),Sc.b().le,Rc,s(function(){var a=X.b().z&&X.b().z.t(),b=nf.b().t(),c=1E3*nf.b().xd(),d=Math.round((t()-this.L.getTime())/1E3*this.ea),
c=b&&c?Math.round((b.time.getTime()+c-this.L.getTime())/1E3*this.ea):d;of(this);if(d+I().width>this.Ca-(Q.b().Qc?300:0))Math.ceil(this.Va/this.fg),lf(this,1,this.vg),this.Ca+=this.bj,Id(this.a(),this.Ca),this.Va++,this.Wc=60*this.Va*this.F;Ad(this.Vc,d);Ad(this.Id,c);S(this.Vc,!!a);S(this.Id,!!b);F(this.Vc,"go-live",40<Math.abs(c-d));F(this.Vc,"can-go-live",15<Math.abs(c-d));F(this.Id,"show",15<Math.abs(c-d));F(this.Id,"show-me",15<Math.abs(c-d));this.Y()},this)),a,"click",s(function(){X.b().h(pf,
this.Fa.p);Q.b().h(Xc,j)},this)),window,"resize",s(this.Y,this)),this.Z,"scroll",s(this.Y,this,i,i,j)),this.Vc,"click",s(this.Y,this,j,i,l)),b,"click",s(this.ni,this)),g,"click",s(this.vi,this)),this.k,"beforedrag",s(function(){C(this.a(),"drag")},this)),this.k,"end",s(function(){D(this.a(),"drag");this.qb=l;of(this)},this)),this.eg,"mousewheel",s(function(a){a.preventDefault();a.stopPropagation();a=a.ha;C(this.a(),"drag");a=Cd(this.a()).x+(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0);0>a&&a>-1*
this.Ca+I().width&&(Ad(this.a(),a),this.Fa.update(),this.sb.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}");D(this.a(),"drag");this.qb=l;of(this)},this));X.b().subscribe(pf,this.uc,this);X.b().subscribe(qf,s(this.Y,this,j));Q.b().subscribe("toggle-admin",function(a){F(this.a(),"admin",a)},this);nf.b().subscribe(rf,this.We,this);sf(this);this.Y(j);this.da&&T(this.o(),this.k,"beforedrag",s(function(a){a.fe.shiftKey&&a.preventDefault()},this))};
m.pf=function(a){var b=Math.min(this.Z.scrollHeight,210);F(this.a(),"toggled",a);Hd(this.a(),a?b+this.wc+19:this.wc);O(s(function(){Hd(this.Z,a?b:40);F(this.a(),"collapsed",!a);this.Z.scrollTop=Cd(this.Fa.a()).y;sf(this)},this),a?0:800);this.Y(j,i,l);a&&sf(this);this.k&&this.k.Qa(a)};function lf(a,b,c){for(var d=H("times",a.a()),f=0;f<=b;f++){var g=c.clone();g.add(new ed(0,0,0,0,a.F*f));g=Pb("div",{"class":"time",style:"width:"+(a.Ca-200)/a.Va+"px"},od(g));d.appendChild(g)}}
m.uc=function(a){D(this.Fa.a(),"current");this.Fa=this.je[a.id];C(this.Fa.a(),"current");this.Ub[0]=a;this.Y(j,i,l)};m.We=function(a){if(!this.fb){var b=Y.b().Na;this.fb=new tf({id:b.id,name:b.name.split(" ")[0]+"'s Channel"});X.b().jc=this.fb;b=new mf(this.fb,this.Wc,this.Ra,0,this.L);we(b,this.Z);this.ke.push(b);this.je[this.fb.id]=b}b=new uf(i,a);this.fb.h(vf,b);sf(this);X.b().h(pf,this.fb);Z("/_addprogram",ee(),"POST","channel_id="+X.b().jc.id+"&media_id="+a.id)};
function of(a){var b=G("now-left"),c=G("now-right"),d=(t()-a.L.getTime())/1E3*a.ea,f=I().width-(Q.b().Qc?300:0);c.style.right=Q.b().Qc?"300px":0;F(c,"now",!!(-d<Cd(a.a()).x-f));F(b,"now",!!(-d>Cd(a.a()).x+200));S(c,a.Ub[0].ub+(a.cc||0)+1<a.Ub[0].wa.length);S(b,0<=a.Ub[0].ub+(a.cc||0)-1)}m.ni=function(){E(G("now-left"),"now")?this.Y(j):this.Y(l,-1)};m.vi=function(){E(G("now-right"),"now")?this.Y(j):this.Y(l,1)};
m.Y=function(a,b,c){this.qb=a!=i?!!a:this.qb;this.Og=a!=i?!!c:this.qb;this.cc=this.qb?0:b?this.cc+b:this.cc;c=this.qb?nf.b().t():this.Ub[0].t(this.cc);this.Ub[1]=c;if((this.qb||b)&&c){var a=(t()-this.L.getTime())/1E3*this.ea,c=-(c.time.getTime()-this.L.getTime())/1E3*this.ea+5,d=I().width-(Q.b().Qc?300:0);!b&&a>-c+d-300&&(c=-a+d-350);c=Math.max(c,-V(this.a()).width+d);Ad(this.a(),Math.min(c,-200));this.sb.innerHTML="div#guide div.channels div.channel div.name{left:"+-c+"px !important}";if(!this.Og){var f=
Cd(this.Fa.a()).y-V(this.eg).height,g=new oe(this.Z,[this.Z.scrollLeft,this.Z.scrollTop],[this.Z.scrollLeft,f],100*this.ke.length);T(this.o(),g,"end",s(function(){O(s(function(){this.Z.scrollTop=f},this))},this));O(s(function(){g.play()},this),100)}}b&&of(this)};function sf(a){var b=Math.min(a.Z.scrollHeight,210);Hd(a.Z,E(a.a(),"toggled")?b:a.wc);Hd(a.a(),E(a.a(),"collapsed")?a.wc:b+a.wc+19)};function wf(a){return'\t<div class="channel"><div class="programs-container"><div class="programs"></div><div class="suggest"><div class="spinner">...</div><div class="select-program"><div class="select-header">SUGGEST PROGRAM <div class="close"></div></div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="Paste YouTube link"/><div class="page2"></div></div></div></div></div></div><div class="graph"></div><div class="viewers"></div><div class="name"><div class="text">'+
L(a.name)+'</div><div class="suggest-program"><div class="add-program button dark">+</div></div></div></div>'}function xf(a){return'<div class="info"><div class="thumb'+(a.repeat?" repeat":"")+'" style="background-image:url('+L(a.Ze.media.Ua)+"); background-position: 50% "+L(a.Ze.media.oc)+'%"></div><div class="progress"></div><div class="title">'+L(a.Ze.media.name)+"</div>"+(a.be?'<div class="remove"></div><div class="repos"></div>':"")+"</div>"}
function yf(a){return'<div class="line"><div class="pic"><img src="'+L(a.r.V)+'"></div></div>'}function zf(a){return'<div class="confirm-media"><div class="thumb" style="background-image:url('+L(a.Yi)+')"></div><div class="title">'+L(a.title)+'</div><div class="added">ADDED</div><div class="dark button">ADD</div></div>'};function Af(a){this.id=a.id;this.V=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Bf(a){P.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.dc=a.host_id;this.duration=a.duration;this.description=a.description;this.ya=new Af(a.publisher);this.xa=cd(a.published+"Z");this.Ua="http://i.ytimg.com/vi/"+this.dc+"/0.jpg";this.$j="http://i.ytimg.com/vi/"+this.dc+"/1.jpg";this.ak="http://i.ytimg.com/vi/"+this.dc+"/2.jpg";this.bk="http://i.ytimg.com/vi/"+this.dc+"/3.jpg";this.nf=new zb(480,360);this.oc=a.thumb_pos||37;this.th=[];this.subscribe(Cf,this.nh,this)}
v(Bf,P);var Cf="add-comment";Bf.prototype.nh=function(a){this.th.push(a)};function Df(){P.call(this);this.yg={}}v(Df,P);ha(Df);function Ef(a,b){var c=a.get(b.id);c||(c=new Bf(b),a.add(c));return c}Df.prototype.get=function(a){return Gb(this.yg,a)};Df.prototype.add=function(a){this.yg[a.id]=a};function uf(a,b){P.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?new Bf(d.media):c;Df.b().add(this.media);this.time=d?cd(d.time+"Z"):new dd}v(uf,P);function Ff(a){P.call(this);this.id=a.id;this.name=a.name;this.V=xa("https://graph.facebook.com/%s/picture",this.id);this.color=Raphael.getColor();this.vf=a.access_level;this.Bj=[]}v(Ff,P);function kf(){return Y.b().Na.vf==Gf}var Gf=2;function Hf(a,b,c,d,f){this.id=a;this.r=b;this.ie=c;this.$g=d;this.Wd=f||k};function tf(a){P.call(this);this.id=a.id;this.name=a.name;this.jc=a.my_channel;this.wa=[];this.Lc={};this.Ga=a.current_program&&new uf(a.current_program);this.Yd=[];this.subscribe(vf,this.Pb,this);this.subscribe(If,this.dd,this);this.subscribe(Jf,this.rf,this)}v(tf,P);tf.prototype.Pb=function(a){this.wa.push(a);this.Lc[a.id]=a};tf.prototype.dd=function(a){this.Yd.push(a)};tf.prototype.rf=function(a){var b=Gb(this.Lc,a.id);b&&(b.time=cd(a.time+"Z"))};
tf.prototype.t=function(a){if(!this.wa.length)return k;var b=this.Ga;b||(b=this.wa[0],this.ub=0);if(a)return this.wa[this.ub+a];if(t()>=b.time.getTime()&&t()<b.time.getTime()+1E3*b.media.duration)return this.Ga=b;for(;t()>b.time.getTime()&&t()>=b.time.getTime()+1E3*b.media.duration;){this.Ga||(this.Ga=this.wa[0],this.ub=0);this.wa.length>=this.ub+1?(this.ub++,a=this.Ga=this.wa[this.ub]):a=k;if(!a)break;b=a}return t()>=b.time.getTime()&&t()<b.time.getTime()+1E3*b.media.duration?this.Ga=b:k};
var vf="add-program",If="add-viewer",Jf="update-program";function Kf(){M.call(this);this.R=[];this.$b=[];this.sd={};this.l=new pd(this);this.bi=this.mg=l;this.sf=j}v(Kf,Oc);m=Kf.prototype;m.Be=0;m.df=ba("Be");
m.init=function(){if(!this.mg){for(var a=0,b=this.R.length;a<b;a++)for(var c=Tb(this.R[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,n=pa(h);this.sd[n]=g;this.Kf&&(T(this.l,g,"mouseover",this.Ph),T(this.l,g,"mouseout",this.Oh));this.Jf&&(T(this.l,h,"mouseover",this.Nh),T(this.l,h,"mouseout",this.Mh));this.$b.push(g);T(this.l,h,["mousedown","touchstart"],this.bg)}this.mg=j}};
m.g=function(){this.l.P();for(var a=0,b=this.R.length;a<b;a++){var c=this.R[a];c.If=i;c.vb=i}this.R.length=0;this.$b.length=0;this.sd=k;Lf(this);Kf.c.g.call(this)};function Mf(a,b){for(var c=0,d=a.R.length;c<d;c++){var f=a.R[c];f.Yb=Kd(f)}c=0;for(d=a.$b.length;c<d;c++)f=a.$b[c],f!=b&&(f.Yb=Kd(f))}
m.bg=function(a){var b=pa(a.currentTarget);this.i=this.sd[b];this.q=this.kd(this.i);this.td&&C(this.q,this.td);this.q.style.margin="0";this.q.style.position="absolute";this.q.style.visibility="hidden";Lb(this.i).body.appendChild(this.q);b=Fd(this.i);Gd(this.q,b);this.k=new Td(this.q);this.k.df(this.Be);N(this.k,"start",this.Xf,l,this);N(this.k,"end",this.Wf,l,this);N(this.k,"earlycancel",this.jd,l,this);this.k.Kb(a)};
m.Xf=function(a){if(this.dispatchEvent(new Nf("beforedragstart",this,a.fe,this.i,k,k))){this.Ld=this.i.parentNode;this.Gf=this.Se=Ub(this.i);this.pe=this.Ld;this.oe?C.apply(k,Qa(this.i,this.oe)):this.i.style.visibility="hidden";var b=V(this.q);this.q.Jh=b.width/2;this.q.Ih=b.height/2;this.q.style.visibility="";this.sf&&(this.i.style.display="none");Mf(this,this.i);this.i.style.display="";N(this.k,"drag",this.Qh,l,this);this.dispatchEvent(new Nf("dragstart",this,a.fe,this.i,this.q,this.k))}else a.preventDefault(),
this.jd()};
m.Qh=function(a){var b=Fd(this.q),b=new yb(b.x+this.q.Jh,b.y+this.q.Ih),c;a:{c=k;if("none"!=this.i.style.display){c=this.i.parentNode;var d=Kd(c);if(Of(b,d))break a}for(var d=0,f=this.R.length;d<f;d++){var g=this.R[d];if(g!=c&&Of(b,g.Yb)){c=g;break a}}c=k}var h;if(c){c==k&&e(Error("getHoverNextItem_ called with null hoverList."));var n,q,d=l,f=i;switch(c.If){case 0:h=b.y;n=Pf;q=Qf;break;case 4:d=j;case 2:h=b.x;n=Rf;q=Qf;break;case 5:d=j;case 3:h=b.x,n=Sf,q=Tf}for(var g=k,u,A=Tb(c),B=0,K=A.length;B<
K;B++){var R=A[B];if(R!=this.i){var wa=n(R.Yb);if(d){var Kc=Uf(R,b);ja(f)||(f=Kc);if(q(h,wa)&&(u==i||Kc<f||Kc==f&&(q(wa,u)||wa==u)))g=R,u=wa;Kc<f&&(f=Kc)}else if(q(h,wa)&&(u==i||q(wa,u)))g=R,u=wa}}h=g!==k&&Uf(g,b)>f?k:g}else h=k;if(!this.dispatchEvent(new Nf("beforedragmove",this,a,this.i,this.q,this.k,b,c,h)))return l;if(c)this.sf?(this.i.parentNode!=c||Ub(this.i)!=h)&&c.insertBefore(this.i,h):h&&(this.Gf=h),this.i.style.display="",c.vb&&C(c,c.vb);else{this.bi||(this.i.style.display="none");n=0;
for(q=this.R.length;n<q;n++)u=this.R[n],u.vb&&D(u,u.vb)}c!=this.pe&&(this.pe=c,Mf(this,this.i));this.dispatchEvent(new Nf("dragmove",this,a,this.i,this.q,this.k,b,c,h));return l};m.jd=function(){Lf(this);this.k=this.q=this.Se=this.Ld=this.pe=this.i=k;for(var a=0,b=this.R.length;a<b;a++)this.R[a].Yb=k;a=0;for(b=this.$b.length;a<b;a++)this.$b[a].Yb=k};
m.Wf=function(a){if(!this.dispatchEvent(new Nf("beforedragend",this,a,this.i,this.q,this.k)))return l;this.sf||this.Ld.insertBefore(this.i,this.Gf);Lf(this);this.dispatchEvent(new Nf("dragend",this,a,this.i,this.q,this.k));this.jd();return j};function Lf(a){pc(a.k);a.q&&Sb(a.q);a.i&&"none"==a.i.style.display&&(a.Ld.insertBefore(a.i,a.Se),a.i.style.display="");a.oe&&a.i?D.apply(k,Qa(a.i,a.oe)):a.i&&(a.i.style.visibility="visible");for(var b=0,c=a.R.length;b<c;b++){var d=a.R[b];d.vb&&D(d,d.vb)}}
m.Ph=function(a){C.apply(k,Qa(a.currentTarget,this.Kf))};m.Oh=function(a){D.apply(k,Qa(a.currentTarget,this.Kf))};m.Nh=function(a){C.apply(k,Qa(a.currentTarget,this.Jf))};m.Mh=function(a){D.apply(k,Qa(a.currentTarget,this.Jf))};function Of(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Uf(a,b){var c=a.Yb;return Math.abs(b.y-(c.top+(c.height-1)/2))}function Pf(a){return a.top+a.height-1}function Rf(a){return a.left+a.width-1}function Sf(a){return a.left||0}
function Qf(a,b){return a<b}function Tf(a,b){return a>b}m.kd=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return Pb("table",k,Pb("tbody",k,b));case "td":case "th":return Pb("table",k,Pb("tbody",k,Pb("tr",k,b)));default:return b}};function Nf(a,b,c,d,f,g,h,n,q){tc.call(this,a);this.Ij=b;this.event=c;this.oa=d;this.zh=f;this.yh=g;this.Lf=h;this.Rj=n;this.$a=q}v(Nf,tc);function mf(a,b,c,d,f){W.call(this);this.p=a;this.da=kf();this.Rg=this.ed=l;this.pc=b;this.Ra=c;this.L=f;this.Xj=d;this.bd={};this.Nc={};this.Xa=this.da?new Kf:k}v(mf,W);m=mf.prototype;m.C=function(){this.d=J(wf,{name:this.p.name,Hj:this.p.Ga,Wc:this.pc})};
m.m=function(){mf.c.m.call(this);this.Mc=H("programs",this.a());this.ih=H("viewers",this.a());this.Cg=H("name",this.a());this.ve=H("graph",this.a());this.La=H("suggest",this.a());this.Lb=new Vf("Paste YouTube link");this.Lb.f(H("program-input",this.a()));var a=new Le(this.Lb.a()),b=new Wf(this.Lb.a()),c=new Xf(s(this.Re,this),1E3);this.ea=(V(this.Mc).width-200)/this.pc;if(this.Rg){var d=0,f=40;this.Me=0;this.Of=[new yb(d,f)];this.Pj=Math.floor((t()-this.L.getTime())/1E3);for(var g=0;g<this.pc/40;g++)this.Of.push(new yb(d+=
40,f+=[-30,-5,15,10,25][Math.floor(5*Math.random())])),this.Me=Math.max(this.Me,f);this.Gh=Raphael(this.ve,"100%",60).path("M0,0").attr({stroke:"none",opacity:0.8,fill:"#5d5d5d"})}U(this.Cg,"background",Raphael.getColor());d=this.p.wa;for(g=0;g<d.length;g++)d[g].time.getTime()<this.Ra.getTime()&&d[g].time.getTime()+1E3*d[g].media.duration>this.Ra.getTime()-1E3*this.pc?this.Pb(d[g]):d[g].time.getTime()>this.Ra.getTime()&&this.Pb(d[g]);if(this.da){g=this.Xa;d=this.Mc;d.If=2;d.vb=i;g.R.push(d);this.Xa.td=
"drag";var h=this.a();this.Xa.bg=function(a){var b=pa(a.currentTarget);this.i=this.sd[b];this.q=this.kd(this.i);this.td&&C(this.q,this.td);this.q.style.margin="0";this.q.style.position="absolute";this.q.style.visibility="hidden";h.appendChild(this.q);b=Fd(this.i);Gd(this.q,b);this.k=new Td(this.q);this.k.df(this.Be);N(this.k,"start",this.Xf,l,this);N(this.k,"end",this.Wf,l,this);N(this.k,"earlycancel",this.jd,l,this);this.k.Kb(a)};this.Xa.init();var n={},q,u,A,B,K,R=j;T(T(T(this.o(),this.Xa,"beforedragstart",
s(function(a){(!this.ed||!a.event.shiftKey)&&a.preventDefault()},this)),this.Xa,"dragmove",function(a){A=A||a.Lf.x;B=B||Cd(a.oa).x;K=K||(a.oa.previousElementSibling!=i?a.oa.previousElementSibling:Vb(a.oa.previousSibling,l));R=R&&!!K;var b=K?V(K).width:i,c=K?Cd(K).x:i,d=a.Lf.x-A;10>Math.abs(d)||(a.$a&&!n[a.$a.id]&&0<d?(b=V(a.oa).width,c=Cd(a.$a).x,q=c-b+V(a.$a).width,d=this.p.Lc[a.$a.id],u=d.time.getTime()/1E3+d.media.duration-this.p.Lc[a.oa.id].media.duration,Ad(a.oa,q),Ad(a.$a,c-b-12),n[a.$a.id]=
j,b=a.$a,b.parentNode&&b.parentNode.insertBefore(a.oa,b.nextSibling)):R&&(0>d&&B+d<c+b)&&(b=V(a.oa).width,q=c=Cd(K).x,u=this.p.Lc[K.id].time.getTime()/1E3,Ad(a.oa,q),Ad(K,c+b+12),b=K.previousElementSibling!=i?K.previousElementSibling:Vb(K.previousSibling,l),K.parentNode&&K.parentNode.insertBefore(a.oa,K),K=b,R=!!b))}),this.Xa,"dragend",function(a){u&&(Z("/admin/_rescheduleprogram",i,"POST","program="+a.zh.id+"&time="+u),this.Xa.init(),u=i);n={};q=K=B=A=i;R=j})}for(var g=this.p.Yd,d=this.dd,f=r(g)?
g.split(""):g,wa=g.length-1;0<=wa;--wa)wa in f&&d.call(this,f[wa],wa,g);T(T(T(T(T(T(T(this.o(),this.La,"click",s(this.xi,this)),H("close",this.La),"click",s(function(a){a.preventDefault();a.stopPropagation();Yf(this)},this)),H("name",this.a()),"click",s(function(){this.p.id!=X.b().z.id&&this.p.t()&&X.b().h(pf,this.p)},this)),Sc.b().le,Rc,s(this.update,this)),b,Zf,s(this.Re,this)),a,"key",s(function(){c&&c.te()},this)),this.Lb,"focus",s(this.Re,this));this.p.subscribe(vf,this.Pb,this);this.p.subscribe(If,
this.dd,this);this.p.subscribe("remove-viewer",this.Ki,this);this.p.subscribe(Jf,this.rf,this);X.b().subscribe(qf,this.eh,this);X.b().subscribe(pf,this.eh,this);Q.b().subscribe("toggle-admin",ba("ed"),this);this.update()};m.eh=function(){this.w&&D(this.Nc[this.w],"playing");this.w=k;var a=X.b().z.t();if(a){var b=this.Nc[a.id];b&&(this.w=a.id,C(b,"playing"))}};
m.Pb=function(a){var b=Pb("div",{"class":"program",id:a.id}),c=a.media.duration*this.ea,d=this.da&&a.time.getTime()+1E3*a.media.duration>t();ic(b,xf,{Ze:a,repeat:600<c,be:d});this.Nc[a.id]=b;var f=X.b().z.t();f&&a.id==f.id&&(C(b,"playing"),this.w=a.id);var g=H("thumb",b);O(function(){a.media.nf.height<V(b).height+50?(C(g,"fix-height"),C(g,"pan-left")):C(g,"pan-top");h&&Id(g,200);F(b,"stretched",360<a.media.nf.height)});Id(b,c-12);f=(a.time.getTime()-this.L.getTime())/1E3*this.ea;Ad(b,f);Ad(this.La,
f+c);this.Mc.appendChild(b);var h=120>c;F(b,"clipped",h);T(this.o(),b,"click",function(){$f.b().h(ag,a.media)});var n=E(b,"clipped")?200:V(b).width,q=H("title",b),u=V(q).width;T(T(this.o(),b,"mouseover",function(){if(Q.b().we){var b=u+Cd(q).x;b>n&&(U(q,"margin-left",-(b-n-10)+"px"),C(q,"marquee"));this.ed||U(g,"background-position-y",a.media.oc+10*Math.max(a.media.nf.width/n,1)+"%")}}),b,"mouseout",function(){Q.b().we&&(U(q,"margin-left",""),D(q,"marquee"),this.ed||U(g,"background-position-y",a.media.oc+
"%"))});d&&(c=new Td(H("repos",b)),c.od=function(a,b){var c=b-24;-50<=c&&50>=c&&U(g,"background-position-y",50-c+"%")},T(T(this.o(),c,"end",function(){var b=(g.style[Ga("background-position")]||"").split(" ")[1],b=b.substring(0,b.length-1);a.media.oc=b;Z("/admin/_posthumb",ee(),"POST","media="+a.media.id+"&pos="+b)}),H("remove",b),"click",s(this.ti,this,a,b)))};m.rf=function(a){var b=this.Nc[a.id],a=(cd(a.time+"Z").getTime()-this.L.getTime())/1E3*this.ea;Ad(b,a)};
m.ti=function(a,b){Sb(b);Z("/admin/_removeprogram",i,"POST","program="+a.id)};m.dd=function(a){if(Y.b().Na.id!=a.r.id){var b=this.bd[a.r.id];b||(b=Pb("div","viewer"),this.ih.appendChild(b),this.bd[a.r.id]=b);if(this.p.t()&&(!a.Wd||a.Wd.getTime()>this.L.getTime())){var c=J(yf,{r:a.r});b.appendChild(c);var d=Math.max(a.$g.getTime(),this.L.getTime()),b=(d-this.L.getTime())/1E3*this.ea+200,d=(t()-d)/1E3*this.ea;Id(c,d);Ad(c,b);U(c,"background",a.r.color);T(this.o(),c,"click",function(){$f.b().h(bg,a.r)})}}};
m.Ki=function(a){Eb(this.bd,a.id)};m.xi=function(){if(!E(this.La,"show")){Ld(H("select-program",this.La),1);C(this.La,"show");var a=this.Lb,b=cg(a);a.Ce=j;a.a().focus();!b&&!dg&&(a.a().value=a.ua);a.a().select();dg||(a.l&&rd(a.l,a.a(),"click",a.xe),O(a.Dh,10,a))}};function Yf(a){D(a.La,"show");a.Lb.ib("");H("page2",a.a()).innerHTML=""}
m.Re=function(){var a=H("select-content",this.a()),b=H("page2",this.a());if(!Tb(b).length)try{var c;var d=this.Lb.S(),f=eg.exec(d);f?c=new fg(f[1]||f[2],i,i):e(Error("failed to parse video id from youtube url: "+d));Z(xa("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.ej),s(function(d){d=gg(hg(d.target)).entry;ic(b,zf,{title:d.title.$t,Yi:d.media$group.media$thumbnail[0].url});d=new hf("YES");d.f(H("button",b));(new oe(a,[0,0],[160,0],300,ig)).play();T(this.o(),d,"action",s(this.wi,
this,c))},this))}catch(g){}};m.wi=function(a){Z("/_addprogram",s(function(a){a=jg(a.target);a.id&&(a=new uf(a),this.p.h(vf,a))},this),"POST","channel_id="+this.p.id+"&url="+a.rc);Ld(H("button",this.La),0);S(H("added",this.La),j);Ld(H("select-program",this.La),0);O(s(function(){Yf(this)},this),3E3)};
m.update=function(){var a=!this.p.wa.length||this.p.jc&&!this.p.t();F(this.a(),"offline",a);if(this.p.wa.length){if(this.Rg){var b="",c=V(this.Mc).width,d,f,g,h=(t()-this.L)/1E3,n=Ua(this.Of,0,Math.floor(h/40));w(n,function(a,q){d=a.x/this.pc*c;f=60-60*(a.y/this.Me);q==n.length-1&&(d=h/this.pc*c);d+=6;q?(b+="L"+[d-30,g],b+="C"+[d-20,g,d-10,f,d,f]):b+="M"+[d,f]+"R";g=f},this);this.Gh.attr({path:b+"L"+d+",60 10,60z"})}if(this.w){var q=this.Nc[this.w],a=Cd(q).x+Cd(G("guide")).x,q=H("title",q);Ad(q,5>
a?-a+10:5)}Ab(this.p.Yd,function(a){if(this.p.t()&&!a.Wd&&this.bd[a.r.id]){var b=Math.max(a.$g.getTime(),this.L.getTime());V(this.Mc);var c=Math.floor((t()-b)/1E3*this.ea),d=nf.b().t();a.r.id==Y.b().Na.id&&d&&(c=Math.floor((d.time.getTime()+1E3*nf.b().xd()-b)/1E3*this.ea));Id(this.bd[a.r.id].lastChild,c)}},this);a=V(this.ve).height;q=V(this.ih).height;a-=q;0>a&&U(this.ve,"margin-top",-a+"px");Hd(this.Cg,V(this.a()).height-1)}};function Y(){P.call(this);this.fh={}}v(Y,P);ha(Y);Y.prototype.add=function(a){this.fh[a.id]=a};Y.prototype.get=function(a){return this.fh[a]};function kg(a,b){var c=a.get(b.id);c||(c=new Ff(b),a.add(c));return c};function lg(a){if("function"==typeof a.yd)return a.yd();if(r(a))return a.split("");if(la(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Bb(a)}function mg(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(la(a)||r(a))w(a,b,c);else{var d;if("function"==typeof a.ue)d=a.ue();else if("function"!=typeof a.yd)if(la(a)||r(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Cb(a);else d=i;for(var f=lg(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function ng(a,b){this.eb={};this.G=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof ng?(c=a.ue(),d=a.yd()):(c=Cb(a),d=Bb(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}m=ng.prototype;m.J=0;m.hh=0;m.yd=function(){og(this);for(var a=[],b=0;b<this.G.length;b++)a.push(this.eb[this.G[b]]);return a};m.ue=function(){og(this);return this.G.concat()};
m.clear=function(){this.eb={};this.hh=this.J=this.G.length=0};function og(a){if(a.J!=a.G.length){for(var b=0,c=0;b<a.G.length;){var d=a.G[b];Object.prototype.hasOwnProperty.call(a.eb,d)&&(a.G[c++]=d);b++}a.G.length=c}if(a.J!=a.G.length){for(var f={},c=b=0;b<a.G.length;)d=a.G[b],Object.prototype.hasOwnProperty.call(f,d)||(a.G[c++]=d,f[d]=1),b++;a.G.length=c}}m.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.eb,a)?this.eb[a]:b};
m.set=function(a,b){Object.prototype.hasOwnProperty.call(this.eb,a)||(this.J++,this.G.push(a),this.hh++);this.eb[a]=b};m.clone=function(){return new ng(this)};function pg(a){return qg(a||arguments.callee.caller,[])}
function qg(a,b){var c=[];if(Oa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(rg(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=rg(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(qg(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function rg(a){if(sg[a])return sg[a];a=String(a);if(!sg[a]){var b=/function ([^\(]+)/.exec(a);sg[a]=b?b[1]:"[Anonymous]"}return sg[a]}var sg={};function tg(a,b,c,d,f){this.reset(a,b,c,d,f)}tg.prototype.Ni=0;tg.prototype.Nf=k;tg.prototype.Mf=k;var ug=0;tg.prototype.reset=function(a,b,c,d,f){this.Ni="number"==typeof f?f:ug++;this.ck=d||t();this.Fc=a;this.gi=b;this.Tj=c;delete this.Nf;delete this.Mf};tg.prototype.Pg=ba("Fc");function vg(a){this.hi=a}vg.prototype.A=k;vg.prototype.Fc=k;vg.prototype.O=k;vg.prototype.cg=k;function wg(a,b){this.name=a;this.value=b}wg.prototype.toString=ca("name");var xg=new wg("SEVERE",1E3),yg=new wg("WARNING",900),zg=new wg("INFO",800),Ag=new wg("CONFIG",700),Bg=new wg("FINE",500);m=vg.prototype;m.getParent=ca("A");m.Tf=function(){this.O||(this.O={});return this.O};m.Pg=ba("Fc");function Cg(a){return a.Fc?a.Fc:a.A?Cg(a.A):k}
m.log=function(a,b,c){if(a.value>=Cg(this).value){a=this.Fh(a,b,c);b="log:"+a.gi;p.console&&(p.console.timeStamp?p.console.timeStamp(b):p.console.markTimeline&&p.console.markTimeline(b));p.msWriteProfilerMark&&p.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.cg)for(var f=0,g=i;g=c.cg[f];f++)g(d);b=b.getParent()}}};
m.Fh=function(a,b,c){var d=new tg(a,String(b),this.hi);if(c){d.Nf=c;var f;var g=arguments.callee.caller;try{var h;var n=fa("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var q,u,A=l;try{q=c.lineNumber||c.Sj||"Not available"}catch(B){q="Not available",A=j}try{u=c.fileName||c.filename||c.sourceURL||n}catch(K){u="Not available",A=j}h=A||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:q,
fileName:u,stack:c.stack||"Not available"}:c}f="Message: "+za(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+za(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+za(pg(g)+"-> ")}catch(R){f="Exception trying to expose exception! You win, we lose. "+R}d.Mf=f}return d};function Dg(a,b){a.log(xg,b,i)}m.info=function(a,b){this.log(zg,a,b)};function Eg(a,b){a.log(Bg,b,i)}var Fg={},Gg=k;
function Hg(a){Gg||(Gg=new vg(""),Fg[""]=Gg,Gg.Pg(Ag));var b;if(!(b=Fg[a])){b=new vg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Hg(a.substr(0,c));c.Tf()[d]=b;b.A=c;Fg[a]=b}return b};function gg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function Ig(){}Ig.prototype.gd=k;var Jg;function Kg(){}v(Kg,Ig);function Lg(a){return(a=Mg(a))?new ActiveXObject(a):new XMLHttpRequest}function Ng(a){var b={};Mg(a)&&(b[0]=j,b[1]=j);return b}
function Mg(a){if(!a.gg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.gg=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.gg}Jg=new Kg;var Og=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Pg(a){M.call(this);this.headers=new ng;this.sc=a||k}v(Pg,Oc);Pg.prototype.s=Hg("goog.net.XhrIo");var Qg=/^https?$/i,Rg=[];function Z(a,b,c,d){var f=new Pg;Rg.push(f);b&&N(f,"complete",b);N(f,"ready",ua(Sg,f));f.send(a,c,d,i)}function Sg(a){a.P();Pa(Rg,a)}m=Pg.prototype;m.Wa=l;m.n=k;m.Zd=k;m.Je="";m.rg="";m.Dc=0;m.Ec="";m.se=l;m.Cd=l;m.De=l;m.Db=l;m.Vd=0;m.Mb=k;m.Pd="";m.fj=l;
m.send=function(a,b,c,d){this.n&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Je=a;this.Ec="";this.Dc=0;this.rg=b;this.se=l;this.Wa=j;this.n=this.sc?Lg(this.sc):Lg(Jg);this.Zd=this.sc?this.sc.gd||(this.sc.gd=Ng(this.sc)):Jg.gd||(Jg.gd=Ng(Jg));this.n.onreadystatechange=s(this.Gg,this);try{Eg(this.s,Tg(this,"Opening Xhr")),this.De=j,this.n.open(b,a,j),this.De=l}catch(f){Eg(this.s,Tg(this,"Error opening Xhr: "+f.message));Ug(this,f);return}var a=c||
"",g=this.headers.clone();d&&mg(d,function(a,b){g.set(b,a)});d=p.FormData&&a instanceof p.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.eb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");mg(g,function(a,b){this.n.setRequestHeader(b,a)},this);this.Pd&&(this.n.responseType=this.Pd);"withCredentials"in this.n&&(this.n.withCredentials=this.fj);try{this.Mb&&(Qc.clearTimeout(this.Mb),this.Mb=k),0<this.Vd&&(Eg(this.s,Tg(this,"Will abort after "+
this.Vd+"ms if incomplete")),this.Mb=Qc.setTimeout(s(this.aj,this),this.Vd)),Eg(this.s,Tg(this,"Sending request")),this.Cd=j,this.n.send(a),this.Cd=l}catch(h){Eg(this.s,Tg(this,"Send error: "+h.message)),Ug(this,h)}};m.aj=function(){"undefined"!=typeof ea&&this.n&&(this.Ec="Timed out after "+this.Vd+"ms, aborting",this.Dc=8,Eg(this.s,Tg(this,this.Ec)),this.dispatchEvent("timeout"),this.abort(8))};function Ug(a,b){a.Wa=l;a.n&&(a.Db=j,a.n.abort(),a.Db=l);a.Ec=b;a.Dc=5;Vg(a);Wg(a)}
function Vg(a){a.se||(a.se=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}m.abort=function(a){this.n&&this.Wa&&(Eg(this.s,Tg(this,"Aborting")),this.Wa=l,this.Db=j,this.n.abort(),this.Db=l,this.Dc=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Wg(this))};m.g=function(){this.n&&(this.Wa&&(this.Wa=l,this.Db=j,this.n.abort(),this.Db=l),Wg(this,j));Pg.c.g.call(this)};m.Gg=function(){!this.De&&!this.Cd&&!this.Db?this.si():Xg(this)};m.si=function(){Xg(this)};
function Xg(a){if(a.Wa&&"undefined"!=typeof ea)if(a.Zd[1]&&4==Yg(a)&&2==Zg(a))Eg(a.s,Tg(a,"Local request error detected and ignored"));else if(a.Cd&&4==Yg(a))Qc.setTimeout(s(a.Gg,a),0);else if(a.dispatchEvent("readystatechange"),4==Yg(a)){Eg(a.s,Tg(a,"Request complete"));a.Wa=l;try{var b=Zg(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var f;if(f=0===b){var g=String(a.Je).match(Og)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);f=!Qg.test(g?g.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Dc=6;var n;try{n=2<Yg(a)?a.n.statusText:""}catch(q){Eg(a.s,"Can not get status: "+q.message),n=""}a.Ec=n+" ["+Zg(a)+"]";Vg(a)}}finally{Wg(a)}}}
function Wg(a,b){if(a.n){var c=a.n,d=a.Zd[0]?ga:k;a.n=k;a.Zd=k;a.Mb&&(Qc.clearTimeout(a.Mb),a.Mb=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){Dg(a.s,"Problem encountered resetting onreadystatechange: "+f.message)}}}m.Fb=function(){return!!this.n};function Yg(a){return a.n?a.n.readyState:0}function Zg(a){try{return 2<Yg(a)?a.n.status:-1}catch(b){return a.s.log(yg,"Can not get status: "+b.message,i),-1}}function jg(a){if(a.n)return gg(a.n.responseText)}
function hg(a){try{if(!a.n)return k;if("response"in a.n)return a.n.response;switch(a.Pd){case "":case "text":return a.n.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.n)return a.n.mozResponseArrayBuffer}Dg(a.s,"Response type "+a.Pd+" is not supported on this browser");return k}catch(b){return Eg(a.s,"Can not get response: "+b.message),k}}function Tg(a,b){return b+" ["+a.rg+" "+a.Je+" "+Zg(a)+"]"};function X(){P.call(this);this.Sb=[];this.Rb={};this.subscribe(pf,this.uc,this)}v(X,P);ha(X);X.prototype.get=function(a){return this.Rb[a]};function $g(a){if(a.z&&a.z.t())return a.z;if(a.He&&a.He.t())return a.He;for(var b=a.Sb[0],c=0;!b.t()&&c<a.Sb.length;)b=a.Sb[c],c++;return!b.t()?a.z:b}X.prototype.Le=function(a,b){Ab(a,s(function(a){var b=new tf(a);this.Sb.push(b);this.Rb[a.id]=b;b.jc&&(this.jc=b)},this));this.z=this.Rb[b]||this.Sb[0];this.z=$g(this)};
X.prototype.uc=function(a){a&&(this.He=this.z,this.z=a,Z("/_changechannel",ee(),"POST","channel="+a.id))};var pf="change-channel",qf="next-program";function ah(){W.call(this);this.Cb=new hf("Guide");$e(this.Cb,16,j);this.jb=new hf("Sidebar");$e(this.jb,16,j);this.$e=new hf("Restart");this.Pa=new hf("Play");$e(this.Pa,16,j);this.cd=new hf("Volume");$e(this.cd,16,j);this.Qb=new hf("Admin");$e(this.Qb,16,j)}v(ah,W);
ah.prototype.m=function(){ah.c.m.call(this);this.Mi=H("right",this.a());ye(this,this.Cb);this.Cb.f(G("guide-toggle"));Ze(this.Cb,j);ye(this,this.jb);this.jb.f(G("sidebar-toggle"));ye(this,this.$e);this.$e.f(H("restart",this.a()));ye(this,this.Pa);this.Pa.f(H("play",this.a()));ye(this,this.cd);this.cd.f(H("volume",this.a()));ye(this,this.Qb);this.Qb.f(G("admin-toggle"));S(this.Qb.a(),Y.b().Na.vf==Gf);var a=new Xf(this.Xi,1E3,this);T(T(T(T(T(T(T(this.o(),window,"resize",s(this.resize,this)),this.Cb,
"action",s(function(){a.te()},this)),this.jb,"action",s(function(a){a.stopPropagation();Q.b().h(Vc,Ie(this.jb));this.resize()},this)),this.$e,"action",s(function(a){a.stopPropagation();Q.b().h("restart");this.resize()},this)),this.Pa,"action",s(function(a){a.stopPropagation();Q.b().h(Xc,!Ie(this.Pa));this.resize()},this)),this.cd,"action",s(function(a){a.stopPropagation();Q.b().h("mute",Ie(this.cd))},this)),this.Qb,"action",s(function(a){a.stopPropagation();Q.b().h("toggle-admin",Ie(this.Qb));this.resize()},
this));X.b().subscribe(pf,function(){O(s(this.resize,this))},this);X.b().subscribe("play-async",function(){O(s(this.resize,this))},this);X.b().subscribe(qf,function(){O(s(this.resize,this))},this);Q.b().subscribe(Wc,this.pf,this);Q.b().subscribe(Vc,function(a){Ze(this.jb,a);this.resize()},this);Q.b().subscribe(Xc,function(a){Ze(this.Pa,!a)},this);this.resize()};ah.prototype.Xi=function(){var a=Ie(this.Cb);Q.b().h(Wc,a)};
ah.prototype.pf=function(a){Ze(this.Cb,a);a&&(D(this.a(),"window"),D(this.a(),"collapsed"),O(s(this.resize,this)));O(s(function(){F(this.a(),"guide-toggled",a);if(!a){var b=X.b().z&&X.b().z.t();C(this.a(),"collapsed");O(s(function(){F(this.a(),"window",!!b);O(s(this.resize,this))},this),300);O(s(this.resize,this))}},this),a?0:600)};
ah.prototype.resize=function(){Id(this.a(),I().width-(Ie(this.jb)?300:0));var a=G("guide"),b=H("current",a),b=Mb("program",b),a=(b=b[b.length-1])?Cd(a).x+Cd(b).x+V(b).width+210:9999999,a=Math.min(I().width-200,Math.max(100,I().width-a));Id(this.Mi,Ie(this.jb)?a-293:a+7);F(this.a(),"window",E(this.a(),"collapsed")&&!!b&&a<I().width-203)};function nf(){P.call(this)}v(nf,P);ha(nf);nf.prototype.ff=ba("B");nf.prototype.t=ca("w");nf.prototype.xd=function(){return this.B&&this.B.getCurrentTime?this.B.getCurrentTime():0};var rf="play-async";function bh(){be.call(this);this.queue=[]}v(bh,be);bh.prototype.add=function(a){Oa(this.queue,a)||(this.queue.push(a),N(a,"finish",this.ji,l,this))};bh.prototype.g=function(){w(this.queue,function(a){a.P()});this.queue.length=0;bh.c.g.call(this)};function ch(){bh.call(this);this.pa=0}v(ch,bh);
ch.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.e==ce)this.pa<this.queue.length&&this.queue[this.pa].e!=ce&&this.queue[this.pa].stop(l),this.pa=0,this.gb();else if(1==this.e)return l;this.aa("play");-1==this.e&&this.aa("resume");this.startTime=t();this.zc=k;this.e=1;this.queue[this.pa].play(a);return j};
ch.prototype.stop=function(a){this.e=ce;this.zc=t();if(a)for(a=this.pa;a<this.queue.length;++a){var b=this.queue[a];b.e==ce&&b.play();b.e==ce||b.stop(j)}else this.pa<this.queue.length&&this.queue[this.pa].stop(l);this.aa("stop");this.hb()};ch.prototype.ji=function(){1==this.e&&(this.pa++,this.pa<this.queue.length?this.queue[this.pa].play():(this.zc=t(),this.e=ce,this.aa("finish"),this.hb()))};function dh(a){return a*a*a}function ig(a){return 1-Math.pow(1-a,3)};function eh(){W.call(this)}v(eh,W);m=eh.prototype;
m.m=function(){eh.c.m.call(this);(this.w=(this.Fa=X.b().z)&&this.Fa.t())&&t();this.wd=H("fullscreen",this.a());var a=H("expand",this.a());S(this.wd,this.Vg());fh(this);this.w&&gh(this,this.w);T(T(T(T(T(this.o(),window,"resize",s(this.resize,this)),this.wd,"click",s(function(a){if(xb(this.wd,"full")){var c=H("main");c.Lg&&c.Lg();c.webkitRequestFullScreen&&c.webkitRequestFullScreen();c.mozRequestFullScreen&&c.mozRequestFullScreen()}else document.qh&&document.qh(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),
document.mozCancelFullScreen&&document.mozCancelFullScreen();a.stopPropagation();a.preventDefault()},this)),this.a(),"dblclick",s(this.Zg,this)),a,"click",s(this.Zg,this)),this.a(),"click",s(function(){if(this.B)switch(this.B.getPlayerState()){case YT.PlayerState.PLAYING:Q.b().h(Xc,l);break;case YT.PlayerState.PAUSED:Q.b().h(Xc,j)}},this));X.b().subscribe(pf,this.uc,this);X.b().subscribe(qf,function(a){this.w=a;gh(this,a);fh(this)},this);nf.b().subscribe(rf,this.We,this);Q.b().subscribe(Vc,function(a){this.resize(a)},
this);Q.b().subscribe(Wc,function(){O(s(this.resize,this))},this);Q.b().subscribe(Xc,function(a){a?this.B.playVideo():this.B.pauseVideo();var a=H(a?"play":"pause",this.a()),c=new ch;c.add(new re(a,250,ig));c.add(new qe(a,250,dh));c.play()},this);Q.b().subscribe("mute",function(a){this.B&&(a?this.B.mute():this.B.unMute())},this);Q.b().subscribe("restart",function(){this.B.seekTo(0)},this);this.resize()};m.Vg=function(){var a=H("main");return!(!a.Lg&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};
m.Zg=function(a){a.preventDefault();a.stopPropagation();$f.b();a=!E(G("sidebar"),"toggled");Q.b().h(Vc,a);Q.b().h(Wc,a)};function gh(a,b){var c=(t()-b.time.getTime())/1E3;nf.b().w=b;a.play(b.media,c)}
m.play=function(a,b,c){!this.B||!this.B.loadVideoById?(this.B=new YT.Player("ytplayer",{height:I().height-40,width:I().width,videoId:a.dc,playerVars:{autoplay:1,controls:0,showinfo:0,iv_load_policy:3,start:b,modestbranding:1},events:{onStateChange:s(this.Ei,this),onReady:s(this.ri,this),onError:s(this.qi,this)}}),nf.b().ff(this.B)):(this.B.loadVideoById(a.dc,b),O(s(function(){var d=c||0;!this.B.getPlayerState()&&4>d&&this.play(a,b+1E3,++d)},this),1E3))};
m.resize=function(){var a=G("ytplayer"),b=G("stagecover"),c=H("message",b),d=G("guide").style.height,d=d.substring(0,d.length-2),f=E(G("sidebar"),"toggled")?300:0;Hd(a,I().height-d);Id(a,I().width-f);Hd(b,I().height-d);Id(b,I().width-f);a=V(c);U(c,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});F(this.wd,"full",this.Vg&&(document.fullScreen||document.webkitIsFullScreen||document.Vj))};m.uc=function(a){if(a=a.t())this.w=a,gh(this,a);fh(this)};
m.We=function(a){this.Af=a;this.play(a,0);Z("/_optin",ee(),"POST","media_id="+this.w.media.id)};m.Ei=function(a){a.data==YT.PlayerState.ENDED&&(Z("/_seen",ee(),"POST","media_id="+this.w.media.id+"&session_id="+Y.b().Na.nd.id),(a=X.b().z.t())?X.b().h(qf,a):(nf.b().w=k,X.b().h(pf,$g(X.b())),this.Af?this.Af=k:Z("/_started",ee(),"POST","media_id="+this.w.media.id)),fh(this))};m.ri=function(){O(s(function(){this.B&&(!this.B.getPlayerState||!this.B.getPlayerState())&&gh(this,this.w)},this),1E3)};m.qi=aa();
function fh(a){var b=G("stagecover"),c=a.w?(t()-a.w.time.getTime())/1E3:0;!a.w||a.w&&c>a.w.media.duration?(a.resize(),C(b,"covered")):D(b,"covered")};function Vf(a,b){W.call(this,b);this.ua=a||""}v(Vf,W);Vf.prototype.Ia=k;var dg="placeholder"in document.createElement("input");m=Vf.prototype;m.Bc=l;m.C=function(){this.d=this.sa().C("input",{type:"text"})};m.M=function(a){Vf.c.M.call(this,a);this.ua||(this.ua=a.getAttribute("label")||"");var b;a:{var c=Lb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.Bc=j,D(this.a(),this.tc));dg?this.a().placeholder=this.ua:this.a().setAttribute("aria-label",this.ua)};
m.m=function(){Vf.c.m.call(this);var a=new pd(this);T(a,this.a(),"focus",this.xe);T(a,this.a(),"blur",this.Lh);dg?this.l=a:(eb&&T(a,this.a(),["keypress","keydown","keyup"],this.Rh),T(a,Lb(this.a())?Lb(this.a()).parentWindow||Lb(this.a()).defaultView:window,"load",this.Zh),this.l=a,hh(this));ih(this);this.a().ci=this};m.zb=function(){Vf.c.zb.call(this);this.l&&(this.l.P(),this.l=k);this.a().ci=k};function hh(a){!a.Eh&&(a.l&&a.a().form)&&(T(a.l,a.a().form,"submit",a.Uh),a.Eh=j)}
m.g=function(){Vf.c.g.call(this);this.l&&(this.l.P(),this.l=k)};m.tc="label-input-label";m.xe=function(){this.Bc=j;D(this.a(),this.tc);if(!dg&&!cg(this)&&!this.Ce){var a=this,b=function(){a.a().value=""};x?O(b,10):b()}};m.Lh=function(){dg||(sd(this.l,this.a(),"click",this.xe),this.Ia=k);this.Bc=l;ih(this)};m.Rh=function(a){27==a.keyCode&&("keydown"==a.type?this.Ia=this.a().value:"keypress"==a.type?this.a().value=this.Ia:"keyup"==a.type&&(this.Ia=k),a.preventDefault())};
m.Uh=function(){cg(this)||(this.a().value="",O(this.Kh,10,this))};m.Kh=function(){cg(this)||(this.a().value=this.ua)};m.Zh=function(){ih(this)};function cg(a){return!!a.a()&&""!=a.a().value&&a.a().value!=a.ua}m.clear=function(){this.a().value="";this.Ia!=k&&(this.Ia="")};m.reset=function(){cg(this)&&(this.clear(),ih(this))};m.ib=function(a){this.Ia!=k&&(this.Ia=a);this.a().value=a;ih(this)};m.S=function(){return this.Ia!=k?this.Ia:cg(this)?this.a().value:""};
function ih(a){dg?a.a().placeholder!=a.ua&&(a.a().placeholder=a.ua):(hh(a),a.a().setAttribute("aria-label",a.ua));cg(a)?D(a.a(),a.tc):(!a.Ce&&!a.Bc&&C(a.a(),a.tc),dg||O(a.Li,10,a))}m.Qa=function(a){this.a().disabled=!a;F(this.a(),this.tc+"-disabled",!a)};m.isEnabled=function(){return!this.a().disabled};m.Dh=function(){this.Ce=l};m.Li=function(){this.a()&&(!cg(this)&&!this.Bc)&&(this.a().value=this.ua)};function jh(a,b,c){M.call(this);this.cb=a;this.F=b;this.ta=c;this.he=s(this.zi,this)}v(jh,M);var Xf=jh;m=jh.prototype;m.Ud=l;m.Ig=0;m.X=k;m.te=function(){!this.X&&!this.Ig?this.xc():this.Ud=j};m.stop=function(){this.X&&(Qc.clearTimeout(this.X),this.X=k,this.Ud=l)};m.g=function(){jh.c.g.call(this);this.stop()};m.zi=function(){this.X=k;this.Ud&&!this.Ig&&(this.Ud=l,this.xc())};m.xc=function(){this.X=O(this.he,this.F);this.cb.call(this.ta)};function kh(a,b){M.call(this);this.cb=a;this.ta=b;this.Ha=new de(s(this.yi,this),0,this)}v(kh,M);m=kh.prototype;m.F=0;m.af=0;m.kg=l;m.g=function(){this.Ha.P();delete this.cb;delete this.ta;kh.c.g.call(this)};m.start=function(a,b){this.stop();this.kg=l;var c=b||0;this.F=Math.max(a||0,0);this.af=0>c?-1:t()+c;this.Ha.start(0>c?this.F:Math.min(this.F,c))};m.stop=function(){this.Ha.stop()};m.Fb=function(){return this.Ha.Fb()};
m.yi=function(){if(this.cb.call(this.ta))this.kg=j;else if(0>this.af)this.Ha.start(this.F);else{var a=this.af-t();0>=a||this.Ha.start(Math.min(this.F,a))}};function Wf(a){M.call(this);this.d=a;this.Hc=this.d.value;this.l=new pd(this);this.sg=t();y||x||eb&&z("1.9")?T(this.l,a,"paste",this.Xb):T(this.l,a,["keydown","blur","focus","mouseover","input"],this.Sh);this.Ha=new kh(s(this.Cf,this))}v(Wf,Oc);var Zf="after_paste";m=Wf.prototype;m.e="init";m.s=Hg("goog.events.PasteHandler");m.g=function(){Wf.c.g.call(this);this.l.P();this.l=k;this.Ha.P();this.Ha=k};
m.Cf=function(){if(this.Hc==this.d.value)return l;this.s.info("detected textchange after paste");this.dispatchEvent(Zf);return j};m.Xb=function(a){a=new wc(a.ha);a.type="paste";this.dispatchEvent(a);O(function(){this.Cf()||this.Ha.start(50,200)},0,this)};
m.Sh=function(a){switch(this.e){case "init":switch(a.type){case "blur":this.e="init";break;case "focus":this.e="focused";break;case "mouseover":this.e="init";this.d.value!=this.Hc&&(this.s.info("paste by dragdrop while on init!"),this.Xb(a));break;default:Dg(this.s,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.sg+400;if(t()>b||"focus"==this.Ji)this.s.info("paste by textchange while focused!"),this.Xb(a);break;case "blur":this.e="init";break;
case "keydown":this.s.info("key down ... looking for ctrl+v");if(Za&&db&&0==a.keyCode||Za&&db&&17==a.keyCode)break;this.e="typing";break;case "mouseover":this.d.value!=this.Hc&&(this.s.info("paste by dragdrop while focused!"),this.Xb(a));break;default:Dg(this.s,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.e="focused";break;case "blur":this.e="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.s.info("paste by ctrl+v while keypressed!"),
this.Xb(a);break;case "mouseover":this.d.value!=this.Hc&&(this.s.info("paste by dragdrop while keypressed!"),this.Xb(a));break;default:Dg(this.s,"unexpected event "+a.type+" during keypressed")}break;default:Dg(this.s,"invalid "+this.e+" state")}this.sg=t();this.Hc=this.d.value;this.s.info(a.type+" -> "+this.e);this.Ji=a.type};function $f(){P.call(this)}v($f,P);ha($f);var ag="media-info",bg="profile";function lh(a){return'<div class="info"><div class="picture"><img src="'+L(a.media.Ua)+'" class="thumb"><div class="publisher"><img src="'+L(a.media.ya.V)+'"><div class="name">'+L(a.media.ya.name)+'</div></div><div class="title">'+L(a.media.name)+'</div><div class="scrollable ios-scroll"><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+L(a.xa)+'</div></div><div class="description">'+L(a.media.description)+'</div></div><div class="options"><div class="button star"></div><div class="button facebook"></div><div class="button twitter"></div><div class="button play"></div><div class="button plus"></div></div></div><div class="viewers" style="display: none"><div class="label">SEEN BY</div></div><div class="tweet-holder" style="display:none"><div class="label">LATEST TWEETS</div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display: none"><div class="label">CONVERSATION</div><div class="comments"></div></div></div>'}
function mh(a){return'<div class="viewer" style="background-color:'+L(a.r.color)+'"><img src="'+L(a.r.V)+'"></div>'}function nh(a){return'<div class="tweet"><img src="'+L(a.Zc.V)+'"/><div class="text"><a target="_blank" href="http://www.twitter.com/'+L(a.Zc.handle)+"/status/"+L(a.Zc.id)+'">'+L(a.Zc.handle)+"</a> "+L(a.Zc.text)+'</div><div class="timestamp">'+L(a.timestamp)+"</div></div>"}
function oh(a){return'<div class="comment"><img src="'+L(a.vc.r.V)+'"/><div class="text"><a href="#">'+L(a.vc.r.name)+"</a> "+L(a.vc.text)+'</div><div class="timestamp">'+L(a.timestamp)+"</div></div>"}
function ph(){return'<div class="comment-input"><div class="comment-controls"><div class="comment-button tweet-toggle">tweet<div class="check"></div></div><div class="comment-button fb-toggle">post<div class="check"></div></div><div class="comment-button add-comment">add</div></div><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div></div>'}
function qh(a){return'<div class="activity"><div class="picture" style="background:'+L(a.r.color)+'"><img src="'+L(a.r.V)+'"/></div><div class="text"><a class="user" href="#">'+L(a.r.name)+"</a> "+(a.Oi.ek?"watched":"is watching")+(a.ie?' <a href="#">'+L(a.ie.name)+"</a>":"")+'<div class="timestamp">'+L(a.time)+'</div></div><div class="medias"></div></div>'}
function rh(a){return'<div class="activity"><div class="picture" style="background:'+L(a.r.color)+'"><img src="'+L(a.r.V)+'"/></div><div class="text"><a class="user" href="#">'+L(a.r.name)+'</a> "'+L(a.vc.text)+'"<div class="timestamp">'+L(a.time)+'</div></div><div class="medias"></div></div>'}
function sh(a){return'<div class="list-info"><div class="picture-cell" '+(a.Ua?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+L(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+L(a.Ua)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" '+(a.description?'style="display:table-cell"':"")+">"+L(a.description)+"</div></div>"}function th(a){return'<li class="'+L(a.className)+' tab"><div class="label">'+L(a.name)+"</div></li>"}
function uh(){return'<div class="admin"><div class="search"><input type="text" /></div><div class="results"></div><div class="section"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="section"><div class="label">PLAYLISTS</div><div class="playlists"></div></div></div>'}
function vh(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="spinner" style="display:none">Loading More</div></div>'}
function wh(a){return'<div class="playlist"><div class="title">'+L(a.Gi.name)+"</div></div>"}function xh(a){return'<div class="collection"><div class="title">'+L(a.me.name)+"</div>"+(a.me.Ci?'<div class="pending">'+L(a.me.Ci)+"</div>":"")+"</div>"}
function yh(){return'<div class="tabbed activity"><ul class="tabs"><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label">STARRED</div></li></ul><div class="activity-content content activity"></div><div class="starred-content content starred"></div><div class="spinner" style="display:none">Loading More</div></div>'}
function zh(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+L(a.media.Ua)+"); background-position: 50% "+L(a.media.oc)+'%"></div><div class="title">'+L(a.media.name)+'</div></div></div><div class="publisher"><img src="'+L(a.media.ya.V)+'"><div class="name">'+L(a.media.ya.name)+'</div><div class="duration">'+L(a.media.duration)+" seconds</div></div></div>"}
function Ah(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+L(a.media.Ua)+"); background-position: 50% "+L(a.media.oc)+'%"></div><div class="title">'+L(a.media.name)+'</div><div class="published">'+L(a.xa)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+L(a.media.ya.V)+'"><div class="name">'+L(a.media.ya.name)+
'</div><div class="duration">'+L(a.media.duration)+' seconds</div></div><div class="description">'+L(a.media.description)+"</div></div>"};function Bh(){M.call(this);this.Cc=[];this.Wi=[];this.Pc=[]}v(Bh,Oc);m=Bh.prototype;m.og=l;m.pg=l;m.Ee=l;m.Qg=ba("Rd");m.init=function(){if(!this.Ee){for(var a,b=0;a=this.Cc[b];b++)Ch(this,a);this.Ee=j}};function Ch(a,b){a.og&&(N(b.element,"mousedown",b.Ag,l,b),a.jf&&C(b.element,a.jf));a.pg&&a.mf&&C(b.element,a.mf)}
m.Kb=function(a,b){if(!this.ga)if(this.ga=b,this.dispatchEvent(new Dh("dragstart",this,this.ga))==l)this.ga=k;else{var c=b.Tb,d=this.kd(c);this.xh&&C(d,this.xh);this.Zb=d;d=Lb(c);d.body.appendChild(this.Zb);var f=this.Zb,g=Fd(c),c=Pd(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.k=new Td(f);this.k.Qg(this.Rd);N(this.k,"drag",this.Bg,l,this);N(this.k,"end",this.yb,l,this);N(d.body,"selectstart",this.Wg);this.nc=[];for(d=
0;c=this.Wi[d];d++)for(var h,f=0;h=c.Cc[f];f++)for(var g=c,n=[h.element],q=this.nc,u=0;u<n.length;u++){var A=n[u],B=Fd(A),K=V(A),B=new ud(B.y,B.x+K.width,B.y+K.height,B.x);q.push(new Eh(B,g,h,A));Fh(this,B)}this.Ta||(this.Ta=new ud(0,0,0,0));for(d=0;c=this.Pc[d];d++)c.ne=[],c.Mg=c.d.scrollLeft,c.Ng=c.d.scrollTop,f=Fd(c.d),g=V(c.d),c.I=new ud(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.nc[d];d++)for(f=0;c=this.Pc[f];f++)Xb(c.d,g.d)&&(c.ne.push(g),g.Oc=c);this.pb=k;for(d=0;c=this.Pc[d];d++)N(c.d,
"scroll",this.Ef,l,this);this.k.Kb(a);a.preventDefault()}};
m.yb=function(a){var b=a.wh?k:this.pb;if(b&&b.fa){var c=a.clientX,a=a.clientY,d=fc(Jb(this.Zb)),f=c+d.x,d=a+d.y,g;this.Uc&&(g=this.Uc(b.Oa,b.I,f,d));this.dispatchEvent(new Dh("drag",this,this.ga,b.fa,b.Oa,b.d,c,a,f,d));b.fa.dispatchEvent(new Dh("drop",this,this.ga,b.fa,b.Oa,b.d,c,a,f,d,g))}this.dispatchEvent(new Dh("dragend",this,this.ga));Hc(this.k,"drag",this.Bg,l,this);Hc(this.k,"end",this.yb,l,this);Hc(Lb(this.ga.Tb).body,"selectstart",this.Wg);for(b=0;c=this.Pc[b];b++)Hc(c.d,"scroll",this.Ef,
l,this),c.ne=[];this.k.P();Sb(this.Zb);delete this.ga;delete this.Zb;delete this.k;delete this.nc;delete this.pb};
m.Bg=function(a){var b,c=fc(Jb(this.Zb));b=new yb(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.pb,g;if(f){this.Uc&&f.fa&&(g=this.Uc(f.Oa,f.I,c,d));if(f.I.contains(b)&&g==this.wf)return;f.fa&&(this.dispatchEvent(new Dh("dragout",this,this.ga,f.fa,f.Oa,f.d)),f.fa.dispatchEvent(new Dh("dragout",this,this.ga,f.fa,f.Oa,f.d,i,i,i,i,this.wf)));this.wf=g;this.pb=k}if(this.Ta.contains(b)){a:{for(var h=0;f=this.nc[h];h++)if(f.I.contains(b))if(f.Oc){if(f.Oc.I.contains(b)){b=f;break a}}else{b=f;break a}b=
k}if((f=this.pb=b)&&f.fa)this.Uc&&(g=this.Uc(f.Oa,f.I,c,d)),c=new Dh("dragover",this,this.ga,f.fa,f.Oa,f.d),c.Vi=g,this.dispatchEvent(c),f.fa.dispatchEvent(new Dh("dragover",this,this.ga,f.fa,f.Oa,f.d,a.clientX,a.clientY,i,i,g));else if(!f){this.ba||(this.ba=new Eh(this.Ta.clone()));a=this.ba.I;a.top=this.Ta.top;a.right=this.Ta.right;a.bottom=this.Ta.bottom;a.left=this.Ta.left;for(g=0;f=this.nc[g];g++)b=f.I,f.Oc&&(f=f.Oc.I,b=new ud(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=k,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),f!==k&&h!==k&&(Math.abs(f-c)>Math.abs(h-d)?h=k:f=k),f===k?h!==k&&(h<=d?a.top=h:a.bottom=h):f<=c?a.left=f:a.right=f;this.pb=10<=(a.right-a.left)*(a.bottom-a.top)?this.ba:k}}};m.Wg=da(l);
m.Ef=function(a){for(var b=0,c;c=this.Pc[b];b++)if(a.target==c.d){var d=c.Ng-c.d.scrollTop,f=c.Mg-c.d.scrollLeft;c.Ng=c.d.scrollTop;c.Mg=c.d.scrollLeft;this.ba&&this.pb==this.ba&&(0<d?this.ba.I.top+=d:this.ba.I.bottom+=d,0<f?this.ba.I.left+=f:this.ba.I.right+=f);for(var g=0,h;h=c.ne[g];g++)h=h.I,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,Fh(this,h)}this.k.Hg(a)};
m.kd=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return Pb("table",k,Pb("tbody",k,b));case "td":case "th":return Pb("table",k,Pb("tbody",k,Pb("tr",k,b)));default:return b}};function Fh(a,b){if(1==a.nc.length)a.Ta=new ud(b.top,b.right,b.bottom,b.left);else{var c=a.Ta;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
m.g=function(){Bh.c.g.call(this);for(var a,b=0;a=this.Cc[b];b++)this.og&&(Hc(a.element,"mousedown",a.Ag,l,a),this.jf&&D(a.element,this.jf)),this.pg&&this.mf&&D(a.element,this.mf),a.P();this.Cc.length=0};function Dh(a,b,c,d,f,g,h,n,q,u,A){tc.call(this,a);this.Jj=b;this.Kj=c;this.Lj=d;this.Nj=f;this.Mj=g;this.clientX=h;this.clientY=n;this.ik=q;this.jk=u;this.Vi=A}v(Dh,tc);Dh.prototype.g=aa();
function Gh(a,b){M.call(this);this.element=G(a);this.data=b;this.A=k;this.element||e(Error("Invalid argument"))}v(Gh,Oc);m=Gh.prototype;m.Tb=k;m.Ag=function(a){if(yc(a)){var b=a.target;b&&(N(b,"mousemove",this.ic,l,this),N(b,"mouseout",this.ic,l,this),N(b,"mouseup",this.Pe,l,this),this.Tb=b,this.kf=new yb(a.clientX,a.clientY),a.preventDefault())}};m.Td=ba("A");
m.ic=function(a){var b=this.Tb,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.kf.x)+Math.abs(a.clientY-this.kf.y)||c)Hc(b,"mousemove",this.ic,l,this),Hc(b,"mouseout",this.ic,l,this),Hc(b,"mouseup",this.Pe,l,this),this.A.Kb(a,this)};m.Pe=function(){var a=this.Tb;Hc(a,"mousemove",this.ic,l,this);Hc(a,"mouseout",this.ic,l,this);Hc(a,"mouseup",this.Pe,l,this);delete this.kf;this.Tb=k};function Eh(a,b,c,d){this.I=a;this.fa=b;this.Oa=c;this.d=d}Eh.prototype.Oc=k;function Hh(){Bh.call(this)}v(Hh,Bh);function Ih(a,b){b.Td(a);a.Cc.push(b);a.Ee&&Ch(a,b)};function Jh(){}v(Jh,Ce);ha(Jh);m=Jh.prototype;m.ac=aa();m.f=function(a,b){Ve(a);a.Ma&=-256;$e(a,32,l);Jh.c.f.call(this,a,b);a.Ib(b.value);return b};m.C=function(a){Ve(a);a.Ma&=-256;$e(a,32,l);return a.sa().C("textarea",{"class":Ee(this,a).join(" "),disabled:!a.isEnabled()},a.Ea||"")};m.rb=function(a){return"TEXTAREA"==a.tagName};m.Jb=ga;m.Fe=function(a){return a.isEnabled()};m.lc=ga;m.W=function(a,b,c){Jh.c.W.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};m.Ba=ga;
m.Ib=function(a,b){a&&(a.value=b)};m.U=da("goog-textarea");function Kh(a,b,c){Ue.call(this,a,b||Jh.b(),c);Ve(this);this.kc(j);a||(this.Ea="")}v(Kh,Ue);var Lh=eb||y;m=Kh.prototype;m.ec=l;m.Ja=0;m.ug=0;m.zg=0;m.dg=l;m.Jd=l;m.cf=l;m.bf=l;function Mh(a){return a.Ic.top+a.Ic.bottom+a.Bf.top+a.Bf.bottom}function Nh(a){var b=a.zg,c=a.a();b&&(c&&a.Jd)&&(b-=Mh(a));return b}function Oh(a){var b=a.ug,c=a.a();b&&(c&&a.Jd)&&(b-=Mh(a));return b}m.ib=function(a){this.Ib(String(a))};m.S=function(){return this.a().value};m.Ib=function(a){Kh.c.Ib.call(this,a);this.resize()};
m.Qa=function(a){Kh.c.Qa.call(this,a);this.a().disabled=!a};m.resize=function(){this.a()&&this.zd()};m.m=function(){Kh.c.m.call(this);var a=this.a();U(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.Ic=Pd(a,"padding");this.Bf=Sd(a);T(T(T(T(this.o(),a,"scroll",this.zd),a,"focus",this.zd),a,"keyup",this.zd),a,"mouseup",this.fi);this.resize()};
function Ph(a){if(!a.dg){var b=a.a().cloneNode(l);U(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.sa().Q.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.cf=d>c;b.style.borderWidth="10px";a.bf=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Jd=j);Sb(b);a.dg=j}var b=a.a(),c=a.a().scrollHeight,f=a.a(),d=f.offsetHeight-f.clientHeight;if(!a.cf)var g=a.Ic,d=d-(g.top+g.bottom);
a.bf||(f=Sd(f),d-=f.top+f.bottom);c+=0<d?d:0;a.Jd?c-=Mh(a):(a.cf||(d=a.Ic,c+=d.top+d.bottom),a.bf||(a=Sd(b),c+=a.top+a.bottom));return c}function Qh(a,b){a.Ja!=b&&(a.Ja=b,a.a().style.height=b+"px")}function Rh(a){a=a.a();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
m.zd=function(){if(!this.ec){var a=l;this.ec=j;var b=this.a(),c=this.Ja;if(b.scrollHeight){var d=l,f=l,g=Ph(this),h=b.offsetHeight,n=Nh(this),q=Oh(this);n&&g<n?(Qh(this,n),d=j):q&&g>q?(Qh(this,q),b.style.overflowY="",f=j):h!=g?Qh(this,g):this.Ja||(this.Ja=g);!d&&(!f&&Lh)&&(a=j)}else Rh(this);this.ec=l;a&&(a=this.a(),this.ec||(this.ec=j,b=l,a.value||(a.value=" ",b=j),(f=a.scrollHeight)?(g=Ph(this),d=Nh(this),h=Oh(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.Ic,a.style.paddingBottom=h.bottom+1+"px",Ph(this)==
g&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=Ph(this)-f,f>=d?Qh(this,f):Qh(this,d)),a.style.paddingBottom=h.bottom+"px")):Rh(this),b&&(a.value=""),this.ec=l));c!=this.Ja&&this.dispatchEvent("resize")}};m.fi=function(){var a=this.a(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Ja&&(this.Ja=this.zg=b)};function Sh(a,b,c,d,f,g){W.call(this);this.da=kf();this.ld=a;this.Nd=b;this.Jg=c;this.Ue=d||k;this.of=f||k;this.pd=g||k;this.qe=this.da?new Hh:k;this.Ab={pending:l,all:l};this.lb=["pending","all","playlists"]}v(Sh,W);m=Sh.prototype;m.M=function(a){Sh.c.M.call(this,a);a.innerHTML="";a.scrollTop=0;ic(a,vh);var b=H("pending-content",a);w(this.Nd,function(a){Th(this,b,a)},this);this.Hi=H("playlists-content",a);w(this.Jg,this.yf,this);this.resize()};
m.m=function(){Sh.c.m.call(this);this.Eb=H("input",this.a());var a=new Le(this.Eb),b=new Wf(this.Eb);this.Sa=H("tabs",this.a());this.D="pending";var c=l;T(T(T(T(this.o(),window,"resize",ua(O,s(this.resize,this))),a,"key",s(function(a){"13"==a.keyCode&&Uh(this,this.Eb.value)},this)),b,Zf,s(function(){Uh(this,this.Eb.value)},this)),this.Sa,"click",s(function(a){a=ec(a.target,"li");this.Gc(a)},this));T(this.o(),this.a(),"scroll",s(function(){if(!c&&!this.Ab[this.D]&&this.a().scrollTop+I().height>this.a().scrollHeight-
this.a().clientTop){c=j;var a=H("spinner",this.a());S(a,j);var b="pending"==this.D?this.Nd:this.ce;Z("/admin/_media/collection/"+this.ld+"?offset="+b.length+("pending"==this.D?"&pending=1":""),s(function(g){c=l;g=gg(hg(g.target)).medias;g=Ka(g,function(a){return new Bf(a)});Sa(b,g);var h=H(this.D+"-content",this.a());w(g,function(a){Th(this,h,a)},this);this.Ab[this.D]=!g.length;F(a,"finished",!g.length)},this))}},this))};m.resize=function(){Hd(this.a(),I().height-40)};
function Uh(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");if(c=c!=k?c[0]:"")a.Eb.disabled="disabled",Z("admin/_add/collection/"+a.ld,s(function(a){this.Eb.value="";this.Eb.disabled="";a=jg(a.target);if("media"==a.type){var b=Ef(Df.b(),a.data);Ma(this.Nd,function(a){return a.id==b.id})||(this.Nd.push(b),a=H("pending-content",this.a()),Th(this,a,b,j),this.Gc(Nb("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Ma(this.Jg,function(a){return a.id==c.id})||
(this.yf(c),this.Gc(Nb("li","playlists",i)[0]))}},a),"POST","url="+c)}m.Gc=function(a){w(this.lb,function(b){F(this.Sa.parentElement,b,E(a,b));this.D=E(a,b)?b:this.D},this);this.ce||Z("/admin/_media/collection/"+this.ld,s(function(a){a=gg(hg(a.target)).medias;this.ce=Ka(a,function(a){return new Bf(a)});var c=H("all-content",this.a());w(this.ce,function(a){Th(this,c,a)},this)},this))};m.yf=function(a){a=J(wh,{Gi:a});this.Hi.appendChild(a)};
function Th(a,b,c,d){var f=J(Ah,{media:c,xa:c.xa.getMonth()+"/"+c.xa.getDate()+"/"+c.xa.getYear()+" "+od(c.xa)});d?b.insertBefore(f,b.childNodes[0]||k):b.appendChild(f);a.da&&(b=a.qe,d=new Gh(f,i),Ih(b,d));var b=new Td(H("repos",f)),g=H("thumb",f),d=H("play",f),h=H("approve",f),n=H("remove",f);b.od=function(a,b){var c=b-24;-50<=c&&50>=c&&U(g,"background-position-y",50-c+"%")};T(T(T(T(a.o(),b,"end",function(){var a=(g.style[Ga("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);
Z("/admin/_posthumb",ee(),"POST","media="+c.id+"&pos="+a)}),d,"click",s(a.Di,a,c)),h,"click",s(a.zf,a,c,j,f)),n,"click",s(a.zf,a,c,l,f));O(ua(C,f,"show"))}m.zf=function(a,b,c){Z("admin/_media/collection",s(function(){C(c,"remove");O(function(){Sb(c)},300);Q.b();var a;Q.b();a=bc(G("toggle-pending"));Yc(0,a-1);this.Ue&&Yb(this.Ue,bc(this.Ue)-1)},this),"POST","col="+this.ld+"&media="+a.id+"&approve="+b)};m.Di=function(a){nf.b().h(rf,a)};function Vh(){W.call(this)}v(Vh,W);Vh.prototype.C=function(){this.d=J(uh)};Vh.prototype.M=function(a){Vh.c.M.call(this,a);var b=J(uh);a.innerHTML=b.innerHTML};
Vh.prototype.m=function(){Vh.c.m.call(this);this.sh=H("collections",this.a());this.Yj=H("stories",this.a());var a=G("admin-list");X.b();var b=0;Z("/admin/_collections",s(function(c){c=jg(c.target);w(c,function(c){var f=J(xh,{me:c});b+=c.pending;this.sh.appendChild(f);N(f,"click",s(function(){Z("/admin/_media/collection/"+c.id+"?pending=1",s(function(b){var b=gg(hg(b.target)),h=b.medias,h=Ka(h,function(a){return new Bf(a)});(new Sh(c.id,h,b.playlists,H("pending",f))).f(a);$f.b().h("navigate",a,j,c.name)},
this))},this))},this);b&&Yc(Q.b(),b)},this))};function Wh(a){this.id=a.id;this.r=kg(Y.b(),a.user);this.text=a.text;this.time=cd(a.time+"Z")};function Xh(a){this.id=a.id;this.handle=a.handle;this.V=a.picture;this.text=a.text;this.time=cd(a.time+"Z")};function Yh(){W.call(this);this.v=new Kh("Add to the conversation.");this.Nb=new hf("tweet");$e(this.Nb,16,j);this.Ya=new hf("post");$e(this.Ya,16,j);this.Ob=new hf("add")}v(Yh,W);m=Yh.prototype;m.C=function(){this.d=J(ph)};
m.m=function(){Yh.c.m.call(this);this.v.f(H("comment-textarea",this.a()));var a=this.v;a.ug=70;a.resize();a=new Le(this.v.Za());this.Df=H("comment-controls",this.a());ye(this,this.Nb);this.Nb.f(H("tweet-toggle",this.a()));Z("/_twitter",s(function(a){a=jg(a.target);this.bh=a.auth;this.dj=a.auth_url;Ze(this.Nb,this.bh)},this));ye(this,this.Ya);this.Ya.f(H("fb-toggle",this.a()));FB.api("/me/permissions",s(function(a){this.Qf=!!a.data[0].publish_stream;Ze(this.Ya,this.Qf)},this));ye(this,this.Ob);this.Ob.f(H("add-comment",
this.a()));this.Ob.Qa(l);T(T(T(T(T(T(this.o(),this.v.a(),"focus",s(function(){Ad(this.Df,0,0);this.dispatchEvent("focus")},this)),a,"key",s(function(a){this.Ob.Qa(this.v.S());"13"==a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.Ob.setActive(this.v.S()),this.Kd(a))},this)),this.v,"resize",s(function(a){this.dispatchEvent(a)},this)),this.Ya,"action",s(this.mi,this)),this.Nb,"action",s(this.Bi,this)),this.Ob,"action",s(this.Kd,this))};m.S=function(){return this.v.S()};
m.collapse=function(){Ad(this.Df,0,27)};m.Dd=function(){return E(this.a(),"focused")};m.mc=function(a){return F(this.a(),"focused",a)};m.Kd=function(){this.v.S()&&(this.v.setActive(l),this.v.Qa(l),this.mc(j),this.dispatchEvent({type:"add",ph:s(function(){this.v.ib("");this.v.Qa(j);this.v.mc(j)},this),Bh:Ie(this.Ya),cj:Ie(this.Nb),text:this.v.S()}))};m.mi=function(){!this.Qf&&Ie(this.Ya)&&(S(G("overlay"),j),FB.login(function(a){S(G("overlay"),l);this.Ch=!!a.authResponse;Ze(this.Ya,this.Ch)},{scope:"publish_stream"}))};
m.Bi=function(){if(!this.bh&&Ie(this.Nb)){var a=window.open(this.dj,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Tc(a){var b=t(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return Zh(c,b,0);c=Math.floor(c/60);if(24>c)return Zh(c,b,1);c=new Date(t());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?Zh(c,b,2):""}
function Zh(a,b,c){return!b&&0==c?(b=va("{$num} minute ago",{num:a}),c=va("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=va("in {$num} minute",{num:a}),c=va("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=va("{$num} hour ago",{num:a}),c=va("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=va("in {$num} hour",{num:a}),c=va("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=va("{$num} day ago",{num:a}),c=va("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=va("in {$num} day",{num:a}),c=va("in {$num} days",
{num:a}),1==a?b:c):""};function $h(a){W.call(this);this.H=this.p=a;this.v=new Yh;this.Rc=new hf("Star");$e(this.Rc,16,j);this.Pf=new hf("Facebook");this.ah=new hf("Twitter");this.Pa=new hf("Play");this.Ii=new hf("Plus")}v($h,W);m=$h.prototype;m.C=function(){this.d=J(lh,{media:this.H})};m.M=function(a){$h.c.M.call(this,a);var b=this.H,b=J(lh,{media:this.H,xa:b.xa.getMonth()+1+"/"+b.xa.getDate()+"/"+b.xa.getYear()});a.innerHTML=b.innerHTML};
m.m=function(){$h.c.m.call(this);this.H.subscribe(Cf,this.xf,this);var a=H("viewers",this.a()),b=H("picture",this.a()),c=H("scrollable",this.a()),d=H("publisher",this.a()),f=H("title",this.a()),g=b.firstChild;this.fk=H("tweet-holder",this.a());this.qc=H("tweets",this.a());this.rd=H("dot-nav",this.a());this.na=H("comments",this.a());we(this.v,this.a());this.Rc.f(H("star",this.a()));this.Pf.f(H("facebook",this.a()));this.ah.f(H("twitter",this.a()));this.Pa.f(H("play",this.a()));this.Ii.f(H("plus",this.a()));
var h=new Pc(5E3);Z("/_info/"+this.H.id,s(function(b){var b=gg(hg(b.target)),c=b.seen;S(a,c.length);w(c,function(b){var c=J(mh,{r:kg(Y.b(),b)});a.appendChild(c);T(this.o(),c,"click",function(){$f.b().h(bg,b)})},this);c=b.tweets;w(c,function(a){var a=new Xh(a),b=J(nh,{Zc:a,timestamp:Tc(a.time.getTime())});Uc(Sc.b(),a.time,H("timestamp",b));this.qc.appendChild(b);a=Pb("div","dot");this.rd.appendChild(a);this.resize();S(Wb(this.qc),j);this.tb=this.rd.firstChild;C(this.tb,"selected")},this);c.length&&
h.start();b=b.comments;S(Wb(this.na),b.length);w(b,function(a){a=new Wh(a);this.xf(a)},this);this.resize()},this));T(T(T(T(T(T(T(T(T(T(T(T(T(T(T(this.o(),window,"resize",ua(O,s(this.resize,this))),d,"click",s(function(){$f.b().h("media-list",this.H.ya.name,i,"/admin/_media/publisher/"+this.H.ya.id,this.H.ya.V,this.H.ya.description,this.H.ya.link)},this)),this.Rc,"action",s(function(){Df.b().h("star",this.H,Ie(this.Rc));Z("/_star",i,"POST","media_id="+this.H.id+(!Ie(this.Rc)?"&delete=1":""))},this)),
this.Pf,"action",s(this.li,this)),this.ah,"action",s(this.Ai,this)),this.Pa,"action",s(this.pi,this)),this.v,"add",s(this.Kd,this)),this.v,"focus",s(function(){this.resize(27)},this)),this.v,"resize",s(function(a){this.resize(27+(a.target.Ja-22))},this)),this.rd,"click",s(function(a){E(a.target,"dot")&&(ai(this,a.target),h.stop())},this)),h,Rc,s(function(){var a=this.tb&&Ub(this.tb)||H("dot",this.a());ai(this,a)},this)),window,"click",s(function(a){!ec(a.target,k,"comment-input")&&!this.v.S()&&(this.v.mc(l),
this.v.collapse(),this.resize())},this)),g,"load",function(){S(g,j);O(function(){V(g).height<V(b).height+50&&C(g,"fix-height");V(g).width>2*V(b).width?C(g,"pan-left"):V(g).height>2*V(b).height&&C(g,"pan-top");g.style.marginTop=-V(g).height/2+"px";g.style.marginLeft=-V(g).width/2+"px"})}),c,"scroll",s(function(){var a=(120-c.scrollTop)/100;Ld(d,Math.min(1,Math.max(a,0)));Ld(f,Math.min(1,Math.max(a,0)));Ld(g,Math.min(0.5,Math.max(a,0.1)));F(b,"scrolled",10<c.scrollTop)},this)),H("desc-link",this.a()),
"click",s(function(){var a=xb(b,"scrolled");(new oe(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,a?180:0],300)).play()},this))};function ai(a,b){if(b){a.tb&&D(a.tb,"selected");a.tb=b;C(a.tb,"selected");var c=Na(Tb(a.rd),function(a){return a==b});(new oe(a.qc,[a.qc.scrollLeft,a.qc.scrollTop],[300*c,a.qc.scrollTop],200)).play();a.resize()}}
m.Kd=function(a){Z("/_comment",a.ph,"POST","media_id="+this.H.id+"&text="+a.text+"&tweet="+a.cj);a.Bh&&FB.api("/me/feed","POST",{message:a.text,name:this.H.name,link:"http://www.broken.tv",picture:this.H.Ua,caption:"on Broken.TV",description:this.H.description},aa())};m.xf=function(a){var b=J(oh,{vc:a,timestamp:Tc(a.time.getTime())});Uc(Sc.b(),a.time,H("timestamp",b));this.na.appendChild(b);this.resize(this.v.Dd()?27:0);S(Wb(this.na),j)};
m.resize=function(a){this.na&&Hd(this.na,I().height-Cd(this.na.parentElement).y-100-(a+10||10));O(s(function(){(new oe(this.na,[this.na.scrollLeft,this.na.scrollTop],[this.na.scrollLeft,this.na.scrollHeight],400)).play()},this),a?0:100)};m.li=function(){S(G("overlay"),j);FB.ui({method:"feed",name:this.H.name,link:"http://www.broken.tv",V:this.H.Ua,caption:"on Broken.TV",description:this.H.description},function(){S(G("overlay"),l)})};
m.Ai=function(){var a=window.open("https://twitter.com/share?url=www.broken.tv&text=I'm watching "+this.H.name,"Tweet","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()};m.pi=function(){nf.b().h(rf,this.p)};function bi(a,b,c,d,f){W.call(this);this.da=kf();this.xg=a||k;this.rc=b||k;this.Ne={};this.of=c||k;this.pd=d||k;this.di=f||k;this.qe=this.da?new Hh:k;this.Oe=this.hg=0}v(bi,W);
bi.prototype.M=function(a){bi.c.M.call(this,a);a.innerHTML="";a.scrollTop=0;this.Sd=Pb("div","ios-scroll");this.a().appendChild(this.Sd);if(this.pd||this.of)a=J(sh,{Ua:this.of,description:this.pd,link:this.di}),this.Sd.appendChild(a),this.hg=V(a).height;this.Hd=Pb("div","medias");this.Sd.appendChild(this.Hd);this.rc?Z(this.rc,s(function(a){a=gg(hg(a.target));a=Ka(a,function(a){return new Bf(a)});w(a,this.ae,this);this.Oe=V(this.Hd).height;this.resize()},this)):this.xg&&(w(this.xg,this.ae,this),this.Oe=
V(this.Hd).height,this.resize())};bi.prototype.ae=function(a){var b=J(zh,{media:a});this.Hd.appendChild(b);if(this.da){var c=this.qe,d=new Gh(b,i);Ih(c,d)}T(this.o(),b,"click",s(function(){$f.b().h(ag,a)},this));this.Ne[a.id]=b};bi.prototype.resize=function(){Hd(this.Sd,this.Oe+this.hg+65)};function ci(a){W.call(this);this.gh=this.p=a;this.lb=["activity","starred"]}v(ci,W);ci.prototype.M=function(a){ci.c.M.call(this,a);C(a,"profile");C(a,"ios-scroll");ic(a,yh)};
ci.prototype.m=function(){this.Sa=H("tabs",this.a());Z("/_star",s(function(a){a=jg(a.target);a=Ka(a,function(a){return new Bf(a)});this.Sc=new bi(a);this.Sc.f(H("starred-content",this.a()))},this));Z("/_activity/"+this.gh.id,s(function(a){a=jg(a.target);this.lf=new di(a,this.gh.id);this.lf.f(H("activity-content",this.a()))},this));T(this.o(),this.Sa,"click",s(function(a){a=ec(a.target,"li");this.Gc(a)},this));Df.b().subscribe("star",function(a,b){if(b)this.Sc.ae(a);else{var c=this.Sc,d=c.Ne[a.id];
d&&(pc(d),Eb(c.Ne,a.id))}},this)};ci.prototype.Gc=function(a){w(this.lb,function(b){F(this.Sa.parentElement,b,E(a,b));this.D=E(a,b)?b:this.D},this)};function di(a,b){W.call(this);this.mh=a;this.Xd=b||k;this.J=0;this.Ab=l}v(di,W);
di.prototype.M=function(a){di.c.M.call(this,a);a.innerHTML="";a.scrollTop=0;C(a,"stream");C(a,"ios-scroll");this.$d=Pb("div","activities");this.a().appendChild(this.$d);var b=Pb("div","spinner","Loading more");this.a().appendChild(b);S(b,l);w(this.mh,function(a){ei(this,a)},this);Y.b().subscribe("new-activity",function(a){(this.Xd==a.user.id||!this.Xd&&a.user.id!=Y.b().Na.id)&&ei(this,a,j)},this);T(this.o(),this.a(),"scroll",s(function(){!this.Ab&&this.a().scrollTop+I().height>this.a().scrollHeight-
60&&(S(b,j),Z("/_activity"+(this.Xd?"/"+this.Xd:"")+"?offset="+this.J,s(function(a){a=jg(a.target);this.Ab=!a.length;F(b,"finished",this.Ab);S(b,this.Ab);w(a,function(a){ei(this,a)},this)},this)))},this))};
function ei(a,b,c){var d=kg(Y.b(),b.user),f=cd(b.time+"Z"),g=[];switch(b.type){case "session":var h=X.b().get(b.session.channel_id),g=b.session.media,b=J(qh,{r:d,ie:h,time:Tc(f.getTime()),Oi:b.session});break;case "comment":g=[b.comment.media];b=new Wh(b.comment);b=J(rh,{r:d,vc:b,time:Tc(f.getTime())});break;default:return}Uc(Sc.b(),f,H("timestamp",b));T(T(a.o(),H("user",b),"click",function(){$f.b().h(bg,d)}),H("picture",b),"click",function(){$f.b().h(bg,d)});var n=H("medias",b);w(g,function(a){var b=
new Bf(a),a=J(zh,{media:b});H("thumb",a);n.appendChild(a);T(this.o(),a,"click",function(){$f.b().h(ag,b)})},a);c?(c=a.$d,c.insertBefore(b,c.childNodes[0]||k)):a.$d.appendChild(b);O(ua(C,b,"show"));a.J++};function fi(){W.call(this);this.da=kf();this.oh=new Vh;this.lb={};this.kb=[]}v(fi,W);m=fi.prototype;
m.m=function(){fi.c.m.call(this);this.Ff=G("sidebar-content");this.wg=G("media-list");this.Xe=G("profile");this.mb=G("toolbar");this.Sa=H("tabs",this.a());var a=new Le(document);w(Tb(this.Sa),function(a){var b=wb(a)[0];this.lb[b]=a;this.kb.push(b)},this);this.Fg();Z("/_activity",s(function(a){a=jg(a.target);this.lf=new di(a);this.lf.f(G("stream"))},this));this.Sc=new ci(Y.b().Na);this.Sc.f(G("my-profile"));this.Ka?(this.K=this.Ka.a(),this.D="info"):(this.K=G("stream"),this.D="stream");C(this.K,"current");
if(this.da){this.oh.f(G("admin"));var b=J(th,{name:"ADMIN",className:"admin"});this.Sa.appendChild(b);this.lb.admin=b;this.kb.push("admin")}gi(this);T(T(T(T(this.o(),H("back-button",this.mb),"click",s(function(a){D(this.mb,"back");this.navigate(this.gc);a.stopPropagation()},this)),this.Sa,"click",s(function(a){var b=this.D,f=ec(a.target,"li"),g=wb(f)[0];hi(this,this.D,g);C(f,"selected");Ad(H("arrow",this.mb),V(f).width/2+Cd(f).x);b!=this.D&&a.stopPropagation()},this)),this.mb,"click",s(function(a){((a=
ec(a.target,"li"))&&wb(a)[0]==this.D||!a)&&(new oe(this.K,[this.K.scrollLeft,this.K.scrollTop],[this.K.scrollLeft,0],300)).play()},this)),a,"key",s(function(a){a.ctrlKey&&"68"==a.keyCode&&xb(this.a(),"dark")},this));Q.b().subscribe(Vc,function(a){F(this.a(),"toggled",a)},this);$f.b().subscribe("navigate",this.navigate,this);$f.b().subscribe("media-list",this.Qi,this);$f.b().subscribe(ag,this.Pi,this);$f.b().subscribe(bg,this.Ri,this);X.b().subscribe(qf,this.Fg,this);X.b().subscribe(pf,this.ki,this);
Q.b().subscribe("toggle-admin",function(a){F(this.a(),"admin",a);a?(Q.b().h(Vc,j),hi(this,this.D,"admin")):"admin"==this.D&&hi(this,"admin","info")},this)};m.Fg=function(a){if(a=a||X.b().z.t())this.md=a.media,pc(this.Ka),this.Ka=new $h(this.md),this.Ka.f(G("info"))};m.ki=function(a){a=a||X.b().z;if(this.md=a.t()&&a.t().media)pc(this.Ka),this.Ka=new $h(this.md),this.Ka.f(G("info"))};
function hi(a,b,c){var d=H(c,a.Ff);Ia(a.kb,b);var f=Ia(a.kb,c),g=(b=Ia(a.kb,b)<f)?0:a.kb.length-1,h=b?g<a.kb.length:0<=g;for(g;h;g+=b?1:-1){var n=H(a.kb[g],a.Ff);if(b&&g>f||!b&&g<f)U(n,{left:"",right:""});else if(b&&g<f||!b&&g>f)U(n,{left:b?"-300px":"",right:""});else if(g==f){U(n,{right:b?0:"",left:""});break}}a.D=c;a.gc=a.K;a.K=d;D(a.gc,"current");C(a.K,"current");gi(a)}
m.navigate=function(a,b,c){c&&Yb(H("back-title",this.mb),c);a!=this.K&&(c=E(this.K,"screen"),this.gc!=a?(U(this.K,{left:c?0:"",right:""}),U(a,{right:0,left:""}),this.gc=this.K,this.K=a,D(this.gc,"current"),C(this.K,"current")):(U(this.K,{left:"",right:0}),U(a,{right:"",left:0,width:""}),D(this.K,"current"),C(a,"current"),this.K=a,this.gc=k),F(this.mb,"back",!!b))};m.Qi=function(a,b,c,d,f,g){(new bi(b,c,d,f,g)).f(this.wg);$f.b().h("navigate",this.wg,j,a,d,f)};
m.Pi=function(a){if(this.Ka&&a.id==this.Ka.p.id)D(this.mb,"back"),this.navigate(this.Ka.a()),hi(this,this.D,"info");else{var b=G("media-info");(new $h(a)).f(b);$f.b().h("navigate",b,j,a.name)}Q.b().h(Vc,j)};m.Ri=function(a){if(!this.Ye||!(this.Ye.p.id==a.id&&this.K==this.Xe))this.Ye=new ci(a),this.Ye.f(this.Xe),$f.b().h("navigate",this.Xe,j,a.name),Q.b().h(Vc,j)};function gi(a){Ad(H("arrow",a.mb),V(a.lb[a.D]).width/2+Cd(a.lb[a.D]).x)};function ii(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message">This channel is currently offline.</div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"></div><div class="pause" style="display: none"></div></div></div><div id="guide" class="guide toggled"><div id="channels" class="channels"></div><div class="right-grad"></div><div class="header" id="header"><div class="times"><div id="now-left" class="left browse">&#x25C0;<span> NOW</span></div><div id="now-right" class="right browse"><span>NOW </span>&#x25B6;</div></div></div><div id="my-ticker" class="my-ticker" style="display:none"><div class="me" style="background:'+
L(a.r.color)+";border-color:"+L(a.r.color)+';"><img src="'+L(a.r.V)+'"/></div></div><div id="ticker" class="ticker"><div id="go-live" class="go-live">GO LIVE</div></div></div><div id="controller" class="controller guide-toggled"><div class="background"></div><div class="left"><div id="guide-toggle" class="guide-toggle dark button">GUIDE</div><div class="controls"><div class="restart dark button"></div><div class="play dark button"></div><div class="volume dark button"></div></div><div class="border"></div></div><div class="right"><div id="admin-toggle" class="admin-toggle dark button" style="display: none"><div id="toggle-pending" class="pending" style="display:none"></div></div><div id="sidebar-toggle" class="sidebar-toggle dark button"></div><div class="border"></div></div></div><div id="sidebar"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM</div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"></div><div id="stream" class="screen stream"></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div>'+
(a.be?'<div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div></div>'};function ji(){P.call(this)}v(ji,P);ha(ji);ji.prototype.init=function(a){this.dk=a;(new appengine.Channel(unescape(a))).open().onmessage=s(this.oi,this);return this};
ji.prototype.oi=function(a){var b=gg(a.data);switch(b.type){case "viewer_change":var a=kg(Y.b(),b.user),c=X.b().get(b.channel_id),d=cd(b.time+"Z"),f=new Hf(b.session_id,a,c,d);a.nd&&(a.nd.Wd=d);a.nd=f;c.h(If,f);break;case "new_comment":a=new Wh(b.comment);(d=Ef(Df.b(),b.comment.media))&&d.h(Cf,a);break;case "new_activity":Y.b().h("new-activity",b.activity);break;case "update_programs":a=b.programs;c=X.b().get(b.channel_id);w(a,function(a){c.h(Jf,a)},this);break;case "new_programs":w(b.programs,s(function(a){var a=
new uf(a),c=X.b().get(b.channel_id);c&&(c.h(vf,a),(!X.b().z||!X.b().z.t())&&X.b().h(pf,c))},this))}};function ki(){P.call(this);this.Wj=[]}v(ki,P);ha(ki);ki.prototype.Le=function(a){Ab(a,s(function(a,c){w(a,s(function(a){a=new uf(a);X.b().Rb[c]&&X.b().Rb[c].Pb(a)},this))},this))};var li=l;function mi(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var ni=navigator.plugins["Shockwave Flash"];ni&&(li=j,ni.description&&mi(ni.description));navigator.plugins["Shockwave Flash 2.0"]&&(li=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var oi=navigator.mimeTypes["application/x-shockwave-flash"];(li=oi&&oi.enabledPlugin)&&mi(oi.enabledPlugin.description)}else try{var pi=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),li=j;mi(pi.GetVariable("$version"))}catch(qi){try{pi=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
li=j}catch(ri){try{pi=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),li=j,mi(pi.GetVariable("$version"))}catch(si){}}};function ti(a,b,c,d,f,g,h,n){this.rc=a;this.rh=b;this.pd=c;this.gk=d;this.Uj=f;this.Oj=g;this.Ca=h;this.Ja=n;this.Zi=[];this.Dj=[];this.Gj=[];this.Zj=[]}ti.prototype.Sf=ca("rh");ti.prototype.ff=function(a){this.B=a;return this};function ui(a){this.rc=a;this.Ti=k}function vi(a){this.rc=a;this.Ti=this.hk=k};function fg(a,b,c){ti.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.ej=a;this.Zi=[new ui("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.ff(new vi("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}v(fg,ti);
var eg=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function wi(a){W.call(this);this.hj=ji.b().init(a);this.uh=new ah;this.Hh=new jf;this.Si=new fi;this.B=new eh}v(wi,W);wi.prototype.M=function(a){wi.c.M.call(this,a);var b=J(ii,{r:Y.b().Na,be:kf()});a.insertBefore(b,a.childNodes[0]||k)};wi.prototype.m=function(){wi.c.m.call(this);this.uh.f(G("controller"));this.Hh.f(G("guide"));this.Si.f(G("sidebar"));this.B.f(G("stage"));T(this.o(),document.body,"touchmove",function(a){ec(a.target,"div","ios-scroll")||a.preventDefault()})};
function xi(){var a=G("fb-login");Z("/_session",function(b){if(200==Zg(b.target)){C(G("oken"),"swing");D(a,"show");var c=jg(b.target),b=c.token,d=c.channels,f=c.programs,g=c.current_user,c=c.viewer_sessions;(new qe(G("login"),2E3,dh)).play();if(!Db(g)){var h=Y.b();h.Na=kg(h,g)}X.b().Le(d,g.current_channel);ki.b().Le(f);var d=X.b(),n=Y.b();w(c,s(function(a){var b=kg(Y.b(),a.user);n.add(b);var c=this.Rb[a.channel_id],d=cd(a.tune_in+"Z"),f=a.tune_out?cd(a.tune_out+"Z"):k,a=new Hf(a.id,b,c,d,f);b.nd=
a;c.Yd.push(a)},d));Sc.b().init();(new wi(b)).f(document.body)}else b=G("fb-login"),C(G("oken"),"animate"),C(b,"disabled"),S(b,j),C(b,"show"),Yb(b,"We'll keep you posted")},"POST")}function yi(){FB.getLoginStatus(function(a){if("connected"===a.status)xi();else{var b=G("oken"),c=G("fb-login");O(function(){C(b,"animate");S(c,j);O(ua(C,c,"show"),400)},100);N(c,"click",function(){C(c,"disabled");FB.login(function(a){a.authResponse?xi():D(c,"disabled")},{scope:"email"})})}})}
var zi=["brkn","Main","auth"],Ai=p;!(zi[0]in Ai)&&Ai.execScript&&Ai.execScript("var "+zi[0]);for(var Bi;zi.length&&(Bi=zi.shift());)!zi.length&&ja(yi)?Ai[Bi]=yi:Ai=Ai[Bi]?Ai[Bi]:Ai[Bi]={};