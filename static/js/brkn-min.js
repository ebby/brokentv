function e(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var n,fa=fa||{},p=this;function ga(a,b){var c=a.split("."),d=p;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&ha(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}
function ia(a){for(var a=a.split("."),b=p,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function ka(){}function la(a){a.b=function(){return a.wg?a.wg:a.wg=new a}}
function ma(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return a!==i}function na(a){return"array"==ma(a)}function oa(a){var b=ma(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function pa(a){return"number"==typeof a}function qa(a){return"function"==ma(a)}function ra(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function sa(a){return a[ta]||(a[ta]=++ua)}
var ta="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ua=0;function va(a,b,c){return a.call.apply(a.bind,arguments)}function wa(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function t(a,b,c){t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return t.apply(k,arguments)}function xa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var u=Date.now||function(){return+new Date};function ya(a,b){var c=b||{},d;for(d in c)var f=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),f);return a}
function v(a,b){function c(){}c.prototype=b.prototype;a.c=b.prototype;a.prototype=new c;a.prototype.constructor=a};function za(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Aa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ba(a){if(!Ca.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Da,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ea,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Fa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ga,"&quot;"));return a}var Da=/&/g,Ea=/</g,Fa=/>/g,Ga=/\"/g,Ca=/[&<>\"]/;
function Ha(a){var a=ha(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ia(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Ja=Array.prototype,Ka=Ja.indexOf?function(a,b,c){return Ja.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(r(a))return!r(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=Ja.forEach?function(a,b,c){Ja.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},La=Ja.filter?function(a,b,c){return Ja.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=
r(a)?a.split(""):a,m=0;m<d;m++)if(m in h){var q=h[m];b.call(c,q,m,a)&&(f[g++]=q)}return f},Ma=Ja.map?function(a,b,c){return Ja.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=r(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Na=Ja.every?function(a,b,c){return Ja.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return l;return j};
function Oa(a,b){var c=Pa(a,b,i);return 0>c?k:r(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function Qa(a,b){return 0<=Ka(a,b)}function Ra(a,b){var c=Ka(a,b);0<=c&&Ja.splice.call(a,c,1)}function Sa(a){return Ja.concat.apply(Ja,arguments)}function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ua(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(na(d)||(f=oa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,m=0;m<h;m++)a[g+m]=d[m];else a.push(d)}}function Va(a,b,c,d){Ja.splice.apply(a,Wa(arguments,1))}function Wa(a,b,c){return 2>=arguments.length?Ja.slice.call(a,b):Ja.slice.call(a,b,c)};var Xa,Ya,Za,$a,ab;function bb(){return p.navigator?p.navigator.userAgent:k}function cb(){return p.navigator}$a=Za=Ya=Xa=l;var db;if(db=bb()){var eb=cb();Xa=0==db.indexOf("Opera");Ya=!Xa&&-1!=db.indexOf("MSIE");Za=!Xa&&-1!=db.indexOf("WebKit");$a=!Xa&&!Za&&"Gecko"==eb.product}var fb=Xa,y=Ya,gb=$a,z=Za,hb=cb();ab=-1!=(hb&&hb.platform||"").indexOf("Mac");var ib=!!cb()&&-1!=(cb().appVersion||"").indexOf("X11"),jb;
a:{var kb="",lb;if(fb&&p.opera)var mb=p.opera.version,kb="function"==typeof mb?mb():mb;else if(gb?lb=/rv\:([^\);]+)(\)|;)/:y?lb=/MSIE\s+([^\);]+)(\)|;)/:z&&(lb=/WebKit\/(\S+)/),lb)var nb=lb.exec(bb()),kb=nb?nb[1]:"";if(y){var ob,pb=p.document;ob=pb?pb.documentMode:i;if(ob>parseFloat(kb)){jb=String(ob);break a}}jb=kb}var qb={};
function A(a){var b;if(!(b=qb[a])){b=0;for(var c=Aa(String(jb)).split("."),d=Aa(String(a)).split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var h=c[g]||"",m=d[g]||"",q=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var w=q.exec(h)||["","",""],C=s.exec(m)||["","",""];if(0==w[0].length&&0==C[0].length)break;b=((0==w[1].length?0:parseInt(w[1],10))<(0==C[1].length?0:parseInt(C[1],10))?-1:(0==w[1].length?0:parseInt(w[1],10))>(0==C[1].length?0:parseInt(C[1],10))?1:0)||((0==w[2].length)<
(0==C[2].length)?-1:(0==w[2].length)>(0==C[2].length)?1:0)||(w[2]<C[2]?-1:w[2]>C[2]?1:0)}while(0==b)}b=qb[a]=0<=b}return b}var rb={};function sb(a){return rb[a]||(rb[a]=y&&!!document.documentMode&&document.documentMode>=a)};var tb,ub=!y||sb(9),vb=!gb&&!y||y&&sb(9)||gb&&A("1.9.1"),wb=y&&!A("9"),xb=y||fb||z;function yb(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function B(a,b){for(var c=yb(a),d=Wa(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)Qa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==f}function D(a,b){var c=yb(a),d=Wa(arguments,1),f,g=d;f=La(c,function(a){return!Qa(g,a)});a.className=f.join(" ");return f.length==c.length-d.length}function E(a,b){return Qa(yb(a),b)}function F(a,b,c){c?B(a,b):D(a,b)}function zb(a,b){var c=!E(a,b);F(a,b,c);return c};function Ab(a,b){this.x=ha(a)?a:0;this.y=ha(b)?b:0}Ab.prototype.clone=function(){return new Ab(this.x,this.y)};function Bb(a,b){this.width=a;this.height=b}Bb.prototype.clone=function(){return new Bb(this.width,this.height)};Bb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Bb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Bb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Cb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Db(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Eb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Fb(a){for(var b in a)return l;return j}function Gb(a,b){b in a&&delete a[b]}function Hb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}function Ib(a,b){return b in a?a[b]:i}var Jb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Kb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Jb.length;g++)c=Jb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Mb(a){return a?new Nb(Ob(a)):tb||(tb=new Nb)}function G(a){return r(a)?document.getElementById(a):a}function Pb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Qb("*",a,b)}function H(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Pb(a,b)[0])||k}
function Qb(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},f=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[f++]=h);d.length=f;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=f=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Qa(a.split(/\s+/),b)&&(d[f++]=h);d.length=f;return d}return c}
var Rb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function I(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Bb(a.clientWidth,a.clientHeight)}function Sb(a,b,c){return Tb(document,arguments)}
function Tb(a,b){var c=b[0],d=b[1];if(!ub&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var f={};Kb(f,d);delete f.type;d=f}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(r(d)?g.className=d:na(d)?B.apply(k,[g].concat(d)):Cb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Rb?g.setAttribute(Rb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(r(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(f=b[c],oa(f)&&!(ra(f)&&0<f.nodeType)){var h=x,m;a:{if((m=f)&&"number"==typeof m.length){if(ra(m)){m="function"==typeof m.item||"string"==typeof m.item;break a}if(qa(m)){m="function"==typeof m.item;break a}}m=l}h(m?Ta(f):f,d)}else d(f)}return g}function Ub(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Vb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Wb(a){return vb&&a.children!=i?a.children:La(a.childNodes,function(a){return 1==a.nodeType})}function Xb(a){return a.nextElementSibling!=i?a.nextElementSibling:Yb(a.nextSibling,j)}function Yb(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function Zb(a){if(xb)return a.parentElement;a=a.parentNode;return ra(a)&&1==a.nodeType?a:k}
function $b(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ob(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function ac(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Ub(a),a.appendChild(Ob(a).createTextNode(b))}var bc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},cc={IMG:" ",BR:"\n"};function dc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,pa(a)&&0<=a&&32768>a):l}
function ec(a){if(wb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];fc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");wb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function gc(a){var b=[];fc(a,b,l);return b.join("")}
function fc(a,b,c){if(!(a.nodeName in bc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in cc)b.push(cc[a.nodeName]);else for(a=a.firstChild;a;)fc(a,b,c),a=a.nextSibling}function hc(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||E(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Nb(a){this.R=a||p.document||document}n=Nb.prototype;n.ta=Mb;
n.a=function(a){return r(a)?this.R.getElementById(a):a};n.D=function(a,b,c){return Tb(this.R,arguments)};n.createElement=function(a){return this.R.createElement(a)};n.createTextNode=function(a){return this.R.createTextNode(a)};function ic(a){var b=a.R,a=!z&&"CSS1Compat"==b.compatMode?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Ab(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.eg=Wb;
function jc(a,b){return b.firstElementChild!=i?b.firstElementChild:Yb(b.firstChild,j)}n.contains=$b;y&&A(8);var kc={};function lc(a,b,c){a.innerHTML=b(c||kc,i,i)}function J(a,b){var c;a:if(c=(new Nb(i)||Mb()).createElement("DIV"),c.innerHTML=a(b||kc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function K(a){return"object"===typeof a&&a&&0===a.Rj?a.content:String(a).replace(mc,nc)}
var oc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function nc(a){return oc[a]}var mc=/[\x00\x22\x26\x27\x3c\x3e]/g;function L(){0!=pc&&(this.Sj=Error().stack,qc[sa(this)]=this)}var pc=0,qc={};L.prototype.xd=l;L.prototype.Q=function(){if(!this.xd&&(this.xd=j,this.h(),0!=pc)){var a=sa(this);delete qc[a]}};L.prototype.h=function(){this.Ih&&rc.apply(k,this.Ih);if(this.Rg)for(;this.Rg.length;)this.Rg.shift()()};function sc(a){a&&"function"==typeof a.Q&&a.Q()}function rc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];oa(d)?rc.apply(k,d):sc(d)}};var tc=!y||sb(9),uc=!y||sb(9),vc=y&&!A("9");!z||A("528");gb&&A("1.9b")||y&&A("8")||fb&&A("9.5")||z&&A("528");gb&&!A("8")||y&&A("9");function wc(a,b){this.type=a;this.currentTarget=this.target=b}n=wc.prototype;n.h=aa();n.Q=aa();n.Jb=l;n.defaultPrevented=l;n.Xd=j;n.stopPropagation=function(){this.Jb=j};n.preventDefault=function(){this.defaultPrevented=j;this.Xd=l};function xc(a){a.preventDefault()};function yc(a){yc[" "](a);return a}yc[" "]=ka;function zc(a,b){a&&this.init(a,b)}v(zc,wc);var Ac=[1,4,2];n=zc.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.$e=l;n.ia=k;
n.init=function(a,b){var c=this.type=a.type;wc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(gb){var f;a:{try{yc(d.nodeName);f=j;break a}catch(g){}f=l}f||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=z||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=z||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.$e=ab?a.metaKey:a.ctrlKey;this.state=a.state;this.ia=a;a.defaultPrevented&&this.preventDefault();delete this.Jb};function Bc(a){return(tc?0==a.ia.button:"click"==a.type?j:!!(a.ia.button&Ac[0]))&&!(z&&ab&&a.ctrlKey)}
n.stopPropagation=function(){zc.c.stopPropagation.call(this);this.ia.stopPropagation?this.ia.stopPropagation():this.ia.cancelBubble=j};n.preventDefault=function(){zc.c.preventDefault.call(this);var a=this.ia;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,vc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.h=aa();function Cc(){}var Dc=0;n=Cc.prototype;n.key=0;n.Lb=l;n.me=l;n.init=function(a,b,c,d,f,g){qa(a)?this.yg=j:a&&a.handleEvent&&qa(a.handleEvent)?this.yg=l:e(Error("Invalid listener argument"));this.lc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.Id=g;this.me=l;this.key=++Dc;this.Lb=l};n.handleEvent=function(a){return this.yg?this.lc.call(this.Id||this.src,a):this.lc.handleEvent.call(this.lc,a)};var Ec={},Fc={},Gc={},Hc={};
function M(a,b,c,d,f){if(b){if(na(b)){for(var g=0;g<b.length;g++)M(a,b[g],c,d,f);return k}var d=!!d,h=Fc;b in h||(h[b]={K:0,ma:0});h=h[b];d in h||(h[d]={K:0,ma:0},h.K++);var h=h[d],m=sa(a),q;h.ma++;if(h[m]){q=h[m];for(g=0;g<q.length;g++)if(h=q[g],h.lc==c&&h.Id==f){if(h.Lb)break;return q[g].key}}else q=h[m]=[],h.K++;var s=Ic,w=uc?function(a){return s.call(w.src,w.key,a)}:function(a){a=s.call(w.src,w.key,a);if(!a)return a},g=w;g.src=a;h=new Cc;h.init(c,g,a,b,d,f);c=h.key;g.key=c;q.push(h);Ec[c]=h;Gc[m]||
(Gc[m]=[]);Gc[m].push(h);a.addEventListener?(a==p||!a.Tf)&&a.addEventListener(b,g,d):a.attachEvent(b in Hc?Hc[b]:Hc[b]="on"+b,g);return c}e(Error("Invalid event type"))}function Jc(a,b,c,d,f){if(na(b)){for(var g=0;g<b.length;g++)Jc(a,b[g],c,d,f);return k}a=M(a,b,c,d,f);Ec[a].me=j;return a}function Kc(a,b,c,d,f){if(na(b))for(var g=0;g<b.length;g++)Kc(a,b[g],c,d,f);else if(d=!!d,a=Mc(a,b,d))for(g=0;g<a.length;g++)if(a[g].lc==c&&a[g].capture==d&&a[g].Id==f){Nc(a[g].key);break}}
function Nc(a){if(!Ec[a])return l;var b=Ec[a];if(b.Lb)return l;var c=b.src,d=b.type,f=b.proxy,g=b.capture;c.removeEventListener?(c==p||!c.Tf)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in Hc?Hc[d]:Hc[d]="on"+d,f);c=sa(c);Gc[c]&&(f=Gc[c],Ra(f,b),0==f.length&&delete Gc[c]);b.Lb=j;if(b=Fc[d][g][c])b.Qg=j,Oc(d,g,c,b);delete Ec[a];return j}
function Oc(a,b,c,d){if(!d.Nd&&d.Qg){for(var f=0,g=0;f<d.length;f++)d[f].Lb?d[f].proxy.src=k:(f!=g&&(d[g]=d[f]),g++);d.length=g;d.Qg=l;0==g&&(delete Fc[a][b][c],Fc[a][b].K--,0==Fc[a][b].K&&(delete Fc[a][b],Fc[a].K--),0==Fc[a].K&&delete Fc[a])}}function Mc(a,b,c){var d=Fc;return b in d&&(d=d[b],c in d&&(d=d[c],a=sa(a),d[a]))?d[a]:k}
function Pc(a,b,c,d,f){var g=1,b=sa(b);if(a[b]){a.ma--;a=a[b];a.Nd?a.Nd++:a.Nd=1;try{for(var h=a.length,m=0;m<h;m++){var q=a[m];q&&!q.Lb&&(g&=Qc(q,f)!==l)}}finally{a.Nd--,Oc(c,d,b,a)}}return Boolean(g)}function Qc(a,b){a.me&&Nc(a.key);return a.handleEvent(b)}
function Ic(a,b){if(!Ec[a])return j;var c=Ec[a],d=c.type,f=Fc;if(!(d in f))return j;var f=f[d],g,h;if(!uc){g=b||ia("window.event");var m=j in f,q=l in f;if(m){if(0>g.keyCode||g.returnValue!=i)return j;a:{var s=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(w){s=j}if(s||g.returnValue==i)g.returnValue=j}}s=new zc;s.init(g,this);g=j;try{if(m){for(var C=[],ja=s.currentTarget;ja;ja=ja.parentNode)C.push(ja);h=f[j];h.ma=h.K;for(var ea=C.length-1;!s.Jb&&0<=ea&&h.ma;ea--)s.currentTarget=C[ea],g&=Pc(h,C[ea],
d,j,s);if(q){h=f[l];h.ma=h.K;for(ea=0;!s.Jb&&ea<C.length&&h.ma;ea++)s.currentTarget=C[ea],g&=Pc(h,C[ea],d,l,s)}}else g=Qc(c,s)}finally{C&&(C.length=0)}return g}d=new zc(b,this);return g=Qc(c,d)};function Rc(){L.call(this)}v(Rc,L);n=Rc.prototype;n.Tf=j;n.Td=k;n.kf=ba("Td");n.addEventListener=function(a,b,c,d){M(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Kc(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=Fc;if(b in c){if(r(a))a=new wc(a,this);else if(a instanceof wc)a.target=a.target||this;else{var d=a,a=new wc(b,this);Kb(a,d)}var d=1,f,c=c[b],b=j in c,g;if(b){f=[];for(g=this;g;g=g.Td)f.push(g);g=c[j];g.ma=g.K;for(var h=f.length-1;!a.Jb&&0<=h&&g.ma;h--)a.currentTarget=f[h],d&=Pc(g,f[h],a.type,j,a)&&a.Xd!=l}if(l in c)if(g=c[l],g.ma=g.K,b)for(h=0;!a.Jb&&h<f.length&&g.ma;h++)a.currentTarget=f[h],d&=Pc(g,f[h],a.type,l,a)&&a.Xd!=l;else for(f=this;!a.Jb&&f&&
g.ma;f=f.Td)a.currentTarget=f,d&=Pc(g,f,a.type,l,a)&&a.Xd!=l;a=Boolean(d)}else a=j;return a};n.h=function(){Rc.c.h.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Cb(Gc,function(d){for(var f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Nc(g.key),b++}});else{var d=sa(this);if(Gc[d])for(var d=Gc[d],f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Nc(g.key),b++}}this.Td=k};function Sc(a,b){L.call(this);this.G=a||1;this.dd=b||Tc;this.ke=t(this.lj,this);this.Qe=u()}v(Sc,Rc);Sc.prototype.enabled=l;var Tc=p.window;n=Sc.prototype;n.Z=k;n.lj=function(){if(this.enabled){var a=u()-this.Qe;0<a&&a<0.8*this.G?this.Z=this.dd.setTimeout(this.ke,this.G-a):(this.dispatchEvent(Uc),this.enabled&&(this.Z=this.dd.setTimeout(this.ke,this.G),this.Qe=u()))}};n.start=function(){this.enabled=j;this.Z||(this.Z=this.dd.setTimeout(this.ke,this.G),this.Qe=u())};
n.stop=function(){this.enabled=l;this.Z&&(this.dd.clearTimeout(this.Z),this.Z=k)};n.h=function(){Sc.c.h.call(this);this.stop();delete this.dd};var Uc="tick";function N(a,b,c){qa(a)?c&&(a=t(a,c)):a&&"function"==typeof a.handleEvent?a=t(a.handleEvent,a):e(Error("Invalid listener argument"));return 2147483647<b?-1:Tc.setTimeout(a,b||0)};function O(){L.call(this);this.Aa=[];this.pb={}}v(O,L);n=O.prototype;n.Dg=1;n.Vd=0;n.subscribe=function(a,b,c){var d=this.pb[a];d||(d=this.pb[a]=[]);var f=this.Dg;this.Aa[f]=a;this.Aa[f+1]=b;this.Aa[f+2]=c;this.Dg=f+3;d.push(f);return f};function Vc(a,b,c){var d=a.subscribe(b,function(a){c.apply(i,arguments);this.xf(d)},a)}
n.xf=function(a){if(0!=this.Vd)return this.Qc||(this.Qc=[]),this.Qc.push(a),l;var b=this.Aa[a];if(b){var c=this.pb[b];c&&Ra(c,a);delete this.Aa[a];delete this.Aa[a+1];delete this.Aa[a+2]}return!!b};n.e=function(a,b){var c=this.pb[a];if(c){this.Vd++;for(var d=Wa(arguments,1),f=0,g=c.length;f<g;f++){var h=c[f];this.Aa[h+1].apply(this.Aa[h+2],d)}this.Vd--;if(this.Qc&&0==this.Vd)for(;c=this.Qc.pop();)this.xf(c)}};
n.clear=function(a){if(a){var b=this.pb[a];b&&(x(b,this.xf,this),delete this.pb[a])}else this.Aa.length=0,this.pb={}};n.h=function(){O.c.h.call(this);delete this.Aa;delete this.pb;delete this.Qc};function Wc(){O.call(this);this.re=new Sc(1E3);this.kh=new Sc(3E4);this.lh=[]}v(Wc,O);la(Wc);Wc.prototype.init=function(){this.re.start();this.kh.start();M(this.kh,Uc,t(function(){x(this.lh,function(a){ac(a.element,Xc(a.time.getTime()))},this)},this))};function Yc(a,b,c){86400>(u()-b.getTime())/1E3&&a.lh.push({time:b,element:c})};function P(){O.call(this);this.Ri=j;this.Xc=l;this.Ce=j;this.subscribe(Zc,ba("Xc"),this);this.subscribe($c,ba("Ce"),this);this.subscribe(ad,ba("Ri"),this)}v(P,O);la(P);function bd(a,b){var c=G("toggle-pending");ac(c,b);Q(c,!!b)}var ad="play",$c="toggle-guide",Zc="toggle-sidebar";var cd={xj:["BC","AD"],wj:["Before Christ","Anno Domini"],zj:"JFMAMJJASOND".split(""),Gj:"JFMAMJJASOND".split(""),yj:"January February March April May June July August September October November December".split(" "),Fj:"January February March April May June July August September October November December".split(" "),Cj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ij:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Mj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Kj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ej:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Jj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Aj:"SMTWTFS".split(""),Hj:"SMTWTFS".split(""),Dj:["Q1","Q2","Q3","Q4"],Bj:["1st quarter","2nd quarter","3rd quarter","4th quarter"],tj:["AM","PM"],vj:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Lj:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],xh:6,Nj:[5,6],yh:5};var dd=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,ed=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,fd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function gd(a){var b=new hd(2E3),a=Aa(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(dd);if(d){var f=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var m=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new id(jd,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new id(jd,(4>=d?1-d:8-d)+(Number(m)+7*(Number(c)-1))-1))):(f&&(b.setDate(1),b.setMonth(f-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(fd),m=0,c&&("Z"!=
c[0]&&(m=60*c[2]+Number(c[3]),m*="-"==c[1]?1:-1),m-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(ed))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=m&&b.setTime(b.getTime()+6E4*m),c=j):c=l;return c?b:k}
function id(a,b,c,d,f,g){r(a)?(this.Ea=a==kd?b:0,this.wa=a==ld?b:0,this.ra=a==jd?b:0,this.ja=a==md?b:0,this.ka=a==nd?b:0,this.na=a==od?b:0):(this.Ea=a||0,this.wa=b||0,this.ra=c||0,this.ja=d||0,this.ka=f||0,this.na=g||0)}
id.prototype.ed=function(a){var b=Math.min(this.Ea,this.wa,this.ra,this.ja,this.ka,this.na),c=Math.max(this.Ea,this.wa,this.ra,this.ja,this.ka,this.na);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Ea||a)&&c.push(Math.abs(this.Ea)+"Y");(this.wa||a)&&c.push(Math.abs(this.wa)+"M");(this.ra||a)&&c.push(Math.abs(this.ra)+"D");if(this.ja||this.ka||this.na||a)c.push("T"),(this.ja||a)&&c.push(Math.abs(this.ja)+"H"),(this.ka||a)&&c.push(Math.abs(this.ka)+"M"),
(this.na||a)&&c.push(Math.abs(this.na)+"S");return c.join("")};id.prototype.clone=function(){return new id(this.Ea,this.wa,this.ra,this.ja,this.ka,this.na)};var kd="y",ld="m",jd="d",md="h",nd="n",od="s";id.prototype.add=function(a){this.Ea+=a.Ea;this.wa+=a.wa;this.ra+=a.ra;this.ja+=a.ja;this.ka+=a.ka;this.na+=a.na};
function pd(a,b,c){pa(a)?(this.j=new Date(a,b||0,c||1),qd(this,c||1)):ra(a)?(this.j=new Date(a.getFullYear(),a.getMonth(),a.getDate()),qd(this,a.getDate())):(this.j=new Date(u()),this.j.setHours(0),this.j.setMinutes(0),this.j.setSeconds(0),this.j.setMilliseconds(0))}n=pd.prototype;n.Bd=cd.xh;n.Cd=cd.yh;n.clone=function(){var a=new pd(this.j);a.Bd=this.Bd;a.Cd=this.Cd;return a};n.getFullYear=function(){return this.j.getFullYear()};n.getYear=function(){return this.getFullYear()};n.getMonth=function(){return this.j.getMonth()};
n.getDate=function(){return this.j.getDate()};n.getTime=function(){return this.j.getTime()};n.getDay=function(){return this.j.getDay()};n.getUTCHours=function(){return this.j.getUTCHours()};n.getTimezoneOffset=function(){return this.j.getTimezoneOffset()};function rd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Ha(c)+":"+Ha(b);return a}n.set=function(a){this.j=new Date(a.getFullYear(),a.getMonth(),a.getDate())};n.setFullYear=function(a){this.j.setFullYear(a)};
n.setMonth=function(a){this.j.setMonth(a)};n.setDate=function(a){this.j.setDate(a)};n.setTime=function(a){this.j.setTime(a)};
n.add=function(a){if(a.Ea||a.wa){var b=this.getMonth()+a.wa+12*a.Ea,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.ra&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.ra),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),qd(this,a.getDate()))};n.ed=function(a,b){return[this.getFullYear(),Ha(this.getMonth()+1),Ha(this.getDate())].join(a?"-":"")+(b?rd(this):"")};n.toString=function(){return this.ed()};function qd(a,b){a.getDate()!=b&&a.j.setUTCHours(a.j.getUTCHours()+(a.getDate()<b?1:-1))}n.valueOf=function(){return this.j.valueOf()};function hd(a,b,c,d,f,g,h){this.j=pa(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,h||0):new Date(a?a.getTime():u())}v(hd,pd);n=hd.prototype;n.getHours=function(){return this.j.getHours()};
n.getMinutes=function(){return this.j.getMinutes()};n.getSeconds=function(){return this.j.getSeconds()};n.getUTCHours=function(){return this.j.getUTCHours()};n.setHours=function(a){this.j.setHours(a)};n.setMinutes=function(a){this.j.setMinutes(a)};n.setSeconds=function(a){this.j.setSeconds(a)};n.setMilliseconds=function(a){this.j.setMilliseconds(a)};n.setUTCHours=function(a){this.j.setUTCHours(a)};
n.add=function(a){pd.prototype.add.call(this,a);a.ja&&this.setHours(this.j.getHours()+a.ja);a.ka&&this.setMinutes(this.j.getMinutes()+a.ka);a.na&&this.setSeconds(this.j.getSeconds()+a.na)};n.ed=function(a,b){var c=pd.prototype.ed.call(this,a);return a?c+" "+Ha(this.getHours())+":"+Ha(this.getMinutes())+":"+Ha(this.getSeconds())+(b?rd(this):""):c+"T"+Ha(this.getHours())+Ha(this.getMinutes())+Ha(this.getSeconds())+(b?rd(this):"")};n.toString=function(){return this.ed()};
n.clone=function(){var a=new hd(this.j);a.Bd=this.Bd;a.Cd=this.Cd;return a};function sd(a){L.call(this);this.ua=a;this.H=[]}v(sd,L);var td=[];function R(a,b,c,d,f){na(c)||(td[0]=c,c=td);for(var g=0;g<c.length;g++){var h=M(b,c[g],d||a,f||l,a.ua||a);a.H.push(h)}return a}function ud(a,b,c,d,f,g){if(na(c))for(var h=0;h<c.length;h++)ud(a,b,c[h],d,f,g);else b=Jc(b,c,d||a,f,g||a.ua||a),a.H.push(b)}
function vd(a,b,c,d,f,g){if(na(c))for(var h=0;h<c.length;h++)vd(a,b,c[h],d,f,g);else{a:{d=d||a;g=g||a.ua||a;f=!!f;if(b=Mc(b,c,f))for(c=0;c<b.length;c++)if(!b[c].Lb&&b[c].lc==d&&b[c].capture==f&&b[c].Id==g){b=b[c];break a}b=k}b&&(b=b.key,Nc(b),Ra(a.H,b))}return a}function wd(a){x(a.H,Nc);a.H.length=0}sd.prototype.h=function(){sd.c.h.call(this);wd(this)};sd.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function xd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}xd.prototype.clone=function(){return new xd(this.top,this.right,this.bottom,this.left)};xd.prototype.contains=function(a){return!this||!a?l:a instanceof xd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function yd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}yd.prototype.clone=function(){return new yd(this.left,this.top,this.width,this.height)};yd.prototype.contains=function(a){return a instanceof yd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function S(a,b,c){r(b)?zd(a,c,b):Cb(b,xa(zd,a))}function zd(a,b,c){a.style[Ia(c)]=b}function Ad(a,b){var c=Ob(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Bd(a,b){return a.currentStyle?a.currentStyle[b]:k}function Cd(a,b){return Ad(a,b)||Bd(a,b)||a.style&&a.style[b]}function Dd(a,b,c){var d,f=gb&&(ab||ib)&&A("1.9");b instanceof Ab?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Ed(d,f);a.style.top=Ed(b,f)}
function Fd(a){return new Ab(a.offsetLeft,a.offsetTop)}function Gd(a){var b=a.getBoundingClientRect();y&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Hd(a){if(y&&!sb(8))return a.offsetParent;for(var b=Ob(a),c=Cd(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Cd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function Id(a){var b,c=Ob(a),d=Cd(a,"position"),f=gb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Ab(0,0),h;b=c?Ob(c):document;if(h=y)if(h=!sb(9))h="CSS1Compat"!=Mb(b).R.compatMode;h=h?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=Gd(a),a=ic(Mb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;
else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(z&&"fixed"==Cd(f,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(fb||z&&"absolute"==d)g.y-=c.body.offsetTop;for(f=a;(f=Hd(f))&&f!=c.body&&f!=h;)if(g.x-=f.scrollLeft,!fb||"TR"!=f.tagName)g.y-=f.scrollTop}return g}function Jd(a,b){var c,d=Id(a);b instanceof Ab&&(c=b.y,b=b.x);Dd(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Ed(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Kd(a,b){a.style.height=Ed(b,j)}function Ld(a,b){a.style.width=Ed(b,j)}function T(a){if("none"!=Cd(a,"display"))return Md(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Md(a);b.display=c;b.position=f;b.visibility=d;return a}
function Md(a){var b=a.offsetWidth,c=a.offsetHeight,d=z&&!b&&!c;return(!ha(b)||d)&&a.getBoundingClientRect?(a=Gd(a),new Bb(a.right-a.left,a.bottom-a.top)):new Bb(b,c)}function Nd(a){var b=Id(a),a=T(a);return new yd(b.x,b.y,a.width,a.height)}function Od(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function Q(a,b){a.style.display=b?"":"none"}function Pd(a){return"rtl"==Cd(a,"direction")}
var Qd=gb?"MozUserSelect":z?"WebkitUserSelect":k;function Rd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function Sd(a,b){if(y){var c=Rd(a,Bd(a,b+"Left")),d=Rd(a,Bd(a,b+"Right")),f=Rd(a,Bd(a,b+"Top")),g=Rd(a,Bd(a,b+"Bottom"));return new xd(f,d,g,c)}c=Ad(a,b+"Left");d=Ad(a,b+"Right");f=Ad(a,b+"Top");g=Ad(a,b+"Bottom");return new xd(parseFloat(f),parseFloat(d),parseFloat(g),parseFloat(c))}var Td={thin:2,medium:4,thick:6};function Ud(a,b){if("none"==Bd(a,b+"Style"))return 0;var c=Bd(a,b+"Width");return c in Td?Td[c]:Rd(a,c)}
function Vd(a){if(y){var b=Ud(a,"borderLeft"),c=Ud(a,"borderRight"),d=Ud(a,"borderTop"),a=Ud(a,"borderBottom");return new xd(d,c,a,b)}b=Ad(a,"borderLeftWidth");c=Ad(a,"borderRightWidth");d=Ad(a,"borderTopWidth");a=Ad(a,"borderBottomWidth");return new xd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function Wd(a,b,c){L.call(this);this.target=a;this.handle=b||a;this.Gg=c||new yd(NaN,NaN,NaN,NaN);this.R=Ob(a);this.l=new sd(this);M(this.handle,["touchstart","mousedown"],this.Ob,l,this)}v(Wd,Rc);var Xd=y||gb&&A("1.9.3");n=Wd.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.fh=0;n.gh=0;n.$b=0;n.ac=0;n.xe=j;n.Ab=l;n.Ge=0;n.ri=0;n.ni=l;n.hd=l;n.n=ca("l");n.jf=function(a){this.Ge=Math.pow(a,2)};n.dh=ba("Yd");n.Qa=ba("xe");
n.h=function(){Wd.c.h.call(this);Kc(this.handle,["touchstart","mousedown"],this.Ob,l,this);wd(this.l);Xd&&this.R.releaseCapture();this.l=this.handle=this.target=k};function Yd(a){ha(a.za)||(a.za=Pd(a.target));return a.za}
n.Ob=function(a){var b="mousedown"==a.type;if(this.xe&&!this.Ab&&(!b||Bc(a))){Zd(a);if(0==this.Ge)if(this.dispatchEvent(new $d("start",this,a.clientX,a.clientY,a)))this.Ab=j,a.preventDefault();else return;else a.preventDefault();var b=this.R,c=b.documentElement,d=!Xd;R(this.l,b,["touchmove","mousemove"],this.ki,d);R(this.l,b,["touchend","mouseup"],this.Bb,d);Xd?(c.setCapture(l),R(this.l,c,"losecapture",this.Bb)):R(this.l,b?b.parentWindow||b.defaultView:window,"blur",this.Bb);y&&this.ni&&R(this.l,
b,"dragstart",xc);this.Yd&&R(this.l,this.Yd,"scroll",this.Ug,d);this.clientX=this.fh=a.clientX;this.clientY=this.gh=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.hd?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Cd(a,"position")&&(c=Ob(a).documentElement),c?(gb?(d=Vd(c),b+=d.left):sb(8)&&(d=Vd(c),b-=d.left),a=Pd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.$b=a;this.ac=this.target.offsetTop;this.Ze=ic(Mb(this.R));this.ri=u()}else this.dispatchEvent("earlycancel")};
n.Bb=function(a,b){wd(this.l);Xd&&this.R.releaseCapture();if(this.Ab){Zd(a);this.Ab=l;var c=ae(this,this.$b),d=be(this,this.ac);this.dispatchEvent(new $d("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function Zd(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ia.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ia.changedTouches[0],a.currentTarget)}
n.ki=function(a){if(this.xe){Zd(a);var b=(this.hd&&Yd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Ab){var d=this.fh-this.clientX,f=this.gh-this.clientY;if(d*d+f*f>this.Ge)if(this.dispatchEvent(new $d("start",this,a.clientX,a.clientY,a)))this.Ab=j;else{this.xd||this.Bb(a);return}}c=ce(this,b,c);b=c.x;c=c.y;this.Ab&&this.dispatchEvent(new $d("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(de(this,a,b,c),a.preventDefault())}};function ce(a,b,c){var d=ic(Mb(a.R)),b=b+(d.x-a.Ze.x),c=c+(d.y-a.Ze.y);a.Ze=d;a.$b+=b;a.ac+=c;b=ae(a,a.$b);a=be(a,a.ac);return new Ab(b,a)}n.Ug=function(a){var b=ce(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;de(this,a,b.x,b.y)};function de(a,b,c,d){a.vd(c,d);a.dispatchEvent(new $d("drag",a,b.clientX,b.clientY,b,c,d))}
function ae(a,b){var c=a.Gg,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function be(a,b){var c=a.Gg,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}n.vd=function(a,b){this.hd&&Yd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function $d(a,b,c,d,f,g,h,m){wc.call(this,a);this.clientX=c;this.clientY=d;this.le=f;this.left=ha(g)?g:b.$b;this.top=ha(h)?h:b.ac;this.Lh=b;this.Jh=!!m}v($d,wc);function ee(){L.call(this);this.f=fe;this.Gc=this.startTime=k}v(ee,Rc);var fe=0;ee.prototype.ib=function(){this.ba("begin")};ee.prototype.jb=function(){this.ba("end")};ee.prototype.ba=function(a){this.dispatchEvent(a)};function ge(a,b,c){L.call(this);this.fb=a;this.G=b||0;this.ua=c;this.ne=t(this.Ec,this)}v(ge,L);n=ge.prototype;n.da=0;n.h=function(){ge.c.h.call(this);this.stop();delete this.fb;delete this.ua};n.start=function(a){this.stop();this.da=N(this.ne,ha(a)?a:this.G)};n.stop=function(){this.Hb()&&Tc.clearTimeout(this.da);this.da=0};n.ze=function(){this.stop();this.Ec()};n.Hb=function(){return 0!=this.da};n.Ec=function(){this.da=0;this.fb&&this.fb.call(this.ua)};var he;he=da(k);var ie={},je=k;function ke(a){a=sa(a);delete ie[a];Fb(ie)&&je&&je.stop()}function le(){je||(je=new ge(function(){var a=u();Cb(ie,function(c){me(c,a)});Fb(ie)||le()},20));var a=je;a.Hb()||a.start()};function ne(a,b,c,d){ee.call(this);(!na(a)||!na(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.$c=a;this.Nh=b;this.duration=c;this.Bf=d;this.coords=[];this.hd=l}v(ne,ee);n=ne.prototype;n.cg=0;n.la=0;n.Oe=k;
n.play=function(a){if(a||this.f==fe)this.la=0,this.coords=this.$c;else if(1==this.f)return l;ke(this);this.startTime=a=u();-1==this.f&&(this.startTime-=this.duration*this.la);this.Gc=this.startTime+this.duration;this.Oe=this.startTime;this.la||this.ib();this.ba("play");-1==this.f&&this.ba("resume");this.f=1;var b=sa(this);b in ie||(ie[b]=this);le();me(this,a);return j};n.stop=function(a){ke(this);this.f=fe;a&&(this.la=1);oe(this,this.la);this.ba("stop");this.jb()};n.Ed=ca("la");
n.h=function(){this.f==fe||this.stop(l);this.ba("destroy");ne.c.h.call(this)};function me(a,b){a.la=(b-a.startTime)/(a.Gc-a.startTime);1<=a.la&&(a.la=1);a.cg=1E3/(b-a.Oe);a.Oe=b;oe(a,a.la);1==a.la?(a.f=fe,ke(a),a.ba("finish"),a.jb()):1==a.f&&a.We()}function oe(a,b){qa(a.Bf)&&(b=a.Bf(b));a.coords=Array(a.$c.length);for(var c=0;c<a.$c.length;c++)a.coords[c]=(a.Nh[c]-a.$c[c])*b+a.$c[c]}n.We=function(){this.ba("animate")};n.ba=function(a){this.dispatchEvent(new pe(a,this))};
function pe(a,b){wc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.xk=b.coords[2];this.duration=b.duration;this.la=b.Ed();this.ck=b.cg;this.state=b.f;this.Pj=b}v(pe,wc);function qe(a,b,c,d,f){ne.call(this,b,c,d,f);this.element=a}v(qe,ne);n=qe.prototype;n.gd=ka;n.Ag=function(){ha(this.za)||(this.za=Pd(this.element));return this.za};n.We=function(){this.gd();qe.c.We.call(this)};n.jb=function(){this.gd();qe.c.jb.call(this)};n.ib=function(){this.gd();qe.c.ib.call(this)};function re(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));qe.apply(this,arguments)}v(re,qe);
re.prototype.gd=function(){if(this.hd){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=Pd(a)?gb?-b:!y||!A("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function se(a,b,c,d,f){pa(b)&&(b=[b]);pa(c)&&(c=[c]);qe.call(this,a,b,c,d,f);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}v(se,qe);se.prototype.gd=function(){Od(this.element,this.coords[0])};
se.prototype.show=function(){this.element.style.display=""};se.prototype.hide=function(){this.element.style.display="none"};function te(a,b,c){se.call(this,a,1,0,b,c)}v(te,se);te.prototype.ib=function(){this.show();te.c.ib.call(this)};te.prototype.jb=function(){this.hide();te.c.jb.call(this)};function ue(a,b,c){se.call(this,a,0,1,b,c)}v(ue,se);ue.prototype.ib=function(){this.show();ue.c.ib.call(this)};function ve(){}la(ve);ve.prototype.wi=0;ve.b();function U(a){L.call(this);this.zb=a||Mb();this.za=we}v(U,Rc);U.prototype.mi=ve.b();var we=k;function xe(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}n=U.prototype;n.da=k;n.O=l;n.d=k;n.za=k;n.o=k;n.C=k;n.P=k;n.aa=k;n.wh=l;
function ye(a){return a.da||(a.da=":"+(a.mi.wi++).toString(36))}n.a=ca("d");n.n=function(){return this.gc||(this.gc=new sd(this))};n.Zd=function(a){this==a&&e(Error("Unable to set parent component"));a&&(this.C&&this.da&&this.C.aa&&this.da&&Ib(this.C.aa,this.da)&&this.C!=a)&&e(Error("Unable to set parent component"));this.C=a;U.c.kf.call(this,a)};n.getParent=ca("C");n.kf=function(a){this.C&&this.C!=a&&e(Error("Method not supported"));U.c.kf.call(this,a)};n.ta=ca("zb");n.D=function(){this.d=this.zb.createElement("div")};
function ze(a,b){a.O&&e(Error("Component already rendered"));a.d||a.D();b?b.insertBefore(a.d,k):a.zb.R.body.appendChild(a.d);(!a.C||a.C.O)&&a.m()}n.g=function(a){this.O&&e(Error("Component already rendered"));if(a&&this.tb(a)){this.wh=j;if(!this.zb||this.zb.R!=Ob(a))this.zb=Mb(a);this.N(a);this.m()}else e(Error("Invalid element to decorate"))};n.tb=da(j);n.N=ba("d");n.m=function(){this.O=j;Ae(this,function(a){!a.O&&a.a()&&a.m()})};
n.Cb=function(){Ae(this,function(a){a.O&&a.Cb()});this.gc&&wd(this.gc);this.O=l};n.h=function(){U.c.h.call(this);this.O&&this.Cb();this.gc&&(this.gc.Q(),delete this.gc);Ae(this,function(a){a.Q()});!this.wh&&this.d&&Vb(this.d);this.C=this.o=this.d=this.aa=this.P=k};
function Be(a,b){var c=a.P?a.P.length:0;b.O&&!a.O&&e(Error("Component already rendered"));(0>c||c>(a.P?a.P.length:0))&&e(Error("Child component index out of bounds"));if(!a.aa||!a.P)a.aa={},a.P=[];if(b.getParent()==a){var d=ye(b);a.aa[d]=b;Ra(a.P,b)}else Hb(a.aa,ye(b),b);b.Zd(a);Va(a.P,c,0,b);b.O&&a.O&&b.getParent()==a?(d=a.Eb(),d.insertBefore(b.a(),d.childNodes[c]||k)):a.O&&(!b.O&&b.d&&b.d.parentNode)&&b.m()}n.Eb=ca("d");n.Ag=function(){this.za==k&&(this.za=Pd(this.O?this.d:this.zb.R.body));return this.za};
n.Nb=function(a){this.O&&e(Error("Component already rendered"));this.za=a};function Ae(a,b){a.P&&x(a.P,b,i)}n.removeChild=function(a,b){if(a){var c=r(a)?a:ye(a),a=this.aa&&c?Ib(this.aa,c)||k:k;c&&a&&(Gb(this.aa,c),Ra(this.P,a),b&&(a.Cb(),a.d&&Vb(a.d)),a.Zd(k))}a||e(Error("Child is not in parent component"));return a};function Ce(a,b,c,d,f){if(!y&&(!z||!A("525")))return j;if(ab&&f)return De(a);if(f&&!d||!c&&(17==b||18==b)||y&&d&&b==a)return l;switch(a){case 13:return!(y&&sb(9));case 27:return!z}return De(a)}function De(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||z&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Ee(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Fe(){}var Ge;la(Fe);n=Fe.prototype;n.fc=aa();n.D=function(a){var b=a.ta().D("div",He(this,a).join(" "),a.Fa);Ie(this,a,b);return b};n.Eb=function(a){return a};n.Fc=function(a,b,c){if(a=a.a?a.a():a)if(y&&!A("7")){var d=Je(yb(a),b);d.push(b);xa(c?B:D,a).apply(k,d)}else F(a,b,c)};n.tb=da(j);
n.g=function(a,b){if(b.id){var c=b.id;a.C&&a.C.aa&&(Gb(a.C.aa,a.da),Hb(a.C.aa,c,a));a.da=c}(c=this.Eb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Ta(c.childNodes):c.firstChild,a.Fa=c):a.Fa=k;var d=0,f=this.V(),g=this.V(),h=l,m=l,c=l,q=yb(b);x(q,function(a){if(!h&&a==f)h=j,g==f&&(m=j);else if(!m&&a==g)m=j;else{var b=d;if(!this.hh){this.pd||Ke(this);var c=this.pd,q={},s;for(s in c)q[c[s]]=s;this.hh=q}a=parseInt(this.hh[a],10);d=b|(isNaN(a)?0:a)}},this);a.f=d;h||(q.push(f),g==f&&(m=j));m||q.push(g);
var s=a.sa;s&&q.push.apply(q,s);if(y&&!A("7")){var w=Je(q);0<w.length&&(q.push.apply(q,w),c=j)}if(!h||!m||s||c)b.className=q.join(" ");Ie(this,a,b);return b};n.ug=function(a){a.Ag()&&this.Nb(a.a(),j);a.isEnabled()&&this.rc(a,a.qb)};function Ie(a,b,c){b.isEnabled()||a.Ca(c,1,j);b.f&8&&a.Ca(c,8,j);b.U&16&&a.Ca(c,16,Le(b));b.U&64&&a.Ca(c,64,!!(b.f&64))}
n.qc=function(a,b){var c=!b,d=y||fb?a.getElementsByTagName("*"):k;if(Qd){if(c=c?"none":"",a.style[Qd]=c,d)for(var f=0,g;g=d[f];f++)g.style[Qd]=c}else if(y||fb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;g=d[f];f++)g.setAttribute("unselectable",c)};n.Nb=function(a,b){this.Fc(a,this.V()+"-rtl",b)};n.Le=function(a){var b;return a.U&32&&(b=a.ab())?dc(b):l};
n.rc=function(a,b){var c;if(a.U&32&&(c=a.ab())){if(!b&&a.Kd()){try{c.blur()}catch(d){}a.Kd()&&a.fg()}dc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};n.nf=function(a,b){Q(a,b)};n.Y=function(a,b,c){var d=a.a();if(d){var f=Me(this,b);f&&this.Fc(a,f,c);this.Ca(d,b,c)}};n.Ca=function(a,b,c){Ge||(Ge={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Ge[b])&&a.setAttribute("aria-"+b,c)};
n.Mb=function(a,b){var c=this.Eb(a);if(c&&(Ub(c),b))if(r(b))ac(c,b);else{var d=function(a){if(a){var b=Ob(c);c.appendChild(r(a)?b.createTextNode(a):a)}};na(b)?x(b,d):oa(b)&&!("nodeType"in b)?x(Ta(b),d):d(b)}};n.ab=function(a){return a.a()};n.V=da("goog-control");function He(a,b){var c=a.V(),d=[c],f=a.V();f!=c&&d.push(f);c=b.f;for(f=[];c;){var g=c&-c;f.push(Me(a,g));c&=~g}d.push.apply(d,f);(c=b.sa)&&d.push.apply(d,c);y&&!A("7")&&d.push.apply(d,Je(d));return d}
function Je(a,b){var c=[];b&&(a=a.concat([b]));x([],function(d){Na(d,xa(Qa,a))&&(!b||Qa(d,b))&&c.push(d.join("_"))});return c}function Me(a,b){a.pd||Ke(a);return a.pd[b]}function Ke(a){var b=a.V();a.pd={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Ne(){}v(Ne,Fe);la(Ne);n=Ne.prototype;n.fc=da("button");n.Ca=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Ne.c.Ca.call(this,a,b,c)};n.D=function(a){var b=Ne.c.D.call(this,a),c=a.Hc();c&&this.mf(b,c);(c=a.T())&&this.kb(b,c);a.U&16&&this.Ca(b,16,Le(a));return b};n.g=function(a,b){var b=Ne.c.g.call(this,a,b),c=this.T(b);a.Af=c;a.vf=this.Hc(b);a.U&16&&this.Ca(b,16,Le(a));return b};n.T=ka;n.kb=ka;n.Hc=function(a){return a.title};n.mf=function(a,b){a&&(a.title=b||"")};n.V=da("goog-button");function Oe(a,b){L.call(this);a&&Pe(this,a,b)}v(Oe,Rc);n=Oe.prototype;n.d=k;n.Ld=k;n.Me=k;n.Md=k;n.eb=-1;n.cb=-1;n.je=l;
var Qe={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Re={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Se=y||z&&A("525"),Te=ab&&gb;n=Oe.prototype;
n.hi=function(a){if(z&&(17==this.eb&&!a.ctrlKey||18==this.eb&&!a.altKey))this.cb=this.eb=-1;Se&&!Ce(a.keyCode,this.eb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.cb=gb?Ee(a.keyCode):a.keyCode,Te&&(this.je=a.altKey))};n.ji=function(a){this.cb=this.eb=-1;this.je=a.altKey};
n.handleEvent=function(a){var b=a.ia,c,d,f=b.altKey;y&&"keypress"==a.type?(c=this.cb,d=13!=c&&27!=c?b.keyCode:0):z&&"keypress"==a.type?(c=this.cb,d=0<=b.charCode&&63232>b.charCode&&De(c)?b.charCode:0):fb?(c=this.cb,d=De(c)?b.keyCode:0):(c=b.keyCode||this.cb,d=b.charCode||0,Te&&(f=this.je),ab&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Qe?g=Qe[c]:25==c&&a.shiftKey&&(g=9):h&&h in Re&&(g=Re[h]);a=g==this.eb;this.eb=g;b=new Ue(g,d,a,b);b.altKey=f;this.dispatchEvent(b)};n.a=ca("d");
function Pe(a,b,c){a.Md&&a.detach();a.d=b;a.Ld=M(a.d,"keypress",a,c);a.Me=M(a.d,"keydown",a.hi,c,a);a.Md=M(a.d,"keyup",a.ji,c,a)}n.detach=function(){this.Ld&&(Nc(this.Ld),Nc(this.Me),Nc(this.Md),this.Md=this.Me=this.Ld=k);this.d=k;this.cb=this.eb=-1};n.h=function(){Oe.c.h.call(this);this.detach()};function Ue(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}v(Ue,zc);function Ve(a,b){a||e(Error("Invalid class name "+a));qa(b)||e(Error("Invalid decorator function "+b))}var We={};function Xe(a,b,c){U.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=sa(b);if(d=We[d])break;b=b.c?b.c.constructor:k}b=d?qa(d.b)?d.b():new d:k}this.w=b;this.Fa=a}v(Xe,U);n=Xe.prototype;n.Fa=k;n.f=0;n.U=39;n.La=255;n.fj=0;n.qb=j;n.sa=k;n.Fe=j;n.nd=l;n.Xg=k;function Ye(a){a.O&&l!=a.Fe&&Ze(a,l);a.Fe=l}n.ab=function(){return this.w.ab(this)};
n.Fc=function(a,b){b?a&&(this.sa?Qa(this.sa,a)||this.sa.push(a):this.sa=[a],this.w.Fc(this,a,j)):a&&this.sa&&(Ra(this.sa,a),0==this.sa.length&&(this.sa=k),this.w.Fc(this,a,l))};n.D=function(){var a=this.w.D(this);this.d=a;var b=this.Xg||this.w.fc();b&&a.setAttribute("role",b);this.nd||this.w.qc(a,l);this.qb||this.w.nf(a,l)};n.Eb=function(){return this.w.Eb(this.a())};n.tb=function(a){return this.w.tb(a)};
n.N=function(a){this.d=a=this.w.g(this,a);var b=this.Xg||this.w.fc();b&&a.setAttribute("role",b);this.nd||this.w.qc(a,l);this.qb="none"!=a.style.display};n.m=function(){Xe.c.m.call(this);this.w.ug(this);if(this.U&-2&&(this.Fe&&Ze(this,j),this.U&32)){var a=this.ab();if(a){var b=this.kc||(this.kc=new Oe);Pe(b,a);R(R(R(this.n(),b,"key",this.ii),a,"focus",this.fi),a,"blur",this.fg)}}};
function Ze(a,b){var c=a.n(),d=a.a();b?(R(R(R(R(c,d,"mouseover",a.lg),d,"mousedown",a.jg),d,"mouseup",a.mg),d,"mouseout",a.kg),a.Hd!=ka&&R(c,d,"contextmenu",a.Hd),y&&R(c,d,"dblclick",a.gg)):(vd(vd(vd(vd(c,d,"mouseover",a.lg),d,"mousedown",a.jg),d,"mouseup",a.mg),d,"mouseout",a.kg),a.Hd!=ka&&vd(c,d,"contextmenu",a.Hd),y&&vd(c,d,"dblclick",a.gg))}n.Cb=function(){Xe.c.Cb.call(this);this.kc&&this.kc.detach();this.qb&&this.isEnabled()&&this.w.rc(this,l)};
n.h=function(){Xe.c.h.call(this);this.kc&&(this.kc.Q(),delete this.kc);delete this.w;this.sa=this.Fa=k};n.Mb=function(a){this.w.Mb(this.a(),a);this.Fa=a};n.dg=function(){var a=this.Fa;return!a?"":(r(a)?a:na(a)?Ma(a,gc).join(""):ec(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};n.Nb=function(a){Xe.c.Nb.call(this,a);var b=this.a();b&&this.w.Nb(b,a)};n.qc=function(a){this.nd=a;var b=this.a();b&&this.w.qc(b,a)};
n.nf=function(a,b){if(b||this.qb!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.a();c&&this.w.nf(c,a);this.isEnabled()&&this.w.rc(this,a);this.qb=a;return j}return l};n.isEnabled=function(){return!(this.f&1)};n.Qa=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&$e(this,1,!a))a||(this.setActive(l),af(this,l)),this.qb&&this.w.rc(this,a),this.Y(1,!a)};function af(a,b){$e(a,2,b)&&a.Y(2,b)}n.Hb=function(){return!!(this.f&4)};
n.setActive=function(a){$e(this,4,a)&&this.Y(4,a)};function Le(a){return!!(a.f&16)}function bf(a,b){$e(a,16,b)&&a.Y(16,b)}n.Kd=function(){return!!(this.f&32)};n.sc=function(a){$e(this,32,a)&&this.Y(32,a)};n.Y=function(a,b){this.U&a&&b!=!!(this.f&a)&&(this.w.Y(this,a,b),this.f=b?this.f|a:this.f&~a)};function cf(a,b,c){a.O&&(a.f&b&&!c)&&e(Error("Component already rendered"));!c&&a.f&b&&a.Y(b,l);a.U=c?a.U|b:a.U&~b}function df(a,b){return!!(a.La&b)&&!!(a.U&b)}
function $e(a,b,c){return!!(a.U&b)&&!!(a.f&b)!=c&&(!(a.fj&b)||a.dispatchEvent(xe(b,c)))&&!a.xd}n.lg=function(a){(!a.relatedTarget||!$b(this.a(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&df(this,2))&&af(this,j)};n.kg=function(a){if((!a.relatedTarget||!$b(this.a(),a.relatedTarget))&&this.dispatchEvent("leave"))df(this,4)&&this.setActive(l),df(this,2)&&af(this,l)};n.Hd=ka;
n.jg=function(a){this.isEnabled()&&(df(this,2)&&af(this,j),Bc(a)&&(df(this,4)&&this.setActive(j),this.w.Le(this)&&this.ab().focus()));!this.nd&&Bc(a)&&a.preventDefault()};n.mg=function(a){this.isEnabled()&&(df(this,2)&&af(this,j),this.Hb()&&(this.Rc(a)&&df(this,4))&&this.setActive(l))};n.gg=function(a){this.isEnabled()&&this.Rc(a)};
n.Rc=function(a){df(this,16)&&bf(this,!Le(this));df(this,8)&&$e(this,8,j)&&this.Y(8,j);if(df(this,64)){var b=!(this.f&64);$e(this,64,b)&&this.Y(64,b)}b=new wc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.$e=a.$e);return this.dispatchEvent(b)};n.fi=function(){df(this,32)&&this.sc(j)};n.fg=function(){df(this,4)&&this.setActive(l);df(this,32)&&this.sc(l)};
n.ii=function(a){return this.qb&&this.isEnabled()&&this.Ee(a)?(a.preventDefault(),a.stopPropagation(),j):l};n.Ee=function(a){return 13==a.keyCode&&this.Rc(a)};qa(Xe)||e(Error("Invalid component class "+Xe));qa(Fe)||e(Error("Invalid renderer class "+Fe));var ef=sa(Xe);We[ef]=Fe;Ve("goog-control",function(){return new Xe(k)});function ff(){}v(ff,Ne);la(ff);n=ff.prototype;n.fc=aa();n.D=function(a){Ye(a);a.La&=-256;cf(a,32,l);return a.ta().D("button",{"class":He(this,a).join(" "),disabled:!a.isEnabled(),title:a.Hc()||"",value:a.T()||""},a.dg()||"")};n.tb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};n.g=function(a,b){Ye(a);a.La&=-256;cf(a,32,l);b.disabled&&B(b,Me(this,1));return ff.c.g.call(this,a,b)};n.ug=function(a){R(a.n(),a.a(),"click",a.Rc)};n.qc=ka;
n.Nb=ka;n.Le=function(a){return a.isEnabled()};n.rc=ka;n.Y=function(a,b,c){ff.c.Y.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};n.T=function(a){return a.value};n.kb=function(a,b){a&&(a.value=b)};n.Ca=ka;function gf(a,b,c){Xe.call(this,a,b||ff.b(),c)}v(gf,Xe);n=gf.prototype;n.T=ca("Af");n.kb=function(a){this.Af=a;this.w.kb(this.a(),a)};n.Hc=ca("vf");n.mf=function(a){this.vf=a;this.w.mf(this.a(),a)};n.h=function(){gf.c.h.call(this);delete this.Af;delete this.vf};n.m=function(){gf.c.m.call(this);if(this.U&32){var a=this.ab();a&&R(this.n(),a,"keyup",this.Ee)}};n.Ee=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Rc(a):32==a.keyCode};Ve("goog-button",function(){return new gf(k)});function hf(){}v(hf,Ne);la(hf);n=hf.prototype;n.D=function(a){var b={"class":"goog-inline-block "+He(this,a).join(" "),title:a.Hc()||""},b=a.ta().D("div",b,jf(this,a.Fa,a.ta()));Ie(this,a,b);return b};n.fc=da("button");n.Eb=function(a){return a&&a.firstChild.firstChild};function jf(a,b,c){return c.D("div","goog-inline-block "+(a.V()+"-outer-box"),c.D("div","goog-inline-block "+(a.V()+"-inner-box"),b))}n.tb=function(a){return"DIV"==a.tagName};
n.g=function(a,b){kf(b,j);kf(b,l);var c;a:{c=jc(a.ta(),b);var d=this.V()+"-outer-box";if(c&&E(c,d)&&(c=jc(a.ta(),c),d=this.V()+"-inner-box",c&&E(c,d))){c=j;break a}c=l}c||b.appendChild(jf(this,b.childNodes,a.ta()));B(b,"goog-inline-block",this.V());return hf.c.g.call(this,a,b)};n.V=da("goog-custom-button");
function kf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==Aa(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function lf(a,b,c){gf.call(this,a,b||hf.b(),c)}v(lf,gf);Ve("goog-custom-button",function(){return new lf(k)});function mf(){U.call(this);this.Va=3;this.G=10;this.cd=60*this.Va*this.G;this.qe=[];this.pe={};this.ea=nf();this.hc=0;this.ah=l;this.Zb=[V.b().A,V.b().A.v()]}v(mf,U);n=mf.prototype;
n.m=function(){mf.c.m.call(this);this.bd=G("ticker");this.Pd=G("my-ticker");var a=G("go-live");this.qg=G("header");this.M=G("channels");this.rg=3;this.Da=I().width*this.rg;this.Dc=T(G("controller")).height;P.b().subscribe($c,function(a){this.uf(a)},this);P.b().subscribe(Zc,function(){this.$()},this);this.Ra=new hd;for(var b=60;b>=this.Ra.getMinutes();)b-=this.G;this.Ra.setMinutes(b);this.L=this.Ra.clone();this.L.add(new id(0,0,0,0,2*-this.G));this.Ig=this.L.clone();this.Ig.add(new id(0,0,0,0,this.G*
(this.Va+1)));of(this,this.Va,this.L);Ld(this.a(),this.Da);var c=2/this.Va*this.Da-200;Dd(this.a(),-1*c);this.fa=(this.Da-200)/this.cd;this.nj=this.Da/this.Va;this.ub=document.createElement("style");this.ub.id="channel-name-offs";this.ub.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.ub);this.ub.innerHTML="div#guide div.channels div.channel div.name{left:"+c+"px !important}";this.k=new Wd(this.a());var d=this.ub,f=this.a();this.k.vd=function(a){0>a&&a>-T(f).width+I().width&&
(this.target.style.left=a+"px",d.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}")};x(V.b().Xb,t(function(a){var b=new pf(a,this.cd,this.Ra,c,this.L);ze(b,this.M);a.id==V.b().A.id&&(B(b.a(),"current"),this.Ga=b);this.hb=a.Ib?a:this.hb;this.qe.push(b);this.pe[a.id]=b},this));var b=G("now-left"),g=G("now-right");R(R(R(R(R(R(R(R(R(R(this.n(),Wc.b().re,Uc,t(function(){var a=V.b().A&&V.b().A.v(),b=W.b().v(),c=1E3*W.b().Ed(),d=Math.round((u()-this.L.getTime())/1E3*this.fa),
c=b&&c?Math.round((b.time.getTime()+c-this.L.getTime())/1E3*this.fa):d;qf(this);if(d+I().width>this.Da-(P.b().Xc?300:0))Math.ceil(this.Va/this.rg),of(this,1,this.Ig),this.Da+=this.nj,Ld(this.a(),this.Da),this.Va++,this.cd=60*this.Va*this.G;Dd(this.bd,d);Dd(this.Pd,c);Q(this.bd,!!a);Q(this.Pd,!!b);F(this.bd,"go-live",40<Math.abs(c-d));F(this.bd,"can-go-live",15<Math.abs(c-d));F(this.Pd,"show",15<Math.abs(c-d));F(this.Pd,"show-me",15<Math.abs(c-d));this.$()},this)),a,"click",t(function(){V.b().e(rf,
this.Ga.o);P.b().e(ad,j)},this)),window,"resize",t(this.$,this)),this.M,"scroll",t(this.$,this,i,i,j)),this.bd,"click",t(this.$,this,j,i,l)),b,"click",t(this.Bi,this)),g,"click",t(this.Ii,this)),this.k,"beforedrag",t(function(){B(this.a(),"drag")},this)),this.k,"end",t(function(){D(this.a(),"drag");this.sb=l;qf(this)},this)),this.qg,"mousewheel",t(function(a){a.preventDefault();a.stopPropagation();a=a.ia;B(this.a(),"drag");a=Fd(this.a()).x+(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0);0>a&&a>-1*
this.Da+I().width&&(Dd(this.a(),a),this.Ga.update(),this.ub.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}");D(this.a(),"drag");this.sb=l;qf(this)},this));V.b().subscribe(rf,this.Bc,this);V.b().subscribe(sf,t(this.$,this,j));P.b().subscribe("toggle-admin",function(a){F(this.a(),"admin",a)},this);W.b().subscribe(tf,this.af,this);uf(this);this.$(j);this.ea&&R(this.n(),this.k,"beforedrag",t(function(a){a.le.shiftKey&&a.preventDefault()},this))};
n.uf=function(a){var b=Math.min(this.M.scrollHeight,210);F(this.a(),"toggled",a);Kd(this.a(),a?b+this.Dc+19:this.Dc);N(t(function(){Kd(this.M,a?b:40);F(this.a(),"collapsed",!a);uf(this);this.M.scrollTop=Fd(this.Ga.a()).y},this),a?0:800);this.$(j,i,l);a&&uf(this);this.k&&this.k.Qa(a)};
function of(a,b,c){for(var d=H("times",a.a()),f=0;f<=b;f++){var g=c.clone();g.add(new id(0,0,0,0,a.G*f));var h=Sb,m={"class":"time",style:"width:"+(a.Da-200)/a.Va+"px"},q=i,s=g.getHours();ha(q)||(q=j);var w=12==s;12<s&&(s-=12,w=j);0==s&&q&&(s=12);s=String(s);s+=":"+Ha(g.getMinutes());q&&(g=ya("am"),q=ya("pm"),s+=w?q:g);h=h("div",m,s);d.appendChild(h)}}n.Bc=function(a){D(this.Ga.a(),"current");this.Ga=this.pe[a.id];B(this.Ga.a(),"current");this.Zb[0]=a;this.$(j,i,l)};
n.af=function(a){if(!this.hb){var b=X.b().Ma;this.hb=new vf({id:b.id,name:b.name.split(" ")[0]+"'s Channel"});V.b().Ib=this.hb;b=new pf(this.hb,this.cd,this.Ra,0,this.L);ze(b,this.M);this.qe.push(b);this.pe[this.hb.id]=b}b=new wf(i,a);this.hb.e(xf,b);uf(this);V.b().e(rf,this.hb);Y("/_addprogram",he(),"POST","channel_id="+V.b().Ib.id+"&media_id="+a.id)};
function qf(a){var b=G("now-left"),c=G("now-right"),d=(u()-a.L.getTime())/1E3*a.fa,f=I().width-(P.b().Xc?300:0);c.style.right=P.b().Xc?"300px":0;F(c,"now",!!(-d<Fd(a.a()).x-f));F(b,"now",!!(-d>Fd(a.a()).x+200));Q(c,a.Zb[0].xb+(a.hc||0)+1<a.Zb[0].xa.length);Q(b,0<=a.Zb[0].xb+(a.hc||0)-1)}n.Bi=function(){E(G("now-left"),"now")?this.$(j):this.$(l,-1)};n.Ii=function(){E(G("now-right"),"now")?this.$(j):this.$(l,1)};
n.$=function(a,b,c){this.sb=a!=i?!!a:this.sb;this.ah=a!=i?!!c:this.sb;this.hc=this.sb?0:b?this.hc+b:this.hc;c=this.sb?W.b().v():this.Zb[0].v(this.hc);this.Zb[1]=c;if((this.sb||b)&&c){var a=(u()-this.L.getTime())/1E3*this.fa,c=-(c.time.getTime()-this.L.getTime())/1E3*this.fa+5,d=I().width-(P.b().Xc?300:0);!b&&a>-c+d-300&&(c=-a+d-350);c=Math.max(c,-T(this.a()).width+d);Dd(this.a(),Math.min(c,-200));this.ub.innerHTML="div#guide div.channels div.channel div.name{left:"+-c+"px !important}";if(!this.ah){var f=
Fd(this.Ga.a()).y-T(this.qg).height,g=new re(this.M,[this.M.scrollLeft,this.M.scrollTop],[this.M.scrollLeft,f],100*this.qe.length);R(this.n(),g,"end",t(function(){N(t(function(){this.M.scrollTop=f},this))},this));N(t(function(){g.play()},this),100)}}b&&qf(this)};function uf(a){var b=Math.min(a.M.scrollHeight,210);Kd(a.M,E(a.a(),"toggled")?b:a.Dc);Kd(a.a(),E(a.a(),"collapsed")?a.Dc:b+a.Dc+19)};function yf(a){return'\t<div class="channel"><div class="programs-container"><div class="programs"></div><div class="suggest"><div class="spinner">...</div><div class="select-program"><div class="select-header">SUGGEST PROGRAM <div class="close"></div></div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="Paste YouTube link"/><div class="page2"></div></div></div></div></div></div><div class="graph"></div><div class="viewers"></div><div class="name"><div class="text">'+
K(a.name)+'</div><div class="suggest-program"><div class="add-program button dark">+</div></div></div></div>'}function zf(a){return'<div class="info"><div class="thumb'+(a.repeat?" repeat":"")+'" style="background-image:url('+K(a.df.media.Ua)+"); background-position: 50% "+K(a.df.media.uc)+'%"></div><div class="progress"></div><div class="title">'+K(a.df.media.name)+"</div>"+(a.he?'<div class="remove"></div><div class="repos"></div>':"")+"</div>"}
function Af(a){return'<div class="line"><div class="pic"><img src="'+K(a.r.X)+'"></div></div>'}function Bf(a){return'<div class="confirm-media"><div class="thumb" style="background-image:url('+K(a.jj)+')"></div><div class="title">'+K(a.title)+'</div><div class="added">ADDED</div><div class="dark button">ADD</div></div>'};function Cf(a){this.id=a.id;this.X=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Df(a){O.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.ic=a.host_id;this.duration=a.duration;this.description=a.description;this.ya=new Cf(a.publisher);this.Kb=gd(a.published+"Z");this.Ua="http://i.ytimg.com/vi/"+this.ic+"/0.jpg";this.mk="http://i.ytimg.com/vi/"+this.ic+"/1.jpg";this.nk="http://i.ytimg.com/vi/"+this.ic+"/2.jpg";this.ok="http://i.ytimg.com/vi/"+this.ic+"/3.jpg";this.sf=new Bb(480,360);this.uc=a.thumb_pos||37;this.Gh=[];this.Fh=a.collection_id;this.subscribe(Ef,
this.Ah,this)}v(Df,O);function Ff(a){return a.Kb.getMonth()+1+"/"+a.Kb.getDate()+"/"+a.Kb.getYear()}var Ef="add-comment";Df.prototype.Ah=function(a){this.Gh.push(a)};function Gf(){O.call(this);this.Lg={}}v(Gf,O);la(Gf);function Hf(a,b){var c=a.get(b.id);c||(c=new Df(b),a.add(c));return c}Gf.prototype.get=function(a){return Ib(this.Lg,a)};Gf.prototype.add=function(a){this.Lg[a.id]=a};function wf(a,b){O.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?new Df(d.media):c;Gf.b().add(this.media);this.time=d?gd(d.time+"Z"):new hd}v(wf,O);function If(a){O.call(this);this.id=a.id;this.name=a.name;this.X=za("https://graph.facebook.com/%s/picture",this.id);this.color=Raphael.getColor();this.Cf=a.access_level;this.Oj=[]}v(If,O);function nf(){return X.b().Ma.Cf==Jf}var Jf=2;function Kf(a,b,c,d,f){this.id=a;this.r=b;this.Xa=c;this.oh=d;this.be=f||k};function vf(a){O.call(this);this.id=a.id;this.name=a.name;this.Ib=a.my_channel;this.xa=[];this.Sc={};this.Ha=a.current_program&&new wf(a.current_program);this.de=[];this.subscribe(xf,this.Ub,this);this.subscribe(Lf,this.kd,this);this.subscribe(Mf,this.yf,this)}v(vf,O);vf.prototype.Ub=function(a){this.xa.push(a);this.Sc[a.id]=a};vf.prototype.kd=function(a){this.de.push(a)};vf.prototype.yf=function(a){var b=Ib(this.Sc,a.id);b&&(b.time=gd(a.time+"Z"))};
vf.prototype.v=function(a){if(!this.xa.length)return k;var b=this.Ha;b||(b=this.xa[0],this.xb=0);if(a)return this.xa[this.xb+a];if(u()>=b.time.getTime()&&u()<b.time.getTime()+1E3*b.media.duration)return this.Ha=b;for(;u()>b.time.getTime()&&u()>=b.time.getTime()+1E3*b.media.duration;){this.Ha||(this.Ha=this.xa[0],this.xb=0);this.xa.length>=this.xb+1?(this.xb++,a=this.Ha=this.xa[this.xb]):a=k;if(!a)break;b=a}return u()>=b.time.getTime()&&u()<b.time.getTime()+1E3*b.media.duration?this.Ha=b:k};
var xf="add-program",Lf="add-viewer",Mf="update-program";function Nf(){L.call(this);this.S=[];this.ec=[];this.zd={};this.l=new sd(this);this.oi=this.zg=l;this.zf=j}v(Nf,Rc);n=Nf.prototype;n.He=0;n.jf=ba("He");
n.init=function(){if(!this.zg){for(var a=0,b=this.S.length;a<b;a++)for(var c=Wb(this.S[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,m=sa(h);this.zd[m]=g;this.Wf&&(R(this.l,g,"mouseover",this.bi),R(this.l,g,"mouseout",this.ai));this.Vf&&(R(this.l,h,"mouseover",this.$h),R(this.l,h,"mouseout",this.Zh));this.ec.push(g);R(this.l,h,["mousedown","touchstart"],this.ng)}this.zg=j}};
n.h=function(){this.l.Q();for(var a=0,b=this.S.length;a<b;a++){var c=this.S[a];c.Uf=i;c.yb=i}this.S.length=0;this.ec.length=0;this.zd=k;Of(this);Nf.c.h.call(this)};function Pf(a,b){for(var c=0,d=a.S.length;c<d;c++){var f=a.S[c];f.cc=Nd(f)}c=0;for(d=a.ec.length;c<d;c++)f=a.ec[c],f!=b&&(f.cc=Nd(f))}
n.ng=function(a){var b=sa(a.currentTarget);this.i=this.zd[b];this.q=this.rd(this.i);this.Ad&&B(this.q,this.Ad);this.q.style.margin="0";this.q.style.position="absolute";this.q.style.visibility="hidden";Ob(this.i).body.appendChild(this.q);b=Id(this.i);Jd(this.q,b);this.k=new Wd(this.q);this.k.jf(this.He);M(this.k,"start",this.ig,l,this);M(this.k,"end",this.hg,l,this);M(this.k,"earlycancel",this.qd,l,this);this.k.Ob(a)};
n.ig=function(a){if(this.dispatchEvent(new Qf("beforedragstart",this,a.le,this.i,k,k))){this.Sd=this.i.parentNode;this.Sf=this.Ye=Xb(this.i);this.ve=this.Sd;this.ue?B.apply(k,Sa(this.i,this.ue)):this.i.style.visibility="hidden";var b=T(this.q);this.q.Wh=b.width/2;this.q.Vh=b.height/2;this.q.style.visibility="";this.zf&&(this.i.style.display="none");Pf(this,this.i);this.i.style.display="";M(this.k,"drag",this.ci,l,this);this.dispatchEvent(new Qf("dragstart",this,a.le,this.i,this.q,this.k))}else a.preventDefault(),
this.qd()};
n.ci=function(a){var b=Id(this.q),b=new Ab(b.x+this.q.Wh,b.y+this.q.Vh),c;a:{c=k;if("none"!=this.i.style.display){c=this.i.parentNode;var d=Nd(c);if(Rf(b,d))break a}for(var d=0,f=this.S.length;d<f;d++){var g=this.S[d];if(g!=c&&Rf(b,g.cc)){c=g;break a}}c=k}var h;if(c){c==k&&e(Error("getHoverNextItem_ called with null hoverList."));var m,q,d=l,f=i;switch(c.Uf){case 0:h=b.y;m=Sf;q=Tf;break;case 4:d=j;case 2:h=b.x;m=Uf;q=Tf;break;case 5:d=j;case 3:h=b.x,m=Vf,q=Wf}for(var g=k,s,w=Wb(c),C=0,ja=w.length;C<
ja;C++){var ea=w[C];if(ea!=this.i){var Lb=m(ea.cc);if(d){var Lc=Xf(ea,b);ha(f)||(f=Lc);if(q(h,Lb)&&(s==i||Lc<f||Lc==f&&(q(Lb,s)||Lb==s)))g=ea,s=Lb;Lc<f&&(f=Lc)}else if(q(h,Lb)&&(s==i||q(Lb,s)))g=ea,s=Lb}}h=g!==k&&Xf(g,b)>f?k:g}else h=k;if(!this.dispatchEvent(new Qf("beforedragmove",this,a,this.i,this.q,this.k,b,c,h)))return l;if(c)this.zf?(this.i.parentNode!=c||Xb(this.i)!=h)&&c.insertBefore(this.i,h):h&&(this.Sf=h),this.i.style.display="",c.yb&&B(c,c.yb);else{this.oi||(this.i.style.display="none");
m=0;for(q=this.S.length;m<q;m++)s=this.S[m],s.yb&&D(s,s.yb)}c!=this.ve&&(this.ve=c,Pf(this,this.i));this.dispatchEvent(new Qf("dragmove",this,a,this.i,this.q,this.k,b,c,h));return l};n.qd=function(){Of(this);this.k=this.q=this.Ye=this.Sd=this.ve=this.i=k;for(var a=0,b=this.S.length;a<b;a++)this.S[a].cc=k;a=0;for(b=this.ec.length;a<b;a++)this.ec[a].cc=k};
n.hg=function(a){if(!this.dispatchEvent(new Qf("beforedragend",this,a,this.i,this.q,this.k)))return l;this.zf||this.Sd.insertBefore(this.i,this.Sf);Of(this);this.dispatchEvent(new Qf("dragend",this,a,this.i,this.q,this.k));this.qd();return j};function Of(a){sc(a.k);a.q&&Vb(a.q);a.i&&"none"==a.i.style.display&&(a.Sd.insertBefore(a.i,a.Ye),a.i.style.display="");a.ue&&a.i?D.apply(k,Sa(a.i,a.ue)):a.i&&(a.i.style.visibility="visible");for(var b=0,c=a.S.length;b<c;b++){var d=a.S[b];d.yb&&D(d,d.yb)}}
n.bi=function(a){B.apply(k,Sa(a.currentTarget,this.Wf))};n.ai=function(a){D.apply(k,Sa(a.currentTarget,this.Wf))};n.$h=function(a){B.apply(k,Sa(a.currentTarget,this.Vf))};n.Zh=function(a){D.apply(k,Sa(a.currentTarget,this.Vf))};function Rf(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Xf(a,b){var c=a.cc;return Math.abs(b.y-(c.top+(c.height-1)/2))}function Sf(a){return a.top+a.height-1}function Uf(a){return a.left+a.width-1}function Vf(a){return a.left||0}
function Tf(a,b){return a<b}function Wf(a,b){return a>b}n.rd=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return Sb("table",k,Sb("tbody",k,b));case "td":case "th":return Sb("table",k,Sb("tbody",k,Sb("tr",k,b)));default:return b}};function Qf(a,b,c,d,f,g,h,m,q){wc.call(this,a);this.Vj=b;this.event=c;this.pa=d;this.Mh=f;this.Lh=g;this.Xf=h;this.dk=m;this.bb=q}v(Qf,wc);function pf(a,b,c,d,f){U.call(this);this.o=a;this.ea=nf();this.eh=this.md=l;this.vc=b;this.Ra=c;this.L=f;this.kk=d;this.Sb={};this.Uc={};this.Za=this.ea?new Nf:k;this.oe=6}v(pf,U);n=pf.prototype;n.D=function(){this.d=J(yf,{name:this.o.name,Uj:this.o.Ha,cd:this.vc})};
n.m=function(){pf.c.m.call(this);this.Tc=H("programs",this.a());this.vh=H("viewers",this.a());this.Pg=H("name",this.a());this.Be=H("graph",this.a());this.Ba=H("suggest",this.a());if(this.o.Ib)Q(this.Ba,l);else{this.Pb=new Yf("Paste YouTube link");this.Pb.g(H("program-input",this.a()));var a=new Oe(this.Pb.a()),b=new Zf(this.Pb.a()),c=new $f(t(this.Xe,this),1E3);R(R(R(this.n(),b,ag,t(this.Xe,this)),a,"key",t(function(){c&&c.ze()},this)),this.Pb,"focus",t(this.Xe,this))}this.fa=(T(this.Tc).width-200)/
this.vc;if(this.eh){var b=0,d=40;this.Se=0;this.$f=[new Ab(b,d)];this.bk=Math.floor((u()-this.L.getTime())/1E3);for(a=0;a<this.vc/40;a++)this.$f.push(new Ab(b+=40,d+=[-30,-5,15,10,25][Math.floor(5*Math.random())])),this.Se=Math.max(this.Se,d);this.Th=Raphael(this.Be,"100%",60).path("M0,0").attr({stroke:"none",opacity:0.8,fill:"#5d5d5d"})}S(this.Pg,"background",Raphael.getColor());b=this.o.xa;for(a=0;a<b.length;a++)b[a].time.getTime()<this.Ra.getTime()&&b[a].time.getTime()+1E3*b[a].media.duration>
this.Ra.getTime()-1E3*this.vc?this.Ub(b[a]):b[a].time.getTime()>this.Ra.getTime()&&this.Ub(b[a]);if(this.ea){a=this.Za;b=this.Tc;b.Uf=2;b.yb=i;a.S.push(b);this.Za.Ad="drag";var f=this.a();this.Za.ng=function(a){var b=sa(a.currentTarget);this.i=this.zd[b];this.q=this.rd(this.i);this.Ad&&B(this.q,this.Ad);this.q.style.margin="0";this.q.style.position="absolute";this.q.style.visibility="hidden";f.appendChild(this.q);b=Id(this.i);Jd(this.q,b);this.k=new Wd(this.q);this.k.jf(this.He);M(this.k,"start",
this.ig,l,this);M(this.k,"end",this.hg,l,this);M(this.k,"earlycancel",this.qd,l,this);this.k.Ob(a)};this.Za.init();var g={},h,m,q,s,w,C=j;R(R(R(this.n(),this.Za,"beforedragstart",t(function(a){(!this.md||!a.event.shiftKey)&&a.preventDefault()},this)),this.Za,"dragmove",function(a){q=q||a.Xf.x;s=s||Fd(a.pa).x;w=w||(a.pa.previousElementSibling!=i?a.pa.previousElementSibling:Yb(a.pa.previousSibling,l));C=C&&!!w;var b=w?T(w).width:i,c=w?Fd(w).x:i,d=a.Xf.x-q;10>Math.abs(d)||(a.bb&&!g[a.bb.id]&&0<d?(b=
T(a.pa).width,c=Fd(a.bb).x,h=c-b+T(a.bb).width,d=this.o.Sc[a.bb.id],m=d.time.getTime()/1E3+d.media.duration-this.o.Sc[a.pa.id].media.duration,Dd(a.pa,h),Dd(a.bb,c-b-12),g[a.bb.id]=j,b=a.bb,b.parentNode&&b.parentNode.insertBefore(a.pa,b.nextSibling)):C&&(0>d&&s+d<c+b)&&(b=T(a.pa).width,h=c=Fd(w).x,m=this.o.Sc[w.id].time.getTime()/1E3,Dd(a.pa,h),Dd(w,c+b+12),b=w.previousElementSibling!=i?w.previousElementSibling:Yb(w.previousSibling,l),w.parentNode&&w.parentNode.insertBefore(a.pa,w),w=b,C=!!b))}),this.Za,
"dragend",function(a){m&&(Y("/admin/_rescheduleprogram",i,"POST","program="+a.Mh.id+"&time="+m),this.Za.init(),m=i);g={};h=w=s=q=i;C=j})}for(var a=this.o.de,b=this.kd,d=r(a)?a.split(""):a,ja=a.length-1;0<=ja;--ja)ja in d&&b.call(this,d[ja],ja,a);R(R(R(R(this.n(),this.Ba,"click",t(this.Ki,this)),H("close",this.Ba),"click",t(function(a){a.preventDefault();a.stopPropagation();bg(this)},this)),H("name",this.a()),"click",t(function(){this.o.id!=V.b().A.id&&this.o.v()&&V.b().e(rf,this.o)},this)),Wc.b().re,
Uc,t(this.update,this));this.o.subscribe(xf,this.Ub,this);this.o.subscribe(Lf,this.kd,this);this.o.subscribe("remove-viewer",this.Wi,this);this.o.subscribe(Mf,this.yf,this);V.b().subscribe(sf,this.rh,this);V.b().subscribe(rf,function(){this.oe=0;this.rh()},this);P.b().subscribe("toggle-admin",ba("md"),this);this.update()};n.rh=function(){this.u&&D(this.Uc[this.u],"playing");this.u=k;var a=V.b().A.v();if(a){var b=this.Uc[a.id];b&&(this.u=a.id,B(b,"playing"))}};
n.Ub=function(a){var b=Sb("div",{"class":"program",id:a.id}),c=a.media.duration*this.fa,d=this.ea&&a.time.getTime()+1E3*a.media.duration>u();lc(b,zf,{df:a,repeat:600<c,he:d});this.Uc[a.id]=b;var f=V.b().A.v();f&&a.id==f.id&&(B(b,"playing"),this.u=a.id);var g=H("thumb",b);N(function(){a.media.sf.height<T(b).height+50?(B(g,"fix-height"),B(g,"pan-left")):B(g,"pan-top");h&&Ld(g,200);F(b,"stretched",360<a.media.sf.height)});Ld(b,c-12);f=(a.time.getTime()-this.L.getTime())/1E3*this.fa;Dd(b,f);Dd(this.Ba,
f+c);this.Tc.appendChild(b);var h=120>c;F(b,"clipped",h);R(this.n(),b,"click",function(){Z.b().e(cg,a.media)});var m=E(b,"clipped")?200:T(b).width,q=H("title",b),s=T(q).width;R(R(this.n(),b,"mouseover",function(){if(P.b().Ce){var b=s+Fd(q).x;b>m&&(S(q,"margin-left",-(b-m-10)+"px"),B(q,"marquee"));this.md||S(g,"background-position-y",a.media.uc+10*Math.max(a.media.sf.width/m,1)+"%")}}),b,"mouseout",function(){P.b().Ce&&(S(q,"margin-left",""),D(q,"marquee"),this.md||S(g,"background-position-y",a.media.uc+
"%"))});d&&(c=new Wd(H("repos",b)),c.vd=function(a,b){var c=b-24;-50<=c&&50>=c&&S(g,"background-position-y",50-c+"%")},R(R(this.n(),c,"end",function(){var b=(g.style[Ia("background-position")]||"").split(" ")[1],b=b.substring(0,b.length-1);a.media.uc=b;Y("/admin/_posthumb",he(),"POST","media="+a.media.id+"&pos="+b)}),H("remove",b),"click",t(this.Hi,this,a,b)))};n.yf=function(a){var b=this.Uc[a.id],a=(gd(a.time+"Z").getTime()-this.L.getTime())/1E3*this.fa;Dd(b,a)};
n.Hi=function(a,b){Vb(b);Y("/admin/_removeprogram",i,"POST","program="+a.id)};n.kd=function(a){if(X.b().Ma.id!=a.r.id){var b=this.Sb[a.r.id];b||(b=Sb("div","viewer"),this.vh.appendChild(b),this.Sb[a.r.id]=b);if(this.o.v()&&(!a.be||a.be.getTime()>this.L.getTime())){var c=J(Af,{r:a.r});b.appendChild(c);var d=Math.max(a.oh.getTime(),this.L.getTime()),b=(d-this.L.getTime())/1E3*this.fa+200,d=(u()-d)/1E3*this.fa;Ld(c,d);Dd(c,b);S(c,"background",a.r.color);R(this.n(),c,"click",function(){Z.b().e(dg,a.r)})}}};
n.Wi=function(a){this.Sb[a.id]&&(Vb(this.Sb[a.id]),Gb(this.Sb,a.id))};n.Ki=function(){if(!E(this.Ba,"show")){Od(H("select-program",this.Ba),1);B(this.Ba,"show");var a=this.Pb,b=eg(a);a.Ie=j;a.a().focus();!b&&!fg&&(a.a().value=a.va);a.a().select();fg||(a.l&&ud(a.l,a.a(),"click",a.De),N(a.Qh,10,a))}};function bg(a){D(a.Ba,"show");a.Pb.kb("");H("page2",a.a()).innerHTML=""}
n.Xe=function(){var a=H("select-content",this.a()),b=H("page2",this.a());if(!Wb(b).length)try{var c;var d=this.Pb.T(),f=gg.exec(d);f?c=new hg(f[1]||f[2],i,i):e(Error("failed to parse video id from youtube url: "+d));Y(za("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.rj),t(function(d){d=ig(jg(d.target)).entry;lc(b,Bf,{title:d.title.$t,jj:d.media$group.media$thumbnail[0].url});d=new lf("YES");d.g(H("button",b));(new re(a,[0,0],[160,0],300,kg)).play();R(this.n(),d,"action",t(this.Ji,
this,c))},this))}catch(g){}};n.Ji=function(a){Y("/_addprogram",t(function(a){a=lg(a.target);a.id&&(a=new wf(a),this.o.e(xf,a))},this),"POST","channel_id="+this.o.id+"&url="+a.yc);Od(H("button",this.Ba),0);Q(H("added",this.Ba),j);Od(H("select-program",this.Ba),0);N(t(function(){bg(this)},this),3E3)};
n.update=function(){var a=!this.o.xa.length||this.o.Ib&&!this.o.v();F(this.a(),"offline",a);if(this.o.xa.length){if(this.eh){var b="",c=T(this.Tc).width,d,f,g,h=(u()-this.L)/1E3,m=Wa(this.$f,0,Math.floor(h/40));x(m,function(a,q){d=a.x/this.vc*c;f=60-60*(a.y/this.Se);q==m.length-1&&(d=h/this.vc*c);d+=6;q?(b+="L"+[d-30,g],b+="C"+[d-20,g,d-10,f,d,f]):b+="M"+[d,f]+"R";g=f},this);this.Th.attr({path:b+"L"+d+",60 10,60z"})}if(this.u&&1<this.oe){var q=this.Uc[this.u],a=Fd(q).x+Fd(G("guide")).x,q=H("title",
q);Dd(q,5>a?-a+10:5)}else this.oe++;Cb(this.o.de,function(a){if(this.o.v()&&!a.be&&this.Sb[a.r.id]){var b=Math.max(a.oh.getTime(),this.L.getTime());T(this.Tc);var c=Math.floor((u()-b)/1E3*this.fa),d=W.b().v();a.r.id==X.b().Ma.id&&d&&(c=Math.floor((d.time.getTime()+1E3*W.b().Ed()-b)/1E3*this.fa));Ld(this.Sb[a.r.id].lastChild,c)}},this);a=T(this.Be).height;q=T(this.vh).height;a-=q;0>a&&S(this.Be,"margin-top",-a+"px");Kd(this.Pg,T(this.a()).height-1)}};function X(){O.call(this);this.sh={}}v(X,O);la(X);X.prototype.add=function(a){this.sh[a.id]=a};X.prototype.get=function(a){return this.sh[a]};function mg(a,b){var c=a.get(b.id);c||(c=new If(b),a.add(c));return c};function ng(a){if("function"==typeof a.Fd)return a.Fd();if(r(a))return a.split("");if(oa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Db(a)}function og(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(oa(a)||r(a))x(a,b,c);else{var d;if("function"==typeof a.Ae)d=a.Ae();else if("function"!=typeof a.Fd)if(oa(a)||r(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Eb(a);else d=i;for(var f=ng(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function pg(a,b){this.gb={};this.H=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof pg?(c=a.Ae(),d=a.Fd()):(c=Eb(a),d=Db(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}n=pg.prototype;n.K=0;n.uh=0;n.Fd=function(){qg(this);for(var a=[],b=0;b<this.H.length;b++)a.push(this.gb[this.H[b]]);return a};n.Ae=function(){qg(this);return this.H.concat()};
n.clear=function(){this.gb={};this.uh=this.K=this.H.length=0};function qg(a){if(a.K!=a.H.length){for(var b=0,c=0;b<a.H.length;){var d=a.H[b];Object.prototype.hasOwnProperty.call(a.gb,d)&&(a.H[c++]=d);b++}a.H.length=c}if(a.K!=a.H.length){for(var f={},c=b=0;b<a.H.length;)d=a.H[b],Object.prototype.hasOwnProperty.call(f,d)||(a.H[c++]=d,f[d]=1),b++;a.H.length=c}}n.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.gb,a)?this.gb[a]:b};
n.set=function(a,b){Object.prototype.hasOwnProperty.call(this.gb,a)||(this.K++,this.H.push(a),this.uh++);this.gb[a]=b};n.clone=function(){return new pg(this)};function rg(a){return sg(a||arguments.callee.caller,[])}
function sg(a,b){var c=[];if(Qa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(tg(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=tg(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(sg(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function tg(a){if(ug[a])return ug[a];a=String(a);if(!ug[a]){var b=/function ([^\(]+)/.exec(a);ug[a]=b?b[1]:"[Anonymous]"}return ug[a]}var ug={};function vg(a,b,c,d,f){this.reset(a,b,c,d,f)}vg.prototype.Zi=0;vg.prototype.Zf=k;vg.prototype.Yf=k;var wg=0;vg.prototype.reset=function(a,b,c,d,f){this.Zi="number"==typeof f?f:wg++;this.pk=d||u();this.Mc=a;this.ti=b;this.fk=c;delete this.Zf;delete this.Yf};vg.prototype.bh=ba("Mc");function xg(a){this.vi=a}xg.prototype.C=k;xg.prototype.Mc=k;xg.prototype.P=k;xg.prototype.og=k;function yg(a,b){this.name=a;this.value=b}yg.prototype.toString=ca("name");var zg=new yg("SEVERE",1E3),Ag=new yg("WARNING",900),Bg=new yg("INFO",800),Cg=new yg("CONFIG",700),Dg=new yg("FINE",500);n=xg.prototype;n.getParent=ca("C");n.eg=function(){this.P||(this.P={});return this.P};n.bh=ba("Mc");function Eg(a){return a.Mc?a.Mc:a.C?Eg(a.C):k}
n.log=function(a,b,c){if(a.value>=Eg(this).value){a=this.Sh(a,b,c);b="log:"+a.ti;p.console&&(p.console.timeStamp?p.console.timeStamp(b):p.console.markTimeline&&p.console.markTimeline(b));p.msWriteProfilerMark&&p.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.og)for(var f=0,g=i;g=c.og[f];f++)g(d);b=b.getParent()}}};
n.Sh=function(a,b,c){var d=new vg(a,String(b),this.vi);if(c){d.Zf=c;var f;var g=arguments.callee.caller;try{var h;var m=ia("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var q,s,w=l;try{q=c.lineNumber||c.ek||"Not available"}catch(C){q="Not available",w=j}try{s=c.fileName||c.filename||c.sourceURL||m}catch(ja){s="Not available",w=j}h=w||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:q,
fileName:s,stack:c.stack||"Not available"}:c}f="Message: "+Ba(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ba(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ba(rg(g)+"-> ")}catch(ea){f="Exception trying to expose exception! You win, we lose. "+ea}d.Yf=f}return d};function Fg(a,b){a.log(zg,b,i)}n.info=function(a,b){this.log(Bg,a,b)};function Gg(a,b){a.log(Dg,b,i)}var Hg={},Ig=k;
function Jg(a){Ig||(Ig=new xg(""),Hg[""]=Ig,Ig.bh(Cg));var b;if(!(b=Hg[a])){b=new xg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Jg(a.substr(0,c));c.eg()[d]=b;b.C=c;Hg[a]=b}return b};function ig(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function Kg(){}Kg.prototype.od=k;var Lg;function Mg(){}v(Mg,Kg);function Ng(a){return(a=Og(a))?new ActiveXObject(a):new XMLHttpRequest}function Pg(a){var b={};Og(a)&&(b[0]=j,b[1]=j);return b}
function Og(a){if(!a.sg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.sg=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.sg}Lg=new Mg;var Qg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Rg(a){L.call(this);this.headers=new pg;this.zc=a||k}v(Rg,Rc);Rg.prototype.t=Jg("goog.net.XhrIo");var Sg=/^https?$/i,Tg=[];function Y(a,b,c,d){var f=new Rg;Tg.push(f);b&&M(f,"complete",b);M(f,"ready",xa(Ug,f));f.send(a,c,d,i)}function Ug(a){a.Q();Ra(Tg,a)}n=Rg.prototype;n.Wa=l;n.p=k;n.ee=k;n.Pe="";n.Eg="";n.Kc=0;n.Lc="";n.ye=l;n.Jd=l;n.Je=l;n.Gb=l;n.ae=0;n.Qb=k;n.Wd="";n.sj=l;
n.send=function(a,b,c,d){this.p&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Pe=a;this.Lc="";this.Kc=0;this.Eg=b;this.ye=l;this.Wa=j;this.p=this.zc?Ng(this.zc):Ng(Lg);this.ee=this.zc?this.zc.od||(this.zc.od=Pg(this.zc)):Lg.od||(Lg.od=Pg(Lg));this.p.onreadystatechange=t(this.Tg,this);try{Gg(this.t,Vg(this,"Opening Xhr")),this.Je=j,this.p.open(b,a,j),this.Je=l}catch(f){Gg(this.t,Vg(this,"Error opening Xhr: "+f.message));Wg(this,f);return}var a=c||
"",g=this.headers.clone();d&&og(d,function(a,b){g.set(b,a)});d=p.FormData&&a instanceof p.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.gb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");og(g,function(a,b){this.p.setRequestHeader(b,a)},this);this.Wd&&(this.p.responseType=this.Wd);"withCredentials"in this.p&&(this.p.withCredentials=this.sj);try{this.Qb&&(Tc.clearTimeout(this.Qb),this.Qb=k),0<this.ae&&(Gg(this.t,Vg(this,"Will abort after "+
this.ae+"ms if incomplete")),this.Qb=Tc.setTimeout(t(this.mj,this),this.ae)),Gg(this.t,Vg(this,"Sending request")),this.Jd=j,this.p.send(a),this.Jd=l}catch(h){Gg(this.t,Vg(this,"Send error: "+h.message)),Wg(this,h)}};n.mj=function(){"undefined"!=typeof fa&&this.p&&(this.Lc="Timed out after "+this.ae+"ms, aborting",this.Kc=8,Gg(this.t,Vg(this,this.Lc)),this.dispatchEvent("timeout"),this.abort(8))};function Wg(a,b){a.Wa=l;a.p&&(a.Gb=j,a.p.abort(),a.Gb=l);a.Lc=b;a.Kc=5;Xg(a);Yg(a)}
function Xg(a){a.ye||(a.ye=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}n.abort=function(a){this.p&&this.Wa&&(Gg(this.t,Vg(this,"Aborting")),this.Wa=l,this.Gb=j,this.p.abort(),this.Gb=l,this.Kc=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Yg(this))};n.h=function(){this.p&&(this.Wa&&(this.Wa=l,this.Gb=j,this.p.abort(),this.Gb=l),Yg(this,j));Rg.c.h.call(this)};n.Tg=function(){!this.Je&&!this.Jd&&!this.Gb?this.Gi():Zg(this)};n.Gi=function(){Zg(this)};
function Zg(a){if(a.Wa&&"undefined"!=typeof fa)if(a.ee[1]&&4==$g(a)&&2==ah(a))Gg(a.t,Vg(a,"Local request error detected and ignored"));else if(a.Jd&&4==$g(a))Tc.setTimeout(t(a.Tg,a),0);else if(a.dispatchEvent("readystatechange"),4==$g(a)){Gg(a.t,Vg(a,"Request complete"));a.Wa=l;try{var b=ah(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var f;if(f=0===b){var g=String(a.Pe).match(Qg)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);f=!Sg.test(g?g.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Kc=6;var m;try{m=2<$g(a)?a.p.statusText:""}catch(q){Gg(a.t,"Can not get status: "+q.message),m=""}a.Lc=m+" ["+ah(a)+"]";Xg(a)}}finally{Yg(a)}}}
function Yg(a,b){if(a.p){var c=a.p,d=a.ee[0]?ka:k;a.p=k;a.ee=k;a.Qb&&(Tc.clearTimeout(a.Qb),a.Qb=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){Fg(a.t,"Problem encountered resetting onreadystatechange: "+f.message)}}}n.Hb=function(){return!!this.p};function $g(a){return a.p?a.p.readyState:0}function ah(a){try{return 2<$g(a)?a.p.status:-1}catch(b){return a.t.log(Ag,"Can not get status: "+b.message,i),-1}}function lg(a){if(a.p)return ig(a.p.responseText)}
function jg(a){try{if(!a.p)return k;if("response"in a.p)return a.p.response;switch(a.Wd){case "":case "text":return a.p.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.p)return a.p.mozResponseArrayBuffer}Fg(a.t,"Response type "+a.Wd+" is not supported on this browser");return k}catch(b){return Gg(a.t,"Can not get response: "+b.message),k}}function Vg(a,b){return b+" ["+a.Eg+" "+a.Pe+" "+ah(a)+"]"};function V(){O.call(this);this.Xb=[];this.Wb={};this.subscribe(rf,this.Bc,this)}v(V,O);la(V);V.prototype.get=function(a){return this.Wb[a]};function bh(a){if(a.A&&a.A.v())return a.A;if(a.Ne&&a.Ne.v())return a.Ne;for(var b=a.Xb[0],c=0;!b.v()&&c<a.Xb.length;)b=a.Xb[c],c++;return!b.v()?a.A:b}V.prototype.Re=function(a,b){Cb(a,t(function(a){var b=new vf(a);this.Xb.push(b);this.Wb[a.id]=b;b.Ib&&(this.Ib=b)},this));this.A=this.Wb[b]||this.Xb[0];this.A=bh(this)};
V.prototype.Bc=function(a){a&&(this.Ne=this.A,this.A=a,Y("/_changechannel",he(),"POST","channel="+a.id))};var rf="change-channel",sf="next-program";function ch(){U.call(this);this.Fb=new lf("Guide");cf(this.Fb,16,j);this.lb=new lf("Sidebar");cf(this.lb,16,j);this.ef=new lf("Restart");this.Pa=new lf("Play");cf(this.Pa,16,j);this.jd=new lf("Volume");cf(this.jd,16,j);this.Vb=new lf("Admin");cf(this.Vb,16,j)}v(ch,U);
ch.prototype.m=function(){ch.c.m.call(this);this.Yi=H("right",this.a());Be(this,this.Fb);this.Fb.g(G("guide-toggle"));bf(this.Fb,j);Be(this,this.lb);this.lb.g(G("sidebar-toggle"));Be(this,this.ef);this.ef.g(H("restart",this.a()));Be(this,this.Pa);this.Pa.g(H("play",this.a()));Be(this,this.jd);this.jd.g(H("volume",this.a()));Be(this,this.Vb);this.Vb.g(G("admin-toggle"));Q(this.Vb.a(),X.b().Ma.Cf==Jf);var a=new $f(this.ij,1E3,this);R(R(R(R(R(R(R(this.n(),window,"resize",t(this.resize,this)),this.Fb,
"action",t(function(){a.ze()},this)),this.lb,"action",t(function(a){a.stopPropagation();P.b().e(Zc,Le(this.lb));this.resize()},this)),this.ef,"action",t(function(a){a.stopPropagation();P.b().e("restart");this.resize()},this)),this.Pa,"action",t(function(a){a.stopPropagation();P.b().e(ad,!Le(this.Pa));this.resize()},this)),this.jd,"action",t(function(a){a.stopPropagation();P.b().e("mute",Le(this.jd))},this)),this.Vb,"action",t(function(a){a.stopPropagation();P.b().e("toggle-admin",Le(this.Vb));this.resize()},
this));V.b().subscribe(rf,function(){N(t(this.resize,this))},this);V.b().subscribe("play-async",function(){N(t(this.resize,this))},this);V.b().subscribe(sf,function(){N(t(this.resize,this))},this);P.b().subscribe($c,this.uf,this);P.b().subscribe(Zc,function(a){bf(this.lb,a);this.resize()},this);P.b().subscribe(ad,function(a){bf(this.Pa,!a)},this);this.resize()};ch.prototype.ij=function(){var a=Le(this.Fb);P.b().e($c,a)};
ch.prototype.uf=function(a){bf(this.Fb,a);a&&(D(this.a(),"window"),D(this.a(),"collapsed"),N(t(this.resize,this)));N(t(function(){F(this.a(),"guide-toggled",a);if(!a){var b=V.b().A&&V.b().A.v();B(this.a(),"collapsed");N(t(function(){F(this.a(),"window",!!b);N(t(this.resize,this))},this),300);N(t(this.resize,this))}},this),a?0:600)};
ch.prototype.resize=function(){Ld(this.a(),I().width-(Le(this.lb)?300:0));var a=G("guide"),b=H("current",a),b=Pb("program",b),a=(b=b[b.length-1])?Fd(a).x+Fd(b).x+T(b).width+210:9999999,a=Math.min(I().width-200,Math.max(100,I().width-a));Ld(this.Yi,Le(this.lb)?a-293:a+7);F(this.a(),"window",E(this.a(),"collapsed")&&!!b&&a<I().width-203)};function W(){O.call(this)}v(W,O);la(W);W.prototype.lf=ba("s");W.prototype.v=ca("u");W.prototype.Ed=function(){return this.s&&this.s.getCurrentTime?this.s.getCurrentTime():0};var tf="play-async";function dh(){ee.call(this);this.queue=[]}v(dh,ee);dh.prototype.add=function(a){Qa(this.queue,a)||(this.queue.push(a),M(a,"finish",this.xi,l,this))};dh.prototype.h=function(){x(this.queue,function(a){a.Q()});this.queue.length=0;dh.c.h.call(this)};function eh(){dh.call(this);this.qa=0}v(eh,dh);
eh.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.f==fe)this.qa<this.queue.length&&this.queue[this.qa].f!=fe&&this.queue[this.qa].stop(l),this.qa=0,this.ib();else if(1==this.f)return l;this.ba("play");-1==this.f&&this.ba("resume");this.startTime=u();this.Gc=k;this.f=1;this.queue[this.qa].play(a);return j};
eh.prototype.stop=function(a){this.f=fe;this.Gc=u();if(a)for(a=this.qa;a<this.queue.length;++a){var b=this.queue[a];b.f==fe&&b.play();b.f==fe||b.stop(j)}else this.qa<this.queue.length&&this.queue[this.qa].stop(l);this.ba("stop");this.jb()};eh.prototype.xi=function(){1==this.f&&(this.qa++,this.qa<this.queue.length?this.queue[this.qa].play():(this.Gc=u(),this.f=fe,this.ba("finish"),this.jb()))};function fh(a){return a*a*a}function kg(a){return 1-Math.pow(1-a,3)};function gh(){U.call(this)}v(gh,U);n=gh.prototype;
n.m=function(){gh.c.m.call(this);(this.u=(this.Ga=V.b().A)&&this.Ga.v())&&u();this.Dd=H("fullscreen",this.a());var a=H("expand",this.a());Q(this.Dd,this.ih());hh(this);this.u?ih(this,this.u):W.b().e("no-media");R(R(R(R(R(this.n(),window,"resize",t(this.resize,this)),this.Dd,"click",t(function(a){if(zb(this.Dd,"full")){var c=H("main");c.Yg&&c.Yg();c.webkitRequestFullScreen&&c.webkitRequestFullScreen();c.mozRequestFullScreen&&c.mozRequestFullScreen()}else document.Dh&&document.Dh(),document.webkitCancelFullScreen&&
document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();a.stopPropagation();a.preventDefault()},this)),this.a(),"dblclick",t(this.mh,this)),a,"click",t(this.mh,this)),this.a(),"click",t(function(){if(this.s)switch(this.s.getPlayerState()){case YT.PlayerState.PLAYING:P.b().e(ad,l);break;case YT.PlayerState.PAUSED:P.b().e(ad,j)}},this));V.b().subscribe(rf,this.Bc,this);V.b().subscribe(sf,function(a){this.u=a;ih(this,a);hh(this)},this);W.b().subscribe(tf,this.af,
this);P.b().subscribe(Zc,function(a){this.resize(a)},this);P.b().subscribe($c,function(){N(t(this.resize,this))},this);P.b().subscribe(ad,function(a){a?this.s.playVideo():this.s.pauseVideo();var a=H(a?"play":"pause",this.a()),c=new eh;c.add(new ue(a,250,kg));c.add(new te(a,250,fh));c.play()},this);P.b().subscribe("mute",function(a){this.s&&(a?this.s.mute():this.s.unMute())},this);P.b().subscribe("restart",function(){this.s.seekTo(0)},this);this.resize()};
n.ih=function(){var a=H("main");return!(!a.Yg&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};n.mh=function(a){a.preventDefault();a.stopPropagation();Z.b();a=!E(G("sidebar"),"toggled");P.b().e(Zc,a);P.b().e($c,a)};function ih(a,b){W.b().u=b;a.play(b.media)}
n.play=function(a,b){!this.s||!this.s.loadVideoById?(this.s=new YT.Player("ytplayer",{height:I().height-40,width:I().width,videoId:a.ic,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1},events:{onStateChange:t(this.Qi,this),onReady:t(this.Fi,this),onError:t(this.Ei,this)}}),W.b().lf(this.s)):(this.s.cueVideoById(a.ic),N(t(function(){var c=b||0;!this.s.getPlayerState()&&4>c&&this.play(a,++c)},this),1E3))};
n.resize=function(){var a=G("ytplayer"),b=G("stagecover"),c=H("message",b),d=G("guide").style.height,d=d.substring(0,d.length-2),f=E(G("sidebar"),"toggled")?300:0;Kd(a,I().height-d);Ld(a,I().width-f);Kd(b,I().height-d);Ld(b,I().width-f);a=T(c);S(c,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});F(this.Dd,"full",this.ih&&(document.fullScreen||document.webkitIsFullScreen||document.hk))};n.Bc=function(a){if(a=a.v())this.u=a,ih(this,a);hh(this)};
n.af=function(a){this.Jf=a;this.play(a,0);Y("/_optin",he(),"POST","media_id="+this.u.media.id)};
n.Qi=function(a){switch(a.data){case YT.PlayerState.CUED:a=(u()-this.u.time.getTime())/1E3;this.s.seekTo(a);this.s.playVideo();break;case YT.PlayerState.PLAYING:W.b().e("playing");break;case YT.PlayerState.ENDED:Y("/_seen",he(),"POST","media_id="+this.u.media.id+"&session_id="+X.b().Ma.ud.id),(a=V.b().A.v())?V.b().e(sf,a):(W.b().u=k,V.b().e(rf,bh(V.b())),this.Jf?this.Jf=k:Y("/_started",he(),"POST","media_id="+this.u.media.id)),hh(this)}};
n.Fi=function(){N(t(function(){if(this.s&&(!this.s.getPlayerState||!this.s.getPlayerState()))ih(this,this.u);else if(this.s.getPlayerState()){var a=(u()-this.u.time.getTime())/1E3;this.s.seekTo(a);this.s.playVideo()}},this),1E3)};n.Ei=function(){W.b().e("no-media")};function hh(a){var b=G("stagecover"),c=a.u?(u()-a.u.time.getTime())/1E3:0;!a.u||a.u&&c>a.u.media.duration?(a.resize(),W.b().e("no-media"),B(b,"covered")):D(b,"covered")};function Yf(a,b){U.call(this,b);this.va=a||""}v(Yf,U);Yf.prototype.Ja=k;var fg="placeholder"in document.createElement("input");n=Yf.prototype;n.Ic=l;n.D=function(){this.d=this.ta().D("input",{type:"text"})};n.N=function(a){Yf.c.N.call(this,a);this.va||(this.va=a.getAttribute("label")||"");var b;a:{var c=Ob(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.Ic=j,D(this.a(),this.Ac));fg?this.a().placeholder=this.va:this.a().setAttribute("aria-label",this.va)};
n.m=function(){Yf.c.m.call(this);var a=new sd(this);R(a,this.a(),"focus",this.De);R(a,this.a(),"blur",this.Yh);fg?this.l=a:(gb&&R(a,this.a(),["keypress","keydown","keyup"],this.di),R(a,Ob(this.a())?Ob(this.a()).parentWindow||Ob(this.a()).defaultView:window,"load",this.li),this.l=a,jh(this));kh(this);this.a().pi=this};n.Cb=function(){Yf.c.Cb.call(this);this.l&&(this.l.Q(),this.l=k);this.a().pi=k};function jh(a){!a.Rh&&(a.l&&a.a().form)&&(R(a.l,a.a().form,"submit",a.gi),a.Rh=j)}
n.h=function(){Yf.c.h.call(this);this.l&&(this.l.Q(),this.l=k)};n.Ac="label-input-label";n.De=function(){this.Ic=j;D(this.a(),this.Ac);if(!fg&&!eg(this)&&!this.Ie){var a=this,b=function(){a.a().value=""};y?N(b,10):b()}};n.Yh=function(){fg||(vd(this.l,this.a(),"click",this.De),this.Ja=k);this.Ic=l;kh(this)};n.di=function(a){27==a.keyCode&&("keydown"==a.type?this.Ja=this.a().value:"keypress"==a.type?this.a().value=this.Ja:"keyup"==a.type&&(this.Ja=k),a.preventDefault())};
n.gi=function(){eg(this)||(this.a().value="",N(this.Xh,10,this))};n.Xh=function(){eg(this)||(this.a().value=this.va)};n.li=function(){kh(this)};function eg(a){return!!a.a()&&""!=a.a().value&&a.a().value!=a.va}n.clear=function(){this.a().value="";this.Ja!=k&&(this.Ja="")};n.reset=function(){eg(this)&&(this.clear(),kh(this))};n.kb=function(a){this.Ja!=k&&(this.Ja=a);this.a().value=a;kh(this)};n.T=function(){return this.Ja!=k?this.Ja:eg(this)?this.a().value:""};
function kh(a){fg?a.a().placeholder!=a.va&&(a.a().placeholder=a.va):(jh(a),a.a().setAttribute("aria-label",a.va));eg(a)?D(a.a(),a.Ac):(!a.Ie&&!a.Ic&&B(a.a(),a.Ac),fg||N(a.Xi,10,a))}n.Qa=function(a){this.a().disabled=!a;F(this.a(),this.Ac+"-disabled",!a)};n.isEnabled=function(){return!this.a().disabled};n.Qh=function(){this.Ie=l};n.Xi=function(){this.a()&&(!eg(this)&&!this.Ic)&&(this.a().value=this.va)};function lh(a,b,c){L.call(this);this.fb=a;this.G=b;this.ua=c;this.ne=t(this.Mi,this)}v(lh,L);var $f=lh;n=lh.prototype;n.$d=l;n.Vg=0;n.Z=k;n.ze=function(){!this.Z&&!this.Vg?this.Ec():this.$d=j};n.stop=function(){this.Z&&(Tc.clearTimeout(this.Z),this.Z=k,this.$d=l)};n.h=function(){lh.c.h.call(this);this.stop()};n.Mi=function(){this.Z=k;this.$d&&!this.Vg&&(this.$d=l,this.Ec())};n.Ec=function(){this.Z=N(this.ne,this.G);this.fb.call(this.ua)};function mh(a,b){L.call(this);this.fb=a;this.ua=b;this.Ia=new ge(t(this.Li,this),0,this)}v(mh,L);n=mh.prototype;n.G=0;n.ff=0;n.xg=l;n.h=function(){this.Ia.Q();delete this.fb;delete this.ua;mh.c.h.call(this)};n.start=function(a,b){this.stop();this.xg=l;var c=b||0;this.G=Math.max(a||0,0);this.ff=0>c?-1:u()+c;this.Ia.start(0>c?this.G:Math.min(this.G,c))};n.stop=function(){this.Ia.stop()};n.Hb=function(){return this.Ia.Hb()};
n.Li=function(){if(this.fb.call(this.ua))this.xg=j;else if(0>this.ff)this.Ia.start(this.G);else{var a=this.ff-u();0>=a||this.Ia.start(Math.min(this.G,a))}};function Zf(a){L.call(this);this.d=a;this.Oc=this.d.value;this.l=new sd(this);this.Fg=u();z||y||gb&&A("1.9")?R(this.l,a,"paste",this.bc):R(this.l,a,["keydown","blur","focus","mouseover","input"],this.ei);this.Ia=new mh(t(this.Mf,this))}v(Zf,Rc);var ag="after_paste";n=Zf.prototype;n.f="init";n.t=Jg("goog.events.PasteHandler");n.h=function(){Zf.c.h.call(this);this.l.Q();this.l=k;this.Ia.Q();this.Ia=k};
n.Mf=function(){if(this.Oc==this.d.value)return l;this.t.info("detected textchange after paste");this.dispatchEvent(ag);return j};n.bc=function(a){a=new zc(a.ia);a.type="paste";this.dispatchEvent(a);N(function(){this.Mf()||this.Ia.start(50,200)},0,this)};
n.ei=function(a){switch(this.f){case "init":switch(a.type){case "blur":this.f="init";break;case "focus":this.f="focused";break;case "mouseover":this.f="init";this.d.value!=this.Oc&&(this.t.info("paste by dragdrop while on init!"),this.bc(a));break;default:Fg(this.t,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.Fg+400;if(u()>b||"focus"==this.Vi)this.t.info("paste by textchange while focused!"),this.bc(a);break;case "blur":this.f="init";break;
case "keydown":this.t.info("key down ... looking for ctrl+v");if(ab&&fb&&0==a.keyCode||ab&&fb&&17==a.keyCode)break;this.f="typing";break;case "mouseover":this.d.value!=this.Oc&&(this.t.info("paste by dragdrop while focused!"),this.bc(a));break;default:Fg(this.t,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.f="focused";break;case "blur":this.f="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.t.info("paste by ctrl+v while keypressed!"),
this.bc(a);break;case "mouseover":this.d.value!=this.Oc&&(this.t.info("paste by dragdrop while keypressed!"),this.bc(a));break;default:Fg(this.t,"unexpected event "+a.type+" during keypressed")}break;default:Fg(this.t,"invalid "+this.f+" state")}this.Fg=u();this.Oc=this.d.value;this.t.info(a.type+" -> "+this.f);this.Vi=a.type};function Z(){O.call(this)}v(Z,O);la(Z);var cg="media-info",dg="profile";function nh(a){return'<div class="info"><div class="picture"><img src="'+K(a.media.Ua)+'" class="thumb"><div class="publisher"><img src="'+K(a.media.ya.X)+'"><div class="name">'+K(a.media.ya.name)+'</div></div><div class="title">'+K(a.media.name)+'</div><div class="scrollable ios-scroll"><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+K(a.Kb)+'</div></div><div class="description">'+K(a.media.description)+'</div></div><div class="options"><div class="button star"></div><div class="button facebook"></div><div class="button twitter"></div><div class="button play"></div><div class="button plus"></div></div></div><div class="viewers" style="display: none"><div class="label">SEEN BY</div></div><div class="tweet-holder" style="display:none"><div class="label">LATEST TWEETS</div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display: none"><div class="label">CONVERSATION</div><div class="comments"></div></div></div>'}
function oh(a){return'<div class="viewer" style="background-color:'+K(a.r.color)+'"><img src="'+K(a.r.X)+'"></div>'}function ph(a){return'<div class="tweet"><img src="'+K(a.fd.X)+'"/><div class="text"><a target="_blank" href="http://www.twitter.com/'+K(a.fd.handle)+"/status/"+K(a.fd.id)+'">'+K(a.fd.handle)+"</a> "+K(a.fd.text)+'</div><div class="timestamp">'+K(a.timestamp)+"</div></div>"}
function qh(a){return'<div class="comment"><img src="'+K(a.Cc.r.X)+'"/><div class="text"><a href="#">'+K(a.Cc.r.name)+"</a> "+K(a.Cc.text)+'</div><div class="timestamp">'+K(a.timestamp)+"</div></div>"}
function rh(){return'<div class="comment-input"><div class="comment-controls"><div class="comment-button tweet-toggle">tweet<div class="check"></div></div><div class="comment-button fb-toggle">post<div class="check"></div></div><div class="comment-button add-comment">add</div></div><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div></div>'}
function sh(a){return'<div class="activity"><div class="picture" style="background:'+K(a.r.color)+'"><img src="'+K(a.r.X)+'"/></div><div class="text"><a class="user" href="#">'+K(a.r.name)+"</a> "+(a.$i.rk?"watched":"is watching")+(a.Xa?' <a href="#">'+K(a.Xa.name)+"</a>":"")+'<div class="timestamp">'+K(a.time)+'</div></div><div class="medias"></div></div>'}
function th(a){return'<div class="activity"><div class="picture" style="background:'+K(a.r.color)+'"><img src="'+K(a.r.X)+'"/></div><div class="text"><a class="user" href="#">'+K(a.r.name)+'</a> "'+K(a.Cc.text)+'"<div class="timestamp">'+K(a.time)+'</div></div><div class="medias"></div></div>'}
function uh(a){return'<div class="list-info"><div class="picture-cell" '+(a.Ua?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+K(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+K(a.Ua)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" '+(a.description?'style="display:table-cell"':"")+">"+K(a.description)+"</div></div>"}function vh(a){return'<li class="'+K(a.className)+' tab"><div class="label">'+K(a.name)+"</div></li>"}
function wh(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.vg?'placeholder="'+K(a.vg)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function xh(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="spinner" style="display:none">Loading More</div></div>'}
function yh(a){return'<div class="playlist"><div class="title">'+K(a.Si.name)+"</div></div>"}function zh(a){return'<div class="channel '+(a.Xa.ik?"on":"off")+'"><div class="title">'+K(a.Xa.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.Xa.nc?'<div class="pending">'+K(a.Xa.nc)+"</div>":"")+"</div>"}
function Ah(a){return'<div class="collection"><div class="title">'+K(a.se.name)+'</div><div class="controls">'+(a.se.nc?'<div class="pending">'+K(a.se.nc)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Bh(a){return'<div class="topic"><div class="title">'+K(a.oj)+'</div><div class="controls">'+(a.nc?'<div class="pending">'+K(a.nc)+"</div>":"")+"</div></div>"}
function Ch(){return'<div class="tabbed activity"><ul class="tabs"><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label">STARRED</div></li></ul><div class="activity-content content activity"></div><div class="starred-content content starred"></div><div class="spinner" style="display:none">Loading More</div></div>'}
function Dh(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+K(a.media.Ua)+"); background-position: 50% "+K(a.media.uc)+'%"></div><div class="title">'+K(a.media.name)+'</div></div></div><div class="publisher"><img src="'+K(a.media.ya.X)+'"><div class="name">'+K(a.media.ya.name)+"</div></div></div>"}
function Eh(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+K(a.media.Ua)+"); background-position: 50% "+K(a.media.uc)+'%"></div><div class="title">'+K(a.media.name)+'</div><div class="published">'+K(a.Kb)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+K(a.media.ya.X)+'"><div class="name">'+K(a.media.ya.name)+
'</div><div class="duration">'+K(a.media.duration)+' seconds</div></div><div class="description">'+K(a.media.description)+"</div></div>"};function Fh(){L.call(this);this.Jc=[];this.hj=[];this.Wc=[]}v(Fh,Rc);n=Fh.prototype;n.Bg=l;n.Cg=l;n.Ke=l;n.dh=ba("Yd");n.init=function(){if(!this.Ke){for(var a,b=0;a=this.Jc[b];b++)Gh(this,a);this.Ke=j}};function Gh(a,b){a.Bg&&(M(b.element,"mousedown",b.Ng,l,b),a.of&&B(b.element,a.of));a.Cg&&a.rf&&B(b.element,a.rf)}
n.Ob=function(a,b){if(!this.ha)if(this.ha=b,this.dispatchEvent(new Hh("dragstart",this,this.ha))==l)this.ha=k;else{var c=b.Yb,d=this.rd(c);this.Kh&&B(d,this.Kh);this.dc=d;d=Ob(c);d.body.appendChild(this.dc);var f=this.dc,g=Id(c),c=Sd(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.k=new Wd(f);this.k.dh(this.Yd);M(this.k,"drag",this.Og,l,this);M(this.k,"end",this.Bb,l,this);M(d.body,"selectstart",this.jh);this.tc=[];for(d=
0;c=this.hj[d];d++)for(var h,f=0;h=c.Jc[f];f++)for(var g=c,m=[h.element],q=this.tc,s=0;s<m.length;s++){var w=m[s],C=Id(w),ja=T(w),C=new xd(C.y,C.x+ja.width,C.y+ja.height,C.x);q.push(new Ih(C,g,h,w));Jh(this,C)}this.Ta||(this.Ta=new xd(0,0,0,0));for(d=0;c=this.Wc[d];d++)c.te=[],c.Zg=c.d.scrollLeft,c.$g=c.d.scrollTop,f=Id(c.d),g=T(c.d),c.J=new xd(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.tc[d];d++)for(f=0;c=this.Wc[f];f++)$b(c.d,g.d)&&(c.te.push(g),g.Vc=c);this.rb=k;for(d=0;c=this.Wc[d];d++)M(c.d,
"scroll",this.Qf,l,this);this.k.Ob(a);a.preventDefault()}};
n.Bb=function(a){var b=a.Jh?k:this.rb;if(b&&b.ga){var c=a.clientX,a=a.clientY,d=ic(Mb(this.dc)),f=c+d.x,d=a+d.y,g;this.ad&&(g=this.ad(b.Oa,b.J,f,d));this.dispatchEvent(new Hh("drag",this,this.ha,b.ga,b.Oa,b.d,c,a,f,d));b.ga.dispatchEvent(new Hh("drop",this,this.ha,b.ga,b.Oa,b.d,c,a,f,d,g))}this.dispatchEvent(new Hh("dragend",this,this.ha));Kc(this.k,"drag",this.Og,l,this);Kc(this.k,"end",this.Bb,l,this);Kc(Ob(this.ha.Yb).body,"selectstart",this.jh);for(b=0;c=this.Wc[b];b++)Kc(c.d,"scroll",this.Qf,
l,this),c.te=[];this.k.Q();Vb(this.dc);delete this.ha;delete this.dc;delete this.k;delete this.tc;delete this.rb};
n.Og=function(a){var b,c=ic(Mb(this.dc));b=new Ab(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.rb,g;if(f){this.ad&&f.ga&&(g=this.ad(f.Oa,f.J,c,d));if(f.J.contains(b)&&g==this.Df)return;f.ga&&(this.dispatchEvent(new Hh("dragout",this,this.ha,f.ga,f.Oa,f.d)),f.ga.dispatchEvent(new Hh("dragout",this,this.ha,f.ga,f.Oa,f.d,i,i,i,i,this.Df)));this.Df=g;this.rb=k}if(this.Ta.contains(b)){a:{for(var h=0;f=this.tc[h];h++)if(f.J.contains(b))if(f.Vc){if(f.Vc.J.contains(b)){b=f;break a}}else{b=f;break a}b=
k}if((f=this.rb=b)&&f.ga)this.ad&&(g=this.ad(f.Oa,f.J,c,d)),c=new Hh("dragover",this,this.ha,f.ga,f.Oa,f.d),c.gj=g,this.dispatchEvent(c),f.ga.dispatchEvent(new Hh("dragover",this,this.ha,f.ga,f.Oa,f.d,a.clientX,a.clientY,i,i,g));else if(!f){this.ca||(this.ca=new Ih(this.Ta.clone()));a=this.ca.J;a.top=this.Ta.top;a.right=this.Ta.right;a.bottom=this.Ta.bottom;a.left=this.Ta.left;for(g=0;f=this.tc[g];g++)b=f.J,f.Vc&&(f=f.Vc.J,b=new xd(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=k,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),f!==k&&h!==k&&(Math.abs(f-c)>Math.abs(h-d)?h=k:f=k),f===k?h!==k&&(h<=d?a.top=h:a.bottom=h):f<=c?a.left=f:a.right=f;this.rb=10<=(a.right-a.left)*(a.bottom-a.top)?this.ca:k}}};n.jh=da(l);
n.Qf=function(a){for(var b=0,c;c=this.Wc[b];b++)if(a.target==c.d){var d=c.$g-c.d.scrollTop,f=c.Zg-c.d.scrollLeft;c.$g=c.d.scrollTop;c.Zg=c.d.scrollLeft;this.ca&&this.rb==this.ca&&(0<d?this.ca.J.top+=d:this.ca.J.bottom+=d,0<f?this.ca.J.left+=f:this.ca.J.right+=f);for(var g=0,h;h=c.te[g];g++)h=h.J,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,Jh(this,h)}this.k.Ug(a)};
n.rd=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return Sb("table",k,Sb("tbody",k,b));case "td":case "th":return Sb("table",k,Sb("tbody",k,Sb("tr",k,b)));default:return b}};function Jh(a,b){if(1==a.tc.length)a.Ta=new xd(b.top,b.right,b.bottom,b.left);else{var c=a.Ta;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
n.h=function(){Fh.c.h.call(this);for(var a,b=0;a=this.Jc[b];b++)this.Bg&&(Kc(a.element,"mousedown",a.Ng,l,a),this.of&&D(a.element,this.of)),this.Cg&&this.rf&&D(a.element,this.rf),a.Q();this.Jc.length=0};function Hh(a,b,c,d,f,g,h,m,q,s,w){wc.call(this,a);this.Wj=b;this.Xj=c;this.Yj=d;this.$j=f;this.Zj=g;this.clientX=h;this.clientY=m;this.vk=q;this.wk=s;this.gj=w}v(Hh,wc);Hh.prototype.h=aa();
function Kh(a,b){L.call(this);this.element=G(a);this.data=b;this.C=k;this.element||e(Error("Invalid argument"))}v(Kh,Rc);n=Kh.prototype;n.Yb=k;n.Ng=function(a){if(Bc(a)){var b=a.target;b&&(M(b,"mousemove",this.mc,l,this),M(b,"mouseout",this.mc,l,this),M(b,"mouseup",this.Ve,l,this),this.Yb=b,this.pf=new Ab(a.clientX,a.clientY),a.preventDefault())}};n.Zd=ba("C");
n.mc=function(a){var b=this.Yb,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.pf.x)+Math.abs(a.clientY-this.pf.y)||c)Kc(b,"mousemove",this.mc,l,this),Kc(b,"mouseout",this.mc,l,this),Kc(b,"mouseup",this.Ve,l,this),this.C.Ob(a,this)};n.Ve=function(){var a=this.Yb;Kc(a,"mousemove",this.mc,l,this);Kc(a,"mouseout",this.mc,l,this);Kc(a,"mouseup",this.Ve,l,this);delete this.pf;this.Yb=k};function Ih(a,b,c,d){this.J=a;this.ga=b;this.Oa=c;this.d=d}Ih.prototype.Vc=k;function Lh(){Fh.call(this)}v(Lh,Fh);function Mh(a,b){b.Zd(a);a.Jc.push(b);a.Ke&&Gh(a,b)};function Nh(){}v(Nh,Fe);la(Nh);n=Nh.prototype;n.fc=aa();n.g=function(a,b){Ye(a);a.La&=-256;cf(a,32,l);Nh.c.g.call(this,a,b);a.Mb(b.value);return b};n.D=function(a){Ye(a);a.La&=-256;cf(a,32,l);return a.ta().D("textarea",{"class":He(this,a).join(" "),disabled:!a.isEnabled()},a.Fa||"")};n.tb=function(a){return"TEXTAREA"==a.tagName};n.Nb=ka;n.Le=function(a){return a.isEnabled()};n.rc=ka;n.Y=function(a,b,c){Nh.c.Y.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};n.Ca=ka;
n.Mb=function(a,b){a&&(a.value=b)};n.V=da("goog-textarea");function Oh(a,b,c){Xe.call(this,a,b||Nh.b(),c);Ye(this);this.qc(j);a||(this.Fa="")}v(Oh,Xe);var Ph=gb||z;n=Oh.prototype;n.jc=l;n.Ka=0;n.Hg=0;n.Mg=0;n.pg=l;n.Qd=l;n.hf=l;n.gf=l;function Qh(a){return a.Pc.top+a.Pc.bottom+a.Kf.top+a.Kf.bottom}function Rh(a){var b=a.Mg,c=a.a();b&&(c&&a.Qd)&&(b-=Qh(a));return b}function Sh(a){var b=a.Hg,c=a.a();b&&(c&&a.Qd)&&(b-=Qh(a));return b}n.kb=function(a){this.Mb(String(a))};n.T=function(){return this.a().value};n.Mb=function(a){Oh.c.Mb.call(this,a);this.resize()};
n.Qa=function(a){Oh.c.Qa.call(this,a);this.a().disabled=!a};n.resize=function(){this.a()&&this.Gd()};n.m=function(){Oh.c.m.call(this);var a=this.a();S(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.Pc=Sd(a,"padding");this.Kf=Vd(a);R(R(R(R(this.n(),a,"scroll",this.Gd),a,"focus",this.Gd),a,"keyup",this.Gd),a,"mouseup",this.si);this.resize()};
function Th(a){if(!a.pg){var b=a.a().cloneNode(l);S(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.ta().R.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.hf=d>c;b.style.borderWidth="10px";a.gf=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Qd=j);Vb(b);a.pg=j}var b=a.a(),c=a.a().scrollHeight,f=a.a(),d=f.offsetHeight-f.clientHeight;if(!a.hf)var g=a.Pc,d=d-(g.top+g.bottom);
a.gf||(f=Vd(f),d-=f.top+f.bottom);c+=0<d?d:0;a.Qd?c-=Qh(a):(a.hf||(d=a.Pc,c+=d.top+d.bottom),a.gf||(a=Vd(b),c+=a.top+a.bottom));return c}function Uh(a,b){a.Ka!=b&&(a.Ka=b,a.a().style.height=b+"px")}function Vh(a){a=a.a();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.Gd=function(){if(!this.jc){var a=l;this.jc=j;var b=this.a(),c=this.Ka;if(b.scrollHeight){var d=l,f=l,g=Th(this),h=b.offsetHeight,m=Rh(this),q=Sh(this);m&&g<m?(Uh(this,m),d=j):q&&g>q?(Uh(this,q),b.style.overflowY="",f=j):h!=g?Uh(this,g):this.Ka||(this.Ka=g);!d&&(!f&&Ph)&&(a=j)}else Vh(this);this.jc=l;a&&(a=this.a(),this.jc||(this.jc=j,b=l,a.value||(a.value=" ",b=j),(f=a.scrollHeight)?(g=Th(this),d=Rh(this),h=Sh(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.Pc,a.style.paddingBottom=h.bottom+1+"px",Th(this)==
g&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=Th(this)-f,f>=d?Uh(this,f):Uh(this,d)),a.style.paddingBottom=h.bottom+"px")):Vh(this),b&&(a.value=""),this.jc=l));c!=this.Ka&&this.dispatchEvent("resize")}};n.si=function(){var a=this.a(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Ka&&(this.Ka=this.Mg=b)};function Wh(a,b,c,d,f){U.call(this);this.ea=nf();this.vb=a;this.Ud=b;this.Wg=c;this.tf=d||k;this.wd=f||k;this.we=this.ea?new Lh:k;this.Db={pending:l,all:l};this.nb=["pending","all","playlists"]}v(Wh,U);n=Wh.prototype;n.N=function(a){Wh.c.N.call(this,a);a.innerHTML="";a.scrollTop=0;lc(a,xh);var b=H("pending-content",a);x(this.Ud,function(a){Xh(this,b,a)},this);this.Ti=H("playlists-content",a);x(this.Wg,this.Hf,this);this.resize()};
n.m=function(){Wh.c.m.call(this);this.W=H("input",this.a());var a=new Oe(this.W),b=new Zf(this.W);this.Sa=H("tabs",this.a());this.F="pending";var c=l;R(R(R(R(this.n(),window,"resize",xa(N,t(this.resize,this))),a,"key",t(function(a){"13"==a.keyCode&&Yh(this,this.W.value)},this)),b,ag,t(function(){Yh(this,this.W.value)},this)),this.Sa,"click",t(function(a){a=hc(a.target,"li");this.Nc(a)},this));R(this.n(),this.a(),"scroll",t(function(){if(this.vb&&!c&&!this.Db[this.F]&&this.a().scrollTop+I().height>
this.a().scrollHeight-this.a().clientTop){c=j;var a=H("spinner",this.a());Q(a,j);var b="pending"==this.F?this.Ud:this.ie;Y("/admin/_media/collection/"+this.vb+"?offset="+b.length+("pending"==this.F?"&pending=1":""),t(function(g){c=l;g=ig(jg(g.target)).medias;g=Ma(g,function(a){return new Df(a)});Ua(b,g);var h=H(this.F+"-content",this.a());x(g,function(a){Xh(this,h,a)},this);this.Db[this.F]=!g.length;F(a,"finished",!g.length)},this))}},this))};n.resize=function(){Kd(this.a(),I().height-40)};
function Yh(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.vb&&c&&(a.W.disabled="disabled",Y("admin/_add/collection/"+a.vb,t(function(a){this.W.value="";this.W.disabled="";a=lg(a.target);if("media"==a.type){var b=Hf(Gf.b(),a.data);Oa(this.Ud,function(a){return a.id==b.id})||(this.Ud.push(b),a=H("pending-content",this.a()),Xh(this,a,b,j),this.Nc(Qb("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Oa(this.Wg,function(a){return a.id==
c.id})||(this.Hf(c),this.Nc(Qb("li","playlists",i)[0]))}},a),"POST","url="+c))}n.Nc=function(a){x(this.nb,function(b){F(this.Sa.parentElement,b,E(a,b));this.F=E(a,b)?b:this.F},this);this.vb&&!this.ie&&Y("/admin/_media/collection/"+this.vb,t(function(a){a=ig(jg(a.target)).medias;this.ie=Ma(a,function(a){return new Df(a)});var c=H("all-content",this.a());x(this.ie,function(a){Xh(this,c,a)},this)},this))};n.Hf=function(a){a=J(yh,{Si:a});this.Ti.appendChild(a)};
function Xh(a,b,c,d){var f=J(Eh,{media:c,Kb:Ff(c)});d?b.insertBefore(f,b.childNodes[0]||k):b.appendChild(f);a.ea&&(b=a.we,d=new Kh(f,i),Mh(b,d));var b=new Wd(H("repos",f)),g=H("thumb",f),d=H("play",f),h=H("approve",f),m=H("remove",f);b.vd=function(a,b){var c=b-24;-50<=c&&50>=c&&S(g,"background-position-y",50-c+"%")};R(R(R(R(a.n(),b,"end",function(){var a=(g.style[Ia("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);Y("/admin/_posthumb",he(),"POST","media="+c.id+"&pos="+a)}),d,
"click",t(a.Pi,a,c)),h,"click",t(a.If,a,c,j,f)),m,"click",t(a.If,a,c,l,f));N(xa(B,f,"show"))}n.If=function(a,b,c){var d=a.Fh||this.vb;Y("admin/_media/collection",t(function(){B(c,"remove");N(function(){Vb(c)},300);P.b();var b;P.b();b=ec(G("toggle-pending"));bd(0,b-1);Z.b().e("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};n.Pi=function(a){W.b().e(tf,a)};function Zh(a){U.call(this);this.Ya=a||k;this.wc=this.Lf=this.nh=this.Of=0}v(Zh,U);n=Zh.prototype;n.D=function(){this.d=J(wh)};n.N=function(a){Zh.c.N.call(this,a);var b=J(wh,{vg:this.Ya?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
n.m=function(){Zh.c.m.call(this);this.W=H("input",this.a());var a=new Oe(this.W);this.pc=H("scrollable",this.a());this.M=H("admin-channels",this.a());this.wf=H("topics",this.a());this.sd=H("collections",this.a());this.Nf=G("admin-col-list");this.ld=G("admin-list");V.b();this.Ya?(Y("/admin/_topicmedias/"+this.Ya,t(function(a){a=lg(a.target);Cb(a,function(a,b){Q(this.wf.parentElement,j);if(a&&a.length){var f=J(Bh,{oj:b,nc:a.length});this.wf.appendChild(f);M(f,"click",t(function(){a=Ma(a,function(a){return new Df(a)});
(new Wh("",a,[])).g(this.ld);Z.b().e("navigate",this.ld,l,b)},this));Z.b().subscribe("approved",function(b){if(Oa(a,function(a){return a.id==b.id})){var d=H("pending",f),m=ec(d)-1;0>=m?(Vb(f),sc(f)):ac(d,m)}},this)}},this);this.wc&&bd(P.b(),this.wc);this.nh=T(this.wf.parentElement).height;this.resize()},this)),Y("/admin/_collections/"+this.Ya,t(function(a){a=lg(a.target);Q(this.sd.parentElement,!!a.length);x(a,this.Ff,this);this.wc&&bd(P.b(),this.wc);this.Of=T(this.sd.parentElement).height;this.resize()},
this))):Y("/admin/_channels",t(function(a){a=lg(a.target);Q(this.M.parentElement,!!a.length);x(a,this.Ef,this);this.Lf=T(this.M.parentElement).height;this.resize()},this));R(this.n(),a,"key",t(function(a){"13"==a.keyCode&&this.W.value&&(a=this.W.value,this.W.disabled="disabled",Y(this.Ya?"/admin/_collections":"/admin/_channels",t(function(a){a=lg(a.target);this.Ya?(Q(this.sd.parentElement,!!a),this.Ff(a)):(Q(this.M.parentElement,!!a),this.Ef(a));this.W.disabled="";this.W.value=""},this),"POST","name="+
a+(this.Ya?"&cid="+this.Ya:"")))},this))};
n.Ef=function(a){var b=J(zh,{Xa:a});this.M.appendChild(b);M(b,"click",t(function(c){E(c.target,"on")||E(c.target,"off")?(F(b,"on",E(c.target,"on")),F(b,"off",!E(c.target,"on")),Y("/admin/_channel/online/"+a.id,t(function(a){a.target.disabled="";a=lg(a.target);F(b,"on",a.online);F(b,"off",!a.online)},this),"POST","online="+E(c.target,"on"))):E(c.target,"program")?Y("/admin/_program",he(),"POST","channel_id="+a.id):E(c.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST",
"channel_id="+a.id):E(c.target,"remove")&&confirm("Remove "+a.name+"?")?(Q(b,l),Y("/admin/_channels/"+a.id,function(a){lg(a.target).deleted?Vb(b):Q(b,j)},"DELETE")):((new Zh(a.id)).g(this.Nf),Z.b().e("navigate",this.Nf,l,a.name))},this))};
n.Ff=function(a){var b=J(Ah,{se:a});this.wc+=a.pending;this.sd.appendChild(b);M(b,"click",t(function(c){E(c.target,"remove")&&confirm("Remove "+a.name+"?")?(Q(b,l),Y("/admin/_collections/"+a.id,function(a){lg(a.target).deleted?Vb(b):Q(b,j)},"DELETE")):E(c.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):Y("/admin/_media/collection/"+a.id+"?pending=1",t(function(b){var b=ig(jg(b.target)),c=b.medias,c=Ma(c,function(a){return new Df(a)});
(new Wh(a.id,c,b.playlists)).g(this.ld);Z.b().e("navigate",this.ld,l,a.name)},this))},this));Z.b().subscribe("approved",function(c,d){if(d==a.id){var f=H("pending",b),g=ec(f)-1;0>=g?(Vb(b),sc(b)):ac(f,g)}},this)};n.resize=function(){Kd(this.pc,this.Lf+this.nh+this.Of+110)};function $h(a){this.id=a.id;this.r=mg(X.b(),a.user);this.text=a.text;this.time=gd(a.time+"Z")};function ai(a){this.id=a.id;this.handle=a.handle;this.X=a.picture;this.text=a.text;this.time=gd(a.time+"Z")};function bi(){U.call(this);this.z=new Oh("Add to the conversation.");this.Rb=new lf("tweet");cf(this.Rb,16,j);this.$a=new lf("post");cf(this.$a,16,j);this.Tb=new lf("add")}v(bi,U);n=bi.prototype;n.D=function(){this.d=J(rh)};
n.m=function(){bi.c.m.call(this);this.z.g(H("comment-textarea",this.a()));var a=this.z;a.Hg=70;a.resize();a=new Oe(this.z.ab());this.Pf=H("comment-controls",this.a());Be(this,this.Rb);this.Rb.g(H("tweet-toggle",this.a()));Y("/_twitter",t(function(a){a=lg(a.target);this.qh=a.auth;this.qj=a.auth_url;bf(this.Rb,this.qh)},this));Be(this,this.$a);this.$a.g(H("fb-toggle",this.a()));FB.api("/me/permissions",t(function(a){this.bg=!!a.data[0].publish_stream;bf(this.$a,this.bg)},this));Be(this,this.Tb);this.Tb.g(H("add-comment",
this.a()));this.Tb.Qa(l);R(R(R(R(R(R(this.n(),this.z.a(),"focus",t(function(){Dd(this.Pf,0,0);this.dispatchEvent("focus")},this)),a,"key",t(function(a){this.Tb.Qa(this.z.T());"13"==a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.Tb.setActive(this.z.T()),this.Rd(a))},this)),this.z,"resize",t(function(a){this.dispatchEvent(a)},this)),this.$a,"action",t(this.Ai,this)),this.Rb,"action",t(this.Oi,this)),this.Tb,"action",t(this.Rd,this))};n.T=function(){return this.z.T()};
n.collapse=function(){Dd(this.Pf,0,27)};n.Kd=function(){return E(this.a(),"focused")};n.sc=function(a){return F(this.a(),"focused",a)};n.Rd=function(){this.z.T()&&(this.z.setActive(l),this.z.Qa(l),this.sc(j),this.dispatchEvent({type:"add",Ch:t(function(){this.z.kb("");this.z.Qa(j);this.z.sc(j)},this),Oh:Le(this.$a),pj:Le(this.Rb),text:this.z.T()}))};n.Ai=function(){!this.bg&&Le(this.$a)&&(Q(G("overlay"),j),FB.login(function(a){Q(G("overlay"),l);this.Ph=!!a.authResponse;bf(this.$a,this.Ph)},{scope:"publish_stream"}))};
n.Oi=function(){if(!this.qh&&Le(this.Rb)){var a=window.open(this.qj,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Xc(a){var b=u(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return ci(c,b,0);c=Math.floor(c/60);if(24>c)return ci(c,b,1);c=new Date(u());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?ci(c,b,2):""}
function ci(a,b,c){return!b&&0==c?(b=ya("{$num} minute ago",{num:a}),c=ya("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=ya("in {$num} minute",{num:a}),c=ya("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=ya("{$num} hour ago",{num:a}),c=ya("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=ya("in {$num} hour",{num:a}),c=ya("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=ya("{$num} day ago",{num:a}),c=ya("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=ya("in {$num} day",{num:a}),c=ya("in {$num} days",
{num:a}),1==a?b:c):""};function di(a){U.call(this);this.I=this.o=a;this.z=new bi;this.Yc=new lf("Star");cf(this.Yc,16,j);this.ag=new lf("Facebook");this.ph=new lf("Twitter");this.Pa=new lf("Play");this.Ui=new lf("Plus")}v(di,U);n=di.prototype;n.D=function(){this.d=J(nh,{media:this.I})};n.N=function(a){di.c.N.call(this,a);var b=J(nh,{media:this.I,Kb:Ff(this.I)});a.innerHTML=b.innerHTML};
n.m=function(){di.c.m.call(this);this.I.subscribe(Ef,this.Gf,this);var a=H("viewers",this.a()),b=H("picture",this.a()),c=H("scrollable",this.a()),d=H("publisher",this.a()),f=H("title",this.a()),g=b.firstChild;this.sk=H("tweet-holder",this.a());this.xc=H("tweets",this.a());this.yd=H("dot-nav",this.a());this.oa=H("comments",this.a());ze(this.z,this.a());this.Yc.g(H("star",this.a()));this.ag.g(H("facebook",this.a()));this.ph.g(H("twitter",this.a()));this.Pa.g(H("play",this.a()));this.Ui.g(H("plus",this.a()));
var h=new Sc(5E3);Y("/_info/"+this.I.id,t(function(b){b=ig(jg(b.target));b.description?ac(H("description",this.a()),b.description):(Q(H("desc-link",this.a()),l),Q(H("scrollable",this.a()),l));var c=b.seen;Q(a,c.length);x(c,function(b){var c=J(oh,{r:mg(X.b(),b)});a.appendChild(c);R(this.n(),c,"click",function(){Z.b().e(dg,b)})},this);c=b.tweets;x(c,function(a){var a=new ai(a),b=J(ph,{fd:a,timestamp:Xc(a.time.getTime())});Yc(Wc.b(),a.time,H("timestamp",b));this.xc.appendChild(b);a=Sb("div","dot");this.yd.appendChild(a);
this.resize();Q(Zb(this.xc),j);this.wb=this.yd.firstChild;B(this.wb,"selected")},this);c.length&&h.start();b=b.comments;Q(Zb(this.oa),b.length);x(b,function(a){a=new $h(a);this.Gf(a)},this);this.resize()},this));R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(this.n(),window,"resize",xa(N,t(this.resize,this))),d,"click",t(function(){Z.b().e("media-list",this.I.ya.name,i,"/admin/_media/publisher/"+this.I.ya.id,this.I.ya.X,this.I.ya.description,this.I.ya.link)},this)),this.Yc,"action",t(function(){Gf.b().e("star",this.I,
Le(this.Yc));Y("/_star",i,"POST","media_id="+this.I.id+(!Le(this.Yc)?"&delete=1":""))},this)),this.ag,"action",t(this.zi,this)),this.ph,"action",t(this.Ni,this)),this.Pa,"action",t(this.Di,this)),this.z,"add",t(this.Rd,this)),this.z,"focus",t(function(){this.resize(27)},this)),this.z,"resize",t(function(a){this.resize(27+(a.target.Ka-22))},this)),this.yd,"click",t(function(a){E(a.target,"dot")&&(ei(this,a.target),h.stop())},this)),h,Uc,t(function(){var a=this.wb&&Xb(this.wb)||H("dot",this.a());ei(this,
a)},this)),window,"click",t(function(a){!hc(a.target,k,"comment-input")&&!this.z.T()&&(this.z.sc(l),this.z.collapse(),this.resize())},this)),g,"load",function(){Q(g,j);N(function(){T(g).height<T(b).height+50&&B(g,"fix-height");T(g).width>2*T(b).width?B(g,"pan-left"):T(g).height>2*T(b).height&&B(g,"pan-top");g.style.marginTop=-T(g).height/2+"px";g.style.marginLeft=-T(g).width/2+"px"})}),c,"scroll",t(function(){var a=(120-c.scrollTop)/100;Od(d,Math.min(1,Math.max(a,0)));Od(f,Math.min(1,Math.max(a,0)));
Od(g,Math.min(0.5,Math.max(a,0.1)));F(b,"scrolled",10<c.scrollTop)},this)),H("desc-link",this.a()),"click",t(function(){var a=zb(b,"scrolled");(new re(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,a?170:0],300)).play()},this))};function ei(a,b){if(b){a.wb&&D(a.wb,"selected");a.wb=b;B(a.wb,"selected");var c=Pa(Wb(a.yd),function(a){return a==b});(new re(a.xc,[a.xc.scrollLeft,a.xc.scrollTop],[300*c,a.xc.scrollTop],200)).play();a.resize()}}
n.Rd=function(a){Y("/_comment",a.Ch,"POST","media_id="+this.I.id+"&text="+a.text+"&tweet="+a.pj);a.Oh&&FB.api("/me/feed","POST",{message:a.text,name:this.I.name,link:"http://www.broken.tv",picture:this.I.Ua,caption:"on Broken.TV",description:this.I.description},aa())};n.Gf=function(a){var b=J(qh,{Cc:a,timestamp:Xc(a.time.getTime())});Yc(Wc.b(),a.time,H("timestamp",b));this.oa.appendChild(b);this.resize(this.z.Kd()?27:0);Q(Zb(this.oa),j)};
n.resize=function(a){this.oa&&Kd(this.oa,I().height-Fd(this.oa.parentElement).y-100-(a+10||10));N(t(function(){(new re(this.oa,[this.oa.scrollLeft,this.oa.scrollTop],[this.oa.scrollLeft,this.oa.scrollHeight],400)).play()},this),a?0:100)};n.zi=function(){Q(G("overlay"),j);FB.ui({method:"feed",name:this.I.name,link:"http://www.broken.tv",X:this.I.Ua,caption:"on Broken.TV",description:this.I.description},function(){Q(G("overlay"),l)})};
n.Ni=function(){var a=window.open("https://twitter.com/share?url=www.broken.tv&text=I'm watching "+this.I.name,"Tweet","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()};n.Di=function(){W.b().e(tf,this.o)};function fi(a,b,c,d,f){U.call(this);this.ea=nf();this.Kg=a||k;this.yc=b||k;this.Te={};this.tf=c||k;this.wd=d||k;this.qi=f||k;this.we=this.ea?new Lh:k;this.Ue=this.tg=0}v(fi,U);
fi.prototype.N=function(a){fi.c.N.call(this,a);a.innerHTML="";a.scrollTop=0;this.pc=Sb("div","ios-scroll");this.a().appendChild(this.pc);if(this.wd||this.tf)a=J(uh,{Ua:this.tf,description:this.wd,link:this.qi}),this.pc.appendChild(a),this.tg=T(a).height;this.Od=Sb("div","medias");this.pc.appendChild(this.Od);this.yc?Y(this.yc,t(function(a){a=ig(jg(a.target));a=Ma(a,function(a){return new Df(a)});x(a,this.ge,this);this.Ue=T(this.Od).height;this.resize()},this)):this.Kg&&(x(this.Kg,this.ge,this),this.Ue=
T(this.Od).height,this.resize())};fi.prototype.ge=function(a){var b=J(Dh,{media:a});this.Od.appendChild(b);if(this.ea){var c=this.we,d=new Kh(b,i);Mh(c,d)}R(this.n(),b,"click",t(function(){Z.b().e(cg,a)},this));this.Te[a.id]=b};fi.prototype.resize=function(){Kd(this.pc,this.Ue+this.tg+65)};function gi(a){U.call(this);this.th=this.o=a;this.nb=["activity","starred"]}v(gi,U);gi.prototype.N=function(a){gi.c.N.call(this,a);B(a,"profile");B(a,"ios-scroll");lc(a,Ch)};
gi.prototype.m=function(){this.Sa=H("tabs",this.a());Y("/_star",t(function(a){a=lg(a.target);a=Ma(a,function(a){return new Df(a)});this.Zc=new fi(a);this.Zc.g(H("starred-content",this.a()))},this));Y("/_activity/"+this.th.id,t(function(a){a=lg(a.target);this.qf=new hi(a,this.th.id);this.qf.g(H("activity-content",this.a()))},this));R(this.n(),this.Sa,"click",t(function(a){a=hc(a.target,"li");this.Nc(a)},this));Gf.b().subscribe("star",function(a,b){if(b)this.Zc.ge(a);else{var c=this.Zc,d=c.Te[a.id];
d&&(sc(d),Gb(c.Te,a.id))}},this)};gi.prototype.Nc=function(a){x(this.nb,function(b){F(this.Sa.parentElement,b,E(a,b));this.F=E(a,b)?b:this.F},this)};function hi(a,b){U.call(this);this.zh=a;this.ce=b||k;this.K=0;this.Db=l}v(hi,U);
hi.prototype.N=function(a){hi.c.N.call(this,a);a.innerHTML="";a.scrollTop=0;B(a,"stream");B(a,"ios-scroll");this.fe=Sb("div","activities");this.a().appendChild(this.fe);var b=Sb("div","spinner","Loading more");this.a().appendChild(b);Q(b,l);x(this.zh,function(a){ii(this,a)},this);X.b().subscribe("new-activity",function(a){(this.ce==a.user.id||!this.ce&&a.user.id!=X.b().Ma.id)&&ii(this,a,j)},this);R(this.n(),this.a(),"scroll",t(function(){!this.Db&&this.a().scrollTop+I().height>this.a().scrollHeight-
60&&(Q(b,j),Y("/_activity"+(this.ce?"/"+this.ce:"")+"?offset="+this.K,t(function(a){a=lg(a.target);this.Db=!a.length;F(b,"finished",this.Db);Q(b,this.Db);x(a,function(a){ii(this,a)},this)},this)))},this))};
function ii(a,b,c){var d=mg(X.b(),b.user),f=gd(b.time+"Z"),g=[];switch(b.type){case "session":var h=V.b().get(b.session.channel_id),g=b.session.media,b=J(sh,{r:d,Xa:h,time:Xc(f.getTime()),$i:b.session});break;case "comment":g=[b.comment.media];b=new $h(b.comment);b=J(th,{r:d,Cc:b,time:Xc(f.getTime())});break;default:return}Yc(Wc.b(),f,H("timestamp",b));R(R(a.n(),H("user",b),"click",function(){Z.b().e(dg,d)}),H("picture",b),"click",function(){Z.b().e(dg,d)});var m=H("medias",b);x(g,function(a){var b=
new Df(a),a=J(Dh,{media:b});H("thumb",a);m.appendChild(a);R(this.n(),a,"click",function(){Z.b().e(cg,b)})},a);c?(c=a.fe,c.insertBefore(b,c.childNodes[0]||k)):a.fe.appendChild(b);N(xa(B,b,"show"));a.K++};function ji(){U.call(this);this.ea=nf();this.Bh=new Zh;this.nb={};this.mb=[];this.oc=[]}v(ji,U);n=ji.prototype;
n.m=function(){ji.c.m.call(this);this.Rf=G("sidebar-content");this.Jg=G("media-list");this.bf=G("profile");this.ob=G("toolbar");this.Sa=H("tabs",this.a());var a=new Oe(document);x(Wb(this.Sa),function(a){var b=yb(a)[0];this.nb[b]=a;this.mb.push(b)},this);this.Sg();Y("/_activity",t(function(a){a=lg(a.target);this.qf=new hi(a);this.qf.g(G("stream"))},this));this.Zc=new gi(X.b().Ma);this.Zc.g(G("my-profile"));this.Na?(this.B=this.Na.a(),this.F="info"):(this.B=G("stream"),this.F="stream");this.oc=[this.B,
""];B(this.B,"current");if(this.ea){this.Bh.g(G("admin"));var b=J(vh,{name:"ADMIN",className:"admin"});this.Sa.appendChild(b);this.nb.admin=b;this.mb.push("admin")}ki(this);R(R(R(R(this.n(),H("back-button",this.ob),"click",t(function(a){var b=this.oc.shift();this.navigate(b[0],j,b[1]);ki(this);a.stopPropagation()},this)),this.Sa,"click",t(function(a){var b=this.F,f=hc(a.target,"li"),g=yb(f)[0];li(this,this.F,g);B(f,"selected");Dd(H("arrow",this.ob),T(f).width/2+Fd(f).x);b!=this.F&&a.stopPropagation()},
this)),this.ob,"click",t(function(a){((a=hc(a.target,"li"))&&yb(a)[0]==this.F||!a)&&(new re(this.B,[this.B.scrollLeft,this.B.scrollTop],[this.B.scrollLeft,0],300)).play()},this)),a,"key",t(function(a){a.ctrlKey&&"68"==a.keyCode&&zb(this.a(),"dark")},this));P.b().subscribe(Zc,function(a){F(this.a(),"toggled",a)},this);Z.b().subscribe("navigate",this.navigate,this);Z.b().subscribe("media-list",this.bj,this);Z.b().subscribe(cg,this.aj,this);Z.b().subscribe(dg,this.cj,this);V.b().subscribe(sf,this.Sg,
this);V.b().subscribe(rf,this.yi,this);P.b().subscribe("toggle-admin",function(a){F(this.a(),"admin",a);a?(P.b().e(Zc,j),li(this,this.F,"admin")):"admin"==this.F&&li(this,"admin","info")},this)};n.Sg=function(a){if(a=a||V.b().A.v())this.td=a.media,sc(this.Na),this.Na=new di(this.td),this.Na.g(G("info"))};n.yi=function(a){a=a||V.b().A;if(this.td=a.v()&&a.v().media)sc(this.Na),this.Na=new di(this.td),this.Na.g(G("info"))};
function li(a,b,c){var d=H(c,a.Rf);Ka(a.mb,b);var f=Ka(a.mb,c),g=(b=Ka(a.mb,b)<f)?0:a.mb.length-1,h=b?g<a.mb.length:0<=g;for(g;h;g+=b?1:-1){var m=H(a.mb[g],a.Rf);if(b&&g>f||!b&&g<f)S(m,{left:"",right:""});else if(b&&g<f||!b&&g>f)S(m,{left:b?"-300px":"",right:""});else if(g==f){S(m,{right:b?0:"",left:""});break}}a.F=c;Va(a.oc,0,0,[a.B,""]);D(a.B,"current");a.B=d;B(a.B,"current");ki(a)}
n.navigate=function(a,b,c){if(a!=this.B){var d=E(this.B,"screen");b?(S(this.B,{left:"",right:0}),S(a,{right:"",left:0,width:""}),D(this.B,"current"),B(a,"current"),this.B=a):(S(this.B,{left:d?0:"",right:""}),S(a,{right:0,left:""}),b=[this.B,ec(H("back-title",this.ob))],Va(this.oc,0,0,b),D(this.B,"current"),this.B=a,B(this.B,"current"));F(this.ob,"back",E(this.B,"slide"));c&&ac(H("back-title",this.ob),c)}};n.bj=function(a,b,c,d,f,g){(new fi(b,c,d,f,g)).g(this.Jg);Z.b().e("navigate",this.Jg,l,a,d,f)};
n.aj=function(a){if(this.Na&&a.id==this.Na.o.id){D(this.ob,"back");for(a=this.oc[0][0];a&&E(a,"slide");)a=this.oc.shift();li(this,this.F,"info")}else{var b=G("media-info");(new di(a)).g(b);Z.b().e("navigate",b,l,a.name)}P.b().e(Zc,j)};n.cj=function(a){if(!this.cf||!(this.cf.o.id==a.id&&this.B==this.bf))this.cf=new gi(a),this.cf.g(this.bf),Z.b().e("navigate",this.bf,l,a.name),P.b().e(Zc,j)};function ki(a){Dd(H("arrow",a.ob),T(a.nb[a.F]).width/2+Fd(a.nb[a.F]).x)};function mi(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message">This channel is currently offline.</div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"></div><div class="pause" style="display: none"></div></div></div><div id="guide" class="guide toggled"><div id="channels" class="channels"></div><div class="right-grad"></div><div class="header" id="header"><div class="times"><div id="now-left" class="left browse">&#x25C0;<span> NOW</span></div><div id="now-right" class="right browse"><span>NOW </span>&#x25B6;</div></div></div><div id="my-ticker" class="my-ticker" style="display:none"><div class="me" style="background:'+
K(a.r.color)+";border-color:"+K(a.r.color)+';"><img src="'+K(a.r.X)+'"/></div></div><div id="ticker" class="ticker"><div id="go-live" class="go-live">GO LIVE</div></div></div><div id="controller" class="controller guide-toggled"><div class="background"></div><div class="left"><div id="guide-toggle" class="guide-toggle dark button">GUIDE</div><div class="controls"><div class="restart dark button"></div><div class="play dark button"></div><div class="volume dark button"></div></div><div class="border"></div></div><div class="right"><div id="admin-toggle" class="admin-toggle dark button" style="display: none"><div id="toggle-pending" class="pending" style="display:none"></div></div><div id="sidebar-toggle" class="sidebar-toggle dark button"></div><div class="border"></div></div></div><div id="sidebar"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM</div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"></div><div id="stream" class="screen stream"></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div>'+
(a.he?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div></div>'};function ni(){O.call(this)}v(ni,O);la(ni);ni.prototype.init=function(a){this.qk=a;(new appengine.Channel(unescape(a))).open().onmessage=t(this.Ci,this);return this};
ni.prototype.Ci=function(a){var b=ig(a.data);switch(b.type){case "viewer_change":var a=mg(X.b(),b.user),c=V.b().get(b.channel_id),d=V.b().get(b.last_channel_id),f=gd(b.time+"Z"),g=new Kf(b.session_id,a,c,f);a.ud&&(a.ud.be=f);a.ud=g;d.e("remove-viewer",a);c.e(Lf,g);break;case "new_comment":a=new $h(b.comment);(d=Hf(Gf.b(),b.comment.media))&&d.e(Ef,a);break;case "new_activity":X.b().e("new-activity",b.activity);break;case "update_programs":a=b.programs;c=V.b().get(b.channel_id);x(a,function(a){c.e(Mf,
a)},this);break;case "new_programs":x(b.programs,t(function(a){var a=new wf(a),c=V.b().get(b.channel_id);c&&(c.e(xf,a),(!V.b().A||!V.b().A.v())&&V.b().e(rf,c))},this))}};function oi(){O.call(this);this.jk=[]}v(oi,O);la(oi);oi.prototype.Re=function(a){Cb(a,t(function(a,c){x(a,t(function(a){a=new wf(a);V.b().Wb[c]&&V.b().Wb[c].Ub(a)},this))},this))};var pi=l;function qi(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var ri=navigator.plugins["Shockwave Flash"];ri&&(pi=j,ri.description&&qi(ri.description));navigator.plugins["Shockwave Flash 2.0"]&&(pi=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var si=navigator.mimeTypes["application/x-shockwave-flash"];(pi=si&&si.enabledPlugin)&&qi(si.enabledPlugin.description)}else try{var ti=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),pi=j;qi(ti.GetVariable("$version"))}catch(ui){try{ti=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
pi=j}catch(vi){try{ti=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),pi=j,qi(ti.GetVariable("$version"))}catch(wi){}}};function xi(a,b,c,d,f,g,h,m){this.yc=a;this.Eh=b;this.wd=c;this.tk=d;this.gk=f;this.ak=g;this.Da=h;this.Ka=m;this.kj=[];this.Qj=[];this.Tj=[];this.lk=[]}xi.prototype.dg=ca("Eh");xi.prototype.lf=function(a){this.s=a;return this};function yi(a){this.yc=a;this.ej=k}function zi(a){this.yc=a;this.ej=this.uk=k};function hg(a,b,c){xi.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.rj=a;this.kj=[new yi("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.lf(new zi("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}v(hg,xi);
var gg=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function Ai(a){U.call(this);this.uj=ni.b().init(a);this.Hh=new ch;this.Uh=new mf;this.dj=new ji;this.s=new gh}v(Ai,U);Ai.prototype.N=function(a){Ai.c.N.call(this,a);var b=J(mi,{r:X.b().Ma,he:nf()});a.insertBefore(b,a.childNodes[0]||k)};Ai.prototype.m=function(){Ai.c.m.call(this);this.Hh.g(G("controller"));this.Uh.g(G("guide"));this.dj.g(G("sidebar"));this.s.g(G("stage"));R(this.n(),document.body,"touchmove",function(a){hc(a.target,"div","ios-scroll")||a.preventDefault()})};
function Bi(){var a=G("fb-login"),b=G("static-content");B(a,"disabled");B(a,"spin");Y("/_session",function(a){if(200==ah(a.target)){var d=lg(a.target),a=function(){N(function(){B(b,"hide");B(G("login"),"hide");N(function(){Q(G("login"),l)},600)},600)};Vc(W.b(),"no-media",a);Vc(W.b(),"playing",a);var a=d.token,f=d.channels,g=d.programs,h=d.current_user,d=d.viewer_sessions;if(!Fb(h)){var m=X.b();m.Ma=mg(m,h)}V.b().Re(f,h.current_channel);oi.b().Re(g);var f=V.b(),q=X.b();x(d,t(function(a){var b=mg(X.b(),
a.user);q.add(b);var c=this.Wb[a.channel_id],d=gd(a.tune_in+"Z"),f=a.tune_out?gd(a.tune_out+"Z"):k,a=new Kf(a.id,b,c,d,f);b.ud=a;c.de.push(a)},f));Wc.b().init();(new Ai(a)).g(document.body)}else a=G("fb-login"),B(a,"disabled"),Q(a,j),B(a,"show"),B(a,"waitlist")},"POST")}
ga("brkn.Main.staticInit",function(){function a(a){a?(d.style.top=Math.max(10,I().height-190)+"px",(new re(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,Math.min(I().height-435,d.scrollHeight+190)],300)).play()):(d.style.top="",d.style.height="",d.className="")}var b=G("fb-login"),c=G("login"),d=G("static-content"),f=G("pages"),g=G("footer"),h=l;N(function(){Q(b,j);N(xa(B,b,"show"),400)},100);M(c,"click",function(b){"static-scrollable"==b.target.id&&(b=new re(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,
0],300),b.play(),h=l,M(b,"end",xa(a,h)))});M(c,"scroll",function(){10>c.scrollTop&&(h=l,a(h))});M(g,"click",function(b){if(b=hc(b.target,k,"section"))h=j,d.className=b.id,d.style.height=T(f).height+220+"px",a(h)});M(window,"resize",xa(a,j))});ga("brkn.Main.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)Bi();else{var b=G("fb-login");M(b,"click",function(){B(b,"disabled");FB.login(function(a){a.authResponse?Bi():D(b,"disabled")},{scope:"email"})})}})});