function e(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var m,ea=ea||{},p=this;function fa(a,b){var c=a.split("."),d=p;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&ha(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}
function ia(a){for(var a=a.split("."),b=p,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function ja(){}function la(a){a.b=function(){return a.Yg?a.Yg:a.Yg=new a}}
function ma(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return a!==i}function na(a){return"array"==ma(a)}function oa(a){var b=ma(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function pa(a){return"number"==typeof a}function qa(a){return"function"==ma(a)}function ra(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function sa(a){return a[ta]||(a[ta]=++ua)}
var ta="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ua=0;function va(a,b,c){return a.call.apply(a.bind,arguments)}function wa(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function s(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return s.apply(k,arguments)}function xa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var t=Date.now||function(){return+new Date};function ya(a,b){var c=b||{},d;for(d in c)var f=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),f);return a}
function v(a,b){function c(){}c.prototype=b.prototype;a.c=b.prototype;a.prototype=new c;a.prototype.constructor=a};function za(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Aa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ba(a){if(!Ca.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Da,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ea,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Fa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ga,"&quot;"));return a}var Da=/&/g,Ea=/</g,Fa=/>/g,Ga=/\"/g,Ca=/[&<>\"]/;
function Ha(a){var a=ha(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ia(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Ja=Array.prototype,Ka=Ja.indexOf?function(a,b,c){return Ja.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(r(a))return!r(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},w=Ja.forEach?function(a,b,c){Ja.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},La=Ja.filter?function(a,b,c){return Ja.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=
r(a)?a.split(""):a,n=0;n<d;n++)if(n in h){var q=h[n];b.call(c,q,n,a)&&(f[g++]=q)}return f},Ma=Ja.map?function(a,b,c){return Ja.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=r(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Na=Ja.every?function(a,b,c){return Ja.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return l;return j};
function Oa(a,b){var c=Pa(a,b,i);return 0>c?k:r(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function Qa(a,b){return 0<=Ka(a,b)}function Ra(a,b){var c=Ka(a,b);0<=c&&Ja.splice.call(a,c,1)}function Sa(a){return Ja.concat.apply(Ja,arguments)}function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ua(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(na(d)||(f=oa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,n=0;n<h;n++)a[g+n]=d[n];else a.push(d)}}function Va(a,b,c,d){Ja.splice.apply(a,Wa(arguments,1))}function Wa(a,b,c){return 2>=arguments.length?Ja.slice.call(a,b):Ja.slice.call(a,b,c)};var Xa,Ya,Za,$a,ab;function bb(){return p.navigator?p.navigator.userAgent:k}function cb(){return p.navigator}$a=Za=Ya=Xa=l;var db;if(db=bb()){var eb=cb();Xa=0==db.indexOf("Opera");Ya=!Xa&&-1!=db.indexOf("MSIE");Za=!Xa&&-1!=db.indexOf("WebKit");$a=!Xa&&!Za&&"Gecko"==eb.product}var fb=Xa,x=Ya,gb=$a,y=Za,hb=cb();ab=-1!=(hb&&hb.platform||"").indexOf("Mac");var ib=!!cb()&&-1!=(cb().appVersion||"").indexOf("X11"),jb;
a:{var kb="",lb;if(fb&&p.opera)var mb=p.opera.version,kb="function"==typeof mb?mb():mb;else if(gb?lb=/rv\:([^\);]+)(\)|;)/:x?lb=/MSIE\s+([^\);]+)(\)|;)/:y&&(lb=/WebKit\/(\S+)/),lb)var nb=lb.exec(bb()),kb=nb?nb[1]:"";if(x){var ob,pb=p.document;ob=pb?pb.documentMode:i;if(ob>parseFloat(kb)){jb=String(ob);break a}}jb=kb}var qb={};
function A(a){var b;if(!(b=qb[a])){b=0;for(var c=Aa(String(jb)).split("."),d=Aa(String(a)).split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var h=c[g]||"",n=d[g]||"",q=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var z=q.exec(h)||["","",""],G=u.exec(n)||["","",""];if(0==z[0].length&&0==G[0].length)break;b=((0==z[1].length?0:parseInt(z[1],10))<(0==G[1].length?0:parseInt(G[1],10))?-1:(0==z[1].length?0:parseInt(z[1],10))>(0==G[1].length?0:parseInt(G[1],10))?1:0)||((0==z[2].length)<
(0==G[2].length)?-1:(0==z[2].length)>(0==G[2].length)?1:0)||(z[2]<G[2]?-1:z[2]>G[2]?1:0)}while(0==b)}b=qb[a]=0<=b}return b}var rb={};function sb(a){return rb[a]||(rb[a]=x&&!!document.documentMode&&document.documentMode>=a)};var tb,ub=!x||sb(9),vb=!gb&&!x||x&&sb(9)||gb&&A("1.9.1"),wb=x&&!A("9"),xb=x||fb||y;function yb(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function B(a,b){for(var c=yb(a),d=Wa(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)Qa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==f}function C(a,b){var c=yb(a),d=Wa(arguments,1),f,g=d;f=La(c,function(a){return!Qa(g,a)});a.className=f.join(" ");return f.length==c.length-d.length}function D(a,b){return Qa(yb(a),b)}function E(a,b,c){c?B(a,b):C(a,b)}function zb(a,b){var c=!D(a,b);E(a,b,c);return c};function Ab(a,b){this.x=ha(a)?a:0;this.y=ha(b)?b:0}Ab.prototype.clone=function(){return new Ab(this.x,this.y)};function Bb(a,b){this.width=a;this.height=b}Bb.prototype.clone=function(){return new Bb(this.width,this.height)};Bb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Bb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Bb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Cb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Db(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Eb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Fb(a){for(var b in a)return l;return j}function Gb(a,b){b in a&&delete a[b]}function Hb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var Ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Jb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Ib.length;g++)c=Ib[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Kb(a){return a?new Lb(Mb(a)):tb||(tb=new Lb)}function F(a){return r(a)?document.getElementById(a):a}function Nb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Ob("*",a,b)}function H(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Nb(a,b)[0])||k}
function Ob(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},f=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[f++]=h);d.length=f;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=f=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Qa(a.split(/\s+/),b)&&(d[f++]=h);d.length=f;return d}return c}
var Pb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function I(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Bb(a.clientWidth,a.clientHeight)}function J(a,b,c){return Qb(document,arguments)}
function Qb(a,b){var c=b[0],d=b[1];if(!ub&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var f={};Jb(f,d);delete f.type;d=f}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(r(d)?g.className=d:na(d)?B.apply(k,[g].concat(d)):Cb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Pb?g.setAttribute(Pb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(r(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(f=b[c],oa(f)&&!(ra(f)&&0<f.nodeType)){var h=w,n;a:{if((n=f)&&"number"==typeof n.length){if(ra(n)){n="function"==typeof n.item||"string"==typeof n.item;break a}if(qa(n)){n="function"==typeof n.item;break a}}n=l}h(n?Ta(f):f,d)}else d(f)}return g}function Rb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Sb(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}
function Ub(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Vb(a){return vb&&a.children!=i?a.children:La(a.childNodes,function(a){return 1==a.nodeType})}function Wb(a){return a.nextElementSibling!=i?a.nextElementSibling:Xb(a.nextSibling,j)}function Xb(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function Yb(a){if(xb)return a.parentElement;a=a.parentNode;return ra(a)&&1==a.nodeType?a:k}
function Zb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Mb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function $b(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Rb(a),a.appendChild(Mb(a).createTextNode(b))}var ac={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},bc={IMG:" ",BR:"\n"};function cc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,pa(a)&&0<=a&&32768>a):l}
function dc(a){if(wb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];ec(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");wb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function fc(a){var b=[];ec(a,b,l);return b.join("")}
function ec(a,b,c){if(!(a.nodeName in ac))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in bc)b.push(bc[a.nodeName]);else for(a=a.firstChild;a;)ec(a,b,c),a=a.nextSibling}function gc(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||D(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Lb(a){this.V=a||p.document||document}m=Lb.prototype;m.Ba=Kb;
m.a=function(a){return r(a)?this.V.getElementById(a):a};m.I=function(a,b,c){return Qb(this.V,arguments)};m.createElement=function(a){return this.V.createElement(a)};m.createTextNode=function(a){return this.V.createTextNode(a)};function hc(a){var b=a.V,a=!y&&"CSS1Compat"==b.compatMode?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Ab(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}m.appendChild=function(a,b){a.appendChild(b)};m.Gg=Vb;
function ic(a,b){return b.firstElementChild!=i?b.firstElementChild:Xb(b.firstChild,j)}m.contains=Zb;x&&A(8);var jc={};function kc(a,b,c){a.innerHTML=b(c||jc,i,i)}function K(a,b){var c;a:if(c=(new Lb(i)||Kb()).createElement("DIV"),c.innerHTML=a(b||jc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function L(a){return"object"===typeof a&&a&&0===a.Ek?a.content:String(a).replace(lc,mc)}
var nc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function mc(a){return nc[a]}var lc=/[\x00\x22\x26\x27\x3c\x3e]/g;function M(){0!=oc&&(this.Fk=Error().stack,pc[sa(this)]=this)}var oc=0,pc={};M.prototype.Td=l;M.prototype.U=function(){if(!this.Td&&(this.Td=j,this.h(),0!=oc)){var a=sa(this);delete pc[a]}};M.prototype.h=function(){this.li&&qc.apply(k,this.li);if(this.vh)for(;this.vh.length;)this.vh.shift()()};function rc(a){a&&"function"==typeof a.U&&a.U()}function qc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];oa(d)?qc.apply(k,d):rc(d)}};var sc=!x||sb(9),tc=!x||sb(9),uc=x&&!A("9");!y||A("528");gb&&A("1.9b")||x&&A("8")||fb&&A("9.5")||y&&A("528");gb&&!A("8")||x&&A("9");function vc(a,b){this.type=a;this.currentTarget=this.target=b}m=vc.prototype;m.h=aa();m.U=aa();m.Wb=l;m.defaultPrevented=l;m.re=j;m.stopPropagation=function(){this.Wb=j};m.preventDefault=function(){this.defaultPrevented=j;this.re=l};function wc(a){a.preventDefault()};function xc(a){xc[" "](a);return a}xc[" "]=ja;function yc(a,b){a&&this.init(a,b)}v(yc,vc);var zc=[1,4,2];m=yc.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.tf=l;m.pa=k;
m.init=function(a,b){var c=this.type=a.type;vc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(gb){var f;a:{try{xc(d.nodeName);f=j;break a}catch(g){}f=l}f||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=y||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=y||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.tf=ab?a.metaKey:a.ctrlKey;this.state=a.state;this.pa=a;a.defaultPrevented&&this.preventDefault();delete this.Wb};function Ac(a){return(sc?0==a.pa.button:"click"==a.type?j:!!(a.pa.button&zc[0]))&&!(y&&ab&&a.ctrlKey)}
m.stopPropagation=function(){yc.c.stopPropagation.call(this);this.pa.stopPropagation?this.pa.stopPropagation():this.pa.cancelBubble=j};m.preventDefault=function(){yc.c.preventDefault.call(this);var a=this.pa;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,uc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};m.h=aa();function Bc(){}var Cc=0;m=Bc.prototype;m.key=0;m.Yb=l;m.Je=l;m.init=function(a,b,c,d,f,g){qa(a)?this.$g=j:a&&a.handleEvent&&qa(a.handleEvent)?this.$g=l:e(Error("Invalid listener argument"));this.yc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.ce=g;this.Je=l;this.key=++Cc;this.Yb=l};m.handleEvent=function(a){return this.$g?this.yc.call(this.ce||this.src,a):this.yc.handleEvent.call(this.yc,a)};var Dc={},Ec={},Fc={},Gc={};
function N(a,b,c,d,f){if(b){if(na(b)){for(var g=0;g<b.length;g++)N(a,b[g],c,d,f);return k}var d=!!d,h=Ec;b in h||(h[b]={N:0,ua:0});h=h[b];d in h||(h[d]={N:0,ua:0},h.N++);var h=h[d],n=sa(a),q;h.ua++;if(h[n]){q=h[n];for(g=0;g<q.length;g++)if(h=q[g],h.yc==c&&h.ce==f){if(h.Yb)break;return q[g].key}}else q=h[n]=[],h.N++;var u=Hc,z=tc?function(a){return u.call(z.src,z.key,a)}:function(a){a=u.call(z.src,z.key,a);if(!a)return a},g=z;g.src=a;h=new Bc;h.init(c,g,a,b,d,f);c=h.key;g.key=c;q.push(h);Dc[c]=h;Fc[n]||
(Fc[n]=[]);Fc[n].push(h);a.addEventListener?(a==p||!a.tg)&&a.addEventListener(b,g,d):a.attachEvent(b in Gc?Gc[b]:Gc[b]="on"+b,g);return c}e(Error("Invalid event type"))}function Ic(a,b,c,d,f){if(na(b)){for(var g=0;g<b.length;g++)Ic(a,b[g],c,d,f);return k}a=N(a,b,c,d,f);Dc[a].Je=j;return a}function Jc(a,b,c,d,f){if(na(b))for(var g=0;g<b.length;g++)Jc(a,b[g],c,d,f);else if(d=!!d,a=Kc(a,b,d))for(g=0;g<a.length;g++)if(a[g].yc==c&&a[g].capture==d&&a[g].ce==f){Lc(a[g].key);break}}
function Lc(a){if(!Dc[a])return l;var b=Dc[a];if(b.Yb)return l;var c=b.src,d=b.type,f=b.proxy,g=b.capture;c.removeEventListener?(c==p||!c.tg)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in Gc?Gc[d]:Gc[d]="on"+d,f);c=sa(c);Fc[c]&&(f=Fc[c],Ra(f,b),0==f.length&&delete Fc[c]);b.Yb=j;if(b=Ec[d][g][c])b.th=j,Mc(d,g,c,b);delete Dc[a];return j}
function Mc(a,b,c,d){if(!d.ie&&d.th){for(var f=0,g=0;f<d.length;f++)d[f].Yb?d[f].proxy.src=k:(f!=g&&(d[g]=d[f]),g++);d.length=g;d.th=l;0==g&&(delete Ec[a][b][c],Ec[a][b].N--,0==Ec[a][b].N&&(delete Ec[a][b],Ec[a].N--),0==Ec[a].N&&delete Ec[a])}}function Kc(a,b,c){var d=Ec;return b in d&&(d=d[b],c in d&&(d=d[c],a=sa(a),d[a]))?d[a]:k}
function Nc(a,b,c,d,f){var g=1,b=sa(b);if(a[b]){a.ua--;a=a[b];a.ie?a.ie++:a.ie=1;try{for(var h=a.length,n=0;n<h;n++){var q=a[n];q&&!q.Yb&&(g&=Oc(q,f)!==l)}}finally{a.ie--,Mc(c,d,b,a)}}return Boolean(g)}function Oc(a,b){a.Je&&Lc(a.key);return a.handleEvent(b)}
function Hc(a,b){if(!Dc[a])return j;var c=Dc[a],d=c.type,f=Ec;if(!(d in f))return j;var f=f[d],g,h;if(!tc){g=b||ia("window.event");var n=j in f,q=l in f;if(n){if(0>g.keyCode||g.returnValue!=i)return j;a:{var u=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(z){u=j}if(u||g.returnValue==i)g.returnValue=j}}u=new yc;u.init(g,this);g=j;try{if(n){for(var G=[],ka=u.currentTarget;ka;ka=ka.parentNode)G.push(ka);h=f[j];h.ua=h.N;for(var ga=G.length-1;!u.Wb&&0<=ga&&h.ua;ga--)u.currentTarget=G[ga],g&=Nc(h,G[ga],
d,j,u);if(q){h=f[l];h.ua=h.N;for(ga=0;!u.Wb&&ga<G.length&&h.ua;ga++)u.currentTarget=G[ga],g&=Nc(h,G[ga],d,l,u)}}else g=Oc(c,u)}finally{G&&(G.length=0)}return g}d=new yc(b,this);return g=Oc(c,d)};function Pc(){M.call(this)}v(Pc,M);m=Pc.prototype;m.tg=j;m.ne=k;m.Gf=ba("ne");m.addEventListener=function(a,b,c,d){N(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Jc(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=Ec;if(b in c){if(r(a))a=new vc(a,this);else if(a instanceof vc)a.target=a.target||this;else{var d=a,a=new vc(b,this);Jb(a,d)}var d=1,f,c=c[b],b=j in c,g;if(b){f=[];for(g=this;g;g=g.ne)f.push(g);g=c[j];g.ua=g.N;for(var h=f.length-1;!a.Wb&&0<=h&&g.ua;h--)a.currentTarget=f[h],d&=Nc(g,f[h],a.type,j,a)&&a.re!=l}if(l in c)if(g=c[l],g.ua=g.N,b)for(h=0;!a.Wb&&h<f.length&&g.ua;h++)a.currentTarget=f[h],d&=Nc(g,f[h],a.type,l,a)&&a.re!=l;else for(f=this;!a.Wb&&f&&
g.ua;f=f.ne)a.currentTarget=f,d&=Nc(g,f,a.type,l,a)&&a.re!=l;a=Boolean(d)}else a=j;return a};m.h=function(){Pc.c.h.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Cb(Fc,function(d){for(var f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Lc(g.key),b++}});else{var d=sa(this);if(Fc[d])for(var d=Fc[d],f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Lc(g.key),b++}}this.ne=k};function Qc(a,b){M.call(this);this.K=a||1;this.xd=b||Rc;this.He=s(this.Xj,this);this.hf=t()}v(Qc,Pc);Qc.prototype.enabled=l;var Rc=p.window;m=Qc.prototype;m.ia=k;m.Xj=function(){if(this.enabled){var a=t()-this.hf;0<a&&a<0.8*this.K?this.ia=this.xd.setTimeout(this.He,this.K-a):(this.dispatchEvent(Sc),this.enabled&&(this.ia=this.xd.setTimeout(this.He,this.K),this.hf=t()))}};m.start=function(){this.enabled=j;this.ia||(this.ia=this.xd.setTimeout(this.He,this.K),this.hf=t())};
m.stop=function(){this.enabled=l;this.ia&&(this.xd.clearTimeout(this.ia),this.ia=k)};m.h=function(){Qc.c.h.call(this);this.stop();delete this.xd};var Sc="tick";function O(a,b,c){qa(a)?c&&(a=s(a,c)):a&&"function"==typeof a.handleEvent?a=s(a.handleEvent,a):e(Error("Invalid listener argument"));return 2147483647<b?-1:Rc.setTimeout(a,b||0)};function P(){M.call(this);this.Ha=[];this.Bb={}}v(P,M);m=P.prototype;m.fh=1;m.pe=0;m.subscribe=function(a,b,c){var d=this.Bb[a];d||(d=this.Bb[a]=[]);var f=this.fh;this.Ha[f]=a;this.Ha[f+1]=b;this.Ha[f+2]=c;this.fh=f+3;d.push(f);return f};function Uc(a,b,c){var d=a.subscribe(b,function(a){c.apply(i,arguments);this.Uf(d)},a)}
m.Uf=function(a){if(0!=this.pe)return this.ld||(this.ld=[]),this.ld.push(a),l;var b=this.Ha[a];if(b){var c=this.Bb[b];c&&Ra(c,a);delete this.Ha[a];delete this.Ha[a+1];delete this.Ha[a+2]}return!!b};m.d=function(a,b){var c=this.Bb[a];if(c){this.pe++;for(var d=Wa(arguments,1),f=0,g=c.length;f<g;f++){var h=c[f];this.Ha[h+1].apply(this.Ha[h+2],d)}this.pe--;if(this.ld&&0==this.pe)for(;c=this.ld.pop();)this.Uf(c)}};
m.clear=function(a){if(a){var b=this.Bb[a];b&&(w(b,this.Uf,this),delete this.Bb[a])}else this.Ha.length=0,this.Bb={}};m.h=function(){P.c.h.call(this);delete this.Ha;delete this.Bb;delete this.ld};function Vc(){P.call(this);this.Md=new Qc(1E3);this.Rh=new Qc(3E4);this.Sh=[]}v(Vc,P);la(Vc);Vc.prototype.init=function(){this.Md.start();this.Rh.start();N(this.Rh,Sc,s(function(){w(this.Sh,function(a){$b(a.element,Wc(a.time.getTime()))},this)},this))};function Xc(a,b,c){86400>(t()-b.getTime())/1E3&&a.Sh.push({time:b,element:c})};function Q(){P.call(this);this.vj=j;this.Kc=D(F("controller"),"sidebar-toggled");this.uc=D(F("controller"),"guide-toggled");this.subscribe(Yc,ba("Kc"),this);this.subscribe(Zc,ba("uc"),this);this.subscribe($c,ba("vj"),this)}v(Q,P);la(Q);function ad(a,b){var c=F("toggle-pending");$b(c,b);R(c,!!b)}var $c="play",Zc="toggle-guide",Yc="toggle-sidebar";var bd={ik:["BC","AD"],hk:["Before Christ","Anno Domini"],kk:"JFMAMJJASOND".split(""),rk:"JFMAMJJASOND".split(""),jk:"January February March April May June July August September October November December".split(" "),qk:"January February March April May June July August September October November December".split(" "),nk:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),tk:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),xk:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
vk:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),pk:"Sun Mon Tue Wed Thu Fri Sat".split(" "),uk:"Sun Mon Tue Wed Thu Fri Sat".split(" "),lk:"SMTWTFS".split(""),sk:"SMTWTFS".split(""),ok:["Q1","Q2","Q3","Q4"],mk:["1st quarter","2nd quarter","3rd quarter","4th quarter"],ek:["AM","PM"],gk:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],wk:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],ci:6,yk:[5,6],di:5};var cd=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,dd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,ed=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function fd(a){var b=new gd(2E3),a=Aa(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(cd);if(d){var f=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var n=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new hd(id,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new hd(id,(4>=d?1-d:8-d)+(Number(n)+7*(Number(c)-1))-1))):(f&&(b.setDate(1),b.setMonth(f-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(ed),n=0,c&&("Z"!=
c[0]&&(n=60*c[2]+Number(c[3]),n*="-"==c[1]?1:-1),n-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(dd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=n&&b.setTime(b.getTime()+6E4*n),c=j):c=l;return c?b:k}
function hd(a,b,c,d,f,g){r(a)?(this.La=a==jd?b:0,this.Ea=a==kd?b:0,this.za=a==id?b:0,this.qa=a==ld?b:0,this.ra=a==md?b:0,this.va=a==nd?b:0):(this.La=a||0,this.Ea=b||0,this.za=c||0,this.qa=d||0,this.ra=f||0,this.va=g||0)}
hd.prototype.yd=function(a){var b=Math.min(this.La,this.Ea,this.za,this.qa,this.ra,this.va),c=Math.max(this.La,this.Ea,this.za,this.qa,this.ra,this.va);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.La||a)&&c.push(Math.abs(this.La)+"Y");(this.Ea||a)&&c.push(Math.abs(this.Ea)+"M");(this.za||a)&&c.push(Math.abs(this.za)+"D");if(this.qa||this.ra||this.va||a)c.push("T"),(this.qa||a)&&c.push(Math.abs(this.qa)+"H"),(this.ra||a)&&c.push(Math.abs(this.ra)+"M"),
(this.va||a)&&c.push(Math.abs(this.va)+"S");return c.join("")};hd.prototype.clone=function(){return new hd(this.La,this.Ea,this.za,this.qa,this.ra,this.va)};var jd="y",kd="m",id="d",ld="h",md="n",nd="s";hd.prototype.add=function(a){this.La+=a.La;this.Ea+=a.Ea;this.za+=a.za;this.qa+=a.qa;this.ra+=a.ra;this.va+=a.va};
function od(a,b,c){pa(a)?(this.l=new Date(a,b||0,c||1),pd(this,c||1)):ra(a)?(this.l=new Date(a.getFullYear(),a.getMonth(),a.getDate()),pd(this,a.getDate())):(this.l=new Date(t()),this.l.setHours(0),this.l.setMinutes(0),this.l.setSeconds(0),this.l.setMilliseconds(0))}m=od.prototype;m.Xd=bd.ci;m.Yd=bd.di;m.clone=function(){var a=new od(this.l);a.Xd=this.Xd;a.Yd=this.Yd;return a};m.getFullYear=function(){return this.l.getFullYear()};m.getYear=function(){return this.getFullYear()};m.getMonth=function(){return this.l.getMonth()};
m.getDate=function(){return this.l.getDate()};m.getTime=function(){return this.l.getTime()};m.getDay=function(){return this.l.getDay()};m.getUTCHours=function(){return this.l.getUTCHours()};m.getTimezoneOffset=function(){return this.l.getTimezoneOffset()};function qd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Ha(c)+":"+Ha(b);return a}m.set=function(a){this.l=new Date(a.getFullYear(),a.getMonth(),a.getDate())};m.setFullYear=function(a){this.l.setFullYear(a)};
m.setMonth=function(a){this.l.setMonth(a)};m.setDate=function(a){this.l.setDate(a)};m.setTime=function(a){this.l.setTime(a)};
m.add=function(a){if(a.La||a.Ea){var b=this.getMonth()+a.Ea+12*a.La,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.za&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.za),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),pd(this,a.getDate()))};m.yd=function(a,b){return[this.getFullYear(),Ha(this.getMonth()+1),Ha(this.getDate())].join(a?"-":"")+(b?qd(this):"")};m.toString=function(){return this.yd()};function pd(a,b){a.getDate()!=b&&a.l.setUTCHours(a.l.getUTCHours()+(a.getDate()<b?1:-1))}m.valueOf=function(){return this.l.valueOf()};function gd(a,b,c,d,f,g,h){this.l=pa(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,h||0):new Date(a?a.getTime():t())}v(gd,od);m=gd.prototype;m.getHours=function(){return this.l.getHours()};
m.getMinutes=function(){return this.l.getMinutes()};m.getSeconds=function(){return this.l.getSeconds()};m.getUTCHours=function(){return this.l.getUTCHours()};m.setHours=function(a){this.l.setHours(a)};m.setMinutes=function(a){this.l.setMinutes(a)};m.setSeconds=function(a){this.l.setSeconds(a)};m.setMilliseconds=function(a){this.l.setMilliseconds(a)};m.setUTCHours=function(a){this.l.setUTCHours(a)};
m.add=function(a){od.prototype.add.call(this,a);a.qa&&this.setHours(this.l.getHours()+a.qa);a.ra&&this.setMinutes(this.l.getMinutes()+a.ra);a.va&&this.setSeconds(this.l.getSeconds()+a.va)};m.yd=function(a,b){var c=od.prototype.yd.call(this,a);return a?c+" "+Ha(this.getHours())+":"+Ha(this.getMinutes())+":"+Ha(this.getSeconds())+(b?qd(this):""):c+"T"+Ha(this.getHours())+Ha(this.getMinutes())+Ha(this.getSeconds())+(b?qd(this):"")};m.toString=function(){return this.yd()};
m.clone=function(){var a=new gd(this.l);a.Xd=this.Xd;a.Yd=this.Yd;return a};function rd(a){M.call(this);this.Ca=a;this.L=[]}v(rd,M);var sd=[];function S(a,b,c,d,f){na(c)||(sd[0]=c,c=sd);for(var g=0;g<c.length;g++){var h=N(b,c[g],d||a,f||l,a.Ca||a);a.L.push(h)}return a}function td(a,b,c,d,f,g){if(na(c))for(var h=0;h<c.length;h++)td(a,b,c[h],d,f,g);else b=Ic(b,c,d||a,f,g||a.Ca||a),a.L.push(b)}
function ud(a,b,c,d,f,g){if(na(c))for(var h=0;h<c.length;h++)ud(a,b,c[h],d,f,g);else{a:{d=d||a;g=g||a.Ca||a;f=!!f;if(b=Kc(b,c,f))for(c=0;c<b.length;c++)if(!b[c].Yb&&b[c].yc==d&&b[c].capture==f&&b[c].ce==g){b=b[c];break a}b=k}b&&(b=b.key,Lc(b),Ra(a.L,b))}return a}function vd(a){w(a.L,Lc);a.L.length=0}rd.prototype.h=function(){rd.c.h.call(this);vd(this)};rd.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function wd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}wd.prototype.clone=function(){return new wd(this.top,this.right,this.bottom,this.left)};wd.prototype.contains=function(a){return!this||!a?l:a instanceof wd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function xd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}xd.prototype.clone=function(){return new xd(this.left,this.top,this.width,this.height)};xd.prototype.contains=function(a){return a instanceof xd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function yd(a,b,c){r(b)?zd(a,c,b):Cb(b,xa(zd,a))}function zd(a,b,c){a.style[Ia(c)]=b}function Ad(a,b){var c=Mb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Bd(a,b){return a.currentStyle?a.currentStyle[b]:k}function Cd(a,b){return Ad(a,b)||Bd(a,b)||a.style&&a.style[b]}function Dd(a,b,c){var d,f=gb&&(ab||ib)&&A("1.9");b instanceof Ab?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Ed(d,f);a.style.top=Ed(b,f)}
function Fd(a){return new Ab(a.offsetLeft,a.offsetTop)}function Gd(a){var b=a.getBoundingClientRect();x&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Hd(a){if(x&&!sb(8))return a.offsetParent;for(var b=Mb(a),c=Cd(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Cd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function Id(a){var b,c=Mb(a),d=Cd(a,"position"),f=gb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Ab(0,0),h;b=c?Mb(c):document;if(h=x)if(h=!sb(9))h="CSS1Compat"!=Kb(b).V.compatMode;h=h?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=Gd(a),a=hc(Kb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;
else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(y&&"fixed"==Cd(f,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(fb||y&&"absolute"==d)g.y-=c.body.offsetTop;for(f=a;(f=Hd(f))&&f!=c.body&&f!=h;)if(g.x-=f.scrollLeft,!fb||"TR"!=f.tagName)g.y-=f.scrollTop}return g}function Jd(a,b){var c,d=Id(a);b instanceof Ab&&(c=b.y,b=b.x);Dd(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Ed(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Kd(a,b){a.style.height=Ed(b,j)}function Ld(a,b){a.style.width=Ed(b,j)}function T(a){if("none"!=Cd(a,"display"))return Md(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Md(a);b.display=c;b.position=f;b.visibility=d;return a}
function Md(a){var b=a.offsetWidth,c=a.offsetHeight,d=y&&!b&&!c;return(!ha(b)||d)&&a.getBoundingClientRect?(a=Gd(a),new Bb(a.right-a.left,a.bottom-a.top)):new Bb(b,c)}function Nd(a){var b=Id(a),a=T(a);return new xd(b.x,b.y,a.width,a.height)}function Od(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function R(a,b){a.style.display=b?"":"none"}function Pd(a){return"rtl"==Cd(a,"direction")}
var Qd=gb?"MozUserSelect":y?"WebkitUserSelect":k;function Rd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function Sd(a,b){if(x){var c=Rd(a,Bd(a,b+"Left")),d=Rd(a,Bd(a,b+"Right")),f=Rd(a,Bd(a,b+"Top")),g=Rd(a,Bd(a,b+"Bottom"));return new wd(f,d,g,c)}c=Ad(a,b+"Left");d=Ad(a,b+"Right");f=Ad(a,b+"Top");g=Ad(a,b+"Bottom");return new wd(parseFloat(f),parseFloat(d),parseFloat(g),parseFloat(c))}var Td={thin:2,medium:4,thick:6};function Ud(a,b){if("none"==Bd(a,b+"Style"))return 0;var c=Bd(a,b+"Width");return c in Td?Td[c]:Rd(a,c)}
function Vd(a){if(x){var b=Ud(a,"borderLeft"),c=Ud(a,"borderRight"),d=Ud(a,"borderTop"),a=Ud(a,"borderBottom");return new wd(d,c,a,b)}b=Ad(a,"borderLeftWidth");c=Ad(a,"borderRightWidth");d=Ad(a,"borderTopWidth");a=Ad(a,"borderBottomWidth");return new wd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function Wd(a,b,c){M.call(this);this.target=a;this.handle=b||a;this.ih=c||new xd(NaN,NaN,NaN,NaN);this.V=Mb(a);this.o=new rd(this);N(this.handle,["touchstart","mousedown"],this.bc,l,this)}v(Wd,Pc);var Xd=x||gb&&A("1.9.3");m=Wd.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.Mh=0;m.Nh=0;m.lc=0;m.mc=0;m.Se=j;m.Nb=l;m.$e=0;m.Xi=0;m.Si=l;m.Cd=l;m.n=ca("o");m.Ff=function(a){this.$e=Math.pow(a,2)};m.Kh=ba("se");m.eb=ba("Se");
m.h=function(){Wd.c.h.call(this);Jc(this.handle,["touchstart","mousedown"],this.bc,l,this);vd(this.o);Xd&&this.V.releaseCapture();this.o=this.handle=this.target=k};function Yd(a){ha(a.Ga)||(a.Ga=Pd(a.target));return a.Ga}
m.bc=function(a){var b="mousedown"==a.type;if(this.Se&&!this.Nb&&(!b||Ac(a))){Zd(a);if(0==this.$e)if(this.dispatchEvent(new $d("start",this,a.clientX,a.clientY,a)))this.Nb=j,a.preventDefault();else return;else a.preventDefault();var b=this.V,c=b.documentElement,d=!Xd;S(this.o,b,["touchmove","mousemove"],this.Pi,d);S(this.o,b,["touchend","mouseup"],this.Ob,d);Xd?(c.setCapture(l),S(this.o,c,"losecapture",this.Ob)):S(this.o,b?b.parentWindow||b.defaultView:window,"blur",this.Ob);x&&this.Si&&S(this.o,
b,"dragstart",wc);this.se&&S(this.o,this.se,"scroll",this.zh,d);this.clientX=this.Mh=a.clientX;this.clientY=this.Nh=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Cd?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Cd(a,"position")&&(c=Mb(a).documentElement),c?(gb?(d=Vd(c),b+=d.left):sb(8)&&(d=Vd(c),b-=d.left),a=Pd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.lc=a;this.mc=this.target.offsetTop;this.sf=hc(Kb(this.V));this.Xi=t()}else this.dispatchEvent("earlycancel")};
m.Ob=function(a,b){vd(this.o);Xd&&this.V.releaseCapture();if(this.Nb){Zd(a);this.Nb=l;var c=ae(this,this.lc),d=be(this,this.mc);this.dispatchEvent(new $d("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function Zd(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.pa.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.pa.changedTouches[0],a.currentTarget)}
m.Pi=function(a){if(this.Se){Zd(a);var b=(this.Cd&&Yd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Nb){var d=this.Mh-this.clientX,f=this.Nh-this.clientY;if(d*d+f*f>this.$e)if(this.dispatchEvent(new $d("start",this,a.clientX,a.clientY,a)))this.Nb=j;else{this.Td||this.Ob(a);return}}c=ce(this,b,c);b=c.x;c=c.y;this.Nb&&this.dispatchEvent(new $d("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(de(this,a,b,c),a.preventDefault())}};function ce(a,b,c){var d=hc(Kb(a.V)),b=b+(d.x-a.sf.x),c=c+(d.y-a.sf.y);a.sf=d;a.lc+=b;a.mc+=c;b=ae(a,a.lc);a=be(a,a.mc);return new Ab(b,a)}m.zh=function(a){var b=ce(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;de(this,a,b.x,b.y)};function de(a,b,c,d){a.Rd(c,d);a.dispatchEvent(new $d("drag",a,b.clientX,b.clientY,b,c,d))}
function ae(a,b){var c=a.ih,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function be(a,b){var c=a.ih,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}m.Rd=function(a,b){this.Cd&&Yd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function $d(a,b,c,d,f,g,h,n){vc.call(this,a);this.clientX=c;this.clientY=d;this.Ie=f;this.left=ha(g)?g:b.lc;this.top=ha(h)?h:b.mc;this.oi=b;this.mi=!!n}v($d,vc);function ee(){M.call(this);this.g=fe;this.Zc=this.startTime=k}v(ee,Pc);var fe=0;ee.prototype.vb=function(){this.ka("begin")};ee.prototype.wb=function(){this.ka("end")};ee.prototype.ka=function(a){this.dispatchEvent(a)};function ge(a,b,c){M.call(this);this.tb=a;this.K=b||0;this.Ca=c;this.Ke=s(this.Xc,this)}v(ge,M);m=ge.prototype;m.ea=0;m.h=function(){ge.c.h.call(this);this.stop();delete this.tb;delete this.Ca};m.start=function(a){this.stop();this.ea=O(this.Ke,ha(a)?a:this.K)};m.stop=function(){this.Ub()&&Rc.clearTimeout(this.ea);this.ea=0};m.Ue=function(){this.stop();this.Xc()};m.Ub=function(){return 0!=this.ea};m.Xc=function(){this.ea=0;this.tb&&this.tb.call(this.Ca)};var he;he=da(k);var ie={},je=k;function ke(a){a=sa(a);delete ie[a];Fb(ie)&&je&&je.stop()}function le(){je||(je=new ge(function(){var a=t();Cb(ie,function(c){me(c,a)});Fb(ie)||le()},20));var a=je;a.Ub()||a.start()};function ne(a,b,c,d){ee.call(this);(!na(a)||!na(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.ud=a;this.ri=b;this.duration=c;this.Yf=d;this.coords=[];this.Cd=l}v(ne,ee);m=ne.prototype;m.Eg=0;m.ta=0;m.gf=k;
m.play=function(a){if(a||this.g==fe)this.ta=0,this.coords=this.ud;else if(1==this.g)return l;ke(this);this.startTime=a=t();-1==this.g&&(this.startTime-=this.duration*this.ta);this.Zc=this.startTime+this.duration;this.gf=this.startTime;this.ta||this.vb();this.ka("play");-1==this.g&&this.ka("resume");this.g=1;var b=sa(this);b in ie||(ie[b]=this);le();me(this,a);return j};m.stop=function(a){ke(this);this.g=fe;a&&(this.ta=1);oe(this,this.ta);this.ka("stop");this.wb()};m.ad=ca("ta");
m.h=function(){this.g==fe||this.stop(l);this.ka("destroy");ne.c.h.call(this)};function me(a,b){a.ta=(b-a.startTime)/(a.Zc-a.startTime);1<=a.ta&&(a.ta=1);a.Eg=1E3/(b-a.gf);a.gf=b;oe(a,a.ta);1==a.ta?(a.g=fe,ke(a),a.ka("finish"),a.wb()):1==a.g&&a.pf()}function oe(a,b){qa(a.Yf)&&(b=a.Yf(b));a.coords=Array(a.ud.length);for(var c=0;c<a.ud.length;c++)a.coords[c]=(a.ri[c]-a.ud[c])*b+a.ud[c]}m.pf=function(){this.ka("animate")};m.ka=function(a){this.dispatchEvent(new pe(a,this))};
function pe(a,b){vc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.nl=b.coords[2];this.duration=b.duration;this.ta=b.ad();this.Rk=b.Eg;this.state=b.g;this.Ak=b}v(pe,vc);function qe(a,b,c,d,f){ne.call(this,b,c,d,f);this.element=a}v(qe,ne);m=qe.prototype;m.Bd=ja;m.bh=function(){ha(this.Ga)||(this.Ga=Pd(this.element));return this.Ga};m.pf=function(){this.Bd();qe.c.pf.call(this)};m.wb=function(){this.Bd();qe.c.wb.call(this)};m.vb=function(){this.Bd();qe.c.vb.call(this)};function re(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));qe.apply(this,arguments)}v(re,qe);
re.prototype.Bd=function(){if(this.Cd){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=Pd(a)?gb?-b:!x||!A("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function se(a,b,c,d,f){pa(b)&&(b=[b]);pa(c)&&(c=[c]);qe.call(this,a,b,c,d,f);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}v(se,qe);se.prototype.Bd=function(){Od(this.element,this.coords[0])};
se.prototype.show=function(){this.element.style.display=""};se.prototype.hide=function(){this.element.style.display="none"};function te(a,b,c){se.call(this,a,1,0,b,c)}v(te,se);te.prototype.vb=function(){this.show();te.c.vb.call(this)};te.prototype.wb=function(){this.hide();te.c.wb.call(this)};function ue(a,b,c){se.call(this,a,0,1,b,c)}v(ue,se);ue.prototype.vb=function(){this.show();ue.c.vb.call(this)};function ve(){}la(ve);ve.prototype.aj=0;ve.b();function U(a){M.call(this);this.Mb=a||Kb();this.Ga=we}v(U,Pc);U.prototype.Ri=ve.b();var we=k;function xe(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}m=U.prototype;m.ea=k;m.R=l;m.e=k;m.Ga=k;m.v=k;m.F=k;m.T=k;m.$=k;m.bi=l;
function ye(a){return a.ea||(a.ea=":"+(a.Ri.aj++).toString(36))}m.a=ca("e");m.n=function(){return this.tc||(this.tc=new rd(this))};m.te=function(a){this==a&&e(Error("Unable to set parent component"));a&&(this.F&&this.ea&&this.F.$&&this.ea&&(this.ea in this.F.$&&this.F.$[this.ea])&&this.F!=a)&&e(Error("Unable to set parent component"));this.F=a;U.c.Gf.call(this,a)};m.getParent=ca("F");m.Gf=function(a){this.F&&this.F!=a&&e(Error("Method not supported"));U.c.Gf.call(this,a)};m.Ba=ca("Mb");
m.I=function(){this.e=this.Mb.createElement("div")};function ze(a,b){a.R&&e(Error("Component already rendered"));a.e||a.I();b?b.insertBefore(a.e,k):a.Mb.V.body.appendChild(a.e);(!a.F||a.F.R)&&a.q()}m.f=function(a){this.R&&e(Error("Component already rendered"));if(a&&this.Gb(a)){this.bi=j;if(!this.Mb||this.Mb.V!=Mb(a))this.Mb=Kb(a);this.J(a);this.q()}else e(Error("Invalid element to decorate"))};m.Gb=da(j);m.J=ba("e");m.q=function(){this.R=j;Ae(this,function(a){!a.R&&a.a()&&a.q()})};
m.Pb=function(){Ae(this,function(a){a.R&&a.Pb()});this.tc&&vd(this.tc);this.R=l};m.h=function(){U.c.h.call(this);this.R&&this.Pb();this.tc&&(this.tc.U(),delete this.tc);Ae(this,function(a){a.U()});!this.bi&&this.e&&Ub(this.e);this.F=this.v=this.e=this.$=this.T=k};
function Be(a,b){var c=a.T?a.T.length:0;b.R&&!a.R&&e(Error("Component already rendered"));(0>c||c>(a.T?a.T.length:0))&&e(Error("Child component index out of bounds"));if(!a.$||!a.T)a.$={},a.T=[];if(b.getParent()==a){var d=ye(b);a.$[d]=b;Ra(a.T,b)}else Hb(a.$,ye(b),b);b.te(a);Va(a.T,c,0,b);b.R&&a.R&&b.getParent()==a?(d=a.Rb(),d.insertBefore(b.a(),d.childNodes[c]||k)):a.R&&(!b.R&&b.e&&b.e.parentNode)&&b.q()}m.Rb=ca("e");m.bh=function(){this.Ga==k&&(this.Ga=Pd(this.R?this.e:this.Mb.V.body));return this.Ga};
m.ac=function(a){this.R&&e(Error("Component already rendered"));this.Ga=a};function Ae(a,b){a.T&&w(a.T,b,i)}m.removeChild=function(a,b){if(a){var c=r(a)?a:ye(a),a=this.$&&c?(c in this.$?this.$[c]:i)||k:k;c&&a&&(Gb(this.$,c),Ra(this.T,a),b&&(a.Pb(),a.e&&Ub(a.e)),a.te(k))}a||e(Error("Child is not in parent component"));return a};function Ce(a,b,c,d,f){if(!x&&(!y||!A("525")))return j;if(ab&&f)return De(a);if(f&&!d||!c&&(17==b||18==b)||x&&d&&b==a)return l;switch(a){case 13:return!(x&&sb(9));case 27:return!y}return De(a)}function De(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||y&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Ee(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Fe(){}var Ge;la(Fe);m=Fe.prototype;m.sc=aa();m.I=function(a){var b=a.Ba().I("div",He(this,a).join(" "),a.Ma);Ie(this,a,b);return b};m.Rb=function(a){return a};m.Yc=function(a,b,c){if(a=a.a?a.a():a)if(x&&!A("7")){var d=Je(yb(a),b);d.push(b);xa(c?B:C,a).apply(k,d)}else E(a,b,c)};m.Gb=da(j);
m.f=function(a,b){if(b.id){var c=b.id;a.F&&a.F.$&&(Gb(a.F.$,a.ea),Hb(a.F.$,c,a));a.ea=c}(c=this.Rb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Ta(c.childNodes):c.firstChild,a.Ma=c):a.Ma=k;var d=0,f=this.da(),g=this.da(),h=l,n=l,c=l,q=yb(b);w(q,function(a){if(!h&&a==f)h=j,g==f&&(n=j);else if(!n&&a==g)n=j;else{var b=d;if(!this.Oh){this.Kd||Ke(this);var c=this.Kd,q={},u;for(u in c)q[c[u]]=u;this.Oh=q}a=parseInt(this.Oh[a],10);d=b|(isNaN(a)?0:a)}},this);a.g=d;h||(q.push(f),g==f&&(n=j));n||q.push(g);
var u=a.Aa;u&&q.push.apply(q,u);if(x&&!A("7")){var z=Je(q);0<z.length&&(q.push.apply(q,z),c=j)}if(!h||!n||u||c)b.className=q.join(" ");Ie(this,a,b);return b};m.Wg=function(a){a.bh()&&this.ac(a.a(),j);a.isEnabled()&&this.Jc(a,a.Db)};function Ie(a,b,c){b.isEnabled()||a.Ja(c,1,j);b.g&8&&a.Ja(c,8,j);b.ba&16&&a.Ja(c,16,Le(b));b.ba&64&&a.Ja(c,64,!!(b.g&64))}
m.Ic=function(a,b){var c=!b,d=x||fb?a.getElementsByTagName("*"):k;if(Qd){if(c=c?"none":"",a.style[Qd]=c,d)for(var f=0,g;g=d[f];f++)g.style[Qd]=c}else if(x||fb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;g=d[f];f++)g.setAttribute("unselectable",c)};m.ac=function(a,b){this.Yc(a,this.da()+"-rtl",b)};m.ef=function(a){var b;return a.ba&32&&(b=a.pb())?cc(b):l};
m.Jc=function(a,b){var c;if(a.ba&32&&(c=a.pb())){if(!b&&a.ee()){try{c.blur()}catch(d){}a.ee()&&a.Ig()}cc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};m.Jf=function(a,b){R(a,b)};m.ha=function(a,b,c){var d=a.a();if(d){var f=Me(this,b);f&&this.Yc(a,f,c);this.Ja(d,b,c)}};m.Ja=function(a,b,c){Ge||(Ge={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Ge[b])&&a.setAttribute("aria-"+b,c)};
m.$b=function(a,b){var c=this.Rb(a);if(c&&(Rb(c),b))if(r(b))$b(c,b);else{var d=function(a){if(a){var b=Mb(c);c.appendChild(r(a)?b.createTextNode(a):a)}};na(b)?w(b,d):oa(b)&&!("nodeType"in b)?w(Ta(b),d):d(b)}};m.pb=function(a){return a.a()};m.da=da("goog-control");function He(a,b){var c=a.da(),d=[c],f=a.da();f!=c&&d.push(f);c=b.g;for(f=[];c;){var g=c&-c;f.push(Me(a,g));c&=~g}d.push.apply(d,f);(c=b.Aa)&&d.push.apply(d,c);x&&!A("7")&&d.push.apply(d,Je(d));return d}
function Je(a,b){var c=[];b&&(a=a.concat([b]));w([],function(d){Na(d,xa(Qa,a))&&(!b||Qa(d,b))&&c.push(d.join("_"))});return c}function Me(a,b){a.Kd||Ke(a);return a.Kd[b]}function Ke(a){var b=a.da();a.Kd={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Ne(){}v(Ne,Fe);la(Ne);m=Ne.prototype;m.sc=da("button");m.Ja=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Ne.c.Ja.call(this,a,b,c)};m.I=function(a){var b=Ne.c.I.call(this,a),c=a.bd();c&&this.If(b,c);(c=a.S())&&this.xb(b,c);a.ba&16&&this.Ja(b,16,Le(a));return b};m.f=function(a,b){var b=Ne.c.f.call(this,a,b),c=this.S(b);a.Xf=c;a.Qf=this.bd(b);a.ba&16&&this.Ja(b,16,Le(a));return b};m.S=ja;m.xb=ja;m.bd=function(a){return a.title};m.If=function(a,b){a&&(a.title=b||"")};m.da=da("goog-button");function Oe(a,b){M.call(this);a&&Pe(this,a,b)}v(Oe,Pc);m=Oe.prototype;m.e=k;m.fe=k;m.ff=k;m.ge=k;m.sb=-1;m.rb=-1;m.Ge=l;
var Qe={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Re={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Se=x||y&&A("525"),Te=ab&&gb;m=Oe.prototype;
m.Mi=function(a){if(y&&(17==this.sb&&!a.ctrlKey||18==this.sb&&!a.altKey))this.rb=this.sb=-1;Se&&!Ce(a.keyCode,this.sb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.rb=gb?Ee(a.keyCode):a.keyCode,Te&&(this.Ge=a.altKey))};m.Oi=function(a){this.rb=this.sb=-1;this.Ge=a.altKey};
m.handleEvent=function(a){var b=a.pa,c,d,f=b.altKey;x&&"keypress"==a.type?(c=this.rb,d=13!=c&&27!=c?b.keyCode:0):y&&"keypress"==a.type?(c=this.rb,d=0<=b.charCode&&63232>b.charCode&&De(c)?b.charCode:0):fb?(c=this.rb,d=De(c)?b.keyCode:0):(c=b.keyCode||this.rb,d=b.charCode||0,Te&&(f=this.Ge),ab&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Qe?g=Qe[c]:25==c&&a.shiftKey&&(g=9):h&&h in Re&&(g=Re[h]);a=g==this.sb;this.sb=g;b=new Ue(g,d,a,b);b.altKey=f;this.dispatchEvent(b)};m.a=ca("e");
function Pe(a,b,c){a.ge&&a.detach();a.e=b;a.fe=N(a.e,"keypress",a,c);a.ff=N(a.e,"keydown",a.Mi,c,a);a.ge=N(a.e,"keyup",a.Oi,c,a)}m.detach=function(){this.fe&&(Lc(this.fe),Lc(this.ff),Lc(this.ge),this.ge=this.ff=this.fe=k);this.e=k;this.rb=this.sb=-1};m.h=function(){Oe.c.h.call(this);this.detach()};function Ue(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}v(Ue,yc);function Ve(a,b){a||e(Error("Invalid class name "+a));qa(b)||e(Error("Invalid decorator function "+b))}var We={};function Xe(a,b,c){U.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=sa(b);if(d=We[d])break;b=b.c?b.c.constructor:k}b=d?qa(d.b)?d.b():new d:k}this.D=b;this.Ma=a}v(Xe,U);m=Xe.prototype;m.Ma=k;m.g=0;m.ba=39;m.Ya=255;m.Rj=0;m.Db=j;m.Aa=k;m.Ze=j;m.Id=l;m.Ch=k;function Ye(a){a.R&&l!=a.Ze&&Ze(a,l);a.Ze=l}m.pb=function(){return this.D.pb(this)};
m.Yc=function(a,b){b?a&&(this.Aa?Qa(this.Aa,a)||this.Aa.push(a):this.Aa=[a],this.D.Yc(this,a,j)):a&&this.Aa&&(Ra(this.Aa,a),0==this.Aa.length&&(this.Aa=k),this.D.Yc(this,a,l))};m.I=function(){var a=this.D.I(this);this.e=a;var b=this.Ch||this.D.sc();b&&a.setAttribute("role",b);this.Id||this.D.Ic(a,l);this.Db||this.D.Jf(a,l)};m.Rb=function(){return this.D.Rb(this.a())};m.Gb=function(a){return this.D.Gb(a)};
m.J=function(a){this.e=a=this.D.f(this,a);var b=this.Ch||this.D.sc();b&&a.setAttribute("role",b);this.Id||this.D.Ic(a,l);this.Db="none"!=a.style.display};m.q=function(){Xe.c.q.call(this);this.D.Wg(this);if(this.ba&-2&&(this.Ze&&Ze(this,j),this.ba&32)){var a=this.pb();if(a){var b=this.xc||(this.xc=new Oe);Pe(b,a);S(S(S(this.n(),b,"key",this.Ni),a,"focus",this.Ki),a,"blur",this.Ig)}}};
function Ze(a,b){var c=a.n(),d=a.a();b?(S(S(S(S(c,d,"mouseover",a.Og),d,"mousedown",a.Mg),d,"mouseup",a.Pg),d,"mouseout",a.Ng),a.be!=ja&&S(c,d,"contextmenu",a.be),x&&S(c,d,"dblclick",a.Jg)):(ud(ud(ud(ud(c,d,"mouseover",a.Og),d,"mousedown",a.Mg),d,"mouseup",a.Pg),d,"mouseout",a.Ng),a.be!=ja&&ud(c,d,"contextmenu",a.be),x&&ud(c,d,"dblclick",a.Jg))}m.Pb=function(){Xe.c.Pb.call(this);this.xc&&this.xc.detach();this.Db&&this.isEnabled()&&this.D.Jc(this,l)};
m.h=function(){Xe.c.h.call(this);this.xc&&(this.xc.U(),delete this.xc);delete this.D;this.Aa=this.Ma=k};m.$b=function(a){this.D.$b(this.a(),a);this.Ma=a};m.Fg=function(){var a=this.Ma;return!a?"":(r(a)?a:na(a)?Ma(a,fc).join(""):dc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};m.ac=function(a){Xe.c.ac.call(this,a);var b=this.a();b&&this.D.ac(b,a)};m.Ic=function(a){this.Id=a;var b=this.a();b&&this.D.Ic(b,a)};
m.Jf=function(a,b){if(b||this.Db!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.a();c&&this.D.Jf(c,a);this.isEnabled()&&this.D.Jc(this,a);this.Db=a;return j}return l};m.isEnabled=function(){return!(this.g&1)};m.eb=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&$e(this,1,!a))a||(this.setActive(l),af(this,l)),this.Db&&this.D.Jc(this,a),this.ha(1,!a)};function af(a,b){$e(a,2,b)&&a.ha(2,b)}m.Ub=function(){return!!(this.g&4)};
m.setActive=function(a){$e(this,4,a)&&this.ha(4,a)};function Le(a){return!!(a.g&16)}function bf(a,b){$e(a,16,b)&&a.ha(16,b)}m.ee=function(){return!!(this.g&32)};m.Ua=function(a){$e(this,32,a)&&this.ha(32,a)};m.ha=function(a,b){this.ba&a&&b!=!!(this.g&a)&&(this.D.ha(this,a,b),this.g=b?this.g|a:this.g&~a)};function cf(a,b,c){a.R&&(a.g&b&&!c)&&e(Error("Component already rendered"));!c&&a.g&b&&a.ha(b,l);a.ba=c?a.ba|b:a.ba&~b}function df(a,b){return!!(a.Ya&b)&&!!(a.ba&b)}
function $e(a,b,c){return!!(a.ba&b)&&!!(a.g&b)!=c&&(!(a.Rj&b)||a.dispatchEvent(xe(b,c)))&&!a.Td}m.Og=function(a){(!a.relatedTarget||!Zb(this.a(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&df(this,2))&&af(this,j)};m.Ng=function(a){if((!a.relatedTarget||!Zb(this.a(),a.relatedTarget))&&this.dispatchEvent("leave"))df(this,4)&&this.setActive(l),df(this,2)&&af(this,l)};m.be=ja;
m.Mg=function(a){this.isEnabled()&&(df(this,2)&&af(this,j),Ac(a)&&(df(this,4)&&this.setActive(j),this.D.ef(this)&&this.pb().focus()));!this.Id&&Ac(a)&&a.preventDefault()};m.Pg=function(a){this.isEnabled()&&(df(this,2)&&af(this,j),this.Ub()&&(this.md(a)&&df(this,4))&&this.setActive(l))};m.Jg=function(a){this.isEnabled()&&this.md(a)};
m.md=function(a){df(this,16)&&bf(this,!Le(this));df(this,8)&&$e(this,8,j)&&this.ha(8,j);if(df(this,64)){var b=!(this.g&64);$e(this,64,b)&&this.ha(64,b)}b=new vc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.tf=a.tf);return this.dispatchEvent(b)};m.Ki=function(){df(this,32)&&this.Ua(j)};m.Ig=function(){df(this,4)&&this.setActive(l);df(this,32)&&this.Ua(l)};
m.Ni=function(a){return this.Db&&this.isEnabled()&&this.Ye(a)?(a.preventDefault(),a.stopPropagation(),j):l};m.Ye=function(a){return 13==a.keyCode&&this.md(a)};qa(Xe)||e(Error("Invalid component class "+Xe));qa(Fe)||e(Error("Invalid renderer class "+Fe));var ef=sa(Xe);We[ef]=Fe;Ve("goog-control",function(){return new Xe(k)});function ff(){}v(ff,Ne);la(ff);m=ff.prototype;m.sc=aa();m.I=function(a){Ye(a);a.Ya&=-256;cf(a,32,l);return a.Ba().I("button",{"class":He(this,a).join(" "),disabled:!a.isEnabled(),title:a.bd()||"",value:a.S()||""},a.Fg()||"")};m.Gb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};m.f=function(a,b){Ye(a);a.Ya&=-256;cf(a,32,l);b.disabled&&B(b,Me(this,1));return ff.c.f.call(this,a,b)};m.Wg=function(a){S(a.n(),a.a(),"click",a.md)};m.Ic=ja;
m.ac=ja;m.ef=function(a){return a.isEnabled()};m.Jc=ja;m.ha=function(a,b,c){ff.c.ha.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};m.S=function(a){return a.value};m.xb=function(a,b){a&&(a.value=b)};m.Ja=ja;function gf(a,b,c){Xe.call(this,a,b||ff.b(),c)}v(gf,Xe);m=gf.prototype;m.S=ca("Xf");m.xb=function(a){this.Xf=a;this.D.xb(this.a(),a)};m.bd=ca("Qf");m.If=function(a){this.Qf=a;this.D.If(this.a(),a)};m.h=function(){gf.c.h.call(this);delete this.Xf;delete this.Qf};m.q=function(){gf.c.q.call(this);if(this.ba&32){var a=this.pb();a&&S(this.n(),a,"keyup",this.Ye)}};m.Ye=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.md(a):32==a.keyCode};Ve("goog-button",function(){return new gf(k)});function hf(){}v(hf,Ne);la(hf);m=hf.prototype;m.I=function(a){var b={"class":"goog-inline-block "+He(this,a).join(" "),title:a.bd()||""},b=a.Ba().I("div",b,jf(this,a.Ma,a.Ba()));Ie(this,a,b);return b};m.sc=da("button");m.Rb=function(a){return a&&a.firstChild.firstChild};function jf(a,b,c){return c.I("div","goog-inline-block "+(a.da()+"-outer-box"),c.I("div","goog-inline-block "+(a.da()+"-inner-box"),b))}m.Gb=function(a){return"DIV"==a.tagName};
m.f=function(a,b){kf(b,j);kf(b,l);var c;a:{c=ic(a.Ba(),b);var d=this.da()+"-outer-box";if(c&&D(c,d)&&(c=ic(a.Ba(),c),d=this.da()+"-inner-box",c&&D(c,d))){c=j;break a}c=l}c||b.appendChild(jf(this,b.childNodes,a.Ba()));B(b,"goog-inline-block",this.da());return hf.c.f.call(this,a,b)};m.da=da("goog-custom-button");
function kf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==Aa(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function lf(a,b,c){gf.call(this,a,b||hf.b(),c)}v(lf,gf);Ve("goog-custom-button",function(){return new lf(k)});function mf(){U.call(this);this.gb=3;this.K=10;this.ve=60*this.gb*this.K;this.lg=[];this.jg={};this.ma=nf();this.Ra=0;this.Hh=l;this.Oa=[V.b().u,V.b().u.i()]}v(mf,U);m=mf.prototype;
m.q=function(){mf.c.q.call(this);this.wd=F("ticker");this.ke=F("my-ticker");var a=F("go-live");this.Tg=F("header");this.P=F("channels");this.Ug=3;this.Ka=I().width*this.Ug;this.Wc=T(F("controller")).height;Q.b().subscribe(Zc,function(a){this.xe(a)},this);Q.b().subscribe(Yc,function(){this.Z(l,i,j)},this);this.xe(D(this.a(),"toggled"));this.yb=new gd;for(var b=60;b>=this.yb.getMinutes();)b-=this.K;this.yb.setMinutes(b);this.O=this.yb.clone();this.O.add(new hd(0,0,0,0,2*-this.K));this.kf=this.O.clone();
this.kf.add(new hd(0,0,0,0,this.K*(this.gb+1)));of(this,this.gb,this.O);Ld(this.a(),this.Ka);var c=2/this.gb*this.Ka-200;Dd(this.a(),-1*c);this.aa=(this.Ka-200)/this.ve;this.Zj=this.Ka/this.gb;this.Ib=document.createElement("style");this.Ib.id="channel-name-offs";this.Ib.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.Ib);this.Ib.innerHTML="div#guide div.channels div.channel div.name{left:"+c+"px !important}";w(V.b().jc,s(function(a){if(!a.ga){var b=new pf(a,this.ve,this.yb,
c,this.O);ze(b,this.P);this.lg.push(b);this.jg[a.id]=b}a.id==V.b().u.id&&b&&(B(b.a(),"current"),this.Q=b,window.currentChannel=this.Q);this.Cc=a.ga?a:this.Cc},this));this.m=new Wd(this.a());var d=this.Ib,f=this.a();this.m.Rd=function(a){0>a&&a>-T(f).width+I().width&&(window.currentChannel&&window.currentChannel.update(),this.target.style.left=a+"px",d.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}")};var b=F("now-left"),g=F("now-right");S(S(S(S(S(S(S(S(S(S(this.n(),
Vc.b().Md,Sc,s(function(){if(Q.b().uc){var a=V.b().u&&V.b().u.ga||l,b=V.b().u&&V.b().u.i(),c=W.b().i(),d=1E3*W.b().ad(),f=Math.round((t()-this.O.getTime())/1E3*this.aa),d=c&&d?Math.round((c.time.getTime()+d-this.O.getTime())/1E3*this.aa):f;qf(this);Dd(this.wd,f);Dd(this.ke,d);R(this.wd,!!b);R(this.ke,!!c);E(this.wd,"go-live",!a&&40<Math.abs(d-f));E(this.wd,"can-go-live",!a&&15<Math.abs(d-f));E(this.ke,"show",15<!Math.abs(d-f));E(this.ke,"show-me",!a&&15<Math.abs(d-f));this.Z()}},this)),a,"click",
s(function(){V.b().d(rf,this.Q.v);Q.b().d($c,j)},this)),window,"resize",s(this.Z,this)),this.P,"scroll",s(this.Z,this,i,i,j)),this.wd,"click",s(this.Z,this,j,i,l)),b,"click",s(this.fj,this)),g,"click",s(this.mj,this)),this.m,"beforedrag",s(function(){B(this.a(),"drag")},this)),this.m,"end",s(function(){C(this.a(),"drag");this.Fb=l;qf(this)},this)),this.Tg,"mousewheel",s(function(a){a.preventDefault();a.stopPropagation();a=a.pa;B(this.a(),"drag");a=Fd(this.a()).x+(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0);0>a&&a>-1*this.Ka+I().width&&(Dd(this.a(),a),this.Q.update(),this.Ib.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}");C(this.a(),"drag");this.Fb=l;qf(this)},this));V.b().subscribe(rf,this.Hb,this);V.b().subscribe(sf,s(this.Z,this,j,i,l));Q.b().subscribe("toggle-admin",function(a){E(this.a(),"admin",a)},this);W.b().subscribe(tf,this.uf,this);uf(this);this.Z(j);this.ma&&S(this.n(),this.m,"beforedrag",s(function(a){a.Ie.shiftKey&&a.preventDefault()},this))};
m.xe=function(a){C(this.a(),"animate");this.Z(j,i,l);B(this.a(),"animate");var b=Math.min(this.P.scrollHeight,210);E(this.a(),"toggled",a);Kd(this.a(),a?b+this.Wc+19:this.Wc);this.Q&&(this.P.scrollTop=Fd(this.Q.a()).y);O(s(function(){Kd(this.P,a?b:40);E(this.a(),"collapsed",!a);uf(this);if(this.Q){var c=this.P,d=Fd(this.Q.a()).y;c.scrollTop!=d&&(c.scrollTop=d)}},this),a?0:800);a&&uf(this);this.m&&this.m.eb(a)};
function of(a,b,c){for(var d=H("times",a.a()),f=0;f<=b;f++){var g=c.clone();g.add(new hd(0,0,0,0,a.K*f));var h=J,n={"class":"time",style:"width:"+(a.Ka-200)/a.gb+"px"},q=i,u=g.getHours();ha(q)||(q=j);var z=12==u;12<u&&(u-=12,z=j);0==u&&q&&(u=12);u=String(u);u+=":"+Ha(g.getMinutes());q&&(g=ya("am"),q=ya("pm"),u+=z?q:g);h=h("div",n,u);d.appendChild(h)}}
m.Hb=function(a){this.Q&&C(this.Q.a(),"current");this.Q=this.jg[a.id]||k;if(window.currentChannel=this.Q)B(this.Q.a(),"current"),O(s(this.Z,this,j,i,l));this.Oa[0]=a};m.uf=function(a){if(!this.Cc){var b=X.b().C;this.Cc=new vf({id:b.id,name:b.name.split(" ")[0]+"'s Channel"});V.b().ga=this.Cc}b=new wf(i,a);this.Cc.d(xf,b);V.b().d(rf,this.Cc);Y("/_addprogram",he(),"POST","channel_id="+V.b().ga.id+"&media_id="+a.id);Q.b().d(Zc,l)};
function qf(a){var b=F("now-left"),c=F("now-right"),d=(t()-a.O.getTime())/1E3*a.aa,f=Q.b().Kc?300:0,g=I().width-f,f=T(a.a()).width-f-200;(a.Oa[0].mb+(a.Ra+1||0)+1<a.Oa[0].sa.length?((a.Oa[0].i(a.Ra+1).time.getTime()-t())/1E3+a.Oa[0].i(a.Ra+1).media.duration)*a.aa+g:0)>f-d&&yf(a);c.style.right=Q.b().Kc?"300px":0;E(c,"now",!!(-d<Fd(a.a()).x-g));E(b,"now",!!(-d>Fd(a.a()).x+200));R(c,a.Oa[0].mb+(a.Ra||0)+1<a.Oa[0].sa.length);R(b,0<=a.Oa[0].mb+(a.Ra||0)-1)}
m.fj=function(){D(F("now-left"),"now")?V.b().u.i()==W.b().i()?this.Z(j,i,i,j):this.Z(l,i,i,j):this.Z(l,-1)};m.mj=function(){D(F("now-right"),"now")?V.b().u.i()==W.b().i()?this.Z(j,i,i,j):this.Z(l,i,i,j):this.Z(l,1)};function yf(a){var b=Math.ceil(a.gb/a.Ug);of(a,1,a.kf);a.Ka+=a.Zj;Ld(a.a(),a.Ka);a.gb++;a.kf.add(new hd(0,0,0,0,a.K*b));a.ve=60*a.gb*a.K}
m.Z=function(a,b,c,d){this.Fb=a!=i?!!a:this.Fb;this.Hh=a!=i?!!c:this.Fb;this.Ra=this.Fb?0:b?this.Ra+b:this.Ra;a=V.b().u.i(this.Ra);c=d?a:this.Fb?W.b().i():this.Oa[0].i(this.Ra);this.Oa[1]=c;if((this.Fb||b)&&c){for(var f=W.b().i(),g=1E3*W.b().ad(),a=(t()-this.O.getTime())/1E3*this.aa,f=f&&g?Math.round((f.time.getTime()+g-this.O.getTime())/1E3*this.aa):a;a+I().width>this.Ka-(Q.b().Kc?300:0);)yf(this);c=-(c.time.getTime()-this.O.getTime())/1E3*this.aa+5;g=I().width-(Q.b().Kc?300:0);!b&&(Q.b().uc&&a>
-c+g-300)&&(c=(d?-a:-f)+g-350);c=Math.max(c,-T(this.a()).width+g);Dd(this.a(),Math.min(c,-200));this.Ib.innerHTML="div#guide div.channels div.channel div.name{left:"+-c+"px !important}";if(!this.Hh&&this.Q){var h=Fd(this.Q.a()).y-T(this.Tg).height,n=new re(this.P,[this.P.scrollLeft,this.P.scrollTop],[this.P.scrollLeft,h],100*this.lg.length);S(this.n(),n,"end",s(function(){var a=this.P;a.scrollTop!=h&&(a.scrollTop=h)},this));O(s(function(){n.play()},this),100)}}b&&qf(this)};
function uf(a){var b=Math.min(a.P.scrollHeight,210);Kd(a.P,D(a.a(),"toggled")?b:a.Wc);Kd(a.a(),D(a.a(),"collapsed")?a.Wc:b+a.Wc+19)};function zf(a){return'\t<div class="channel"><div class="programs-container"><div class="programs"></div><div class="suggest"><div class="spinner">...</div><div class="select-program"><div class="select-header">SUGGEST PROGRAM <div class="close"></div></div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="Paste YouTube link"/><div class="page2"></div></div></div></div></div></div><div class="graph"></div><div class="viewers"></div><div class="name"><div class="text">'+
L(a.name)+'</div><div class="suggest-program"><div class="add-program button dark">+</div></div></div></div>'}function Af(a){return'<div class="info"><div class="thumb'+(a.repeat?" repeat":"")+'" style="background-image:url('+L(a.yf.media.Xa)+"); background-position: 50% "+L(a.yf.media.Mc)+'%"></div><div class="progress"></div><div class="title">'+L(a.yf.media.name)+"</div>"+(a.Ee?'<div class="remove"></div><div class="repos"></div>':"")+"</div>"}
function Bf(a){return'<div class="line"><div class="pic"><img src="'+L(a.s.X)+'"></div></div>'}function Cf(a){return'<div class="confirm-media"><div class="thumb" style="background-image:url('+L(a.Vj)+')"></div><div class="title">'+L(a.title)+'</div><div class="added">ADDED</div><div class="dark button">ADD</div></div>'};function Df(a){this.id=a.id;this.X=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Ef(a){P.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.vc=a.host_id;this.duration=a.duration;this.description=a.description;this.Fa=new Df(a.publisher);this.Xb=fd(a.published+"Z");this.Xa="http://i.ytimg.com/vi/"+this.vc+"/0.jpg";this.dl="http://i.ytimg.com/vi/"+this.vc+"/1.jpg";this.el="http://i.ytimg.com/vi/"+this.vc+"/2.jpg";this.fl="http://i.ytimg.com/vi/"+this.vc+"/3.jpg";this.Of=new Bb(480,360);this.Mc=a.thumb_pos||37;this.Vc=[];this.ji=a.collection_id;this.subscribe(Ff,
this.fi,this)}v(Ef,P);function Gf(a){return a.Xb.getMonth()+1+"/"+a.Xb.getDate()+"/"+a.Xb.getYear()}var Ff="add-comment";Ef.prototype.fi=function(a){this.Vc.push(a)};function Hf(){P.call(this);this.nf={}}v(Hf,P);la(Hf);function If(a,b){var c=a.get(b.id);c||(c=new Ef(b),a.add(c));return c}Hf.prototype.get=function(a){return a in this.nf?this.nf[a]:i};Hf.prototype.add=function(a){this.nf[a.id]=a};function wf(a,b){P.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?new Ef(d.media):c;Hf.b().add(this.media);this.time=d?fd(d.time+"Z"):new gd}v(wf,P);function Jf(a){P.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.X=za("https://graph.facebook.com/%s/picture",this.id);this.color=Raphael.getColor();this.Zf=a.access_level;this.zk=[];this.Tk=a.last_login?fd(a.last_login+"Z"):k;this.al=a.session_count;this.Bk=a.ave_session?a.ave_session.toFixed(2):k;this.Kj=a.show_guide!=i?a.show_guide:j;this.Oj=a.show_sidebar!=i?a.show_sidebar:j;this.zj=a.post_facebook!=i?a.post_facebook:j;this.Aj=a.post_twitter!=
i?a.post_twitter:j}v(Jf,P);function nf(){return X.b().C.Zf==Kf}var Kf=2;function Lf(a,b,c,d,f){this.id=a;this.s=b;this.ja=c;this.Sf=d;this.zd=f||k;this.nh=[]}
Lf.prototype.end=function(a){this.zd=a;a=(this.zd.getTime()-this.Sf.getTime())/1E3;Mf.b();var b=this.ja,c=this.nh.length;_gaq.push(["_trackEvent","Users","SessionTime",X.b().C.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",X.b().C.id,c]);_gaq.push(["_trackEvent","Users","Active",X.b().C.id,c]);_gaq.push(["_trackEvent","Users",b.id+"-time",X.b().C.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",X.b().C.id,c]);b.ga||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,
a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))};function vf(a){P.call(this);this.id=a.id;this.name=a.name;this.ga=a.my_channel;this.sa=[];this.Gc={};this.Na=a.current_program&&new wf(a.current_program);this.Be=[];this.subscribe(xf,this.gc,this);this.subscribe(Nf,this.Fd,this);this.subscribe(Of,this.Vf,this)}v(vf,P);vf.prototype.gc=function(a){this.sa.push(a);this.Gc[a.id]=a};vf.prototype.Fd=function(a){this.Be.push(a)};vf.prototype.Vf=function(a){var b=a.id in this.Gc?this.Gc[a.id]:i;b&&(b.time=fd(a.time+"Z"))};
vf.prototype.i=function(a){if(!this.sa.length)return k;var b=this.Na;b||(b=this.sa[0],this.mb=0);if(a)return this.sa[this.mb+a];if(t()>=b.time.getTime()&&t()<b.time.getTime()+1E3*b.media.duration)return this.Na=b;for(;t()>b.time.getTime()&&t()>=b.time.getTime()+1E3*b.media.duration;){this.Na||(this.Na=this.sa[0],this.mb=0);this.sa.length>=this.mb+1?(this.mb++,a=this.Na=this.sa[this.mb]):a=k;if(!a)break;b=a}return t()>=b.time.getTime()&&t()<b.time.getTime()+1E3*b.media.duration?this.Na=b:k};
var xf="add-program",Nf="add-viewer",Of="update-program";function Pf(){M.call(this);this.W=[];this.rc=[];this.Ud={};this.o=new rd(this);this.Ui=this.ah=l;this.Wf=j}v(Pf,Pc);m=Pf.prototype;m.af=0;m.Ff=ba("af");
m.init=function(){if(!this.ah){for(var a=0,b=this.W.length;a<b;a++)for(var c=Vb(this.W[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,n=sa(h);this.Ud[n]=g;this.wg&&(S(this.o,g,"mouseover",this.Gi),S(this.o,g,"mouseout",this.Fi));this.vg&&(S(this.o,h,"mouseover",this.Ei),S(this.o,h,"mouseout",this.Di));this.rc.push(g);S(this.o,h,["mousedown","touchstart"],this.Qg)}this.ah=j}};
m.h=function(){this.o.U();for(var a=0,b=this.W.length;a<b;a++){var c=this.W[a];c.ug=i;c.Lb=i}this.W.length=0;this.rc.length=0;this.Ud=k;Qf(this);Pf.c.h.call(this)};function Rf(a,b){for(var c=0,d=a.W.length;c<d;c++){var f=a.W[c];f.oc=Nd(f)}c=0;for(d=a.rc.length;c<d;c++)f=a.rc[c],f!=b&&(f.oc=Nd(f))}
m.Qg=function(a){var b=sa(a.currentTarget);this.j=this.Ud[b];this.w=this.Nd(this.j);this.Vd&&B(this.w,this.Vd);this.w.style.margin="0";this.w.style.position="absolute";this.w.style.visibility="hidden";Mb(this.j).body.appendChild(this.w);b=Id(this.j);Jd(this.w,b);this.m=new Wd(this.w);this.m.Ff(this.af);N(this.m,"start",this.Lg,l,this);N(this.m,"end",this.Kg,l,this);N(this.m,"earlycancel",this.Ld,l,this);this.m.bc(a)};
m.Lg=function(a){if(this.dispatchEvent(new Sf("beforedragstart",this,a.Ie,this.j,k,k))){this.me=this.j.parentNode;this.sg=this.rf=Wb(this.j);this.Qe=this.me;this.Pe?B.apply(k,Sa(this.j,this.Pe)):this.j.style.visibility="hidden";var b=T(this.w);this.w.Ai=b.width/2;this.w.zi=b.height/2;this.w.style.visibility="";this.Wf&&(this.j.style.display="none");Rf(this,this.j);this.j.style.display="";N(this.m,"drag",this.Hi,l,this);this.dispatchEvent(new Sf("dragstart",this,a.Ie,this.j,this.w,this.m))}else a.preventDefault(),
this.Ld()};
m.Hi=function(a){var b=Id(this.w),b=new Ab(b.x+this.w.Ai,b.y+this.w.zi),c;a:{c=k;if("none"!=this.j.style.display){c=this.j.parentNode;var d=Nd(c);if(Tf(b,d))break a}for(var d=0,f=this.W.length;d<f;d++){var g=this.W[d];if(g!=c&&Tf(b,g.oc)){c=g;break a}}c=k}var h;if(c){c==k&&e(Error("getHoverNextItem_ called with null hoverList."));var n,q,d=l,f=i;switch(c.ug){case 0:h=b.y;n=Uf;q=Vf;break;case 4:d=j;case 2:h=b.x;n=Wf;q=Vf;break;case 5:d=j;case 3:h=b.x,n=Xf,q=Yf}for(var g=k,u,z=Vb(c),G=0,ka=z.length;G<
ka;G++){var ga=z[G];if(ga!=this.j){var Tb=n(ga.oc);if(d){var Tc=Zf(ga,b);ha(f)||(f=Tc);if(q(h,Tb)&&(u==i||Tc<f||Tc==f&&(q(Tb,u)||Tb==u)))g=ga,u=Tb;Tc<f&&(f=Tc)}else if(q(h,Tb)&&(u==i||q(Tb,u)))g=ga,u=Tb}}h=g!==k&&Zf(g,b)>f?k:g}else h=k;if(!this.dispatchEvent(new Sf("beforedragmove",this,a,this.j,this.w,this.m,b,c,h)))return l;if(c)this.Wf?(this.j.parentNode!=c||Wb(this.j)!=h)&&c.insertBefore(this.j,h):h&&(this.sg=h),this.j.style.display="",c.Lb&&B(c,c.Lb);else{this.Ui||(this.j.style.display="none");
n=0;for(q=this.W.length;n<q;n++)u=this.W[n],u.Lb&&C(u,u.Lb)}c!=this.Qe&&(this.Qe=c,Rf(this,this.j));this.dispatchEvent(new Sf("dragmove",this,a,this.j,this.w,this.m,b,c,h));return l};m.Ld=function(){Qf(this);this.m=this.w=this.rf=this.me=this.Qe=this.j=k;for(var a=0,b=this.W.length;a<b;a++)this.W[a].oc=k;a=0;for(b=this.rc.length;a<b;a++)this.rc[a].oc=k};
m.Kg=function(a){if(!this.dispatchEvent(new Sf("beforedragend",this,a,this.j,this.w,this.m)))return l;this.Wf||this.me.insertBefore(this.j,this.sg);Qf(this);this.dispatchEvent(new Sf("dragend",this,a,this.j,this.w,this.m));this.Ld();return j};function Qf(a){rc(a.m);a.w&&Ub(a.w);a.j&&"none"==a.j.style.display&&(a.me.insertBefore(a.j,a.rf),a.j.style.display="");a.Pe&&a.j?C.apply(k,Sa(a.j,a.Pe)):a.j&&(a.j.style.visibility="visible");for(var b=0,c=a.W.length;b<c;b++){var d=a.W[b];d.Lb&&C(d,d.Lb)}}
m.Gi=function(a){B.apply(k,Sa(a.currentTarget,this.wg))};m.Fi=function(a){C.apply(k,Sa(a.currentTarget,this.wg))};m.Ei=function(a){B.apply(k,Sa(a.currentTarget,this.vg))};m.Di=function(a){C.apply(k,Sa(a.currentTarget,this.vg))};function Tf(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Zf(a,b){var c=a.oc;return Math.abs(b.y-(c.top+(c.height-1)/2))}function Uf(a){return a.top+a.height-1}function Wf(a){return a.left+a.width-1}function Xf(a){return a.left||0}
function Vf(a,b){return a<b}function Yf(a,b){return a>b}m.Nd=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return J("table",k,J("tbody",k,b));case "td":case "th":return J("table",k,J("tbody",k,J("tr",k,b)));default:return b}};function Sf(a,b,c,d,f,g,h,n,q){vc.call(this,a);this.Jk=b;this.event=c;this.xa=d;this.pi=f;this.oi=g;this.xg=h;this.Sk=n;this.qb=q}v(Sf,vc);function pf(a,b,c,d,f){U.call(this);this.v=a;this.ma=nf();this.Lh=this.Hd=l;this.Nc=b;this.yb=c;this.O=f;this.bl=d;this.Cb={};this.od={};this.nb=this.ma?new Pf:k;this.ig=6}v(pf,U);m=pf.prototype;m.I=function(){this.e=K(zf,{name:this.v.name,Ik:this.v.Na,ve:this.Nc})};
m.q=function(){pf.c.q.call(this);this.nd=H("programs",this.a());this.ai=H("viewers",this.a());this.sh=H("name",this.a());this.We=H("graph",this.a());this.Ia=H("suggest",this.a());if(this.v.ga)R(this.Ia,l);else{this.cc=new $f("Paste YouTube link");this.cc.f(H("program-input",this.a()));var a=new Oe(this.cc.a()),b=new ag(this.cc.a()),c=new bg(s(this.qf,this),1E3);S(S(S(this.n(),b,cg,s(this.qf,this)),a,"key",s(function(){c&&c.Ue()},this)),this.cc,"focus",s(this.qf,this))}this.aa=(T(this.nd).width-200)/
this.Nc;if(this.Lh){var b=0,d=40;this.lf=0;this.Bg=[new Ab(b,d)];this.Qk=Math.floor((t()-this.O.getTime())/1E3);for(a=0;a<this.Nc/40;a++)this.Bg.push(new Ab(b+=40,d+=[-30,-5,15,10,25][Math.floor(5*Math.random())])),this.lf=Math.max(this.lf,d);this.xi=Raphael(this.We,"100%",60).path("M0,0").attr({stroke:"none",opacity:0.8,fill:"#5d5d5d"})}yd(this.sh,"background",Raphael.getColor());b=this.v.sa;for(a=0;a<b.length;a++)b[a].time.getTime()<this.yb.getTime()&&b[a].time.getTime()+1E3*b[a].media.duration>
this.yb.getTime()-1E3*this.Nc?this.gc(b[a]):b[a].time.getTime()>this.yb.getTime()&&this.gc(b[a]);if(this.ma){a=this.nb;b=this.nd;b.ug=2;b.Lb=i;a.W.push(b);this.nb.Vd="drag";var f=this.a();this.nb.Qg=function(a){var b=sa(a.currentTarget);this.j=this.Ud[b];this.w=this.Nd(this.j);this.Vd&&B(this.w,this.Vd);this.w.style.margin="0";this.w.style.position="absolute";this.w.style.visibility="hidden";f.appendChild(this.w);b=Id(this.j);Jd(this.w,b);this.m=new Wd(this.w);this.m.Ff(this.af);N(this.m,"start",
this.Lg,l,this);N(this.m,"end",this.Kg,l,this);N(this.m,"earlycancel",this.Ld,l,this);this.m.bc(a)};this.nb.init();var g={},h,n,q,u,z,G=j;S(S(S(this.n(),this.nb,"beforedragstart",s(function(a){(!this.Hd||!a.event.shiftKey)&&a.preventDefault()},this)),this.nb,"dragmove",function(a){q=q||a.xg.x;u=u||Fd(a.xa).x;z=z||(a.xa.previousElementSibling!=i?a.xa.previousElementSibling:Xb(a.xa.previousSibling,l));G=G&&!!z;var b=z?T(z).width:i,c=z?Fd(z).x:i,d=a.xg.x-q;10>Math.abs(d)||(a.qb&&!g[a.qb.id]&&0<d?(b=
T(a.xa).width,c=Fd(a.qb).x,h=c-b+T(a.qb).width,d=this.v.Gc[a.qb.id],n=d.time.getTime()/1E3+d.media.duration-this.v.Gc[a.xa.id].media.duration,Dd(a.xa,h),Dd(a.qb,c-b-12),g[a.qb.id]=j,b=a.qb,b.parentNode&&b.parentNode.insertBefore(a.xa,b.nextSibling)):G&&(0>d&&u+d<c+b)&&(b=T(a.xa).width,h=c=Fd(z).x,n=this.v.Gc[z.id].time.getTime()/1E3,Dd(a.xa,h),Dd(z,c+b+12),b=z.previousElementSibling!=i?z.previousElementSibling:Xb(z.previousSibling,l),z.parentNode&&z.parentNode.insertBefore(a.xa,z),z=b,G=!!b))}),this.nb,
"dragend",function(a){n&&(Y("/admin/_rescheduleprogram",i,"POST","program="+a.pi.id+"&time="+n),this.nb.init(),n=i);g={};h=z=u=q=i;G=j})}for(var a=this.v.Be,b=this.Fd,d=r(a)?a.split(""):a,ka=a.length-1;0<=ka;--ka)ka in d&&b.call(this,d[ka],ka,a);S(S(S(S(this.n(),this.Ia,"click",s(this.oj,this)),H("close",this.Ia),"click",s(function(a){a.preventDefault();a.stopPropagation();dg(this)},this)),H("name",this.a()),"click",s(function(){this.v.id!=V.b().u.id&&this.v.i()&&V.b().d(rf,this.v)},this)),Vc.b().Md,
Sc,s(this.update,this));this.v.subscribe(xf,this.gc,this);this.v.subscribe(Nf,this.Fd,this);this.v.subscribe("remove-viewer",this.Dj,this);this.v.subscribe(Of,this.Vf,this);V.b().subscribe(sf,this.Xh,this);V.b().subscribe(rf,function(){this.ig=0;this.Xh()},this);Q.b().subscribe("toggle-admin",ba("Hd"),this);this.update()};m.Xh=function(){this.B&&C(this.od[this.B],"playing");this.B=k;var a=V.b().u.i();if(a){var b=this.od[a.id];b&&(this.B=a.id,B(b,"playing"))}};
m.gc=function(a){var b=J("div",{"class":"program",id:a.id}),c=a.media.duration*this.aa,d=this.ma&&a.time.getTime()+1E3*a.media.duration>t();kc(b,Af,{yf:a,repeat:600<c,Ee:d});this.od[a.id]=b;var f=V.b().u.i();f&&a.id==f.id&&(B(b,"playing"),this.B=a.id);var g=H("thumb",b);O(function(){a.media.Of.height<T(b).height+50?(B(g,"fix-height"),B(g,"pan-left")):B(g,"pan-top");h&&Ld(g,200);E(b,"stretched",360<a.media.Of.height)});Ld(b,c-12);f=(a.time.getTime()-this.O.getTime())/1E3*this.aa;Dd(b,f);Dd(this.Ia,
f+c);this.nd.appendChild(b);var h=120>c;E(b,"clipped",h);S(this.n(),b,"click",function(){Z.b().d(eg,a.media)});var n=D(b,"clipped")?200:T(b).width,q=H("title",b),u=T(q).width;S(S(this.n(),b,"mouseover",function(){if(Q.b().uc){var b=u+Fd(q).x;b>n&&(yd(q,"margin-left",-(b-n-10)+"px"),B(q,"marquee"));this.Hd||yd(g,"background-position-y",a.media.Mc+10*Math.max(a.media.Of.width/n,1)+"%")}}),b,"mouseout",function(){Q.b().uc&&(yd(q,"margin-left",""),C(q,"marquee"),this.Hd||yd(g,"background-position-y",
a.media.Mc+"%"))});d&&(c=new Wd(H("repos",b)),c.Rd=function(a,b){var c=b-24;-50<=c&&50>=c&&yd(g,"background-position-y",50-c+"%")},S(S(this.n(),c,"end",function(){var b=(g.style[Ia("background-position")]||"").split(" ")[1],b=b.substring(0,b.length-1);a.media.Mc=b;Y("/admin/_posthumb",he(),"POST","media="+a.media.id+"&pos="+b)}),H("remove",b),"click",s(this.lj,this,a,b)))};m.Vf=function(a){var b=this.od[a.id],a=(fd(a.time+"Z").getTime()-this.O.getTime())/1E3*this.aa;Dd(b,a)};
m.lj=function(a,b){Ub(b);Y("/admin/_removeprogram",i,"POST","program="+a.id)};m.Fd=function(a){if(X.b().C.id!=a.s.id){var b=this.Cb[a.s.id];b||(b=J("div","viewer"),this.ai.appendChild(b),this.Cb[a.s.id]=b);if(this.v.i()&&(!a.zd||a.zd.getTime()>this.O.getTime())){var c=K(Bf,{s:a.s});b.appendChild(c);var d=Math.max(a.Sf.getTime(),this.O.getTime()),b=(d-this.O.getTime())/1E3*this.aa+200,d=(t()-d)/1E3*this.aa;Ld(c,d);Dd(c,b);yd(c,"background",a.s.color);S(this.n(),c,"click",function(){Z.b().d(fg,a.s)})}}};
m.Dj=function(a){this.Cb[a.id]&&(Ub(this.Cb[a.id]),Gb(this.Cb,a.id))};m.oj=function(){if(!D(this.Ia,"show")){Od(H("select-program",this.Ia),1);B(this.Ia,"show");var a=this.cc,b=gg(a);a.bf=j;a.a().focus();!b&&!hg&&(a.a().value=a.Da);a.a().select();hg||(a.o&&td(a.o,a.a(),"click",a.Xe),O(a.ti,10,a))}};function dg(a){C(a.Ia,"show");a.cc.xb("");H("page2",a.a()).innerHTML=""}
m.qf=function(){var a=H("select-content",this.a()),b=H("page2",this.a());if(!Vb(b).length)try{var c;var d=this.cc.S(),f=ig.exec(d);f?c=new jg(f[1]||f[2],i,i):e(Error("failed to parse video id from youtube url: "+d));Y(za("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.ck),s(function(d){d=kg(lg(d.target)).entry;kc(b,Cf,{title:d.title.$t,Vj:d.media$group.media$thumbnail[0].url});d=new lf("YES");d.f(H("button",b));(new re(a,[0,0],[160,0],300,mg)).play();S(this.n(),d,"action",s(this.nj,
this,c))},this))}catch(g){}};m.nj=function(a){Y("/_addprogram",s(function(a){a=ng(a.target);a.id&&(a=new wf(a),this.v.d(xf,a))},this),"POST","channel_id="+this.v.id+"&url="+a.Pc);Od(H("button",this.Ia),0);R(H("added",this.Ia),j);Od(H("select-program",this.Ia),0);O(s(function(){dg(this)},this),3E3)};
m.update=function(){E(this.a(),"offline",!this.v.sa.length);if(this.v.sa.length){if(this.Lh){var a="",b=T(this.nd).width,c,d,f,g=(t()-this.O)/1E3,h=Wa(this.Bg,0,Math.floor(g/40));w(h,function(n,q){c=n.x/this.Nc*b;d=60-60*(n.y/this.lf);q==h.length-1&&(c=g/this.Nc*b);c+=6;q?(a+="L"+[c-30,f],a+="C"+[c-20,f,c-10,d,c,d]):a+="M"+[c,d]+"R";f=d},this);this.xi.attr({path:a+"L"+c+",60 10,60z"})}if(this.B){var n=this.od[this.B],q=Fd(n).x+Fd(F("guide")).x,n=H("title",n);Dd(n,5>q?-q+10:5)}else this.ig++;Cb(this.v.Be,
function(a){if(this.v.i()&&!a.zd&&this.Cb[a.s.id]){var b=Math.max(a.Sf.getTime(),this.O.getTime());T(this.nd);var c=Math.floor((t()-b)/1E3*this.aa),d=W.b().i();a.s.id==X.b().C.id&&d&&(c=Math.floor((d.time.getTime()+1E3*W.b().ad()-b)/1E3*this.aa));this.Cb[a.s.id].lastChild&&Ld(this.Cb[a.s.id].lastChild,c)}},this);q=T(this.We).height;n=T(this.ai).height;q-=n;0>q&&yd(this.We,"margin-top",-q+"px");Kd(this.sh,T(this.a()).height-1)}};function X(){P.call(this);this.Yh={}}v(X,P);la(X);X.prototype.add=function(a){this.Yh[a.id]=a};X.prototype.get=function(a){return this.Yh[a]};function og(a,b){var c=a.get(b.id);c||(c=new Jf(b),a.add(c));return c};function pg(a){if("function"==typeof a.$d)return a.$d();if(r(a))return a.split("");if(oa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Db(a)}function qg(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(oa(a)||r(a))w(a,b,c);else{var d;if("function"==typeof a.Ve)d=a.Ve();else if("function"!=typeof a.$d)if(oa(a)||r(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Eb(a);else d=i;for(var f=pg(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function rg(a,b){this.ub={};this.L=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof rg?(c=a.Ve(),d=a.$d()):(c=Eb(a),d=Db(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}m=rg.prototype;m.N=0;m.$h=0;m.$d=function(){sg(this);for(var a=[],b=0;b<this.L.length;b++)a.push(this.ub[this.L[b]]);return a};m.Ve=function(){sg(this);return this.L.concat()};
m.clear=function(){this.ub={};this.$h=this.N=this.L.length=0};function sg(a){if(a.N!=a.L.length){for(var b=0,c=0;b<a.L.length;){var d=a.L[b];Object.prototype.hasOwnProperty.call(a.ub,d)&&(a.L[c++]=d);b++}a.L.length=c}if(a.N!=a.L.length){for(var f={},c=b=0;b<a.L.length;)d=a.L[b],Object.prototype.hasOwnProperty.call(f,d)||(a.L[c++]=d,f[d]=1),b++;a.L.length=c}}m.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.ub,a)?this.ub[a]:b};
m.set=function(a,b){Object.prototype.hasOwnProperty.call(this.ub,a)||(this.N++,this.L.push(a),this.$h++);this.ub[a]=b};m.clone=function(){return new rg(this)};function tg(a){return ug(a||arguments.callee.caller,[])}
function ug(a,b){var c=[];if(Qa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(vg(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=vg(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(ug(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function vg(a){if(wg[a])return wg[a];a=String(a);if(!wg[a]){var b=/function ([^\(]+)/.exec(a);wg[a]=b?b[1]:"[Anonymous]"}return wg[a]}var wg={};function xg(a,b,c,d,f){this.reset(a,b,c,d,f)}xg.prototype.Ij=0;xg.prototype.Ag=k;xg.prototype.zg=k;var yg=0;xg.prototype.reset=function(a,b,c,d,f){this.Ij="number"==typeof f?f:yg++;this.gl=d||t();this.hd=a;this.Zi=b;this.Vk=c;delete this.Ag;delete this.zg};xg.prototype.Jh=ba("hd");function zg(a){this.$i=a}zg.prototype.F=k;zg.prototype.hd=k;zg.prototype.T=k;zg.prototype.Rg=k;function Ag(a,b){this.name=a;this.value=b}Ag.prototype.toString=ca("name");var Bg=new Ag("SEVERE",1E3),Cg=new Ag("WARNING",900),Dg=new Ag("INFO",800),Eg=new Ag("CONFIG",700),Fg=new Ag("FINE",500);m=zg.prototype;m.getParent=ca("F");m.Gg=function(){this.T||(this.T={});return this.T};m.Jh=ba("hd");function Gg(a){return a.hd?a.hd:a.F?Gg(a.F):k}
m.log=function(a,b,c){if(a.value>=Gg(this).value){a=this.wi(a,b,c);b="log:"+a.Zi;p.console&&(p.console.timeStamp?p.console.timeStamp(b):p.console.markTimeline&&p.console.markTimeline(b));p.msWriteProfilerMark&&p.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Rg)for(var f=0,g=i;g=c.Rg[f];f++)g(d);b=b.getParent()}}};
m.wi=function(a,b,c){var d=new xg(a,String(b),this.$i);if(c){d.Ag=c;var f;var g=arguments.callee.caller;try{var h;var n=ia("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var q,u,z=l;try{q=c.lineNumber||c.Uk||"Not available"}catch(G){q="Not available",z=j}try{u=c.fileName||c.filename||c.sourceURL||n}catch(ka){u="Not available",z=j}h=z||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:q,
fileName:u,stack:c.stack||"Not available"}:c}f="Message: "+Ba(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ba(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ba(tg(g)+"-> ")}catch(ga){f="Exception trying to expose exception! You win, we lose. "+ga}d.zg=f}return d};function Hg(a,b){a.log(Bg,b,i)}m.info=function(a,b){this.log(Dg,a,b)};function Ig(a,b){a.log(Fg,b,i)}var Jg={},Kg=k;
function Lg(a){Kg||(Kg=new zg(""),Jg[""]=Kg,Kg.Jh(Eg));var b;if(!(b=Jg[a])){b=new zg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Lg(a.substr(0,c));c.Gg()[d]=b;b.F=c;Jg[a]=b}return b};function kg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function Mg(){}Mg.prototype.Jd=k;var Ng;function Og(){}v(Og,Mg);function Pg(a){return(a=Qg(a))?new ActiveXObject(a):new XMLHttpRequest}function Rg(a){var b={};Qg(a)&&(b[0]=j,b[1]=j);return b}
function Qg(a){if(!a.Vg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Vg=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Vg}Ng=new Og;var Sg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Tg(a){M.call(this);this.headers=new rg;this.Qc=a||k}v(Tg,Pc);Tg.prototype.A=Lg("goog.net.XhrIo");var Ug=/^https?$/i,Vg=[];function Y(a,b,c,d){var f=new Tg;Vg.push(f);b&&N(f,"complete",b);N(f,"ready",xa(Wg,f));f.send(a,c,d,i)}function Wg(a){a.U();Ra(Vg,a)}m=Tg.prototype;m.kb=l;m.t=k;m.Ce=k;m.gd="";m.gh="";m.ed=0;m.fd="";m.Te=l;m.de=l;m.cf=l;m.Tb=l;m.we=0;m.dc=k;m.qe="";m.dk=l;
m.send=function(a,b,c,d){this.t&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.gd=a;this.fd="";this.ed=0;this.gh=b;this.Te=l;this.kb=j;this.t=this.Qc?Pg(this.Qc):Pg(Ng);this.Ce=this.Qc?this.Qc.Jd||(this.Qc.Jd=Rg(this.Qc)):Ng.Jd||(Ng.Jd=Rg(Ng));this.t.onreadystatechange=s(this.yh,this);try{Ig(this.A,Xg(this,"Opening Xhr")),this.cf=j,this.t.open(b,a,j),this.cf=l}catch(f){Ig(this.A,Xg(this,"Error opening Xhr: "+f.message));Yg(this,f);return}var a=c||
"",g=this.headers.clone();d&&qg(d,function(a,b){g.set(b,a)});d=p.FormData&&a instanceof p.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.ub,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");qg(g,function(a,b){this.t.setRequestHeader(b,a)},this);this.qe&&(this.t.responseType=this.qe);"withCredentials"in this.t&&(this.t.withCredentials=this.dk);try{this.dc&&(Rc.clearTimeout(this.dc),this.dc=k),0<this.we&&(Ig(this.A,Xg(this,"Will abort after "+
this.we+"ms if incomplete")),this.dc=Rc.setTimeout(s(this.Yj,this),this.we)),Ig(this.A,Xg(this,"Sending request")),this.de=j,this.t.send(a),this.de=l}catch(h){Ig(this.A,Xg(this,"Send error: "+h.message)),Yg(this,h)}};m.Yj=function(){"undefined"!=typeof ea&&this.t&&(this.fd="Timed out after "+this.we+"ms, aborting",this.ed=8,Ig(this.A,Xg(this,this.fd)),this.dispatchEvent("timeout"),this.abort(8))};function Yg(a,b){a.kb=l;a.t&&(a.Tb=j,a.t.abort(),a.Tb=l);a.fd=b;a.ed=5;Zg(a);$g(a)}
function Zg(a){a.Te||(a.Te=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}m.abort=function(a){this.t&&this.kb&&(Ig(this.A,Xg(this,"Aborting")),this.kb=l,this.Tb=j,this.t.abort(),this.Tb=l,this.ed=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),$g(this))};m.h=function(){this.t&&(this.kb&&(this.kb=l,this.Tb=j,this.t.abort(),this.Tb=l),$g(this,j));Tg.c.h.call(this)};m.yh=function(){!this.cf&&!this.de&&!this.Tb?this.kj():ah(this)};m.kj=function(){ah(this)};
function ah(a){if(a.kb&&"undefined"!=typeof ea)if(a.Ce[1]&&4==bh(a)&&2==ch(a))Ig(a.A,Xg(a,"Local request error detected and ignored"));else if(a.de&&4==bh(a))Rc.setTimeout(s(a.yh,a),0);else if(a.dispatchEvent("readystatechange"),4==bh(a)){Ig(a.A,Xg(a,"Request complete"));a.kb=l;try{var b=ch(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var f;if(f=0===b){var g=String(a.gd).match(Sg)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);f=!Ug.test(g?g.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.ed=6;var n;try{n=2<bh(a)?a.t.statusText:""}catch(q){Ig(a.A,"Can not get status: "+q.message),n=""}a.fd=n+" ["+ch(a)+"]";Zg(a)}}finally{$g(a)}}}
function $g(a,b){if(a.t){var c=a.t,d=a.Ce[0]?ja:k;a.t=k;a.Ce=k;a.dc&&(Rc.clearTimeout(a.dc),a.dc=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){Hg(a.A,"Problem encountered resetting onreadystatechange: "+f.message)}}}m.Ub=function(){return!!this.t};function bh(a){return a.t?a.t.readyState:0}function ch(a){try{return 2<bh(a)?a.t.status:-1}catch(b){return a.A.log(Cg,"Can not get status: "+b.message,i),-1}}function ng(a){if(a.t)return kg(a.t.responseText)}
function lg(a){try{if(!a.t)return k;if("response"in a.t)return a.t.response;switch(a.qe){case "":case "text":return a.t.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.t)return a.t.mozResponseArrayBuffer}Hg(a.A,"Response type "+a.qe+" is not supported on this browser");return k}catch(b){return Ig(a.A,"Can not get response: "+b.message),k}}function Xg(a,b){return b+" ["+a.gh+" "+a.gd+" "+ch(a)+"]"};function V(){P.call(this);this.jc=[];this.ic={};this.subscribe(rf,this.Hb,this)}v(V,P);la(V);V.prototype.get=function(a){return this.ic[a]};function dh(a){if(a.u&&a.u.i())return a.u;if(a.he&&a.he.i())return a.he;for(var b=a.jc[0],c=0;!b.i()&&c<a.jc.length;)b=!b.ga?a.jc[c]:b,c++;return!b.i()?a.u:b}V.prototype.jf=function(a,b){Cb(a,s(function(a){var b=new vf(a);this.jc.push(b);this.ic[a.id]=b;b.ga&&(this.ga=b)},this));this.u=this.ic[b]||this.jc[0];this.u=dh(this)};
V.prototype.Hb=function(a,b){a&&(this.he=this.u,this.u=a,Y("/_changechannel",he(),"POST","channel="+a.id+(b?"&forced=1":"")),Mf.b().Hb(a,this.he))};var rf="change-channel",sf="next-program";function eh(){U.call(this);this.Sb=new lf("Guide");cf(this.Sb,16,j);this.Va=new lf("Sidebar");cf(this.Va,16,j);this.Bf=new lf("Restart");this.cb=new lf("Play");cf(this.cb,16,j);this.Dd=new lf("Volume");cf(this.Dd,16,j);this.hc=new lf("Admin");cf(this.hc,16,j)}v(eh,U);m=eh.prototype;
m.q=function(){eh.c.q.call(this);this.Fj=H("right",this.a());this.zf=H("progress",this.a());this.$k=H("seek",this.a());this.qi=H("elapsed",this.a());this.$j=H("title",this.a());this.yg=H("duration",this.a());this.Hk=H("current-time",this.a());Be(this,this.Sb);this.Sb.f(F("guide-toggle"));bf(this.Sb,D(this.a(),"guide-toggled"));Be(this,this.Va);this.Va.f(F("sidebar-toggle"));bf(this.Va,D(this.a(),"sidebar-toggled"));Be(this,this.Bf);this.Bf.f(H("restart",this.a()));Be(this,this.cb);this.cb.f(H("play",
this.a()));Be(this,this.Dd);this.Dd.f(H("volume",this.a()));Be(this,this.hc);this.hc.f(F("admin-toggle"));R(this.hc.a(),X.b().C.Zf==Kf);var a=new bg(this.Uj,1E3,this);S(S(S(S(S(S(S(S(this.n(),window,"resize",s(this.resize,this)),this.Sb,"action",s(function(){a.Ue()},this)),this.Va,"action",s(function(a){a.stopPropagation();Q.b().d(Yc,Le(this.Va))},this)),this.Bf,"action",s(function(a){a.stopPropagation();W.b().i()&&(W.b().d(tf,W.b().i().media),this.resize())},this)),this.cb,"action",s(function(a){a.stopPropagation();
Q.b().d($c,!Le(this.cb));this.resize()},this)),this.Dd,"action",s(function(a){a.stopPropagation();Q.b().d("mute",Le(this.Dd))},this)),this.hc,"action",s(function(a){a.stopPropagation();Q.b().d("toggle-admin",Le(this.hc));this.resize()},this)),Vc.b().Md,Sc,s(function(){if(V.b().u.ga&&W.b().i()){var a=W.b().getCurrentTime()/W.b().i().media.duration;$b(this.yg,(W.b().getCurrentTime()?fh(W.b().getCurrentTime().toString())+" / ":"")+fh(W.b().i().media.duration.toString()));Ld(this.qi,this.Af?a*this.Af:
0)}},this));W.b().subscribe(tf,this.Ih,this);W.b().subscribe(gh,this.resize,this);V.b().subscribe(rf,function(){C(this.a(),"window");O(s(this.resize,this),1E3)},this);V.b().subscribe(sf,function(){this.resize()},this);Q.b().subscribe(Zc,this.xe,this);Q.b().subscribe(Yc,function(a){bf(this.Va,a);this.resize()},this);Q.b().subscribe($c,function(a){bf(this.cb,!a)},this);W.b().subscribe(gh,function(){V.b().u.ga&&W.b().i()&&this.resize()},this);this.resize()};
m.Ih=function(a){$b(this.$j,a.name.toUpperCase());$b(this.yg,fh(a.duration.toString()))};m.Uj=function(){var a=Le(this.Sb);Q.b().d(Zc,a)};m.xe=function(a){bf(this.Sb,a);a&&(C(this.a(),"window"),C(this.a(),"collapsed"),O(s(this.resize,this)));O(s(function(){E(this.a(),"guide-toggled",a);a||(V.b().u&&V.b().u.i(),B(this.a(),"collapsed"),this.resize())},this),a?0:600)};
m.resize=function(){Ld(this.a(),I().width-(Le(this.Va)?300:0));if(V.b().u.ga)W.b().i()&&(R(this.zf,j),this.Ih(W.b().i().media),this.Af=I().width-(Le(this.Va)?560:260)-(nf()?50:0),Ld(this.zf,this.Af));else{R(this.zf,l);var a=F("guide"),b=H("current",a),b=Nb("program",b),c=b[b.length-1],a=c?Fd(a).x+Fd(c).x+T(c).width+210:9999999,d=Math.min(I().width-200,Math.max(100,I().width-a)),a=Le(this.Va)&&300<d?d-295:d+5;this.Gj!=a&&(this.Gj=a,Ld(this.Fj,a));O(s(function(){E(this.a(),"window",D(this.a(),"collapsed")&&
!!c&&d<I().width-203)},this),400)}};function W(){P.call(this);this.subscribe(tf,function(a){Mf.b();_gaq.push(["_trackEvent","Media","Play",a.id]);_gaq.push(["_trackEvent","Users","Play",X.b().C.id])},this)}v(W,P);la(W);W.prototype.Hf=ba("r");W.prototype.i=ca("B");W.prototype.getCurrentTime=function(){return this.r&&this.r.getCurrentTime?this.r.getCurrentTime():0};W.prototype.ad=function(){return this.r&&this.r.getCurrentTime?this.r.getCurrentTime():0};var tf="play-async",gh="playing";function hh(){ee.call(this);this.queue=[]}v(hh,ee);hh.prototype.add=function(a){Qa(this.queue,a)||(this.queue.push(a),N(a,"finish",this.bj,l,this))};hh.prototype.h=function(){w(this.queue,function(a){a.U()});this.queue.length=0;hh.c.h.call(this)};function ih(){hh.call(this);this.ya=0}v(ih,hh);
ih.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.g==fe)this.ya<this.queue.length&&this.queue[this.ya].g!=fe&&this.queue[this.ya].stop(l),this.ya=0,this.vb();else if(1==this.g)return l;this.ka("play");-1==this.g&&this.ka("resume");this.startTime=t();this.Zc=k;this.g=1;this.queue[this.ya].play(a);return j};
ih.prototype.stop=function(a){this.g=fe;this.Zc=t();if(a)for(a=this.ya;a<this.queue.length;++a){var b=this.queue[a];b.g==fe&&b.play();b.g==fe||b.stop(j)}else this.ya<this.queue.length&&this.queue[this.ya].stop(l);this.ka("stop");this.wb()};ih.prototype.bj=function(){1==this.g&&(this.ya++,this.ya<this.queue.length?this.queue[this.ya].play():(this.Zc=t(),this.g=fe,this.ka("finish"),this.wb()))};function jh(a){return a*a*a}function mg(a){return 1-Math.pow(1-a,3)};function kh(){U.call(this)}v(kh,U);m=kh.prototype;
m.q=function(){kh.c.q.call(this);(this.B=(this.Q=V.b().u)&&this.Q.i())&&t();this.Zd=H("fullscreen",this.a());var a=H("expand",this.a());R(this.Zd,this.Ph());this.rd=F("stagecover");this.oh=H("message",this.rd);this.Y=H("spinner",this.rd);lh(this);this.B?mh(this,this.B):W.b().d("no-media");S(S(S(S(S(S(S(this.n(),window,"resize",s(this.resize,this)),this.Zd,"click",s(function(a){if(zb(this.Zd,"full")){var c=H("main");c.Dh&&c.Dh();c.webkitRequestFullScreen&&c.webkitRequestFullScreen();c.mozRequestFullScreen&&
c.mozRequestFullScreen()}else document.hi&&document.hi(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();a.stopPropagation();a.preventDefault()},this)),this.a(),"dblclick",s(this.Th,this)),a,"click",s(this.Th,this)),this.a(),"mousedown",s(function(a){a.offsetX>T(this.a()).width/2&&a.offsetY>T(this.a()).height/2&&(window.console.log(a.offsetX),window.console.log(a.offsetY),window.console.log("mousedown"),R(this.rd,l),O(s(function(){R(this.rd,
j)},this)))},this)),this.a(),"mouseup",s(function(a){a.offsetX>T(this.a()).width/2&&a.offsetY>T(this.a()).height/2&&(window.console.log("mouseup"),R(this.rd,j))},this)),this.a(),"click",s(function(a){if(!(a.offsetX>T(this.a()).width/2&&a.offsetY>T(this.a()).height/2)&&this.r&&this.r.getPlayerState)switch(this.r.getPlayerState()){case YT.PlayerState.PLAYING:Q.b().d($c,l);break;case YT.PlayerState.PAUSED:Q.b().d($c,j)}},this));V.b().subscribe(rf,this.Hb,this);V.b().subscribe(sf,function(a){this.B=a;
mh(this,a);lh(this)},this);W.b().subscribe(tf,this.uf,this);Q.b().subscribe(Yc,function(a){this.resize(a)},this);Q.b().subscribe(Zc,function(){O(s(this.resize,this))},this);Q.b().subscribe($c,function(a){a?this.r.playVideo():this.r.pauseVideo();var a=H(a?"play":"pause",this.a()),c=new ih;c.add(new ue(a,250,mg));c.add(new te(a,250,jh));c.play()},this);Q.b().subscribe("mute",function(a){this.r&&(a?this.r.mute():this.r.unMute())},this);Q.b().subscribe("restart",function(){this.r.seekTo(0)},this);this.resize()};
m.Ph=function(){var a=H("main");return!(!a.Dh&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};m.Th=function(a){a.preventDefault();a.stopPropagation();Z.b();a=!D(F("sidebar"),"toggled");Q.b().d(Yc,a);Q.b().d(Zc,a)};function mh(a,b){W.b().B=b;a.play(b.media)}
m.play=function(a,b){!this.r||!this.r.loadVideoById?(this.r=new YT.Player("ytplayer",{height:I().height-40,width:I().width,videoId:a.vc,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque"},events:{onStateChange:s(this.uj,this),onReady:s(this.jj,this),onError:s(this.ij,this)}}),W.b().Hf(this.r)):(this.r.cueVideoById(a.vc),O(s(function(){var c=b||0;!this.r.getPlayerState()&&4>c&&this.play(a,++c)},this),1E3))};
m.resize=function(){var a=F("ytplayer"),b=F("stagecover"),c=H("message",b),d=F("guide").style.height,d=d.substring(0,d.length-2),f=D(F("sidebar"),"toggled")?300:0;Kd(a,I().height-d);Ld(a,I().width-f);Kd(b,I().height-d);Ld(b,I().width-f);a=T(c);yd(c,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});E(this.Zd,"full",this.Ph&&(document.fullScreen||document.webkitIsFullScreen||document.Xk))};m.Hb=function(a){if(a=a.i())this.B=a,mh(this,a);lh(this)};
m.uf=function(a){this.fg=a;this.play(a,0);Y("/_optin",he(),"POST","media_id="+this.B.media.id)};
m.uj=function(a){this.vf=a.data;lh(this);switch(a.data){case YT.PlayerState.CUED:a=(t()-this.B.time.getTime())/1E3;this.r.seekTo(a);this.r.playVideo();Q.b().d($c,j);break;case YT.PlayerState.PLAYING:W.b().d(gh);break;case YT.PlayerState.ENDED:var a=X.b().C.Qd,b=this.B.media;Y("/_seen",he(),"POST","media_id="+b.id+"&session_id="+a.id);a.nh.push(b);(a=V.b().u.i())?V.b().d(sf,a):(W.b().B=k,V.b().d(rf,dh(V.b()),j),this.fg?this.fg=k:Y("/_started",he(),"POST","media_id="+this.B.media.id))}};
m.jj=function(){O(s(function(){if(this.r&&(!this.r.getPlayerState||!this.r.getPlayerState()))mh(this,this.B);else if(this.r.getPlayerState()){var a=(t()-this.B.time.getTime())/1E3;this.r.seekTo(a);this.r.playVideo()}},this),1E3)};m.ij=function(){W.b().d("no-media")};
function lh(a){var b=F("stagecover"),c=a.B?(t()-a.B.time.getTime())/1E3:0;!a.B||a.B&&c>a.B.media.duration?(W.b().d("no-media"),$b(a.oh.firstChild,nh),R(a.Y,l),B(b,"covered")):a.vf!=YT.PlayerState.PLAYING&&a.vf!=YT.PlayerState.PAUSED?($b(a.oh.firstChild,oh),R(a.Y,j),B(b,"covered")):(R(a.Y,l),C(b,"covered"));Od(b,a.vf==YT.PlayerState.BUFFERING?0.9:1);a.resize()}var nh="THIS CHANNEL IS CURRENTLY OFFLINE",oh="LOADING STORY";function $f(a,b){U.call(this,b);this.Da=a||""}v($f,U);$f.prototype.Qa=k;var hg="placeholder"in document.createElement("input");m=$f.prototype;m.cd=l;m.I=function(){this.e=this.Ba().I("input",{type:"text"})};m.J=function(a){$f.c.J.call(this,a);this.Da||(this.Da=a.getAttribute("label")||"");var b;a:{var c=Mb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.cd=j,C(this.a(),this.Rc));hg?this.a().placeholder=this.Da:this.a().setAttribute("aria-label",this.Da)};
m.q=function(){$f.c.q.call(this);var a=new rd(this);S(a,this.a(),"focus",this.Xe);S(a,this.a(),"blur",this.Ci);hg?this.o=a:(gb&&S(a,this.a(),["keypress","keydown","keyup"],this.Ii),S(a,Mb(this.a())?Mb(this.a()).parentWindow||Mb(this.a()).defaultView:window,"load",this.Qi),this.o=a,ph(this));qh(this);this.a().Vi=this};m.Pb=function(){$f.c.Pb.call(this);this.o&&(this.o.U(),this.o=k);this.a().Vi=k};function ph(a){!a.vi&&(a.o&&a.a().form)&&(S(a.o,a.a().form,"submit",a.Li),a.vi=j)}
m.h=function(){$f.c.h.call(this);this.o&&(this.o.U(),this.o=k)};m.Rc="label-input-label";m.Xe=function(){this.cd=j;C(this.a(),this.Rc);if(!hg&&!gg(this)&&!this.bf){var a=this,b=function(){a.a().value=""};x?O(b,10):b()}};m.Ci=function(){hg||(ud(this.o,this.a(),"click",this.Xe),this.Qa=k);this.cd=l;qh(this)};m.Ii=function(a){27==a.keyCode&&("keydown"==a.type?this.Qa=this.a().value:"keypress"==a.type?this.a().value=this.Qa:"keyup"==a.type&&(this.Qa=k),a.preventDefault())};
m.Li=function(){gg(this)||(this.a().value="",O(this.Bi,10,this))};m.Bi=function(){gg(this)||(this.a().value=this.Da)};m.Qi=function(){qh(this)};function gg(a){return!!a.a()&&""!=a.a().value&&a.a().value!=a.Da}m.clear=function(){this.a().value="";this.Qa!=k&&(this.Qa="")};m.reset=function(){gg(this)&&(this.clear(),qh(this))};m.xb=function(a){this.Qa!=k&&(this.Qa=a);this.a().value=a;qh(this)};m.S=function(){return this.Qa!=k?this.Qa:gg(this)?this.a().value:""};
function qh(a){hg?a.a().placeholder!=a.Da&&(a.a().placeholder=a.Da):(ph(a),a.a().setAttribute("aria-label",a.Da));gg(a)?C(a.a(),a.Rc):(!a.bf&&!a.cd&&B(a.a(),a.Rc),hg||O(a.Ej,10,a))}m.eb=function(a){this.a().disabled=!a;E(this.a(),this.Rc+"-disabled",!a)};m.isEnabled=function(){return!this.a().disabled};m.ti=function(){this.bf=l};m.Ej=function(){this.a()&&(!gg(this)&&!this.cd)&&(this.a().value=this.Da)};function rh(a,b,c){M.call(this);this.tb=a;this.K=b;this.Ca=c;this.Ke=s(this.qj,this)}v(rh,M);var bg=rh;m=rh.prototype;m.ue=l;m.Ah=0;m.ia=k;m.Ue=function(){!this.ia&&!this.Ah?this.Xc():this.ue=j};m.stop=function(){this.ia&&(Rc.clearTimeout(this.ia),this.ia=k,this.ue=l)};m.h=function(){rh.c.h.call(this);this.stop()};m.qj=function(){this.ia=k;this.ue&&!this.Ah&&(this.ue=l,this.Xc())};m.Xc=function(){this.ia=O(this.Ke,this.K);this.tb.call(this.Ca)};function sh(a,b){M.call(this);this.tb=a;this.Ca=b;this.Pa=new ge(s(this.pj,this),0,this)}v(sh,M);m=sh.prototype;m.K=0;m.Cf=0;m.Zg=l;m.h=function(){this.Pa.U();delete this.tb;delete this.Ca;sh.c.h.call(this)};m.start=function(a,b){this.stop();this.Zg=l;var c=b||0;this.K=Math.max(a||0,0);this.Cf=0>c?-1:t()+c;this.Pa.start(0>c?this.K:Math.min(this.K,c))};m.stop=function(){this.Pa.stop()};m.Ub=function(){return this.Pa.Ub()};
m.pj=function(){if(this.tb.call(this.Ca))this.Zg=j;else if(0>this.Cf)this.Pa.start(this.K);else{var a=this.Cf-t();0>=a||this.Pa.start(Math.min(this.K,a))}};function ag(a){M.call(this);this.e=a;this.jd=this.e.value;this.o=new rd(this);this.hh=t();y||x||gb&&A("1.9")?S(this.o,a,"paste",this.nc):S(this.o,a,["keydown","blur","focus","mouseover","input"],this.Ji);this.Pa=new sh(s(this.mg,this))}v(ag,Pc);var cg="after_paste";m=ag.prototype;m.g="init";m.A=Lg("goog.events.PasteHandler");m.h=function(){ag.c.h.call(this);this.o.U();this.o=k;this.Pa.U();this.Pa=k};
m.mg=function(){if(this.jd==this.e.value)return l;this.A.info("detected textchange after paste");this.dispatchEvent(cg);return j};m.nc=function(a){a=new yc(a.pa);a.type="paste";this.dispatchEvent(a);O(function(){this.mg()||this.Pa.start(50,200)},0,this)};
m.Ji=function(a){switch(this.g){case "init":switch(a.type){case "blur":this.g="init";break;case "focus":this.g="focused";break;case "mouseover":this.g="init";this.e.value!=this.jd&&(this.A.info("paste by dragdrop while on init!"),this.nc(a));break;default:Hg(this.A,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.hh+400;if(t()>b||"focus"==this.Bj)this.A.info("paste by textchange while focused!"),this.nc(a);break;case "blur":this.g="init";break;
case "keydown":this.A.info("key down ... looking for ctrl+v");if(ab&&fb&&0==a.keyCode||ab&&fb&&17==a.keyCode)break;this.g="typing";break;case "mouseover":this.e.value!=this.jd&&(this.A.info("paste by dragdrop while focused!"),this.nc(a));break;default:Hg(this.A,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.g="focused";break;case "blur":this.g="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.A.info("paste by ctrl+v while keypressed!"),
this.nc(a);break;case "mouseover":this.e.value!=this.jd&&(this.A.info("paste by dragdrop while keypressed!"),this.nc(a));break;default:Hg(this.A,"unexpected event "+a.type+" during keypressed")}break;default:Hg(this.A,"invalid "+this.g+" state")}this.hh=t();this.jd=this.e.value;this.A.info(a.type+" -> "+this.g);this.Bj=a.type};function Z(){P.call(this)}v(Z,P);la(Z);var eg="media-info",fg="profile";function th(a){return'<div class="info"><div class="picture"><img src="'+L(a.media.Xa)+'" class="thumb"><div class="publisher"><img src="'+L(a.media.Fa.X)+'"><div class="name">'+L(a.media.Fa.name)+'</div></div><div class="title">'+L(a.media.name)+'</div><div class="scrollable ios-scroll"><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+L(a.Xb)+'</div></div><div class="description">'+L(a.media.description)+'</div></div><div class="options"><div class="button star"></div><div class="button facebook"></div><div class="button twitter"></div><div class="button play"></div><div class="button plus"></div></div></div><div class="viewers" style="display: none"><div class="label">SEEN BY</div></div><div class="tweet-holder" style="display:none"><div class="label"><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><a class="conv-link">CONVERSATION</a></div><div class="no-comments" style="display:none">Start the conversation.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div></div>'}
function uh(a){return'<div class="viewer" style="background-color:'+L(a.s.color)+'"><img src="'+L(a.s.X)+'"></div>'}function vh(a){return'<div class="tweet">'+(a.hb.s?'<a href="#user:'+L(a.hb.s.id)+'"><img src="'+L(a.hb.X)+'"/></a>':'<img src="'+L(a.hb.X)+'"/>')+'<div class="text"><a target="_blank" href="http://www.twitter.com/'+L(a.hb.handle)+"/status/"+L(a.hb.id)+'">'+L(a.hb.handle)+"</a> "+L(a.hb.text)+'</div><div class="timestamp">'+L(a.timestamp)+"</div></div>"}
function wh(a){return'<div class="comment"><a href="#user:'+L(a.Za.s.id)+'"><img src="'+L(a.Za.s.X)+'"/></a><div class="text"><a href="#user:'+L(a.Za.s.id)+'">'+L(a.Za.s.name)+"</a> "+L(a.Za.text)+'</div><div class="timestamp">'+L(a.timestamp)+"</div></div>"}
function xh(){return'<div class="comment-input"><div class="comment-controls"><div class="comment-button tweet-toggle">tweet<div class="check"></div></div><div class="comment-button fb-toggle">post<div class="check"></div></div><div class="comment-button add-comment"><div class="return">&#8618;</div>add</div></div><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div></div>'}
function yh(a){var b='<div class="activity'+(1<a.ca.length?" digest":"")+'">';if(1<a.ca.length){for(var b=b+('<div class="text"><span>'+L(a.ca.length)+" friends </span>"+(a.Vh?"watched":"are watching")+(a.ja?' <a href="#channel:'+L(a.ja.id)+'">'+L(a.ja.name)+"</a>":"")+'<div class="timestamp">'+L(a.time)+'</div></div><div class="users">'),c=a.ca,d=c.length,f=0;f<d;f++)var g=c[f],b=b+('<a href="#user:'+L(g.id)+'"><div class="picture" style="background:'+L(g.color)+'"><img src="'+L(g.X)+'"/></div></a>');
b+="</div>"}return b+=(1==a.ca.length?'<a href="#user:'+L(a.ca[0].id)+'"><div class="picture" style="background:'+L(a.ca[0].color)+'"><img src="'+L(a.ca[0].X)+'"/></div></a><div class="text"><a class="user" href="#user:'+L(a.ca[0].id)+'">'+L(a.ca[0].name)+"</a> "+(a.Vh?"watched":"is watching")+(a.ja?' <a href="#channel:'+L(a.ja.id)+'">'+L(a.ja.name)+"</a>":"")+'<div class="timestamp">'+L(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function zh(a){for(var b='<div class="comment activity'+(1<a.Vc.length?" digest":"")+'">'+(1<a.Vc.length?'<div class="text">'+(1==a.ca.length?'<a class="user" href="#user:'+L(a.ca[0].id)+'">'+L(a.ca[0].name)+' </a> discussed <a class="title" href="#info:'+L(a.media.id)+'">'+L(a.media.name)+"</a>.":"<span>"+L(a.ca.length)+' friends </span> discussed <a class="title" href="#info:'+L(a.media.id)+'"> '+L(a.media.name)+"</a>.")+"</div>":""),a=a.Vc,c=a.length,d=0;d<c;d++)var f=a[d],b=b+('<div class="comment"><a href="#user:'+
L(f.s.id)+'"><div class="picture" style="background:'+L(f.s.color)+'"><img src="'+L(f.s.X)+'"/></div></a><div class="text"><a class="user" href="#user:'+L(f.s.id)+'">'+L(f.s.name)+"</a>  "+L(f.text)+'<div class="timestamp">'+L(f.Cj)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function Ah(a){return'<div class="list-info"><div class="picture-cell" '+(a.Xa?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+L(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+L(a.Xa)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" '+(a.description?'style="display:table-cell"':"")+">"+L(a.description)+"</div></div>"}function Bh(a){return'<li class="'+L(a.className)+' tab"><div class="label">'+L(a.name)+"</div></li>"}
function Ch(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.Xg?'placeholder="'+L(a.Xg)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function Dh(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="spinner" style="display:none"></div></div>'}
function Eh(a){return'<div class="playlist"><div class="title">'+L(a.wj.name)+"</div></div>"}function Fh(a){return'<div class="channel '+(a.ja.Yk?"on":"off")+'"><div class="title">'+L(a.ja.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.ja.Fc?'<div class="pending">'+L(a.ja.Fc)+"</div>":"")+"</div>"}
function Gh(a){return'<div class="collection"><div class="title">'+L(a.Le.name)+'</div><div class="controls">'+(a.Le.Fc?'<div class="pending">'+L(a.Le.Fc)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Hh(a){return'<div class="topic"><div class="title">'+L(a.ak)+'</div><div class="controls">'+(a.Fc?'<div class="pending">'+L(a.Fc)+"</div>":"")+"</div></div>"}
function Ih(){return'<div class="tabbed activity"><ul class="tabs"><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label">STARRED</div></li></ul><div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function Jh(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function Kh(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+L(a.media.Xa)+"); background-position: 50% "+L(a.media.Mc)+'%"></div><div class="title">'+L(a.media.name)+'</div></div></div><div class="publisher"><img src="'+L(a.media.Fa.X)+'"><div class="name">'+L(a.media.Fa.name)+"</div></div></div>"}
function Lh(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+L(a.media.Xa)+"); background-position: 50% "+L(a.media.Mc)+'%"></div><div class="title">'+L(a.media.name)+'</div><div class="published">'+L(a.Xb)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+L(a.media.Fa.X)+'"><div class="name">'+L(a.media.Fa.name)+
'</div><div class="duration">'+L(a.media.duration)+' seconds</div></div><div class="description">'+L(a.media.description)+"</div></div>"};function Mh(){M.call(this);this.dd=[];this.Tj=[];this.qd=[]}v(Mh,Pc);m=Mh.prototype;m.dh=l;m.eh=l;m.df=l;m.Kh=ba("se");m.init=function(){if(!this.df){for(var a,b=0;a=this.dd[b];b++)Nh(this,a);this.df=j}};function Nh(a,b){a.dh&&(N(b.element,"mousedown",b.qh,l,b),a.Kf&&B(b.element,a.Kf));a.eh&&a.Nf&&B(b.element,a.Nf)}
m.bc=function(a,b){if(!this.oa)if(this.oa=b,this.dispatchEvent(new Oh("dragstart",this,this.oa))==l)this.oa=k;else{var c=b.kc,d=this.Nd(c);this.ni&&B(d,this.ni);this.qc=d;d=Mb(c);d.body.appendChild(this.qc);var f=this.qc,g=Id(c),c=Sd(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.m=new Wd(f);this.m.Kh(this.se);N(this.m,"drag",this.rh,l,this);N(this.m,"end",this.Ob,l,this);N(d.body,"selectstart",this.Qh);this.Lc=[];for(d=
0;c=this.Tj[d];d++)for(var h,f=0;h=c.dd[f];f++)for(var g=c,n=[h.element],q=this.Lc,u=0;u<n.length;u++){var z=n[u],G=Id(z),ka=T(z),G=new wd(G.y,G.x+ka.width,G.y+ka.height,G.x);q.push(new Ph(G,g,h,z));Qh(this,G)}this.fb||(this.fb=new wd(0,0,0,0));for(d=0;c=this.qd[d];d++)c.Oe=[],c.Eh=c.e.scrollLeft,c.Fh=c.e.scrollTop,f=Id(c.e),g=T(c.e),c.M=new wd(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.Lc[d];d++)for(f=0;c=this.qd[f];f++)Zb(c.e,g.e)&&(c.Oe.push(g),g.pd=c);this.Eb=k;for(d=0;c=this.qd[d];d++)N(c.e,
"scroll",this.pg,l,this);this.m.bc(a);a.preventDefault()}};
m.Ob=function(a){var b=a.mi?k:this.Eb;if(b&&b.na){var c=a.clientX,a=a.clientY,d=hc(Kb(this.qc)),f=c+d.x,d=a+d.y,g;this.vd&&(g=this.vd(b.bb,b.M,f,d));this.dispatchEvent(new Oh("drag",this,this.oa,b.na,b.bb,b.e,c,a,f,d));b.na.dispatchEvent(new Oh("drop",this,this.oa,b.na,b.bb,b.e,c,a,f,d,g))}this.dispatchEvent(new Oh("dragend",this,this.oa));Jc(this.m,"drag",this.rh,l,this);Jc(this.m,"end",this.Ob,l,this);Jc(Mb(this.oa.kc).body,"selectstart",this.Qh);for(b=0;c=this.qd[b];b++)Jc(c.e,"scroll",this.pg,
l,this),c.Oe=[];this.m.U();Ub(this.qc);delete this.oa;delete this.qc;delete this.m;delete this.Lc;delete this.Eb};
m.rh=function(a){var b,c=hc(Kb(this.qc));b=new Ab(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.Eb,g;if(f){this.vd&&f.na&&(g=this.vd(f.bb,f.M,c,d));if(f.M.contains(b)&&g==this.$f)return;f.na&&(this.dispatchEvent(new Oh("dragout",this,this.oa,f.na,f.bb,f.e)),f.na.dispatchEvent(new Oh("dragout",this,this.oa,f.na,f.bb,f.e,i,i,i,i,this.$f)));this.$f=g;this.Eb=k}if(this.fb.contains(b)){a:{for(var h=0;f=this.Lc[h];h++)if(f.M.contains(b))if(f.pd){if(f.pd.M.contains(b)){b=f;break a}}else{b=f;break a}b=
k}if((f=this.Eb=b)&&f.na)this.vd&&(g=this.vd(f.bb,f.M,c,d)),c=new Oh("dragover",this,this.oa,f.na,f.bb,f.e),c.Sj=g,this.dispatchEvent(c),f.na.dispatchEvent(new Oh("dragover",this,this.oa,f.na,f.bb,f.e,a.clientX,a.clientY,i,i,g));else if(!f){this.la||(this.la=new Ph(this.fb.clone()));a=this.la.M;a.top=this.fb.top;a.right=this.fb.right;a.bottom=this.fb.bottom;a.left=this.fb.left;for(g=0;f=this.Lc[g];g++)b=f.M,f.pd&&(f=f.pd.M,b=new wd(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=k,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),f!==k&&h!==k&&(Math.abs(f-c)>Math.abs(h-d)?h=k:f=k),f===k?h!==k&&(h<=d?a.top=h:a.bottom=h):f<=c?a.left=f:a.right=f;this.Eb=10<=(a.right-a.left)*(a.bottom-a.top)?this.la:k}}};m.Qh=da(l);
m.pg=function(a){for(var b=0,c;c=this.qd[b];b++)if(a.target==c.e){var d=c.Fh-c.e.scrollTop,f=c.Eh-c.e.scrollLeft;c.Fh=c.e.scrollTop;c.Eh=c.e.scrollLeft;this.la&&this.Eb==this.la&&(0<d?this.la.M.top+=d:this.la.M.bottom+=d,0<f?this.la.M.left+=f:this.la.M.right+=f);for(var g=0,h;h=c.Oe[g];g++)h=h.M,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,Qh(this,h)}this.m.zh(a)};
m.Nd=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return J("table",k,J("tbody",k,b));case "td":case "th":return J("table",k,J("tbody",k,J("tr",k,b)));default:return b}};function Qh(a,b){if(1==a.Lc.length)a.fb=new wd(b.top,b.right,b.bottom,b.left);else{var c=a.fb;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
m.h=function(){Mh.c.h.call(this);for(var a,b=0;a=this.dd[b];b++)this.dh&&(Jc(a.element,"mousedown",a.qh,l,a),this.Kf&&C(a.element,this.Kf)),this.eh&&this.Nf&&C(a.element,this.Nf),a.U();this.dd.length=0};function Oh(a,b,c,d,f,g,h,n,q,u,z){vc.call(this,a);this.Kk=b;this.Lk=c;this.Mk=d;this.Ok=f;this.Nk=g;this.clientX=h;this.clientY=n;this.ll=q;this.ml=u;this.Sj=z}v(Oh,vc);Oh.prototype.h=aa();
function Rh(a,b){M.call(this);this.element=F(a);this.data=b;this.F=k;this.element||e(Error("Invalid argument"))}v(Rh,Pc);m=Rh.prototype;m.kc=k;m.qh=function(a){if(Ac(a)){var b=a.target;b&&(N(b,"mousemove",this.Bc,l,this),N(b,"mouseout",this.Bc,l,this),N(b,"mouseup",this.of,l,this),this.kc=b,this.Lf=new Ab(a.clientX,a.clientY),a.preventDefault())}};m.te=ba("F");
m.Bc=function(a){var b=this.kc,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Lf.x)+Math.abs(a.clientY-this.Lf.y)||c)Jc(b,"mousemove",this.Bc,l,this),Jc(b,"mouseout",this.Bc,l,this),Jc(b,"mouseup",this.of,l,this),this.F.bc(a,this)};m.of=function(){var a=this.kc;Jc(a,"mousemove",this.Bc,l,this);Jc(a,"mouseout",this.Bc,l,this);Jc(a,"mouseup",this.of,l,this);delete this.Lf;this.kc=k};function Ph(a,b,c,d){this.M=a;this.na=b;this.bb=c;this.e=d}Ph.prototype.pd=k;function Sh(){Mh.call(this)}v(Sh,Mh);function Th(a,b){b.te(a);a.dd.push(b);a.df&&Nh(a,b)};function Uh(){}v(Uh,Fe);la(Uh);m=Uh.prototype;m.sc=aa();m.f=function(a,b){Ye(a);a.Ya&=-256;cf(a,32,l);Uh.c.f.call(this,a,b);a.$b(b.value);return b};m.I=function(a){Ye(a);a.Ya&=-256;cf(a,32,l);return a.Ba().I("textarea",{"class":He(this,a).join(" "),disabled:!a.isEnabled()},a.Ma||"")};m.Gb=function(a){return"TEXTAREA"==a.tagName};m.ac=ja;m.ef=function(a){return a.isEnabled()};m.Jc=ja;m.ha=function(a,b,c){Uh.c.ha.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};m.Ja=ja;
m.$b=function(a,b){a&&(a.value=b)};m.da=da("goog-textarea");function Vh(a,b,c){Xe.call(this,a,b||Uh.b(),c);Ye(this);this.Ic(j);a||(this.Ma="")}v(Vh,Xe);var Wh=gb||y;m=Vh.prototype;m.wc=l;m.Sa=0;m.kh=0;m.ph=0;m.Sg=l;m.le=l;m.Ef=l;m.Df=l;function Xh(a){return a.kd.top+a.kd.bottom+a.gg.top+a.gg.bottom}function Yh(a){var b=a.ph,c=a.a();b&&(c&&a.le)&&(b-=Xh(a));return b}function Zh(a){var b=a.kh,c=a.a();b&&(c&&a.le)&&(b-=Xh(a));return b}m.xb=function(a){this.$b(String(a))};m.S=function(){return this.a().value};m.$b=function(a){Vh.c.$b.call(this,a);this.resize()};
m.eb=function(a){Vh.c.eb.call(this,a);this.a().disabled=!a};m.resize=function(){this.a()&&this.ae()};m.q=function(){Vh.c.q.call(this);var a=this.a();yd(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.kd=Sd(a,"padding");this.gg=Vd(a);S(S(S(S(this.n(),a,"scroll",this.ae),a,"focus",this.ae),a,"keyup",this.ae),a,"mouseup",this.Yi);this.resize()};
function $h(a){if(!a.Sg){var b=a.a().cloneNode(l);yd(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ba().V.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.Ef=d>c;b.style.borderWidth="10px";a.Df=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.le=j);Ub(b);a.Sg=j}var b=a.a(),c=a.a().scrollHeight,f=a.a(),d=f.offsetHeight-f.clientHeight;if(!a.Ef)var g=a.kd,d=d-(g.top+g.bottom);
a.Df||(f=Vd(f),d-=f.top+f.bottom);c+=0<d?d:0;a.le?c-=Xh(a):(a.Ef||(d=a.kd,c+=d.top+d.bottom),a.Df||(a=Vd(b),c+=a.top+a.bottom));return c}function ai(a,b){a.Sa!=b&&(a.Sa=b,a.a().style.height=b+"px")}function bi(a){a=a.a();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
m.ae=function(){if(!this.wc){var a=l;this.wc=j;var b=this.a(),c=this.Sa;if(b.scrollHeight){var d=l,f=l,g=$h(this),h=b.offsetHeight,n=Yh(this),q=Zh(this);n&&g<n?(ai(this,n),d=j):q&&g>q?(ai(this,q),b.style.overflowY="",f=j):h!=g?ai(this,g):this.Sa||(this.Sa=g);!d&&(!f&&Wh)&&(a=j)}else bi(this);this.wc=l;a&&(a=this.a(),this.wc||(this.wc=j,b=l,a.value||(a.value=" ",b=j),(f=a.scrollHeight)?(g=$h(this),d=Yh(this),h=Zh(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.kd,a.style.paddingBottom=h.bottom+1+"px",$h(this)==
g&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=$h(this)-f,f>=d?ai(this,f):ai(this,d)),a.style.paddingBottom=h.bottom+"px")):bi(this),b&&(a.value=""),this.wc=l));c!=this.Sa&&this.dispatchEvent("resize")}};m.Yi=function(){var a=this.a(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Sa&&(this.Sa=this.ph=b)};function ci(a,b,c,d,f){U.call(this);this.ma=nf();this.Jb=a;this.oe=b;this.Bh=c;this.Pf=d||k;this.Sd=f||k;this.Re=this.ma?new Sh:k;this.Qb={pending:l,all:l};this.Wa=["pending","all","playlists"]}v(ci,U);m=ci.prototype;m.J=function(a){ci.c.J.call(this,a);a.innerHTML="";a.scrollTop=0;kc(a,Dh);var b=H("pending-content",a);w(this.oe,function(a){di(this,b,a)},this);this.xj=H("playlists-content",a);w(this.Bh,this.dg,this);this.resize()};
m.q=function(){ci.c.q.call(this);this.fa=H("input",this.a());var a=new Oe(this.fa),b=new ag(this.fa);this.wa=H("tabs",this.a());this.H="pending";var c=l;S(S(S(S(this.n(),window,"resize",xa(O,s(this.resize,this))),a,"key",s(function(a){"13"==a.keyCode&&ei(this,this.fa.value)},this)),b,cg,s(function(){ei(this,this.fa.value)},this)),this.wa,"click",s(function(a){a=gc(a.target,"li");this.Vb(a)},this));S(this.n(),this.a(),"scroll",s(function(){if(this.Jb&&!c&&!this.Qb[this.H]&&this.a().scrollTop+I().height>
this.a().scrollHeight-this.a().clientTop){c=j;var a=H("spinner",this.a());R(a,j);var b="pending"==this.H?this.oe:this.Fe;Y("/admin/_media/collection/"+this.Jb+"?offset="+b.length+("pending"==this.H?"&pending=1":""),s(function(g){c=l;g=kg(lg(g.target)).medias;g=Ma(g,function(a){return new Ef(a)});Ua(b,g);var h=H(this.H+"-content",this.a());w(g,function(a){di(this,h,a)},this);this.Qb[this.H]=!g.length;E(a,"finished",!g.length)},this))}},this));this.resize()};
m.resize=function(){Kd(this.a(),I().height-40)};
function ei(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.Jb&&c&&(a.fa.disabled="disabled",Y("admin/_add/collection/"+a.Jb,s(function(a){this.fa.value="";this.fa.disabled="";a=ng(a.target);if("media"==a.type){var b=If(Hf.b(),a.data);Oa(this.oe,function(a){return a.id==b.id})||(this.oe.push(b),a=H("pending-content",this.a()),di(this,a,b,j),this.Vb(Ob("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Oa(this.Bh,function(a){return a.id==
c.id})||(this.dg(c),this.Vb(Ob("li","playlists",i)[0]))}},a),"POST","url="+c))}m.Vb=function(a){w(this.Wa,function(b){E(this.wa.parentElement,b,D(a,b));this.H=D(a,b)?b:this.H},this);this.Jb&&!this.Fe&&Y("/admin/_media/collection/"+this.Jb,s(function(a){a=kg(lg(a.target)).medias;this.Fe=Ma(a,function(a){return new Ef(a)});var c=H("all-content",this.a());w(this.Fe,function(a){di(this,c,a)},this)},this))};m.dg=function(a){a=K(Eh,{wj:a});this.xj.appendChild(a)};
function di(a,b,c,d){var f=K(Lh,{media:c,Xb:Gf(c)});d?Sb(b,f,0):b.appendChild(f);a.ma&&(b=a.Re,d=new Rh(f,i),Th(b,d));var b=new Wd(H("repos",f)),g=H("thumb",f),d=H("play",f),h=H("approve",f),n=H("remove",f);b.Rd=function(a,b){var c=b-24;-50<=c&&50>=c&&yd(g,"background-position-y",50-c+"%")};S(S(S(S(a.n(),b,"end",function(){var a=(g.style[Ia("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);Y("/admin/_posthumb",he(),"POST","media="+c.id+"&pos="+a)}),d,"click",s(a.tj,a,c)),h,"click",
s(a.eg,a,c,j,f)),n,"click",s(a.eg,a,c,l,f));O(xa(B,f,"show"))}m.eg=function(a,b,c){var d=a.ji||this.Jb;Y("admin/_media/collection",s(function(){B(c,"remove");O(function(){Ub(c)},300);Q.b();var b;Q.b();b=dc(F("toggle-pending"));ad(0,b-1);Z.b().d("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};m.tj=function(a){W.b().d(tf,a)};function fi(a){U.call(this);this.lb=a||k;this.Oc=this.kg=this.Uh=this.og=0}v(fi,U);m=fi.prototype;m.I=function(){this.e=K(Ch)};m.J=function(a){fi.c.J.call(this,a);var b=K(Ch,{Xg:this.lb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
m.q=function(){fi.c.q.call(this);this.fa=H("input",this.a());var a=new Oe(this.fa);this.Hj=H("scrollable",this.a());this.P=H("admin-channels",this.a());this.Rf=H("topics",this.a());this.Od=H("collections",this.a());this.ng=F("admin-col-list");this.Gd=F("admin-list");V.b();this.lb?(Y("/admin/_topicmedias/"+this.lb,s(function(a){a=ng(a.target);Cb(a,function(a,b){R(this.Rf.parentElement,j);if(a&&a.length){var f=K(Hh,{ak:b,Fc:a.length});this.Rf.appendChild(f);N(f,"click",s(function(){a=Ma(a,function(a){return new Ef(a)});
(new ci("",a,[])).f(this.Gd);Z.b().d("navigate",this.Gd,l,b)},this));Z.b().subscribe("approved",function(b){if(Oa(a,function(a){return a.id==b.id})){var d=H("pending",f),n=dc(d)-1;0>=n?(Ub(f),rc(f)):$b(d,n)}},this)}},this);this.Oc&&ad(Q.b(),this.Oc);this.Uh=T(this.Rf.parentElement).height;this.resize()},this)),Y("/admin/_collections/"+this.lb,s(function(a){a=ng(a.target);R(this.Od.parentElement,!!a.length);w(a,this.cg,this);this.Oc&&ad(Q.b(),this.Oc);this.og=T(this.Od.parentElement).height;this.resize()},
this))):Y("/admin/_channels",s(function(a){a=ng(a.target);R(this.P.parentElement,!!a.length);w(a,this.bg,this);this.kg=T(this.P.parentElement).height;this.resize()},this));S(this.n(),a,"key",s(function(a){"13"==a.keyCode&&this.fa.value&&(a=this.fa.value,this.fa.disabled="disabled",Y(this.lb?"/admin/_collections":"/admin/_channels",s(function(a){a=ng(a.target);this.lb?(R(this.Od.parentElement,!!a),this.cg(a)):(R(this.P.parentElement,!!a),this.bg(a));this.fa.disabled="";this.fa.value=""},this),"POST",
"name="+a+(this.lb?"&cid="+this.lb:"")))},this))};
m.bg=function(a){var b=K(Fh,{ja:a});this.P.appendChild(b);N(b,"click",s(function(c){D(c.target,"on")||D(c.target,"off")?(E(b,"on",D(c.target,"on")),E(b,"off",!D(c.target,"on")),Y("/admin/_channel/online/"+a.id,s(function(a){a.target.disabled="";a=ng(a.target);E(b,"on",a.online);E(b,"off",!a.online)},this),"POST","online="+D(c.target,"on"))):D(c.target,"program")?Y("/admin/_program",he(),"POST","channel_id="+a.id):D(c.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+a.id):D(c.target,"remove")&&confirm("Remove "+a.name+"?")?(R(b,l),Y("/admin/_channels/"+a.id,function(a){ng(a.target).deleted?Ub(b):R(b,j)},"DELETE")):((new fi(a.id)).f(this.ng),Z.b().d("navigate",this.ng,l,a.name))},this))};
m.cg=function(a){var b=K(Gh,{Le:a});this.Oc+=a.pending;this.Od.appendChild(b);N(b,"click",s(function(c){D(c.target,"remove")&&confirm("Remove "+a.name+"?")?(R(b,l),Y("/admin/_collections/"+a.id,function(a){ng(a.target).deleted?Ub(b):R(b,j)},"DELETE")):D(c.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):Y("/admin/_media/collection/"+a.id+"?pending=1",s(function(b){var b=kg(lg(b.target)),c=b.medias,c=Ma(c,function(a){return new Ef(a)});
(new ci(a.id,c,b.playlists)).f(this.Gd);Z.b().d("navigate",this.Gd,l,a.name)},this))},this));Z.b().subscribe("approved",function(c,d){if(d==a.id){var f=H("pending",b),g=dc(f)-1;0>=g?(Ub(b),rc(b)):$b(f,g)}},this)};m.resize=function(){Kd(this.Hj,this.kg+this.Uh+this.og+110)};function gi(){U.call(this);this.k=new Vh("Add to the conversation.");this.ec=new lf("tweet");cf(this.ec,16,j);this.ob=new lf("post");cf(this.ob,16,j);var a=X.b().C;this.Wd=a.zj;this.ze=a.Aj;this.fc=new lf("add")}v(gi,U);m=gi.prototype;m.I=function(){this.e=K(xh)};
m.q=function(){gi.c.q.call(this);this.k.f(H("comment-textarea",this.a()));var a=this.k;a.kh=70;a.resize();a=new Oe(this.k.pb());this.Me=H("comment-controls",this.a());Be(this,this.ec);this.ec.f(H("tweet-toggle",this.a()));Y("/_twitter",s(function(a){a=ng(a.target);this.ze=this.ze&&a.auth;this.bk=a.auth_url;bf(this.ec,this.ze)},this));Be(this,this.ob);this.ob.f(H("fb-toggle",this.a()));FB.api("/me/permissions",s(function(a){this.Wd=this.Wd&&!!a.data[0].publish_stream;bf(this.ob,this.Wd)},this));Be(this,
this.fc);this.fc.f(H("add-comment",this.a()));this.fc.eb(l);S(S(S(S(S(S(this.n(),this.k.a(),"focus",s(function(){Dd(this.Me,0,0);this.dispatchEvent("focus")},this)),a,"key",s(function(a){this.fc.eb(this.k.S());"13"==a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.fc.setActive(this.k.S()),this.Ec(a))},this)),this.k,"resize",s(function(a){this.dispatchEvent(a)},this)),this.ob,"action",s(this.ej,this)),this.ec,"action",s(this.sj,this)),this.fc,"action",s(this.Ec,this))};m.S=function(){return this.k.S()};
m.collapse=function(){return 25!=Fd(this.Me).y?(Dd(this.Me,0,25),j):l};m.ee=function(){return D(this.a(),"focused")};m.Ua=function(a){a&&this.k.a().focus();return E(this.a(),"focused",a)};m.Ec=function(){this.k.S()&&(this.k.setActive(l),this.k.eb(l),this.Ua(j),this.dispatchEvent({type:"add",hg:s(function(){this.k.xb("");this.k.eb(j);this.k.Ua(j)},this),$c:Le(this.ob),ye:Le(this.ec),text:this.k.S()}))};
m.ej=function(){!this.Wd&&Le(this.ob)&&(R(F("overlay"),j),FB.login(function(a){R(F("overlay"),l);this.si=!!a.authResponse;bf(this.ob,this.si)},{scope:"publish_stream"}))};m.sj=function(){if(!this.ze&&Le(this.ec)){var a=window.open(this.bk,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function hi(a){this.id=a.id;this.s=og(X.b(),a.user);this.text=a.text;this.time=fd(a.time+"Z");this.Cj=Wc(this.time.getTime())};function ii(a){this.id=a.id;this.s=a.user&&og(X.b(),a.user);this.handle=a.handle;this.X=a.picture;this.text=a.text;this.time=fd(a.time+"Z")};function ji(a,b,c,d){U.call(this);this.p=a;this.$a=b||[];this.Ae=!!c;this.jb=d||[];this.Zb=this.Dk=0}v(ji,U);
ji.prototype.J=function(a){ji.c.J.call(this,a);a.innerHTML="";a.scrollTop=0;B(this.a(),"ios-scroll");this.Y=J("div","loading",J("div","loading-spinner"));this.a().appendChild(this.Y);R(this.Y,l);this.Ta=J("div","no-comments","Start the conversation.");this.a().appendChild(this.Ta);R(this.Ta,l);this.z=J("div","comments tweets");this.a().appendChild(this.z);S(this.n(),window,"resize",xa(O,s(this.resize,this)));this.$a.length?(w(this.$a,function(a){this.Sc(a)},this),this.Ac=T(this.z).height):this.Ae&&
this.jb.length?(w(this.jb,function(a){this.Tc(a)},this),this.Ac=T(this.z).height):R(this.Y,j);this.Ae?Y("/_tweet/"+this.p.id+"?offset="+this.jb.length,s(function(a){R(this.Y,l);a=kg(lg(a.target));a=Ma(a,function(a){a=new ii(a);this.Tc(a);return a},this);R(this.Ta,!a.length);this.Ac=T(this.z).height;this.resize()},this)):Y("/_comment/"+this.p.id+"?offset="+this.$a.length,s(function(a){R(this.Y,l);a=kg(lg(a.target));a=Ma(a,function(a){a=new hi(a);this.Sc(a);return a},this);R(this.Ta,!a.length);this.Ac=
T(this.z).height;this.resize()},this));this.resize(41)};ji.prototype.Tc=function(a,b){R(this.Ta,l);var c=K(vh,{hb:a,timestamp:Wc(a.time.getTime())});Xc(Vc.b(),a.time,H("timestamp",c));b?Sb(this.z,c,0):this.z.appendChild(c);this.resize();R(Yb(this.z),j)};ji.prototype.Sc=function(a){R(this.Ta,l);var b=K(wh,{Za:a,timestamp:Wc(a.time.getTime())});Xc(Vc.b(),a.time,H("timestamp",b));this.z.appendChild(b);this.resize()};
ji.prototype.resize=function(a){this.Zb=a||this.Zb;Kd(this.a(),I().height-42-this.Zb-(gc(this.a(),k,"tabbed")?30:0))};function ki(a,b,c,d){U.call(this);this.p=this.v=a;this.$a=b||[];this.jb=c||[];this.Ae=!!d;this.Ne=new ji(a,this.$a);this.Tf=new ji(a,i,j,this.jb);this.k=new gi;this.Wa=["comments","tweets"]}v(ki,U);m=ki.prototype;m.J=function(a){ki.c.J.call(this,a);B(a,"conversation");B(a,"ios-scroll");kc(a,Jh);B(a.firstChild,this.Ae?"tweets":"comments")};
m.q=function(){this.wa=H("tabs",this.a());this.Ne.f(H("comments-content",this.a()));this.Tf.f(H("tweets-content",this.a()));ze(this.k,this.a());S(S(S(S(S(S(S(this.n(),this.wa,"click",s(function(a){a=gc(a.target,"li");this.Vb(a)},this)),this.k,"add",s(this.Ec,this)),this.k,"resize",s(function(){D(this.a().firstChild,"comments")?this.Ne.resize(41):this.Tf.resize(41)},this)),window,"click",s(function(a){!gc(a.target,k,"comment-input")&&!this.k.S()&&(this.k.Ua(l),this.k.collapse())},this)),H("no-comments",
this.a()),"click",s(this.xh,this)),Nb("no-comments",this.a())[1],"click",s(this.xh,this)),window,"click",s(function(a){!gc(a.target,k,"comment-input")&&!this.k.S()&&(this.k.Ua(l),this.k.collapse())},this));this.Ne.resize(41);this.Tf.resize(41)};m.xh=function(a){a.preventDefault();a.stopPropagation();this.k.Ua(j)};
m.Ec=function(a){Y("/_comment",a.hg,"POST","media_id="+this.p.id+"&text="+a.text+"&tweet="+a.ye);a.$c&&FB.api("/me/feed","POST",{message:a.text,name:this.p.name,link:"http://www.broken.tv",picture:this.p.Xa,caption:"on Broken.TV",description:this.p.description},aa());Mf.b().Za(this.p.id,a.$c,a.ye)};m.Vb=function(a){w(this.Wa,function(b){E(this.wa.parentElement,b,D(a,b));this.H=D(a,b)?b:this.H},this)};function Wc(a){var b=t(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return li(c,b,0);c=Math.floor(c/60);if(24>c)return li(c,b,1);c=new Date(t());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?li(c,b,2):""}
function li(a,b,c){return!b&&0==c?(b=ya("{$num} minute ago",{num:a}),c=ya("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=ya("in {$num} minute",{num:a}),c=ya("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=ya("{$num} hour ago",{num:a}),c=ya("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=ya("in {$num} hour",{num:a}),c=ya("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=ya("{$num} day ago",{num:a}),c=ya("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=ya("in {$num} day",{num:a}),c=ya("in {$num} days",
{num:a}),1==a?b:c):""};function mi(a){U.call(this);this.p=this.v=a;this.$a=[];this.jb=[];this.k=new gi;this.sd=new lf("Star");cf(this.sd,16,j);this.Cg=new lf("Facebook");this.Wh=new lf("Twitter");this.cb=new lf("Play");this.yj=new lf("Plus");this.Zb=0}v(mi,U);m=mi.prototype;m.I=function(){this.e=K(th,{media:this.p})};m.J=function(a){mi.c.J.call(this,a);var b=K(th,{media:this.p,Xb:Gf(this.p)});a.innerHTML=b.innerHTML};
m.q=function(){mi.c.q.call(this);var a=H("viewers",this.a()),b=H("picture",this.a()),c=H("scrollable",this.a()),d=H("publisher",this.a()),f=H("title",this.a());this.Y=H("loading",this.a());var g=b.firstChild;this.il=H("tweet-holder",this.a());this.ib=H("tweets",this.a());this.pc=H("dot-nav",this.a());this.z=H("comments",this.a());this.Ta=H("no-comments",this.a());ze(this.k,this.a());this.sd.f(H("star",this.a()));this.Cg.f(H("facebook",this.a()));this.Wh.f(H("twitter",this.a()));this.cb.f(H("play",
this.a()));this.yj.f(H("plus",this.a()));var h=new Qc(5E3);Y("/_info/"+this.p.id,s(function(b){b=kg(lg(b.target));b.description?$b(H("description",this.a()),b.description):(R(H("desc-link",this.a()),l),R(H("scrollable",this.a()),l));w(b.seen,function(b){var c=og(X.b(),b);c.id!=X.b().C.id&&(R(a,j),c=K(uh,{s:c}),a.appendChild(c),S(this.n(),c,"click",function(){Z.b().d(fg,b)}))},this);var c=b.tweets;this.jb=Ma(c,function(a){a=new ii(a);this.Tc(a);this.Kb=this.pc.firstChild;B(this.Kb,"selected");return a},
this);c.length&&h.start();b=b.comments;R(this.z.parentElement,j);R(this.Ta,!b.length);this.$a=Ma(b,function(a){a=new hi(a);this.Sc(a);return a},this);R(this.Y,l);this.resize()},this));S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(this.n(),window,"resize",xa(O,s(this.resize,this))),d,"click",s(function(){Z.b().d("media-list",this.p.Fa.name,i,"/admin/_media/publisher/"+this.p.Fa.id,this.p.Fa.X,this.p.Fa.description,this.p.Fa.link)},this)),this.sd,"action",s(function(){Hf.b().d("star",this.p,Le(this.sd));Y("/_star",
i,"POST","media_id="+this.p.id+(!Le(this.sd)?"&delete=1":""))},this)),this.Cg,"action",s(this.dj,this)),this.Wh,"action",s(this.rj,this)),this.cb,"action",s(this.hj,this)),this.k,"add",s(this.Ec,this)),this.Ta,"click",s(function(a){a.preventDefault();a.stopPropagation();this.k.Ua(j)},this)),H("conv-link",this.a()),"click",s(function(a){a.preventDefault();a.stopPropagation();Z.b().d("conversation",this.p,this.$a,this.jb)},this)),H("tweets-link",this.a()),"click",s(function(a){a.preventDefault();a.stopPropagation();
Z.b().d("conversation",this.p,this.$a,this.jb,j)},this)),this.k,"focus",s(function(){this.resize(25,j)},this)),this.k,"resize",s(function(a){this.resize(25+(a.target.Sa-41))},this)),this.pc,"click",s(function(a){D(a.target,"dot")&&(ni(this,a.target),h.stop())},this)),h,Sc,s(function(){var a=this.Kb&&Wb(this.Kb)||H("dot",this.a());ni(this,a)},this)),window,"click",s(function(a){!gc(a.target,k,"comment-input")&&!this.k.S()&&(this.k.Ua(l),this.k.collapse()&&this.resize(0))},this)),g,"load",function(){R(g,
j);O(function(){T(g).height<T(b).height+50&&B(g,"fix-height");T(g).width>2*T(b).width?B(g,"pan-left"):T(g).height>2*T(b).height&&B(g,"pan-top");g.style.marginTop=-T(g).height/2+"px";g.style.marginLeft=-T(g).width/2+"px"})}),c,"scroll",s(function(){var a=(120-c.scrollTop)/100;Od(d,Math.min(1,Math.max(a,0)));Od(f,Math.min(1,Math.max(a,0)));Od(g,Math.min(0.5,Math.max(a,0.1)));E(b,"scrolled",10<c.scrollTop)},this)),this.z,"scroll",s(this.Gh,this)),H("desc-link",this.a()),"click",s(function(){var a=zb(b,
"scrolled");(new re(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,a?170:0],300)).play()},this));this.p.subscribe(Ff,this.Sc,this);this.p.subscribe("add-tweet",function(a){this.Tc(a,j)},this)};function ni(a,b){if(b){a.Kb&&C(a.Kb,"selected");a.Kb=b;B(a.Kb,"selected");var c=Pa(Vb(a.pc),function(a){return a==b});(new re(a.ib,[a.ib.scrollLeft,a.ib.scrollTop],[300*c,a.ib.scrollTop],200)).play();a.resize()}}
m.Ec=function(a){Y("/_comment",a.hg,"POST","media_id="+this.p.id+"&text="+a.text+"&tweet="+a.ye+"&facebook="+a.$c);a.$c&&FB.api("/me/feed","POST",{message:a.text,name:this.p.name,link:"http://www.broken.tv",picture:this.p.Xa,caption:"on Broken.TV",description:this.p.description},aa());Mf.b().Za(this.p.id,a.$c,a.ye)};
m.Tc=function(a,b){var c=K(vh,{hb:a,timestamp:Wc(a.time.getTime())}),d=J("div","dot");Xc(Vc.b(),a.time,H("timestamp",c));b?(Sb(this.ib,c,0),Sb(this.pc,d,0),10<Vb(this.ib).length&&(Ub(this.ib.lastChild),Ub(this.pc.lastChild),ni(this,d))):(this.ib.appendChild(c),this.pc.appendChild(d));this.resize();R(Yb(this.ib),j)};m.Sc=function(a){R(this.Ta,l);var b=K(wh,{Za:a,timestamp:Wc(a.time.getTime())});Xc(Vc.b(),a.time,H("timestamp",b));this.z.appendChild(b);this.resize(this.k.ee()?25:0,j)};
m.Gh=function(){E(this.z.parentElement,"top-grad",!!this.z.scrollTop);var a=this.z.style.maxHeight,a=a.substring(0,a.length-2),b=T(this.z).height;E(this.z.parentElement,"bottom-grad",this.z.scrollTop<this.z.scrollHeight-a-5&&b>=a)};
m.resize=function(a,b){this.Zb=a!=i?a:this.Zb;this.z&&this.z.parentElement&&yd(this.z,"max-height",I().height-Fd(this.z.parentElement).y-110-this.Zb+"px");this.Gh();b&&O(s(function(){(new re(this.z,[this.z.scrollLeft,this.z.scrollTop],[this.z.scrollLeft,this.z.scrollHeight],400)).play()},this),0)};
m.dj=function(){R(F("overlay"),j);FB.ui({method:"feed",name:this.p.name,link:"http://www.xylovision.com",X:this.p.Xa,caption:"on XYLO",description:this.p.description},function(){R(F("overlay"),l)});oi(Mf.b(),this.p.id,j,l)};m.rj=function(){var a=window.open("https://twitter.com/share?url=www.xylovision.com&text=I'm watching "+this.p.name,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();oi(Mf.b(),this.p.id,l,j)};m.hj=function(){W.b().d(tf,this.v)};function pi(a,b,c,d,f){U.call(this);this.ma=nf();this.mh=a||k;this.Pc=b||k;this.mf={};this.Pf=c||k;this.Sd=d||k;this.Wi=f||k;this.Re=this.ma?new Sh:k;this.Ac=this.Ti=0}v(pi,U);
pi.prototype.J=function(a){pi.c.J.call(this,a);a.innerHTML="";a.scrollTop=0;B(this.a(),"ios-scroll");if(this.Sd||this.Pf)a=K(Ah,{Xa:this.Pf,description:this.Sd,link:this.Wi}),this.a().appendChild(a),this.Ti=T(a).height;this.Y=J("div","loading",J("div","loading-spinner"));this.a().appendChild(this.Y);R(this.Y,l);D(this.a(),"starred")&&(this.Dc=J("div","no-comments","Stories you love will be here."),this.a().appendChild(this.Dc));this.je=J("div","medias");this.a().appendChild(this.je);S(this.n(),window,
"resize",xa(O,s(this.resize,this)));this.Pc?(R(this.Y,j),Y(this.Pc,s(function(a){R(this.Y,l);a=kg(lg(a.target));a=Ma(a,function(a){return new Ef(a)});w(a,this.De,this);this.Ac=T(this.je).height;this.resize()},this))):this.mh&&(w(this.mh,this.De,this),this.Ac=T(this.je).height,this.resize())};
pi.prototype.De=function(a){this.Dc&&R(this.Dc,l);var b=K(Kh,{media:a});this.je.appendChild(b);if(this.ma){var c=this.Re,d=new Rh(b,i);Th(c,d)}S(this.n(),b,"click",s(function(){Z.b().d(eg,a)},this));this.mf[a.id]=b};pi.prototype.resize=function(){Kd(this.a(),I().height-40-(gc(this.a(),k,"tabbed")?30:0))};function qi(a){U.call(this);this.Zh=this.v=a;this.Wa=["activity","starred"]}v(qi,U);qi.prototype.J=function(a){qi.c.J.call(this,a);B(a,"profile");B(a,"ios-scroll");kc(a,Ih)};
qi.prototype.q=function(){this.wa=H("tabs",this.a());Y("/_star",s(function(a){a=ng(a.target);a=Ma(a,function(a){return new Ef(a)});this.td=new pi(a);this.td.f(H("starred-content",this.a()))},this));Y("/_activity/"+this.Zh.id,s(function(a){a=ng(a.target);this.Mf=new ri(a,this.Zh.id);this.Mf.f(H("activity-content",this.a()))},this));S(this.n(),this.wa,"click",s(function(a){a=gc(a.target,"li");this.Vb(a)},this));Hf.b().subscribe("star",function(a,b){if(b)this.td.De(a);else{var c=this.td,d=c.mf[a.id];
d&&(rc(d),Gb(c.mf,a.id))}},this)};qi.prototype.Vb=function(a){w(this.Wa,function(b){E(this.wa.parentElement,b,D(a,b));this.H=D(a,b)?b:this.H},this)};function ri(a,b){U.call(this);this.ei=a;this.Ad=b||k;this.N=0;this.Qb=l;this.Dg=[];this.Uc=[];this.zc=[];this.ag=[]}v(ri,U);
ri.prototype.J=function(a){ri.c.J.call(this,a);a.innerHTML="";a.scrollTop=0;B(a,"stream");B(a,"ios-scroll");this.Ed=J("div","activities");this.a().appendChild(this.Ed);var b=J("div","spinner");this.a().appendChild(b);R(b,l);this.Dc=J("div","no-comments",this.Ad?"Your activity will appear here.":"Friends's activity will appear here.");this.a().appendChild(this.Dc);si(this,this.ei);X.b().subscribe("new-activity",function(a){(this.Ad==a.user.id||!this.Ad&&a.user.id!=X.b().C.id)&&ti(this,a,i,i,j)},this);
S(S(this.n(),this.a(),"scroll",s(function(){!this.Qb&&this.a().scrollTop+I().height>this.a().scrollHeight-60&&(R(b,j),Y("/_activity"+(this.Ad?"/"+this.Ad:"")+"?offset="+this.N,s(function(a){this.Dg[String(a.target.gd)]||(this.Dg[String(a.target.gd)]=j,a=ng(a.target),this.Qb=!a.length,E(b,"finished",this.Qb),R(b,this.Qb),si(this,a))},this)))},this)),window,"resize",xa(O,s(this.resize,this)));this.resize()};
function si(a,b){a.Uc=[];a.zc=[];w(b,function(a){this.N++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.Uc?this.Uc[a.channel_id]:[];b.push(a);this.Uc[a.channel_id]=b;break;case "comment":a=a.comment,b=a.media.id in this.zc?this.zc[a.media.id]:[],b.push(a),this.zc[a.media.id]=b}},a);Cb(a.Uc,function(a){ti(this,i,a,"session")},a);Cb(a.zc,function(a){ti(this,i,a,"comment")},a)}
function ti(a,b,c,d,f){R(a.Dc,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],n=b?[og(X.b(),b.user)]:[],q=b?fd(b.time+"Z"):k;c&&w(c,function(a){Oa(n,function(b){return b.id==a.user.id})||n.push(og(X.b(),a.user));var b=fd((a.time||a.tune_in)+"Z");q=q&&q.getTime()>b.getTime()?q:b;"session"==g&&w(a.media,function(a){!this.zc[a.id]&&!Oa(h,function(b){return b.id==a.id})&&h.push(a)},this)},a);switch(g){case "session":var d=b?b.session:c[0],u=V.b().get(d.channel_id),h=b?b.session.media:h,b=K(yh,{ca:n,ja:u,time:Wc(q.getTime()),
Vh:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[c[0].media],z=b?[new hi(b.comment)]:[];c&&w(c,function(a){z.push(new hi(a))});b=K(zh,{Vc:z.reverse(),ca:n,media:h[0]});break;default:return}Xc(Vc.b(),q,H("timestamp",b));d=Pa(a.ag,function(a){return a.time<q.getTime()});Va(a.ag,d,0,{time:q,element:b});var G=H("medias",b);w(h,function(a){var b=new Ef(a),a=K(Kh,{media:b});H("thumb",a);G.appendChild(a);S(this.n(),a,"click",function(){Z.b().d(eg,b)})},a);f?Sb(a.Ed,b,0):c?Sb(a.Ed,b,d):a.Ed.appendChild(b);
O(xa(B,b,"show"))}ri.prototype.resize=function(){Kd(this.a(),I().height-40-(gc(this.a(),k,"tabbed")?40:10))};function ui(){U.call(this);this.ma=nf();this.gi=new fi;this.Wa={};this.zb=[];this.Hc=[]}v(ui,U);m=ui.prototype;
m.q=function(){ui.c.q.call(this);this.qg=F("sidebar-content");this.lh=F("media-list");this.wf=F("profile");this.rg=F("conversation");this.Ab=F("toolbar");this.wa=H("tabs",this.a());var a=new Oe(document);w(Vb(this.wa),function(a){var b=yb(a)[0];this.Wa[b]=a;this.zb.push(b)},this);this.wh();Y("/_activity",s(function(a){a=ng(a.target);this.Mf=new ri(a);this.Mf.f(F("stream"))},this));this.td=new qi(X.b().C);this.td.f(F("my-profile"));this.ab?(this.G=this.ab.a(),this.H="info"):(this.G=F("stream"),this.H=
"stream");this.Hc=[this.G,""];B(this.G,"current");if(this.ma){this.gi.f(F("admin"));var b=K(Bh,{name:"ADMIN",className:"admin"});this.wa.appendChild(b);this.Wa.admin=b;this.zb.push("admin")}vi(this);S(S(S(S(this.n(),H("back-button",this.Ab),"click",s(function(a){var b=this.Hc.shift();this.navigate(b[0],j,b[1]);vi(this);a.stopPropagation()},this)),this.wa,"click",s(function(a){var b=this.H,f=gc(a.target,"li"),g=yb(f)[0];wi(this,this.H,g);B(f,"selected");Dd(H("arrow",this.Ab),T(f).width/2+Fd(f).x);
b!=this.H&&a.stopPropagation()},this)),this.Ab,"click",s(function(a){((a=gc(a.target,"li"))&&yb(a)[0]==this.H||!a)&&(new re(this.G,[this.G.scrollLeft,this.G.scrollTop],[this.G.scrollLeft,0],300)).play()},this)),a,"key",s(function(a){a.ctrlKey&&"68"==a.keyCode&&zb(this.a(),"dark")},this));Q.b().subscribe(Yc,function(a){E(this.a(),"toggled",a)},this);Z.b().subscribe("navigate",this.navigate,this);Z.b().subscribe("conversation",this.Jj,this);Z.b().subscribe("media-list",this.Mj,this);Z.b().subscribe(eg,
this.Lj,this);Z.b().subscribe(fg,this.Nj,this);V.b().subscribe(sf,this.wh,this);V.b().subscribe(rf,this.cj,this);Q.b().subscribe("toggle-admin",function(a){E(this.a(),"admin",a);a?(Q.b().d(Yc,j),wi(this,this.H,"admin")):"admin"==this.H&&wi(this,"admin","info")},this)};m.wh=function(a){if(a=a||V.b().u.i())this.Pd=a.media,rc(this.ab),this.ab=new mi(this.Pd),this.ab.f(F("info"))};m.cj=function(a){a=a||V.b().u;if(this.Pd=a.i()&&a.i().media)rc(this.ab),this.ab=new mi(this.Pd),this.ab.f(F("info"))};
function wi(a,b,c){var d=H(c,a.qg);Ka(a.zb,b);var f=Ka(a.zb,c),g=(b=Ka(a.zb,b)<f)?0:a.zb.length-1,h=b?g<a.zb.length:0<=g;for(g;h;g+=b?1:-1){var n=H(a.zb[g],a.qg);if(b&&g>f||!b&&g<f)yd(n,{left:"",right:""});else if(b&&g<f||!b&&g>f)yd(n,{left:b?"-300px":"",right:""});else if(g==f){yd(n,{right:b?0:"",left:""});break}}a.H=c;Va(a.Hc,0,0,[a.G,""]);C(a.G,"current");a.G=d;B(a.G,"current");vi(a)}
m.navigate=function(a,b,c){if(a!=this.G){var d=D(this.G,"screen");b?(yd(this.G,{left:"",right:0}),yd(a,{right:"",left:0,width:""}),C(this.G,"current"),B(a,"current"),this.G=a):(yd(this.G,{left:d?0:"",right:""}),yd(a,{right:0,left:""}),b=[this.G,dc(H("back-title",this.Ab))],Va(this.Hc,0,0,b),C(this.G,"current"),this.G=a,B(this.G,"current"));E(this.Ab,"back",D(this.G,"slide"));c&&$b(H("back-title",this.Ab),c)}};m.Jj=function(a,b,c,d){(new ki(a,b,c,d)).f(this.rg);Z.b().d("navigate",this.rg,l,a.name)};
m.Mj=function(a,b,c,d,f,g){(new pi(b,c,d,f,g)).f(this.lh);Z.b().d("navigate",this.lh,l,a,d,f)};m.Lj=function(a){if(this.ab&&a.id==this.ab.v.id){C(this.Ab,"back");for(a=this.Hc[0][0];a&&D(a,"slide");)a=this.Hc.shift();wi(this,this.H,"info")}else{var b=F("media-info");(new mi(a)).f(b);Z.b().d("navigate",b,l,a.name)}Q.b().d(Yc,j)};m.Nj=function(a){if(!this.xf||!(this.xf.v.id==a.id&&this.G==this.wf))this.xf=new qi(a),this.xf.f(this.wf),Z.b().d("navigate",this.wf,l,a.name),Q.b().d(Yc,j)};
function vi(a){Dd(H("arrow",a.Ab),T(a.Wa[a.H]).width/2+Fd(a.Wa[a.H]).x)};function xi(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"></div><div class="pause" style="display: none"></div></div></div><div id="guide" class="guide animate'+(a.Hg?" toggled":" collapsed")+'"><div id="channels" class="channels"></div><div class="right-grad"></div><div class="header" id="header"><div class="times"><div id="now-left" class="left browse">&#x25C0;<span> NOW</span></div><div id="now-right" class="right browse"><span>NOW </span>&#x25B6;</div></div></div><div id="my-ticker" class="my-ticker" style="display:none"><div class="me" style="background:'+
L(a.s.color)+";border-color:"+L(a.s.color)+';"><img src="'+L(a.s.X)+'"/></div></div><div id="ticker" class="ticker"><div id="go-live" class="go-live">GO LIVE</div></div></div><div id="controller" class="controller'+(a.Hg?" guide-toggled":" collapsed")+(a.sidebar?" sidebar-toggled":"")+'"><div class="background"></div><div class="left"><div id="guide-toggle" class="guide-toggle dark button">GUIDE</div><div class="controls"><div class="restart dark button"></div><div class="play dark button"></div><div class="volume dark button"></div></div><div class="border"></div></div><div class="right"><div id="admin-toggle" class="admin-toggle dark button" style="display: none"><div id="toggle-pending" class="pending" style="display:none"></div></div><div id="sidebar-toggle" class="sidebar-toggle dark button"></div><div class="border"></div></div><div class="progress" style="display: none"><div class="elapsed"><div class="seek"></div></div><div class="title"></div><div class="current-time"></div><div class="duration"></div></div></div><div id="sidebar" '+
(a.sidebar?'class="toggled"':"")+'><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM</div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="conversation" class="slide"></div>'+
(a.Ee?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div></div>'};function Mf(){}la(Mf);_gaq=[];Mf.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};Mf.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",X.b().C.id])};
Mf.prototype.Hb=function(a,b){a.ga||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};Mf.prototype.Za=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",X.b().C.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",X.b().C.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",X.b().C.id])};
function oi(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",X.b().C.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",X.b().C.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",X.b().C.id])}fa("_gaq",_gaq);function yi(){P.call(this);this.jh=l}v(yi,P);la(yi);yi.prototype.init=function(a){this.hl=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=s(this.gj,this);a.onclose=s(this.uh,this);window.onbeforeunload=s(this.uh,this);return this};
yi.prototype.gj=function(a){var b=kg(a.data);switch(b.type){case "viewer_change":var a=og(X.b(),b.user),c=V.b().get(b.channel_id),d=fd(b.time+"Z"),f=new Lf(b.session_id,a,c,d);a.Qd&&a.Qd.end(d);a.Qd=f;b.last_channel_id&&V.b().get(b.last_channel_id).d("remove-viewer",a);c.d(Nf,f);break;case "new_comment":a=new hi(b.comment);d=b.tweet?new ii(b.tweet):k;if(f=If(Hf.b(),b.comment.media))f.d(Ff,a),d&&f.d("add-tweet",d);break;case "new_activity":X.b().d("new-activity",b.activity);break;case "update_programs":a=
b.programs;c=V.b().get(b.channel_id);w(a,function(a){c.d(Of,a)},this);break;case "new_programs":w(b.programs,s(function(a){var a=new wf(a),c=V.b().get(b.channel_id);c&&(c.d(xf,a),(!V.b().u||!V.b().u.i())&&V.b().d(rf,c))},this))}};yi.prototype.uh=function(){this.jh||(Y("/_settings",he(),"POST","show_guide="+Q.b().uc+"&show_sidebar="+Q.b().Kc),this.jh=j)};function zi(){P.call(this);this.Zk=[]}v(zi,P);la(zi);zi.prototype.jf=function(a){Cb(a,s(function(a,c){w(a,s(function(a){a=new wf(a);V.b().ic[c]&&V.b().ic[c].gc(a)},this))},this))};var Ai=l;function Bi(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var Ci=navigator.plugins["Shockwave Flash"];Ci&&(Ai=j,Ci.description&&Bi(Ci.description));navigator.plugins["Shockwave Flash 2.0"]&&(Ai=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Di=navigator.mimeTypes["application/x-shockwave-flash"];(Ai=Di&&Di.enabledPlugin)&&Bi(Di.enabledPlugin.description)}else try{var Ei=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),Ai=j;Bi(Ei.GetVariable("$version"))}catch(Fi){try{Ei=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
Ai=j}catch(Gi){try{Ei=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Ai=j,Bi(Ei.GetVariable("$version"))}catch(Hi){}}};function Ii(a,b,c,d,f,g,h,n){this.Pc=a;this.ii=b;this.Sd=c;this.jl=d;this.Wk=f;this.Pk=g;this.Ka=h;this.Sa=n;this.Wj=[];this.Ck=[];this.Gk=[];this.cl=[]}Ii.prototype.Fg=ca("ii");Ii.prototype.Hf=function(a){this.r=a;return this};function Ji(a){this.Pc=a;this.Qj=k}function Ki(a){this.Pc=a;this.Qj=this.kl=k};function jg(a,b,c){Ii.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.ck=a;this.Wj=[new Ji("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.Hf(new Ki("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}v(jg,Ii);
var ig=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function Li(a){U.call(this);this.fk=yi.b().init(a);this.ki=new eh;this.yi=new mf;this.Pj=new ui;this.r=new kh}v(Li,U);Li.prototype.J=function(a){Li.c.J.call(this,a);var b=K(xi,{s:X.b().C,Ee:nf(),Hg:X.b().C.Kj,sidebar:X.b().C.Oj});Sb(a,b,0)};
Li.prototype.q=function(){Li.c.q.call(this);this.ki.f(F("controller"));this.yi.f(F("guide"));this.Pj.f(F("sidebar"));this.r.f(F("stage"));S(this.n(),document.body,"touchmove",function(a){gc(a.target,"div","ios-scroll")||a.preventDefault()});S(this.n(),window,"click",function(a){var b=gc(a.target,"a");if(b=b?b.href:k)if((b=b.match("#(.*):(.*)"))&&b.length)switch(a.preventDefault(),a.stopPropagation(),b[1]){case "user":a=X.b().get(b[2]);Z.b().d(fg,a);break;case "channel":a=V.b().get(b[2]);V.b().d(rf,
a);break;case "info":a=Hf.b().get(b[2]),Z.b().d(eg,a)}})};
function Mi(){var a=F("fb-login"),b=F("static-content");B(a,"disabled");B(a,"spin");Y("/_session",function(a){if(200==ch(a.target)){var d=ng(a.target),a=function(){O(function(){B(b,"hide");B(F("login"),"hide");O(function(){R(F("login"),l)},600)},600)};Uc(W.b(),"no-media",a);Uc(W.b(),gh,a);var a=d.token,f=d.channels,g=d.programs,h=d.current_user,d=d.viewer_sessions;if(!Fb(h)){var n=X.b();n.C=og(n,h)}V.b().jf(f,h.current_channel);zi.b().jf(g);var f=V.b(),q=X.b();w(d,s(function(a){var b=og(X.b(),a.user);
q.add(b);var c=this.ic[a.channel_id],d=fd(a.tune_in+"Z"),f=a.tune_out?fd(a.tune_out+"Z"):k,a=new Lf(a.id,b,c,d,f);b.Qd=a;c&&c.Be.push(a)},f));Vc.b().init();(new Li(a)).f(document.body);Mf.b().login()}else a=F("fb-login"),B(a,"disabled"),R(a,j),B(a,"show"),B(a,"waitlist")},"POST")}function fh(a){var b=parseInt(a,10),a=Math.floor(b/3600),c=Math.floor((b-3600*a)/60),b=b-3600*a-60*c;10>c&&(c=(a?"0":"")+c);10>b&&(b="0"+b);return(a?a+":":"")+(c?c+":":"")+b}
fa("brkn.Main.staticInit",function(){function a(a){a?(d.style.top=Math.max(10,I().height-190)+"px",(new re(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,Math.min(I().height-435,d.scrollHeight+190)],300)).play()):(d.style.top="",d.style.height="",d.className="")}var b=F("fb-login"),c=F("login"),d=F("static-content"),f=F("pages"),g=F("footer"),h=l;O(function(){R(b,j);O(xa(B,b,"show"),400)},100);N(c,"click",function(b){"static-scrollable"==b.target.id&&(b=new re(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,
0],300),b.play(),h=l,N(b,"end",xa(a,h)))});N(c,"scroll",function(){10>c.scrollTop&&(h=l,a(h))});N(g,"click",function(b){if(b=gc(b.target,k,"section"))h=j,d.className=b.id,d.style.height=T(f).height+220+"px",a(h)});N(window,"resize",xa(a,j));Mf.b().init()});fa("brkn.Main.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)Mi();else{var b=F("fb-login");N(b,"click",function(){B(b,"disabled");FB.login(function(a){a.authResponse?Mi():C(b,"disabled")},{scope:"email"})})}})});