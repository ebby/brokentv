function f(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var m,ea=ea||{},p=this;function fa(a,b){var c=a.split("."),d=p;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ga(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function ha(a){for(var a=a.split("."),b=p,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function ia(){}function ja(a){a.a=function(){return a.Gh?a.Gh:a.Gh=new a}}
function ka(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return a!==i}function ma(a){return"array"==ka(a)}function oa(a){var b=ka(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function pa(a){return"number"==typeof a}function qa(a){return"function"==ka(a)}function ra(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function sa(a){return a[ta]||(a[ta]=++ua)}
var ta="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ua=0;function va(a,b,c){return a.call.apply(a.bind,arguments)}function wa(a,b,c){a||f(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function s(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return s.apply(k,arguments)}function xa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var t=Date.now||function(){return+new Date};function ya(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a}
function u(a,b){function c(){}c.prototype=b.prototype;a.d=b.prototype;a.prototype=new c;a.prototype.constructor=a};function za(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Aa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ba(a){if(!Ca.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Da,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ea,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Fa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ga,"&quot;"));return a}var Da=/&/g,Ea=/</g,Fa=/>/g,Ga=/\"/g,Ca=/[&<>\"]/;
function Ha(a){var a=ga(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ia(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Ja=Array.prototype,Ka=Ja.indexOf?function(a,b,c){return Ja.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(r(a))return!r(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},v=Ja.forEach?function(a,b,c){Ja.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},La=Ja.filter?function(a,b,c){return Ja.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=
r(a)?a.split(""):a,n=0;n<d;n++)if(n in h){var q=h[n];b.call(c,q,n,a)&&(e[g++]=q)}return e},Ma=Ja.map?function(a,b,c){return Ja.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=r(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Na=Ja.every?function(a,b,c){return Ja.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return l;return j};
function Oa(a,b){var c=Pa(a,b,i);return 0>c?k:r(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return g;return-1}function Qa(a,b){return 0<=Ka(a,b)}function Ra(a,b){var c=Ka(a,b);0<=c&&Ja.splice.call(a,c,1)}function Sa(a,b,c){b=Pa(a,b,c);0<=b&&Ja.splice.call(a,b,1)}function Ta(a){return Ja.concat.apply(Ja,arguments)}function Ua(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Va(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(ma(d)||(e=oa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,n=0;n<h;n++)a[g+n]=d[n];else a.push(d)}}function Wa(a,b,c,d){Ja.splice.apply(a,Xa(arguments,1))}function Xa(a,b,c){return 2>=arguments.length?Ja.slice.call(a,b):Ja.slice.call(a,b,c)};var Ya,Za,$a,ab,bb;function cb(){return p.navigator?p.navigator.userAgent:k}function db(){return p.navigator}ab=$a=Za=Ya=l;var eb;if(eb=cb()){var fb=db();Ya=0==eb.indexOf("Opera");Za=!Ya&&-1!=eb.indexOf("MSIE");$a=!Ya&&-1!=eb.indexOf("WebKit");ab=!Ya&&!$a&&"Gecko"==fb.product}var gb=Ya,x=Za,hb=ab,ib=$a,jb=db();bb=-1!=(jb&&jb.platform||"").indexOf("Mac");var kb=!!db()&&-1!=(db().appVersion||"").indexOf("X11"),lb;
a:{var mb="",nb;if(gb&&p.opera)var ob=p.opera.version,mb="function"==typeof ob?ob():ob;else if(hb?nb=/rv\:([^\);]+)(\)|;)/:x?nb=/MSIE\s+([^\);]+)(\)|;)/:ib&&(nb=/WebKit\/(\S+)/),nb)var pb=nb.exec(cb()),mb=pb?pb[1]:"";if(x){var qb,rb=p.document;qb=rb?rb.documentMode:i;if(qb>parseFloat(mb)){lb=String(qb);break a}}lb=mb}var sb={};
function tb(a){var b;if(!(b=sb[a])){b=0;for(var c=Aa(String(lb)).split("."),d=Aa(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",n=d[g]||"",q=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var A=q.exec(h)||["","",""],L=w.exec(n)||["","",""];if(0==A[0].length&&0==L[0].length)break;b=((0==A[1].length?0:parseInt(A[1],10))<(0==L[1].length?0:parseInt(L[1],10))?-1:(0==A[1].length?0:parseInt(A[1],10))>(0==L[1].length?0:parseInt(L[1],10))?1:0)||((0==A[2].length)<
(0==L[2].length)?-1:(0==A[2].length)>(0==L[2].length)?1:0)||(A[2]<L[2]?-1:A[2]>L[2]?1:0)}while(0==b)}b=sb[a]=0<=b}return b}var ub={};function vb(a){return ub[a]||(ub[a]=x&&!!document.documentMode&&document.documentMode>=a)};var wb,xb=!x||vb(9),yb=!hb&&!x||x&&vb(9)||hb&&tb("1.9.1"),zb=x&&!tb("9"),Ab=x||gb||ib;function Bb(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function y(a,b){for(var c=Bb(a),d=Xa(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)Qa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e}function z(a,b){var c=Bb(a),d=Xa(arguments,1),e,g=d;e=La(c,function(a){return!Qa(g,a)});a.className=e.join(" ");return e.length==c.length-d.length}function B(a,b){return Qa(Bb(a),b)}function C(a,b,c){c?y(a,b):z(a,b)}function Cb(a,b){var c=!B(a,b);C(a,b,c);return c};function Db(a,b){this.x=ga(a)?a:0;this.y=ga(b)?b:0}Db.prototype.clone=function(){return new Db(this.x,this.y)};function Eb(a,b){this.width=a;this.height=b}Eb.prototype.clone=function(){return new Eb(this.width,this.height)};Eb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Eb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Eb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Fb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Gb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Hb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ib(a){for(var b in a)return l;return j}function Jb(a,b){b in a&&delete a[b]}function Kb(a,b,c){b in a&&f(Error('The object already contains the key "'+b+'"'));a[b]=c}var Lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Mb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<Lb.length;g++)c=Lb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Nb(a){return a?new Ob(Pb(a)):wb||(wb=new Ob)}function D(a){return r(a)?document.getElementById(a):a}function Qb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Rb("*",a,b)}function E(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Qb(a,b)[0])||k}
function Rb(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=e=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Qa(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
var Sb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function F(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Eb(a.clientWidth,a.clientHeight)}function G(a,b,c){return Tb(document,arguments)}
function Tb(a,b){var c=b[0],d=b[1];if(!xb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var e={};Mb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(r(d)?g.className=d:ma(d)?y.apply(k,[g].concat(d)):Fb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Sb?g.setAttribute(Sb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(r(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(e=b[c],oa(e)&&!(ra(e)&&0<e.nodeType)){var h=v,n;a:{if((n=e)&&"number"==typeof n.length){if(ra(n)){n="function"==typeof n.item||"string"==typeof n.item;break a}if(qa(n)){n="function"==typeof n.item;break a}}n=l}h(n?Ua(e):e,d)}else d(e)}return g}function Ub(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Vb(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}
function H(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Wb(a){return yb&&a.children!=i?a.children:La(a.childNodes,function(a){return 1==a.nodeType})}function Xb(a){return a.nextElementSibling!=i?a.nextElementSibling:Yb(a.nextSibling,j)}function Yb(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function Zb(a){if(Ab)return a.parentElement;a=a.parentNode;return ra(a)&&1==a.nodeType?a:k}
function ac(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Pb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function bc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Ub(a),a.appendChild(Pb(a).createTextNode(b))}var cc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},dc={IMG:" ",BR:"\n"};function ec(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,pa(a)&&0<=a&&32768>a):l}
function fc(a){if(zb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];gc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");zb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function hc(a){var b=[];gc(a,b,l);return b.join("")}
function gc(a,b,c){if(!(a.nodeName in cc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in dc)b.push(dc[a.nodeName]);else for(a=a.firstChild;a;)gc(a,b,c),a=a.nextSibling}function ic(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||B(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Ob(a){this.aa=a||p.document||document}m=Ob.prototype;m.La=Nb;
m.b=function(a){return r(a)?this.aa.getElementById(a):a};m.J=function(a,b,c){return Tb(this.aa,arguments)};m.createElement=function(a){return this.aa.createElement(a)};m.createTextNode=function(a){return this.aa.createTextNode(a)};function jc(a){var b=a.aa,a=!ib&&"CSS1Compat"==b.compatMode?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Db(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}m.appendChild=function(a,b){a.appendChild(b)};m.mh=Wb;
function kc(a,b){return b.firstElementChild!=i?b.firstElementChild:Yb(b.firstChild,j)}m.contains=ac;x&&tb(8);var lc={};function mc(a,b,c){a.innerHTML=b(c||lc,i,i)}function I(a,b){var c;a:if(c=(new Ob(i)||Nb()).createElement("DIV"),c.innerHTML=a(b||lc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function J(a){return"object"===typeof a&&a&&0===a.xl?a.content:String(a).replace(nc,oc)}
var pc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function oc(a){return pc[a]}var nc=/[\x00\x22\x26\x27\x3c\x3e]/g;function K(){0!=qc&&(this.yl=Error().stack,rc[sa(this)]=this)}var qc=0,rc={};K.prototype.he=l;K.prototype.$=function(){if(!this.he&&(this.he=j,this.l(),0!=qc)){var a=sa(this);delete rc[a]}};K.prototype.l=function(){this.Yi&&sc.apply(k,this.Yi);if(this.ci)for(;this.ci.length;)this.ci.shift()()};function tc(a){a&&"function"==typeof a.$&&a.$()}function sc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];oa(d)?sc.apply(k,d):tc(d)}};var uc=!x||vb(9),vc=!x||vb(9),wc=x&&!tb("9");!ib||tb("528");hb&&tb("1.9b")||x&&tb("8")||gb&&tb("9.5")||ib&&tb("528");hb&&!tb("8")||x&&tb("9");function xc(a,b){this.type=a;this.currentTarget=this.target=b}m=xc.prototype;m.l=aa();m.$=aa();m.ic=l;m.defaultPrevented=l;m.He=j;m.stopPropagation=function(){this.ic=j};m.preventDefault=function(){this.defaultPrevented=j;this.He=l};function yc(a){a.preventDefault()};function zc(a){zc[" "](a);return a}zc[" "]=ia;function Ac(a,b){a&&this.init(a,b)}u(Ac,xc);var Bc=[1,4,2];m=Ac.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.Tf=l;m.ua=k;
m.init=function(a,b){var c=this.type=a.type;xc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(hb){var e;a:{try{zc(d.nodeName);e=j;break a}catch(g){}e=l}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=ib||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=ib||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Tf=bb?a.metaKey:a.ctrlKey;this.state=a.state;this.ua=a;a.defaultPrevented&&this.preventDefault();delete this.ic};function Cc(a){return(uc?0==a.ua.button:"click"==a.type?j:!!(a.ua.button&Bc[0]))&&!(ib&&bb&&a.ctrlKey)}
m.stopPropagation=function(){Ac.d.stopPropagation.call(this);this.ua.stopPropagation?this.ua.stopPropagation():this.ua.cancelBubble=j};m.preventDefault=function(){Ac.d.preventDefault.call(this);var a=this.ua;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,wc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};m.l=aa();function Dc(){}var Ec=0;m=Dc.prototype;m.key=0;m.kc=l;m.$e=l;m.init=function(a,b,c,d,e,g){qa(a)?this.Ih=j:a&&a.handleEvent&&qa(a.handleEvent)?this.Ih=l:f(Error("Invalid listener argument"));this.Nc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.re=g;this.$e=l;this.key=++Ec;this.kc=l};m.handleEvent=function(a){return this.Ih?this.Nc.call(this.re||this.src,a):this.Nc.handleEvent.call(this.Nc,a)};var Fc={},Gc={},Hc={},Ic={};
function M(a,b,c,d,e){if(b){if(ma(b)){for(var g=0;g<b.length;g++)M(a,b[g],c,d,e);return k}var d=!!d,h=Gc;b in h||(h[b]={R:0,Da:0});h=h[b];d in h||(h[d]={R:0,Da:0},h.R++);var h=h[d],n=sa(a),q;h.Da++;if(h[n]){q=h[n];for(g=0;g<q.length;g++)if(h=q[g],h.Nc==c&&h.re==e){if(h.kc)break;return q[g].key}}else q=h[n]=[],h.R++;var w=Jc,A=vc?function(a){return w.call(A.src,A.key,a)}:function(a){a=w.call(A.src,A.key,a);if(!a)return a},g=A;g.src=a;h=new Dc;h.init(c,g,a,b,d,e);c=h.key;g.key=c;q.push(h);Fc[c]=h;Hc[n]||
(Hc[n]=[]);Hc[n].push(h);a.addEventListener?(a==p||!a.Xg)&&a.addEventListener(b,g,d):a.attachEvent(b in Ic?Ic[b]:Ic[b]="on"+b,g);return c}f(Error("Invalid event type"))}function Kc(a,b,c,d,e){if(ma(b)){for(var g=0;g<b.length;g++)Kc(a,b[g],c,d,e);return k}a=M(a,b,c,d,e);Fc[a].$e=j;return a}function Lc(a,b,c,d,e){if(ma(b))for(var g=0;g<b.length;g++)Lc(a,b[g],c,d,e);else if(d=!!d,a=Mc(a,b,d))for(g=0;g<a.length;g++)if(a[g].Nc==c&&a[g].capture==d&&a[g].re==e){Nc(a[g].key);break}}
function Nc(a){if(!Fc[a])return l;var b=Fc[a];if(b.kc)return l;var c=b.src,d=b.type,e=b.proxy,g=b.capture;c.removeEventListener?(c==p||!c.Xg)&&c.removeEventListener(d,e,g):c.detachEvent&&c.detachEvent(d in Ic?Ic[d]:Ic[d]="on"+d,e);c=sa(c);Hc[c]&&(e=Hc[c],Ra(e,b),0==e.length&&delete Hc[c]);b.kc=j;if(b=Gc[d][g][c])b.ai=j,Oc(d,g,c,b);delete Fc[a];return j}
function Oc(a,b,c,d){if(!d.xe&&d.ai){for(var e=0,g=0;e<d.length;e++)d[e].kc?d[e].proxy.src=k:(e!=g&&(d[g]=d[e]),g++);d.length=g;d.ai=l;0==g&&(delete Gc[a][b][c],Gc[a][b].R--,0==Gc[a][b].R&&(delete Gc[a][b],Gc[a].R--),0==Gc[a].R&&delete Gc[a])}}function Mc(a,b,c){var d=Gc;return b in d&&(d=d[b],c in d&&(d=d[c],a=sa(a),d[a]))?d[a]:k}
function Pc(a,b,c,d,e){var g=1,b=sa(b);if(a[b]){a.Da--;a=a[b];a.xe?a.xe++:a.xe=1;try{for(var h=a.length,n=0;n<h;n++){var q=a[n];q&&!q.kc&&(g&=Qc(q,e)!==l)}}finally{a.xe--,Oc(c,d,b,a)}}return Boolean(g)}function Qc(a,b){a.$e&&Nc(a.key);return a.handleEvent(b)}
function Jc(a,b){if(!Fc[a])return j;var c=Fc[a],d=c.type,e=Gc;if(!(d in e))return j;var e=e[d],g,h;if(!vc){g=b||ha("window.event");var n=j in e,q=l in e;if(n){if(0>g.keyCode||g.returnValue!=i)return j;a:{var w=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(A){w=j}if(w||g.returnValue==i)g.returnValue=j}}w=new Ac;w.init(g,this);g=j;try{if(n){for(var L=[],na=w.currentTarget;na;na=na.parentNode)L.push(na);h=e[j];h.Da=h.R;for(var la=L.length-1;!w.ic&&0<=la&&h.Da;la--)w.currentTarget=L[la],g&=Pc(h,L[la],
d,j,w);if(q){h=e[l];h.Da=h.R;for(la=0;!w.ic&&la<L.length&&h.Da;la++)w.currentTarget=L[la],g&=Pc(h,L[la],d,l,w)}}else g=Qc(c,w)}finally{L&&(L.length=0)}return g}d=new Ac(b,this);return g=Qc(c,d)};function Rc(){K.call(this)}u(Rc,K);m=Rc.prototype;m.Xg=j;m.De=k;m.gg=ba("De");m.addEventListener=function(a,b,c,d){M(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Lc(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=Gc;if(b in c){if(r(a))a=new xc(a,this);else if(a instanceof xc)a.target=a.target||this;else{var d=a,a=new xc(b,this);Mb(a,d)}var d=1,e,c=c[b],b=j in c,g;if(b){e=[];for(g=this;g;g=g.De)e.push(g);g=c[j];g.Da=g.R;for(var h=e.length-1;!a.ic&&0<=h&&g.Da;h--)a.currentTarget=e[h],d&=Pc(g,e[h],a.type,j,a)&&a.He!=l}if(l in c)if(g=c[l],g.Da=g.R,b)for(h=0;!a.ic&&h<e.length&&g.Da;h++)a.currentTarget=e[h],d&=Pc(g,e[h],a.type,l,a)&&a.He!=l;else for(e=this;!a.ic&&e&&
g.Da;e=e.De)a.currentTarget=e,d&=Pc(g,e,a.type,l,a)&&a.He!=l;a=Boolean(d)}else a=j;return a};m.l=function(){Rc.d.l.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Fb(Hc,function(d){for(var e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Nc(g.key),b++}});else{var d=sa(this);if(Hc[d])for(var d=Hc[d],e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Nc(g.key),b++}}this.De=k};function Sc(a,b){K.call(this);this.L=a||1;this.Rd=b||Tc;this.Ye=s(this.rg,this);this.Ef=t()}u(Sc,Rc);Sc.prototype.enabled=l;var Tc=p.window;m=Sc.prototype;m.ma=k;m.rg=function(){if(this.enabled){var a=t()-this.Ef;0<a&&a<0.8*this.L?this.ma=this.Rd.setTimeout(this.Ye,this.L-a):(this.dispatchEvent(Uc),this.enabled&&(this.ma=this.Rd.setTimeout(this.Ye,this.L),this.Ef=t()))}};m.start=function(){this.enabled=j;this.ma||(this.ma=this.Rd.setTimeout(this.Ye,this.L),this.Ef=t())};
m.stop=function(){this.enabled=l;this.ma&&(this.Rd.clearTimeout(this.ma),this.ma=k)};m.l=function(){Sc.d.l.call(this);this.stop();delete this.Rd};var Uc="tick";function N(a,b,c){qa(a)?c&&(a=s(a,c)):a&&"function"==typeof a.handleEvent?a=s(a.handleEvent,a):f(Error("Invalid listener argument"));return 2147483647<b?-1:Tc.setTimeout(a,b||0)};function O(){K.call(this);this.Ra=[];this.Kb={}}u(O,K);m=O.prototype;m.Nh=1;m.Fe=0;m.subscribe=function(a,b,c){var d=this.Kb[a];d||(d=this.Kb[a]=[]);var e=this.Nh;this.Ra[e]=a;this.Ra[e+1]=b;this.Ra[e+2]=c;this.Nh=e+3;d.push(e);return e};function Vc(a,b,c){var d=a.subscribe(b,function(a){c.apply(i,arguments);this.wg(d)},a)}
m.wg=function(a){if(0!=this.Fe)return this.Hd||(this.Hd=[]),this.Hd.push(a),l;var b=this.Ra[a];if(b){var c=this.Kb[b];c&&Ra(c,a);delete this.Ra[a];delete this.Ra[a+1];delete this.Ra[a+2]}return!!b};m.c=function(a,b){var c=this.Kb[a];if(c){this.Fe++;for(var d=Xa(arguments,1),e=0,g=c.length;e<g;e++){var h=c[e];this.Ra[h+1].apply(this.Ra[h+2],d)}this.Fe--;if(this.Hd&&0==this.Fe)for(;c=this.Hd.pop();)this.wg(c)}};
m.clear=function(a){if(a){var b=this.Kb[a];b&&(v(b,this.wg,this),delete this.Kb[a])}else this.Ra.length=0,this.Kb={}};m.l=function(){O.d.l.call(this);delete this.Ra;delete this.Kb;delete this.Hd};function Wc(){O.call(this);this.md=new Sc(1E3);this.Ci=new Sc(3E4);this.Di=[];this.nf=[]}u(Wc,O);ja(Wc);Wc.prototype.init=function(){this.md.start();this.Ci.start();M(this.md,Uc,s(function(){v(this.nf,function(a,b){a.time<t()&&(a.callback(),Ja.splice.call(this.nf,b,1))},this)},this));M(this.Ci,Uc,s(function(){v(this.Di,function(a){bc(a.element,Xc(a.time.getTime()))},this)},this))};function Yc(a,b,c){86400>(t()-b.getTime())/1E3&&a.Di.push({time:b,element:c})}
function Zc(a,b,c){86400>(t()-b)/1E3&&a.nf.push({time:b,callback:c})};function P(){O.call(this);this.nk=j;this.Zc=B(D("controller"),"sidebar-toggled");this.Jc=B(D("controller"),"guide-toggled");this.subscribe($c,ba("Zc"),this);this.subscribe(ad,ba("Jc"),this);this.subscribe(bd,ba("nk"),this)}u(P,O);ja(P);function cd(a,b){var c=D("toggle-pending");bc(c,b);Q(c,!!b)}var bd="play",ad="toggle-guide",$c="toggle-sidebar";var ed={cl:["BC","AD"],bl:["Before Christ","Anno Domini"],el:"JFMAMJJASOND".split(""),ll:"JFMAMJJASOND".split(""),dl:"January February March April May June July August September October November December".split(" "),kl:"January February March April May June July August September October November December".split(" "),hl:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),nl:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),rl:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
pl:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),jl:"Sun Mon Tue Wed Thu Fri Sat".split(" "),ol:"Sun Mon Tue Wed Thu Fri Sat".split(" "),fl:"SMTWTFS".split(""),ml:"SMTWTFS".split(""),il:["Q1","Q2","Q3","Q4"],gl:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Zk:["AM","PM"],al:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],ql:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Mi:6,sl:[5,6],Ni:5};var fd=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,gd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,hd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function id(a){var b=new jd(2E3),a=Aa(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(fd);if(d){var e=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var n=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new kd(ld,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new kd(ld,(4>=d?1-d:8-d)+(Number(n)+7*(Number(c)-1))-1))):(e&&(b.setDate(1),b.setMonth(e-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(hd),n=0,c&&("Z"!=
c[0]&&(n=60*c[2]+Number(c[3]),n*="-"==c[1]?1:-1),n-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(gd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=n&&b.setTime(b.getTime()+6E4*n),c=j):c=l;return c?b:k}
function kd(a,b,c,d,e,g){r(a)?(this.Va=a==md?b:0,this.Oa=a==nd?b:0,this.Ja=a==ld?b:0,this.xa=a==od?b:0,this.ya=a==pd?b:0,this.Ea=a==qd?b:0):(this.Va=a||0,this.Oa=b||0,this.Ja=c||0,this.xa=d||0,this.ya=e||0,this.Ea=g||0)}
kd.prototype.Sd=function(a){var b=Math.min(this.Va,this.Oa,this.Ja,this.xa,this.ya,this.Ea),c=Math.max(this.Va,this.Oa,this.Ja,this.xa,this.ya,this.Ea);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Va||a)&&c.push(Math.abs(this.Va)+"Y");(this.Oa||a)&&c.push(Math.abs(this.Oa)+"M");(this.Ja||a)&&c.push(Math.abs(this.Ja)+"D");if(this.xa||this.ya||this.Ea||a)c.push("T"),(this.xa||a)&&c.push(Math.abs(this.xa)+"H"),(this.ya||a)&&c.push(Math.abs(this.ya)+"M"),
(this.Ea||a)&&c.push(Math.abs(this.Ea)+"S");return c.join("")};kd.prototype.clone=function(){return new kd(this.Va,this.Oa,this.Ja,this.xa,this.ya,this.Ea)};var md="y",nd="m",ld="d",od="h",pd="n",qd="s";kd.prototype.add=function(a){this.Va+=a.Va;this.Oa+=a.Oa;this.Ja+=a.Ja;this.xa+=a.xa;this.ya+=a.ya;this.Ea+=a.Ea};
function rd(a,b,c){pa(a)?(this.r=new Date(a,b||0,c||1),sd(this,c||1)):ra(a)?(this.r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),sd(this,a.getDate())):(this.r=new Date(t()),this.r.setHours(0),this.r.setMinutes(0),this.r.setSeconds(0),this.r.setMilliseconds(0))}m=rd.prototype;m.le=ed.Mi;m.me=ed.Ni;m.clone=function(){var a=new rd(this.r);a.le=this.le;a.me=this.me;return a};m.getFullYear=function(){return this.r.getFullYear()};m.getYear=function(){return this.getFullYear()};m.getMonth=function(){return this.r.getMonth()};
m.getDate=function(){return this.r.getDate()};m.getTime=function(){return this.r.getTime()};m.getDay=function(){return this.r.getDay()};m.getUTCHours=function(){return this.r.getUTCHours()};m.getTimezoneOffset=function(){return this.r.getTimezoneOffset()};function td(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Ha(c)+":"+Ha(b);return a}m.set=function(a){this.r=new Date(a.getFullYear(),a.getMonth(),a.getDate())};m.setFullYear=function(a){this.r.setFullYear(a)};
m.setMonth=function(a){this.r.setMonth(a)};m.setDate=function(a){this.r.setDate(a)};m.setTime=function(a){this.r.setTime(a)};
m.add=function(a){if(a.Va||a.Oa){var b=this.getMonth()+a.Oa+12*a.Va,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Ja&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Ja),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),sd(this,a.getDate()))};m.Sd=function(a,b){return[this.getFullYear(),Ha(this.getMonth()+1),Ha(this.getDate())].join(a?"-":"")+(b?td(this):"")};m.toString=function(){return this.Sd()};function sd(a,b){a.getDate()!=b&&a.r.setUTCHours(a.r.getUTCHours()+(a.getDate()<b?1:-1))}m.valueOf=function(){return this.r.valueOf()};function jd(a,b,c,d,e,g,h){this.r=pa(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():t())}u(jd,rd);m=jd.prototype;m.getHours=function(){return this.r.getHours()};
m.getMinutes=function(){return this.r.getMinutes()};m.getSeconds=function(){return this.r.getSeconds()};m.getUTCHours=function(){return this.r.getUTCHours()};m.setHours=function(a){this.r.setHours(a)};m.setMinutes=function(a){this.r.setMinutes(a)};m.setSeconds=function(a){this.r.setSeconds(a)};m.setMilliseconds=function(a){this.r.setMilliseconds(a)};m.setUTCHours=function(a){this.r.setUTCHours(a)};
m.add=function(a){rd.prototype.add.call(this,a);a.xa&&this.setHours(this.r.getHours()+a.xa);a.ya&&this.setMinutes(this.r.getMinutes()+a.ya);a.Ea&&this.setSeconds(this.r.getSeconds()+a.Ea)};m.Sd=function(a,b){var c=rd.prototype.Sd.call(this,a);return a?c+" "+Ha(this.getHours())+":"+Ha(this.getMinutes())+":"+Ha(this.getSeconds())+(b?td(this):""):c+"T"+Ha(this.getHours())+Ha(this.getMinutes())+Ha(this.getSeconds())+(b?td(this):"")};m.toString=function(){return this.Sd()};
m.clone=function(){var a=new jd(this.r);a.le=this.le;a.me=this.me;return a};function ud(a){K.call(this);this.Ma=a;this.N=[]}u(ud,K);var vd=[];function R(a,b,c,d,e){ma(c)||(vd[0]=c,c=vd);for(var g=0;g<c.length;g++){var h=M(b,c[g],d||a,e||l,a.Ma||a);a.N.push(h)}return a}function wd(a,b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)wd(a,b,c[h],d,e,g);else b=Kc(b,c,d||a,e,g||a.Ma||a),a.N.push(b)}
function xd(a,b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)xd(a,b,c[h],d,e,g);else{a:{d=d||a;g=g||a.Ma||a;e=!!e;if(b=Mc(b,c,e))for(c=0;c<b.length;c++)if(!b[c].kc&&b[c].Nc==d&&b[c].capture==e&&b[c].re==g){b=b[c];break a}b=k}b&&(b=b.key,Nc(b),Ra(a.N,b))}return a}function yd(a){v(a.N,Nc);a.N.length=0}ud.prototype.l=function(){ud.d.l.call(this);yd(this)};ud.prototype.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};function zd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}zd.prototype.clone=function(){return new zd(this.top,this.right,this.bottom,this.left)};zd.prototype.contains=function(a){return!this||!a?l:a instanceof zd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Ad(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Ad.prototype.clone=function(){return new Ad(this.left,this.top,this.width,this.height)};Ad.prototype.contains=function(a){return a instanceof Ad?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Bd(a,b,c){r(b)?Cd(a,c,b):Fb(b,xa(Cd,a))}function Cd(a,b,c){a.style[Ia(c)]=b}function Dd(a,b){var c=Pb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Ed(a,b){return a.currentStyle?a.currentStyle[b]:k}function Fd(a,b){return Dd(a,b)||Ed(a,b)||a.style&&a.style[b]}function Gd(a,b,c){var d,e=hb&&(bb||kb)&&tb("1.9");b instanceof Db?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Hd(d,e);a.style.top=Hd(b,e)}
function S(a){return new Db(a.offsetLeft,a.offsetTop)}function Id(a){var b=a.getBoundingClientRect();x&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Jd(a){if(x&&!vb(8))return a.offsetParent;for(var b=Pb(a),c=Fd(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Fd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function Kd(a){var b,c=Pb(a),d=Fd(a,"position"),e=hb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Db(0,0),h;b=c?Pb(c):document;if(h=x)if(h=!vb(9))h="CSS1Compat"!=Nb(b).aa.compatMode;h=h?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=Id(a),a=jc(Nb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;
else{e=a;do{g.x+=e.offsetLeft;g.y+=e.offsetTop;e!=a&&(g.x+=e.clientLeft||0,g.y+=e.clientTop||0);if(ib&&"fixed"==Fd(e,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(gb||ib&&"absolute"==d)g.y-=c.body.offsetTop;for(e=a;(e=Jd(e))&&e!=c.body&&e!=h;)if(g.x-=e.scrollLeft,!gb||"TR"!=e.tagName)g.y-=e.scrollTop}return g}function Ld(a,b){var c,d=Kd(a);b instanceof Db&&(c=b.y,b=b.x);Gd(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Hd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Md(a,b){a.style.height=Hd(b,j)}function Nd(a,b){a.style.width=Hd(b,j)}function T(a){if("none"!=Fd(a,"display"))return Od(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Od(a);b.display=c;b.position=e;b.visibility=d;return a}
function Od(a){var b=a.offsetWidth,c=a.offsetHeight,d=ib&&!b&&!c;return(!ga(b)||d)&&a.getBoundingClientRect?(a=Id(a),new Eb(a.right-a.left,a.bottom-a.top)):new Eb(b,c)}function Pd(a){var b=Kd(a),a=T(a);return new Ad(b.x,b.y,a.width,a.height)}function Qd(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function Q(a,b){a.style.display=b?"":"none"}function Rd(a){return"rtl"==Fd(a,"direction")}
var Sd=hb?"MozUserSelect":ib?"WebkitUserSelect":k;function Td(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function Ud(a,b){if(x){var c=Td(a,Ed(a,b+"Left")),d=Td(a,Ed(a,b+"Right")),e=Td(a,Ed(a,b+"Top")),g=Td(a,Ed(a,b+"Bottom"));return new zd(e,d,g,c)}c=Dd(a,b+"Left");d=Dd(a,b+"Right");e=Dd(a,b+"Top");g=Dd(a,b+"Bottom");return new zd(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var Vd={thin:2,medium:4,thick:6};function Wd(a,b){if("none"==Ed(a,b+"Style"))return 0;var c=Ed(a,b+"Width");return c in Vd?Vd[c]:Td(a,c)}
function Xd(a){if(x){var b=Wd(a,"borderLeft"),c=Wd(a,"borderRight"),d=Wd(a,"borderTop"),a=Wd(a,"borderBottom");return new zd(d,c,a,b)}b=Dd(a,"borderLeftWidth");c=Dd(a,"borderRightWidth");d=Dd(a,"borderTopWidth");a=Dd(a,"borderBottomWidth");return new zd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function Yd(a,b,c){K.call(this);this.target=a;this.handle=b||a;this.Qh=c||new Ad(NaN,NaN,NaN,NaN);this.aa=Pb(a);this.t=new ud(this);M(this.handle,["touchstart","mousedown"],this.oc,l,this)}u(Yd,Rc);var Zd=x||hb&&tb("1.9.3");m=Yd.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.xi=0;m.yi=0;m.Ac=0;m.Bc=0;m.lf=j;m.oa=l;m.vf=0;m.Mj=0;m.Gj=l;m.Wd=l;m.n=ca("t");m.fg=function(a){this.vf=Math.pow(a,2)};m.ti=ba("Ie");m.kb=ba("lf");
m.l=function(){Yd.d.l.call(this);Lc(this.handle,["touchstart","mousedown"],this.oc,l,this);yd(this.t);Zd&&this.aa.releaseCapture();this.t=this.handle=this.target=k};function $d(a){ga(a.Qa)||(a.Qa=Rd(a.target));return a.Qa}
m.oc=function(a){var b="mousedown"==a.type;if(this.lf&&!this.oa&&(!b||Cc(a))){ae(a);if(0==this.vf)if(this.dispatchEvent(new be("start",this,a.clientX,a.clientY,a)))this.oa=j,a.preventDefault();else return;else a.preventDefault();var b=this.aa,c=b.documentElement,d=!Zd;R(this.t,b,["touchmove","mousemove"],this.Cj,d);R(this.t,b,["touchend","mouseup"],this.Zb,d);Zd?(c.setCapture(l),R(this.t,c,"losecapture",this.Zb)):R(this.t,b?b.parentWindow||b.defaultView:window,"blur",this.Zb);x&&this.Gj&&R(this.t,
b,"dragstart",yc);this.Ie&&R(this.t,this.Ie,"scroll",this.fi,d);this.clientX=this.xi=a.clientX;this.clientY=this.yi=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Wd?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Fd(a,"position")&&(c=Pb(a).documentElement),c?(hb?(d=Xd(c),b+=d.left):vb(8)&&(d=Xd(c),b-=d.left),a=Rd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Ac=a;this.Bc=this.target.offsetTop;this.Rf=jc(Nb(this.aa));this.Mj=t()}else this.dispatchEvent("earlycancel")};
m.Zb=function(a,b){yd(this.t);Zd&&this.aa.releaseCapture();if(this.oa){ae(a);this.oa=l;var c=ce(this,this.Ac),d=de(this,this.Bc);this.dispatchEvent(new be("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function ae(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ua.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ua.changedTouches[0],a.currentTarget)}
m.Cj=function(a){if(this.lf){ae(a);var b=(this.Wd&&$d(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.oa){var d=this.xi-this.clientX,e=this.yi-this.clientY;if(d*d+e*e>this.vf)if(this.dispatchEvent(new be("start",this,a.clientX,a.clientY,a)))this.oa=j;else{this.he||this.Zb(a);return}}c=ee(this,b,c);b=c.x;c=c.y;this.oa&&this.dispatchEvent(new be("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(fe(this,a,b,c),a.preventDefault())}};function ee(a,b,c){var d=jc(Nb(a.aa)),b=b+(d.x-a.Rf.x),c=c+(d.y-a.Rf.y);a.Rf=d;a.Ac+=b;a.Bc+=c;b=ce(a,a.Ac);a=de(a,a.Bc);return new Db(b,a)}m.fi=function(a){var b=ee(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;fe(this,a,b.x,b.y)};function fe(a,b,c,d){a.qd(c,d);a.dispatchEvent(new be("drag",a,b.clientX,b.clientY,b,c,d))}
function ce(a,b){var c=a.Qh,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function de(a,b){var c=a.Qh,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}m.qd=function(a,b){this.Wd&&$d(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function be(a,b,c,d,e,g,h,n){xc.call(this,a);this.clientX=c;this.clientY=d;this.Ze=e;this.left=ga(g)?g:b.Ac;this.top=ga(h)?h:b.Bc;this.aj=b;this.Zi=!!n}u(be,xc);function ge(){K.call(this);this.i=he;this.td=this.startTime=k}u(ge,Rc);var he=0;ge.prototype.Bb=function(){this.na("begin")};ge.prototype.Cb=function(){this.na("end")};ge.prototype.na=function(a){this.dispatchEvent(a)};function ie(a,b,c){K.call(this);this.yb=a;this.L=b||0;this.Ma=c;this.af=s(this.rd,this)}u(ie,K);m=ie.prototype;m.ia=0;m.l=function(){ie.d.l.call(this);this.stop();delete this.yb;delete this.Ma};m.start=function(a){this.stop();this.ia=N(this.af,ga(a)?a:this.L)};m.stop=function(){this.fc()&&Tc.clearTimeout(this.ia);this.ia=0};m.of=function(){this.stop();this.rd()};m.fc=function(){return 0!=this.ia};m.rd=function(){this.ia=0;this.yb&&this.yb.call(this.Ma)};var je;je=da(k);var ke={},le=k;function me(a){a=sa(a);delete ke[a];Ib(ke)&&le&&le.stop()}function ne(){le||(le=new ie(function(){var a=t();Fb(ke,function(c){oe(c,a)});Ib(ke)||ne()},20));var a=le;a.fc()||a.start()};function pe(a,b,c,d){ge.call(this);(!ma(a)||!ma(b))&&f(Error("Start and end parameters must be arrays"));a.length!=b.length&&f(Error("Start and end points must be the same length"));this.Pd=a;this.cj=b;this.duration=c;this.Cg=d;this.coords=[];this.Wd=l}u(pe,ge);m=pe.prototype;m.kh=0;m.Ba=0;m.Df=k;
m.play=function(a){if(a||this.i==he)this.Ba=0,this.coords=this.Pd;else if(1==this.i)return l;me(this);this.startTime=a=t();-1==this.i&&(this.startTime-=this.duration*this.Ba);this.td=this.startTime+this.duration;this.Df=this.startTime;this.Ba||this.Bb();this.na("play");-1==this.i&&this.na("resume");this.i=1;var b=sa(this);b in ke||(ke[b]=this);ne();oe(this,a);return j};m.stop=function(a){me(this);this.i=he;a&&(this.Ba=1);qe(this,this.Ba);this.na("stop");this.Cb()};m.ne=ca("Ba");
m.l=function(){this.i==he||this.stop(l);this.na("destroy");pe.d.l.call(this)};function oe(a,b){a.Ba=(b-a.startTime)/(a.td-a.startTime);1<=a.Ba&&(a.Ba=1);a.kh=1E3/(b-a.Df);a.Df=b;qe(a,a.Ba);1==a.Ba?(a.i=he,me(a),a.na("finish"),a.Cb()):1==a.i&&a.Mf()}function qe(a,b){qa(a.Cg)&&(b=a.Cg(b));a.coords=Array(a.Pd.length);for(var c=0;c<a.Pd.length;c++)a.coords[c]=(a.cj[c]-a.Pd[c])*b+a.Pd[c]}m.Mf=function(){this.na("animate")};m.na=function(a){this.dispatchEvent(new re(a,this))};
function re(a,b){xc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.em=b.coords[2];this.duration=b.duration;this.Ba=b.ne();this.Ml=b.kh;this.state=b.i;this.ul=b}u(re,xc);function se(a,b,c,d,e){pe.call(this,b,c,d,e);this.element=a}u(se,pe);m=se.prototype;m.Vd=ia;m.Kh=function(){ga(this.Qa)||(this.Qa=Rd(this.element));return this.Qa};m.Mf=function(){this.Vd();se.d.Mf.call(this)};m.Cb=function(){this.Vd();se.d.Cb.call(this)};m.Bb=function(){this.Vd();se.d.Bb.call(this)};function te(a,b,c,d,e){(2!=b.length||2!=c.length)&&f(Error("Start and end points must be 2D"));se.apply(this,arguments)}u(te,se);
te.prototype.Vd=function(){if(this.Wd){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=Rd(a)?hb?-b:!x||!tb("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function ue(a,b,c,d,e){pa(b)&&(b=[b]);pa(c)&&(c=[c]);se.call(this,a,b,c,d,e);(1!=b.length||1!=c.length)&&f(Error("Start and end points must be 1D"))}u(ue,se);ue.prototype.Vd=function(){Qd(this.element,this.coords[0])};
ue.prototype.show=function(){this.element.style.display=""};ue.prototype.hide=function(){this.element.style.display="none"};function ve(a,b,c){ue.call(this,a,1,0,b,c)}u(ve,ue);ve.prototype.Bb=function(){this.show();ve.d.Bb.call(this)};ve.prototype.Cb=function(){this.hide();ve.d.Cb.call(this)};function we(a,b,c){ue.call(this,a,0,1,b,c)}u(we,ue);we.prototype.Bb=function(){this.show();we.d.Bb.call(this)};function xe(){}ja(xe);xe.prototype.Qj=0;xe.a();function U(a){K.call(this);this.Xb=a||Nb();this.Qa=ye}u(U,Rc);U.prototype.Fj=xe.a();var ye=k;function ze(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}f(Error("Invalid component state"))}m=U.prototype;m.ia=k;m.W=l;m.e=k;m.Qa=k;m.q=k;m.I=k;m.Y=k;m.ea=k;m.Li=l;
function Ae(a){return a.ia||(a.ia=":"+(a.Fj.Qj++).toString(36))}m.b=ca("e");m.n=function(){return this.Ic||(this.Ic=new ud(this))};m.Je=function(a){this==a&&f(Error("Unable to set parent component"));a&&(this.I&&this.ia&&this.I.ea&&this.ia&&(this.ia in this.I.ea&&this.I.ea[this.ia])&&this.I!=a)&&f(Error("Unable to set parent component"));this.I=a;U.d.gg.call(this,a)};m.getParent=ca("I");m.gg=function(a){this.I&&this.I!=a&&f(Error("Method not supported"));U.d.gg.call(this,a)};m.La=ca("Xb");
m.J=function(){this.e=this.Xb.createElement("div")};function Be(a,b){a.W&&f(Error("Component already rendered"));a.e||a.J();b?b.insertBefore(a.e,k):a.Xb.aa.body.appendChild(a.e);(!a.I||a.I.W)&&a.v()}m.h=function(a){this.W&&f(Error("Component already rendered"));if(a&&this.Sb(a)){this.Li=j;if(!this.Xb||this.Xb.aa!=Pb(a))this.Xb=Nb(a);this.H(a);this.v()}else f(Error("Invalid element to decorate"))};m.Sb=da(j);m.H=ba("e");m.v=function(){this.W=j;Ce(this,function(a){!a.W&&a.b()&&a.v()})};
m.$b=function(){Ce(this,function(a){a.W&&a.$b()});this.Ic&&yd(this.Ic);this.W=l};m.l=function(){U.d.l.call(this);this.W&&this.$b();this.Ic&&(this.Ic.$(),delete this.Ic);Ce(this,function(a){a.$()});!this.Li&&this.e&&H(this.e);this.I=this.q=this.e=this.ea=this.Y=k};
function De(a,b){var c=a.Y?a.Y.length:0;b.W&&!a.W&&f(Error("Component already rendered"));(0>c||c>(a.Y?a.Y.length:0))&&f(Error("Child component index out of bounds"));if(!a.ea||!a.Y)a.ea={},a.Y=[];if(b.getParent()==a){var d=Ae(b);a.ea[d]=b;Ra(a.Y,b)}else Kb(a.ea,Ae(b),b);b.Je(a);Wa(a.Y,c,0,b);b.W&&a.W&&b.getParent()==a?(d=a.cc(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.W&&(!b.W&&b.e&&b.e.parentNode)&&b.v()}m.cc=ca("e");m.Kh=function(){this.Qa==k&&(this.Qa=Rd(this.W?this.e:this.Xb.aa.body));return this.Qa};
m.nc=function(a){this.W&&f(Error("Component already rendered"));this.Qa=a};function Ce(a,b){a.Y&&v(a.Y,b,i)}m.removeChild=function(a,b){if(a){var c=r(a)?a:Ae(a),a=this.ea&&c?(c in this.ea?this.ea[c]:i)||k:k;c&&a&&(Jb(this.ea,c),Ra(this.Y,a),b&&(a.$b(),a.e&&H(a.e)),a.Je(k))}a||f(Error("Child is not in parent component"));return a};function Ee(a,b,c,d,e){if(!x&&(!ib||!tb("525")))return j;if(bb&&e)return Fe(a);if(e&&!d||!c&&(17==b||18==b)||x&&d&&b==a)return l;switch(a){case 13:return!(x&&vb(9));case 27:return!ib}return Fe(a)}function Fe(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||ib&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Ge(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function He(){}var Ie;ja(He);m=He.prototype;m.Hc=aa();m.J=function(a){var b=a.La().J("div",Je(this,a).join(" "),a.Za);Ke(this,a,b);return b};m.cc=function(a){return a};m.sd=function(a,b,c){if(a=a.b?a.b():a)if(x&&!tb("7")){var d=Le(Bb(a),b);d.push(b);xa(c?y:z,a).apply(k,d)}else C(a,b,c)};m.Sb=da(j);
m.h=function(a,b){if(b.id){var c=b.id;a.I&&a.I.ea&&(Jb(a.I.ea,a.ia),Kb(a.I.ea,c,a));a.ia=c}(c=this.cc(b))&&c.firstChild?(c=c.firstChild.nextSibling?Ua(c.childNodes):c.firstChild,a.Za=c):a.Za=k;var d=0,e=this.ha(),g=this.ha(),h=l,n=l,c=l,q=Bb(b);v(q,function(a){if(!h&&a==e)h=j,g==e&&(n=j);else if(!n&&a==g)n=j;else{var b=d;if(!this.zi){this.be||Me(this);var c=this.be,q={},w;for(w in c)q[c[w]]=w;this.zi=q}a=parseInt(this.zi[a],10);d=b|(isNaN(a)?0:a)}},this);a.i=d;h||(q.push(e),g==e&&(n=j));n||q.push(g);
var w=a.Ka;w&&q.push.apply(q,w);if(x&&!tb("7")){var A=Le(q);0<A.length&&(q.push.apply(q,A),c=j)}if(!h||!n||w||c)b.className=q.join(" ");Ke(this,a,b);return b};m.Eh=function(a){a.Kh()&&this.nc(a.b(),j);a.isEnabled()&&this.Yc(a,a.Ob)};function Ke(a,b,c){b.isEnabled()||a.Ua(c,1,j);b.i&8&&a.Ua(c,8,j);b.fa&16&&a.Ua(c,16,Ne(b));b.fa&64&&a.Ua(c,64,!!(b.i&64))}
m.Xc=function(a,b){var c=!b,d=x||gb?a.getElementsByTagName("*"):k;if(Sd){if(c=c?"none":"",a.style[Sd]=c,d)for(var e=0,g;g=d[e];e++)g.style[Sd]=c}else if(x||gb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};m.nc=function(a,b){this.sd(a,this.ha()+"-rtl",b)};m.Bf=function(a){var b;return a.fa&32&&(b=a.ub())?ec(b):l};
m.Yc=function(a,b){var c;if(a.fa&32&&(c=a.ub())){if(!b&&a.ue()){try{c.blur()}catch(d){}a.ue()&&a.oh()}ec(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};m.jg=function(a,b){Q(a,b)};m.la=function(a,b,c){var d=a.b();if(d){var e=Oe(this,b);e&&this.sd(a,e,c);this.Ua(d,b,c)}};m.Ua=function(a,b,c){Ie||(Ie={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Ie[b])&&a.setAttribute("aria-"+b,c)};
m.mc=function(a,b){var c=this.cc(a);if(c&&(Ub(c),b))if(r(b))bc(c,b);else{var d=function(a){if(a){var b=Pb(c);c.appendChild(r(a)?b.createTextNode(a):a)}};ma(b)?v(b,d):oa(b)&&!("nodeType"in b)?v(Ua(b),d):d(b)}};m.ub=function(a){return a.b()};m.ha=da("goog-control");function Je(a,b){var c=a.ha(),d=[c],e=a.ha();e!=c&&d.push(e);c=b.i;for(e=[];c;){var g=c&-c;e.push(Oe(a,g));c&=~g}d.push.apply(d,e);(c=b.Ka)&&d.push.apply(d,c);x&&!tb("7")&&d.push.apply(d,Le(d));return d}
function Le(a,b){var c=[];b&&(a=a.concat([b]));v([],function(d){Na(d,xa(Qa,a))&&(!b||Qa(d,b))&&c.push(d.join("_"))});return c}function Oe(a,b){a.be||Me(a);return a.be[b]}function Me(a){var b=a.ha();a.be={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Pe(){}u(Pe,He);ja(Pe);m=Pe.prototype;m.Hc=da("button");m.Ua=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Pe.d.Ua.call(this,a,b,c)};m.J=function(a){var b=Pe.d.J.call(this,a),c=a.vd();c&&this.ig(b,c);(c=a.V())&&this.Eb(b,c);a.fa&16&&this.Ua(b,16,Ne(a));return b};m.h=function(a,b){var b=Pe.d.h.call(this,a,b),c=this.V(b);a.Bg=c;a.sg=this.vd(b);a.fa&16&&this.Ua(b,16,Ne(a));return b};m.V=ia;m.Eb=ia;m.vd=function(a){return a.title};m.ig=function(a,b){a&&(a.title=b||"")};m.ha=da("goog-button");function Qe(a,b){K.call(this);a&&Re(this,a,b)}u(Qe,Rc);m=Qe.prototype;m.e=k;m.ve=k;m.Cf=k;m.we=k;m.xb=-1;m.wb=-1;m.Xe=l;
var Se={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Te={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ue=x||ib&&tb("525"),Ve=bb&&hb;m=Qe.prototype;
m.zj=function(a){if(ib&&(17==this.xb&&!a.ctrlKey||18==this.xb&&!a.altKey))this.wb=this.xb=-1;Ue&&!Ee(a.keyCode,this.xb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.wb=hb?Ge(a.keyCode):a.keyCode,Ve&&(this.Xe=a.altKey))};m.Bj=function(a){this.wb=this.xb=-1;this.Xe=a.altKey};
m.handleEvent=function(a){var b=a.ua,c,d,e=b.altKey;x&&"keypress"==a.type?(c=this.wb,d=13!=c&&27!=c?b.keyCode:0):ib&&"keypress"==a.type?(c=this.wb,d=0<=b.charCode&&63232>b.charCode&&Fe(c)?b.charCode:0):gb?(c=this.wb,d=Fe(c)?b.keyCode:0):(c=b.keyCode||this.wb,d=b.charCode||0,Ve&&(e=this.Xe),bb&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Se?g=Se[c]:25==c&&a.shiftKey&&(g=9):h&&h in Te&&(g=Te[h]);a=g==this.xb;this.xb=g;b=new We(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};
m.b=ca("e");function Re(a,b,c){a.we&&a.detach();a.e=b;a.ve=M(a.e,"keypress",a,c);a.Cf=M(a.e,"keydown",a.zj,c,a);a.we=M(a.e,"keyup",a.Bj,c,a)}m.detach=function(){this.ve&&(Nc(this.ve),Nc(this.Cf),Nc(this.we),this.we=this.Cf=this.ve=k);this.e=k;this.wb=this.xb=-1};m.l=function(){Qe.d.l.call(this);this.detach()};function We(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}u(We,Ac);function Xe(a,b){a||f(Error("Invalid class name "+a));qa(b)||f(Error("Invalid decorator function "+b))}var Ye={};function Ze(a,b,c){U.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=sa(b);if(d=Ye[d])break;b=b.d?b.d.constructor:k}b=d?qa(d.a)?d.a():new d:k}this.G=b;this.Za=a}u(Ze,U);m=Ze.prototype;m.Za=k;m.i=0;m.fa=39;m.gb=255;m.Lk=0;m.Ob=j;m.Ka=k;m.uf=j;m.$d=l;m.ii=k;function $e(a){a.W&&l!=a.uf&&af(a,l);a.uf=l}m.ub=function(){return this.G.ub(this)};
m.sd=function(a,b){b?a&&(this.Ka?Qa(this.Ka,a)||this.Ka.push(a):this.Ka=[a],this.G.sd(this,a,j)):a&&this.Ka&&(Ra(this.Ka,a),0==this.Ka.length&&(this.Ka=k),this.G.sd(this,a,l))};m.J=function(){var a=this.G.J(this);this.e=a;var b=this.ii||this.G.Hc();b&&a.setAttribute("role",b);this.$d||this.G.Xc(a,l);this.Ob||this.G.jg(a,l)};m.cc=function(){return this.G.cc(this.b())};m.Sb=function(a){return this.G.Sb(a)};
m.H=function(a){this.e=a=this.G.h(this,a);var b=this.ii||this.G.Hc();b&&a.setAttribute("role",b);this.$d||this.G.Xc(a,l);this.Ob="none"!=a.style.display};m.v=function(){Ze.d.v.call(this);this.G.Eh(this);if(this.fa&-2&&(this.uf&&af(this,j),this.fa&32)){var a=this.ub();if(a){var b=this.Mc||(this.Mc=new Qe);Re(b,a);R(R(R(this.n(),b,"key",this.Aj),a,"focus",this.xj),a,"blur",this.oh)}}};
function af(a,b){var c=a.n(),d=a.b();b?(R(R(R(R(c,d,"mouseover",a.uh),d,"mousedown",a.sh),d,"mouseup",a.vh),d,"mouseout",a.th),a.qe!=ia&&R(c,d,"contextmenu",a.qe),x&&R(c,d,"dblclick",a.ph)):(xd(xd(xd(xd(c,d,"mouseover",a.uh),d,"mousedown",a.sh),d,"mouseup",a.vh),d,"mouseout",a.th),a.qe!=ia&&xd(c,d,"contextmenu",a.qe),x&&xd(c,d,"dblclick",a.ph))}m.$b=function(){Ze.d.$b.call(this);this.Mc&&this.Mc.detach();this.Ob&&this.isEnabled()&&this.G.Yc(this,l)};
m.l=function(){Ze.d.l.call(this);this.Mc&&(this.Mc.$(),delete this.Mc);delete this.G;this.Ka=this.Za=k};m.mc=function(a){this.G.mc(this.b(),a);this.Za=a};m.lh=function(){var a=this.Za;return!a?"":(r(a)?a:ma(a)?Ma(a,hc).join(""):fc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};m.nc=function(a){Ze.d.nc.call(this,a);var b=this.b();b&&this.G.nc(b,a)};m.Xc=function(a){this.$d=a;var b=this.b();b&&this.G.Xc(b,a)};
m.jg=function(a,b){if(b||this.Ob!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.G.jg(c,a);this.isEnabled()&&this.G.Yc(this,a);this.Ob=a;return j}return l};m.isEnabled=function(){return!(this.i&1)};m.kb=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&bf(this,1,!a))a||(this.setActive(l),cf(this,l)),this.Ob&&this.G.Yc(this,a),this.la(1,!a)};function cf(a,b){bf(a,2,b)&&a.la(2,b)}m.fc=function(){return!!(this.i&4)};
m.setActive=function(a){bf(this,4,a)&&this.la(4,a)};function Ne(a){return!!(a.i&16)}function df(a,b){bf(a,16,b)&&a.la(16,b)}m.ue=function(){return!!(this.i&32)};m.lb=function(a){bf(this,32,a)&&this.la(32,a)};m.la=function(a,b){this.fa&a&&b!=!!(this.i&a)&&(this.G.la(this,a,b),this.i=b?this.i|a:this.i&~a)};function ef(a,b,c){a.W&&(a.i&b&&!c)&&f(Error("Component already rendered"));!c&&a.i&b&&a.la(b,l);a.fa=c?a.fa|b:a.fa&~b}function ff(a,b){return!!(a.gb&b)&&!!(a.fa&b)}
function bf(a,b,c){return!!(a.fa&b)&&!!(a.i&b)!=c&&(!(a.Lk&b)||a.dispatchEvent(ze(b,c)))&&!a.he}m.uh=function(a){(!a.relatedTarget||!ac(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&ff(this,2))&&cf(this,j)};m.th=function(a){if((!a.relatedTarget||!ac(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))ff(this,4)&&this.setActive(l),ff(this,2)&&cf(this,l)};m.qe=ia;
m.sh=function(a){this.isEnabled()&&(ff(this,2)&&cf(this,j),Cc(a)&&(ff(this,4)&&this.setActive(j),this.G.Bf(this)&&this.ub().focus()));!this.$d&&Cc(a)&&a.preventDefault()};m.vh=function(a){this.isEnabled()&&(ff(this,2)&&cf(this,j),this.fc()&&(this.Id(a)&&ff(this,4))&&this.setActive(l))};m.ph=function(a){this.isEnabled()&&this.Id(a)};
m.Id=function(a){ff(this,16)&&df(this,!Ne(this));ff(this,8)&&bf(this,8,j)&&this.la(8,j);if(ff(this,64)){var b=!(this.i&64);bf(this,64,b)&&this.la(64,b)}b=new xc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.Tf=a.Tf);return this.dispatchEvent(b)};m.xj=function(){ff(this,32)&&this.lb(j)};m.oh=function(){ff(this,4)&&this.setActive(l);ff(this,32)&&this.lb(l)};
m.Aj=function(a){return this.Ob&&this.isEnabled()&&this.tf(a)?(a.preventDefault(),a.stopPropagation(),j):l};m.tf=function(a){return 13==a.keyCode&&this.Id(a)};qa(Ze)||f(Error("Invalid component class "+Ze));qa(He)||f(Error("Invalid renderer class "+He));var gf=sa(Ze);Ye[gf]=He;Xe("goog-control",function(){return new Ze(k)});function hf(){}u(hf,Pe);ja(hf);m=hf.prototype;m.Hc=aa();m.J=function(a){$e(a);a.gb&=-256;ef(a,32,l);return a.La().J("button",{"class":Je(this,a).join(" "),disabled:!a.isEnabled(),title:a.vd()||"",value:a.V()||""},a.lh()||"")};m.Sb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};m.h=function(a,b){$e(a);a.gb&=-256;ef(a,32,l);b.disabled&&y(b,Oe(this,1));return hf.d.h.call(this,a,b)};m.Eh=function(a){R(a.n(),a.b(),"click",a.Id)};m.Xc=ia;
m.nc=ia;m.Bf=function(a){return a.isEnabled()};m.Yc=ia;m.la=function(a,b,c){hf.d.la.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.V=function(a){return a.value};m.Eb=function(a,b){a&&(a.value=b)};m.Ua=ia;function jf(a,b,c){Ze.call(this,a,b||hf.a(),c)}u(jf,Ze);m=jf.prototype;m.V=ca("Bg");m.Eb=function(a){this.Bg=a;this.G.Eb(this.b(),a)};m.vd=ca("sg");m.ig=function(a){this.sg=a;this.G.ig(this.b(),a)};m.l=function(){jf.d.l.call(this);delete this.Bg;delete this.sg};m.v=function(){jf.d.v.call(this);if(this.fa&32){var a=this.ub();a&&R(this.n(),a,"keyup",this.tf)}};m.tf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Id(a):32==a.keyCode};Xe("goog-button",function(){return new jf(k)});function kf(){}u(kf,Pe);ja(kf);m=kf.prototype;m.J=function(a){var b={"class":"goog-inline-block "+Je(this,a).join(" "),title:a.vd()||""},b=a.La().J("div",b,lf(this,a.Za,a.La()));Ke(this,a,b);return b};m.Hc=da("button");m.cc=function(a){return a&&a.firstChild.firstChild};function lf(a,b,c){return c.J("div","goog-inline-block "+(a.ha()+"-outer-box"),c.J("div","goog-inline-block "+(a.ha()+"-inner-box"),b))}m.Sb=function(a){return"DIV"==a.tagName};
m.h=function(a,b){mf(b,j);mf(b,l);var c;a:{c=kc(a.La(),b);var d=this.ha()+"-outer-box";if(c&&B(c,d)&&(c=kc(a.La(),c),d=this.ha()+"-inner-box",c&&B(c,d))){c=j;break a}c=l}c||b.appendChild(lf(this,b.childNodes,a.La()));y(b,"goog-inline-block",this.ha());return kf.d.h.call(this,a,b)};m.ha=da("goog-custom-button");
function mf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Aa(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function nf(a,b,c){jf.call(this,a,b||kf.a(),c)}u(nf,jf);Xe("goog-custom-button",function(){return new nf(k)});function of(){U.call(this);this.Hb=2;this.L=10;this.Me=60*this.Hb*this.L;this.Pg=[];this.Ng={};this.ra=pf();this.va=0;this.qi=this.pi=l;this.pf=this.fb=j;this.oa=l;this.Z=[V.a().k,V.a().k.f()]}u(of,U);m=of.prototype;
m.v=function(){of.d.v.call(this);this.bd=D("ticker");this.Ae=D("my-ticker");var a=D("go-live");this.Ah=D("header");this.X=D("channels");this.Bh=1;this.Ga=F().width*this.Bh;this.od=T(D("controller")).height;P.a().subscribe(ad,function(a){this.Oe(a)},this);P.a().subscribe($c,function(a){C(this.b(),"sidebar-toggled",a);this.da(l,i,j);qf(this)},this);this.Oe(B(this.b(),"toggled"));this.Fb=new jd;for(var b=60;b>=this.Fb.getMinutes();)b-=this.L;this.Fb.setMinutes(b);this.O=this.Fb.clone();this.O.add(new kd(0,
0,0,0,0*-this.L));this.Gf=this.O.clone();this.Gf.add(new kd(0,0,0,0,this.L*(this.Hb+1)));rf(this,this.Hb,this.O);Nd(this.b(),this.Ga);this.ca=(this.Ga-200)/this.Me;this.Sk=this.Ga/this.Hb;this.Ub=document.createElement("style");this.Ub.id="channel-name-offs";this.Ub.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.Ub);this.Ub.innerHTML="div#guide div.channels div.channel div.name{left:0 !important}";var c=0;v(V.a().wc,s(function(a){if(!a.C){var b=new sf(a,this.Me,this.Fb,
0,this.O);Be(b,this.X);this.Pg.push(b);this.Ng[a.id]=b;a.subscribe(tf,function(){uf(this)},this);var d=Qb("program",b.b());(d=d[d.length-1])&&(c=Math.max(c,S(d).x+T(d).width+170))}a.id==V.a().k.id&&b&&(y(b.b(),"current"),this.S=b,window.currentChannel=this.S);this.ze=a.C?a:this.ze},this));this.m=new Yd(this.b());var d=this.Ub,e=this.b();this.m.qd=function(a){0>a&&a>-T(e).width+F().width&&(window.currentChannel&&window.currentChannel.update(),this.target.style.left=a+"px",d.innerHTML="div#guide div.channels div.channel div.name{left:"+
-a+"px !important}")};var b=D("now-left"),g=D("now-right");R(R(R(R(R(R(R(R(R(this.n(),Wc.a().md,Uc,s(this.rg,this)),a,"click",s(function(){V.a().c(vf,this.S.q);P.a().c(bd,j)},this)),window,"resize",s(this.da,this)),this.bd,"click",s(this.da,this,j,i,l)),b,"click",s(this.Wj,this)),g,"click",s(this.ek,this)),this.m,"beforedrag",s(function(){z(this.b(),"animate");y(this.b(),"drag");this.oa=j},this)),this.m,"end",s(function(){z(this.b(),"drag");y(this.b(),"animate");this.fb=this.oa=l;qf(this)},this)),
this.Ah,"mousewheel",s(function(a){a.preventDefault();a.stopPropagation();a=a.ua;z(this.b(),"animate");y(this.b(),"drag");this.oa=j;a=S(this.b()).x+(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0);0>a&&a>-1*this.Ga+F().width&&(Gd(this.b(),a),this.S&&this.S.update(),this.Ub.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}");z(this.b(),"drag");y(this.b(),"animate");this.fb=this.oa=l;qf(this)},this));V.a().subscribe(vf,this.Tb,this);V.a().subscribe(wf,s(function(){N(s(function(){this.da(j)},
this))},this));P.a().subscribe("toggle-admin",function(a){C(this.b(),"admin",a)},this);for(W.a().subscribe(xf,this.Uf,this);T(this.b()).width<c;)yf(this);uf(this);this.ra&&R(this.n(),this.m,"beforedrag",s(function(a){a.Ze.shiftKey&&a.preventDefault()},this))};
m.Oe=function(a){z(this.b(),"animate");this.da(j,i,l);y(this.b(),"animate");var b=Math.min(this.X.scrollHeight,190);C(this.b(),"toggled",a);Md(this.b(),a?b+this.od+19:this.od);this.S&&(this.X.scrollTop=S(this.S.b()).y);N(s(function(){Md(this.X,a?b:40);C(this.b(),"collapsed",!a);uf(this);this.da();if(this.S){var c=this.X,d=S(this.S.b()).y;c.scrollTop!=d&&(c.scrollTop=d)}},this),a?0:800);a&&uf(this);this.m&&this.m.kb(a)};
function rf(a,b,c){for(var d=E("times",a.b()),e=0;e<=b;e++){var g=c.clone();g.add(new kd(0,0,0,0,a.L*e));var h=G,n={"class":"time",style:"width:"+(a.Ga-200)/a.Hb+"px"},q=i,w=g.getHours();ga(q)||(q=j);var A=12==w;12<w&&(w-=12,A=j);0==w&&q&&(w=12);w=String(w);w+=":"+Ha(g.getMinutes());q&&(g=ya("am"),q=ya("pm"),w+=A?q:g);h=h("div",n,w);d.appendChild(h)}}
m.Tb=function(a){this.S&&z(this.S.b(),"current");this.S=this.Ng[a.id]||k;if(window.currentChannel=this.S)y(this.S.b(),"current"),N(s(this.da,this,j,i,l));this.Z[0]=a};m.Uf=function(){this.ze=this.ze||zf();V.a().c(vf,this.ze);P.a().c(ad,l)};
function qf(a){var b=D("now-left"),c=D("now-right"),d=(t()-a.O.getTime())/1E3*a.ca,e=P.a().Zc?320:0,g=F().width-e,e=T(a.b()).width-e-200;((a.Z[0].C?a.Z[0].queue.length:a.Z[0].hb+(a.va+1||0)+1<a.Z[0].ka.length)?((a.Z[0].f(a.va+1).time.getTime()-t())/1E3+a.Z[0].f(a.va+1).media.duration)*a.ca+g:0)>e-d&&yf(a);c.style.right=P.a().Zc?"320px":0;C(c,"now",!!(-S(a.bd).x<S(a.b()).x-g));C(b,"now",!!(-S(a.bd).x>S(a.b()).x));d=-1;0<=a.Z[0].hb+(a.va||0)-1&&a.Z[0].f(a.va-1)&&(d=(a.Z[0].f(a.va-1).time.getTime()-
a.O.getTime())/1E3*a.ca);Q(c,(a.Z[0].C?!!a.Z[0].queue.length:a.Z[0].hb+(a.va||0)+1<a.Z[0].ka.length)||B(c,"now"));Q(b,0<d||B(b,"now"))}m.Wj=function(){B(D("now-left"),"now")?V.a().k.f()==W.a().f()?this.da(j,i,i,j):this.da(l,i,i,j):this.da(l,-1)};m.ek=function(){B(D("now-right"),"now")?V.a().k.f()==W.a().f()?this.da(j,i,i,j):this.da(l,i,i,l):this.da(l,1)};function yf(a){var b=Math.ceil(a.Hb/a.Bh);rf(a,1,a.Gf);a.Ga+=a.Sk;Nd(a.b(),a.Ga);a.Hb++;a.Gf.add(new kd(0,0,0,0,a.L*b));a.Me=60*a.Hb*a.L}
m.rg=function(){if(P.a().Jc||this.pf){var a=V.a().k&&V.a().k.C||l,b=V.a().k&&V.a().k.f(),c=W.a().f(),d=1E3*W.a().ne(),e=Math.round((t()-this.O.getTime())/1E3*this.ca),d=c&&d?Math.round((c.time.getTime()+d-this.O.getTime())/1E3*this.ca):e;qf(this);Gd(this.bd,e);Gd(this.Ae,d);Q(this.Ae,!!c);C(this.bd,"go-live",!a&&!!b&&!!c&&b.id!=c.id&&45<Math.abs(d-e));C(this.Ae,"show",15<!Math.abs(d-e));C(this.Ae,"show-me",!a&&15<Math.abs(d-e));this.pf?(this.pf=l,this.da(j,i,l),y(this.b(),"animate")):this.oa||this.da()}};
m.da=function(a,b,c,d){this.fb=a!=i?!!a:this.fb;this.pi=a!=i?!!c:this.fb;this.va=this.fb?0:b?this.va+b:this.va;a=V.a().k.f(this.va);d=V.a().k.C?(d=Af(V.a(),j))&&d.f():d?a:this.fb?W.a().f():this.Z[0].f(this.va);this.Z[1]=d;this.fb||z(this.b(),"tick-along");if((this.fb||b)&&this.O){var c=W.a().f(),e=W.a().getCurrentTime(),a=(t()-this.O.getTime())/1E3*this.ca;for(c&&e&&Math.round((c.time.getTime()+e-this.O.getTime())/1E3*this.ca);a+F().width>this.Ga-(P.a().Zc?320:0);)yf(this);c=F().width-(P.a().Zc?320:
0);e=0;d&&(e=-(d.time.getTime()-this.O.getTime())/1E3*this.ca+5);if(!d||!b&&P.a().Jc&&a>-e+c-320)e=-S(this.bd).x+c-200,y(this.b(),"tick-along");e=Math.max(e,-T(this.b()).width+c);e=Math.min(e,0);Gd(this.b(),e);this.Ub.innerHTML="div#guide div.channels div.channel div.name{left:"+-e+"px !important}";if(!this.pi&&this.S){var g=S(this.S.b()).y-T(this.Ah).height,h=new te(this.X,[this.X.scrollLeft,this.X.scrollTop],[this.X.scrollLeft,g],100*this.Pg.length);R(this.n(),h,"end",s(function(){var a=this.X;
a.scrollTop!=g&&(a.scrollTop=g);this.qi=l},this));N(s(function(){this.qi=j;h.play()},this),100)}}b&&qf(this)};function uf(a){var b=Math.min(a.X.scrollHeight,190);Md(a.X,B(a.b(),"toggled")?b:a.od);Md(a.b(),B(a.b(),"collapsed")?a.od:b+a.od+19)};function Bf(a){return'\t<div class="channel"><div class="programs-container"><div class="programs"></div><div class="suggest"><div class="spinner">...</div><div class="select-program"><div class="select-header">SUGGESTION BOX <div class="close"></div></div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="Paste YouTube link"/><div class="page2"></div></div></div></div></div></div><div class="graph"></div><div class="viewers"></div><div class="name"><div class="text">'+
J(a.name)+'</div><div class="suggest-program"><div class="add-program button dark">+</div></div></div></div>'}function Cf(a){return'<div class="info"><div class="thumb'+(a.repeat?" repeat":"")+'" style="background-image:url('+J(a.Yf.media.Ta)+"); background-position: 50% "+J(a.Yf.media.ad)+'%"></div><div class="progress"></div><div class="title">'+J(a.Yf.media.name)+"</div>"+(a.Ve?'<div class="remove"></div><div class="repos"></div>':"")+"</div>"}
function Df(a){return'<div class="line"><div class="pic"><img src="'+J(a.j.P)+'"></div></div>'}function Ef(a){return'<div class="confirm-media"><div class="thumb" style="background-image:url('+J(a.Pk)+')"></div><div class="title">'+J(a.title)+'</div><div class="added">ADDED</div><div class="dark button">ADD</div></div>'};function Ff(){O.call(this)}u(Ff,O);ja(Ff);function Gf(a){this.id=a.id;this.P=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Hf(a){O.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.Kc=a.host_id;this.Ej="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.Ca=new Gf(a.publisher);this.jc=id(a.published+"Z");this.Ta="http://i.ytimg.com/vi/"+this.Kc+"/0.jpg";this.pg="http://i.ytimg.com/vi/"+this.Kc+"/1.jpg";this.Xl="http://i.ytimg.com/vi/"+this.Kc+"/2.jpg";this.Yl="http://i.ytimg.com/vi/"+this.Kc+"/3.jpg";
this.og=new Eb(480,360);this.ad=a.thumb_pos||37;this.xc=[];this.nd=a.comment_count||0;this.Kk=a.star_count||0;this.hc=[];this.Vi=a.collection_id;this.subscribe(If,this.Pi,this);this.subscribe(Jf,this.uk,this);this.subscribe(Kf,this.tc,this)}u(Hf,O);function Lf(a){return a.jc.getMonth()+1+"/"+a.jc.getDate()+"/"+a.jc.getYear()}var If="add-comment",Jf="remove-comment",Kf="watching";
Hf.prototype.Pi=function(a){this.xc.push(a);this.nd+=1;a.j.id!=X.a().p.id&&Ff.a().c("show","commented on "+this.name,a.text,a.j,a.j.P,"#media:"+this.id)};Hf.prototype.uk=function(a){Y("/_comment",je(),"POST","delete=true&id="+a);Sa(this.xc,function(b){return b.id==a});this.nd-=1};Hf.prototype.tc=function(a,b,c){c?Sa(this.hc,function(b){return b.id==a.id}):(this.hc.push(a),a.id!=X.a().p.id&&Ff.a().c("flash","is watching "+b.name,this.name,a,this.pg,"#info:"+this.id))};function Mf(){O.call(this);this.Kf={}}u(Mf,O);ja(Mf);function Nf(a,b){var c=a.get(b.id);c||(c=new Hf(b),a.add(c));return c}Mf.prototype.get=function(a){return a in this.Kf?this.Kf[a]:i};Mf.prototype.add=function(a){this.Kf[a.id]=a};function Of(a,b){O.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?Nf(Mf.a(),d.media):c;Mf.a().add(this.media);this.time=d?id(d.time+"Z"):new jd;this.async=d?d.async:j;this.seek=d?d.seek:k}u(Of,O);function Pf(a){return new Of(i,a)};function Qf(a){O.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.Xk=a.welcomed;this.Dl=a.demo;this.P=za("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.Te=a.access_level;this.tl=[];this.Ol=a.last_login?id(a.last_login+"Z"):k;this.Ul=a.session_count;this.vl=a.ave_session?a.ave_session.toFixed(2):k;this.Dk=a.show_guide!=i?a.show_guide:
j;this.Hk=a.show_sidebar!=i?a.show_sidebar:j;this.pk=a.post_facebook!=i?a.post_facebook:j;this.qk=a.post_twitter!=i?a.post_twitter:j}u(Qf,O);function pf(){return X.a().p.Te==Rf}var Rf=2;function Sf(a,b,c,d,e){this.id=a;this.j=b;this.U=c;this.ug=d;this.Td=e||k;this.Vh=[]}
Sf.prototype.end=function(a){this.Td=a;a=(this.Td.getTime()-this.ug.getTime())/1E3;Tf.a();var b=this.U,c=this.Vh.length;X.a().Pf.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",X.a().p.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",X.a().p.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",X.a().p.id,c]);_gaq.push(["_trackEvent","Users","Active",X.a().p.id,c]);_gaq.push(["_trackEvent","Users",b.id+"-time",X.a().p.id,a]);_gaq.push(["_trackEvent",
"Users",b.id+"-medias",X.a().p.id,c]);b.C||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))};function Uf(a){O.call(this);this.id=a.id;this.name=a.name;this.C=a.my_channel;this.Xi=a.current_media?Nf(Mf.a(),a.current_media):k;this.Al=a.current_seek;this.ka=[];this.Db={};this.T=a.current_program&&new Of(a.current_program);this.gd=[];this.queue=[];this.bb=0;this.Fd=a.online!=i?a.online:k;this.subscribe(Vf,this.Rb,this);this.subscribe(Wf,this.Qi,this);this.subscribe(Xf,this.tc,this);this.subscribe(Yf,this.yg,this)}u(Uf,O);m=Uf.prototype;
m.Rb=function(a){this.ka.push(a);this.Db[a.id]=a;a.time.getTime()+1E3*a.media.duration>this.bb&&(this.bb=a.time.getTime()+1E3*a.media.duration-12E4,Zc(Wc.a(),this.bb,s(this.If,this,this.bb)),Zc(Wc.a(),this.bb+6E4,s(this.If,this,this.bb+6E4)))};m.If=function(a){this.bb<=a&&Y("/_programming/"+this.id,s(function(a){a=Zf(a.target);a.length||Zc(Wc.a(),t()+1E3,s(this.If,this,t()+1E3));v(a,function(a){if(!this.Db[a.id]){var b=this.Db[a.id];b||(b=new Of(a),this.Rb(b));this.c(Vf,b)}},this)},this))};
m.Qi=function(a,b){b?(this.queue.push(a),Ff.a().c("flash","Added to queue",a.name,i,a.pg,"#info:"+a.id),$f(Tf.a(),a)):Sa(this.queue,function(b){return b.id==a.id},this)};m.tc=function(a){this.gd.push(a)};m.yg=function(a){var b=a.id in this.Db?this.Db[a.id]:i;b&&(b.time=id(a.time+"Z"))};
m.f=function(a){if(this.T&&this.T.async&&this.T.seek)return this.T;if(!this.ka.length)return k;var b=this.T;b||(b=this.ka[0],this.hb=0);if(a)return this.ka[this.hb+a];if(!this.C&&t()>=b.time.getTime()&&t()<b.time.getTime()+1E3*b.media.duration)return this.T=b;for(;t()>b.time.getTime()&&t()>=b.time.getTime()+1E3*b.media.duration;){this.T||(this.T=this.ka[0],this.hb=0);this.ka.length>=this.hb+1?(this.hb++,a=this.ka[this.hb],a=this.T=this.C?a&&a.seek?a:k:this.ka[this.hb]):a=k;if(this.C){if(a&&a.async&&
a.seek)return this.T=a;if(!a)if(this.queue.length){var a=this.queue.shift(),c=Pf(a);zf().c(Vf,c);Y("/_addprogram",je(),"POST","channel_id="+V.a().C.id+"&media_id="+a.id+"&now=true");a=c}else a=k}if(!a)break;b=a}return t()>=b.time.getTime()&&t()<b.time.getTime()+1E3*b.media.duration?this.T=b:k};var Vf="add-program",Wf="add-queue",Xf="add-viewer",Yf="update-program",tf="online";function ag(){K.call(this);this.ba=[];this.Gc=[];this.ie={};this.t=new ud(this);this.Ij=this.Jh=l;this.zg=j}u(ag,Rc);m=ag.prototype;m.wf=0;m.fg=ba("wf");
m.init=function(){if(!this.Jh){for(var a=0,b=this.ba.length;a<b;a++)for(var c=Wb(this.ba[a]),d=0,e=c.length;d<e;++d){var g=c[d],h=g,n=sa(h);this.ie[n]=g;this.ah&&(R(this.t,g,"mouseover",this.tj),R(this.t,g,"mouseout",this.sj));this.$g&&(R(this.t,h,"mouseover",this.rj),R(this.t,h,"mouseout",this.qj));this.Gc.push(g);R(this.t,h,["mousedown","touchstart"],this.wh)}this.Jh=j}};
m.l=function(){this.t.$();for(var a=0,b=this.ba.length;a<b;a++){var c=this.ba[a];c.Zg=i;c.Wb=i}this.ba.length=0;this.Gc.length=0;this.ie=k;bg(this);ag.d.l.call(this)};function cg(a,b){for(var c=0,d=a.ba.length;c<d;c++){var e=a.ba[c];e.Ec=Pd(e)}c=0;for(d=a.Gc.length;c<d;c++)e=a.Gc[c],e!=b&&(e.Ec=Pd(e))}
m.wh=function(a){var b=sa(a.currentTarget);this.o=this.ie[b];this.B=this.de(this.o);this.je&&y(this.B,this.je);this.B.style.margin="0";this.B.style.position="absolute";this.B.style.visibility="hidden";Pb(this.o).body.appendChild(this.B);b=Kd(this.o);Ld(this.B,b);this.m=new Yd(this.B);this.m.fg(this.wf);M(this.m,"start",this.rh,l,this);M(this.m,"end",this.qh,l,this);M(this.m,"earlycancel",this.ce,l,this);this.m.oc(a)};
m.rh=function(a){if(this.dispatchEvent(new dg("beforedragstart",this,a.Ze,this.o,k,k))){this.Ce=this.o.parentNode;this.Wg=this.Qf=Xb(this.o);this.jf=this.Ce;this.hf?y.apply(k,Ta(this.o,this.hf)):this.o.style.visibility="hidden";var b=T(this.B);this.B.nj=b.width/2;this.B.mj=b.height/2;this.B.style.visibility="";this.zg&&(this.o.style.display="none");cg(this,this.o);this.o.style.display="";M(this.m,"drag",this.uj,l,this);this.dispatchEvent(new dg("dragstart",this,a.Ze,this.o,this.B,this.m))}else a.preventDefault(),
this.ce()};
m.uj=function(a){var b=Kd(this.B),b=new Db(b.x+this.B.nj,b.y+this.B.mj),c;a:{c=k;if("none"!=this.o.style.display){c=this.o.parentNode;var d=Pd(c);if(eg(b,d))break a}for(var d=0,e=this.ba.length;d<e;d++){var g=this.ba[d];if(g!=c&&eg(b,g.Ec)){c=g;break a}}c=k}var h;if(c){c==k&&f(Error("getHoverNextItem_ called with null hoverList."));var n,q,d=l,e=i;switch(c.Zg){case 0:h=b.y;n=fg;q=gg;break;case 4:d=j;case 2:h=b.x;n=hg;q=gg;break;case 5:d=j;case 3:h=b.x,n=ig,q=jg}for(var g=k,w,A=Wb(c),L=0,na=A.length;L<
na;L++){var la=A[L];if(la!=this.o){var $b=n(la.Ec);if(d){var dd=kg(la,b);ga(e)||(e=dd);if(q(h,$b)&&(w==i||dd<e||dd==e&&(q($b,w)||$b==w)))g=la,w=$b;dd<e&&(e=dd)}else if(q(h,$b)&&(w==i||q($b,w)))g=la,w=$b}}h=g!==k&&kg(g,b)>e?k:g}else h=k;if(!this.dispatchEvent(new dg("beforedragmove",this,a,this.o,this.B,this.m,b,c,h)))return l;if(c)this.zg?(this.o.parentNode!=c||Xb(this.o)!=h)&&c.insertBefore(this.o,h):h&&(this.Wg=h),this.o.style.display="",c.Wb&&y(c,c.Wb);else{this.Ij||(this.o.style.display="none");
n=0;for(q=this.ba.length;n<q;n++)w=this.ba[n],w.Wb&&z(w,w.Wb)}c!=this.jf&&(this.jf=c,cg(this,this.o));this.dispatchEvent(new dg("dragmove",this,a,this.o,this.B,this.m,b,c,h));return l};m.ce=function(){bg(this);this.m=this.B=this.Qf=this.Ce=this.jf=this.o=k;for(var a=0,b=this.ba.length;a<b;a++)this.ba[a].Ec=k;a=0;for(b=this.Gc.length;a<b;a++)this.Gc[a].Ec=k};
m.qh=function(a){if(!this.dispatchEvent(new dg("beforedragend",this,a,this.o,this.B,this.m)))return l;this.zg||this.Ce.insertBefore(this.o,this.Wg);bg(this);this.dispatchEvent(new dg("dragend",this,a,this.o,this.B,this.m));this.ce();return j};function bg(a){tc(a.m);a.B&&H(a.B);a.o&&"none"==a.o.style.display&&(a.Ce.insertBefore(a.o,a.Qf),a.o.style.display="");a.hf&&a.o?z.apply(k,Ta(a.o,a.hf)):a.o&&(a.o.style.visibility="visible");for(var b=0,c=a.ba.length;b<c;b++){var d=a.ba[b];d.Wb&&z(d,d.Wb)}}
m.tj=function(a){y.apply(k,Ta(a.currentTarget,this.ah))};m.sj=function(a){z.apply(k,Ta(a.currentTarget,this.ah))};m.rj=function(a){y.apply(k,Ta(a.currentTarget,this.$g))};m.qj=function(a){z.apply(k,Ta(a.currentTarget,this.$g))};function eg(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function kg(a,b){var c=a.Ec;return Math.abs(b.y-(c.top+(c.height-1)/2))}function fg(a){return a.top+a.height-1}function hg(a){return a.left+a.width-1}function ig(a){return a.left||0}
function gg(a,b){return a<b}function jg(a,b){return a>b}m.de=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return G("table",k,G("tbody",k,b));case "td":case "th":return G("table",k,G("tbody",k,G("tr",k,b)));default:return b}};function dg(a,b,c,d,e,g,h,n,q){xc.call(this,a);this.El=b;this.event=c;this.Ha=d;this.bj=e;this.aj=g;this.bh=h;this.Nl=n;this.vb=q}u(dg,xc);function sf(a,b,c,d,e){U.call(this);this.q=a;this.ra=pf();this.vi=this.Zd=l;this.cd=b;this.Fb=c;this.O=e;this.Vl=d;this.Nb={};this.Vc={};this.sb=this.ra?new ag:k;this.cf=6;this.Fd=j}u(sf,U);m=sf.prototype;m.J=function(){this.e=I(Bf,{name:this.q.name,Cl:this.q.T,Me:this.cd})};
m.v=function(){sf.d.v.call(this);this.Kd=E("programs",this.b());this.Mb=E("viewers",this.b());this.$h=E("name",this.b());this.rf=E("graph",this.b());this.Sa=E("suggest",this.b());if(this.q.C)Q(this.Sa,l);else{this.pc=new lg("Paste YouTube link");this.pc.h(E("program-input",this.b()));var a=new Qe(this.pc.b()),b=new mg(this.pc.b()),c=new ng(s(this.Of,this),1E3);R(R(R(this.n(),b,og,s(this.Of,this)),a,"key",s(function(){c&&c.of()},this)),this.pc,"focus",s(this.Of,this))}this.ca=(T(this.Kd).width-200)/
this.cd;if(this.vi){var b=0,d=40;this.Hf=0;this.gh=[new Db(b,d)];this.Ll=Math.floor((t()-this.O.getTime())/1E3);for(a=0;a<this.cd/40;a++)this.gh.push(new Db(b+=40,d+=[-30,-5,15,10,25][Math.floor(5*Math.random())])),this.Hf=Math.max(this.Hf,d);this.kj=Raphael(this.rf,"100%",60).path("M0,0").attr({stroke:"none",opacity:0.8,fill:"#5d5d5d"})}Bd(this.$h,"background",Raphael.getColor());b=this.q.ka;for(a=0;a<b.length;a++)b[a].time.getTime()<this.Fb.getTime()&&b[a].time.getTime()+1E3*b[a].media.duration>
this.Fb.getTime()-1E3*this.cd?this.Rb(b[a]):b[a].time.getTime()>this.Fb.getTime()&&this.Rb(b[a]);if(this.ra){a=this.sb;b=this.Kd;b.Zg=2;b.Wb=i;a.ba.push(b);this.sb.je="drag";var e=this.b();this.sb.wh=function(a){var b=sa(a.currentTarget);this.o=this.ie[b];this.B=this.de(this.o);this.je&&y(this.B,this.je);this.B.style.margin="0";this.B.style.position="absolute";this.B.style.visibility="hidden";e.appendChild(this.B);b=Kd(this.o);Ld(this.B,b);this.m=new Yd(this.B);this.m.fg(this.wf);M(this.m,"start",
this.rh,l,this);M(this.m,"end",this.qh,l,this);M(this.m,"earlycancel",this.ce,l,this);this.m.oc(a)};this.sb.init();var g={},h,n,q,w,A,L=j;R(R(R(this.n(),this.sb,"beforedragstart",s(function(a){(!this.Zd||!a.event.shiftKey)&&a.preventDefault()},this)),this.sb,"dragmove",function(a){q=q||a.bh.x;w=w||S(a.Ha).x;A=A||(a.Ha.previousElementSibling!=i?a.Ha.previousElementSibling:Yb(a.Ha.previousSibling,l));L=L&&!!A;var b=A?T(A).width:i,c=A?S(A).x:i,d=a.bh.x-q;10>Math.abs(d)||(a.vb&&!g[a.vb.id]&&0<d?(b=T(a.Ha).width,
c=S(a.vb).x,h=c-b+T(a.vb).width,d=this.q.Db[a.vb.id],n=d.time.getTime()/1E3+d.media.duration-this.q.Db[a.Ha.id].media.duration,Gd(a.Ha,h),Gd(a.vb,c-b-12),g[a.vb.id]=j,b=a.vb,b.parentNode&&b.parentNode.insertBefore(a.Ha,b.nextSibling)):L&&(0>d&&w+d<c+b)&&(b=T(a.Ha).width,h=c=S(A).x,n=this.q.Db[A.id].time.getTime()/1E3,Gd(a.Ha,h),Gd(A,c+b+12),b=A.previousElementSibling!=i?A.previousElementSibling:Yb(A.previousSibling,l),A.parentNode&&A.parentNode.insertBefore(a.Ha,A),A=b,L=!!b))}),this.sb,"dragend",
function(a){n&&(Y("/admin/_rescheduleprogram",i,"POST","program="+a.bj.id+"&time="+n),this.sb.init(),n=i);g={};h=A=w=q=i;L=j})}for(var a=this.q.gd,b=this.tc,d=r(a)?a.split(""):a,na=a.length-1;0<=na;--na)na in d&&b.call(this,d[na],na,a);R(R(R(R(this.n(),this.Sa,"click",s(this.gk,this)),E("close",this.Sa),"click",s(function(a){a.preventDefault();a.stopPropagation();pg(this)},this)),E("name",this.b()),"click",s(function(){this.q.id!=V.a().k.id&&this.q.f()&&V.a().c(vf,this.q)},this)),Wc.a().md,Uc,s(this.update,
this));this.q.subscribe(Vf,this.Rb,this);this.q.subscribe(Xf,this.tc,this);this.q.subscribe("remove-viewer",this.vk,this);this.q.subscribe(Yf,this.yg,this);V.a().subscribe(wf,this.Ii,this);V.a().subscribe(vf,function(){this.cf=0;this.Ii()},this);P.a().subscribe("toggle-admin",ba("Zd"),this);this.update()};m.Ii=function(){if(this.u){z(this.Vc[this.u],"playing");var a=E("title",this.Vc[this.u]);a&&(a.style.left="")}this.u=k;if(a=V.a().k.f()){var b=this.Vc[a.id];b&&(this.u=a.id,y(b,"playing"))}};
m.Rb=function(a){var b=G("div",{"class":"program",id:a.id}),c=a.media.duration*this.ca,d=this.ra&&a.time.getTime()+1E3*a.media.duration>t();mc(b,Cf,{Yf:a,repeat:600<c,Ve:d});this.Vc[a.id]=b;var e=V.a().k.f();e&&a.id==e.id&&(y(b,"playing"),this.u=a.id);var g=E("thumb",b);N(function(){a.media.og.height<T(b).height+50?(y(g,"fix-height"),y(g,"pan-left")):y(g,"pan-top");h&&Nd(g,200);C(b,"stretched",360<a.media.og.height)});Nd(b,c-12);e=(a.time.getTime()-this.O.getTime())/1E3*this.ca;Gd(b,e);Gd(this.Sa,
e+c);this.Kd.appendChild(b);var h=120>c;C(b,"clipped",h);R(this.n(),b,"click",function(){Z.a().c(qg,a.media)});var n=B(b,"clipped")?200:T(b).width,c=E("title",b);T(c);R(R(this.n(),b,"mouseover",function(){P.a().Jc&&(this.Zd||Bd(g,"background-position-y",a.media.ad+10*Math.max(a.media.og.width/n,1)+"%"))}),b,"mouseout",function(){P.a().Jc&&(this.Zd||Bd(g,"background-position-y",a.media.ad+"%"))});d&&(d=new Yd(E("repos",b)),d.qd=function(a,b){var c=b-24;-50<=c&&50>=c&&Bd(g,"background-position-y",50-
c+"%")},R(R(this.n(),d,"end",function(){var b=(g.style[Ia("background-position")]||"").split(" ")[1],b=b.substring(0,b.length-1);a.media.ad=b;Y("/admin/_posthumb",je(),"POST","media="+a.media.id+"&pos="+b)}),E("remove",b),"click",s(this.dk,this,a,b)))};m.yg=function(a){var b=this.Vc[a.id],a=(id(a.time+"Z").getTime()-this.O.getTime())/1E3*this.ca;Gd(b,a)};m.dk=function(a,b){H(b);Y("/admin/_removeprogram",i,"POST","program="+a.id)};
m.tc=function(a){if(X.a().p.id!=a.j.id){var b=this.Nb[a.j.id];b||(b=G("div","viewer"),this.Mb.appendChild(b),this.Nb[a.j.id]=b);if(this.q.f()&&(!a.Td||a.Td.getTime()>this.O.getTime())){var c=I(Df,{j:a.j});b.appendChild(c);var d=Math.max(a.ug.getTime(),this.O.getTime()),b=(d-this.O.getTime())/1E3*this.ca+200,d=(t()-d)/1E3*this.ca;Nd(c,d);Gd(c,b);Bd(c,"background",a.j.color);R(this.n(),c,"click",function(){Z.a().c(rg,a.j)})}}};m.vk=function(a){this.Nb[a.id]&&(H(this.Nb[a.id]),Jb(this.Nb,a.id))};
m.gk=function(){if(!B(this.Sa,"show")){Qd(E("select-program",this.Sa),1);y(this.Sa,"show");var a=this.pc,b=sg(a);a.yf=j;a.b().focus();!b&&!tg&&(a.b().value=a.Na);a.b().select();tg||(a.t&&wd(a.t,a.b(),"click",a.sf),N(a.hj,10,a))}};function pg(a){z(a.Sa,"show");a.pc.Eb("");E("page2",a.b()).innerHTML=""}
m.Of=function(){var a=E("select-content",this.b()),b=E("page2",this.b());if(!Wb(b).length)try{var c;var d=this.pc.V(),e=ug.exec(d);e?c=new vg(e[1]||e[2],i,i):f(Error("failed to parse video id from youtube url: "+d));Y(za("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.Wk),s(function(d){d=wg(xg(d.target)).entry;mc(b,Ef,{title:d.title.$t,Pk:d.media$group.media$thumbnail[0].url});d=new nf("YES");d.h(E("button",b));(new te(a,[0,0],[160,0],300,yg)).play();R(this.n(),d,"action",s(this.fk,
this,c))},this))}catch(g){}};m.fk=function(a){Y("/_addprogram",s(function(a){a=Zf(a.target);a.id&&(a=new Of(a),this.q.c(Vf,a))},this),"POST","channel_id="+this.q.id+"&url="+a.ed);Qd(E("button",this.Sa),0);Q(E("added",this.Sa),j);Qd(E("select-program",this.Sa),0);N(s(function(){pg(this)},this),3E3)};
m.update=function(){!this.Fd&&this.q.ka.length&&this.q.c(tf,j);this.Fd=!!this.q.ka.length;C(this.b(),"offline",!this.Fd);if(this.q.ka.length){if(this.vi){var a="",b=T(this.Kd).width,c,d,e,g=(t()-this.O)/1E3,h=Xa(this.gh,0,Math.floor(g/40));v(h,function(n,q){c=n.x/this.cd*b;d=60-60*(n.y/this.Hf);q==h.length-1&&(c=g/this.cd*b);c+=6;q?(a+="L"+[c-30,e],a+="C"+[c-20,e,c-10,d,c,d]):a+="M"+[c,d]+"R";e=d},this);this.kj.attr({path:a+"L"+c+",60 10,60z"})}if(this.u&&0<this.cf){var n=this.Vc[this.u],q=S(n).x+
S(D("guide")).x,n=E("title",n);Gd(n,5>q?-q+10:5)}else this.cf++;Fb(this.q.gd,function(a){if(this.q.f()&&!a.Td&&this.Nb[a.j.id]){var b=Math.max(a.ug.getTime(),this.O.getTime());T(this.Kd);var c=Math.floor((t()-b)/1E3*this.ca),d=W.a().f();a.j.id==X.a().p.id&&d&&(c=Math.floor((d.time.getTime()+1E3*W.a().ne()-b)/1E3*this.ca));this.Nb[a.j.id].lastChild&&Nd(this.Nb[a.j.id].lastChild,c)}},this);q=T(this.rf).height;n=T(this.Mb).height;q-=n;0>q&&Bd(this.rf,"margin-top",-q+"px");Md(this.$h,T(this.b()).height-
1)}};function X(){O.call(this);this.Ji={};this.Pf=[]}u(X,O);ja(X);X.prototype.add=function(a){this.Ji[a.id]=a};X.prototype.get=function(a){return this.Ji[a]};function zg(a,b){var c=a.get(b.id);c||(c=new Qf(b),a.add(c));return c};function Ag(a){if("function"==typeof a.oe)return a.oe();if(r(a))return a.split("");if(oa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Gb(a)}function Bg(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(oa(a)||r(a))v(a,b,c);else{var d;if("function"==typeof a.qf)d=a.qf();else if("function"!=typeof a.oe)if(oa(a)||r(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Hb(a);else d=i;for(var e=Ag(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function Cg(a,b){this.zb={};this.N=[];var c=arguments.length;if(1<c){c%2&&f(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Cg?(c=a.qf(),d=a.oe()):(c=Hb(a),d=Gb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}m=Cg.prototype;m.R=0;m.Ki=0;m.oe=function(){Dg(this);for(var a=[],b=0;b<this.N.length;b++)a.push(this.zb[this.N[b]]);return a};m.qf=function(){Dg(this);return this.N.concat()};
m.clear=function(){this.zb={};this.Ki=this.R=this.N.length=0};function Dg(a){if(a.R!=a.N.length){for(var b=0,c=0;b<a.N.length;){var d=a.N[b];Object.prototype.hasOwnProperty.call(a.zb,d)&&(a.N[c++]=d);b++}a.N.length=c}if(a.R!=a.N.length){for(var e={},c=b=0;b<a.N.length;)d=a.N[b],Object.prototype.hasOwnProperty.call(e,d)||(a.N[c++]=d,e[d]=1),b++;a.N.length=c}}m.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.zb,a)?this.zb[a]:b};
m.set=function(a,b){Object.prototype.hasOwnProperty.call(this.zb,a)||(this.R++,this.N.push(a),this.Ki++);this.zb[a]=b};m.clone=function(){return new Cg(this)};function Eg(a){return Fg(a||arguments.callee.caller,[])}
function Fg(a,b){var c=[];if(Qa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Gg(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Gg(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Fg(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Gg(a){if(Hg[a])return Hg[a];a=String(a);if(!Hg[a]){var b=/function ([^\(]+)/.exec(a);Hg[a]=b?b[1]:"[Anonymous]"}return Hg[a]}var Hg={};function Ig(a,b,c,d,e){this.reset(a,b,c,d,e)}Ig.prototype.Bk=0;Ig.prototype.fh=k;Ig.prototype.eh=k;var Jg=0;Ig.prototype.reset=function(a,b,c,d,e){this.Bk="number"==typeof e?e:Jg++;this.Zl=d||t();this.Cd=a;this.Oj=b;this.Ql=c;delete this.fh;delete this.eh};Ig.prototype.si=ba("Cd");function Kg(a){this.Pj=a}Kg.prototype.I=k;Kg.prototype.Cd=k;Kg.prototype.Y=k;Kg.prototype.xh=k;function Lg(a,b){this.name=a;this.value=b}Lg.prototype.toString=ca("name");var Mg=new Lg("SEVERE",1E3),Ng=new Lg("WARNING",900),Og=new Lg("INFO",800),Pg=new Lg("CONFIG",700),Qg=new Lg("FINE",500);m=Kg.prototype;m.getParent=ca("I");m.mh=function(){this.Y||(this.Y={});return this.Y};m.si=ba("Cd");function Rg(a){return a.Cd?a.Cd:a.I?Rg(a.I):k}
m.log=function(a,b,c){if(a.value>=Rg(this).value){a=this.jj(a,b,c);b="log:"+a.Oj;p.console&&(p.console.timeStamp?p.console.timeStamp(b):p.console.markTimeline&&p.console.markTimeline(b));p.msWriteProfilerMark&&p.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.xh)for(var e=0,g=i;g=c.xh[e];e++)g(d);b=b.getParent()}}};
m.jj=function(a,b,c){var d=new Ig(a,String(b),this.Pj);if(c){d.fh=c;var e;var g=arguments.callee.caller;try{var h;var n=ha("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var q,w,A=l;try{q=c.lineNumber||c.Pl||"Not available"}catch(L){q="Not available",A=j}try{w=c.fileName||c.filename||c.sourceURL||n}catch(na){w="Not available",A=j}h=A||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:q,
fileName:w,stack:c.stack||"Not available"}:c}e="Message: "+Ba(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ba(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ba(Eg(g)+"-> ")}catch(la){e="Exception trying to expose exception! You win, we lose. "+la}d.eh=e}return d};function Sg(a,b){a.log(Mg,b,i)}m.info=function(a,b){this.log(Og,a,b)};function Tg(a,b){a.log(Qg,b,i)}var Ug={},Vg=k;
function Wg(a){Vg||(Vg=new Kg(""),Ug[""]=Vg,Vg.si(Pg));var b;if(!(b=Ug[a])){b=new Kg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Wg(a.substr(0,c));c.mh()[d]=b;b.I=c;Ug[a]=b}return b};function wg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}f(Error("Invalid JSON string: "+a))};function Xg(){}Xg.prototype.ae=k;var Yg;function Zg(){}u(Zg,Xg);function $g(a){return(a=ah(a))?new ActiveXObject(a):new XMLHttpRequest}function bh(a){var b={};ah(a)&&(b[0]=j,b[1]=j);return b}
function ah(a){if(!a.Ch&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Ch=d}catch(e){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Ch}Yg=new Zg;var ch=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function dh(a){K.call(this);this.headers=new Cg;this.hd=a||k}u(dh,Rc);dh.prototype.D=Wg("goog.net.XhrIo");var eh=/^https?$/i,fh=[];function Y(a,b,c,d){var e=new dh;fh.push(e);b&&M(e,"complete",b);M(e,"ready",xa(gh,e));e.send(a,c,d,i)}function gh(a){a.$();Ra(fh,a)}m=dh.prototype;m.qb=l;m.A=k;m.Se=k;m.Bd="";m.Ph="";m.zd=0;m.Ad="";m.mf=l;m.se=l;m.zf=l;m.ec=l;m.Ne=0;m.qc=k;m.Ge="";m.Yk=l;
m.send=function(a,b,c,d){this.A&&f(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Bd=a;this.Ad="";this.zd=0;this.Ph=b;this.mf=l;this.qb=j;this.A=this.hd?$g(this.hd):$g(Yg);this.Se=this.hd?this.hd.ae||(this.hd.ae=bh(this.hd)):Yg.ae||(Yg.ae=bh(Yg));this.A.onreadystatechange=s(this.ei,this);try{Tg(this.D,hh(this,"Opening Xhr")),this.zf=j,this.A.open(b,a,j),this.zf=l}catch(e){Tg(this.D,hh(this,"Error opening Xhr: "+e.message));ih(this,e);return}var a=c||
"",g=this.headers.clone();d&&Bg(d,function(a,b){g.set(b,a)});d=p.FormData&&a instanceof p.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.zb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Bg(g,function(a,b){this.A.setRequestHeader(b,a)},this);this.Ge&&(this.A.responseType=this.Ge);"withCredentials"in this.A&&(this.A.withCredentials=this.Yk);try{this.qc&&(Tc.clearTimeout(this.qc),this.qc=k),0<this.Ne&&(Tg(this.D,hh(this,"Will abort after "+
this.Ne+"ms if incomplete")),this.qc=Tc.setTimeout(s(this.Rk,this),this.Ne)),Tg(this.D,hh(this,"Sending request")),this.se=j,this.A.send(a),this.se=l}catch(h){Tg(this.D,hh(this,"Send error: "+h.message)),ih(this,h)}};m.Rk=function(){"undefined"!=typeof ea&&this.A&&(this.Ad="Timed out after "+this.Ne+"ms, aborting",this.zd=8,Tg(this.D,hh(this,this.Ad)),this.dispatchEvent("timeout"),this.abort(8))};function ih(a,b){a.qb=l;a.A&&(a.ec=j,a.A.abort(),a.ec=l);a.Ad=b;a.zd=5;jh(a);kh(a)}
function jh(a){a.mf||(a.mf=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}m.abort=function(a){this.A&&this.qb&&(Tg(this.D,hh(this,"Aborting")),this.qb=l,this.ec=j,this.A.abort(),this.ec=l,this.zd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kh(this))};m.l=function(){this.A&&(this.qb&&(this.qb=l,this.ec=j,this.A.abort(),this.ec=l),kh(this,j));dh.d.l.call(this)};m.ei=function(){!this.zf&&!this.se&&!this.ec?this.ck():lh(this)};m.ck=function(){lh(this)};
function lh(a){if(a.qb&&"undefined"!=typeof ea)if(a.Se[1]&&4==mh(a)&&2==nh(a))Tg(a.D,hh(a,"Local request error detected and ignored"));else if(a.se&&4==mh(a))Tc.setTimeout(s(a.ei,a),0);else if(a.dispatchEvent("readystatechange"),4==mh(a)){Tg(a.D,hh(a,"Request complete"));a.qb=l;try{var b=nh(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var e;if(e=0===b){var g=String(a.Bd).match(ch)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);e=!eh.test(g?g.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.zd=6;var n;try{n=2<mh(a)?a.A.statusText:""}catch(q){Tg(a.D,"Can not get status: "+q.message),n=""}a.Ad=n+" ["+nh(a)+"]";jh(a)}}finally{kh(a)}}}
function kh(a,b){if(a.A){var c=a.A,d=a.Se[0]?ia:k;a.A=k;a.Se=k;a.qc&&(Tc.clearTimeout(a.qc),a.qc=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){Sg(a.D,"Problem encountered resetting onreadystatechange: "+e.message)}}}m.fc=function(){return!!this.A};function mh(a){return a.A?a.A.readyState:0}function nh(a){try{return 2<mh(a)?a.A.status:-1}catch(b){return a.D.log(Ng,"Can not get status: "+b.message,i),-1}}function Zf(a){if(a.A)return wg(a.A.responseText)}
function xg(a){try{if(!a.A)return k;if("response"in a.A)return a.A.response;switch(a.Ge){case "":case "text":return a.A.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.A)return a.A.mozResponseArrayBuffer}Sg(a.D,"Response type "+a.Ge+" is not supported on this browser");return k}catch(b){return Tg(a.D,"Can not get response: "+b.message),k}}function hh(a,b){return b+" ["+a.Ph+" "+a.Bd+" "+nh(a)+"]"};function V(){O.call(this);this.wc=[];this.vc={};this.subscribe(vf,this.Tb,this);this.subscribe(wf,this.xg,this)}u(V,O);ja(V);V.prototype.get=function(a){return this.vc[a]};function Af(a,b){if(a.k&&a.k.f()&&(b&&!a.k.C||!b))return a.k;if(a.yd&&a.yd.f()&&(b&&!a.yd.C||!b))return a.yd;for(var c=k,d=k,e=0;!d&&e<a.wc.length;)d=(c=!a.wc[e].C?a.wc[e]:k)&&c.f(),e++;return c}V.prototype.Ff=function(a){Fb(a,s(function(a){var c=new Uf(a);this.wc.push(c);this.vc[a.id]=c;c.C&&(this.C=c)},this))};
V.prototype.Tb=function(a,b){if(a&&!this.k||a&&this.k&&this.k.id!=a.id){this.yd=this.k;this.k=a;this.xg(a.f());var c=a.f(),c=c&&!!c.media.hc.length;Y("/_changechannel",je(),"POST","channel="+a.id+"&friends="+c+(b?"&forced=true":""));Tf.a().Tb(a,this.yd)}};V.prototype.xg=function(a){if(this.k&&(this.u&&v(this.k.gd,function(a){Sa(this.u.media.hc,function(b){return b.id==a.j.id})},this),a)){this.u=a;var b=Ma(this.k.gd,function(a){return a.j});a.media.hc=Ta(a.media.hc,b)}};
function zf(){var a=V.a();if(!a.C){var b=X.a().p;a.C=new Uf({id:b.id,name:b.name.split(" ")[0]+"'s Channel"})}return a.C}var vf="change-channel",wf="next-program";function oh(){U.call(this);this.dc=new nf("Guide");ef(this.dc,16,j);this.cb=new nf("Sidebar");ef(this.cb,16,j);this.bg=new nf("Restart");this.Aa=new nf("Play");ef(this.Aa,16,j);this.Xd=new nf("Volume");ef(this.Xd,16,j);this.uc=new nf("Admin");ef(this.uc,16,j);this.te=new nf("Info")}u(oh,U);
oh.prototype.v=function(){oh.d.v.call(this);this.li=E("right",this.b());this.Pa=E("progress",this.b());this.ri=E("seek",this.b());this.ib=E("elapsed",this.b());this.Tk=E("title",this.b());this.dh=E("duration",this.b());this.Bl=E("current-time",this.b());De(this,this.dc);this.dc.h(D("guide-toggle"));df(this.dc,B(this.b(),"guide-toggled"));De(this,this.cb);this.cb.h(D("sidebar-toggle"));df(this.cb,B(this.b(),"sidebar-toggled"));De(this,this.bg);this.bg.h(E("restart",this.b()));De(this,this.Aa);this.Aa.h(E("play",
this.b()));De(this,this.Xd);this.Xd.h(E("volume",this.b()));De(this,this.te);this.te.h(D("info-toggle"));Q(this.te.b(),X.a().p.Te!=Rf);De(this,this.uc);this.uc.h(D("admin-toggle"));Q(this.uc.b(),X.a().p.Te==Rf);var a=new ng(this.Ok,1E3,this);this.resize();this.m=new Yd(this.ri);this.m.kb(l);var b=this.Pa,c=this.ib,d=this.dh;this.m.qd=function(a){if(0<a&&a<T(b).width){this.target.style.left=a+"px";c.style.width=a+"px";var a=a/T(b).width,g=W.a().f().media.duration;bc(d,ph(Math.round(a*g).toString())+
" / "+ph(g.toString()))}};R(R(R(R(R(R(R(R(R(R(R(R(this.n(),window,"resize",s(this.resize,this)),this.dc,"action",s(function(){a.of()},this)),this.cb,"action",s(function(a){a.stopPropagation();P.a().c($c,Ne(this.cb))},this)),this.bg,"action",s(function(a){a.stopPropagation();W.a().f()&&(a=Pf(W.a().f().media),W.a().c(xf,a),this.resize())},this)),this.Aa,"action",s(function(a){a.stopPropagation();P.a().c(bd,!Ne(this.Aa));this.resize()},this)),this.te,"action",s(function(a){a.stopPropagation();P.a().c("toggle-info")},
this)),this.Xd,"action",s(function(a){a.stopPropagation();P.a().c("mute",Ne(this.Xd))},this)),this.uc,"action",s(function(a){a.stopPropagation();P.a().c("toggle-admin",Ne(this.uc));this.resize()},this)),Wc.a().md,Uc,s(function(){if(W.a().f()){var a=W.a().getCurrentTime()/W.a().f().media.duration;0.988<a&&W.a().c(qh);V.a().k.C&&!B(this.Pa,"drag")&&(bc(this.dh,(W.a().getCurrentTime()?ph(W.a().getCurrentTime().toString())+" / ":"")+ph(W.a().f().media.duration.toString())),Nd(this.ib,this.Zf?a*this.Zf:
0))}},this)),this.Pa,"click",s(function(a){!B(this.Pa,"drag")&&W.a().f()&&(a=a.offsetX/T(this.Pa).width*W.a().f().media.duration,z(this.ib,"animate"),W.a().c(rh,a),N(s(function(){y(this.ib,"animate")},this),1E3))},this)),this.m,"beforedrag",s(function(){y(this.Pa,"drag")},this)),this.m,"end",s(function(a){this.ri.style.left="";a=a.left/T(this.Pa).width*W.a().f().media.duration;z(this.ib,"animate");W.a().c(rh,a);N(s(function(){z(this.Pa,"drag");y(this.ib,"animate")},this),1E3)},this));W.a().subscribe(xf,
function(a){sh(this,a,j)},this);W.a().subscribe(th,function(){this.m.kb(j);this.resize()},this);V.a().subscribe(vf,function(){z(this.b(),"window");N(s(this.resize,this),1E3)},this);V.a().subscribe(wf,function(){this.resize()},this);P.a().subscribe(ad,this.Oe,this);P.a().subscribe($c,function(a){df(this.cb,a);this.resize()},this);P.a().subscribe(bd,function(a){df(this.Aa,!a)},this);W.a().subscribe(th,function(){V.a().k.C&&W.a().f()&&this.resize()},this)};
function sh(a,b,c){bc(a.Tk,b.media.name.toUpperCase());c&&(z(a.ib,"animate"),Nd(a.ib,0),N(s(function(){y(this.ib,"animate")},a),1E3))}oh.prototype.Ok=function(){var a=Ne(this.dc);P.a().c(ad,a)};oh.prototype.Oe=function(a){df(this.dc,a);a&&(z(this.b(),"window"),z(this.b(),"collapsed"),N(s(this.resize,this)));N(s(function(){C(this.b(),"guide-toggled",a);a||(V.a().k&&V.a().k.f(),y(this.b(),"collapsed"),this.resize())},this),a?0:600)};
oh.prototype.resize=function(){Nd(this.b(),F().width-(Ne(this.cb)?320:0));if(V.a().k.C)W.a().f()&&(Q(this.Pa,j),sh(this,W.a().f()),this.Zf=F().width-(Ne(this.cb)?580:260)-50,Nd(this.Pa,this.Zf));else{Q(this.Pa,l);var a=D("guide"),b=E("current",a),b=Qb("program",b),a=(b=b[b.length-1])?S(a).x+S(b).x+T(b).width+210:9999999,a=Math.min(F().width-200,Math.max(100,F().width-a)),c=Math.max(100,Ne(this.cb)&&250<a?a-247:a+5),d=B(this.b(),"collapsed")&&!!b&&a<F().width-203;d&&this.yk!=c?(this.yk=c,Nd(this.li,
c)):this.li.style.width="";N(s(function(){C(this.b(),"window",d&&B(this.b(),"collapsed"))},this),400)}};function uh(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="note'+(a.xf?" pic":"")+'">'+(a.xf?'<div class="picture"><img class="image" src='+J(a.xf)+' style="display: none"/></div>':"")+'<div class="action">'+(a.j?J(a.j.name)+" ":"")+J(a.action)+'</div><div class="content">'+J(a.content)+'</div><div class="close"></div></div>'+(a.link?"</a>":"")};function vh(){U.call(this)}u(vh,U);vh.prototype.J=function(){this.e=G("div",{id:"notify"})};vh.prototype.H=function(a){vh.d.H.call(this,a);Ff.a().subscribe("flash",function(a,c,d,e,g){this.wi(j,a,c,d,e,g)},this);Ff.a().subscribe("show",function(a,c,d,e,g){this.wi(l,a,c,d,e,g)},this)};
vh.prototype.wi=function(a,b,c,d,e,g){var h=I(uh,{action:b,content:c,j:d,xf:e,link:g}),n=E("image",h);E("close",h);R(R(this.n(),h,"click",function(a){a.preventDefault();a.stopPropagation();H(h)}),n,"load",function(){Q(n,j);N(function(){n.style.marginLeft=-1*n.clientWidth/2+"px";n.style.marginTop=-1*n.clientHeight/2+"px"})});this.b().appendChild(h);var q=E("note",h);N(function(){y(q,"show");a?N(function(){z(q,"show");y(q,"fade-out");N(function(){H(h)},5100)},3E3):y(q,"dim")})};function W(){O.call(this);this.subscribe(xf,function(a){zf().c(Vf,a);Y("/_addprogram",je(),"POST","channel_id="+V.a().C.id+"&media_id="+a.media.id+"&async=true");$f(Tf.a(),a.media)},this);this.subscribe(th,function(a){Y("/_started",je(),"POST","media_id="+a.id)},this)}u(W,O);ja(W);W.prototype.hg=ba("w");W.prototype.f=ca("u");W.prototype.getCurrentTime=function(){return this.w&&this.w.getCurrentTime?this.w.getCurrentTime():0};
W.prototype.ne=function(){return this.w&&this.w.getCurrentTime?this.w.getCurrentTime():0};var qh="before-end",xf="play-async",th="playing",rh="seek";function wh(){ge.call(this);this.queue=[]}u(wh,ge);wh.prototype.add=function(a){Qa(this.queue,a)||(this.queue.push(a),M(a,"finish",this.Sj,l,this))};wh.prototype.l=function(){v(this.queue,function(a){a.$()});this.queue.length=0;wh.d.l.call(this)};function xh(){wh.call(this);this.Ia=0}u(xh,wh);
xh.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.i==he)this.Ia<this.queue.length&&this.queue[this.Ia].i!=he&&this.queue[this.Ia].stop(l),this.Ia=0,this.Bb();else if(1==this.i)return l;this.na("play");-1==this.i&&this.na("resume");this.startTime=t();this.td=k;this.i=1;this.queue[this.Ia].play(a);return j};
xh.prototype.stop=function(a){this.i=he;this.td=t();if(a)for(a=this.Ia;a<this.queue.length;++a){var b=this.queue[a];b.i==he&&b.play();b.i==he||b.stop(j)}else this.Ia<this.queue.length&&this.queue[this.Ia].stop(l);this.na("stop");this.Cb()};xh.prototype.Sj=function(){1==this.i&&(this.Ia++,this.Ia<this.queue.length?this.queue[this.Ia].play():(this.td=t(),this.i=he,this.na("finish"),this.Cb()))};function yh(a){return a*a*a}function yg(a){return 1-Math.pow(1-a,3)};function zh(){U.call(this)}u(zh,U);m=zh.prototype;
m.v=function(){zh.d.v.call(this);(this.u=(this.S=V.a().k)&&this.S.f())&&t();this.bc=E("fullscreen",this.b());var a=E("expand",this.b());Q(this.bc,this.Ai());this.Le=D("stagecover");this.Wh=E("message",this.Le);this.M=E("spinner",this.Le);Ah(this);this.u?Bh(this,this.u):W.a().c("no-media");R(R(R(R(R(R(R(R(R(this.n(),window,"resize",s(this.resize,this)),document,"webkitfullscreenchange",s(function(){Cb(this.bc,"full")},this)),document,"mozfullscreenchange",s(function(){Cb(this.bc,"full")},this)),document,
"fullscreenchange",s(function(){Cb(this.bc,"full")},this)),this.bc,"click",s(function(a){if(B(this.bc,"full"))document.Si&&document.Si(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();else{var c=E("main");c.ki&&c.ki();c.webkitRequestFullScreen&&c.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);c.mozRequestFullScreen&&c.mozRequestFullScreen()}a.stopPropagation();a.preventDefault()},this)),this.b(),"dblclick",s(this.Ei,
this)),a,"click",s(this.Ei,this)),this.b(),"mousemove",s(function(a){var c=a.offsetX/this.wa,a=a.offsetY/this.Ga;if(0.7<c&&0.9>c&&0.7<a&&0.9>a&&(this.Jd==YT.PlayerState.PLAYING||this.Jd==YT.PlayerState.PAUSED))Q(this.Le,l),N(s(function(){Q(this.Le,j)},this),500)},this)),this.b(),"click",s(function(a){if(!(a.offsetX>T(this.b()).width/2&&a.offsetY>T(this.b()).height/2)&&this.w&&this.w.getPlayerState)switch(this.w.getPlayerState()){case YT.PlayerState.PLAYING:P.a().c(bd,l);break;case YT.PlayerState.PAUSED:P.a().c(bd,
j)}},this));V.a().subscribe(vf,this.Tb,this);V.a().subscribe(wf,function(a){this.u=a;Bh(this,a);Ah(this)},this);W.a().subscribe(xf,this.Uf,this);W.a().subscribe(rh,this.Ak,this);W.a().subscribe(qh,function(){Ah(this,j)},this);P.a().subscribe($c,function(a){this.resize(a)},this);P.a().subscribe(ad,function(){N(s(this.resize,this))},this);P.a().subscribe(bd,function(a){a?this.w.playVideo():this.w.pauseVideo();var a=E(a?"play":"pause",this.b()),c=new xh;c.add(new we(a,250,yg));c.add(new ve(a,250,yh));
c.play()},this);P.a().subscribe("mute",function(a){this.w&&(a?this.w.mute():this.w.unMute())},this);P.a().subscribe("restart",function(){this.w.seekTo(0)},this);this.resize()};m.Ai=function(){var a=E("main");return!(!a.ki&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};m.Ei=function(a){a.preventDefault();a.stopPropagation();Z.a();a=!B(D("sidebar"),"toggled");P.a().c($c,a);P.a().c(ad,a)};
function Bh(a,b){W.a().u=b;a.Kj!=b.id&&(Ff.a().c("flash","Now playing",b.media.name,i,b.media.pg,"#info:"+b.media.id),a.Kj=b.id);a.play(b.media)}
m.play=function(a,b){!this.w||!this.w.loadVideoById?(this.w=new YT.Player("ytplayer",{height:F().height-40,width:F().width,videoId:a.Kc,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque",origin:HOST_URL,enablejsapi:1},events:{onStateChange:s(this.mk,this),onReady:s(this.$j,this),onError:s(this.Zj,this)}}),W.a().hg(this.w)):(this.w.cueVideoById(a.Kc),N(s(function(){var c=b||0;!this.w.getPlayerState()&&4>c&&this.play(a,++c)},this),1E3))};
m.resize=function(){var a=D("ytplayer"),b=D("stagecover"),c=E("message",b),d=B(D("sidebar"),"toggled")?320:0;this.Ga=F().height-40;this.wa=F().width-d;Md(a,F().height-40);Nd(a,F().width-d);Md(b,F().height-40);Nd(b,F().width-d);a=T(c);Bd(c,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});C(this.bc,"full",this.Ai&&(document.fullScreen||document.webkitIsFullScreen||document.Sl))};m.Tb=function(a){if(a=a.f())this.u=a,Bh(this,a);Ah(this)};
m.Uf=function(a){this.u=a;Bh(this,a);Ah(this);Y("/_optin",je(),"POST","media_id="+this.u.media.id)};m.Ak=function(a){this.w.seekTo&&this.w.seekTo(a,j)};
m.mk=function(a){this.Jd=a.data;Ah(this);switch(a.data){case YT.PlayerState.CUED:a=this.u.async?this.u.seek:(t()-this.u.time.getTime())/1E3;this.w.seekTo(a);this.w.playVideo();P.a().c(bd,j);break;case YT.PlayerState.PLAYING:W.a().c(th,this.u.media);break;case YT.PlayerState.ENDED:var a=X.a().p.ge,b=this.u.media;a.Vh.push(b);a.U.C&&a.U.T&&(a.U.T.seek=k,a.U.T=k);Y("/_seen",je(),"POST","media_id="+b.id+"&session_id="+a.id+"&async="+a.U.C);(a=V.a().k.f())?V.a().c(wf,a):(W.a().u=k,V.a().c(vf,Af(V.a()),
j))}};m.$j=function(){N(s(function(){if(this.w&&(!this.w.getPlayerState||!this.w.getPlayerState()))Bh(this,this.u);else if(this.w.getPlayerState()){var a=this.u.async?this.u.seek:(t()-this.u.time.getTime())/1E3;this.w.seekTo(a);this.w.playVideo()}},this),1E3)};m.Zj=function(){W.a().c("no-media")};
function Ah(a,b){var c=D("stagecover"),d=a.u?W.a().getCurrentTime():0;!a.u||a.u&&d>a.u.media.duration?(W.a().c("no-media"),bc(a.Wh.firstChild,Ch),Q(a.M,l),y(c,"covered")):a.Jd!=YT.PlayerState.PLAYING&&a.Jd!=YT.PlayerState.PAUSED||b?(bc(a.Wh.firstChild,Dh),Q(a.M,j),y(c,"covered")):(Q(a.M,l),z(c,"covered"));Qd(c,a.Jd==YT.PlayerState.BUFFERING?0.9:1);a.resize()}var Ch="THIS CHANNEL IS CURRENTLY OFFLINE",Dh="LOADING STORY";function lg(a,b){U.call(this,b);this.Na=a||""}u(lg,U);lg.prototype.ab=k;var tg="placeholder"in document.createElement("input");m=lg.prototype;m.wd=l;m.J=function(){this.e=this.La().J("input",{type:"text"})};m.H=function(a){lg.d.H.call(this,a);this.Na||(this.Na=a.getAttribute("label")||"");var b;a:{var c=Pb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.wd=j,z(this.b(),this.jd));tg?this.b().placeholder=this.Na:this.b().setAttribute("aria-label",this.Na)};
m.v=function(){lg.d.v.call(this);var a=new ud(this);R(a,this.b(),"focus",this.sf);R(a,this.b(),"blur",this.pj);tg?this.t=a:(hb&&R(a,this.b(),["keypress","keydown","keyup"],this.vj),R(a,Pb(this.b())?Pb(this.b()).parentWindow||Pb(this.b()).defaultView:window,"load",this.Dj),this.t=a,Eh(this));Fh(this);this.b().Jj=this};m.$b=function(){lg.d.$b.call(this);this.t&&(this.t.$(),this.t=k);this.b().Jj=k};function Eh(a){!a.ij&&(a.t&&a.b().form)&&(R(a.t,a.b().form,"submit",a.yj),a.ij=j)}
m.l=function(){lg.d.l.call(this);this.t&&(this.t.$(),this.t=k)};m.jd="label-input-label";m.sf=function(){this.wd=j;z(this.b(),this.jd);if(!tg&&!sg(this)&&!this.yf){var a=this,b=function(){a.b().value=""};x?N(b,10):b()}};m.pj=function(){tg||(xd(this.t,this.b(),"click",this.sf),this.ab=k);this.wd=l;Fh(this)};m.vj=function(a){27==a.keyCode&&("keydown"==a.type?this.ab=this.b().value:"keypress"==a.type?this.b().value=this.ab:"keyup"==a.type&&(this.ab=k),a.preventDefault())};
m.yj=function(){sg(this)||(this.b().value="",N(this.oj,10,this))};m.oj=function(){sg(this)||(this.b().value=this.Na)};m.Dj=function(){Fh(this)};function sg(a){return!!a.b()&&""!=a.b().value&&a.b().value!=a.Na}m.clear=function(){this.b().value="";this.ab!=k&&(this.ab="")};m.reset=function(){sg(this)&&(this.clear(),Fh(this))};m.Eb=function(a){this.ab!=k&&(this.ab=a);this.b().value=a;Fh(this)};m.V=function(){return this.ab!=k?this.ab:sg(this)?this.b().value:""};
function Fh(a){tg?a.b().placeholder!=a.Na&&(a.b().placeholder=a.Na):(Eh(a),a.b().setAttribute("aria-label",a.Na));sg(a)?z(a.b(),a.jd):(!a.yf&&!a.wd&&y(a.b(),a.jd),tg||N(a.xk,10,a))}m.kb=function(a){this.b().disabled=!a;C(this.b(),this.jd+"-disabled",!a)};m.isEnabled=function(){return!this.b().disabled};m.hj=function(){this.yf=l};m.xk=function(){this.b()&&(!sg(this)&&!this.wd)&&(this.b().value=this.Na)};function Gh(a,b,c){K.call(this);this.yb=a;this.L=b;this.Ma=c;this.af=s(this.ik,this)}u(Gh,K);var ng=Gh;m=Gh.prototype;m.Ke=l;m.hi=0;m.ma=k;m.of=function(){!this.ma&&!this.hi?this.rd():this.Ke=j};m.stop=function(){this.ma&&(Tc.clearTimeout(this.ma),this.ma=k,this.Ke=l)};m.l=function(){Gh.d.l.call(this);this.stop()};m.ik=function(){this.ma=k;this.Ke&&!this.hi&&(this.Ke=l,this.rd())};m.rd=function(){this.ma=N(this.af,this.L);this.yb.call(this.Ma)};function Hh(a,b){K.call(this);this.yb=a;this.Ma=b;this.$a=new ie(s(this.hk,this),0,this)}u(Hh,K);m=Hh.prototype;m.L=0;m.cg=0;m.Hh=l;m.l=function(){this.$a.$();delete this.yb;delete this.Ma;Hh.d.l.call(this)};m.start=function(a,b){this.stop();this.Hh=l;var c=b||0;this.L=Math.max(a||0,0);this.cg=0>c?-1:t()+c;this.$a.start(0>c?this.L:Math.min(this.L,c))};m.stop=function(){this.$a.stop()};m.fc=function(){return this.$a.fc()};
m.hk=function(){if(this.yb.call(this.Ma))this.Hh=j;else if(0>this.cg)this.$a.start(this.L);else{var a=this.cg-t();0>=a||this.$a.start(Math.min(this.L,a))}};function mg(a){K.call(this);this.e=a;this.Ed=this.e.value;this.t=new ud(this);this.bb=t();ib||x||hb&&tb("1.9")?R(this.t,a,"paste",this.Dc):R(this.t,a,["keydown","blur","focus","mouseover","input"],this.wj);this.$a=new Hh(s(this.Qg,this))}u(mg,Rc);var og="after_paste";m=mg.prototype;m.i="init";m.D=Wg("goog.events.PasteHandler");m.l=function(){mg.d.l.call(this);this.t.$();this.t=k;this.$a.$();this.$a=k};
m.Qg=function(){if(this.Ed==this.e.value)return l;this.D.info("detected textchange after paste");this.dispatchEvent(og);return j};m.Dc=function(a){a=new Ac(a.ua);a.type="paste";this.dispatchEvent(a);N(function(){this.Qg()||this.$a.start(50,200)},0,this)};
m.wj=function(a){switch(this.i){case "init":switch(a.type){case "blur":this.i="init";break;case "focus":this.i="focused";break;case "mouseover":this.i="init";this.e.value!=this.Ed&&(this.D.info("paste by dragdrop while on init!"),this.Dc(a));break;default:Sg(this.D,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.bb+400;if(t()>b||"focus"==this.rk)this.D.info("paste by textchange while focused!"),this.Dc(a);break;case "blur":this.i="init";break;
case "keydown":this.D.info("key down ... looking for ctrl+v");if(bb&&gb&&0==a.keyCode||bb&&gb&&17==a.keyCode)break;this.i="typing";break;case "mouseover":this.e.value!=this.Ed&&(this.D.info("paste by dragdrop while focused!"),this.Dc(a));break;default:Sg(this.D,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.i="focused";break;case "blur":this.i="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.D.info("paste by ctrl+v while keypressed!"),
this.Dc(a);break;case "mouseover":this.e.value!=this.Ed&&(this.D.info("paste by dragdrop while keypressed!"),this.Dc(a));break;default:Sg(this.D,"unexpected event "+a.type+" during keypressed")}break;default:Sg(this.D,"invalid "+this.i+" state")}this.bb=t();this.Ed=this.e.value;this.D.info(a.type+" -> "+this.i);this.rk=a.type};function Z(){O.call(this)}u(Z,O);ja(Z);var qg="media-info",rg="profile";function Ih(a){return'<div class="info"><div class="picture"><img src="'+J(a.media.Ta)+'" class="thumb"><div class="publisher"><img src="'+J(a.media.Ca.P)+'"><div class="name">'+J(a.media.Ca.name)+'</div><div class="links"><div class="local"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><a target="_blank" href="'+a.media.Ej+'"><div class="host"></div></a></div></div><div class="title"><div class="text">'+J(a.media.name)+'</div></div><div class="scrollable ios-scroll"><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+
J(a.jc)+'</div></div><div class="description">'+a.description+'</div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button play"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="viewers" style="display: none"><div class="label">SEEN</div></div><div class="tweet-holder" style="display:none"><div class="label"><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><a class="conv-link">CONVERSATION</a></div><div class="no-comments" style="display:none">Start the conversation.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div></div>'}
function Jh(a){return'<div class="viewer"><img src="'+J(a.j.P)+'"></div>'}function Kh(a){return'<div class="tweet">'+(a.Lb.j?'<a href="#user:'+J(a.Lb.j.id)+'"><img src="'+J(a.Lb.P)+'"/></a>':'<img src="'+J(a.Lb.P)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+J(a.Lb.handle)+"/status/"+J(a.Lb.id)+'">'+J(a.Lb.handle)+"</a> "+a.text+'</div><div class="timestamp">'+J(a.timestamp)+"</div></div>"}
function Lh(a){return'<div class="comment'+(a.Xa.za?" reply":"")+'" id="'+J(a.prefix)+"-"+J(a.Xa.id)+'"><a href="#user:'+J(a.Xa.j.id)+'"><img src="'+J(a.Xa.j.P)+'"/></a><div class="text"><a class="username" href="#user:'+J(a.Xa.j.id)+'">'+J(a.Xa.j.name)+"</a> "+a.text+'</div><div class="timestamp">'+J(a.timestamp)+'</div><div class="comment-options">'+(a.gi?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div>'}
function Mh(){return'<div class="comment-input"><div class="comment-controls"><div class="comment-button tweet-toggle"><div class="icon"></div>tweet<div class="check"></div></div><div class="comment-button fb-toggle"><div class="icon"></div>post<div class="check"></div></div><div class="comment-button add-comment"><div class="return">&#8618;</div>add</div></div><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div></div>'}
function Nh(a){var b='<div class="activity'+(1<a.ga.length?" digest":"")+'">';if(1<a.ga.length){for(var b=b+('<div class="text"><span>'+J(a.ga.length)+" friends </span>"+(a.Gi?"watched":"are watching")+(a.U?' <a href="#channel:'+J(a.U.id)+'">'+J(a.U.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.ga,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.P)+'"/></div></a>');
b+="</div>"}return b+=(1==a.ga.length?'<a href="#user:'+J(a.ga[0].id)+'"><div class="picture" style="background:'+J(a.ga[0].color)+'"><img src="'+J(a.ga[0].P)+'"/></div></a><div class="text"><a class="user" href="#user:'+J(a.ga[0].id)+'">'+J(a.ga[0].name)+"</a> "+(a.Gi?"watched":"is watching")+(a.U?' <a href="#channel:'+J(a.U.id)+'">'+J(a.U.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function Oh(a){for(var b='<div class="comment activity'+(1<a.xc.length?" digest":"")+'">'+(1<a.xc.length?'<div class="text">'+(1==a.ga.length?'<a class="user" href="#user:'+J(a.ga[0].id)+'">'+J(a.ga[0].name)+' </a> discussed <a class="title" href="#info:'+J(a.media.id)+'">'+J(a.media.name)+"</a>.":"<span>"+J(a.ga.length)+' friends </span> discussed <a class="title" href="#info:'+J(a.media.id)+'"> '+J(a.media.name)+"</a>.")+"</div>":""),a=a.xc,c=a.length,d=0;d<c;d++)var e=a[d],b=b+('<div class="comment"><a href="#user:'+
J(e.j.id)+'"><div class="picture" style="background:'+J(e.j.color)+'"><img src="'+J(e.j.P)+'"/></div></a><div class="text"><a class="user" href="#user:'+J(e.j.id)+'">'+J(e.j.name)+'</a>  "'+J(e.text)+'"<div class="timestamp">'+J(e.tk)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function Ph(a){return'<div class="list-info"><div class="picture-cell" '+(a.Ta?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+J(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+J(a.Ta)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function Qh(a){return'<li class="'+J(a.className)+' tab"><div class="label">'+J(a.name)+"</div></li>"}
function Rh(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.Fh?'placeholder="'+J(a.Fh)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function Sh(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function Th(a){return'<div class="playlist"><div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function Uh(a){return'<div class="category button">'+J(a.name)+"</div>"}function Vh(a){return'<div class="publisher">'+(a.P?'<img src="'+J(a.P)+'"/>':"")+'<div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function Wh(a){return'<div class="channel '+(a.U.Fd?"on":"off")+'"><div class="title">'+J(a.U.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.U.Tc?'<div class="pending">'+J(a.U.Tc)+"</div>":"")+"</div>"}
function Xh(a){return'<div class="collection"><div class="title">'+J(a.df.name)+'</div><div class="controls">'+(a.df.Tc?'<div class="pending">'+J(a.df.Tc)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Yh(a){return'<div class="topic"><div class="title">'+J(a.Uk)+'</div><div class="controls">'+(a.Tc?'<div class="pending">'+J(a.Tc)+"</div>":"")+"</div></div>"}
function Zh(){return'<div class="tabbed activity"><ul class="tabs"><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul><div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function $h(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function ai(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.Ta)+"); background-position: 50% "+J(a.media.ad)+'%"></div><div class="list-play"></div><div class="title">'+J(a.media.name)+'</div></div></div><div class="publisher"><img src="'+J(a.media.Ca.P)+'"><div class="name">'+J(a.media.Ca.name)+'</div></div><div class="stats"><div class="comment-count"><div class="icon"></div>'+J(a.media.nd)+'</div><div class="star-count"><div class="icon"></div>'+
J(a.media.Kk)+"</div></div></div>"}
function bi(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.Ta)+"); background-position: 50% "+J(a.media.ad)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="published">'+J(a.jc)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+J(a.media.Ca.P)+'"><div class="name">'+J(a.media.Ca.name)+
'</div><div class="duration">'+J(a.media.duration)+' seconds</div></div><div class="description">'+J(a.media.description)+"</div></div>"};function ci(){K.call(this);this.xd=[];this.Nk=[];this.Md=[]}u(ci,Rc);m=ci.prototype;m.Lh=l;m.Mh=l;m.Af=l;m.ti=ba("Ie");m.init=function(){if(!this.Af){for(var a,b=0;a=this.xd[b];b++)di(this,a);this.Af=j}};function di(a,b){a.Lh&&(M(b.element,"mousedown",b.Yh,l,b),a.kg&&y(b.element,a.kg));a.Mh&&a.ng&&y(b.element,a.ng)}
m.oc=function(a,b){if(!this.ta)if(this.ta=b,this.dispatchEvent(new ei("dragstart",this,this.ta))==l)this.ta=k;else{var c=b.yc,d=this.de(c);this.$i&&y(d,this.$i);this.Fc=d;d=Pb(c);d.body.appendChild(this.Fc);var e=this.Fc,g=Kd(c),c=Ud(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=g.y+"px";this.m=new Yd(e);this.m.ti(this.Ie);M(this.m,"drag",this.Zh,l,this);M(this.m,"end",this.Zb,l,this);M(d.body,"selectstart",this.Bi);this.$c=[];for(d=
0;c=this.Nk[d];d++)for(var h,e=0;h=c.xd[e];e++)for(var g=c,n=[h.element],q=this.$c,w=0;w<n.length;w++){var A=n[w],L=Kd(A),na=T(A),L=new zd(L.y,L.x+na.width,L.y+na.height,L.x);q.push(new fi(L,g,h,A));gi(this,L)}this.mb||(this.mb=new zd(0,0,0,0));for(d=0;c=this.Md[d];d++)c.gf=[],c.mi=c.e.scrollLeft,c.ni=c.e.scrollTop,e=Kd(c.e),g=T(c.e),c.Q=new zd(e.y,e.x+g.width,e.y+g.height,e.x);for(d=0;g=this.$c[d];d++)for(e=0;c=this.Md[e];e++)ac(c.e,g.e)&&(c.gf.push(g),g.Ld=c);this.Pb=k;for(d=0;c=this.Md[d];d++)M(c.e,
"scroll",this.Tg,l,this);this.m.oc(a);a.preventDefault()}};
m.Zb=function(a){var b=a.Zi?k:this.Pb;if(b&&b.sa){var c=a.clientX,a=a.clientY,d=jc(Nb(this.Fc)),e=c+d.x,d=a+d.y,g;this.Qd&&(g=this.Qd(b.jb,b.Q,e,d));this.dispatchEvent(new ei("drag",this,this.ta,b.sa,b.jb,b.e,c,a,e,d));b.sa.dispatchEvent(new ei("drop",this,this.ta,b.sa,b.jb,b.e,c,a,e,d,g))}this.dispatchEvent(new ei("dragend",this,this.ta));Lc(this.m,"drag",this.Zh,l,this);Lc(this.m,"end",this.Zb,l,this);Lc(Pb(this.ta.yc).body,"selectstart",this.Bi);for(b=0;c=this.Md[b];b++)Lc(c.e,"scroll",this.Tg,
l,this),c.gf=[];this.m.$();H(this.Fc);delete this.ta;delete this.Fc;delete this.m;delete this.$c;delete this.Pb};
m.Zh=function(a){var b,c=jc(Nb(this.Fc));b=new Db(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.Pb,g;if(e){this.Qd&&e.sa&&(g=this.Qd(e.jb,e.Q,c,d));if(e.Q.contains(b)&&g==this.Dg)return;e.sa&&(this.dispatchEvent(new ei("dragout",this,this.ta,e.sa,e.jb,e.e)),e.sa.dispatchEvent(new ei("dragout",this,this.ta,e.sa,e.jb,e.e,i,i,i,i,this.Dg)));this.Dg=g;this.Pb=k}if(this.mb.contains(b)){a:{for(var h=0;e=this.$c[h];h++)if(e.Q.contains(b))if(e.Ld){if(e.Ld.Q.contains(b)){b=e;break a}}else{b=e;break a}b=
k}if((e=this.Pb=b)&&e.sa)this.Qd&&(g=this.Qd(e.jb,e.Q,c,d)),c=new ei("dragover",this,this.ta,e.sa,e.jb,e.e),c.Mk=g,this.dispatchEvent(c),e.sa.dispatchEvent(new ei("dragover",this,this.ta,e.sa,e.jb,e.e,a.clientX,a.clientY,i,i,g));else if(!e){this.pa||(this.pa=new fi(this.mb.clone()));a=this.pa.Q;a.top=this.mb.top;a.right=this.mb.right;a.bottom=this.mb.bottom;a.left=this.mb.left;for(g=0;e=this.$c[g];g++)b=e.Q,e.Ld&&(e=e.Ld.Q,b=new zd(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,
e.bottom),Math.max(b.left,e.left))),e=k,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),e!==k&&h!==k&&(Math.abs(e-c)>Math.abs(h-d)?h=k:e=k),e===k?h!==k&&(h<=d?a.top=h:a.bottom=h):e<=c?a.left=e:a.right=e;this.Pb=10<=(a.right-a.left)*(a.bottom-a.top)?this.pa:k}}};m.Bi=da(l);
m.Tg=function(a){for(var b=0,c;c=this.Md[b];b++)if(a.target==c.e){var d=c.ni-c.e.scrollTop,e=c.mi-c.e.scrollLeft;c.ni=c.e.scrollTop;c.mi=c.e.scrollLeft;this.pa&&this.Pb==this.pa&&(0<d?this.pa.Q.top+=d:this.pa.Q.bottom+=d,0<e?this.pa.Q.left+=e:this.pa.Q.right+=e);for(var g=0,h;h=c.gf[g];g++)h=h.Q,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,gi(this,h)}this.m.fi(a)};
m.de=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return G("table",k,G("tbody",k,b));case "td":case "th":return G("table",k,G("tbody",k,G("tr",k,b)));default:return b}};function gi(a,b){if(1==a.$c.length)a.mb=new zd(b.top,b.right,b.bottom,b.left);else{var c=a.mb;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
m.l=function(){ci.d.l.call(this);for(var a,b=0;a=this.xd[b];b++)this.Lh&&(Lc(a.element,"mousedown",a.Yh,l,a),this.kg&&z(a.element,this.kg)),this.Mh&&this.ng&&z(a.element,this.ng),a.$();this.xd.length=0};function ei(a,b,c,d,e,g,h,n,q,w,A){xc.call(this,a);this.Fl=b;this.Gl=c;this.Hl=d;this.Jl=e;this.Il=g;this.clientX=h;this.clientY=n;this.cm=q;this.dm=w;this.Mk=A}u(ei,xc);ei.prototype.l=aa();
function hi(a,b){K.call(this);this.element=D(a);this.data=b;this.I=k;this.element||f(Error("Invalid argument"))}u(hi,Rc);m=hi.prototype;m.yc=k;m.Yh=function(a){if(Cc(a)){var b=a.target;b&&(M(b,"mousemove",this.Qc,l,this),M(b,"mouseout",this.Qc,l,this),M(b,"mouseup",this.Lf,l,this),this.yc=b,this.lg=new Db(a.clientX,a.clientY),a.preventDefault())}};m.Je=ba("I");
m.Qc=function(a){var b=this.yc,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.lg.x)+Math.abs(a.clientY-this.lg.y)||c)Lc(b,"mousemove",this.Qc,l,this),Lc(b,"mouseout",this.Qc,l,this),Lc(b,"mouseup",this.Lf,l,this),this.I.oc(a,this)};m.Lf=function(){var a=this.yc;Lc(a,"mousemove",this.Qc,l,this);Lc(a,"mouseout",this.Qc,l,this);Lc(a,"mouseup",this.Lf,l,this);delete this.lg;this.yc=k};function fi(a,b,c,d){this.Q=a;this.sa=b;this.jb=c;this.e=d}fi.prototype.Ld=k;function ii(){ci.call(this)}u(ii,ci);function ji(a,b){b.Je(a);a.xd.push(b);a.Af&&di(a,b)};function ki(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Ba(d),'="',Ba(b[d]),'" ');var e=c.join("");return a.replace(li,function(a,b,c,d,w){a=[Ba(b)];if(!c)return a[0];a.push("<a ",e,'href="');d?(a.push("mailto:"),c=d,d=""):(w||a.push("http://"),(d=c.match(mi))?(c=d[1],d=d[2]):d="");c=Ba(c);d=Ba(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var mi=/^(.*)([:;,\.?\[\]])$/,li=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function ni(){}u(ni,He);ja(ni);m=ni.prototype;m.Hc=aa();m.h=function(a,b){$e(a);a.gb&=-256;ef(a,32,l);ni.d.h.call(this,a,b);a.mc(b.value);return b};m.J=function(a){$e(a);a.gb&=-256;ef(a,32,l);return a.La().J("textarea",{"class":Je(this,a).join(" "),disabled:!a.isEnabled()},a.Za||"")};m.Sb=function(a){return"TEXTAREA"==a.tagName};m.nc=ia;m.Bf=function(a){return a.isEnabled()};m.Yc=ia;m.la=function(a,b,c){ni.d.la.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.Ua=ia;
m.mc=function(a,b){a&&(a.value=b)};m.ha=da("goog-textarea");function oi(a,b,c){Ze.call(this,a,b||ni.a(),c);$e(this);this.Xc(j);a||(this.Za="")}u(oi,Ze);var pi=hb||ib;m=oi.prototype;m.Lc=l;m.wa=0;m.Sh=0;m.Xh=0;m.yh=l;m.Be=l;m.eg=l;m.dg=l;function qi(a){return a.Gd.top+a.Gd.bottom+a.Lg.top+a.Lg.bottom}function ri(a){var b=a.Xh,c=a.b();b&&(c&&a.Be)&&(b-=qi(a));return b}function si(a){var b=a.Sh,c=a.b();b&&(c&&a.Be)&&(b-=qi(a));return b}m.Eb=function(a){this.mc(String(a))};m.V=function(){return this.b().value};m.mc=function(a){oi.d.mc.call(this,a);this.resize()};
m.kb=function(a){oi.d.kb.call(this,a);this.b().disabled=!a};m.resize=function(){this.b()&&this.pe()};m.v=function(){oi.d.v.call(this);var a=this.b();Bd(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.Gd=Ud(a,"padding");this.Lg=Xd(a);R(R(R(R(this.n(),a,"scroll",this.pe),a,"focus",this.pe),a,"keyup",this.pe),a,"mouseup",this.Nj);this.resize()};
function ti(a){if(!a.yh){var b=a.b().cloneNode(l);Bd(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.La().aa.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.eg=d>c;b.style.borderWidth="10px";a.dg=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Be=j);H(b);a.yh=j}var b=a.b(),c=a.b().scrollHeight,e=a.b(),d=e.offsetHeight-e.clientHeight;if(!a.eg)var g=a.Gd,d=d-(g.top+g.bottom);
a.dg||(e=Xd(e),d-=e.top+e.bottom);c+=0<d?d:0;a.Be?c-=qi(a):(a.eg||(d=a.Gd,c+=d.top+d.bottom),a.dg||(a=Xd(b),c+=a.top+a.bottom));return c}function ui(a,b){a.wa!=b&&(a.wa=b,a.b().style.height=b+"px")}function vi(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
m.pe=function(){if(!this.Lc){var a=l;this.Lc=j;var b=this.b(),c=this.wa;if(b.scrollHeight){var d=l,e=l,g=ti(this),h=b.offsetHeight,n=ri(this),q=si(this);n&&g<n?(ui(this,n),d=j):q&&g>q?(ui(this,q),b.style.overflowY="",e=j):h!=g?ui(this,g):this.wa||(this.wa=g);!d&&(!e&&pi)&&(a=j)}else vi(this);this.Lc=l;a&&(a=this.b(),this.Lc||(this.Lc=j,b=l,a.value||(a.value=" ",b=j),(e=a.scrollHeight)?(g=ti(this),d=ri(this),h=si(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.Gd,a.style.paddingBottom=h.bottom+1+"px",ti(this)==
g&&(a.style.paddingBottom=h.bottom+e+"px",a.scrollTop=0,e=ti(this)-e,e>=d?ui(this,e):ui(this,d)),a.style.paddingBottom=h.bottom+"px")):vi(this),b&&(a.value=""),this.Lc=l));c!=this.wa&&this.dispatchEvent("resize")}};m.Nj=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.wa&&(this.wa=this.Xh=b)};function wi(a,b,c,d,e,g,h){U.call(this);this.ra=pf();this.Wa=a;this.Ee=b;this.Vf=c;this.$f=d;this.bf=e.categories;this.ej=e.feed_categories;this.gj=e.feed_id;this.qg=g||k;this.Cc=h||k;this.kf=this.ra?new ii:k;this.ac={pending:l,all:l};this.eb=["pending","all","playlists","publishers","categories"]}u(wi,U);var xi="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),yi="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
m=wi.prototype;
m.H=function(a){wi.d.H.call(this,a);a.innerHTML="";a.scrollTop=0;mc(a,Sh);var b=E("pending-content",a);v(this.Ee,function(a){zi(this,b,a)},this);this.ok=E("playlists-content",a);v(this.Vf,this.Hg,this);this.sk=E("publishers-content",a);v(this.$f,this.Ig,this);this.Ui=E("categories-list",a);this.ih=E("feed-ids",a);this.fj=E("feed-cats",a);Y("/admin/_categories",s(function(a){a=Zf(a.target);v(a,function(a){Ai(this,a,"category",Qa(this.bf,a.id)||!this.bf.length)},this)},this));v(yi,function(a){Ai(this,a,
"feed_category",Qa(this.ej,a))},this);v(xi,function(a){Ai(this,a,"feed_id",this.gj==a)},this);this.resize()};
m.v=function(){wi.d.v.call(this);this.ja=E("input",this.b());var a=new Qe(this.ja),b=new mg(this.ja);this.Fa=E("tabs",this.b());this.F="pending";var c=l;R(R(R(R(this.n(),window,"resize",xa(N,s(this.resize,this))),a,"key",s(function(a){"13"==a.keyCode&&Bi(this,this.ja.value)},this)),b,og,s(function(){Bi(this,this.ja.value)},this)),this.Fa,"click",s(function(a){a=ic(a.target,"li");this.Ab(a)},this));R(this.n(),this.b(),"scroll",s(function(){if(this.Wa&&!c&&!this.ac[this.F]&&("pending"==this.F||"all"==
this.F)&&this.b().scrollTop+F().height>this.b().scrollHeight-this.b().clientTop){c=j;var a=E("spinner",this.b());Q(a,j);var b="pending"==this.F?this.Ee:this.We;Y("/admin/_media/collection/"+this.Wa+"?offset="+b.length+("pending"==this.F?"&pending=1":""),s(function(g){c=l;g=wg(xg(g.target)).medias;g=Ma(g,function(a){return new Hf(a)});Va(b,g);var h=E(this.F+"-content",this.b());v(g,function(a){zi(this,h,a)},this);this.ac[this.F]=!g.length;C(a,"finished",!g.length)},this))}},this));this.resize()};
m.resize=function(){Md(this.b(),F().height-40)};
function Bi(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.Wa&&c&&(a.ja.disabled="disabled",Y("admin/_add/collection/"+a.Wa,s(function(a){this.ja.value="";this.ja.disabled="";a=Zf(a.target);if("media"==a.type){var b=Nf(Mf.a(),a.data);Oa(this.Ee,function(a){return a.id==b.id})||(this.Ee.push(b),a=E("pending-content",this.b()),zi(this,a,b,j),this.Ab(Rb("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Oa(this.Vf,function(a){return a.id==
c.id})||(this.Vf.push(c),this.Hg(c),this.Ab(Rb("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Oa(this.$f,function(a){return a.id==h.id})&&(this.$f.push(h),this.Ig(h),this.Ab(Rb("li","publishers",i)[0]))}},a),"POST","url="+c))}
m.Ab=function(a){v(this.eb,function(b){C(this.Fa.parentElement,b,B(a,b));this.F=B(a,b)?b:this.F},this);this.Wa&&!this.We&&Y("/admin/_media/collection/"+this.Wa,s(function(a){a=wg(xg(a.target)).medias;this.We=Ma(a,function(a){return new Hf(a)});var c=E("all-content",this.b());v(this.We,function(a){zi(this,c,a)},this)},this))};
m.Hg=function(a){var b=I(Th,{name:a.name});this.ok.appendChild(b);var c=E("remove",b);R(this.n(),c,"click",function(){Y("admin/_remove/collection/"+this.Wa,s(function(){H(b)},this),"POST","pub_id="+a.id)})};m.Ig=function(a){var b=I(Vh,{name:a.name||a.id,P:a.picture});this.sk.appendChild(b);var c=E("remove",b);R(this.n(),c,"click",function(){Y("admin/_remove/collection/"+this.Wa,s(function(){H(b)},this),"POST","pub_id="+a.id)})};
function Ai(a,b,c,d){if("category"==c){var e=I(Uh,{name:b.name,id:b.id});a.Ui.appendChild(e)}else e=I(Uh,{name:b,id:b}),("feed_id"==c?a.ih:a.fj).appendChild(e);C(e,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;R(a.n(),e,"click",function(){"feed_id"==c&&v(Wb(this.ih),function(a){z(a,"enabled")});var a=Cb(e,"enabled");Y("admin/_edit/collection/"+this.Wa,je(),"POST",g+"&enabled="+a)})}
function zi(a,b,c,d){var e=I(bi,{media:c,jc:Lf(c)});d?Vb(b,e,0):b.appendChild(e);a.ra&&(b=a.kf,d=new hi(e,i),ji(b,d));var b=new Yd(E("repos",e)),g=E("thumb",e),d=E("play",e),h=E("approve",e),n=E("remove",e);b.qd=function(a,b){var c=b-24;-50<=c&&50>=c&&Bd(g,"background-position-y",50-c+"%")};R(R(R(R(a.n(),b,"end",function(){var a=(g.style[Ia("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);Y("/admin/_posthumb",je(),"POST","media="+c.id+"&pos="+a)}),d,"click",s(a.lk,a,c)),h,"click",
s(a.Kg,a,c,j,e)),n,"click",s(a.Kg,a,c,l,e));N(xa(y,e,"show"))}m.Kg=function(a,b,c){var d=a.Vi||this.Wa;Y("admin/_media/collection",s(function(){y(c,"remove");N(function(){H(c)},300);P.a();var b;P.a();b=fc(D("toggle-pending"));cd(0,b-1);Z.a().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};m.lk=function(a){a=Pf(a);W.a().c(xf,a)};function Ci(a){U.call(this);this.rb=a||k;this.dd=this.Og=this.Fi=this.Sg=0}u(Ci,U);m=Ci.prototype;m.J=function(){this.e=I(Rh)};m.H=function(a){Ci.d.H.call(this,a);var b=I(Rh,{Fh:this.rb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
m.v=function(){Ci.d.v.call(this);this.ja=E("input",this.b());var a=new Qe(this.ja);this.zk=E("scrollable",this.b());this.X=E("admin-channels",this.b());this.tg=E("topics",this.b());this.ee=E("collections",this.b());this.Rg=D("admin-col-list");this.Yd=D("admin-list");V.a();this.rb?(Y("/admin/_topicmedias/"+this.rb,s(function(a){a=Zf(a.target);Fb(a,function(a,b){Q(this.tg.parentElement,j);if(a&&a.length){var e=I(Yh,{Uk:b,Tc:a.length});this.tg.appendChild(e);M(e,"click",s(function(){a=Ma(a,function(a){return new Hf(a)});
(new wi("",a,[],[],[])).h(this.Yd);Z.a().c("navigate",this.Yd,l,b)},this));Z.a().subscribe("approved",function(b){if(Oa(a,function(a){return a.id==b.id})){var d=E("pending",e),n=fc(d)-1;0>=n?(H(e),tc(e)):bc(d,n)}},this)}},this);this.dd&&cd(P.a(),this.dd);this.Fi=T(this.tg.parentElement).height;this.resize()},this)),Y("/admin/_collections/"+this.rb,s(function(a){a=Zf(a.target);Q(this.ee.parentElement,!!a.length);v(a,this.Gg,this);this.dd&&cd(P.a(),this.dd);this.Sg=T(this.ee.parentElement).height;this.resize()},
this))):Y("/admin/_channels",s(function(a){a=Zf(a.target);Q(this.X.parentElement,!!a.length);v(a,this.Fg,this);this.Og=T(this.X.parentElement).height;this.resize()},this));R(this.n(),a,"key",s(function(a){"13"==a.keyCode&&this.ja.value&&(a=this.ja.value,this.ja.disabled="disabled",Y(this.rb?"/admin/_collections":"/admin/_channels",s(function(a){a=Zf(a.target);this.rb?(Q(this.ee.parentElement,!!a),this.Gg(a)):(Q(this.X.parentElement,!!a),this.Fg(a));this.ja.disabled="";this.ja.value=""},this),"POST",
"name="+a+(this.rb?"&cid="+this.rb:"")))},this))};
m.Fg=function(a){var b=new Uf(a),c=I(Wh,{U:b});this.X.appendChild(c);M(c,"click",s(function(a){B(a.target,"on")||B(a.target,"off")?(C(c,"on",B(a.target,"on")),C(c,"off",!B(a.target,"on")),Y("/admin/_channel/online/"+b.id,s(function(a){a.target.disabled="";a=Zf(a.target);C(c,"on",a.online);C(c,"off",!a.online)},this),"POST","online="+B(a.target,"on"))):B(a.target,"program")?Y("/admin/_program",je(),"POST","channel_id="+b.id):B(a.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):B(a.target,"remove")&&confirm("Remove "+b.name+"?")?(Q(c,l),Y("/admin/_channels/"+b.id,function(a){Zf(a.target).deleted?H(c):Q(c,j)},"DELETE")):((new Ci(b.id)).h(this.Rg),Z.a().c("navigate",this.Rg,l,b.name))},this))};
m.Gg=function(a){var b=I(Xh,{df:a});this.dd+=a.pending;this.ee.appendChild(b);M(b,"click",s(function(c){B(c.target,"remove")&&confirm("Remove "+a.name+"?")?(Q(b,l),Y("/admin/_collections/"+a.id,function(a){Zf(a.target).deleted?H(b):Q(b,j)},"DELETE")):B(c.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):Y("/admin/_media/collection/"+a.id+"?pending=1",s(function(b){var b=wg(xg(b.target)),c=b.medias,c=Ma(c,function(a){return new Hf(a)});
(new wi(a.id,c,b.playlists,b.publishers,b.categories)).h(this.Yd);Z.a().c("navigate",this.Yd,l,a.name)},this))},this));Z.a().subscribe("approved",function(c,d){if(d==a.id){var e=E("pending",b),g=fc(e)-1;0>=g?(H(b),tc(b)):bc(e,g)}},this)};m.resize=function(){Md(this.zk,this.Og+this.Fi+this.Sg+110)};function Di(){U.call(this);this.s=new oi("Add to the conversation.");this.nb=new nf("tweet");ef(this.nb,16,j);this.tb=new nf("post");ef(this.tb,16,j);var a=X.a().p;this.ke=a.pk;this.Qe=a.qk;this.rc=new nf("add");this.Sf=this.Ib=k}u(Di,U);m=Di.prototype;m.J=function(){this.e=I(Mh)};
m.v=function(){Di.d.v.call(this);this.s.h(E("comment-textarea",this.b()));var a=this.s;a.Sh=70;a.resize();a=new Qe(this.s.ub());this.fe=E("comment-controls",this.b());this.Hj=E("input-holder",this.b());De(this,this.nb);this.nb.h(E("tweet-toggle",this.b()));Y("/_twitter",s(function(a){a=Zf(a.target);this.Qe=this.Qe&&a.auth;this.Vk=a.auth_url;df(this.nb,this.Qe)},this));De(this,this.tb);this.tb.h(E("fb-toggle",this.b()));FB.api("/me/permissions",s(function(a){this.ke=this.ke&&!!a.data[0].publish_stream;
df(this.tb,this.ke)},this));De(this,this.rc);this.rc.h(E("add-comment",this.b()));this.rc.kb(l);R(R(R(R(R(R(this.n(),this.s.b(),"focus",s(function(){Gd(this.fe,0,0);this.dispatchEvent("focus")},this)),a,"key",s(function(a){this.rc.kb(this.s.V());"13"==a.keyCode?(a.preventDefault(),a.stopPropagation(),this.rc.setActive(this.s.V()),this.Sc(a)):"8"==a.keyCode&&(!this.V()&&this.Ib)&&Ei(this)},this)),this.s,"resize",s(function(a){this.dispatchEvent(a)},this)),this.tb,"action",s(this.Vj,this)),this.nb,
"action",s(this.kk,this)),this.rc,"action",s(this.Sc,this));Z.a().subscribe("reply-comment",this.wk,this);X.a().p.subscribe("twitter-auth",function(){df(this.nb,j)},this)};m.wk=function(a,b){this.Ib&&Ei(this);this.Sf=a.id.toString();var c=b.name.split(" ");this.Ib=G("div","token","@"+(c&&c.length?c[0]:b.name));this.Hj.appendChild(this.Ib);this.lb(j);this.s.b().style.paddingLeft=T(this.Ib).width+5+"px"};function Ei(a){a.Sf=k;H(a.Ib);a.Ib=k;a.s.b().style.paddingLeft=""}m.V=function(){return this.s.V()};
m.collapse=function(){return 25!=S(this.fe).y?(Gd(this.fe,0,25),j):l};m.ue=function(){return B(this.b(),"focused")};m.lb=function(a){a&&(this.s.b().focus(),N(s(function(){Gd(this.fe,0,0)},this)));return C(this.b(),"focused",a)};
m.Sc=function(){this.s.V()&&(this.dispatchEvent({type:"add",Mg:s(function(a){var b=Zf(a.target),a=new Fi(b.comment),c=b.tweet?new Gi(b.tweet):k;if(b=Nf(Mf.a(),b.comment.media))b.c(If,a),c&&b.c("add-tweet",c)},this),ud:Ne(this.tb),Pe:Ne(this.nb),text:this.s.V(),za:this.Sf}),this.s.Eb(""),Ei(this))};m.Vj=function(){!this.ke&&Ne(this.tb)&&(Q(D("overlay"),j),FB.login(s(function(a){Q(D("overlay"),l);this.dj=!!a.authResponse;df(this.tb,this.dj)},this),{scope:"publish_stream"}))};
m.kk=function(){if(!this.Qe&&Ne(this.nb)){df(this.nb,l);var a=window.open(this.Vk,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Fi(a){this.id=a.id;this.j=zg(X.a(),a.user);this.text=a.text;this.time=id(a.time+"Z");this.tk=Xc(this.time.getTime());this.za=a.parent_id;this.ji=[];v(a.replies,function(a){a=new Fi(a);this.ji.push(a)},this)};function Gi(a){this.id=a.id;this.j=a.user&&zg(X.a(),a.user);this.handle=a.handle;this.P=a.picture;this.text=a.text;this.time=id(a.time+"Z")};function Hi(a,b,c,d){U.call(this);this.g=a;this.Ya=b||[];this.Vb={};this.Re=!!c;this.pb=d||[];this.lc=this.wl=0}u(Hi,U);m=Hi.prototype;
m.H=function(a){Hi.d.H.call(this,a);a.innerHTML="";a.scrollTop=0;y(this.b(),"ios-scroll");this.M=G("div","loading",G("div","loading-spinner"));this.b().appendChild(this.M);Q(this.M,l);this.gc=G("div","no-comments","Start the conversation.");this.b().appendChild(this.gc);this.z=G("div","comments tweets");this.b().appendChild(this.z);R(R(this.n(),window,"resize",xa(N,s(this.resize,this))),this.z,"click",s(this.ef,this));this.Ya.length?(v(this.Ya,function(a){this.Qb(a)},this),this.Pc=T(this.z).height):
this.Re&&this.pb.length?(v(this.pb,function(a){this.sc(a)},this),this.Pc=T(this.z).height):Q(this.M,j);this.Re?(Y("/_tweet/"+this.g.id+"?offset="+this.pb.length,s(function(a){Q(this.M,l);a=wg(xg(a.target));a=Ma(a,function(a){a=new Gi(a);this.sc(a);return a},this);this.Pc=T(this.z).height;this.resize()},this)),this.g.subscribe("add-tweet",function(a){this.sc(a,j)},this)):(Y("/_comment/"+this.g.id+"?offset="+this.Ya.length,s(function(a){Q(this.M,l);a=wg(xg(a.target));a=Ma(a,function(a){a=new Fi(a);
this.Qb(a);return a},this);this.Pc=T(this.z).height;this.resize()},this)),this.g.subscribe(If,this.Qb,this),this.g.subscribe(Jf,this.ag,this));this.resize(41)};
m.sc=function(a,b){Q(this.gc,l);var c=ki(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(Kh,{Lb:a,text:c,timestamp:Xc(a.time.getTime())});Yc(Wc.a(),a.time,E("timestamp",c));b?Vb(this.z,c,0):this.z.appendChild(c);this.resize();Q(Zb(this.z),j)};
m.ef=function(a){var a=a.target,b=ic(a,k,"comment");if(b){var b=parseInt(b.id.split("-")[1],10),c=this.Vb[b];B(a,"reply")?Z.a().c("reply-comment",c.za?this.Vb[c.za]:c,c.j):B(a,"remove")&&this.g.c(Jf,b)}};m.ag=function(a){var a=D("listcomment-"+a),b=a.nextSibling;for(H(a);b&&B(b,"reply");)b=b.nextSibling,H(b)};
m.Qb=function(a){Q(this.gc,l);this.Vb[a.id]=a;var b=I(Lh,{prefix:"listcomment",Xa:a,text:ki(a.text),timestamp:Xc(a.time.getTime()),gi:a.j.id==X.a().p.id});Yc(Wc.a(),a.time,E("timestamp",b));this.z.appendChild(b);this.resize()};m.resize=function(a){this.lc=a||this.lc;Md(this.b(),F().height-42-this.lc-(ic(this.b(),k,"tabbed")?30:0))};function Ii(a,b,c,d){U.call(this);this.g=this.q=a;this.Ya=b||[];this.pb=c||[];this.Re=!!d;this.ff=new Hi(a,this.Ya);this.vg=new Hi(a,i,j,this.pb);this.s=new Di;this.eb=["comments","tweets"]}u(Ii,U);m=Ii.prototype;m.H=function(a){Ii.d.H.call(this,a);y(a,"conversation");y(a,"ios-scroll");mc(a,$h);y(a.firstChild,this.Re?"tweets":"comments")};
m.v=function(){this.Fa=E("tabs",this.b());this.ff.h(E("comments-content",this.b()));this.vg.h(E("tweets-content",this.b()));Be(this.s,this.b());R(R(R(R(R(R(R(this.n(),this.Fa,"click",s(function(a){a=ic(a.target,"li");this.Ab(a)},this)),this.s,"add",s(this.Sc,this)),this.s,"resize",s(function(){B(this.b().firstChild,"comments")?this.ff.resize(41):this.vg.resize(41)},this)),window,"click",s(function(a){!ic(a.target,k,"comment-input")&&!this.s.V()&&(this.s.lb(l),this.s.collapse())},this)),E("no-comments",
this.b()),"click",s(this.di,this)),Qb("no-comments",this.b())[1],"click",s(this.di,this)),window,"click",s(function(a){!ic(a.target,k,"comment-input")&&!this.s.V()&&(this.s.lb(l),this.s.collapse())},this));this.ff.resize(41);this.vg.resize(41)};m.di=function(a){a.preventDefault();a.stopPropagation();this.s.lb(j)};
m.Sc=function(a){Y("/_comment",a.Mg,"POST","media_id="+this.g.id+"&text="+a.text+"&tweet="+a.Pe);a.ud&&FB.api("/me/feed","POST",{message:a.text,name:this.g.name,link:"http://www.broken.tv",picture:this.g.Ta,caption:"on Broken.TV",description:this.g.description},aa());Tf.a().Xa(this.g.id,a.ud,a.Pe)};m.Ab=function(a){v(this.eb,function(b){C(this.Fa.parentElement,b,B(a,b));this.F=B(a,b)?b:this.F},this)};function Xc(a){var b=t(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return Ji(c,b,0);c=Math.floor(c/60);if(24>c)return Ji(c,b,1);c=new Date(t());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?Ji(c,b,2):""}
function Ji(a,b,c){return!b&&0==c?(b=ya("{$num} minute ago",{num:a}),c=ya("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=ya("in {$num} minute",{num:a}),c=ya("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=ya("{$num} hour ago",{num:a}),c=ya("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=ya("in {$num} hour",{num:a}),c=ya("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=ya("{$num} day ago",{num:a}),c=ya("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=ya("in {$num} day",{num:a}),c=ya("in {$num} days",
{num:a}),1==a?b:c):""};function Ki(a){U.call(this);this.g=this.q=a;this.zh=l;this.fd={};this.Ya=[];this.Vb={};this.Oh={};this.pb=[];this.s=new Di;this.Nd=new nf("Star");ef(this.Nd,16,j);this.hh=new nf("Facebook");this.Hi=new nf("Twitter");this.Aa=new nf("Play");this.Uc=new nf("Plus");ef(this.Uc,16,j);this.lc=0}u(Ki,U);m=Ki.prototype;m.J=function(){this.e=I(Ih,{media:this.g})};
m.H=function(a){Ki.d.H.call(this,a);var b=I(Ih,{media:this.g,description:this.g.description?ki(this.g.description):"",jc:Lf(this.g)});a.innerHTML=b.innerHTML};
m.v=function(){Ki.d.v.call(this);this.Mb=E("viewers",this.b());var a=E("picture",this.b()),b=E("scrollable",this.b()),c=E("publisher",this.b()),d=E("title",this.b());this.M=E("loading",this.b());var e=a.firstChild;this.$l=E("tweet-holder",this.b());this.ob=E("tweets",this.b());this.Yb=E("dot-nav",this.b());this.z=E("comments",this.b());this.gc=E("no-comments",this.b());Be(this.s,this.b());this.Nd.h(E("star",this.b()));this.hh.h(E("facebook",this.b()));this.Hi.h(E("twitter",this.b()));this.Aa.h(E("play",
this.b()));this.Uc.h(E("plus",this.b()));var g=new Sc(5E3);Y("/_info/"+this.g.id,s(function(a){a=wg(xg(a.target));a.description?(this.g.description=a.description,E("description",this.b()).innerHTML=ki(a.description)):(Q(E("desc-link",this.b()),l),Q(E("scrollable",this.b()),l));v(a.seen,function(a){var b=zg(X.a(),a);b.id!=X.a().p.id&&(Q(this.Mb,j),this.zh=j,b=I(Jh,{j:b}),this.Mb.appendChild(b),this.fd[a.id]=b,R(this.n(),b,"click",function(){Z.a().c(rg,a)}))},this);v(this.g.hc,this.Jg,this);var b=a.tweets;
this.pb=Ma(b,function(a){a=new Gi(a);this.sc(a);this.pd=this.Yb.firstChild;y(this.pd,"selected");return a},this);b.length&&g.start();a=a.comments;this.z&&Q(this.z.parentElement,j);Q(this.gc,!a.length);a=Ma(a,function(a){a=new Fi(a);a.za||this.Qb(a);return a},this);Q(this.M,l);this.resize()},this));R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(this.n(),window,"resize",xa(N,s(this.resize,this))),c,"click",s(function(){Z.a().c("media-list",this.g.Ca.name,i,"/admin/_media/publisher/"+this.g.Ca.id,this.g.Ca.P,
this.g.Ca.description,this.g.Ca.link,"/_publisher/"+this.g.Ca.id)},this)),this.Nd,"action",s(function(){Mf.a().c("star",this.g,Ne(this.Nd));Y("/_star",i,"POST","media_id="+this.g.id+(!Ne(this.Nd)?"&delete=1":""))},this)),this.hh,"action",s(this.Uj,this)),this.Hi,"action",s(this.jk,this)),this.Aa,"action",s(this.Yj,this)),this.Uc,"action",s(this.ak,this)),this.Uc.b(),"mousedown",s(this.bk,this)),this.s,"add",s(this.Sc,this)),this.gc,"click",s(function(a){a.preventDefault();a.stopPropagation();this.s.lb(j)},
this)),E("conv-link",this.b()),"click",s(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.g,this.Ya,this.pb)},this)),E("tweets-link",this.b()),"click",s(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.g,this.Ya,this.pb,j)},this)),this.s,"focus",s(function(){this.resize(25,j)},this)),this.s,"resize",s(function(a){this.resize(25+(a.target.wa-41))},this)),this.Yb,"click",s(function(a){B(a.target,"dot")&&(Li(this,a.target),g.stop())},this)),
g,Uc,s(function(){var a=this.pd&&Xb(this.pd)||E("dot",this.b());Li(this,a)},this)),window,"click",s(function(a){!ic(a.target,k,"comment-input")&&!this.s.V()&&(this.s.lb(l),this.s.collapse()&&this.resize(0))},this)),e,"load",function(){Q(e,j);N(function(){T(e).height<T(a).height+50&&y(e,"fix-height");T(e).width>2*T(a).width?y(e,"pan-left"):T(e).height>2*T(a).height&&y(e,"pan-top");e.style.marginTop=-T(e).height/2+"px";e.style.marginLeft=-T(e).width/2+"px"})}),b,"scroll",s(function(){var g=(120-b.scrollTop)/
100;Qd(c,Math.min(1,Math.max(g,0)));Qd(d,Math.min(1,Math.max(g,0)));Qd(e,Math.min(0.5,Math.max(g,0.1)));C(a,"scrolled",10<b.scrollTop)},this)),this.z,"scroll",s(this.oi,this)),this.z,"click",s(this.ef,this)),E("desc-link",this.b()),"click",s(function(){var c=Cb(a,"scrolled");(new te(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,c?170:0],300)).play()},this));this.g.subscribe(If,this.Qb,this);this.g.subscribe(Jf,this.ag,this);this.g.subscribe("add-tweet",function(a){this.sc(a,j)},this);this.g.subscribe(Kf,
this.Jg,this)};function Li(a,b){if(b){v(Wb(a.Yb),function(a){return z(a,"selected")});a.pd=b;y(a.pd,"selected");var c=Pa(Wb(a.Yb),function(a){return a==b});(new te(a.ob,[a.ob.scrollLeft,a.ob.scrollTop],[320*c,a.ob.scrollTop],200)).play();a.resize()}}
m.Sc=function(a){Y("/_comment",a.Mg,"POST","media_id="+this.g.id+"&text="+a.text+"&tweet="+a.Pe+"&facebook="+a.ud+(a.za?"&parent_id="+a.za:""));a.ud&&FB.api("/me/feed","POST",{message:a.text,name:this.g.name,link:this.g.link,picture:this.g.Ta,caption:"on XYLO",description:this.g.description},aa());Tf.a().Xa(this.g.id,a.ud,a.Pe)};
m.sc=function(a,b){var c=ki(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(Kh,{Lb:a,text:c,timestamp:Xc(a.time.getTime())}),d=G("div","dot");Yc(Wc.a(),a.time,E("timestamp",c));b?(Vb(this.ob,c,0),Vb(this.Yb,d,0),10<Wb(this.ob).length&&(H(this.ob.lastChild),H(this.Yb.lastChild),Li(this,d))):(this.ob.appendChild(c),
this.Yb.appendChild(d));this.resize();Q(Zb(this.ob),j)};m.Qb=function(a){this.Ya.push(a);this.Vb[a.id]=a;Q(this.gc,l);var b=I(Lh,{prefix:"infocomment",Xa:a,text:ki(a.text),timestamp:Xc(a.time.getTime()),gi:a.j.id==X.a().p.id});Yc(Wc.a(),a.time,E("timestamp",b));if(a.za){var c=this.Oh[a.za];c.parentNode&&c.parentNode.insertBefore(b,c.nextSibling)}else this.z.appendChild(b);this.Oh[a.za||a.id]=b;this.resize(this.s.ue()?25:0,j);v(a.ji,function(a){this.Qb(a)},this)};
m.Jg=function(a,b){b&&this.fd[a.id]&&z(this.fd[a.id],"online");if(a.id!=X.a().p.id){if(!this.fd[a.id]){var c=I(Jh,{j:a});this.fd[a.id]=c;Vb(this.Mb,c,1);R(this.n(),c,"click",function(){Z.a().c(rg,a)})}Q(this.Mb,j);bc(this.Mb.firstChild,"WATCHING"+(this.zh?" + SEEN":""));y(this.fd[a.id],"online")}};m.ef=function(a){var a=a.target,b=ic(a,k,"comment");if(b){var b=parseInt(b.id.split("-")[1],10),c=this.Vb[b];B(a,"reply")?Z.a().c("reply-comment",c.za?this.Vb[c.za]:c,c.j):B(a,"remove")&&this.g.c(Jf,b)}};
m.ag=function(a){var b=D("infocomment-"+a),c=b.nextSibling;H(b);for(Sa(this.Ya,function(b){return b.id==a});c&&B(c,"reply");)c=c.nextSibling,H(c)};m.oi=function(){C(this.z.parentElement,"top-grad",!!this.z.scrollTop);var a=this.z.style.maxHeight,a=a.substring(0,a.length-2),b=T(this.z).height;C(this.z.parentElement,"bottom-grad",this.z.scrollTop<this.z.scrollHeight-a-5&&b>=a)};
m.resize=function(a,b){this.lc=a!=i?a:this.lc;this.z&&this.z.parentElement&&(Bd(this.z,"max-height",F().height-S(this.z.parentElement).y-110-this.lc+"px"),this.oi());b&&N(s(function(){(new te(this.z,[this.z.scrollLeft,this.z.scrollTop],[this.z.scrollLeft,this.z.scrollHeight],400)).play()},this),0)};
m.Uj=function(){Q(D("overlay"),j);FB.ui({method:"feed",name:this.g.name,link:this.g.link,P:this.g.Ta,caption:"on XYLO",description:this.g.description},function(){Q(D("overlay"),l)});Mi(Tf.a(),this.g.id,j,l)};m.jk=function(){var a=window.open("https://twitter.com/share?url="+this.g.link+"&text=I'm watching "+this.g.name+" "+this.g.link,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();Mi(Tf.a(),this.g.id,l,j)};m.Yj=function(){var a=Pf(this.q);W.a().c(xf,a)};
m.bk=function(){if(!W.a().f()||!W.a().f().async)this.Aa.setActive(j),N(s(function(){this.Aa.setActive(l)},this),2E3)};m.ak=function(){if(!W.a().f()||!W.a().f().async){var a=Pf(this.q);W.a().c(xf,a);this.Aa.setActive(l);df(this.Uc,l)}else zf().c(Wf,this.q,Ne(this.Uc)),Ff.a().c("flash","Added to queue",this.g.name,i,this.g.Ta)};function Ni(a,b,c,d,e,g){U.call(this);this.ra=pf();this.Uh=a||k;this.ed=b||k;this.Jf={};this.qg=c||k;this.Cc=d||k;this.Yg=g||k;this.Lj=e||k;this.kf=this.ra?new ii:k;this.Pc=this.Dh=0}u(Ni,U);
Ni.prototype.H=function(a){Ni.d.H.call(this,a);a.innerHTML="";a.scrollTop=0;y(this.b(),"ios-scroll");(this.Cc||this.qg)&&Oi(this);!this.Cc&&this.Yg&&Y(this.Yg,s(function(a){a=Zf(a.target);a.description&&this.Dd?(E("description",this.Dd).innerHTML=ki(a.description),this.Dh=T(this.Dd).height,this.resize()):a.description&&Oi(this)},this));this.M=G("div","loading",G("div","loading-spinner"));this.b().appendChild(this.M);Q(this.M,l);B(this.b(),"starred")&&(this.Rc=G("div","no-comments","Stories you love will be here."),
this.b().appendChild(this.Rc));this.ye=G("div","medias");this.b().appendChild(this.ye);R(this.n(),window,"resize",xa(N,s(this.resize,this)));this.ed?(Q(this.M,j),Y(this.ed,s(function(a){Q(this.M,l);a=wg(xg(a.target));a=Ma(a,function(a){return new Hf(a)});v(a,this.Ue,this);this.Pc=T(this.ye).height;this.resize()},this))):this.Uh&&(v(this.Uh,this.Ue,this),this.Pc=T(this.ye).height,this.resize())};
Ni.prototype.Ue=function(a){this.Rc&&Q(this.Rc,l);var b=I(ai,{media:a}),c=E("preview",b);this.ye.appendChild(b);if(this.ra){var d=this.kf,e=new hi(b,i);ji(d,e)}R(R(this.n(),b,"click",s(function(){Z.a().c(qg,a)},this)),c,"click",s(function(b){b.stopPropagation();b=Pf(a);W.a().c(xf,b);Z.a().c(qg,a)},this));this.Jf[a.id]=b};Ni.prototype.resize=function(){Md(this.b(),F().height-40-(ic(this.b(),k,"tabbed")?30:0))};
function Oi(a){a.Dd=I(Ph,{Ta:a.qg,description:a.Cc?ki(a.Cc):"",link:a.Lj});a.b().appendChild(a.Dd);a.Dh=T(a.Dd).height;a.resize()};function Pi(a){U.call(this);this.Ag=this.q=a;this.eb=["activity","starred"]}u(Pi,U);Pi.prototype.H=function(a){Pi.d.H.call(this,a);y(a,"profile");y(a,"ios-scroll");mc(a,Zh)};
Pi.prototype.v=function(){this.Fa=E("tabs",this.b());Y("/_star/"+this.Ag.id,s(function(a){a=Zf(a.target);a=Ma(a,function(a){return new Hf(a)});this.Od=new Ni(a);this.Od.h(E("starred-content",this.b()))},this));Y("/_activity/"+this.Ag.id,s(function(a){a=Zf(a.target);this.mg=new Qi(a,this.Ag.id);this.mg.h(E("activity-content",this.b()))},this));R(this.n(),this.Fa,"click",s(function(a){a=ic(a.target,"li");this.Ab(a)},this));Mf.a().subscribe("star",function(a,b){if(b)this.Od.Ue(a);else{var c=this.Od,
d=c.Jf[a.id];d&&(tc(d),Jb(c.Jf,a.id))}},this)};Pi.prototype.Ab=function(a){v(this.eb,function(b){C(this.Fa.parentElement,b,B(a,b));this.F=B(a,b)?b:this.F},this)};function Qi(a,b){U.call(this);this.Oi=a;this.Ud=b||k;this.R=0;this.ac=l;this.jh=[];this.ld=[];this.Oc=[];this.Eg=[]}u(Qi,U);
Qi.prototype.H=function(a){Qi.d.H.call(this,a);a.innerHTML="";a.scrollTop=0;y(a,"stream");y(a,"ios-scroll");this.kd=G("div","activities");this.b().appendChild(this.kd);this.M=G("div","spinner");this.b().appendChild(this.M);Q(this.M,l);this.Rc=G("div","no-comments",this.Ud?"Your activity will appear here.":"Friends' activity will appear here.");this.b().appendChild(this.Rc);Ri(this,this.Oi);X.a().subscribe("new-activity",function(a){(this.Ud==a.user.id||!this.Ud&&a.user.id!=X.a().p.id)&&Si(this,a,
i,i,j)},this);R(R(this.n(),this.b(),"scroll",s(function(){!this.ac&&this.b().scrollTop+F().height>this.b().scrollHeight-60&&Ti(this)},this)),window,"resize",xa(N,s(this.resize,this)));this.resize()};function Ti(a){Q(a.M,j);Y("/_activity"+(a.Ud?"/"+a.Ud:"")+"?offset="+a.R,s(function(a){this.jh[String(a.target.Bd)]||(this.jh[String(a.target.Bd)]=j,a=Zf(a.target),this.ac=!a.length,C(this.M,"finished",this.ac),Q(this.M,this.ac),Ri(this,a))},a))}
function Ri(a,b){a.ld=[];a.Oc=[];v(b,function(a){this.R++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.ld?this.ld[a.channel_id]:[];b.push(a);this.ld[a.channel_id]=b;break;case "comment":a=a.comment,b=a.media.id in this.Oc?this.Oc[a.media.id]:[],b.push(a),this.Oc[a.media.id]=b}},a);Fb(a.ld,function(a){Si(this,i,a,"session")},a);Fb(a.Oc,function(a){Si(this,i,a,"comment")},a)}
function Si(a,b,c,d,e){Q(a.Rc,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],n=b?[zg(X.a(),b.user)]:[],q=b?id(b.time+"Z"):k;c&&v(c,function(a){Oa(n,function(b){return b.id==a.user.id})||n.push(zg(X.a(),a.user));var b=id((a.time||a.tune_in)+"Z");q=q&&q.getTime()>b.getTime()?q:b;"session"==g&&v(a.media,function(a){!this.Oc[a.id]&&!Oa(h,function(b){return b.id==a.id})&&h.push(a)},this)},a);switch(g){case "session":var d=b?b.session:c[0],w=V.a().get(d.channel_id),h=b?b.session.media:h,b=I(Nh,{ga:n,U:w,time:Xc(q.getTime()),
Gi:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[c[0].media],A=b?[new Fi(b.comment)]:[];c&&v(c,function(a){A.push(new Fi(a))});b=I(Oh,{xc:A.reverse(),ga:n,media:h[0]});break;default:return}if(h.length){Yc(Wc.a(),q,E("timestamp",b));d=Pa(a.Eg,function(a){return a.time<q.getTime()});Wa(a.Eg,d,0,{time:q,element:b});var L=E("medias",b);v(h,function(a){var b=new Hf(a),a=I(ai,{media:b}),c=E("preview",a);E("thumb",a);L.appendChild(a);R(R(this.n(),a,"click",function(){Z.a().c(qg,b)}),c,"click",
function(a){a.stopPropagation();a=Pf(b);W.a().c(xf,a);Z.a().c(qg,b)})},a);e?Vb(a.kd,b,0):c?Vb(a.kd,b,d):a.kd.appendChild(b);N(xa(y,b,"show"))}}Qi.prototype.resize=function(){var a=F().height-40-(ic(this.b(),k,"tabbed")?40:10);Md(this.b(),a);T(this.kd).height<a&&Ti(this)};function Ui(){U.call(this);this.ra=pf();this.Ri=new Ci;this.eb={};this.Gb=[];this.Wc=[]}u(Ui,U);m=Ui.prototype;
m.v=function(){Ui.d.v.call(this);this.Ug=D("sidebar-content");this.Th=D("media-list");this.Wf=D("profile");this.Vg=D("conversation");this.Jb=D("toolbar");this.Fa=E("tabs",this.b());var a=new Qe(document);v(Wb(this.Fa),function(a){var b=Bb(a)[0];this.eb[b]=a;this.Gb.push(b)},this);this.Nf();Y("/_activity",s(function(a){a=Zf(a.target);this.mg=new Qi(a);this.mg.h(D("stream"))},this));this.Od=new Pi(X.a().p);this.Od.h(D("my-profile"));this.qa?(this.K=this.qa.b(),this.F="info"):(this.K=D("stream"),this.F=
"stream");this.Wc=[this.K,""];y(this.K,"current");if(this.ra){this.Ri.h(D("admin"));var b=I(Qh,{name:"ADMIN",className:"admin"});this.Fa.appendChild(b);this.eb.admin=b;this.Gb.push("admin")}Vi(this);R(R(R(R(this.n(),E("back-button",this.Jb),"click",s(function(a){var b=this.Wc.shift();this.navigate(b[0],j,b[1]);Vi(this);a.stopPropagation()},this)),this.Fa,"click",s(function(a){var b=this.F,e=ic(a.target,"li"),g=Bb(e)[0];Wi(this,this.F,g);y(e,"selected");Gd(E("arrow",this.Jb),T(e).width/2+S(e).x);b!=
this.F&&a.stopPropagation()},this)),this.Jb,"click",s(function(a){((a=ic(a.target,"li"))&&Bb(a)[0]==this.F||!a)&&(new te(this.K,[this.K.scrollLeft,this.K.scrollTop],[this.K.scrollLeft,0],300)).play()},this)),a,"key",s(function(a){a.ctrlKey&&"68"==a.keyCode&&Cb(this.b(),"dark")},this));P.a().subscribe($c,function(a){C(this.b(),"toggled",a);N(s(function(){C(this.b(),"collapsed",!a)},this),!a?500:0)},this);Z.a().subscribe("navigate",this.navigate,this);Z.a().subscribe("conversation",this.Ck,this);Z.a().subscribe("media-list",
this.Fk,this);Z.a().subscribe(qg,this.Ek,this);Z.a().subscribe(rg,this.Gk,this);V.a().subscribe(wf,this.Nf,this);W.a().subscribe(xf,this.Nf,this);V.a().subscribe(vf,this.Tj,this);P.a().subscribe("toggle-admin",function(a){C(this.b(),"admin",a);a?(P.a().c($c,j),Wi(this,this.F,"admin")):"admin"==this.F&&Wi(this,"admin","info")},this)};m.Nf=function(a){if(a=a||V.a().k.f())if(this.zc=a.media,!this.qa||this.zc.id!=this.qa.q.id)tc(this.qa),this.qa=new Ki(this.zc),this.qa.h(D("info"))};
m.Tj=function(a){a=a||V.a().k;if((this.zc=a.f()&&a.f().media)&&(!this.qa||this.zc.id!=this.qa.q.id))tc(this.qa),this.qa=new Ki(this.zc),this.qa.h(D("info"))};
function Wi(a,b,c){var d=E(c,a.Ug);Ka(a.Gb,b);var e=Ka(a.Gb,c),g=(b=Ka(a.Gb,b)<e)?0:a.Gb.length-1,h=b?g<a.Gb.length:0<=g;for(g;h;g+=b?1:-1){var n=E(a.Gb[g],a.Ug);if(b&&g>e||!b&&g<e)Bd(n,{left:"",right:""});else if(b&&g<e||!b&&g>e)Bd(n,{left:b?"-300px":"",right:""});else if(g==e){Bd(n,{right:b?0:"",left:""});break}}a.F=c;Wa(a.Wc,0,0,[a.K,""]);z(a.K,"current");a.K=d;y(a.K,"current");Vi(a)}
m.navigate=function(a,b,c){if(a!=this.K){var d=B(this.K,"screen");b?(Bd(this.K,{left:"",right:0}),Bd(a,{right:"",left:0,width:""}),z(this.K,"current"),y(a,"current"),this.K=a):(Bd(this.K,{left:d?0:"",right:""}),Bd(a,{right:0,left:""}),b=[this.K,fc(E("back-title",this.Jb))],Wa(this.Wc,0,0,b),z(this.K,"current"),this.K=a,y(this.K,"current"));C(this.Jb,"back",B(this.K,"slide"));c&&bc(E("back-title",this.Jb),c)}};m.Ck=function(a,b,c,d){(new Ii(a,b,c,d)).h(this.Vg);Z.a().c("navigate",this.Vg,l,a.name)};
m.Fk=function(a,b,c,d,e,g,h){(new Ni(b,c,d,e,g,h)).h(this.Th);Z.a().c("navigate",this.Th,l,a,d,e)};m.Ek=function(a){if(this.qa&&a.id==this.qa.q.id){z(this.Jb,"back");for(a=this.Wc[0][0];a&&B(a,"slide");)a=this.Wc.shift();Wi(this,this.F,"info")}else{var b=D("media-info");(new Ki(a)).h(b);Z.a().c("navigate",b,l,a.name)}P.a().c($c,j)};m.Gk=function(a){if(!this.Xf||!(this.Xf.q.id==a.id&&this.K==this.Wf))this.Xf=new Pi(a),this.Xf.h(this.Wf),Z.a().c("navigate",this.Wf,l,a.name),P.a().c($c,j)};
function Vi(a){Gd(E("arrow",a.Jb),T(a.eb[a.F]).width/2+S(a.eb[a.F]).x)};function Xi(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="logo"></div></div><div id="guide" class="guide'+(a.nh?" toggled":" collapsed")+(a.sidebar?" sidebar-toggled":"")+
'"><div id="channels" class="channels"></div><div class="right-grad"></div><div class="header" id="header"><div class="times"><div id="now-left" class="left browse">&#9664;<span> NOW</span></div><div id="now-right" class="right browse"><span>NOW </span>&#x25B6;</div></div></div><div id="my-ticker" class="my-ticker" style="display:none"><div class="me" style="background:'+J(a.j.color)+";border-color:"+J(a.j.color)+';"><img src="'+J(a.j.P)+'"/></div></div><div id="ticker" class="ticker"><div id="go-live" class="go-live">GO LIVE</div></div></div><div id="controller" class="controller'+
(a.nh?" guide-toggled":" collapsed")+(a.sidebar?" sidebar-toggled":"")+'"><div class="background"></div><div class="left"><div id="guide-toggle" class="guide-toggle dark button">GUIDE</div><div class="controls"><div class="restart dark button"><div class="icon"></div></div><div class="play dark button"><div class="icon"></div></div><div class="volume dark button"><div class="icon"></div></div></div><div class="border"></div></div><div class="right"><div id="info-toggle" class="info-toggle dark button"><div class="icon"></div></div><div id="admin-toggle" class="admin-toggle dark button" style="display: none"><div class="icon"></div><div id="toggle-pending" class="pending" style="display:none"></div></div><div id="sidebar-toggle" class="sidebar-toggle dark button"><div class="icon"></div></div><div class="border"></div></div><div class="progress" style="display: none"><div class="elapsed animate"><div class="seek"></div></div><div class="title"></div><div class="current-time"></div><div class="duration"></div></div></div><div id="sidebar" class="'+
(a.sidebar?"toggled":"collapsed")+'"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM</div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="conversation" class="slide"></div>'+
(a.Ve?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="notify" class="notify"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'};function Tf(){}ja(Tf);_gaq=[];Tf.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};Tf.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",X.a().p.id])};
function $f(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",X.a().p.id])}Tf.prototype.Tb=function(a,b){a.C||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
Tf.prototype.Xa=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",X.a().p.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",X.a().p.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",X.a().p.id])};
function Mi(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",X.a().p.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",X.a().p.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",X.a().p.id]);Y("/_share",je(),"POST","facebook="+c+"&twitter="+d)}fa("_gaq",_gaq);function Yi(){O.call(this);this.Rh=l}u(Yi,O);ja(Yi);Yi.prototype.init=function(a){this.Ib=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=s(this.Xj,this);a.onclose=s(this.bi,this);window.onbeforeunload=s(this.bi,this);return this};
Yi.prototype.Xj=function(a){var b=wg(a.data);switch(b.type){case "viewer_change":var a=zg(X.a(),b.user),c=V.a().get(b.channel_id),d=id(b.time+"Z");a.ge&&a.ge.end(d);if(b.last_channel_id){var e=V.a().get(b.last_channel_id);e.c("remove-viewer",a);var g=e.f();g&&g.media.c(Kf,a,e,j)}c&&(d=new Sf(b.session_id,a,c,d),a.ge=d,c.c(Xf,d),(d=c.f())&&d.media.c(Kf,a,c));break;case "new_comment":a=new Fi(b.comment);if(a.j.id!=X.a().p.id&&(d=b.tweet?new Gi(b.tweet):k,e=Nf(Mf.a(),b.comment.media)))e.c(If,a),d&&e.c("add-tweet",
d);break;case "new_activity":X.a().c("new-activity",b.activity);break;case "update_programs":a=b.programs;c=V.a().get(b.channel_id);v(a,function(a){c.c(Yf,a)},this);break;case "new_programs":v(b.programs,s(function(a){var a=new Of(a),c=V.a().get(b.channel_id);if(c&&(c.c(Vf,a),!V.a().k||!V.a().k.f()))V.a().c(vf,c),V.a().c(wf,a)},this));break;case "twitter_auth":X.a().p.c("twitter-auth")}};
Yi.prototype.bi=function(){if(!this.Rh){var a=V.a().k.C&&V.a().k.Xi&&Math.floor(W.a().getCurrentTime());Y("/_settings",je(),"POST","show_guide="+P.a().Jc+"&show_sidebar="+P.a().Zc+(a?"&current_seek="+a:""));this.Rh=j}};function Zi(){O.call(this);this.Tl=[]}u(Zi,O);ja(Zi);Zi.prototype.Ff=function(a){Fb(a,s(function(a,c){v(a,s(function(a){a=new Of(a);V.a().vc[c]&&V.a().vc[c].Rb(a)},this))},this))};var $i=l;function aj(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var bj=navigator.plugins["Shockwave Flash"];bj&&($i=j,bj.description&&aj(bj.description));navigator.plugins["Shockwave Flash 2.0"]&&($i=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var cj=navigator.mimeTypes["application/x-shockwave-flash"];($i=cj&&cj.enabledPlugin)&&aj(cj.enabledPlugin.description)}else try{var dj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),$i=j;aj(dj.GetVariable("$version"))}catch(ej){try{dj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
$i=j}catch(fj){try{dj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),$i=j,aj(dj.GetVariable("$version"))}catch(gj){}}};function hj(a,b,c,d,e,g,h,n){this.ed=a;this.Ti=b;this.Cc=c;this.am=d;this.Rl=e;this.Kl=g;this.Ga=h;this.wa=n;this.Qk=[];this.bf=[];this.zl=[];this.Wl=[]}hj.prototype.lh=ca("Ti");hj.prototype.hg=function(a){this.w=a;return this};function ij(a){this.ed=a;this.Jk=k}function jj(a){this.ed=a;this.Jk=this.bm=k};function vg(a,b,c){hj.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.Wk=a;this.Qk=[new ij("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.hg(new jj("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}u(vg,hj);
var ug=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function kj(a){U.call(this);this.$k=IPAD||IPHONE?k:Yi.a().init(a);this.Wi=new oh;this.lj=new of;this.Ik=new Ui;this.w=new zh;this.Rj=new vh}u(kj,U);kj.prototype.H=function(a){kj.d.H.call(this,a);var b=I(Xi,{j:X.a().p,Ve:pf(),nh:X.a().p.Dk,sidebar:X.a().p.Hk});Vb(a,b,0)};
kj.prototype.v=function(){kj.d.v.call(this);this.Wi.h(D("controller"));this.lj.h(D("guide"));this.Ik.h(D("sidebar"));this.w.h(D("stage"));this.Rj.h(D("notify"));if(!X.a().p.Xk){X.a();var a=D("welcome");Q(a,j);R(this.n(),a,"click",function(){Q(a,l);Y("/_welcomed",je(),"POST")})}R(this.n(),document.body,"touchmove",function(a){ic(a.target,"div","ios-scroll")||a.preventDefault()});R(this.n(),window,"click",function(a){var c=ic(a.target,"a");if(c=c?c.href:k)if((c=c.match("#(.*):(.*)"))&&c.length)switch(a.preventDefault(),
a.stopPropagation(),c[1]){case "user":a=X.a().get(c[2]);Z.a().c(rg,a);break;case "channel":a=V.a().get(c[2]);V.a().c(vf,a);break;case "info":a=Mf.a().get(c[2]),Z.a().c(qg,a)}});P.a().subscribe("toggle-info",function(){var a=D("login"),c=D("static-content"),d=D("pages");z(a,"hide");y(a,"show");c.style.height=T(d).height+80+"px";lj(j)},this)};
function lj(a){var b=D("login"),c=D("static-content"),d=D("pages"),e=B(b,"app");C(b,"expanded",a);D("uvTab")&&C(D("uvTab"),"show",e&&a);a?(e?c.style.bottom=-T(d).height-80+"px":c.style.top=Math.max(10,F().height-280)+"px",a=e?Math.min(F().height-100,c.scrollHeight+80):Math.min(F().height-435,c.scrollHeight+190),!e||e&&!b.scrollTop?(e=new te(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),y(b,"scrolling"),e.play(),M(e,"end",function(){z(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",e?N(function(){z(b,"show")},200):c.className="")}
function mj(){var a=D("fb-login"),b=D("static-content"),c=D("login");y(a,"disabled");y(a,"spin");Y("/_session",function(a){if(200==nh(a.target)){var e=Zf(a.target);if(e.error)bc(D("error"),e.error),nj("error","Yikes...");else{a=function(){N(function(){y(c,"hide");N(function(){Q(D("homepage"),l);y(c,"app");y(b,"faq")},600)},600)};Vc(W.a(),"no-media",a);Vc(W.a(),th,a);var g=e.token,h=e.channels,n=e.programs,q=e.current_user,e=e.viewer_sessions;if(!Ib(q)){var w=X.a();w.p=zg(w,q)}V.a().Ff(h);Zi.a().Ff(n);
var h=V.a(),A=X.a();v(e,s(function(a){var b=zg(X.a(),a.user);A.add(b);var c=X.a();Oa(c.Pf,function(a){return a.id==b.id})||c.Pf.push(b);var c=this.vc[a.channel_id],d=id(a.tune_in+"Z"),e=a.tune_out?id(a.tune_out+"Z"):k,a=new Sf(a.id,b,c,d,e);b.ge=a;c&&(c.gd.push(a),(a=c.f())&&a.media.c(Kf,b,c))},h));h=V.a();h.k=h.vc[q.current_channel]||h.wc[0];h.k=Af(h)||h.k;h.k&&h.xg(h.k.f());Wc.a().init();(new kj(g)).h(document.body);Tf.a().login();g=document.createElement("script");g.type="text/javascript";g.async=
j;g.src=("https:"==document.location.protocol?"https://":"http://")+"widget.uservoice.com/WGHjF5nSR8jL1GxXyQNxWA.js";q=document.getElementsByTagName("script")[0];q.parentNode.insertBefore(g,q);(IPAD||IPHONE)&&a()}}else 500==nh(a.target)?nj("error","Opps, check back later"):nj("wait")},"POST")}function nj(a,b){var c=D("fb-login");if(a){var d=E("power",c);y(d,a)}b&&(d=E("waitlist",c),bc(d,b));z(c,"spin");y(c,"disabled");Q(c,j);y(c,"show");y(c,"waitlist")}
function ph(a){var b=parseInt(a,10),a=Math.floor(b/3600),c=Math.floor((b-3600*a)/60),b=b-3600*a-60*c;10>c&&(c=(a?"0":"")+c);10>b&&(b="0"+b);return(a?a+":":"")+(c?c+":":"")+b}
fa("brkn.Main.staticInit",function(){var a=D("fb-login"),b=D("homepage"),c=D("login"),d=D("static-content"),e=D("pages"),g=D("footer"),h=l;y(b,"hide");var n=G("img");n.src="/static/img/homepage.jpg";M(n,"load",function(){z(b,"hide");y(b,"show")});N(function(){Q(a,j);N(xa(y,a,"show"),400)},100);M(c,"click",function(a){"static-scrollable"==a.target.id&&(a=B(c,"app"),h=l,a?lj(h):(a=new te(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),M(a,"end",xa(lj,h))))});M(c,"scroll",function(){!B(c,
"scrolling")&&1>c.scrollTop&&(h=l,lj(h))});M(g,"click",function(a){var a=ic(a.target,k,"section"),b=B(c,"app");a&&(h=j,d.className=a.id,d.style.height=T(e).height+(b?80:220)+"px",lj(h))});M(window,"resize",xa(lj,h));Tf.a().init()});fa("brkn.Main.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)mj();else{var b=D("fb-login");M(b,"click",function(){y(b,"disabled");FB.login(function(a){a.authResponse?mj():z(b,"disabled")},{scope:"email"})})}})});