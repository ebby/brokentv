function e(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var n,ea=ea||{},p=this;function fa(a,b){var c=a.split("."),d=p;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&ha(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}
function ia(a){for(var a=a.split("."),b=p,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function ja(){}function la(a){a.a=function(){return a.Ig?a.Ig:a.Ig=new a}}
function ma(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return a!==i}function na(a){return"array"==ma(a)}function oa(a){var b=ma(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function pa(a){return"number"==typeof a}function qa(a){return"function"==ma(a)}function ra(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function sa(a){return a[ta]||(a[ta]=++ua)}
var ta="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ua=0;function va(a,b,c){return a.call.apply(a.bind,arguments)}function wa(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function s(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return s.apply(k,arguments)}function xa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var u=Date.now||function(){return+new Date};function ya(a,b){var c=b||{},d;for(d in c)var f=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),f);return a}
function v(a,b){function c(){}c.prototype=b.prototype;a.c=b.prototype;a.prototype=new c;a.prototype.constructor=a};function za(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Aa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ba(a){if(!Ca.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Da,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ea,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Fa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ga,"&quot;"));return a}var Da=/&/g,Ea=/</g,Fa=/>/g,Ga=/\"/g,Ca=/[&<>\"]/;
function Ha(a){var a=ha(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ia(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Ja=Array.prototype,Ka=Ja.indexOf?function(a,b,c){return Ja.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(r(a))return!r(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},w=Ja.forEach?function(a,b,c){Ja.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},La=Ja.filter?function(a,b,c){return Ja.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=
r(a)?a.split(""):a,m=0;m<d;m++)if(m in h){var q=h[m];b.call(c,q,m,a)&&(f[g++]=q)}return f},Ma=Ja.map?function(a,b,c){return Ja.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=r(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Na=Ja.every?function(a,b,c){return Ja.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return l;return j};
function Oa(a,b){var c=Pa(a,b,i);return 0>c?k:r(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function Qa(a,b){return 0<=Ka(a,b)}function Ra(a,b){var c=Ka(a,b);0<=c&&Ja.splice.call(a,c,1)}function Sa(a){return Ja.concat.apply(Ja,arguments)}function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ua(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(na(d)||(f=oa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,m=0;m<h;m++)a[g+m]=d[m];else a.push(d)}}function Va(a,b,c,d){Ja.splice.apply(a,Wa(arguments,1))}function Wa(a,b,c){return 2>=arguments.length?Ja.slice.call(a,b):Ja.slice.call(a,b,c)};var Xa,Ya,Za,$a,ab;function bb(){return p.navigator?p.navigator.userAgent:k}function cb(){return p.navigator}$a=Za=Ya=Xa=l;var db;if(db=bb()){var eb=cb();Xa=0==db.indexOf("Opera");Ya=!Xa&&-1!=db.indexOf("MSIE");Za=!Xa&&-1!=db.indexOf("WebKit");$a=!Xa&&!Za&&"Gecko"==eb.product}var fb=Xa,y=Ya,gb=$a,z=Za,hb=cb();ab=-1!=(hb&&hb.platform||"").indexOf("Mac");var ib=!!cb()&&-1!=(cb().appVersion||"").indexOf("X11"),jb;
a:{var kb="",lb;if(fb&&p.opera)var mb=p.opera.version,kb="function"==typeof mb?mb():mb;else if(gb?lb=/rv\:([^\);]+)(\)|;)/:y?lb=/MSIE\s+([^\);]+)(\)|;)/:z&&(lb=/WebKit\/(\S+)/),lb)var nb=lb.exec(bb()),kb=nb?nb[1]:"";if(y){var ob,pb=p.document;ob=pb?pb.documentMode:i;if(ob>parseFloat(kb)){jb=String(ob);break a}}jb=kb}var qb={};
function A(a){var b;if(!(b=qb[a])){b=0;for(var c=Aa(String(jb)).split("."),d=Aa(String(a)).split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var h=c[g]||"",m=d[g]||"",q=RegExp("(\\d*)(\\D*)","g"),t=RegExp("(\\d*)(\\D*)","g");do{var x=q.exec(h)||["","",""],E=t.exec(m)||["","",""];if(0==x[0].length&&0==E[0].length)break;b=((0==x[1].length?0:parseInt(x[1],10))<(0==E[1].length?0:parseInt(E[1],10))?-1:(0==x[1].length?0:parseInt(x[1],10))>(0==E[1].length?0:parseInt(E[1],10))?1:0)||((0==x[2].length)<
(0==E[2].length)?-1:(0==x[2].length)>(0==E[2].length)?1:0)||(x[2]<E[2]?-1:x[2]>E[2]?1:0)}while(0==b)}b=qb[a]=0<=b}return b}var rb={};function sb(a){return rb[a]||(rb[a]=y&&!!document.documentMode&&document.documentMode>=a)};var tb,ub=!y||sb(9),vb=!gb&&!y||y&&sb(9)||gb&&A("1.9.1"),wb=y&&!A("9"),xb=y||fb||z;function yb(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function B(a,b){for(var c=yb(a),d=Wa(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)Qa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==f}function C(a,b){var c=yb(a),d=Wa(arguments,1),f,g=d;f=La(c,function(a){return!Qa(g,a)});a.className=f.join(" ");return f.length==c.length-d.length}function D(a,b){return Qa(yb(a),b)}function F(a,b,c){c?B(a,b):C(a,b)}function zb(a,b){var c=!D(a,b);F(a,b,c);return c};function Ab(a,b){this.x=ha(a)?a:0;this.y=ha(b)?b:0}Ab.prototype.clone=function(){return new Ab(this.x,this.y)};function Bb(a,b){this.width=a;this.height=b}Bb.prototype.clone=function(){return new Bb(this.width,this.height)};Bb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Bb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Bb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Cb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Db(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Eb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Fb(a){for(var b in a)return l;return j}function Gb(a,b){b in a&&delete a[b]}function Hb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var Ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Jb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Ib.length;g++)c=Ib[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Kb(a){return a?new Lb(Mb(a)):tb||(tb=new Lb)}function G(a){return r(a)?document.getElementById(a):a}function Ob(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Pb("*",a,b)}function H(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Ob(a,b)[0])||k}
function Pb(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},f=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[f++]=h);d.length=f;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=f=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Qa(a.split(/\s+/),b)&&(d[f++]=h);d.length=f;return d}return c}
var Qb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function I(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Bb(a.clientWidth,a.clientHeight)}function J(a,b,c){return Rb(document,arguments)}
function Rb(a,b){var c=b[0],d=b[1];if(!ub&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var f={};Jb(f,d);delete f.type;d=f}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(r(d)?g.className=d:na(d)?B.apply(k,[g].concat(d)):Cb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Qb?g.setAttribute(Qb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(r(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(f=b[c],oa(f)&&!(ra(f)&&0<f.nodeType)){var h=w,m;a:{if((m=f)&&"number"==typeof m.length){if(ra(m)){m="function"==typeof m.item||"string"==typeof m.item;break a}if(qa(m)){m="function"==typeof m.item;break a}}m=l}h(m?Ta(f):f,d)}else d(f)}return g}function Sb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Tb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Ub(a){return vb&&a.children!=i?a.children:La(a.childNodes,function(a){return 1==a.nodeType})}function Vb(a){return a.nextElementSibling!=i?a.nextElementSibling:Wb(a.nextSibling,j)}function Wb(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function Xb(a){if(xb)return a.parentElement;a=a.parentNode;return ra(a)&&1==a.nodeType?a:k}
function Yb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Mb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Zb(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Sb(a),a.appendChild(Mb(a).createTextNode(b))}var $b={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ac={IMG:" ",BR:"\n"};function bc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,pa(a)&&0<=a&&32768>a):l}
function cc(a){if(wb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];dc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");wb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function ec(a){var b=[];dc(a,b,l);return b.join("")}
function dc(a,b,c){if(!(a.nodeName in $b))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in ac)b.push(ac[a.nodeName]);else for(a=a.firstChild;a;)dc(a,b,c),a=a.nextSibling}function fc(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||D(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Lb(a){this.T=a||p.document||document}n=Lb.prototype;n.za=Kb;
n.b=function(a){return r(a)?this.T.getElementById(a):a};n.F=function(a,b,c){return Rb(this.T,arguments)};n.createElement=function(a){return this.T.createElement(a)};n.createTextNode=function(a){return this.T.createTextNode(a)};function gc(a){var b=a.T,a=!z&&"CSS1Compat"==b.compatMode?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Ab(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.qg=Ub;
function hc(a,b){return b.firstElementChild!=i?b.firstElementChild:Wb(b.firstChild,j)}n.contains=Yb;y&&A(8);var ic={};function jc(a,b,c){a.innerHTML=b(c||ic,i,i)}function K(a,b){var c;a:if(c=(new Lb(i)||Kb()).createElement("DIV"),c.innerHTML=a(b||ic,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function L(a){return"object"===typeof a&&a&&0===a.kk?a.content:String(a).replace(kc,lc)}
var mc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function lc(a){return mc[a]}var kc=/[\x00\x22\x26\x27\x3c\x3e]/g;function M(){0!=nc&&(this.lk=Error().stack,oc[sa(this)]=this)}var nc=0,oc={};M.prototype.Fd=l;M.prototype.S=function(){if(!this.Fd&&(this.Fd=j,this.h(),0!=nc)){var a=sa(this);delete oc[a]}};M.prototype.h=function(){this.Yh&&pc.apply(k,this.Yh);if(this.eh)for(;this.eh.length;)this.eh.shift()()};function qc(a){a&&"function"==typeof a.S&&a.S()}function pc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];oa(d)?pc.apply(k,d):qc(d)}};var rc=!y||sb(9),sc=!y||sb(9),tc=y&&!A("9");!z||A("528");gb&&A("1.9b")||y&&A("8")||fb&&A("9.5")||z&&A("528");gb&&!A("8")||y&&A("9");function uc(a,b){this.type=a;this.currentTarget=this.target=b}n=uc.prototype;n.h=aa();n.S=aa();n.Nb=l;n.defaultPrevented=l;n.fe=j;n.stopPropagation=function(){this.Nb=j};n.preventDefault=function(){this.defaultPrevented=j;this.fe=l};function vc(a){a.preventDefault()};function wc(a){wc[" "](a);return a}wc[" "]=ja;function xc(a,b){a&&this.init(a,b)}v(xc,uc);var yc=[1,4,2];n=xc.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.df=l;n.na=k;
n.init=function(a,b){var c=this.type=a.type;uc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(gb){var f;a:{try{wc(d.nodeName);f=j;break a}catch(g){}f=l}f||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=z||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=z||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.df=ab?a.metaKey:a.ctrlKey;this.state=a.state;this.na=a;a.defaultPrevented&&this.preventDefault();delete this.Nb};function zc(a){return(rc?0==a.na.button:"click"==a.type?j:!!(a.na.button&yc[0]))&&!(z&&ab&&a.ctrlKey)}
n.stopPropagation=function(){xc.c.stopPropagation.call(this);this.na.stopPropagation?this.na.stopPropagation():this.na.cancelBubble=j};n.preventDefault=function(){xc.c.preventDefault.call(this);var a=this.na;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,tc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.h=aa();function Ac(){}var Bc=0;n=Ac.prototype;n.key=0;n.Pb=l;n.ve=l;n.init=function(a,b,c,d,f,g){qa(a)?this.Kg=j:a&&a.handleEvent&&qa(a.handleEvent)?this.Kg=l:e(Error("Invalid listener argument"));this.nc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.Qd=g;this.ve=l;this.key=++Bc;this.Pb=l};n.handleEvent=function(a){return this.Kg?this.nc.call(this.Qd||this.src,a):this.nc.handleEvent.call(this.nc,a)};var Cc={},Dc={},Ec={},Fc={};
function N(a,b,c,d,f){if(b){if(na(b)){for(var g=0;g<b.length;g++)N(a,b[g],c,d,f);return k}var d=!!d,h=Dc;b in h||(h[b]={L:0,sa:0});h=h[b];d in h||(h[d]={L:0,sa:0},h.L++);var h=h[d],m=sa(a),q;h.sa++;if(h[m]){q=h[m];for(g=0;g<q.length;g++)if(h=q[g],h.nc==c&&h.Qd==f){if(h.Pb)break;return q[g].key}}else q=h[m]=[],h.L++;var t=Gc,x=sc?function(a){return t.call(x.src,x.key,a)}:function(a){a=t.call(x.src,x.key,a);if(!a)return a},g=x;g.src=a;h=new Ac;h.init(c,g,a,b,d,f);c=h.key;g.key=c;q.push(h);Cc[c]=h;Ec[m]||
(Ec[m]=[]);Ec[m].push(h);a.addEventListener?(a==p||!a.bg)&&a.addEventListener(b,g,d):a.attachEvent(b in Fc?Fc[b]:Fc[b]="on"+b,g);return c}e(Error("Invalid event type"))}function Hc(a,b,c,d,f){if(na(b)){for(var g=0;g<b.length;g++)Hc(a,b[g],c,d,f);return k}a=N(a,b,c,d,f);Cc[a].ve=j;return a}function Ic(a,b,c,d,f){if(na(b))for(var g=0;g<b.length;g++)Ic(a,b[g],c,d,f);else if(d=!!d,a=Jc(a,b,d))for(g=0;g<a.length;g++)if(a[g].nc==c&&a[g].capture==d&&a[g].Qd==f){Kc(a[g].key);break}}
function Kc(a){if(!Cc[a])return l;var b=Cc[a];if(b.Pb)return l;var c=b.src,d=b.type,f=b.proxy,g=b.capture;c.removeEventListener?(c==p||!c.bg)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in Fc?Fc[d]:Fc[d]="on"+d,f);c=sa(c);Ec[c]&&(f=Ec[c],Ra(f,b),0==f.length&&delete Ec[c]);b.Pb=j;if(b=Dc[d][g][c])b.dh=j,Lc(d,g,c,b);delete Cc[a];return j}
function Lc(a,b,c,d){if(!d.Wd&&d.dh){for(var f=0,g=0;f<d.length;f++)d[f].Pb?d[f].proxy.src=k:(f!=g&&(d[g]=d[f]),g++);d.length=g;d.dh=l;0==g&&(delete Dc[a][b][c],Dc[a][b].L--,0==Dc[a][b].L&&(delete Dc[a][b],Dc[a].L--),0==Dc[a].L&&delete Dc[a])}}function Jc(a,b,c){var d=Dc;return b in d&&(d=d[b],c in d&&(d=d[c],a=sa(a),d[a]))?d[a]:k}
function Mc(a,b,c,d,f){var g=1,b=sa(b);if(a[b]){a.sa--;a=a[b];a.Wd?a.Wd++:a.Wd=1;try{for(var h=a.length,m=0;m<h;m++){var q=a[m];q&&!q.Pb&&(g&=Nc(q,f)!==l)}}finally{a.Wd--,Lc(c,d,b,a)}}return Boolean(g)}function Nc(a,b){a.ve&&Kc(a.key);return a.handleEvent(b)}
function Gc(a,b){if(!Cc[a])return j;var c=Cc[a],d=c.type,f=Dc;if(!(d in f))return j;var f=f[d],g,h;if(!sc){g=b||ia("window.event");var m=j in f,q=l in f;if(m){if(0>g.keyCode||g.returnValue!=i)return j;a:{var t=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(x){t=j}if(t||g.returnValue==i)g.returnValue=j}}t=new xc;t.init(g,this);g=j;try{if(m){for(var E=[],ka=t.currentTarget;ka;ka=ka.parentNode)E.push(ka);h=f[j];h.sa=h.L;for(var ga=E.length-1;!t.Nb&&0<=ga&&h.sa;ga--)t.currentTarget=E[ga],g&=Mc(h,E[ga],
d,j,t);if(q){h=f[l];h.sa=h.L;for(ga=0;!t.Nb&&ga<E.length&&h.sa;ga++)t.currentTarget=E[ga],g&=Mc(h,E[ga],d,l,t)}}else g=Nc(c,t)}finally{E&&(E.length=0)}return g}d=new xc(b,this);return g=Nc(c,d)};function Pc(){M.call(this)}v(Pc,M);n=Pc.prototype;n.bg=j;n.be=k;n.qf=ba("be");n.addEventListener=function(a,b,c,d){N(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Ic(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=Dc;if(b in c){if(r(a))a=new uc(a,this);else if(a instanceof uc)a.target=a.target||this;else{var d=a,a=new uc(b,this);Jb(a,d)}var d=1,f,c=c[b],b=j in c,g;if(b){f=[];for(g=this;g;g=g.be)f.push(g);g=c[j];g.sa=g.L;for(var h=f.length-1;!a.Nb&&0<=h&&g.sa;h--)a.currentTarget=f[h],d&=Mc(g,f[h],a.type,j,a)&&a.fe!=l}if(l in c)if(g=c[l],g.sa=g.L,b)for(h=0;!a.Nb&&h<f.length&&g.sa;h++)a.currentTarget=f[h],d&=Mc(g,f[h],a.type,l,a)&&a.fe!=l;else for(f=this;!a.Nb&&f&&
g.sa;f=f.be)a.currentTarget=f,d&=Mc(g,f,a.type,l,a)&&a.fe!=l;a=Boolean(d)}else a=j;return a};n.h=function(){Pc.c.h.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Cb(Ec,function(d){for(var f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Kc(g.key),b++}});else{var d=sa(this);if(Ec[d])for(var d=Ec[d],f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Kc(g.key),b++}}this.be=k};function Qc(a,b){M.call(this);this.H=a||1;this.jd=b||Rc;this.te=s(this.Ej,this);this.Te=u()}v(Qc,Pc);Qc.prototype.enabled=l;var Rc=p.window;n=Qc.prototype;n.ga=k;n.Ej=function(){if(this.enabled){var a=u()-this.Te;0<a&&a<0.8*this.H?this.ga=this.jd.setTimeout(this.te,this.H-a):(this.dispatchEvent(Sc),this.enabled&&(this.ga=this.jd.setTimeout(this.te,this.H),this.Te=u()))}};n.start=function(){this.enabled=j;this.ga||(this.ga=this.jd.setTimeout(this.te,this.H),this.Te=u())};
n.stop=function(){this.enabled=l;this.ga&&(this.jd.clearTimeout(this.ga),this.ga=k)};n.h=function(){Qc.c.h.call(this);this.stop();delete this.jd};var Sc="tick";function O(a,b,c){qa(a)?c&&(a=s(a,c)):a&&"function"==typeof a.handleEvent?a=s(a.handleEvent,a):e(Error("Invalid listener argument"));return 2147483647<b?-1:Rc.setTimeout(a,b||0)};function P(){M.call(this);this.Fa=[];this.ub={}}v(P,M);n=P.prototype;n.Pg=1;n.de=0;n.subscribe=function(a,b,c){var d=this.ub[a];d||(d=this.ub[a]=[]);var f=this.Pg;this.Fa[f]=a;this.Fa[f+1]=b;this.Fa[f+2]=c;this.Pg=f+3;d.push(f);return f};function Tc(a,b,c){var d=a.subscribe(b,function(a){c.apply(i,arguments);this.Df(d)},a)}
n.Df=function(a){if(0!=this.de)return this.Xc||(this.Xc=[]),this.Xc.push(a),l;var b=this.Fa[a];if(b){var c=this.ub[b];c&&Ra(c,a);delete this.Fa[a];delete this.Fa[a+1];delete this.Fa[a+2]}return!!b};n.e=function(a,b){var c=this.ub[a];if(c){this.de++;for(var d=Wa(arguments,1),f=0,g=c.length;f<g;f++){var h=c[f];this.Fa[h+1].apply(this.Fa[h+2],d)}this.de--;if(this.Xc&&0==this.de)for(;c=this.Xc.pop();)this.Df(c)}};
n.clear=function(a){if(a){var b=this.ub[a];b&&(w(b,this.Df,this),delete this.ub[a])}else this.Fa.length=0,this.ub={}};n.h=function(){P.c.h.call(this);delete this.Fa;delete this.ub;delete this.Xc};function Uc(){P.call(this);this.yd=new Qc(1E3);this.Ah=new Qc(3E4);this.Bh=[]}v(Uc,P);la(Uc);Uc.prototype.init=function(){this.yd.start();this.Ah.start();N(this.Ah,Sc,s(function(){w(this.Bh,function(a){Zb(a.element,Vc(a.time.getTime()))},this)},this))};function Wc(a,b,c){86400>(u()-b.getTime())/1E3&&a.Bh.push({time:b,element:c})};function Q(){P.call(this);this.hj=j;this.cd=l;this.Od=j;this.subscribe(Xc,ba("cd"),this);this.subscribe(Yc,ba("Od"),this);this.subscribe(Zc,ba("hj"),this)}v(Q,P);la(Q);function $c(a,b){var c=G("toggle-pending");Zb(c,b);R(c,!!b)}var Zc="play",Yc="toggle-guide",Xc="toggle-sidebar";var ad={Qj:["BC","AD"],Pj:["Before Christ","Anno Domini"],Sj:"JFMAMJJASOND".split(""),Zj:"JFMAMJJASOND".split(""),Rj:"January February March April May June July August September October November December".split(" "),Yj:"January February March April May June July August September October November December".split(" "),Vj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ak:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ek:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
ck:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Xj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),bk:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Tj:"SMTWTFS".split(""),$j:"SMTWTFS".split(""),Wj:["Q1","Q2","Q3","Q4"],Uj:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Mj:["AM","PM"],Oj:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],dk:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Oh:6,fk:[5,6],Ph:5};var bd=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,cd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,dd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function ed(a){var b=new fd(2E3),a=Aa(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(bd);if(d){var f=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var m=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new gd(hd,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new gd(hd,(4>=d?1-d:8-d)+(Number(m)+7*(Number(c)-1))-1))):(f&&(b.setDate(1),b.setMonth(f-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(dd),m=0,c&&("Z"!=
c[0]&&(m=60*c[2]+Number(c[3]),m*="-"==c[1]?1:-1),m-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(cd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=m&&b.setTime(b.getTime()+6E4*m),c=j):c=l;return c?b:k}
function gd(a,b,c,d,f,g){r(a)?(this.Ja=a==id?b:0,this.Ca=a==jd?b:0,this.xa=a==hd?b:0,this.oa=a==kd?b:0,this.pa=a==ld?b:0,this.ta=a==md?b:0):(this.Ja=a||0,this.Ca=b||0,this.xa=c||0,this.oa=d||0,this.pa=f||0,this.ta=g||0)}
gd.prototype.kd=function(a){var b=Math.min(this.Ja,this.Ca,this.xa,this.oa,this.pa,this.ta),c=Math.max(this.Ja,this.Ca,this.xa,this.oa,this.pa,this.ta);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Ja||a)&&c.push(Math.abs(this.Ja)+"Y");(this.Ca||a)&&c.push(Math.abs(this.Ca)+"M");(this.xa||a)&&c.push(Math.abs(this.xa)+"D");if(this.oa||this.pa||this.ta||a)c.push("T"),(this.oa||a)&&c.push(Math.abs(this.oa)+"H"),(this.pa||a)&&c.push(Math.abs(this.pa)+"M"),
(this.ta||a)&&c.push(Math.abs(this.ta)+"S");return c.join("")};gd.prototype.clone=function(){return new gd(this.Ja,this.Ca,this.xa,this.oa,this.pa,this.ta)};var id="y",jd="m",hd="d",kd="h",ld="n",md="s";gd.prototype.add=function(a){this.Ja+=a.Ja;this.Ca+=a.Ca;this.xa+=a.xa;this.oa+=a.oa;this.pa+=a.pa;this.ta+=a.ta};
function nd(a,b,c){pa(a)?(this.k=new Date(a,b||0,c||1),od(this,c||1)):ra(a)?(this.k=new Date(a.getFullYear(),a.getMonth(),a.getDate()),od(this,a.getDate())):(this.k=new Date(u()),this.k.setHours(0),this.k.setMinutes(0),this.k.setSeconds(0),this.k.setMilliseconds(0))}n=nd.prototype;n.Jd=ad.Oh;n.Kd=ad.Ph;n.clone=function(){var a=new nd(this.k);a.Jd=this.Jd;a.Kd=this.Kd;return a};n.getFullYear=function(){return this.k.getFullYear()};n.getYear=function(){return this.getFullYear()};n.getMonth=function(){return this.k.getMonth()};
n.getDate=function(){return this.k.getDate()};n.getTime=function(){return this.k.getTime()};n.getDay=function(){return this.k.getDay()};n.getUTCHours=function(){return this.k.getUTCHours()};n.getTimezoneOffset=function(){return this.k.getTimezoneOffset()};function pd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Ha(c)+":"+Ha(b);return a}n.set=function(a){this.k=new Date(a.getFullYear(),a.getMonth(),a.getDate())};n.setFullYear=function(a){this.k.setFullYear(a)};
n.setMonth=function(a){this.k.setMonth(a)};n.setDate=function(a){this.k.setDate(a)};n.setTime=function(a){this.k.setTime(a)};
n.add=function(a){if(a.Ja||a.Ca){var b=this.getMonth()+a.Ca+12*a.Ja,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.xa&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.xa),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),od(this,a.getDate()))};n.kd=function(a,b){return[this.getFullYear(),Ha(this.getMonth()+1),Ha(this.getDate())].join(a?"-":"")+(b?pd(this):"")};n.toString=function(){return this.kd()};function od(a,b){a.getDate()!=b&&a.k.setUTCHours(a.k.getUTCHours()+(a.getDate()<b?1:-1))}n.valueOf=function(){return this.k.valueOf()};function fd(a,b,c,d,f,g,h){this.k=pa(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,h||0):new Date(a?a.getTime():u())}v(fd,nd);n=fd.prototype;n.getHours=function(){return this.k.getHours()};
n.getMinutes=function(){return this.k.getMinutes()};n.getSeconds=function(){return this.k.getSeconds()};n.getUTCHours=function(){return this.k.getUTCHours()};n.setHours=function(a){this.k.setHours(a)};n.setMinutes=function(a){this.k.setMinutes(a)};n.setSeconds=function(a){this.k.setSeconds(a)};n.setMilliseconds=function(a){this.k.setMilliseconds(a)};n.setUTCHours=function(a){this.k.setUTCHours(a)};
n.add=function(a){nd.prototype.add.call(this,a);a.oa&&this.setHours(this.k.getHours()+a.oa);a.pa&&this.setMinutes(this.k.getMinutes()+a.pa);a.ta&&this.setSeconds(this.k.getSeconds()+a.ta)};n.kd=function(a,b){var c=nd.prototype.kd.call(this,a);return a?c+" "+Ha(this.getHours())+":"+Ha(this.getMinutes())+":"+Ha(this.getSeconds())+(b?pd(this):""):c+"T"+Ha(this.getHours())+Ha(this.getMinutes())+Ha(this.getSeconds())+(b?pd(this):"")};n.toString=function(){return this.kd()};
n.clone=function(){var a=new fd(this.k);a.Jd=this.Jd;a.Kd=this.Kd;return a};function qd(a){M.call(this);this.Aa=a;this.J=[]}v(qd,M);var rd=[];function S(a,b,c,d,f){na(c)||(rd[0]=c,c=rd);for(var g=0;g<c.length;g++){var h=N(b,c[g],d||a,f||l,a.Aa||a);a.J.push(h)}return a}function sd(a,b,c,d,f,g){if(na(c))for(var h=0;h<c.length;h++)sd(a,b,c[h],d,f,g);else b=Hc(b,c,d||a,f,g||a.Aa||a),a.J.push(b)}
function td(a,b,c,d,f,g){if(na(c))for(var h=0;h<c.length;h++)td(a,b,c[h],d,f,g);else{a:{d=d||a;g=g||a.Aa||a;f=!!f;if(b=Jc(b,c,f))for(c=0;c<b.length;c++)if(!b[c].Pb&&b[c].nc==d&&b[c].capture==f&&b[c].Qd==g){b=b[c];break a}b=k}b&&(b=b.key,Kc(b),Ra(a.J,b))}return a}function ud(a){w(a.J,Kc);a.J.length=0}qd.prototype.h=function(){qd.c.h.call(this);ud(this)};qd.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function vd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}vd.prototype.clone=function(){return new vd(this.top,this.right,this.bottom,this.left)};vd.prototype.contains=function(a){return!this||!a?l:a instanceof vd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function wd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}wd.prototype.clone=function(){return new wd(this.left,this.top,this.width,this.height)};wd.prototype.contains=function(a){return a instanceof wd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function xd(a,b,c){r(b)?yd(a,c,b):Cb(b,xa(yd,a))}function yd(a,b,c){a.style[Ia(c)]=b}function zd(a,b){var c=Mb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Ad(a,b){return a.currentStyle?a.currentStyle[b]:k}function Bd(a,b){return zd(a,b)||Ad(a,b)||a.style&&a.style[b]}function Cd(a,b,c){var d,f=gb&&(ab||ib)&&A("1.9");b instanceof Ab?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Dd(d,f);a.style.top=Dd(b,f)}
function Ed(a){return new Ab(a.offsetLeft,a.offsetTop)}function Fd(a){var b=a.getBoundingClientRect();y&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Gd(a){if(y&&!sb(8))return a.offsetParent;for(var b=Mb(a),c=Bd(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Bd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function Hd(a){var b,c=Mb(a),d=Bd(a,"position"),f=gb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Ab(0,0),h;b=c?Mb(c):document;if(h=y)if(h=!sb(9))h="CSS1Compat"!=Kb(b).T.compatMode;h=h?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=Fd(a),a=gc(Kb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;
else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(z&&"fixed"==Bd(f,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(fb||z&&"absolute"==d)g.y-=c.body.offsetTop;for(f=a;(f=Gd(f))&&f!=c.body&&f!=h;)if(g.x-=f.scrollLeft,!fb||"TR"!=f.tagName)g.y-=f.scrollTop}return g}function Id(a,b){var c,d=Hd(a);b instanceof Ab&&(c=b.y,b=b.x);Cd(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Dd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Jd(a,b){a.style.height=Dd(b,j)}function Kd(a,b){a.style.width=Dd(b,j)}function T(a){if("none"!=Bd(a,"display"))return Ld(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Ld(a);b.display=c;b.position=f;b.visibility=d;return a}
function Ld(a){var b=a.offsetWidth,c=a.offsetHeight,d=z&&!b&&!c;return(!ha(b)||d)&&a.getBoundingClientRect?(a=Fd(a),new Bb(a.right-a.left,a.bottom-a.top)):new Bb(b,c)}function Md(a){var b=Hd(a),a=T(a);return new wd(b.x,b.y,a.width,a.height)}function Nd(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function R(a,b){a.style.display=b?"":"none"}function Od(a){return"rtl"==Bd(a,"direction")}
var Pd=gb?"MozUserSelect":z?"WebkitUserSelect":k;function Qd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function Rd(a,b){if(y){var c=Qd(a,Ad(a,b+"Left")),d=Qd(a,Ad(a,b+"Right")),f=Qd(a,Ad(a,b+"Top")),g=Qd(a,Ad(a,b+"Bottom"));return new vd(f,d,g,c)}c=zd(a,b+"Left");d=zd(a,b+"Right");f=zd(a,b+"Top");g=zd(a,b+"Bottom");return new vd(parseFloat(f),parseFloat(d),parseFloat(g),parseFloat(c))}var Sd={thin:2,medium:4,thick:6};function Td(a,b){if("none"==Ad(a,b+"Style"))return 0;var c=Ad(a,b+"Width");return c in Sd?Sd[c]:Qd(a,c)}
function Ud(a){if(y){var b=Td(a,"borderLeft"),c=Td(a,"borderRight"),d=Td(a,"borderTop"),a=Td(a,"borderBottom");return new vd(d,c,a,b)}b=zd(a,"borderLeftWidth");c=zd(a,"borderRightWidth");d=zd(a,"borderTopWidth");a=zd(a,"borderBottomWidth");return new vd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function Vd(a,b,c){M.call(this);this.target=a;this.handle=b||a;this.Sg=c||new wd(NaN,NaN,NaN,NaN);this.T=Mb(a);this.m=new qd(this);N(this.handle,["touchstart","mousedown"],this.Sb,l,this)}v(Vd,Pc);var Wd=y||gb&&A("1.9.3");n=Vd.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.vh=0;n.wh=0;n.cc=0;n.dc=0;n.De=j;n.Fb=l;n.Le=0;n.Ji=0;n.Ei=l;n.od=l;n.o=ca("m");n.pf=function(a){this.Le=Math.pow(a,2)};n.sh=ba("ge");n.Va=ba("De");
n.h=function(){Vd.c.h.call(this);Ic(this.handle,["touchstart","mousedown"],this.Sb,l,this);ud(this.m);Wd&&this.T.releaseCapture();this.m=this.handle=this.target=k};function Xd(a){ha(a.Ea)||(a.Ea=Od(a.target));return a.Ea}
n.Sb=function(a){var b="mousedown"==a.type;if(this.De&&!this.Fb&&(!b||zc(a))){Yd(a);if(0==this.Le)if(this.dispatchEvent(new Zd("start",this,a.clientX,a.clientY,a)))this.Fb=j,a.preventDefault();else return;else a.preventDefault();var b=this.T,c=b.documentElement,d=!Wd;S(this.m,b,["touchmove","mousemove"],this.Bi,d);S(this.m,b,["touchend","mouseup"],this.Gb,d);Wd?(c.setCapture(l),S(this.m,c,"losecapture",this.Gb)):S(this.m,b?b.parentWindow||b.defaultView:window,"blur",this.Gb);y&&this.Ei&&S(this.m,
b,"dragstart",vc);this.ge&&S(this.m,this.ge,"scroll",this.hh,d);this.clientX=this.vh=a.clientX;this.clientY=this.wh=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.od?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Bd(a,"position")&&(c=Mb(a).documentElement),c?(gb?(d=Ud(c),b+=d.left):sb(8)&&(d=Ud(c),b-=d.left),a=Od(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.cc=a;this.dc=this.target.offsetTop;this.cf=gc(Kb(this.T));this.Ji=u()}else this.dispatchEvent("earlycancel")};
n.Gb=function(a,b){ud(this.m);Wd&&this.T.releaseCapture();if(this.Fb){Yd(a);this.Fb=l;var c=$d(this,this.cc),d=ae(this,this.dc);this.dispatchEvent(new Zd("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function Yd(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.na.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.na.changedTouches[0],a.currentTarget)}
n.Bi=function(a){if(this.De){Yd(a);var b=(this.od&&Xd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Fb){var d=this.vh-this.clientX,f=this.wh-this.clientY;if(d*d+f*f>this.Le)if(this.dispatchEvent(new Zd("start",this,a.clientX,a.clientY,a)))this.Fb=j;else{this.Fd||this.Gb(a);return}}c=be(this,b,c);b=c.x;c=c.y;this.Fb&&this.dispatchEvent(new Zd("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(ce(this,a,b,c),a.preventDefault())}};function be(a,b,c){var d=gc(Kb(a.T)),b=b+(d.x-a.cf.x),c=c+(d.y-a.cf.y);a.cf=d;a.cc+=b;a.dc+=c;b=$d(a,a.cc);a=ae(a,a.dc);return new Ab(b,a)}n.hh=function(a){var b=be(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;ce(this,a,b.x,b.y)};function ce(a,b,c,d){a.Dd(c,d);a.dispatchEvent(new Zd("drag",a,b.clientX,b.clientY,b,c,d))}
function $d(a,b){var c=a.Sg,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function ae(a,b){var c=a.Sg,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}n.Dd=function(a,b){this.od&&Xd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function Zd(a,b,c,d,f,g,h,m){uc.call(this,a);this.clientX=c;this.clientY=d;this.ue=f;this.left=ha(g)?g:b.cc;this.top=ha(h)?h:b.dc;this.ai=b;this.Zh=!!m}v(Zd,uc);function de(){M.call(this);this.f=ee;this.Lc=this.startTime=k}v(de,Pc);var ee=0;de.prototype.mb=function(){this.ia("begin")};de.prototype.nb=function(){this.ia("end")};de.prototype.ia=function(a){this.dispatchEvent(a)};function fe(a,b,c){M.call(this);this.kb=a;this.H=b||0;this.Aa=c;this.we=s(this.Jc,this)}v(fe,M);n=fe.prototype;n.ca=0;n.h=function(){fe.c.h.call(this);this.stop();delete this.kb;delete this.Aa};n.start=function(a){this.stop();this.ca=O(this.we,ha(a)?a:this.H)};n.stop=function(){this.Mb()&&Rc.clearTimeout(this.ca);this.ca=0};n.Fe=function(){this.stop();this.Jc()};n.Mb=function(){return 0!=this.ca};n.Jc=function(){this.ca=0;this.kb&&this.kb.call(this.Aa)};var ge;ge=da(k);var he={},ie=k;function je(a){a=sa(a);delete he[a];Fb(he)&&ie&&ie.stop()}function ke(){ie||(ie=new fe(function(){var a=u();Cb(he,function(c){le(c,a)});Fb(he)||ke()},20));var a=ie;a.Mb()||a.start()};function me(a,b,c,d){de.call(this);(!na(a)||!na(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.fd=a;this.di=b;this.duration=c;this.Hf=d;this.coords=[];this.od=l}v(me,de);n=me.prototype;n.og=0;n.ra=0;n.Se=k;
n.play=function(a){if(a||this.f==ee)this.ra=0,this.coords=this.fd;else if(1==this.f)return l;je(this);this.startTime=a=u();-1==this.f&&(this.startTime-=this.duration*this.ra);this.Lc=this.startTime+this.duration;this.Se=this.startTime;this.ra||this.mb();this.ia("play");-1==this.f&&this.ia("resume");this.f=1;var b=sa(this);b in he||(he[b]=this);ke();le(this,a);return j};n.stop=function(a){je(this);this.f=ee;a&&(this.ra=1);ne(this,this.ra);this.ia("stop");this.nb()};n.Mc=ca("ra");
n.h=function(){this.f==ee||this.stop(l);this.ia("destroy");me.c.h.call(this)};function le(a,b){a.ra=(b-a.startTime)/(a.Lc-a.startTime);1<=a.ra&&(a.ra=1);a.og=1E3/(b-a.Se);a.Se=b;ne(a,a.ra);1==a.ra?(a.f=ee,je(a),a.ia("finish"),a.nb()):1==a.f&&a.$e()}function ne(a,b){qa(a.Hf)&&(b=a.Hf(b));a.coords=Array(a.fd.length);for(var c=0;c<a.fd.length;c++)a.coords[c]=(a.di[c]-a.fd[c])*b+a.fd[c]}n.$e=function(){this.ia("animate")};n.ia=function(a){this.dispatchEvent(new oe(a,this))};
function oe(a,b){uc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.Uk=b.coords[2];this.duration=b.duration;this.ra=b.Mc();this.xk=b.og;this.state=b.f;this.hk=b}v(oe,uc);function pe(a,b,c,d,f){me.call(this,b,c,d,f);this.element=a}v(pe,me);n=pe.prototype;n.nd=ja;n.Mg=function(){ha(this.Ea)||(this.Ea=Od(this.element));return this.Ea};n.$e=function(){this.nd();pe.c.$e.call(this)};n.nb=function(){this.nd();pe.c.nb.call(this)};n.mb=function(){this.nd();pe.c.mb.call(this)};function qe(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));pe.apply(this,arguments)}v(qe,pe);
qe.prototype.nd=function(){if(this.od){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=Od(a)?gb?-b:!y||!A("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function re(a,b,c,d,f){pa(b)&&(b=[b]);pa(c)&&(c=[c]);pe.call(this,a,b,c,d,f);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}v(re,pe);re.prototype.nd=function(){Nd(this.element,this.coords[0])};
re.prototype.show=function(){this.element.style.display=""};re.prototype.hide=function(){this.element.style.display="none"};function se(a,b,c){re.call(this,a,1,0,b,c)}v(se,re);se.prototype.mb=function(){this.show();se.c.mb.call(this)};se.prototype.nb=function(){this.hide();se.c.nb.call(this)};function te(a,b,c){re.call(this,a,0,1,b,c)}v(te,re);te.prototype.mb=function(){this.show();te.c.mb.call(this)};function ue(){}la(ue);ue.prototype.Ni=0;ue.a();function U(a){M.call(this);this.Eb=a||Kb();this.Ea=ve}v(U,Pc);U.prototype.Di=ue.a();var ve=k;function we(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}n=U.prototype;n.ca=k;n.Q=l;n.d=k;n.Ea=k;n.t=k;n.B=k;n.R=k;n.W=k;n.Nh=l;
function xe(a){return a.ca||(a.ca=":"+(a.Di.Ni++).toString(36))}n.b=ca("d");n.o=function(){return this.jc||(this.jc=new qd(this))};n.he=function(a){this==a&&e(Error("Unable to set parent component"));a&&(this.B&&this.ca&&this.B.W&&this.ca&&(this.ca in this.B.W&&this.B.W[this.ca])&&this.B!=a)&&e(Error("Unable to set parent component"));this.B=a;U.c.qf.call(this,a)};n.getParent=ca("B");n.qf=function(a){this.B&&this.B!=a&&e(Error("Method not supported"));U.c.qf.call(this,a)};n.za=ca("Eb");
n.F=function(){this.d=this.Eb.createElement("div")};function ye(a,b){a.Q&&e(Error("Component already rendered"));a.d||a.F();b?b.insertBefore(a.d,k):a.Eb.T.body.appendChild(a.d);(!a.B||a.B.Q)&&a.p()}n.g=function(a){this.Q&&e(Error("Component already rendered"));if(a&&this.yb(a)){this.Nh=j;if(!this.Eb||this.Eb.T!=Mb(a))this.Eb=Kb(a);this.P(a);this.p()}else e(Error("Invalid element to decorate"))};n.yb=da(j);n.P=ba("d");n.p=function(){this.Q=j;ze(this,function(a){!a.Q&&a.b()&&a.p()})};
n.Hb=function(){ze(this,function(a){a.Q&&a.Hb()});this.jc&&ud(this.jc);this.Q=l};n.h=function(){U.c.h.call(this);this.Q&&this.Hb();this.jc&&(this.jc.S(),delete this.jc);ze(this,function(a){a.S()});!this.Nh&&this.d&&Tb(this.d);this.B=this.t=this.d=this.W=this.R=k};
function Ae(a,b){var c=a.R?a.R.length:0;b.Q&&!a.Q&&e(Error("Component already rendered"));(0>c||c>(a.R?a.R.length:0))&&e(Error("Child component index out of bounds"));if(!a.W||!a.R)a.W={},a.R=[];if(b.getParent()==a){var d=xe(b);a.W[d]=b;Ra(a.R,b)}else Hb(a.W,xe(b),b);b.he(a);Va(a.R,c,0,b);b.Q&&a.Q&&b.getParent()==a?(d=a.Jb(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.Q&&(!b.Q&&b.d&&b.d.parentNode)&&b.p()}n.Jb=ca("d");n.Mg=function(){this.Ea==k&&(this.Ea=Od(this.Q?this.d:this.Eb.T.body));return this.Ea};
n.Rb=function(a){this.Q&&e(Error("Component already rendered"));this.Ea=a};function ze(a,b){a.R&&w(a.R,b,i)}n.removeChild=function(a,b){if(a){var c=r(a)?a:xe(a),a=this.W&&c?(c in this.W?this.W[c]:i)||k:k;c&&a&&(Gb(this.W,c),Ra(this.R,a),b&&(a.Hb(),a.d&&Tb(a.d)),a.he(k))}a||e(Error("Child is not in parent component"));return a};function Be(a,b,c,d,f){if(!y&&(!z||!A("525")))return j;if(ab&&f)return Ce(a);if(f&&!d||!c&&(17==b||18==b)||y&&d&&b==a)return l;switch(a){case 13:return!(y&&sb(9));case 27:return!z}return Ce(a)}function Ce(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||z&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function De(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Ee(){}var Fe;la(Ee);n=Ee.prototype;n.ic=aa();n.F=function(a){var b=a.za().F("div",Ge(this,a).join(" "),a.Ka);He(this,a,b);return b};n.Jb=function(a){return a};n.Kc=function(a,b,c){if(a=a.b?a.b():a)if(y&&!A("7")){var d=Ie(yb(a),b);d.push(b);xa(c?B:C,a).apply(k,d)}else F(a,b,c)};n.yb=da(j);
n.g=function(a,b){if(b.id){var c=b.id;a.B&&a.B.W&&(Gb(a.B.W,a.ca),Hb(a.B.W,c,a));a.ca=c}(c=this.Jb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Ta(c.childNodes):c.firstChild,a.Ka=c):a.Ka=k;var d=0,f=this.ba(),g=this.ba(),h=l,m=l,c=l,q=yb(b);w(q,function(a){if(!h&&a==f)h=j,g==f&&(m=j);else if(!m&&a==g)m=j;else{var b=d;if(!this.xh){this.wd||Je(this);var c=this.wd,q={},t;for(t in c)q[c[t]]=t;this.xh=q}a=parseInt(this.xh[a],10);d=b|(isNaN(a)?0:a)}},this);a.f=d;h||(q.push(f),g==f&&(m=j));m||q.push(g);
var t=a.ya;t&&q.push.apply(q,t);if(y&&!A("7")){var x=Ie(q);0<x.length&&(q.push.apply(q,x),c=j)}if(!h||!m||t||c)b.className=q.join(" ");He(this,a,b);return b};n.Gg=function(a){a.Mg()&&this.Rb(a.b(),j);a.isEnabled()&&this.vc(a,a.vb)};function He(a,b,c){b.isEnabled()||a.Ha(c,1,j);b.f&8&&a.Ha(c,8,j);b.$&16&&a.Ha(c,16,Ke(b));b.$&64&&a.Ha(c,64,!!(b.f&64))}
n.uc=function(a,b){var c=!b,d=y||fb?a.getElementsByTagName("*"):k;if(Pd){if(c=c?"none":"",a.style[Pd]=c,d)for(var f=0,g;g=d[f];f++)g.style[Pd]=c}else if(y||fb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;g=d[f];f++)g.setAttribute("unselectable",c)};n.Rb=function(a,b){this.Kc(a,this.ba()+"-rtl",b)};n.Qe=function(a){var b;return a.$&32&&(b=a.gb())?bc(b):l};
n.vc=function(a,b){var c;if(a.$&32&&(c=a.gb())){if(!b&&a.Sd()){try{c.blur()}catch(d){}a.Sd()&&a.sg()}bc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};n.tf=function(a,b){R(a,b)};n.fa=function(a,b,c){var d=a.b();if(d){var f=Le(this,b);f&&this.Kc(a,f,c);this.Ha(d,b,c)}};n.Ha=function(a,b,c){Fe||(Fe={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Fe[b])&&a.setAttribute("aria-"+b,c)};
n.Qb=function(a,b){var c=this.Jb(a);if(c&&(Sb(c),b))if(r(b))Zb(c,b);else{var d=function(a){if(a){var b=Mb(c);c.appendChild(r(a)?b.createTextNode(a):a)}};na(b)?w(b,d):oa(b)&&!("nodeType"in b)?w(Ta(b),d):d(b)}};n.gb=function(a){return a.b()};n.ba=da("goog-control");function Ge(a,b){var c=a.ba(),d=[c],f=a.ba();f!=c&&d.push(f);c=b.f;for(f=[];c;){var g=c&-c;f.push(Le(a,g));c&=~g}d.push.apply(d,f);(c=b.ya)&&d.push.apply(d,c);y&&!A("7")&&d.push.apply(d,Ie(d));return d}
function Ie(a,b){var c=[];b&&(a=a.concat([b]));w([],function(d){Na(d,xa(Qa,a))&&(!b||Qa(d,b))&&c.push(d.join("_"))});return c}function Le(a,b){a.wd||Je(a);return a.wd[b]}function Je(a){var b=a.ba();a.wd={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Me(){}v(Me,Ee);la(Me);n=Me.prototype;n.ic=da("button");n.Ha=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Me.c.Ha.call(this,a,b,c)};n.F=function(a){var b=Me.c.F.call(this,a),c=a.Nc();c&&this.sf(b,c);(c=a.X())&&this.ob(b,c);a.$&16&&this.Ha(b,16,Ke(a));return b};n.g=function(a,b){var b=Me.c.g.call(this,a,b),c=this.X(b);a.Gf=c;a.Af=this.Nc(b);a.$&16&&this.Ha(b,16,Ke(a));return b};n.X=ja;n.ob=ja;n.Nc=function(a){return a.title};n.sf=function(a,b){a&&(a.title=b||"")};n.ba=da("goog-button");function Ne(a,b){M.call(this);a&&Oe(this,a,b)}v(Ne,Pc);n=Ne.prototype;n.d=k;n.Td=k;n.Re=k;n.Ud=k;n.jb=-1;n.ib=-1;n.se=l;
var Pe={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Qe={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Re=y||z&&A("525"),Se=ab&&gb;n=Ne.prototype;
n.yi=function(a){if(z&&(17==this.jb&&!a.ctrlKey||18==this.jb&&!a.altKey))this.ib=this.jb=-1;Re&&!Be(a.keyCode,this.jb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.ib=gb?De(a.keyCode):a.keyCode,Se&&(this.se=a.altKey))};n.Ai=function(a){this.ib=this.jb=-1;this.se=a.altKey};
n.handleEvent=function(a){var b=a.na,c,d,f=b.altKey;y&&"keypress"==a.type?(c=this.ib,d=13!=c&&27!=c?b.keyCode:0):z&&"keypress"==a.type?(c=this.ib,d=0<=b.charCode&&63232>b.charCode&&Ce(c)?b.charCode:0):fb?(c=this.ib,d=Ce(c)?b.keyCode:0):(c=b.keyCode||this.ib,d=b.charCode||0,Se&&(f=this.se),ab&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Pe?g=Pe[c]:25==c&&a.shiftKey&&(g=9):h&&h in Qe&&(g=Qe[h]);a=g==this.jb;this.jb=g;b=new Te(g,d,a,b);b.altKey=f;this.dispatchEvent(b)};n.b=ca("d");
function Oe(a,b,c){a.Ud&&a.detach();a.d=b;a.Td=N(a.d,"keypress",a,c);a.Re=N(a.d,"keydown",a.yi,c,a);a.Ud=N(a.d,"keyup",a.Ai,c,a)}n.detach=function(){this.Td&&(Kc(this.Td),Kc(this.Re),Kc(this.Ud),this.Ud=this.Re=this.Td=k);this.d=k;this.ib=this.jb=-1};n.h=function(){Ne.c.h.call(this);this.detach()};function Te(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}v(Te,xc);function Ue(a,b){a||e(Error("Invalid class name "+a));qa(b)||e(Error("Invalid decorator function "+b))}var Ve={};function We(a,b,c){U.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=sa(b);if(d=Ve[d])break;b=b.c?b.c.constructor:k}b=d?qa(d.a)?d.a():new d:k}this.z=b;this.Ka=a}v(We,U);n=We.prototype;n.Ka=k;n.f=0;n.$=39;n.Ra=255;n.yj=0;n.vb=j;n.ya=k;n.Ke=j;n.ud=l;n.lh=k;function Xe(a){a.Q&&l!=a.Ke&&Ye(a,l);a.Ke=l}n.gb=function(){return this.z.gb(this)};
n.Kc=function(a,b){b?a&&(this.ya?Qa(this.ya,a)||this.ya.push(a):this.ya=[a],this.z.Kc(this,a,j)):a&&this.ya&&(Ra(this.ya,a),0==this.ya.length&&(this.ya=k),this.z.Kc(this,a,l))};n.F=function(){var a=this.z.F(this);this.d=a;var b=this.lh||this.z.ic();b&&a.setAttribute("role",b);this.ud||this.z.uc(a,l);this.vb||this.z.tf(a,l)};n.Jb=function(){return this.z.Jb(this.b())};n.yb=function(a){return this.z.yb(a)};
n.P=function(a){this.d=a=this.z.g(this,a);var b=this.lh||this.z.ic();b&&a.setAttribute("role",b);this.ud||this.z.uc(a,l);this.vb="none"!=a.style.display};n.p=function(){We.c.p.call(this);this.z.Gg(this);if(this.$&-2&&(this.Ke&&Ye(this,j),this.$&32)){var a=this.gb();if(a){var b=this.mc||(this.mc=new Ne);Oe(b,a);S(S(S(this.o(),b,"key",this.zi),a,"focus",this.wi),a,"blur",this.sg)}}};
function Ye(a,b){var c=a.o(),d=a.b();b?(S(S(S(S(c,d,"mouseover",a.yg),d,"mousedown",a.wg),d,"mouseup",a.zg),d,"mouseout",a.xg),a.Pd!=ja&&S(c,d,"contextmenu",a.Pd),y&&S(c,d,"dblclick",a.tg)):(td(td(td(td(c,d,"mouseover",a.yg),d,"mousedown",a.wg),d,"mouseup",a.zg),d,"mouseout",a.xg),a.Pd!=ja&&td(c,d,"contextmenu",a.Pd),y&&td(c,d,"dblclick",a.tg))}n.Hb=function(){We.c.Hb.call(this);this.mc&&this.mc.detach();this.vb&&this.isEnabled()&&this.z.vc(this,l)};
n.h=function(){We.c.h.call(this);this.mc&&(this.mc.S(),delete this.mc);delete this.z;this.ya=this.Ka=k};n.Qb=function(a){this.z.Qb(this.b(),a);this.Ka=a};n.pg=function(){var a=this.Ka;return!a?"":(r(a)?a:na(a)?Ma(a,ec).join(""):cc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};n.Rb=function(a){We.c.Rb.call(this,a);var b=this.b();b&&this.z.Rb(b,a)};n.uc=function(a){this.ud=a;var b=this.b();b&&this.z.uc(b,a)};
n.tf=function(a,b){if(b||this.vb!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.z.tf(c,a);this.isEnabled()&&this.z.vc(this,a);this.vb=a;return j}return l};n.isEnabled=function(){return!(this.f&1)};n.Va=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&Ze(this,1,!a))a||(this.setActive(l),$e(this,l)),this.vb&&this.z.vc(this,a),this.fa(1,!a)};function $e(a,b){Ze(a,2,b)&&a.fa(2,b)}n.Mb=function(){return!!(this.f&4)};
n.setActive=function(a){Ze(this,4,a)&&this.fa(4,a)};function Ke(a){return!!(a.f&16)}function af(a,b){Ze(a,16,b)&&a.fa(16,b)}n.Sd=function(){return!!(this.f&32)};n.wc=function(a){Ze(this,32,a)&&this.fa(32,a)};n.fa=function(a,b){this.$&a&&b!=!!(this.f&a)&&(this.z.fa(this,a,b),this.f=b?this.f|a:this.f&~a)};function bf(a,b,c){a.Q&&(a.f&b&&!c)&&e(Error("Component already rendered"));!c&&a.f&b&&a.fa(b,l);a.$=c?a.$|b:a.$&~b}function cf(a,b){return!!(a.Ra&b)&&!!(a.$&b)}
function Ze(a,b,c){return!!(a.$&b)&&!!(a.f&b)!=c&&(!(a.yj&b)||a.dispatchEvent(we(b,c)))&&!a.Fd}n.yg=function(a){(!a.relatedTarget||!Yb(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&cf(this,2))&&$e(this,j)};n.xg=function(a){if((!a.relatedTarget||!Yb(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))cf(this,4)&&this.setActive(l),cf(this,2)&&$e(this,l)};n.Pd=ja;
n.wg=function(a){this.isEnabled()&&(cf(this,2)&&$e(this,j),zc(a)&&(cf(this,4)&&this.setActive(j),this.z.Qe(this)&&this.gb().focus()));!this.ud&&zc(a)&&a.preventDefault()};n.zg=function(a){this.isEnabled()&&(cf(this,2)&&$e(this,j),this.Mb()&&(this.Yc(a)&&cf(this,4))&&this.setActive(l))};n.tg=function(a){this.isEnabled()&&this.Yc(a)};
n.Yc=function(a){cf(this,16)&&af(this,!Ke(this));cf(this,8)&&Ze(this,8,j)&&this.fa(8,j);if(cf(this,64)){var b=!(this.f&64);Ze(this,64,b)&&this.fa(64,b)}b=new uc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.df=a.df);return this.dispatchEvent(b)};n.wi=function(){cf(this,32)&&this.wc(j)};n.sg=function(){cf(this,4)&&this.setActive(l);cf(this,32)&&this.wc(l)};
n.zi=function(a){return this.vb&&this.isEnabled()&&this.Je(a)?(a.preventDefault(),a.stopPropagation(),j):l};n.Je=function(a){return 13==a.keyCode&&this.Yc(a)};qa(We)||e(Error("Invalid component class "+We));qa(Ee)||e(Error("Invalid renderer class "+Ee));var df=sa(We);Ve[df]=Ee;Ue("goog-control",function(){return new We(k)});function ef(){}v(ef,Me);la(ef);n=ef.prototype;n.ic=aa();n.F=function(a){Xe(a);a.Ra&=-256;bf(a,32,l);return a.za().F("button",{"class":Ge(this,a).join(" "),disabled:!a.isEnabled(),title:a.Nc()||"",value:a.X()||""},a.pg()||"")};n.yb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};n.g=function(a,b){Xe(a);a.Ra&=-256;bf(a,32,l);b.disabled&&B(b,Le(this,1));return ef.c.g.call(this,a,b)};n.Gg=function(a){S(a.o(),a.b(),"click",a.Yc)};n.uc=ja;
n.Rb=ja;n.Qe=function(a){return a.isEnabled()};n.vc=ja;n.fa=function(a,b,c){ef.c.fa.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.X=function(a){return a.value};n.ob=function(a,b){a&&(a.value=b)};n.Ha=ja;function ff(a,b,c){We.call(this,a,b||ef.a(),c)}v(ff,We);n=ff.prototype;n.X=ca("Gf");n.ob=function(a){this.Gf=a;this.z.ob(this.b(),a)};n.Nc=ca("Af");n.sf=function(a){this.Af=a;this.z.sf(this.b(),a)};n.h=function(){ff.c.h.call(this);delete this.Gf;delete this.Af};n.p=function(){ff.c.p.call(this);if(this.$&32){var a=this.gb();a&&S(this.o(),a,"keyup",this.Je)}};n.Je=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Yc(a):32==a.keyCode};Ue("goog-button",function(){return new ff(k)});function gf(){}v(gf,Me);la(gf);n=gf.prototype;n.F=function(a){var b={"class":"goog-inline-block "+Ge(this,a).join(" "),title:a.Nc()||""},b=a.za().F("div",b,hf(this,a.Ka,a.za()));He(this,a,b);return b};n.ic=da("button");n.Jb=function(a){return a&&a.firstChild.firstChild};function hf(a,b,c){return c.F("div","goog-inline-block "+(a.ba()+"-outer-box"),c.F("div","goog-inline-block "+(a.ba()+"-inner-box"),b))}n.yb=function(a){return"DIV"==a.tagName};
n.g=function(a,b){jf(b,j);jf(b,l);var c;a:{c=hc(a.za(),b);var d=this.ba()+"-outer-box";if(c&&D(c,d)&&(c=hc(a.za(),c),d=this.ba()+"-inner-box",c&&D(c,d))){c=j;break a}c=l}c||b.appendChild(hf(this,b.childNodes,a.za()));B(b,"goog-inline-block",this.ba());return gf.c.g.call(this,a,b)};n.ba=da("goog-custom-button");
function jf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==Aa(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function kf(a,b,c){ff.call(this,a,b||gf.a(),c)}v(kf,ff);Ue("goog-custom-button",function(){return new kf(k)});function lf(){U.call(this);this.$a=3;this.H=10;this.je=60*this.$a*this.H;this.Uf=[];this.Sf={};this.ka=mf();this.Pa=0;this.ph=l;this.Ma=[V.a().n,V.a().n.i()]}v(lf,U);n=lf.prototype;
n.p=function(){lf.c.p.call(this);this.hd=G("ticker");this.Yd=G("my-ticker");var a=G("go-live");this.Dg=G("header");this.N=G("channels");this.Eg=3;this.Ia=I().width*this.Eg;this.Ic=T(G("controller")).height;Q.a().subscribe(Yc,function(a){this.le(a)},this);Q.a().subscribe(Xc,function(){this.V(l,i,j)},this);this.le(!V.a().n.ea);this.qb=new fd;for(var b=60;b>=this.qb.getMinutes();)b-=this.H;this.qb.setMinutes(b);this.M=this.qb.clone();this.M.add(new gd(0,0,0,0,2*-this.H));this.Ve=this.M.clone();this.Ve.add(new gd(0,
0,0,0,this.H*(this.$a+1)));nf(this,this.$a,this.M);Kd(this.b(),this.Ia);var c=2/this.$a*this.Ia-200;Cd(this.b(),-1*c);this.Z=(this.Ia-200)/this.je;this.Gj=this.Ia/this.$a;this.Ab=document.createElement("style");this.Ab.id="channel-name-offs";this.Ab.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.Ab);this.Ab.innerHTML="div#guide div.channels div.channel div.name{left:"+c+"px !important}";w(V.a().ac,s(function(a){if(!a.ea){var b=new of(a,this.je,this.qb,c,this.M);ye(b,this.N);
this.Uf.push(b);this.Sf[a.id]=b}a.id==V.a().n.id&&b&&(B(b.b(),"current"),this.O=b,window.currentChannel=this.O);this.qc=a.ea?a:this.qc},this));this.l=new Vd(this.b());var d=this.Ab,f=this.b();this.l.Dd=function(a){0>a&&a>-T(f).width+I().width&&(window.currentChannel&&window.currentChannel.update(),this.target.style.left=a+"px",d.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}")};var b=G("now-left"),g=G("now-right");S(S(S(S(S(S(S(S(S(S(this.o(),Uc.a().yd,Sc,s(function(){if(Q.a().Od){var a=
V.a().n&&V.a().n.ea||l,b=V.a().n&&V.a().n.i(),c=W.a().i(),d=1E3*W.a().Mc(),f=Math.round((u()-this.M.getTime())/1E3*this.Z),d=c&&d?Math.round((c.time.getTime()+d-this.M.getTime())/1E3*this.Z):f;for(pf(this);f+I().width>this.Ia-(Q.a().cd?300:0);)qf(this);Cd(this.hd,f);Cd(this.Yd,d);R(this.hd,!!b);R(this.Yd,!!c);F(this.hd,"go-live",!a&&40<Math.abs(d-f));F(this.hd,"can-go-live",!a&&15<Math.abs(d-f));F(this.Yd,"show",15<!Math.abs(d-f));F(this.Yd,"show-me",!a&&15<Math.abs(d-f));this.V()}},this)),a,"click",
s(function(){V.a().e(rf,this.O.t);Q.a().e(Zc,j)},this)),window,"resize",s(this.V,this)),this.N,"scroll",s(this.V,this,i,i,j)),this.hd,"click",s(this.V,this,j,i,l)),b,"click",s(this.Si,this)),g,"click",s(this.Zi,this)),this.l,"beforedrag",s(function(){B(this.b(),"drag")},this)),this.l,"end",s(function(){C(this.b(),"drag");this.xb=l;pf(this)},this)),this.Dg,"mousewheel",s(function(a){a.preventDefault();a.stopPropagation();a=a.na;B(this.b(),"drag");a=Ed(this.b()).x+(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0);0>a&&a>-1*this.Ia+I().width&&(Cd(this.b(),a),this.O.update(),this.Ab.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}");C(this.b(),"drag");this.xb=l;pf(this)},this));V.a().subscribe(rf,this.zb,this);V.a().subscribe(sf,s(this.V,this,j,i,l));Q.a().subscribe("toggle-admin",function(a){F(this.b(),"admin",a)},this);W.a().subscribe(tf,this.ef,this);uf(this);this.V(j);this.ka&&S(this.o(),this.l,"beforedrag",s(function(a){a.ue.shiftKey&&a.preventDefault()},this))};
n.le=function(a){var b=Math.min(this.N.scrollHeight,210);F(this.b(),"toggled",a);Jd(this.b(),a?b+this.Ic+19:this.Ic);this.O&&(this.N.scrollTop=Ed(this.O.b()).y);O(s(function(){Jd(this.N,a?b:40);F(this.b(),"collapsed",!a);uf(this);if(this.O){var c=this.N,d=Ed(this.O.b()).y;c.scrollTop!=d&&(c.scrollTop=d)}},this),a?0:800);this.V(j,i,j);a&&uf(this);this.l&&this.l.Va(a)};
function nf(a,b,c){for(var d=H("times",a.b()),f=0;f<=b;f++){var g=c.clone();g.add(new gd(0,0,0,0,a.H*f));var h=J,m={"class":"time",style:"width:"+(a.Ia-200)/a.$a+"px"},q=i,t=g.getHours();ha(q)||(q=j);var x=12==t;12<t&&(t-=12,x=j);0==t&&q&&(t=12);t=String(t);t+=":"+Ha(g.getMinutes());q&&(g=ya("am"),q=ya("pm"),t+=x?q:g);h=h("div",m,t);d.appendChild(h)}}
n.zb=function(a){this.O&&C(this.O.b(),"current");this.O=this.Sf[a.id]||k;if(window.currentChannel=this.O)B(this.O.b(),"current"),O(s(this.V,this,j,i,l));this.Ma[0]=a};n.ef=function(a){if(!this.qc){var b=X.a().G;this.qc=new vf({id:b.id,name:b.name.split(" ")[0]+"'s Channel"});V.a().ea=this.qc}b=new wf(i,a);this.qc.e(xf,b);V.a().e(rf,this.qc);Y("/_addprogram",ge(),"POST","channel_id="+V.a().ea.id+"&media_id="+a.id);Q.a().e(Yc,l)};
function pf(a){var b=G("now-left"),c=G("now-right"),d=(u()-a.M.getTime())/1E3*a.Z,f=Q.a().cd?300:0,g=I().width-f,f=T(a.b()).width-f-200;(a.Ma[0].cb+(a.Pa+1||0)+1<a.Ma[0].qa.length?((a.Ma[0].i(a.Pa+1).time.getTime()-u())/1E3+a.Ma[0].i(a.Pa+1).media.duration)*a.Z+g:0)>f-d&&qf(a);c.style.right=Q.a().cd?"300px":0;F(c,"now",!!(-d<Ed(a.b()).x-g));F(b,"now",!!(-d>Ed(a.b()).x+200));R(c,a.Ma[0].cb+(a.Pa||0)+1<a.Ma[0].qa.length);R(b,0<=a.Ma[0].cb+(a.Pa||0)-1)}
n.Si=function(){D(G("now-left"),"now")?V.a().n.i()==W.a().i()?this.V(j,i,i,j):this.V(l,i,i,j):this.V(l,-1)};n.Zi=function(){D(G("now-right"),"now")?V.a().n.i()==W.a().i()?this.V(j,i,i,j):this.V(l,i,i,j):this.V(l,1)};function qf(a){var b=Math.ceil(a.$a/a.Eg);nf(a,1,a.Ve);a.Ia+=a.Gj;Kd(a.b(),a.Ia);a.$a++;a.Ve.add(new gd(0,0,0,0,a.H*b));a.je=60*a.$a*a.H}
n.V=function(a,b,c,d){this.xb=a!=i?!!a:this.xb;this.ph=a!=i?!!c:this.xb;this.Pa=this.xb?0:b?this.Pa+b:this.Pa;a=V.a().n.i(this.Pa);c=d?a:this.xb?W.a().i():this.Ma[0].i(this.Pa);this.Ma[1]=c;if((this.xb||b)&&c){var f=W.a().i(),g=1E3*W.a().Mc(),a=(u()-this.M.getTime())/1E3*this.Z,f=f&&g?Math.round((f.time.getTime()+g-this.M.getTime())/1E3*this.Z):a,c=-(c.time.getTime()-this.M.getTime())/1E3*this.Z+5,g=I().width-(Q.a().cd?300:0);!b&&a>-c+g-300&&(c=(d?-a:-f)+g-350);c=Math.max(c,-T(this.b()).width+g);
Cd(this.b(),Math.min(c,-200));this.Ab.innerHTML="div#guide div.channels div.channel div.name{left:"+-c+"px !important}";if(!this.ph&&this.O){var h=Ed(this.O.b()).y-T(this.Dg).height,m=new qe(this.N,[this.N.scrollLeft,this.N.scrollTop],[this.N.scrollLeft,h],100*this.Uf.length);S(this.o(),m,"end",s(function(){var a=this.N;a.scrollTop!=h&&(a.scrollTop=h)},this));O(s(function(){m.play()},this),100)}}b&&pf(this)};
function uf(a){var b=Math.min(a.N.scrollHeight,210);Jd(a.N,D(a.b(),"toggled")?b:a.Ic);Jd(a.b(),D(a.b(),"collapsed")?a.Ic:b+a.Ic+19)};function yf(a){return'\t<div class="channel"><div class="programs-container"><div class="programs"></div><div class="suggest"><div class="spinner">...</div><div class="select-program"><div class="select-header">SUGGEST PROGRAM <div class="close"></div></div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="Paste YouTube link"/><div class="page2"></div></div></div></div></div></div><div class="graph"></div><div class="viewers"></div><div class="name"><div class="text">'+
L(a.name)+'</div><div class="suggest-program"><div class="add-program button dark">+</div></div></div></div>'}function zf(a){return'<div class="info"><div class="thumb'+(a.repeat?" repeat":"")+'" style="background-image:url('+L(a.hf.media.Za)+"); background-position: 50% "+L(a.hf.media.yc)+'%"></div><div class="progress"></div><div class="title">'+L(a.hf.media.name)+"</div>"+(a.qe?'<div class="remove"></div><div class="repos"></div>':"")+"</div>"}
function Af(a){return'<div class="line"><div class="pic"><img src="'+L(a.w.Y)+'"></div></div>'}function Bf(a){return'<div class="confirm-media"><div class="thumb" style="background-image:url('+L(a.Cj)+')"></div><div class="title">'+L(a.title)+'</div><div class="added">ADDED</div><div class="dark button">ADD</div></div>'};function Cf(a){this.id=a.id;this.Y=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Df(a){P.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.kc=a.host_id;this.duration=a.duration;this.description=a.description;this.Da=new Cf(a.publisher);this.Ob=ed(a.published+"Z");this.Za="http://i.ytimg.com/vi/"+this.kc+"/0.jpg";this.Kk="http://i.ytimg.com/vi/"+this.kc+"/1.jpg";this.Lk="http://i.ytimg.com/vi/"+this.kc+"/2.jpg";this.Mk="http://i.ytimg.com/vi/"+this.kc+"/3.jpg";this.yf=new Bb(480,360);this.yc=a.thumb_pos||37;this.Hc=[];this.Wh=a.collection_id;this.subscribe(Ef,
this.Rh,this)}v(Df,P);function Ff(a){return a.Ob.getMonth()+1+"/"+a.Ob.getDate()+"/"+a.Ob.getYear()}var Ef="add-comment";Df.prototype.Rh=function(a){this.Hc.push(a)};function Gf(){P.call(this);this.Ye={}}v(Gf,P);la(Gf);function Hf(a,b){var c=a.get(b.id);c||(c=new Df(b),a.add(c));return c}Gf.prototype.get=function(a){return a in this.Ye?this.Ye[a]:i};Gf.prototype.add=function(a){this.Ye[a.id]=a};function wf(a,b){P.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?new Df(d.media):c;Gf.a().add(this.media);this.time=d?ed(d.time+"Z"):new fd}v(wf,P);function If(a){P.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.Y=za("https://graph.facebook.com/%s/picture",this.id);this.color=Raphael.getColor();this.If=a.access_level;this.gk=[];this.zk=a.last_login?ed(a.last_login+"Z"):k;this.Hk=a.session_count;this.ik=a.ave_session}v(If,P);function mf(){return X.a().G.If==Jf}var Jf=2;function Kf(a,b,c,d,f){this.id=a;this.w=b;this.ha=c;this.Cf=d;this.ld=f||k;this.Wg=[]}
Kf.prototype.end=function(a){this.ld=a;a=(this.ld.getTime()-this.Cf.getTime())/1E3;Lf.a();var b=this.ha,c=this.Wg.length,d=d||[];d.push(["_trackEvent","Users","SessionTime",X.a().G.id,a]);d.push(["_trackEvent","Users","SessionMediaCount",X.a().G.id,c]);d.push(["_trackEvent","Users",b.id+"-time",X.a().G.id,a]);d.push(["_trackEvent","Users",b.id+"-medias",X.a().G.id,c]);d.push(["_trackEvent","Channel","SessionTime",b.id,a]);d.push(["_trackEvent","Channel","SessionMediaCount",b.id,c])};function vf(a){P.call(this);this.id=a.id;this.name=a.name;this.ea=a.my_channel;this.qa=[];this.sc={};this.La=a.current_program&&new wf(a.current_program);this.ne=[];this.subscribe(xf,this.Yb,this);this.subscribe(Mf,this.rd,this);this.subscribe(Nf,this.Ef,this)}v(vf,P);vf.prototype.Yb=function(a){this.qa.push(a);this.sc[a.id]=a};vf.prototype.rd=function(a){this.ne.push(a)};vf.prototype.Ef=function(a){var b=a.id in this.sc?this.sc[a.id]:i;b&&(b.time=ed(a.time+"Z"))};
vf.prototype.i=function(a){if(!this.qa.length)return k;var b=this.La;b||(b=this.qa[0],this.cb=0);if(a)return this.qa[this.cb+a];if(u()>=b.time.getTime()&&u()<b.time.getTime()+1E3*b.media.duration)return this.La=b;for(;u()>b.time.getTime()&&u()>=b.time.getTime()+1E3*b.media.duration;){this.La||(this.La=this.qa[0],this.cb=0);this.qa.length>=this.cb+1?(this.cb++,a=this.La=this.qa[this.cb]):a=k;if(!a)break;b=a}return u()>=b.time.getTime()&&u()<b.time.getTime()+1E3*b.media.duration?this.La=b:k};
var xf="add-program",Mf="add-viewer",Nf="update-program";function Of(){M.call(this);this.U=[];this.hc=[];this.Hd={};this.m=new qd(this);this.Gi=this.Lg=l;this.Ff=j}v(Of,Pc);n=Of.prototype;n.Me=0;n.pf=ba("Me");
n.init=function(){if(!this.Lg){for(var a=0,b=this.U.length;a<b;a++)for(var c=Ub(this.U[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,m=sa(h);this.Hd[m]=g;this.eg&&(S(this.m,g,"mouseover",this.ri),S(this.m,g,"mouseout",this.qi));this.dg&&(S(this.m,h,"mouseover",this.pi),S(this.m,h,"mouseout",this.oi));this.hc.push(g);S(this.m,h,["mousedown","touchstart"],this.Ag)}this.Lg=j}};
n.h=function(){this.m.S();for(var a=0,b=this.U.length;a<b;a++){var c=this.U[a];c.cg=i;c.Db=i}this.U.length=0;this.hc.length=0;this.Hd=k;Pf(this);Of.c.h.call(this)};function Qf(a,b){for(var c=0,d=a.U.length;c<d;c++){var f=a.U[c];f.fc=Md(f)}c=0;for(d=a.hc.length;c<d;c++)f=a.hc[c],f!=b&&(f.fc=Md(f))}
n.Ag=function(a){var b=sa(a.currentTarget);this.j=this.Hd[b];this.s=this.zd(this.j);this.Id&&B(this.s,this.Id);this.s.style.margin="0";this.s.style.position="absolute";this.s.style.visibility="hidden";Mb(this.j).body.appendChild(this.s);b=Hd(this.j);Id(this.s,b);this.l=new Vd(this.s);this.l.pf(this.Me);N(this.l,"start",this.vg,l,this);N(this.l,"end",this.ug,l,this);N(this.l,"earlycancel",this.xd,l,this);this.l.Sb(a)};
n.vg=function(a){if(this.dispatchEvent(new Rf("beforedragstart",this,a.ue,this.j,k,k))){this.ae=this.j.parentNode;this.ag=this.bf=Vb(this.j);this.Be=this.ae;this.Ae?B.apply(k,Sa(this.j,this.Ae)):this.j.style.visibility="hidden";var b=T(this.s);this.s.li=b.width/2;this.s.ki=b.height/2;this.s.style.visibility="";this.Ff&&(this.j.style.display="none");Qf(this,this.j);this.j.style.display="";N(this.l,"drag",this.si,l,this);this.dispatchEvent(new Rf("dragstart",this,a.ue,this.j,this.s,this.l))}else a.preventDefault(),
this.xd()};
n.si=function(a){var b=Hd(this.s),b=new Ab(b.x+this.s.li,b.y+this.s.ki),c;a:{c=k;if("none"!=this.j.style.display){c=this.j.parentNode;var d=Md(c);if(Sf(b,d))break a}for(var d=0,f=this.U.length;d<f;d++){var g=this.U[d];if(g!=c&&Sf(b,g.fc)){c=g;break a}}c=k}var h;if(c){c==k&&e(Error("getHoverNextItem_ called with null hoverList."));var m,q,d=l,f=i;switch(c.cg){case 0:h=b.y;m=Tf;q=Uf;break;case 4:d=j;case 2:h=b.x;m=Vf;q=Uf;break;case 5:d=j;case 3:h=b.x,m=Wf,q=Xf}for(var g=k,t,x=Ub(c),E=0,ka=x.length;E<
ka;E++){var ga=x[E];if(ga!=this.j){var Nb=m(ga.fc);if(d){var Oc=Yf(ga,b);ha(f)||(f=Oc);if(q(h,Nb)&&(t==i||Oc<f||Oc==f&&(q(Nb,t)||Nb==t)))g=ga,t=Nb;Oc<f&&(f=Oc)}else if(q(h,Nb)&&(t==i||q(Nb,t)))g=ga,t=Nb}}h=g!==k&&Yf(g,b)>f?k:g}else h=k;if(!this.dispatchEvent(new Rf("beforedragmove",this,a,this.j,this.s,this.l,b,c,h)))return l;if(c)this.Ff?(this.j.parentNode!=c||Vb(this.j)!=h)&&c.insertBefore(this.j,h):h&&(this.ag=h),this.j.style.display="",c.Db&&B(c,c.Db);else{this.Gi||(this.j.style.display="none");
m=0;for(q=this.U.length;m<q;m++)t=this.U[m],t.Db&&C(t,t.Db)}c!=this.Be&&(this.Be=c,Qf(this,this.j));this.dispatchEvent(new Rf("dragmove",this,a,this.j,this.s,this.l,b,c,h));return l};n.xd=function(){Pf(this);this.l=this.s=this.bf=this.ae=this.Be=this.j=k;for(var a=0,b=this.U.length;a<b;a++)this.U[a].fc=k;a=0;for(b=this.hc.length;a<b;a++)this.hc[a].fc=k};
n.ug=function(a){if(!this.dispatchEvent(new Rf("beforedragend",this,a,this.j,this.s,this.l)))return l;this.Ff||this.ae.insertBefore(this.j,this.ag);Pf(this);this.dispatchEvent(new Rf("dragend",this,a,this.j,this.s,this.l));this.xd();return j};function Pf(a){qc(a.l);a.s&&Tb(a.s);a.j&&"none"==a.j.style.display&&(a.ae.insertBefore(a.j,a.bf),a.j.style.display="");a.Ae&&a.j?C.apply(k,Sa(a.j,a.Ae)):a.j&&(a.j.style.visibility="visible");for(var b=0,c=a.U.length;b<c;b++){var d=a.U[b];d.Db&&C(d,d.Db)}}
n.ri=function(a){B.apply(k,Sa(a.currentTarget,this.eg))};n.qi=function(a){C.apply(k,Sa(a.currentTarget,this.eg))};n.pi=function(a){B.apply(k,Sa(a.currentTarget,this.dg))};n.oi=function(a){C.apply(k,Sa(a.currentTarget,this.dg))};function Sf(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Yf(a,b){var c=a.fc;return Math.abs(b.y-(c.top+(c.height-1)/2))}function Tf(a){return a.top+a.height-1}function Vf(a){return a.left+a.width-1}function Wf(a){return a.left||0}
function Uf(a,b){return a<b}function Xf(a,b){return a>b}n.zd=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return J("table",k,J("tbody",k,b));case "td":case "th":return J("table",k,J("tbody",k,J("tr",k,b)));default:return b}};function Rf(a,b,c,d,f,g,h,m,q){uc.call(this,a);this.pk=b;this.event=c;this.va=d;this.bi=f;this.ai=g;this.fg=h;this.yk=m;this.hb=q}v(Rf,uc);function of(a,b,c,d,f){U.call(this);this.t=a;this.ka=mf();this.th=this.td=l;this.zc=b;this.qb=c;this.M=f;this.Ik=d;this.Wb={};this.$c={};this.eb=this.ka?new Of:k;this.xe=6}v(of,U);n=of.prototype;n.F=function(){this.d=K(yf,{name:this.t.name,ok:this.t.La,je:this.zc})};
n.p=function(){of.c.p.call(this);this.Zc=H("programs",this.b());this.Mh=H("viewers",this.b());this.bh=H("name",this.b());this.He=H("graph",this.b());this.Ga=H("suggest",this.b());if(this.t.ea)R(this.Ga,l);else{this.Tb=new Zf("Paste YouTube link");this.Tb.g(H("program-input",this.b()));var a=new Ne(this.Tb.b()),b=new $f(this.Tb.b()),c=new ag(s(this.af,this),1E3);S(S(S(this.o(),b,bg,s(this.af,this)),a,"key",s(function(){c&&c.Fe()},this)),this.Tb,"focus",s(this.af,this))}this.Z=(T(this.Zc).width-200)/
this.zc;if(this.th){var b=0,d=40;this.We=0;this.kg=[new Ab(b,d)];this.wk=Math.floor((u()-this.M.getTime())/1E3);for(a=0;a<this.zc/40;a++)this.kg.push(new Ab(b+=40,d+=[-30,-5,15,10,25][Math.floor(5*Math.random())])),this.We=Math.max(this.We,d);this.ii=Raphael(this.He,"100%",60).path("M0,0").attr({stroke:"none",opacity:0.8,fill:"#5d5d5d"})}xd(this.bh,"background",Raphael.getColor());b=this.t.qa;for(a=0;a<b.length;a++)b[a].time.getTime()<this.qb.getTime()&&b[a].time.getTime()+1E3*b[a].media.duration>
this.qb.getTime()-1E3*this.zc?this.Yb(b[a]):b[a].time.getTime()>this.qb.getTime()&&this.Yb(b[a]);if(this.ka){a=this.eb;b=this.Zc;b.cg=2;b.Db=i;a.U.push(b);this.eb.Id="drag";var f=this.b();this.eb.Ag=function(a){var b=sa(a.currentTarget);this.j=this.Hd[b];this.s=this.zd(this.j);this.Id&&B(this.s,this.Id);this.s.style.margin="0";this.s.style.position="absolute";this.s.style.visibility="hidden";f.appendChild(this.s);b=Hd(this.j);Id(this.s,b);this.l=new Vd(this.s);this.l.pf(this.Me);N(this.l,"start",
this.vg,l,this);N(this.l,"end",this.ug,l,this);N(this.l,"earlycancel",this.xd,l,this);this.l.Sb(a)};this.eb.init();var g={},h,m,q,t,x,E=j;S(S(S(this.o(),this.eb,"beforedragstart",s(function(a){(!this.td||!a.event.shiftKey)&&a.preventDefault()},this)),this.eb,"dragmove",function(a){q=q||a.fg.x;t=t||Ed(a.va).x;x=x||(a.va.previousElementSibling!=i?a.va.previousElementSibling:Wb(a.va.previousSibling,l));E=E&&!!x;var b=x?T(x).width:i,c=x?Ed(x).x:i,d=a.fg.x-q;10>Math.abs(d)||(a.hb&&!g[a.hb.id]&&0<d?(b=
T(a.va).width,c=Ed(a.hb).x,h=c-b+T(a.hb).width,d=this.t.sc[a.hb.id],m=d.time.getTime()/1E3+d.media.duration-this.t.sc[a.va.id].media.duration,Cd(a.va,h),Cd(a.hb,c-b-12),g[a.hb.id]=j,b=a.hb,b.parentNode&&b.parentNode.insertBefore(a.va,b.nextSibling)):E&&(0>d&&t+d<c+b)&&(b=T(a.va).width,h=c=Ed(x).x,m=this.t.sc[x.id].time.getTime()/1E3,Cd(a.va,h),Cd(x,c+b+12),b=x.previousElementSibling!=i?x.previousElementSibling:Wb(x.previousSibling,l),x.parentNode&&x.parentNode.insertBefore(a.va,x),x=b,E=!!b))}),this.eb,
"dragend",function(a){m&&(Y("/admin/_rescheduleprogram",i,"POST","program="+a.bi.id+"&time="+m),this.eb.init(),m=i);g={};h=x=t=q=i;E=j})}for(var a=this.t.ne,b=this.rd,d=r(a)?a.split(""):a,ka=a.length-1;0<=ka;--ka)ka in d&&b.call(this,d[ka],ka,a);S(S(S(S(this.o(),this.Ga,"click",s(this.aj,this)),H("close",this.Ga),"click",s(function(a){a.preventDefault();a.stopPropagation();cg(this)},this)),H("name",this.b()),"click",s(function(){this.t.id!=V.a().n.id&&this.t.i()&&V.a().e(rf,this.t)},this)),Uc.a().yd,
Sc,s(this.update,this));this.t.subscribe(xf,this.Yb,this);this.t.subscribe(Mf,this.rd,this);this.t.subscribe("remove-viewer",this.nj,this);this.t.subscribe(Nf,this.Ef,this);V.a().subscribe(sf,this.Ih,this);V.a().subscribe(rf,function(){this.xe=0;this.Ih()},this);Q.a().subscribe("toggle-admin",ba("td"),this);this.update()};n.Ih=function(){this.v&&C(this.$c[this.v],"playing");this.v=k;var a=V.a().n.i();if(a){var b=this.$c[a.id];b&&(this.v=a.id,B(b,"playing"))}};
n.Yb=function(a){var b=J("div",{"class":"program",id:a.id}),c=a.media.duration*this.Z,d=this.ka&&a.time.getTime()+1E3*a.media.duration>u();jc(b,zf,{hf:a,repeat:600<c,qe:d});this.$c[a.id]=b;var f=V.a().n.i();f&&a.id==f.id&&(B(b,"playing"),this.v=a.id);var g=H("thumb",b);O(function(){a.media.yf.height<T(b).height+50?(B(g,"fix-height"),B(g,"pan-left")):B(g,"pan-top");h&&Kd(g,200);F(b,"stretched",360<a.media.yf.height)});Kd(b,c-12);f=(a.time.getTime()-this.M.getTime())/1E3*this.Z;Cd(b,f);Cd(this.Ga,f+
c);this.Zc.appendChild(b);var h=120>c;F(b,"clipped",h);S(this.o(),b,"click",function(){Z.a().e(dg,a.media)});var m=D(b,"clipped")?200:T(b).width,q=H("title",b),t=T(q).width;S(S(this.o(),b,"mouseover",function(){if(Q.a().Od){var b=t+Ed(q).x;b>m&&(xd(q,"margin-left",-(b-m-10)+"px"),B(q,"marquee"));this.td||xd(g,"background-position-y",a.media.yc+10*Math.max(a.media.yf.width/m,1)+"%")}}),b,"mouseout",function(){Q.a().Od&&(xd(q,"margin-left",""),C(q,"marquee"),this.td||xd(g,"background-position-y",a.media.yc+
"%"))});d&&(c=new Vd(H("repos",b)),c.Dd=function(a,b){var c=b-24;-50<=c&&50>=c&&xd(g,"background-position-y",50-c+"%")},S(S(this.o(),c,"end",function(){var b=(g.style[Ia("background-position")]||"").split(" ")[1],b=b.substring(0,b.length-1);a.media.yc=b;Y("/admin/_posthumb",ge(),"POST","media="+a.media.id+"&pos="+b)}),H("remove",b),"click",s(this.Yi,this,a,b)))};n.Ef=function(a){var b=this.$c[a.id],a=(ed(a.time+"Z").getTime()-this.M.getTime())/1E3*this.Z;Cd(b,a)};
n.Yi=function(a,b){Tb(b);Y("/admin/_removeprogram",i,"POST","program="+a.id)};n.rd=function(a){if(X.a().G.id!=a.w.id){var b=this.Wb[a.w.id];b||(b=J("div","viewer"),this.Mh.appendChild(b),this.Wb[a.w.id]=b);if(this.t.i()&&(!a.ld||a.ld.getTime()>this.M.getTime())){var c=K(Af,{w:a.w});b.appendChild(c);var d=Math.max(a.Cf.getTime(),this.M.getTime()),b=(d-this.M.getTime())/1E3*this.Z+200,d=(u()-d)/1E3*this.Z;Kd(c,d);Cd(c,b);xd(c,"background",a.w.color);S(this.o(),c,"click",function(){Z.a().e(eg,a.w)})}}};
n.nj=function(a){this.Wb[a.id]&&(Tb(this.Wb[a.id]),Gb(this.Wb,a.id))};n.aj=function(){if(!D(this.Ga,"show")){Nd(H("select-program",this.Ga),1);B(this.Ga,"show");var a=this.Tb,b=fg(a);a.Ne=j;a.b().focus();!b&&!gg&&(a.b().value=a.Ba);a.b().select();gg||(a.m&&sd(a.m,a.b(),"click",a.Ie),O(a.fi,10,a))}};function cg(a){C(a.Ga,"show");a.Tb.ob("");H("page2",a.b()).innerHTML=""}
n.af=function(){var a=H("select-content",this.b()),b=H("page2",this.b());if(!Ub(b).length)try{var c;var d=this.Tb.X(),f=hg.exec(d);f?c=new ig(f[1]||f[2],i,i):e(Error("failed to parse video id from youtube url: "+d));Y(za("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.Kj),s(function(d){d=jg(kg(d.target)).entry;jc(b,Bf,{title:d.title.$t,Cj:d.media$group.media$thumbnail[0].url});d=new kf("YES");d.g(H("button",b));(new qe(a,[0,0],[160,0],300,lg)).play();S(this.o(),d,"action",s(this.$i,
this,c))},this))}catch(g){}};n.$i=function(a){Y("/_addprogram",s(function(a){a=mg(a.target);a.id&&(a=new wf(a),this.t.e(xf,a))},this),"POST","channel_id="+this.t.id+"&url="+a.Cc);Nd(H("button",this.Ga),0);R(H("added",this.Ga),j);Nd(H("select-program",this.Ga),0);O(s(function(){cg(this)},this),3E3)};
n.update=function(){F(this.b(),"offline",!this.t.qa.length);if(this.t.qa.length){if(this.th){var a="",b=T(this.Zc).width,c,d,f,g=(u()-this.M)/1E3,h=Wa(this.kg,0,Math.floor(g/40));w(h,function(m,q){c=m.x/this.zc*b;d=60-60*(m.y/this.We);q==h.length-1&&(c=g/this.zc*b);c+=6;q?(a+="L"+[c-30,f],a+="C"+[c-20,f,c-10,d,c,d]):a+="M"+[c,d]+"R";f=d},this);this.ii.attr({path:a+"L"+c+",60 10,60z"})}if(this.v&&2<this.xe){var m=this.$c[this.v],q=Ed(m).x+Ed(G("guide")).x,m=H("title",m);Cd(m,5>q?-q+10:5)}else this.xe++;
Cb(this.t.ne,function(a){if(this.t.i()&&!a.ld&&this.Wb[a.w.id]){var b=Math.max(a.Cf.getTime(),this.M.getTime());T(this.Zc);var c=Math.floor((u()-b)/1E3*this.Z),d=W.a().i();a.w.id==X.a().G.id&&d&&(c=Math.floor((d.time.getTime()+1E3*W.a().Mc()-b)/1E3*this.Z));Kd(this.Wb[a.w.id].lastChild,c)}},this);q=T(this.He).height;m=T(this.Mh).height;q-=m;0>q&&xd(this.He,"margin-top",-q+"px");Jd(this.bh,T(this.b()).height-1)}};function X(){P.call(this);this.Jh={}}v(X,P);la(X);X.prototype.add=function(a){this.Jh[a.id]=a};X.prototype.get=function(a){return this.Jh[a]};function ng(a,b){var c=a.get(b.id);c||(c=new If(b),a.add(c));return c};function og(a){if("function"==typeof a.Md)return a.Md();if(r(a))return a.split("");if(oa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Db(a)}function pg(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(oa(a)||r(a))w(a,b,c);else{var d;if("function"==typeof a.Ge)d=a.Ge();else if("function"!=typeof a.Md)if(oa(a)||r(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Eb(a);else d=i;for(var f=og(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function qg(a,b){this.lb={};this.J=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof qg?(c=a.Ge(),d=a.Md()):(c=Eb(a),d=Db(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}n=qg.prototype;n.L=0;n.Lh=0;n.Md=function(){rg(this);for(var a=[],b=0;b<this.J.length;b++)a.push(this.lb[this.J[b]]);return a};n.Ge=function(){rg(this);return this.J.concat()};
n.clear=function(){this.lb={};this.Lh=this.L=this.J.length=0};function rg(a){if(a.L!=a.J.length){for(var b=0,c=0;b<a.J.length;){var d=a.J[b];Object.prototype.hasOwnProperty.call(a.lb,d)&&(a.J[c++]=d);b++}a.J.length=c}if(a.L!=a.J.length){for(var f={},c=b=0;b<a.J.length;)d=a.J[b],Object.prototype.hasOwnProperty.call(f,d)||(a.J[c++]=d,f[d]=1),b++;a.J.length=c}}n.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.lb,a)?this.lb[a]:b};
n.set=function(a,b){Object.prototype.hasOwnProperty.call(this.lb,a)||(this.L++,this.J.push(a),this.Lh++);this.lb[a]=b};n.clone=function(){return new qg(this)};function sg(a){return tg(a||arguments.callee.caller,[])}
function tg(a,b){var c=[];if(Qa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(ug(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=ug(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(tg(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function ug(a){if(vg[a])return vg[a];a=String(a);if(!vg[a]){var b=/function ([^\(]+)/.exec(a);vg[a]=b?b[1]:"[Anonymous]"}return vg[a]}var vg={};function wg(a,b,c,d,f){this.reset(a,b,c,d,f)}wg.prototype.sj=0;wg.prototype.ig=k;wg.prototype.hg=k;var xg=0;wg.prototype.reset=function(a,b,c,d,f){this.sj="number"==typeof f?f:xg++;this.Nk=d||u();this.Tc=a;this.Li=b;this.Bk=c;delete this.ig;delete this.hg};wg.prototype.rh=ba("Tc");function yg(a){this.Mi=a}yg.prototype.B=k;yg.prototype.Tc=k;yg.prototype.R=k;yg.prototype.Bg=k;function zg(a,b){this.name=a;this.value=b}zg.prototype.toString=ca("name");var Ag=new zg("SEVERE",1E3),Bg=new zg("WARNING",900),Cg=new zg("INFO",800),Dg=new zg("CONFIG",700),Eg=new zg("FINE",500);n=yg.prototype;n.getParent=ca("B");n.qg=function(){this.R||(this.R={});return this.R};n.rh=ba("Tc");function Fg(a){return a.Tc?a.Tc:a.B?Fg(a.B):k}
n.log=function(a,b,c){if(a.value>=Fg(this).value){a=this.hi(a,b,c);b="log:"+a.Li;p.console&&(p.console.timeStamp?p.console.timeStamp(b):p.console.markTimeline&&p.console.markTimeline(b));p.msWriteProfilerMark&&p.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Bg)for(var f=0,g=i;g=c.Bg[f];f++)g(d);b=b.getParent()}}};
n.hi=function(a,b,c){var d=new wg(a,String(b),this.Mi);if(c){d.ig=c;var f;var g=arguments.callee.caller;try{var h;var m=ia("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var q,t,x=l;try{q=c.lineNumber||c.Ak||"Not available"}catch(E){q="Not available",x=j}try{t=c.fileName||c.filename||c.sourceURL||m}catch(ka){t="Not available",x=j}h=x||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:q,
fileName:t,stack:c.stack||"Not available"}:c}f="Message: "+Ba(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ba(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ba(sg(g)+"-> ")}catch(ga){f="Exception trying to expose exception! You win, we lose. "+ga}d.hg=f}return d};function Gg(a,b){a.log(Ag,b,i)}n.info=function(a,b){this.log(Cg,a,b)};function Hg(a,b){a.log(Eg,b,i)}var Ig={},Jg=k;
function Kg(a){Jg||(Jg=new yg(""),Ig[""]=Jg,Jg.rh(Dg));var b;if(!(b=Ig[a])){b=new yg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Kg(a.substr(0,c));c.qg()[d]=b;b.B=c;Ig[a]=b}return b};function jg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function Lg(){}Lg.prototype.vd=k;var Mg;function Ng(){}v(Ng,Lg);function Og(a){return(a=Pg(a))?new ActiveXObject(a):new XMLHttpRequest}function Qg(a){var b={};Pg(a)&&(b[0]=j,b[1]=j);return b}
function Pg(a){if(!a.Fg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Fg=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Fg}Mg=new Ng;var Rg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Sg(a){M.call(this);this.headers=new qg;this.Dc=a||k}v(Sg,Pc);Sg.prototype.u=Kg("goog.net.XhrIo");var Tg=/^https?$/i,Ug=[];function Y(a,b,c,d){var f=new Sg;Ug.push(f);b&&N(f,"complete",b);N(f,"ready",xa(Vg,f));f.send(a,c,d,i)}function Vg(a){a.S();Ra(Ug,a)}n=Sg.prototype;n.ab=l;n.r=k;n.oe=k;n.Sc="";n.Qg="";n.Qc=0;n.Rc="";n.Ee=l;n.Rd=l;n.Oe=l;n.Lb=l;n.ke=0;n.Ub=k;n.ee="";n.Lj=l;
n.send=function(a,b,c,d){this.r&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Sc=a;this.Rc="";this.Qc=0;this.Qg=b;this.Ee=l;this.ab=j;this.r=this.Dc?Og(this.Dc):Og(Mg);this.oe=this.Dc?this.Dc.vd||(this.Dc.vd=Qg(this.Dc)):Mg.vd||(Mg.vd=Qg(Mg));this.r.onreadystatechange=s(this.gh,this);try{Hg(this.u,Wg(this,"Opening Xhr")),this.Oe=j,this.r.open(b,a,j),this.Oe=l}catch(f){Hg(this.u,Wg(this,"Error opening Xhr: "+f.message));Xg(this,f);return}var a=c||
"",g=this.headers.clone();d&&pg(d,function(a,b){g.set(b,a)});d=p.FormData&&a instanceof p.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.lb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");pg(g,function(a,b){this.r.setRequestHeader(b,a)},this);this.ee&&(this.r.responseType=this.ee);"withCredentials"in this.r&&(this.r.withCredentials=this.Lj);try{this.Ub&&(Rc.clearTimeout(this.Ub),this.Ub=k),0<this.ke&&(Hg(this.u,Wg(this,"Will abort after "+
this.ke+"ms if incomplete")),this.Ub=Rc.setTimeout(s(this.Fj,this),this.ke)),Hg(this.u,Wg(this,"Sending request")),this.Rd=j,this.r.send(a),this.Rd=l}catch(h){Hg(this.u,Wg(this,"Send error: "+h.message)),Xg(this,h)}};n.Fj=function(){"undefined"!=typeof ea&&this.r&&(this.Rc="Timed out after "+this.ke+"ms, aborting",this.Qc=8,Hg(this.u,Wg(this,this.Rc)),this.dispatchEvent("timeout"),this.abort(8))};function Xg(a,b){a.ab=l;a.r&&(a.Lb=j,a.r.abort(),a.Lb=l);a.Rc=b;a.Qc=5;Yg(a);Zg(a)}
function Yg(a){a.Ee||(a.Ee=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}n.abort=function(a){this.r&&this.ab&&(Hg(this.u,Wg(this,"Aborting")),this.ab=l,this.Lb=j,this.r.abort(),this.Lb=l,this.Qc=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Zg(this))};n.h=function(){this.r&&(this.ab&&(this.ab=l,this.Lb=j,this.r.abort(),this.Lb=l),Zg(this,j));Sg.c.h.call(this)};n.gh=function(){!this.Oe&&!this.Rd&&!this.Lb?this.Xi():$g(this)};n.Xi=function(){$g(this)};
function $g(a){if(a.ab&&"undefined"!=typeof ea)if(a.oe[1]&&4==ah(a)&&2==bh(a))Hg(a.u,Wg(a,"Local request error detected and ignored"));else if(a.Rd&&4==ah(a))Rc.setTimeout(s(a.gh,a),0);else if(a.dispatchEvent("readystatechange"),4==ah(a)){Hg(a.u,Wg(a,"Request complete"));a.ab=l;try{var b=bh(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var f;if(f=0===b){var g=String(a.Sc).match(Rg)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);f=!Tg.test(g?g.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Qc=6;var m;try{m=2<ah(a)?a.r.statusText:""}catch(q){Hg(a.u,"Can not get status: "+q.message),m=""}a.Rc=m+" ["+bh(a)+"]";Yg(a)}}finally{Zg(a)}}}
function Zg(a,b){if(a.r){var c=a.r,d=a.oe[0]?ja:k;a.r=k;a.oe=k;a.Ub&&(Rc.clearTimeout(a.Ub),a.Ub=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){Gg(a.u,"Problem encountered resetting onreadystatechange: "+f.message)}}}n.Mb=function(){return!!this.r};function ah(a){return a.r?a.r.readyState:0}function bh(a){try{return 2<ah(a)?a.r.status:-1}catch(b){return a.u.log(Bg,"Can not get status: "+b.message,i),-1}}function mg(a){if(a.r)return jg(a.r.responseText)}
function kg(a){try{if(!a.r)return k;if("response"in a.r)return a.r.response;switch(a.ee){case "":case "text":return a.r.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.r)return a.r.mozResponseArrayBuffer}Gg(a.u,"Response type "+a.ee+" is not supported on this browser");return k}catch(b){return Hg(a.u,"Can not get response: "+b.message),k}}function Wg(a,b){return b+" ["+a.Qg+" "+a.Sc+" "+bh(a)+"]"};function V(){P.call(this);this.ac=[];this.$b={};this.subscribe(rf,this.zb,this)}v(V,P);la(V);V.prototype.get=function(a){return this.$b[a]};function ch(a){if(a.n&&a.n.i())return a.n;if(a.Vd&&a.Vd.i())return a.Vd;for(var b=a.ac[0],c=0;!b.i()&&c<a.ac.length;)b=a.ac[c],c++;return!b.i()?a.n:b}V.prototype.Ue=function(a,b){Cb(a,s(function(a){var b=new vf(a);this.ac.push(b);this.$b[a.id]=b;b.ea&&(this.ea=b)},this));this.n=this.$b[b]||this.ac[0];this.n=ch(this)};
V.prototype.zb=function(a,b){a&&(this.Vd=this.n,this.n=a,Y("/_changechannel",ge(),"POST","channel="+a.id+(b?"&forced=1":"")),Lf.a().zb(a,this.Vd))};var rf="change-channel",sf="next-program";function dh(){U.call(this);this.Kb=new kf("Guide");bf(this.Kb,16,j);this.Wa=new kf("Sidebar");bf(this.Wa,16,j);this.lf=new kf("Restart");this.Ua=new kf("Play");bf(this.Ua,16,j);this.pd=new kf("Volume");bf(this.pd,16,j);this.Zb=new kf("Admin");bf(this.Zb,16,j)}v(dh,U);n=dh.prototype;
n.p=function(){dh.c.p.call(this);this.pj=H("right",this.b());this.jf=H("progress",this.b());this.Gk=H("seek",this.b());this.ci=H("elapsed",this.b());this.Hj=H("title",this.b());this.gg=H("duration",this.b());this.nk=H("current-time",this.b());Ae(this,this.Kb);this.Kb.g(G("guide-toggle"));af(this.Kb,!V.a().n.ea);Ae(this,this.Wa);this.Wa.g(G("sidebar-toggle"));Ae(this,this.lf);this.lf.g(H("restart",this.b()));Ae(this,this.Ua);this.Ua.g(H("play",this.b()));Ae(this,this.pd);this.pd.g(H("volume",this.b()));
Ae(this,this.Zb);this.Zb.g(G("admin-toggle"));R(this.Zb.b(),X.a().G.If==Jf);var a=new ag(this.Bj,1E3,this);S(S(S(S(S(S(S(S(this.o(),window,"resize",s(this.resize,this)),this.Kb,"action",s(function(){a.Fe()},this)),this.Wa,"action",s(function(a){a.stopPropagation();Q.a().e(Xc,Ke(this.Wa))},this)),this.lf,"action",s(function(a){a.stopPropagation();W.a().i()&&(W.a().e(tf,W.a().i().media),this.resize())},this)),this.Ua,"action",s(function(a){a.stopPropagation();Q.a().e(Zc,!Ke(this.Ua));this.resize()},
this)),this.pd,"action",s(function(a){a.stopPropagation();Q.a().e("mute",Ke(this.pd))},this)),this.Zb,"action",s(function(a){a.stopPropagation();Q.a().e("toggle-admin",Ke(this.Zb));this.resize()},this)),Uc.a().yd,Sc,s(function(){if(V.a().n.ea&&W.a().i()){var a=W.a().getCurrentTime()/W.a().i().media.duration;Zb(this.gg,(W.a().getCurrentTime()?eh(W.a().getCurrentTime().toString())+" / ":"")+eh(W.a().i().media.duration.toString()));Kd(this.ci,this.kf?a*this.kf:0)}},this));W.a().subscribe(tf,this.qh,
this);V.a().subscribe(rf,function(){C(this.b(),"window");O(s(this.resize,this),1E3)},this);V.a().subscribe(sf,function(){this.resize()},this);Q.a().subscribe(Yc,this.le,this);Q.a().subscribe(Xc,function(a){af(this.Wa,a);this.resize()},this);Q.a().subscribe(Zc,function(a){af(this.Ua,!a)},this);W.a().subscribe(fh,function(){V.a().n.ea&&W.a().i()&&this.resize()},this);this.resize()};n.qh=function(a){Zb(this.Hj,a.name.toUpperCase());Zb(this.gg,eh(a.duration.toString()))};
n.Bj=function(){var a=Ke(this.Kb);Q.a().e(Yc,a)};n.le=function(a){af(this.Kb,a);a&&(C(this.b(),"window"),C(this.b(),"collapsed"),O(s(this.resize,this)));O(s(function(){F(this.b(),"guide-toggled",a);a||(V.a().n&&V.a().n.i(),B(this.b(),"collapsed"),this.resize())},this),a?0:600)};
n.resize=function(){Kd(this.b(),I().width-(Ke(this.Wa)?300:0));if(V.a().n.ea)W.a().i()&&(R(this.jf,j),this.qh(W.a().i().media),this.kf=I().width-(Ke(this.Wa)?560:260)-(mf()?50:0),Kd(this.jf,this.kf));else{R(this.jf,l);var a=G("guide"),b=H("current",a),b=Ob("program",b),c=b[b.length-1],a=c?Ed(a).x+Ed(c).x+T(c).width+210:9999999,d=Math.min(I().width-200,Math.max(100,I().width-a)),a=Ke(this.Wa)&&300<d?d-295:d+5;this.qj!=a&&(this.qj=a,Kd(this.pj,a));O(s(function(){F(this.b(),"window",D(this.b(),"collapsed")&&
!!c&&d<I().width-203)},this),400)}};function W(){P.call(this);this.subscribe(tf,function(a){Lf.a();var b=b||[];b.push(["_trackEvent","Media","Play",a.id]);b.push(["_trackEvent","Users","Play",X.a().G.id])},this)}v(W,P);la(W);W.prototype.rf=ba("q");W.prototype.i=ca("v");W.prototype.getCurrentTime=function(){return this.q&&this.q.getCurrentTime?this.q.getCurrentTime():0};W.prototype.Mc=function(){return this.q&&this.q.getCurrentTime?this.q.getCurrentTime():0};var tf="play-async",fh="playing";function gh(){de.call(this);this.queue=[]}v(gh,de);gh.prototype.add=function(a){Qa(this.queue,a)||(this.queue.push(a),N(a,"finish",this.Oi,l,this))};gh.prototype.h=function(){w(this.queue,function(a){a.S()});this.queue.length=0;gh.c.h.call(this)};function hh(){gh.call(this);this.wa=0}v(hh,gh);
hh.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.f==ee)this.wa<this.queue.length&&this.queue[this.wa].f!=ee&&this.queue[this.wa].stop(l),this.wa=0,this.mb();else if(1==this.f)return l;this.ia("play");-1==this.f&&this.ia("resume");this.startTime=u();this.Lc=k;this.f=1;this.queue[this.wa].play(a);return j};
hh.prototype.stop=function(a){this.f=ee;this.Lc=u();if(a)for(a=this.wa;a<this.queue.length;++a){var b=this.queue[a];b.f==ee&&b.play();b.f==ee||b.stop(j)}else this.wa<this.queue.length&&this.queue[this.wa].stop(l);this.ia("stop");this.nb()};hh.prototype.Oi=function(){1==this.f&&(this.wa++,this.wa<this.queue.length?this.queue[this.wa].play():(this.Lc=u(),this.f=ee,this.ia("finish"),this.nb()))};function ih(a){return a*a*a}function lg(a){return 1-Math.pow(1-a,3)};function jh(){U.call(this)}v(jh,U);n=jh.prototype;
n.p=function(){jh.c.p.call(this);(this.v=(this.O=V.a().n)&&this.O.i())&&u();this.Ld=H("fullscreen",this.b());var a=H("expand",this.b());R(this.Ld,this.yh());this.uh=G("stagecover");this.Yg=H("message",this.uh);this.pb=H("spinner",this.uh);kh(this);this.v?lh(this,this.v):W.a().e("no-media");S(S(S(S(S(this.o(),window,"resize",s(this.resize,this)),this.Ld,"click",s(function(a){if(zb(this.Ld,"full")){var c=H("main");c.mh&&c.mh();c.webkitRequestFullScreen&&c.webkitRequestFullScreen();c.mozRequestFullScreen&&
c.mozRequestFullScreen()}else document.Uh&&document.Uh(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();a.stopPropagation();a.preventDefault()},this)),this.b(),"dblclick",s(this.Ch,this)),a,"click",s(this.Ch,this)),this.b(),"click",s(function(){if(this.q&&this.q.getPlayerState)switch(this.q.getPlayerState()){case YT.PlayerState.PLAYING:Q.a().e(Zc,l);break;case YT.PlayerState.PAUSED:Q.a().e(Zc,j)}},this));V.a().subscribe(rf,
this.zb,this);V.a().subscribe(sf,function(a){this.v=a;lh(this,a);kh(this)},this);W.a().subscribe(tf,this.ef,this);Q.a().subscribe(Xc,function(a){this.resize(a)},this);Q.a().subscribe(Yc,function(){O(s(this.resize,this))},this);Q.a().subscribe(Zc,function(a){a?this.q.playVideo():this.q.pauseVideo();var a=H(a?"play":"pause",this.b()),c=new hh;c.add(new te(a,250,lg));c.add(new se(a,250,ih));c.play()},this);Q.a().subscribe("mute",function(a){this.q&&(a?this.q.mute():this.q.unMute())},this);Q.a().subscribe("restart",
function(){this.q.seekTo(0)},this);this.resize()};n.yh=function(){var a=H("main");return!(!a.mh&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};n.Ch=function(a){a.preventDefault();a.stopPropagation();Z.a();a=!D(G("sidebar"),"toggled");Q.a().e(Xc,a);Q.a().e(Yc,a)};function lh(a,b){W.a().v=b;a.play(b.media)}
n.play=function(a,b){!this.q||!this.q.loadVideoById?(this.q=new YT.Player("ytplayer",{height:I().height-40,width:I().width,videoId:a.kc,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque"},events:{onStateChange:s(this.gj,this),onReady:s(this.Wi,this),onError:s(this.Vi,this)}}),W.a().rf(this.q)):(this.q.cueVideoById(a.kc),O(s(function(){var c=b||0;!this.q.getPlayerState()&&4>c&&this.play(a,++c)},this),1E3))};
n.resize=function(){var a=G("ytplayer"),b=G("stagecover"),c=H("message",b),d=G("guide").style.height,d=d.substring(0,d.length-2),f=D(G("sidebar"),"toggled")?300:0;Jd(a,I().height-d);Kd(a,I().width-f);Jd(b,I().height-d);Kd(b,I().width-f);a=T(c);xd(c,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});F(this.Ld,"full",this.yh&&(document.fullScreen||document.webkitIsFullScreen||document.Dk))};n.zb=function(a){if(a=a.i())this.v=a,lh(this,a);kh(this)};
n.ef=function(a){this.Qf=a;this.play(a,0);Y("/_optin",ge(),"POST","media_id="+this.v.media.id)};
n.gj=function(a){this.jh=a.data;kh(this);switch(a.data){case YT.PlayerState.CUED:a=(u()-this.v.time.getTime())/1E3;this.q.seekTo(a);this.q.playVideo();Q.a().e(Zc,j);break;case YT.PlayerState.PLAYING:W.a().e(fh);break;case YT.PlayerState.ENDED:var a=X.a().G.Cd,b=this.v.media;Y("/_seen",ge(),"POST","media_id="+b.id+"&session_id="+a.id);a.Wg.push(b);(a=V.a().n.i())?V.a().e(sf,a):(W.a().v=k,V.a().e(rf,ch(V.a()),j),this.Qf?this.Qf=k:Y("/_started",ge(),"POST","media_id="+this.v.media.id))}};
n.Wi=function(){O(s(function(){if(this.q&&(!this.q.getPlayerState||!this.q.getPlayerState()))lh(this,this.v);else if(this.q.getPlayerState()){var a=(u()-this.v.time.getTime())/1E3;this.q.seekTo(a);this.q.playVideo()}},this),1E3)};n.Vi=function(){W.a().e("no-media")};
function kh(a){var b=G("stagecover"),c=a.v?(u()-a.v.time.getTime())/1E3:0;!a.v||a.v&&c>a.v.media.duration?(W.a().e("no-media"),Zb(a.Yg.firstChild,mh),R(a.pb,l),B(b,"covered")):a.jh!=YT.PlayerState.PLAYING&&a.jh!=YT.PlayerState.PAUSED?(Zb(a.Yg.firstChild,nh),R(a.pb,j),B(b,"covered")):(R(a.pb,l),C(b,"covered"));a.resize()}var mh="THIS CHANNEL IS CURRENTLY OFFLINE",nh="LOADING STORY";function Zf(a,b){U.call(this,b);this.Ba=a||""}v(Zf,U);Zf.prototype.Oa=k;var gg="placeholder"in document.createElement("input");n=Zf.prototype;n.Oc=l;n.F=function(){this.d=this.za().F("input",{type:"text"})};n.P=function(a){Zf.c.P.call(this,a);this.Ba||(this.Ba=a.getAttribute("label")||"");var b;a:{var c=Mb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.Oc=j,C(this.b(),this.Ec));gg?this.b().placeholder=this.Ba:this.b().setAttribute("aria-label",this.Ba)};
n.p=function(){Zf.c.p.call(this);var a=new qd(this);S(a,this.b(),"focus",this.Ie);S(a,this.b(),"blur",this.ni);gg?this.m=a:(gb&&S(a,this.b(),["keypress","keydown","keyup"],this.ti),S(a,Mb(this.b())?Mb(this.b()).parentWindow||Mb(this.b()).defaultView:window,"load",this.Ci),this.m=a,oh(this));ph(this);this.b().Hi=this};n.Hb=function(){Zf.c.Hb.call(this);this.m&&(this.m.S(),this.m=k);this.b().Hi=k};function oh(a){!a.gi&&(a.m&&a.b().form)&&(S(a.m,a.b().form,"submit",a.xi),a.gi=j)}
n.h=function(){Zf.c.h.call(this);this.m&&(this.m.S(),this.m=k)};n.Ec="label-input-label";n.Ie=function(){this.Oc=j;C(this.b(),this.Ec);if(!gg&&!fg(this)&&!this.Ne){var a=this,b=function(){a.b().value=""};y?O(b,10):b()}};n.ni=function(){gg||(td(this.m,this.b(),"click",this.Ie),this.Oa=k);this.Oc=l;ph(this)};n.ti=function(a){27==a.keyCode&&("keydown"==a.type?this.Oa=this.b().value:"keypress"==a.type?this.b().value=this.Oa:"keyup"==a.type&&(this.Oa=k),a.preventDefault())};
n.xi=function(){fg(this)||(this.b().value="",O(this.mi,10,this))};n.mi=function(){fg(this)||(this.b().value=this.Ba)};n.Ci=function(){ph(this)};function fg(a){return!!a.b()&&""!=a.b().value&&a.b().value!=a.Ba}n.clear=function(){this.b().value="";this.Oa!=k&&(this.Oa="")};n.reset=function(){fg(this)&&(this.clear(),ph(this))};n.ob=function(a){this.Oa!=k&&(this.Oa=a);this.b().value=a;ph(this)};n.X=function(){return this.Oa!=k?this.Oa:fg(this)?this.b().value:""};
function ph(a){gg?a.b().placeholder!=a.Ba&&(a.b().placeholder=a.Ba):(oh(a),a.b().setAttribute("aria-label",a.Ba));fg(a)?C(a.b(),a.Ec):(!a.Ne&&!a.Oc&&B(a.b(),a.Ec),gg||O(a.oj,10,a))}n.Va=function(a){this.b().disabled=!a;F(this.b(),this.Ec+"-disabled",!a)};n.isEnabled=function(){return!this.b().disabled};n.fi=function(){this.Ne=l};n.oj=function(){this.b()&&(!fg(this)&&!this.Oc)&&(this.b().value=this.Ba)};function qh(a,b,c){M.call(this);this.kb=a;this.H=b;this.Aa=c;this.we=s(this.cj,this)}v(qh,M);var ag=qh;n=qh.prototype;n.ie=l;n.ih=0;n.ga=k;n.Fe=function(){!this.ga&&!this.ih?this.Jc():this.ie=j};n.stop=function(){this.ga&&(Rc.clearTimeout(this.ga),this.ga=k,this.ie=l)};n.h=function(){qh.c.h.call(this);this.stop()};n.cj=function(){this.ga=k;this.ie&&!this.ih&&(this.ie=l,this.Jc())};n.Jc=function(){this.ga=O(this.we,this.H);this.kb.call(this.Aa)};function rh(a,b){M.call(this);this.kb=a;this.Aa=b;this.Na=new fe(s(this.bj,this),0,this)}v(rh,M);n=rh.prototype;n.H=0;n.mf=0;n.Jg=l;n.h=function(){this.Na.S();delete this.kb;delete this.Aa;rh.c.h.call(this)};n.start=function(a,b){this.stop();this.Jg=l;var c=b||0;this.H=Math.max(a||0,0);this.mf=0>c?-1:u()+c;this.Na.start(0>c?this.H:Math.min(this.H,c))};n.stop=function(){this.Na.stop()};n.Mb=function(){return this.Na.Mb()};
n.bj=function(){if(this.kb.call(this.Aa))this.Jg=j;else if(0>this.mf)this.Na.start(this.H);else{var a=this.mf-u();0>=a||this.Na.start(Math.min(this.H,a))}};function $f(a){M.call(this);this.d=a;this.Vc=this.d.value;this.m=new qd(this);this.Rg=u();z||y||gb&&A("1.9")?S(this.m,a,"paste",this.ec):S(this.m,a,["keydown","blur","focus","mouseover","input"],this.vi);this.Na=new rh(s(this.Vf,this))}v($f,Pc);var bg="after_paste";n=$f.prototype;n.f="init";n.u=Kg("goog.events.PasteHandler");n.h=function(){$f.c.h.call(this);this.m.S();this.m=k;this.Na.S();this.Na=k};
n.Vf=function(){if(this.Vc==this.d.value)return l;this.u.info("detected textchange after paste");this.dispatchEvent(bg);return j};n.ec=function(a){a=new xc(a.na);a.type="paste";this.dispatchEvent(a);O(function(){this.Vf()||this.Na.start(50,200)},0,this)};
n.vi=function(a){switch(this.f){case "init":switch(a.type){case "blur":this.f="init";break;case "focus":this.f="focused";break;case "mouseover":this.f="init";this.d.value!=this.Vc&&(this.u.info("paste by dragdrop while on init!"),this.ec(a));break;default:Gg(this.u,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.Rg+400;if(u()>b||"focus"==this.lj)this.u.info("paste by textchange while focused!"),this.ec(a);break;case "blur":this.f="init";break;
case "keydown":this.u.info("key down ... looking for ctrl+v");if(ab&&fb&&0==a.keyCode||ab&&fb&&17==a.keyCode)break;this.f="typing";break;case "mouseover":this.d.value!=this.Vc&&(this.u.info("paste by dragdrop while focused!"),this.ec(a));break;default:Gg(this.u,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.f="focused";break;case "blur":this.f="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.u.info("paste by ctrl+v while keypressed!"),
this.ec(a);break;case "mouseover":this.d.value!=this.Vc&&(this.u.info("paste by dragdrop while keypressed!"),this.ec(a));break;default:Gg(this.u,"unexpected event "+a.type+" during keypressed")}break;default:Gg(this.u,"invalid "+this.f+" state")}this.Rg=u();this.Vc=this.d.value;this.u.info(a.type+" -> "+this.f);this.lj=a.type};function Z(){P.call(this)}v(Z,P);la(Z);var dg="media-info",eg="profile";function sh(a){return'<div class="info"><div class="picture"><img src="'+L(a.media.Za)+'" class="thumb"><div class="publisher"><img src="'+L(a.media.Da.Y)+'"><div class="name">'+L(a.media.Da.name)+'</div></div><div class="title">'+L(a.media.name)+'</div><div class="scrollable ios-scroll"><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+L(a.Ob)+'</div></div><div class="description">'+L(a.media.description)+'</div></div><div class="options"><div class="button star"></div><div class="button facebook"></div><div class="button twitter"></div><div class="button play"></div><div class="button plus"></div></div></div><div class="viewers" style="display: none"><div class="label">SEEN BY</div></div><div class="tweet-holder" style="display:none"><div class="label">LATEST TWEETS</div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display: none"><div class="label">CONVERSATION</div><div class="comments"></div></div></div>'}
function th(a){return'<div class="viewer" style="background-color:'+L(a.w.color)+'"><img src="'+L(a.w.Y)+'"></div>'}function uh(a){return'<div class="tweet"><img src="'+L(a.md.Y)+'"/><div class="text"><a target="_blank" href="http://www.twitter.com/'+L(a.md.handle)+"/status/"+L(a.md.id)+'">'+L(a.md.handle)+"</a> "+L(a.md.text)+'</div><div class="timestamp">'+L(a.timestamp)+"</div></div>"}
function vh(a){return'<div class="comment"><img src="'+L(a.Gc.w.Y)+'"/><div class="text"><a href="#">'+L(a.Gc.w.name)+"</a> "+L(a.Gc.text)+'</div><div class="timestamp">'+L(a.timestamp)+"</div></div>"}
function wh(){return'<div class="comment-input"><div class="comment-controls"><div class="comment-button tweet-toggle">tweet<div class="check"></div></div><div class="comment-button fb-toggle">post<div class="check"></div></div><div class="comment-button add-comment">add</div></div><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div></div>'}
function xh(a){var b='<div class="activity'+(1<a.aa.length?" digest":"")+'">';if(1<a.aa.length){for(var b=b+('<div class="text"><span>'+L(a.aa.length)+" friends </span>"+(a.Eh?"watched":"are watching")+(a.ha?' <a href="#channel:'+L(a.ha.id)+'">'+L(a.ha.name)+"</a>":"")+'<div class="timestamp">'+L(a.time)+'</div></div><div class="users">'),c=a.aa,d=c.length,f=0;f<d;f++)var g=c[f],b=b+('<a href="#user:'+L(g.id)+'"><div class="picture" style="background:'+L(g.color)+'"><img src="'+L(g.Y)+'"/></div></a>');
b+="</div>"}return b+=(1==a.aa.length?'<a href="#user:'+L(a.aa[0].id)+'"><div class="picture" style="background:'+L(a.aa[0].color)+'"><img src="'+L(a.aa[0].Y)+'"/></div></a><div class="text"><a class="user" href="#user:'+L(a.aa[0].id)+'">'+L(a.aa[0].name)+"</a> "+(a.Eh?"watched":"is watching")+(a.ha?' <a href="#channel:'+L(a.ha.id)+'">'+L(a.ha.name)+"</a>":"")+'<div class="timestamp">'+L(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function yh(a){for(var b='<div class="comment activity'+(1<a.Hc.length?" digest":"")+'">'+(1<a.Hc.length?'<div class="text">'+(1==a.aa.length?'<a class="user" href="#user:'+L(a.aa[0].id)+'">'+L(a.aa[0].name)+' </a> discussed <a class="title" href="#info:'+L(a.media.id)+'">'+L(a.media.name)+"</a>.":"<span>"+L(a.aa.length)+' friends </span> discussed <a class="title" href="#info:'+L(a.media.id)+'"> '+L(a.media.name)+"</a>.")+"</div>":""),a=a.Hc,c=a.length,d=0;d<c;d++)var f=a[d],b=b+('<div class="comment"><a href="#user:'+
L(f.w.id)+'"><div class="picture" style="background:'+L(f.w.color)+'"><img src="'+L(f.w.Y)+'"/></div></a><div class="text"><a class="user" href="#user:'+L(f.w.id)+'">'+L(f.w.name)+"</a>  "+L(f.text)+'<div class="timestamp">'+L(f.mj)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function zh(a){return'<div class="list-info"><div class="picture-cell" '+(a.Za?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+L(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+L(a.Za)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" '+(a.description?'style="display:table-cell"':"")+">"+L(a.description)+"</div></div>"}function Ah(a){return'<li class="'+L(a.className)+' tab"><div class="label">'+L(a.name)+"</div></li>"}
function Bh(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.Hg?'placeholder="'+L(a.Hg)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function Ch(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="spinner" style="display:none"></div></div>'}
function Dh(a){return'<div class="playlist"><div class="title">'+L(a.ij.name)+"</div></div>"}function Eh(a){return'<div class="channel '+(a.ha.Ek?"on":"off")+'"><div class="title">'+L(a.ha.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.ha.rc?'<div class="pending">'+L(a.ha.rc)+"</div>":"")+"</div>"}
function Fh(a){return'<div class="collection"><div class="title">'+L(a.ye.name)+'</div><div class="controls">'+(a.ye.rc?'<div class="pending">'+L(a.ye.rc)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Gh(a){return'<div class="topic"><div class="title">'+L(a.Ij)+'</div><div class="controls">'+(a.rc?'<div class="pending">'+L(a.rc)+"</div>":"")+"</div></div>"}
function Hh(){return'<div class="tabbed activity"><ul class="tabs"><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label">STARRED</div></li></ul><div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function Ih(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+L(a.media.Za)+"); background-position: 50% "+L(a.media.yc)+'%"></div><div class="title">'+L(a.media.name)+'</div></div></div><div class="publisher"><img src="'+L(a.media.Da.Y)+'"><div class="name">'+L(a.media.Da.name)+"</div></div></div>"}
function Jh(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+L(a.media.Za)+"); background-position: 50% "+L(a.media.yc)+'%"></div><div class="title">'+L(a.media.name)+'</div><div class="published">'+L(a.Ob)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+L(a.media.Da.Y)+'"><div class="name">'+L(a.media.Da.name)+
'</div><div class="duration">'+L(a.media.duration)+' seconds</div></div><div class="description">'+L(a.media.description)+"</div></div>"};function Kh(){M.call(this);this.Pc=[];this.Aj=[];this.bd=[]}v(Kh,Pc);n=Kh.prototype;n.Ng=l;n.Og=l;n.Pe=l;n.sh=ba("ge");n.init=function(){if(!this.Pe){for(var a,b=0;a=this.Pc[b];b++)Lh(this,a);this.Pe=j}};function Lh(a,b){a.Ng&&(N(b.element,"mousedown",b.$g,l,b),a.uf&&B(b.element,a.uf));a.Og&&a.xf&&B(b.element,a.xf)}
n.Sb=function(a,b){if(!this.ma)if(this.ma=b,this.dispatchEvent(new Mh("dragstart",this,this.ma))==l)this.ma=k;else{var c=b.bc,d=this.zd(c);this.$h&&B(d,this.$h);this.gc=d;d=Mb(c);d.body.appendChild(this.gc);var f=this.gc,g=Hd(c),c=Rd(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.l=new Vd(f);this.l.sh(this.ge);N(this.l,"drag",this.ah,l,this);N(this.l,"end",this.Gb,l,this);N(d.body,"selectstart",this.zh);this.xc=[];for(d=
0;c=this.Aj[d];d++)for(var h,f=0;h=c.Pc[f];f++)for(var g=c,m=[h.element],q=this.xc,t=0;t<m.length;t++){var x=m[t],E=Hd(x),ka=T(x),E=new vd(E.y,E.x+ka.width,E.y+ka.height,E.x);q.push(new Nh(E,g,h,x));Oh(this,E)}this.Ya||(this.Ya=new vd(0,0,0,0));for(d=0;c=this.bd[d];d++)c.ze=[],c.nh=c.d.scrollLeft,c.oh=c.d.scrollTop,f=Hd(c.d),g=T(c.d),c.K=new vd(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.xc[d];d++)for(f=0;c=this.bd[f];f++)Yb(c.d,g.d)&&(c.ze.push(g),g.ad=c);this.wb=k;for(d=0;c=this.bd[d];d++)N(c.d,
"scroll",this.Zf,l,this);this.l.Sb(a);a.preventDefault()}};
n.Gb=function(a){var b=a.Zh?k:this.wb;if(b&&b.la){var c=a.clientX,a=a.clientY,d=gc(Kb(this.gc)),f=c+d.x,d=a+d.y,g;this.gd&&(g=this.gd(b.Ta,b.K,f,d));this.dispatchEvent(new Mh("drag",this,this.ma,b.la,b.Ta,b.d,c,a,f,d));b.la.dispatchEvent(new Mh("drop",this,this.ma,b.la,b.Ta,b.d,c,a,f,d,g))}this.dispatchEvent(new Mh("dragend",this,this.ma));Ic(this.l,"drag",this.ah,l,this);Ic(this.l,"end",this.Gb,l,this);Ic(Mb(this.ma.bc).body,"selectstart",this.zh);for(b=0;c=this.bd[b];b++)Ic(c.d,"scroll",this.Zf,
l,this),c.ze=[];this.l.S();Tb(this.gc);delete this.ma;delete this.gc;delete this.l;delete this.xc;delete this.wb};
n.ah=function(a){var b,c=gc(Kb(this.gc));b=new Ab(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.wb,g;if(f){this.gd&&f.la&&(g=this.gd(f.Ta,f.K,c,d));if(f.K.contains(b)&&g==this.Jf)return;f.la&&(this.dispatchEvent(new Mh("dragout",this,this.ma,f.la,f.Ta,f.d)),f.la.dispatchEvent(new Mh("dragout",this,this.ma,f.la,f.Ta,f.d,i,i,i,i,this.Jf)));this.Jf=g;this.wb=k}if(this.Ya.contains(b)){a:{for(var h=0;f=this.xc[h];h++)if(f.K.contains(b))if(f.ad){if(f.ad.K.contains(b)){b=f;break a}}else{b=f;break a}b=
k}if((f=this.wb=b)&&f.la)this.gd&&(g=this.gd(f.Ta,f.K,c,d)),c=new Mh("dragover",this,this.ma,f.la,f.Ta,f.d),c.zj=g,this.dispatchEvent(c),f.la.dispatchEvent(new Mh("dragover",this,this.ma,f.la,f.Ta,f.d,a.clientX,a.clientY,i,i,g));else if(!f){this.ja||(this.ja=new Nh(this.Ya.clone()));a=this.ja.K;a.top=this.Ya.top;a.right=this.Ya.right;a.bottom=this.Ya.bottom;a.left=this.Ya.left;for(g=0;f=this.xc[g];g++)b=f.K,f.ad&&(f=f.ad.K,b=new vd(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=k,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),f!==k&&h!==k&&(Math.abs(f-c)>Math.abs(h-d)?h=k:f=k),f===k?h!==k&&(h<=d?a.top=h:a.bottom=h):f<=c?a.left=f:a.right=f;this.wb=10<=(a.right-a.left)*(a.bottom-a.top)?this.ja:k}}};n.zh=da(l);
n.Zf=function(a){for(var b=0,c;c=this.bd[b];b++)if(a.target==c.d){var d=c.oh-c.d.scrollTop,f=c.nh-c.d.scrollLeft;c.oh=c.d.scrollTop;c.nh=c.d.scrollLeft;this.ja&&this.wb==this.ja&&(0<d?this.ja.K.top+=d:this.ja.K.bottom+=d,0<f?this.ja.K.left+=f:this.ja.K.right+=f);for(var g=0,h;h=c.ze[g];g++)h=h.K,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,Oh(this,h)}this.l.hh(a)};
n.zd=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return J("table",k,J("tbody",k,b));case "td":case "th":return J("table",k,J("tbody",k,J("tr",k,b)));default:return b}};function Oh(a,b){if(1==a.xc.length)a.Ya=new vd(b.top,b.right,b.bottom,b.left);else{var c=a.Ya;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
n.h=function(){Kh.c.h.call(this);for(var a,b=0;a=this.Pc[b];b++)this.Ng&&(Ic(a.element,"mousedown",a.$g,l,a),this.uf&&C(a.element,this.uf)),this.Og&&this.xf&&C(a.element,this.xf),a.S();this.Pc.length=0};function Mh(a,b,c,d,f,g,h,m,q,t,x){uc.call(this,a);this.qk=b;this.rk=c;this.sk=d;this.uk=f;this.tk=g;this.clientX=h;this.clientY=m;this.Sk=q;this.Tk=t;this.zj=x}v(Mh,uc);Mh.prototype.h=aa();
function Ph(a,b){M.call(this);this.element=G(a);this.data=b;this.B=k;this.element||e(Error("Invalid argument"))}v(Ph,Pc);n=Ph.prototype;n.bc=k;n.$g=function(a){if(zc(a)){var b=a.target;b&&(N(b,"mousemove",this.pc,l,this),N(b,"mouseout",this.pc,l,this),N(b,"mouseup",this.Ze,l,this),this.bc=b,this.vf=new Ab(a.clientX,a.clientY),a.preventDefault())}};n.he=ba("B");
n.pc=function(a){var b=this.bc,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.vf.x)+Math.abs(a.clientY-this.vf.y)||c)Ic(b,"mousemove",this.pc,l,this),Ic(b,"mouseout",this.pc,l,this),Ic(b,"mouseup",this.Ze,l,this),this.B.Sb(a,this)};n.Ze=function(){var a=this.bc;Ic(a,"mousemove",this.pc,l,this);Ic(a,"mouseout",this.pc,l,this);Ic(a,"mouseup",this.Ze,l,this);delete this.vf;this.bc=k};function Nh(a,b,c,d){this.K=a;this.la=b;this.Ta=c;this.d=d}Nh.prototype.ad=k;function Qh(){Kh.call(this)}v(Qh,Kh);function Rh(a,b){b.he(a);a.Pc.push(b);a.Pe&&Lh(a,b)};function Sh(){}v(Sh,Ee);la(Sh);n=Sh.prototype;n.ic=aa();n.g=function(a,b){Xe(a);a.Ra&=-256;bf(a,32,l);Sh.c.g.call(this,a,b);a.Qb(b.value);return b};n.F=function(a){Xe(a);a.Ra&=-256;bf(a,32,l);return a.za().F("textarea",{"class":Ge(this,a).join(" "),disabled:!a.isEnabled()},a.Ka||"")};n.yb=function(a){return"TEXTAREA"==a.tagName};n.Rb=ja;n.Qe=function(a){return a.isEnabled()};n.vc=ja;n.fa=function(a,b,c){Sh.c.fa.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.Ha=ja;
n.Qb=function(a,b){a&&(a.value=b)};n.ba=da("goog-textarea");function Th(a,b,c){We.call(this,a,b||Sh.a(),c);Xe(this);this.uc(j);a||(this.Ka="")}v(Th,We);var Uh=gb||z;n=Th.prototype;n.lc=l;n.Qa=0;n.Tg=0;n.Zg=0;n.Cg=l;n.Zd=l;n.of=l;n.nf=l;function Vh(a){return a.Wc.top+a.Wc.bottom+a.Rf.top+a.Rf.bottom}function Wh(a){var b=a.Zg,c=a.b();b&&(c&&a.Zd)&&(b-=Vh(a));return b}function Xh(a){var b=a.Tg,c=a.b();b&&(c&&a.Zd)&&(b-=Vh(a));return b}n.ob=function(a){this.Qb(String(a))};n.X=function(){return this.b().value};n.Qb=function(a){Th.c.Qb.call(this,a);this.resize()};
n.Va=function(a){Th.c.Va.call(this,a);this.b().disabled=!a};n.resize=function(){this.b()&&this.Nd()};n.p=function(){Th.c.p.call(this);var a=this.b();xd(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.Wc=Rd(a,"padding");this.Rf=Ud(a);S(S(S(S(this.o(),a,"scroll",this.Nd),a,"focus",this.Nd),a,"keyup",this.Nd),a,"mouseup",this.Ki);this.resize()};
function Yh(a){if(!a.Cg){var b=a.b().cloneNode(l);xd(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.za().T.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.of=d>c;b.style.borderWidth="10px";a.nf=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Zd=j);Tb(b);a.Cg=j}var b=a.b(),c=a.b().scrollHeight,f=a.b(),d=f.offsetHeight-f.clientHeight;if(!a.of)var g=a.Wc,d=d-(g.top+g.bottom);
a.nf||(f=Ud(f),d-=f.top+f.bottom);c+=0<d?d:0;a.Zd?c-=Vh(a):(a.of||(d=a.Wc,c+=d.top+d.bottom),a.nf||(a=Ud(b),c+=a.top+a.bottom));return c}function Zh(a,b){a.Qa!=b&&(a.Qa=b,a.b().style.height=b+"px")}function $h(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.Nd=function(){if(!this.lc){var a=l;this.lc=j;var b=this.b(),c=this.Qa;if(b.scrollHeight){var d=l,f=l,g=Yh(this),h=b.offsetHeight,m=Wh(this),q=Xh(this);m&&g<m?(Zh(this,m),d=j):q&&g>q?(Zh(this,q),b.style.overflowY="",f=j):h!=g?Zh(this,g):this.Qa||(this.Qa=g);!d&&(!f&&Uh)&&(a=j)}else $h(this);this.lc=l;a&&(a=this.b(),this.lc||(this.lc=j,b=l,a.value||(a.value=" ",b=j),(f=a.scrollHeight)?(g=Yh(this),d=Wh(this),h=Xh(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.Wc,a.style.paddingBottom=h.bottom+1+"px",Yh(this)==
g&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=Yh(this)-f,f>=d?Zh(this,f):Zh(this,d)),a.style.paddingBottom=h.bottom+"px")):$h(this),b&&(a.value=""),this.lc=l));c!=this.Qa&&this.dispatchEvent("resize")}};n.Ki=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Qa&&(this.Qa=this.Zg=b)};function ai(a,b,c,d,f){U.call(this);this.ka=mf();this.Bb=a;this.ce=b;this.kh=c;this.zf=d||k;this.Ed=f||k;this.Ce=this.ka?new Qh:k;this.Ib={pending:l,all:l};this.sb=["pending","all","playlists"]}v(ai,U);n=ai.prototype;n.P=function(a){ai.c.P.call(this,a);a.innerHTML="";a.scrollTop=0;jc(a,Ch);var b=H("pending-content",a);w(this.ce,function(a){bi(this,b,a)},this);this.jj=H("playlists-content",a);w(this.kh,this.Of,this);this.resize()};
n.p=function(){ai.c.p.call(this);this.da=H("input",this.b());var a=new Ne(this.da),b=new $f(this.da);this.Xa=H("tabs",this.b());this.I="pending";var c=l;S(S(S(S(this.o(),window,"resize",xa(O,s(this.resize,this))),a,"key",s(function(a){"13"==a.keyCode&&ci(this,this.da.value)},this)),b,bg,s(function(){ci(this,this.da.value)},this)),this.Xa,"click",s(function(a){a=fc(a.target,"li");this.Uc(a)},this));S(this.o(),this.b(),"scroll",s(function(){if(this.Bb&&!c&&!this.Ib[this.I]&&this.b().scrollTop+I().height>
this.b().scrollHeight-this.b().clientTop){c=j;var a=H("spinner",this.b());R(a,j);var b="pending"==this.I?this.ce:this.re;Y("/admin/_media/collection/"+this.Bb+"?offset="+b.length+("pending"==this.I?"&pending=1":""),s(function(g){c=l;g=jg(kg(g.target)).medias;g=Ma(g,function(a){return new Df(a)});Ua(b,g);var h=H(this.I+"-content",this.b());w(g,function(a){bi(this,h,a)},this);this.Ib[this.I]=!g.length;F(a,"finished",!g.length)},this))}},this));this.resize()};
n.resize=function(){Jd(this.b(),I().height-40)};
function ci(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.Bb&&c&&(a.da.disabled="disabled",Y("admin/_add/collection/"+a.Bb,s(function(a){this.da.value="";this.da.disabled="";a=mg(a.target);if("media"==a.type){var b=Hf(Gf.a(),a.data);Oa(this.ce,function(a){return a.id==b.id})||(this.ce.push(b),a=H("pending-content",this.b()),bi(this,a,b,j),this.Uc(Pb("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Oa(this.kh,function(a){return a.id==
c.id})||(this.Of(c),this.Uc(Pb("li","playlists",i)[0]))}},a),"POST","url="+c))}n.Uc=function(a){w(this.sb,function(b){F(this.Xa.parentElement,b,D(a,b));this.I=D(a,b)?b:this.I},this);this.Bb&&!this.re&&Y("/admin/_media/collection/"+this.Bb,s(function(a){a=jg(kg(a.target)).medias;this.re=Ma(a,function(a){return new Df(a)});var c=H("all-content",this.b());w(this.re,function(a){bi(this,c,a)},this)},this))};n.Of=function(a){a=K(Dh,{ij:a});this.jj.appendChild(a)};
function bi(a,b,c,d){var f=K(Jh,{media:c,Ob:Ff(c)});d?b.insertBefore(f,b.childNodes[0]||k):b.appendChild(f);a.ka&&(b=a.Ce,d=new Ph(f,i),Rh(b,d));var b=new Vd(H("repos",f)),g=H("thumb",f),d=H("play",f),h=H("approve",f),m=H("remove",f);b.Dd=function(a,b){var c=b-24;-50<=c&&50>=c&&xd(g,"background-position-y",50-c+"%")};S(S(S(S(a.o(),b,"end",function(){var a=(g.style[Ia("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);Y("/admin/_posthumb",ge(),"POST","media="+c.id+"&pos="+a)}),
d,"click",s(a.fj,a,c)),h,"click",s(a.Pf,a,c,j,f)),m,"click",s(a.Pf,a,c,l,f));O(xa(B,f,"show"))}n.Pf=function(a,b,c){var d=a.Wh||this.Bb;Y("admin/_media/collection",s(function(){B(c,"remove");O(function(){Tb(c)},300);Q.a();var b;Q.a();b=cc(G("toggle-pending"));$c(0,b-1);Z.a().e("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};n.fj=function(a){W.a().e(tf,a)};function di(a){U.call(this);this.bb=a||k;this.Ac=this.Tf=this.Dh=this.Xf=0}v(di,U);n=di.prototype;n.F=function(){this.d=K(Bh)};n.P=function(a){di.c.P.call(this,a);var b=K(Bh,{Hg:this.bb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
n.p=function(){di.c.p.call(this);this.da=H("input",this.b());var a=new Ne(this.da);this.rj=H("scrollable",this.b());this.N=H("admin-channels",this.b());this.Bf=H("topics",this.b());this.Ad=H("collections",this.b());this.Wf=G("admin-col-list");this.sd=G("admin-list");V.a();this.bb?(Y("/admin/_topicmedias/"+this.bb,s(function(a){a=mg(a.target);Cb(a,function(a,b){R(this.Bf.parentElement,j);if(a&&a.length){var f=K(Gh,{Ij:b,rc:a.length});this.Bf.appendChild(f);N(f,"click",s(function(){a=Ma(a,function(a){return new Df(a)});
(new ai("",a,[])).g(this.sd);Z.a().e("navigate",this.sd,l,b)},this));Z.a().subscribe("approved",function(b){if(Oa(a,function(a){return a.id==b.id})){var d=H("pending",f),m=cc(d)-1;0>=m?(Tb(f),qc(f)):Zb(d,m)}},this)}},this);this.Ac&&$c(Q.a(),this.Ac);this.Dh=T(this.Bf.parentElement).height;this.resize()},this)),Y("/admin/_collections/"+this.bb,s(function(a){a=mg(a.target);R(this.Ad.parentElement,!!a.length);w(a,this.Mf,this);this.Ac&&$c(Q.a(),this.Ac);this.Xf=T(this.Ad.parentElement).height;this.resize()},
this))):Y("/admin/_channels",s(function(a){a=mg(a.target);R(this.N.parentElement,!!a.length);w(a,this.Lf,this);this.Tf=T(this.N.parentElement).height;this.resize()},this));S(this.o(),a,"key",s(function(a){"13"==a.keyCode&&this.da.value&&(a=this.da.value,this.da.disabled="disabled",Y(this.bb?"/admin/_collections":"/admin/_channels",s(function(a){a=mg(a.target);this.bb?(R(this.Ad.parentElement,!!a),this.Mf(a)):(R(this.N.parentElement,!!a),this.Lf(a));this.da.disabled="";this.da.value=""},this),"POST",
"name="+a+(this.bb?"&cid="+this.bb:"")))},this))};
n.Lf=function(a){var b=K(Eh,{ha:a});this.N.appendChild(b);N(b,"click",s(function(c){D(c.target,"on")||D(c.target,"off")?(F(b,"on",D(c.target,"on")),F(b,"off",!D(c.target,"on")),Y("/admin/_channel/online/"+a.id,s(function(a){a.target.disabled="";a=mg(a.target);F(b,"on",a.online);F(b,"off",!a.online)},this),"POST","online="+D(c.target,"on"))):D(c.target,"program")?Y("/admin/_program",ge(),"POST","channel_id="+a.id):D(c.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+a.id):D(c.target,"remove")&&confirm("Remove "+a.name+"?")?(R(b,l),Y("/admin/_channels/"+a.id,function(a){mg(a.target).deleted?Tb(b):R(b,j)},"DELETE")):((new di(a.id)).g(this.Wf),Z.a().e("navigate",this.Wf,l,a.name))},this))};
n.Mf=function(a){var b=K(Fh,{ye:a});this.Ac+=a.pending;this.Ad.appendChild(b);N(b,"click",s(function(c){D(c.target,"remove")&&confirm("Remove "+a.name+"?")?(R(b,l),Y("/admin/_collections/"+a.id,function(a){mg(a.target).deleted?Tb(b):R(b,j)},"DELETE")):D(c.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):Y("/admin/_media/collection/"+a.id+"?pending=1",s(function(b){var b=jg(kg(b.target)),c=b.medias,c=Ma(c,function(a){return new Df(a)});
(new ai(a.id,c,b.playlists)).g(this.sd);Z.a().e("navigate",this.sd,l,a.name)},this))},this));Z.a().subscribe("approved",function(c,d){if(d==a.id){var f=H("pending",b),g=cc(f)-1;0>=g?(Tb(b),qc(b)):Zb(f,g)}},this)};n.resize=function(){Jd(this.rj,this.Tf+this.Dh+this.Xf+110)};function ei(a){this.id=a.id;this.w=ng(X.a(),a.user);this.text=a.text;this.time=ed(a.time+"Z");this.mj=Vc(this.time.getTime())};function fi(a){this.id=a.id;this.handle=a.handle;this.Y=a.picture;this.text=a.text;this.time=ed(a.time+"Z")};function gi(){U.call(this);this.A=new Th("Add to the conversation.");this.Vb=new kf("tweet");bf(this.Vb,16,j);this.fb=new kf("post");bf(this.fb,16,j);this.Xb=new kf("add")}v(gi,U);n=gi.prototype;n.F=function(){this.d=K(wh)};
n.p=function(){gi.c.p.call(this);this.A.g(H("comment-textarea",this.b()));var a=this.A;a.Tg=70;a.resize();a=new Ne(this.A.gb());this.Yf=H("comment-controls",this.b());Ae(this,this.Vb);this.Vb.g(H("tweet-toggle",this.b()));Y("/_twitter",s(function(a){a=mg(a.target);this.Hh=a.auth;this.Jj=a.auth_url;af(this.Vb,this.Hh)},this));Ae(this,this.fb);this.fb.g(H("fb-toggle",this.b()));FB.api("/me/permissions",s(function(a){this.mg=!!a.data[0].publish_stream;af(this.fb,this.mg)},this));Ae(this,this.Xb);this.Xb.g(H("add-comment",
this.b()));this.Xb.Va(l);S(S(S(S(S(S(this.o(),this.A.b(),"focus",s(function(){Cd(this.Yf,0,0);this.dispatchEvent("focus")},this)),a,"key",s(function(a){this.Xb.Va(this.A.X());"13"==a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.Xb.setActive(this.A.X()),this.$d(a))},this)),this.A,"resize",s(function(a){this.dispatchEvent(a)},this)),this.fb,"action",s(this.Ri,this)),this.Vb,"action",s(this.ej,this)),this.Xb,"action",s(this.$d,this))};n.X=function(){return this.A.X()};
n.collapse=function(){Cd(this.Yf,0,27)};n.Sd=function(){return D(this.b(),"focused")};n.wc=function(a){return F(this.b(),"focused",a)};n.$d=function(){this.A.X()&&(this.A.setActive(l),this.A.Va(l),this.wc(j),this.dispatchEvent({type:"add",Th:s(function(){this.A.ob("");this.A.Va(j);this.A.wc(j)},this),jg:Ke(this.fb),Fh:Ke(this.Vb),text:this.A.X()}))};n.Ri=function(){!this.mg&&Ke(this.fb)&&(R(G("overlay"),j),FB.login(function(a){R(G("overlay"),l);this.ei=!!a.authResponse;af(this.fb,this.ei)},{scope:"publish_stream"}))};
n.ej=function(){if(!this.Hh&&Ke(this.Vb)){var a=window.open(this.Jj,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Vc(a){var b=u(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return hi(c,b,0);c=Math.floor(c/60);if(24>c)return hi(c,b,1);c=new Date(u());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?hi(c,b,2):""}
function hi(a,b,c){return!b&&0==c?(b=ya("{$num} minute ago",{num:a}),c=ya("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=ya("in {$num} minute",{num:a}),c=ya("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=ya("{$num} hour ago",{num:a}),c=ya("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=ya("in {$num} hour",{num:a}),c=ya("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=ya("{$num} day ago",{num:a}),c=ya("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=ya("in {$num} day",{num:a}),c=ya("in {$num} days",
{num:a}),1==a?b:c):""};function ii(a){U.call(this);this.D=this.t=a;this.A=new gi;this.dd=new kf("Star");bf(this.dd,16,j);this.lg=new kf("Facebook");this.Gh=new kf("Twitter");this.Ua=new kf("Play");this.kj=new kf("Plus")}v(ii,U);n=ii.prototype;n.F=function(){this.d=K(sh,{media:this.D})};n.P=function(a){ii.c.P.call(this,a);var b=K(sh,{media:this.D,Ob:Ff(this.D)});a.innerHTML=b.innerHTML};
n.p=function(){ii.c.p.call(this);this.D.subscribe(Ef,this.Nf,this);var a=H("viewers",this.b()),b=H("picture",this.b()),c=H("scrollable",this.b()),d=H("publisher",this.b()),f=H("title",this.b()),g=b.firstChild;this.Pk=H("tweet-holder",this.b());this.Bc=H("tweets",this.b());this.Gd=H("dot-nav",this.b());this.ua=H("comments",this.b());ye(this.A,this.b());this.dd.g(H("star",this.b()));this.lg.g(H("facebook",this.b()));this.Gh.g(H("twitter",this.b()));this.Ua.g(H("play",this.b()));this.kj.g(H("plus",this.b()));
var h=new Qc(5E3);Y("/_info/"+this.D.id,s(function(b){b=jg(kg(b.target));b.description?Zb(H("description",this.b()),b.description):(R(H("desc-link",this.b()),l),R(H("scrollable",this.b()),l));w(b.seen,function(b){var c=ng(X.a(),b);c.id!=X.a().G.id&&(R(a,j),c=K(th,{w:c}),a.appendChild(c),S(this.o(),c,"click",function(){Z.a().e(eg,b)}))},this);var c=b.tweets;w(c,function(a){var a=new fi(a),b=K(uh,{md:a,timestamp:Vc(a.time.getTime())});Wc(Uc.a(),a.time,H("timestamp",b));this.Bc.appendChild(b);a=J("div",
"dot");this.Gd.appendChild(a);this.resize();R(Xb(this.Bc),j);this.Cb=this.Gd.firstChild;B(this.Cb,"selected")},this);c.length&&h.start();b=b.comments;R(Xb(this.ua),b.length);w(b,function(a){a=new ei(a);this.Nf(a)},this);this.resize()},this));S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(this.o(),window,"resize",xa(O,s(this.resize,this))),d,"click",s(function(){Z.a().e("media-list",this.D.Da.name,i,"/admin/_media/publisher/"+this.D.Da.id,this.D.Da.Y,this.D.Da.description,this.D.Da.link)},this)),this.dd,"action",s(function(){Gf.a().e("star",
this.D,Ke(this.dd));Y("/_star",i,"POST","media_id="+this.D.id+(!Ke(this.dd)?"&delete=1":""))},this)),this.lg,"action",s(this.Qi,this)),this.Gh,"action",s(this.dj,this)),this.Ua,"action",s(this.Ui,this)),this.A,"add",s(this.$d,this)),this.A,"focus",s(function(){this.resize(27)},this)),this.A,"resize",s(function(a){this.resize(27+(a.target.Qa-22))},this)),this.Gd,"click",s(function(a){D(a.target,"dot")&&(ji(this,a.target),h.stop())},this)),h,Sc,s(function(){var a=this.Cb&&Vb(this.Cb)||H("dot",this.b());
ji(this,a)},this)),window,"click",s(function(a){!fc(a.target,k,"comment-input")&&!this.A.X()&&(this.A.wc(l),this.A.collapse(),this.resize())},this)),g,"load",function(){R(g,j);O(function(){T(g).height<T(b).height+50&&B(g,"fix-height");T(g).width>2*T(b).width?B(g,"pan-left"):T(g).height>2*T(b).height&&B(g,"pan-top");g.style.marginTop=-T(g).height/2+"px";g.style.marginLeft=-T(g).width/2+"px"})}),c,"scroll",s(function(){var a=(120-c.scrollTop)/100;Nd(d,Math.min(1,Math.max(a,0)));Nd(f,Math.min(1,Math.max(a,
0)));Nd(g,Math.min(0.5,Math.max(a,0.1)));F(b,"scrolled",10<c.scrollTop)},this)),H("desc-link",this.b()),"click",s(function(){var a=zb(b,"scrolled");(new qe(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,a?170:0],300)).play()},this))};function ji(a,b){if(b){a.Cb&&C(a.Cb,"selected");a.Cb=b;B(a.Cb,"selected");var c=Pa(Ub(a.Gd),function(a){return a==b});(new qe(a.Bc,[a.Bc.scrollLeft,a.Bc.scrollTop],[300*c,a.Bc.scrollTop],200)).play();a.resize()}}
n.$d=function(a){Y("/_comment",a.Th,"POST","media_id="+this.D.id+"&text="+a.text+"&tweet="+a.Fh);a.jg&&FB.api("/me/feed","POST",{message:a.text,name:this.D.name,link:"http://www.broken.tv",picture:this.D.Za,caption:"on Broken.TV",description:this.D.description},aa());Lf.a().Gc(this.D.id,a.jg,a.Fh)};n.Nf=function(a){var b=K(vh,{Gc:a,timestamp:Vc(a.time.getTime())});Wc(Uc.a(),a.time,H("timestamp",b));this.ua.appendChild(b);this.resize(this.A.Sd()?27:0);R(Xb(this.ua),j)};
n.resize=function(a){this.ua&&Jd(this.ua,I().height-Ed(this.ua.parentElement).y-100-(a+10||10));O(s(function(){(new qe(this.ua,[this.ua.scrollLeft,this.ua.scrollTop],[this.ua.scrollLeft,this.ua.scrollHeight],400)).play()},this),a?0:100)};n.Qi=function(){R(G("overlay"),j);FB.ui({method:"feed",name:this.D.name,link:"http://www.xylovision.com",Y:this.D.Za,caption:"on XYLO",description:this.D.description},function(){R(G("overlay"),l)});ki(Lf.a(),this.D.id,j,l)};
n.dj=function(){var a=window.open("https://twitter.com/share?url=www.xylovision.com&text=I'm watching "+this.D.name,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();ki(Lf.a(),this.D.id,l,j)};n.Ui=function(){W.a().e(tf,this.t)};function li(a,b,c,d,f){U.call(this);this.ka=mf();this.Vg=a||k;this.Cc=b||k;this.Xe={};this.zf=c||k;this.Ed=d||k;this.Ii=f||k;this.Ce=this.ka?new Qh:k;this.Xg=this.Fi=0}v(li,U);
li.prototype.P=function(a){li.c.P.call(this,a);a.innerHTML="";a.scrollTop=0;B(this.b(),"ios-scroll");if(this.Ed||this.zf)a=K(zh,{Za:this.zf,description:this.Ed,link:this.Ii}),this.b().appendChild(a),this.Fi=T(a).height;this.pb=J("div","loading",J("div","loading-spinner"));this.b().appendChild(this.pb);R(this.pb,l);this.Xd=J("div","medias");this.b().appendChild(this.Xd);S(this.o(),window,"resize",xa(O,s(this.resize,this)));this.Cc?(R(this.pb,j),Y(this.Cc,s(function(a){R(this.pb,l);a=jg(kg(a.target));
a=Ma(a,function(a){return new Df(a)});w(a,this.pe,this);this.Xg=T(this.Xd).height;this.resize()},this))):this.Vg&&(w(this.Vg,this.pe,this),this.Xg=T(this.Xd).height,this.resize())};li.prototype.pe=function(a){var b=K(Ih,{media:a});this.Xd.appendChild(b);if(this.ka){var c=this.Ce,d=new Ph(b,i);Rh(c,d)}S(this.o(),b,"click",s(function(){Z.a().e(dg,a)},this));this.Xe[a.id]=b};li.prototype.resize=function(){Jd(this.b(),I().height-40-(fc(this.b(),k,"tabbed")?30:0))};function mi(a){U.call(this);this.Kh=this.t=a;this.sb=["activity","starred"]}v(mi,U);mi.prototype.P=function(a){mi.c.P.call(this,a);B(a,"profile");B(a,"ios-scroll");jc(a,Hh)};
mi.prototype.p=function(){this.Xa=H("tabs",this.b());Y("/_star",s(function(a){a=mg(a.target);a=Ma(a,function(a){return new Df(a)});this.ed=new li(a);this.ed.g(H("starred-content",this.b()))},this));Y("/_activity/"+this.Kh.id,s(function(a){a=mg(a.target);this.wf=new ni(a,this.Kh.id);this.wf.g(H("activity-content",this.b()))},this));S(this.o(),this.Xa,"click",s(function(a){a=fc(a.target,"li");this.Uc(a)},this));Gf.a().subscribe("star",function(a,b){if(b)this.ed.pe(a);else{var c=this.ed,d=c.Xe[a.id];
d&&(qc(d),Gb(c.Xe,a.id))}},this)};mi.prototype.Uc=function(a){w(this.sb,function(b){F(this.Xa.parentElement,b,D(a,b));this.I=D(a,b)?b:this.I},this)};function ni(a,b){U.call(this);this.Qh=a;this.me=b||k;this.L=0;this.Ib=l;this.ng=[];this.Fc=[];this.oc=[];this.Kf=[]}v(ni,U);
ni.prototype.P=function(a){ni.c.P.call(this,a);a.innerHTML="";a.scrollTop=0;B(a,"stream");B(a,"ios-scroll");this.qd=J("div","activities");this.b().appendChild(this.qd);var b=J("div","spinner");this.b().appendChild(b);R(b,l);oi(this,this.Qh);X.a().subscribe("new-activity",function(a){(this.me==a.user.id||!this.me&&a.user.id!=X.a().G.id)&&pi(this,a,i,i,j)},this);S(S(this.o(),this.b(),"scroll",s(function(){!this.Ib&&this.b().scrollTop+I().height>this.b().scrollHeight-60&&(R(b,j),Y("/_activity"+(this.me?
"/"+this.me:"")+"?offset="+this.L,s(function(a){this.ng[String(a.target.Sc)]||(this.ng[String(a.target.Sc)]=j,a=mg(a.target),this.Ib=!a.length,F(b,"finished",this.Ib),R(b,this.Ib),oi(this,a))},this)))},this)),window,"resize",xa(O,s(this.resize,this)));this.resize()};
function oi(a,b){a.Fc=[];a.oc=[];w(b,function(a){this.L++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.Fc?this.Fc[a.channel_id]:[];b.push(a);this.Fc[a.channel_id]=b;break;case "comment":a=a.comment,b=a.media.id in this.oc?this.oc[a.media.id]:[],b.push(a),this.oc[a.media.id]=b}},a);Cb(a.Fc,function(a){pi(this,i,a,"session")},a);Cb(a.oc,function(a){pi(this,i,a,"comment")},a)}
function pi(a,b,c,d,f){var b=b||k,c=c||k,g=b?b.type:d,h=[],m=b?[ng(X.a(),b.user)]:[],q=b?ed(b.time+"Z"):k;c&&w(c,function(a){Oa(m,function(b){return b.id==a.user.id})||m.push(ng(X.a(),a.user));var b=ed((a.time||a.tune_in)+"Z");q=q&&q.getTime()>b.getTime()?q:b;"session"==g&&w(a.media,function(a){!this.oc[a.id]&&!Oa(h,function(b){return b.id==a.id})&&h.push(a)},this)},a);switch(g){case "session":var d=b?b.session:c[0],t=V.a().get(d.channel_id),h=b?b.session.media:h,b=K(xh,{aa:m,ha:t,time:Vc(q.getTime()),
Eh:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[c[0].media],x=b?[new ei(b.comment)]:[];c&&w(c,function(a){x.push(new ei(a))});b=K(yh,{Hc:x.reverse(),aa:m,media:h[0]});break;default:return}Wc(Uc.a(),q,H("timestamp",b));d=Pa(a.Kf,function(a){return a.time<q.getTime()});Va(a.Kf,d,0,{time:q,element:b});S(a.o(),b,"click",function(a){a.preventDefault();a.stopPropagation();if(a=(a=fc(a.target,"a"))?a.href:k)switch(a=a.match("#(.*):(.*)"),a[1]){case "user":a=X.a().get(a[2]);Z.a().e(eg,a);
break;case "channel":a=V.a().get(a[2]);V.a().e(rf,a);break;case "info":a=Gf.a().get(a[2]),Z.a().e(dg,a)}});var E=H("medias",b);w(h,function(a){var b=new Df(a),a=K(Ih,{media:b});H("thumb",a);E.appendChild(a);S(this.o(),a,"click",function(){Z.a().e(dg,b)})},a);f?(a=a.qd,a.insertBefore(b,a.childNodes[0]||k)):c?(a=a.qd,a.insertBefore(b,a.childNodes[d]||k)):a.qd.appendChild(b);O(xa(B,b,"show"))}ni.prototype.resize=function(){Jd(this.b(),I().height-40-(fc(this.b(),k,"tabbed")?40:10))};function qi(){U.call(this);this.ka=mf();this.Sh=new di;this.sb={};this.rb=[];this.tc=[]}v(qi,U);n=qi.prototype;
n.p=function(){qi.c.p.call(this);this.$f=G("sidebar-content");this.Ug=G("media-list");this.ff=G("profile");this.tb=G("toolbar");this.Xa=H("tabs",this.b());var a=new Ne(document);w(Ub(this.Xa),function(a){var b=yb(a)[0];this.sb[b]=a;this.rb.push(b)},this);this.fh();Y("/_activity",s(function(a){a=mg(a.target);this.wf=new ni(a);this.wf.g(G("stream"))},this));this.ed=new mi(X.a().G);this.ed.g(G("my-profile"));this.Sa?(this.C=this.Sa.b(),this.I="info"):(this.C=G("stream"),this.I="stream");this.tc=[this.C,
""];B(this.C,"current");if(this.ka){this.Sh.g(G("admin"));var b=K(Ah,{name:"ADMIN",className:"admin"});this.Xa.appendChild(b);this.sb.admin=b;this.rb.push("admin")}ri(this);S(S(S(S(this.o(),H("back-button",this.tb),"click",s(function(a){var b=this.tc.shift();this.navigate(b[0],j,b[1]);ri(this);a.stopPropagation()},this)),this.Xa,"click",s(function(a){var b=this.I,f=fc(a.target,"li"),g=yb(f)[0];si(this,this.I,g);B(f,"selected");Cd(H("arrow",this.tb),T(f).width/2+Ed(f).x);b!=this.I&&a.stopPropagation()},
this)),this.tb,"click",s(function(a){((a=fc(a.target,"li"))&&yb(a)[0]==this.I||!a)&&(new qe(this.C,[this.C.scrollLeft,this.C.scrollTop],[this.C.scrollLeft,0],300)).play()},this)),a,"key",s(function(a){a.ctrlKey&&"68"==a.keyCode&&zb(this.b(),"dark")},this));Q.a().subscribe(Xc,function(a){F(this.b(),"toggled",a)},this);Z.a().subscribe("navigate",this.navigate,this);Z.a().subscribe("media-list",this.uj,this);Z.a().subscribe(dg,this.tj,this);Z.a().subscribe(eg,this.vj,this);V.a().subscribe(sf,this.fh,
this);V.a().subscribe(rf,this.Pi,this);Q.a().subscribe("toggle-admin",function(a){F(this.b(),"admin",a);a?(Q.a().e(Xc,j),si(this,this.I,"admin")):"admin"==this.I&&si(this,"admin","info")},this)};n.fh=function(a){if(a=a||V.a().n.i())this.Bd=a.media,qc(this.Sa),this.Sa=new ii(this.Bd),this.Sa.g(G("info"))};n.Pi=function(a){a=a||V.a().n;if(this.Bd=a.i()&&a.i().media)qc(this.Sa),this.Sa=new ii(this.Bd),this.Sa.g(G("info"))};
function si(a,b,c){var d=H(c,a.$f);Ka(a.rb,b);var f=Ka(a.rb,c),g=(b=Ka(a.rb,b)<f)?0:a.rb.length-1,h=b?g<a.rb.length:0<=g;for(g;h;g+=b?1:-1){var m=H(a.rb[g],a.$f);if(b&&g>f||!b&&g<f)xd(m,{left:"",right:""});else if(b&&g<f||!b&&g>f)xd(m,{left:b?"-300px":"",right:""});else if(g==f){xd(m,{right:b?0:"",left:""});break}}a.I=c;Va(a.tc,0,0,[a.C,""]);C(a.C,"current");a.C=d;B(a.C,"current");ri(a)}
n.navigate=function(a,b,c){if(a!=this.C){var d=D(this.C,"screen");b?(xd(this.C,{left:"",right:0}),xd(a,{right:"",left:0,width:""}),C(this.C,"current"),B(a,"current"),this.C=a):(xd(this.C,{left:d?0:"",right:""}),xd(a,{right:0,left:""}),b=[this.C,cc(H("back-title",this.tb))],Va(this.tc,0,0,b),C(this.C,"current"),this.C=a,B(this.C,"current"));F(this.tb,"back",D(this.C,"slide"));c&&Zb(H("back-title",this.tb),c)}};
n.uj=function(a,b,c,d,f,g){(new li(b,c,d,f,g)).g(this.Ug);Z.a().e("navigate",this.Ug,l,a,d,f)};n.tj=function(a){if(this.Sa&&a.id==this.Sa.t.id){C(this.tb,"back");for(a=this.tc[0][0];a&&D(a,"slide");)a=this.tc.shift();si(this,this.I,"info")}else{var b=G("media-info");(new ii(a)).g(b);Z.a().e("navigate",b,l,a.name)}Q.a().e(Xc,j)};n.vj=function(a){if(!this.gf||!(this.gf.t.id==a.id&&this.C==this.ff))this.gf=new mi(a),this.gf.g(this.ff),Z.a().e("navigate",this.ff,l,a.name),Q.a().e(Xc,j)};
function ri(a){Cd(H("arrow",a.tb),T(a.sb[a.I]).width/2+Ed(a.sb[a.I]).x)};function ti(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"></div><div class="pause" style="display: none"></div></div></div><div id="guide" class="guide'+(a.rg?" toggled":" collapsed")+'"><div id="channels" class="channels"></div><div class="right-grad"></div><div class="header" id="header"><div class="times"><div id="now-left" class="left browse">&#x25C0;<span> NOW</span></div><div id="now-right" class="right browse"><span>NOW </span>&#x25B6;</div></div></div><div id="my-ticker" class="my-ticker" style="display:none"><div class="me" style="background:'+
L(a.w.color)+";border-color:"+L(a.w.color)+';"><img src="'+L(a.w.Y)+'"/></div></div><div id="ticker" class="ticker"><div id="go-live" class="go-live">GO LIVE</div></div></div><div id="controller" class="controller'+(a.rg?" guide-toggled":"")+'"><div class="background"></div><div class="left"><div id="guide-toggle" class="guide-toggle dark button">GUIDE</div><div class="controls"><div class="restart dark button"></div><div class="play dark button"></div><div class="volume dark button"></div></div><div class="border"></div></div><div class="right"><div id="admin-toggle" class="admin-toggle dark button" style="display: none"><div id="toggle-pending" class="pending" style="display:none"></div></div><div id="sidebar-toggle" class="sidebar-toggle dark button"></div><div class="border"></div></div><div class="progress" style="display: none"><div class="elapsed"><div class="seek"></div></div><div class="title"></div><div class="current-time"></div><div class="duration"></div></div></div><div id="sidebar"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM</div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"></div><div id="stream" class="screen stream"></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div>'+
(a.qe?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div></div>'};function Lf(){}la(Lf);Lf.prototype.init=function(){var a=a||[];a.push(["_setAccount","UA-38058655-1"]);a.push(["_trackPageview"]);a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};Lf.prototype.login=function(){var a=a||[];a.push(["_trackEvent","Users","Login",X.a().G.id])};
Lf.prototype.zb=function(a,b){var c=c||[];c.push(["_trackEvent","Channel","OptOut",b.id]);c.push(["_trackEvent","Channel","OptIn",a.id])};Lf.prototype.Gc=function(a,b,c){var d=d||[];d.push(["_trackEvent","Media","Comment",a.id]);d.push(["_trackEvent","Users","Comment",X.a().G.id]);b&&d.push(["_trackEvent","Facebook","Comment",X.a().G.id]);c&&d.push(["_trackEvent","Twitter","Comment",X.a().G.id])};
function ki(a,b,c,d){var f=f||[];f.push(["_trackEvent","Media","Share",b.id]);f.push(["_trackEvent","Users","Share",X.a().G.id]);c&&f.push(["_trackEvent","Facebook","Share",X.a().G.id]);d&&f.push(["_trackEvent","Twitter","Share",X.a().G.id])};function ui(){P.call(this)}v(ui,P);la(ui);ui.prototype.init=function(a){this.Ok=a;(new appengine.Channel(unescape(a))).open().onmessage=s(this.Ti,this);return this};
ui.prototype.Ti=function(a){var b=jg(a.data);switch(b.type){case "viewer_change":var a=ng(X.a(),b.user),c=V.a().get(b.channel_id),d=ed(b.time+"Z"),f=new Kf(b.session_id,a,c,d);a.Cd&&a.Cd.end(d);a.Cd=f;b.last_channel_id&&V.a().get(b.last_channel_id).e("remove-viewer",a);c.e(Mf,f);break;case "new_comment":a=new ei(b.comment);(d=Hf(Gf.a(),b.comment.media))&&d.e(Ef,a);break;case "new_activity":X.a().e("new-activity",b.activity);break;case "update_programs":a=b.programs;c=V.a().get(b.channel_id);w(a,function(a){c.e(Nf,
a)},this);break;case "new_programs":w(b.programs,s(function(a){var a=new wf(a),c=V.a().get(b.channel_id);c&&(c.e(xf,a),(!V.a().n||!V.a().n.i())&&V.a().e(rf,c))},this))}};function vi(){P.call(this);this.Fk=[]}v(vi,P);la(vi);vi.prototype.Ue=function(a){Cb(a,s(function(a,c){w(a,s(function(a){a=new wf(a);V.a().$b[c]&&V.a().$b[c].Yb(a)},this))},this))};var wi=l;function xi(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var yi=navigator.plugins["Shockwave Flash"];yi&&(wi=j,yi.description&&xi(yi.description));navigator.plugins["Shockwave Flash 2.0"]&&(wi=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var zi=navigator.mimeTypes["application/x-shockwave-flash"];(wi=zi&&zi.enabledPlugin)&&xi(zi.enabledPlugin.description)}else try{var Ai=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),wi=j;xi(Ai.GetVariable("$version"))}catch(Bi){try{Ai=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
wi=j}catch(Ci){try{Ai=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),wi=j,xi(Ai.GetVariable("$version"))}catch(Di){}}};function Ei(a,b,c,d,f,g,h,m){this.Cc=a;this.Vh=b;this.Ed=c;this.Qk=d;this.Ck=f;this.vk=g;this.Ia=h;this.Qa=m;this.Dj=[];this.jk=[];this.mk=[];this.Jk=[]}Ei.prototype.pg=ca("Vh");Ei.prototype.rf=function(a){this.q=a;return this};function Fi(a){this.Cc=a;this.xj=k}function Gi(a){this.Cc=a;this.xj=this.Rk=k};function ig(a,b,c){Ei.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.Kj=a;this.Dj=[new Fi("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.rf(new Gi("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}v(ig,Ei);
var hg=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function Hi(a){U.call(this);this.Nj=ui.a().init(a);this.Xh=new dh;this.ji=new lf;this.wj=new qi;this.q=new jh}v(Hi,U);Hi.prototype.P=function(a){Hi.c.P.call(this,a);var b=K(ti,{w:X.a().G,qe:mf(),rg:!V.a().n.ea});a.insertBefore(b,a.childNodes[0]||k)};Hi.prototype.p=function(){Hi.c.p.call(this);this.Xh.g(G("controller"));this.ji.g(G("guide"));this.wj.g(G("sidebar"));this.q.g(G("stage"));S(this.o(),document.body,"touchmove",function(a){fc(a.target,"div","ios-scroll")||a.preventDefault()})};
function Ii(){var a=G("fb-login"),b=G("static-content");B(a,"disabled");B(a,"spin");Y("/_session",function(a){if(200==bh(a.target)){var d=mg(a.target),a=function(){O(function(){B(b,"hide");B(G("login"),"hide");O(function(){R(G("login"),l)},600)},600)};Tc(W.a(),"no-media",a);Tc(W.a(),fh,a);var a=d.token,f=d.channels,g=d.programs,h=d.current_user,d=d.viewer_sessions;if(!Fb(h)){var m=X.a();m.G=ng(m,h)}V.a().Ue(f,h.current_channel);vi.a().Ue(g);var f=V.a(),q=X.a();w(d,s(function(a){var b=ng(X.a(),a.user);
q.add(b);var c=this.$b[a.channel_id],d=ed(a.tune_in+"Z"),f=a.tune_out?ed(a.tune_out+"Z"):k,a=new Kf(a.id,b,c,d,f);b.Cd=a;c&&c.ne.push(a)},f));Uc.a().init();(new Hi(a)).g(document.body);Lf.a().login()}else a=G("fb-login"),B(a,"disabled"),R(a,j),B(a,"show"),B(a,"waitlist")},"POST")}function eh(a){var b=parseInt(a,10),a=Math.floor(b/3600),c=Math.floor((b-3600*a)/60),b=b-3600*a-60*c;10>c&&(c=(a?"0":"")+c);10>b&&(b="0"+b);return(a?a+":":"")+(c?c+":":"")+b}
fa("brkn.Main.staticInit",function(){function a(a){a?(d.style.top=Math.max(10,I().height-190)+"px",(new qe(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,Math.min(I().height-435,d.scrollHeight+190)],300)).play()):(d.style.top="",d.style.height="",d.className="")}var b=G("fb-login"),c=G("login"),d=G("static-content"),f=G("pages"),g=G("footer"),h=l;O(function(){R(b,j);O(xa(B,b,"show"),400)},100);N(c,"click",function(b){"static-scrollable"==b.target.id&&(b=new qe(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,
0],300),b.play(),h=l,N(b,"end",xa(a,h)))});N(c,"scroll",function(){10>c.scrollTop&&(h=l,a(h))});N(g,"click",function(b){if(b=fc(b.target,k,"section"))h=j,d.className=b.id,d.style.height=T(f).height+220+"px",a(h)});N(window,"resize",xa(a,j));Lf.a().init()});fa("brkn.Main.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)Ii();else{var b=G("fb-login");N(b,"click",function(){B(b,"disabled");FB.login(function(a){a.authResponse?Ii():C(b,"disabled")},{scope:"email"})})}})});