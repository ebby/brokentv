function e(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var m,ea=ea||{},p=this;function fa(a,b){var c=a.split("."),d=p;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&ga(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}
function ha(a){for(var a=a.split("."),b=p,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function ia(){}function ja(a){a.b=function(){return a.og?a.og:a.og=new a}}
function ka(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return a!==i}function la(a){return"array"==ka(a)}function ma(a){var b=ka(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function na(a){return"number"==typeof a}function oa(a){return"function"==ka(a)}function pa(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function qa(a){return a[ra]||(a[ra]=++sa)}
var ra="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),sa=0;function ta(a,b,c){return a.call.apply(a.bind,arguments)}function ua(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function s(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ta:ua;return s.apply(k,arguments)}function va(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var t=Date.now||function(){return+new Date};function xa(a,b){var c=b||{},d;for(d in c)var f=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),f);return a}
function v(a,b){function c(){}c.prototype=b.prototype;a.c=b.prototype;a.prototype=new c;a.prototype.constructor=a};function ya(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function za(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Aa(a){if(!Ba.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ca,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Da,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ea,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Fa,"&quot;"));return a}var Ca=/&/g,Da=/</g,Ea=/>/g,Fa=/\"/g,Ba=/[&<>\"]/;
function Ga(a){var a=ga(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ha(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Ia=Array.prototype,Ja=Ia.indexOf?function(a,b,c){return Ia.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(r(a))return!r(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},w=Ia.forEach?function(a,b,c){Ia.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Ka=Ia.filter?function(a,b,c){return Ia.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=
r(a)?a.split(""):a,n=0;n<d;n++)if(n in h){var q=h[n];b.call(c,q,n,a)&&(f[g++]=q)}return f},La=Ia.map?function(a,b,c){return Ia.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=r(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Ma=Ia.every?function(a,b,c){return Ia.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return l;return j};
function Na(a,b){var c=Oa(a,b,i);return 0>c?k:r(a)?a.charAt(c):a[c]}function Oa(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function Pa(a,b){return 0<=Ja(a,b)}function Qa(a,b){var c=Ja(a,b);0<=c&&Ia.splice.call(a,c,1)}function Ra(a){return Ia.concat.apply(Ia,arguments)}function Sa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ta(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(la(d)||(f=ma(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,n=0;n<h;n++)a[g+n]=d[n];else a.push(d)}}function Ua(a,b,c,d){Ia.splice.apply(a,Va(arguments,1))}function Va(a,b,c){return 2>=arguments.length?Ia.slice.call(a,b):Ia.slice.call(a,b,c)};var Wa,Xa,Ya,Za,$a;function ab(){return p.navigator?p.navigator.userAgent:k}function bb(){return p.navigator}Za=Ya=Xa=Wa=l;var cb;if(cb=ab()){var db=bb();Wa=0==cb.indexOf("Opera");Xa=!Wa&&-1!=cb.indexOf("MSIE");Ya=!Wa&&-1!=cb.indexOf("WebKit");Za=!Wa&&!Ya&&"Gecko"==db.product}var eb=Wa,x=Xa,fb=Za,y=Ya,gb=bb();$a=-1!=(gb&&gb.platform||"").indexOf("Mac");var hb=!!bb()&&-1!=(bb().appVersion||"").indexOf("X11"),ib;
a:{var jb="",kb;if(eb&&p.opera)var lb=p.opera.version,jb="function"==typeof lb?lb():lb;else if(fb?kb=/rv\:([^\);]+)(\)|;)/:x?kb=/MSIE\s+([^\);]+)(\)|;)/:y&&(kb=/WebKit\/(\S+)/),kb)var mb=kb.exec(ab()),jb=mb?mb[1]:"";if(x){var nb,ob=p.document;nb=ob?ob.documentMode:i;if(nb>parseFloat(jb)){ib=String(nb);break a}}ib=jb}var pb={};
function z(a){var b;if(!(b=pb[a])){b=0;for(var c=za(String(ib)).split("."),d=za(String(a)).split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var h=c[g]||"",n=d[g]||"",q=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var B=q.exec(h)||["","",""],C=u.exec(n)||["","",""];if(0==B[0].length&&0==C[0].length)break;b=((0==B[1].length?0:parseInt(B[1],10))<(0==C[1].length?0:parseInt(C[1],10))?-1:(0==B[1].length?0:parseInt(B[1],10))>(0==C[1].length?0:parseInt(C[1],10))?1:0)||((0==B[2].length)<
(0==C[2].length)?-1:(0==B[2].length)>(0==C[2].length)?1:0)||(B[2]<C[2]?-1:B[2]>C[2]?1:0)}while(0==b)}b=pb[a]=0<=b}return b}var qb={};function rb(a){return qb[a]||(qb[a]=x&&!!document.documentMode&&document.documentMode>=a)};var sb,tb=!x||rb(9),ub=!fb&&!x||x&&rb(9)||fb&&z("1.9.1"),vb=x&&!z("9"),wb=x||eb||y;function xb(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function A(a,b){for(var c=xb(a),d=Va(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)Pa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==f}function D(a,b){var c=xb(a),d=Va(arguments,1),f,g=d;f=Ka(c,function(a){return!Pa(g,a)});a.className=f.join(" ");return f.length==c.length-d.length}function E(a,b){return Pa(xb(a),b)}function F(a,b,c){c?A(a,b):D(a,b)}function yb(a,b){var c=!E(a,b);F(a,b,c);return c};function zb(a,b){this.x=ga(a)?a:0;this.y=ga(b)?b:0}zb.prototype.clone=function(){return new zb(this.x,this.y)};function Ab(a,b){this.width=a;this.height=b}Ab.prototype.clone=function(){return new Ab(this.width,this.height)};Ab.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Ab.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Ab.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Bb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Cb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Db(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Eb(a){for(var b in a)return l;return j}function Fb(a,b){b in a&&delete a[b]}function Gb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}function Hb(a,b){return b in a?a[b]:i}var Ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Jb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Ib.length;g++)c=Ib[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Kb(a){return a?new Lb(Mb(a)):sb||(sb=new Lb)}function G(a){return r(a)?document.getElementById(a):a}function Nb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Ob("*",a,b)}function H(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Nb(a,b)[0])||k}
function Ob(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},f=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[f++]=h);d.length=f;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=f=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Pa(a.split(/\s+/),b)&&(d[f++]=h);d.length=f;return d}return c}
var Pb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function I(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Ab(a.clientWidth,a.clientHeight)}function Qb(a,b,c){return Rb(document,arguments)}
function Rb(a,b){var c=b[0],d=b[1];if(!tb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Aa(d.name),'"');if(d.type){c.push(' type="',Aa(d.type),'"');var f={};Jb(f,d);delete f.type;d=f}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(r(d)?g.className=d:la(d)?A.apply(k,[g].concat(d)):Bb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Pb?g.setAttribute(Pb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(r(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(f=b[c],ma(f)&&!(pa(f)&&0<f.nodeType)){var h=w,n;a:{if((n=f)&&"number"==typeof n.length){if(pa(n)){n="function"==typeof n.item||"string"==typeof n.item;break a}if(oa(n)){n="function"==typeof n.item;break a}}n=l}h(n?Sa(f):f,d)}else d(f)}return g}function Sb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Tb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Ub(a){return ub&&a.children!=i?a.children:Ka(a.childNodes,function(a){return 1==a.nodeType})}function Vb(a){return a.nextElementSibling!=i?a.nextElementSibling:Wb(a.nextSibling,j)}function Wb(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function Xb(a){if(wb)return a.parentElement;a=a.parentNode;return pa(a)&&1==a.nodeType?a:k}
function Yb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Mb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Zb(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Sb(a),a.appendChild(Mb(a).createTextNode(b))}var $b={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},ac={IMG:" ",BR:"\n"};function bc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,na(a)&&0<=a&&32768>a):l}
function cc(a){if(vb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];dc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");vb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function ec(a){var b=[];dc(a,b,l);return b.join("")}
function dc(a,b,c){if(!(a.nodeName in $b))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in ac)b.push(ac[a.nodeName]);else for(a=a.firstChild;a;)dc(a,b,c),a=a.nextSibling}function fc(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||E(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Lb(a){this.R=a||p.document||document}m=Lb.prototype;m.sa=Kb;
m.a=function(a){return r(a)?this.R.getElementById(a):a};m.C=function(a,b,c){return Rb(this.R,arguments)};m.createElement=function(a){return this.R.createElement(a)};m.createTextNode=function(a){return this.R.createTextNode(a)};function gc(a){var b=a.R,a=!y&&"CSS1Compat"==b.compatMode?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new zb(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}m.appendChild=function(a,b){a.appendChild(b)};m.Yf=Ub;
function hc(a,b){return b.firstElementChild!=i?b.firstElementChild:Wb(b.firstChild,j)}m.contains=Yb;x&&z(8);var ic={};function jc(a,b,c){a.innerHTML=b(c||ic,i,i)}function K(a,b){var c;a:if(c=(new Lb(i)||Kb()).createElement("DIV"),c.innerHTML=a(b||ic,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function L(a){return"object"===typeof a&&a&&0===a.Kj?a.content:String(a).replace(kc,lc)}
var mc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function lc(a){return mc[a]}var kc=/[\x00\x22\x26\x27\x3c\x3e]/g;function M(){0!=nc&&(this.Lj=Error().stack,oc[qa(this)]=this)}var nc=0,oc={};M.prototype.td=l;M.prototype.Q=function(){if(!this.td&&(this.td=j,this.h(),0!=nc)){var a=qa(this);delete oc[a]}};M.prototype.h=function(){this.Bh&&pc.apply(k,this.Bh);if(this.Jg)for(;this.Jg.length;)this.Jg.shift()()};function qc(a){a&&"function"==typeof a.Q&&a.Q()}function pc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ma(d)?pc.apply(k,d):qc(d)}};var rc=!x||rb(9),sc=!x||rb(9),tc=x&&!z("9");!y||z("528");fb&&z("1.9b")||x&&z("8")||eb&&z("9.5")||y&&z("528");fb&&!z("8")||x&&z("9");function uc(a,b){this.type=a;this.currentTarget=this.target=b}m=uc.prototype;m.h=aa();m.Q=aa();m.Ib=l;m.defaultPrevented=l;m.Td=j;m.stopPropagation=function(){this.Ib=j};m.preventDefault=function(){this.defaultPrevented=j;this.Td=l};function vc(a){a.preventDefault()};function wc(a){wc[" "](a);return a}wc[" "]=ia;function xc(a,b){a&&this.init(a,b)}v(xc,uc);var yc=[1,4,2];m=xc.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.Xe=l;m.ha=k;
m.init=function(a,b){var c=this.type=a.type;uc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(fb){var f;a:{try{wc(d.nodeName);f=j;break a}catch(g){}f=l}f||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=y||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=y||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Xe=$a?a.metaKey:a.ctrlKey;this.state=a.state;this.ha=a;a.defaultPrevented&&this.preventDefault();delete this.Ib};function zc(a){return(rc?0==a.ha.button:"click"==a.type?j:!!(a.ha.button&yc[0]))&&!(y&&$a&&a.ctrlKey)}
m.stopPropagation=function(){xc.c.stopPropagation.call(this);this.ha.stopPropagation?this.ha.stopPropagation():this.ha.cancelBubble=j};m.preventDefault=function(){xc.c.preventDefault.call(this);var a=this.ha;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,tc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};m.h=aa();function Ac(){}var Bc=0;m=Ac.prototype;m.key=0;m.Jb=l;m.ie=l;m.init=function(a,b,c,d,f,g){oa(a)?this.qg=j:a&&a.handleEvent&&oa(a.handleEvent)?this.qg=l:e(Error("Invalid listener argument"));this.ic=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.Ed=g;this.ie=l;this.key=++Bc;this.Jb=l};m.handleEvent=function(a){return this.qg?this.ic.call(this.Ed||this.src,a):this.ic.handleEvent.call(this.ic,a)};var Cc={},Dc={},Ec={},Fc={};
function N(a,b,c,d,f){if(b){if(la(b)){for(var g=0;g<b.length;g++)N(a,b[g],c,d,f);return k}var d=!!d,h=Dc;b in h||(h[b]={K:0,la:0});h=h[b];d in h||(h[d]={K:0,la:0},h.K++);var h=h[d],n=qa(a),q;h.la++;if(h[n]){q=h[n];for(g=0;g<q.length;g++)if(h=q[g],h.ic==c&&h.Ed==f){if(h.Jb)break;return q[g].key}}else q=h[n]=[],h.K++;var u=Gc,B=sc?function(a){return u.call(B.src,B.key,a)}:function(a){a=u.call(B.src,B.key,a);if(!a)return a},g=B;g.src=a;h=new Ac;h.init(c,g,a,b,d,f);c=h.key;g.key=c;q.push(h);Cc[c]=h;Ec[n]||
(Ec[n]=[]);Ec[n].push(h);a.addEventListener?(a==p||!a.Mf)&&a.addEventListener(b,g,d):a.attachEvent(b in Fc?Fc[b]:Fc[b]="on"+b,g);return c}e(Error("Invalid event type"))}function Hc(a,b,c,d,f){if(la(b)){for(var g=0;g<b.length;g++)Hc(a,b[g],c,d,f);return k}a=N(a,b,c,d,f);Cc[a].ie=j;return a}function Ic(a,b,c,d,f){if(la(b))for(var g=0;g<b.length;g++)Ic(a,b[g],c,d,f);else if(d=!!d,a=Jc(a,b,d))for(g=0;g<a.length;g++)if(a[g].ic==c&&a[g].capture==d&&a[g].Ed==f){Kc(a[g].key);break}}
function Kc(a){if(!Cc[a])return l;var b=Cc[a];if(b.Jb)return l;var c=b.src,d=b.type,f=b.proxy,g=b.capture;c.removeEventListener?(c==p||!c.Mf)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in Fc?Fc[d]:Fc[d]="on"+d,f);c=qa(c);Ec[c]&&(f=Ec[c],Qa(f,b),0==f.length&&delete Ec[c]);b.Jb=j;if(b=Dc[d][g][c])b.Ig=j,Mc(d,g,c,b);delete Cc[a];return j}
function Mc(a,b,c,d){if(!d.Jd&&d.Ig){for(var f=0,g=0;f<d.length;f++)d[f].Jb?d[f].proxy.src=k:(f!=g&&(d[g]=d[f]),g++);d.length=g;d.Ig=l;0==g&&(delete Dc[a][b][c],Dc[a][b].K--,0==Dc[a][b].K&&(delete Dc[a][b],Dc[a].K--),0==Dc[a].K&&delete Dc[a])}}function Jc(a,b,c){var d=Dc;return b in d&&(d=d[b],c in d&&(d=d[c],a=qa(a),d[a]))?d[a]:k}
function Nc(a,b,c,d,f){var g=1,b=qa(b);if(a[b]){a.la--;a=a[b];a.Jd?a.Jd++:a.Jd=1;try{for(var h=a.length,n=0;n<h;n++){var q=a[n];q&&!q.Jb&&(g&=Oc(q,f)!==l)}}finally{a.Jd--,Mc(c,d,b,a)}}return Boolean(g)}function Oc(a,b){a.ie&&Kc(a.key);return a.handleEvent(b)}
function Gc(a,b){if(!Cc[a])return j;var c=Cc[a],d=c.type,f=Dc;if(!(d in f))return j;var f=f[d],g,h;if(!sc){g=b||ha("window.event");var n=j in f,q=l in f;if(n){if(0>g.keyCode||g.returnValue!=i)return j;a:{var u=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(B){u=j}if(u||g.returnValue==i)g.returnValue=j}}u=new xc;u.init(g,this);g=j;try{if(n){for(var C=[],J=u.currentTarget;J;J=J.parentNode)C.push(J);h=f[j];h.la=h.K;for(var S=C.length-1;!u.Ib&&0<=S&&h.la;S--)u.currentTarget=C[S],g&=Nc(h,C[S],d,j,u);
if(q){h=f[l];h.la=h.K;for(S=0;!u.Ib&&S<C.length&&h.la;S++)u.currentTarget=C[S],g&=Nc(h,C[S],d,l,u)}}else g=Oc(c,u)}finally{C&&(C.length=0)}return g}d=new xc(b,this);return g=Oc(c,d)};function Pc(){M.call(this)}v(Pc,M);m=Pc.prototype;m.Mf=j;m.Pd=k;m.gf=ba("Pd");m.addEventListener=function(a,b,c,d){N(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Ic(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=Dc;if(b in c){if(r(a))a=new uc(a,this);else if(a instanceof uc)a.target=a.target||this;else{var d=a,a=new uc(b,this);Jb(a,d)}var d=1,f,c=c[b],b=j in c,g;if(b){f=[];for(g=this;g;g=g.Pd)f.push(g);g=c[j];g.la=g.K;for(var h=f.length-1;!a.Ib&&0<=h&&g.la;h--)a.currentTarget=f[h],d&=Nc(g,f[h],a.type,j,a)&&a.Td!=l}if(l in c)if(g=c[l],g.la=g.K,b)for(h=0;!a.Ib&&h<f.length&&g.la;h++)a.currentTarget=f[h],d&=Nc(g,f[h],a.type,l,a)&&a.Td!=l;else for(f=this;!a.Ib&&f&&
g.la;f=f.Pd)a.currentTarget=f,d&=Nc(g,f,a.type,l,a)&&a.Td!=l;a=Boolean(d)}else a=j;return a};m.h=function(){Pc.c.h.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Bb(Ec,function(d){for(var f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Kc(g.key),b++}});else{var d=qa(this);if(Ec[d])for(var d=Ec[d],f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Kc(g.key),b++}}this.Pd=k};function Qc(a,b){M.call(this);this.G=a||1;this.ad=b||Rc;this.ge=s(this.ej,this);this.Ne=t()}v(Qc,Pc);Qc.prototype.enabled=l;var Rc=p.window;m=Qc.prototype;m.Y=k;m.ej=function(){if(this.enabled){var a=t()-this.Ne;0<a&&a<0.8*this.G?this.Y=this.ad.setTimeout(this.ge,this.G-a):(this.dispatchEvent(Sc),this.enabled&&(this.Y=this.ad.setTimeout(this.ge,this.G),this.Ne=t()))}};m.start=function(){this.enabled=j;this.Y||(this.Y=this.ad.setTimeout(this.ge,this.G),this.Ne=t())};
m.stop=function(){this.enabled=l;this.Y&&(this.ad.clearTimeout(this.Y),this.Y=k)};m.h=function(){Qc.c.h.call(this);this.stop();delete this.ad};var Sc="tick";function O(a,b,c){oa(a)?c&&(a=s(a,c)):a&&"function"==typeof a.handleEvent?a=s(a.handleEvent,a):e(Error("Invalid listener argument"));return 2147483647<b?-1:Rc.setTimeout(a,b||0)};function P(){M.call(this);this.Aa=[];this.nb={}}v(P,M);m=P.prototype;m.vg=1;m.Rd=0;m.subscribe=function(a,b,c){var d=this.nb[a];d||(d=this.nb[a]=[]);var f=this.vg;this.Aa[f]=a;this.Aa[f+1]=b;this.Aa[f+2]=c;this.vg=f+3;d.push(f);return f};m.jh=function(a){if(0!=this.Rd)return this.Mc||(this.Mc=[]),this.Mc.push(a),l;var b=this.Aa[a];if(b){var c=this.nb[b];c&&Qa(c,a);delete this.Aa[a];delete this.Aa[a+1];delete this.Aa[a+2]}return!!b};
m.g=function(a,b){var c=this.nb[a];if(c){this.Rd++;for(var d=Va(arguments,1),f=0,g=c.length;f<g;f++){var h=c[f];this.Aa[h+1].apply(this.Aa[h+2],d)}this.Rd--;if(this.Mc&&0==this.Rd)for(;c=this.Mc.pop();)this.jh(c)}};m.clear=function(a){if(a){var b=this.nb[a];b&&(w(b,this.jh,this),delete this.nb[a])}else this.Aa.length=0,this.nb={}};m.h=function(){P.c.h.call(this);delete this.Aa;delete this.nb;delete this.Mc};function Tc(){P.call(this);this.ne=new Qc(1E3);this.bh=new Qc(3E4);this.dh=[]}v(Tc,P);ja(Tc);Tc.prototype.init=function(){this.ne.start();this.bh.start();N(this.bh,Sc,s(function(){w(this.dh,function(a){Zb(a.element,Uc(a.time.getTime()))},this)},this))};function Vc(a,b,c){86400>(t()-b.getTime())/1E3&&a.dh.push({time:b,element:c})};function Q(){P.call(this);this.Ki=j;this.Uc=l;this.ze=j;this.subscribe(Wc,ba("Uc"),this);this.subscribe(Xc,ba("ze"),this);this.subscribe(Yc,ba("Ki"),this)}v(Q,P);ja(Q);function Zc(a,b){var c=G("toggle-pending");Zb(c,b);R(c,!!b)}var Yc="play",Xc="toggle-guide",Wc="toggle-sidebar";var $c={qj:["BC","AD"],pj:["Before Christ","Anno Domini"],sj:"JFMAMJJASOND".split(""),zj:"JFMAMJJASOND".split(""),rj:"January February March April May June July August September October November December".split(" "),yj:"January February March April May June July August September October November December".split(" "),vj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Bj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Fj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Dj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),xj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Cj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),tj:"SMTWTFS".split(""),Aj:"SMTWTFS".split(""),wj:["Q1","Q2","Q3","Q4"],uj:["1st quarter","2nd quarter","3rd quarter","4th quarter"],mj:["AM","PM"],oj:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Ej:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],qh:6,Gj:[5,6],rh:5};var ad=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,bd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,cd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function dd(a){var b=new ed(2E3),a=za(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(ad);if(d){var f=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var n=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new fd(gd,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new fd(gd,(4>=d?1-d:8-d)+(Number(n)+7*(Number(c)-1))-1))):(f&&(b.setDate(1),b.setMonth(f-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(cd),n=0,c&&("Z"!=
c[0]&&(n=60*c[2]+Number(c[3]),n*="-"==c[1]?1:-1),n-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(bd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=n&&b.setTime(b.getTime()+6E4*n),c=j):c=l;return c?b:k}
function fd(a,b,c,d,f,g){r(a)?(this.Da=a==hd?b:0,this.va=a==id?b:0,this.qa=a==gd?b:0,this.ia=a==jd?b:0,this.ja=a==kd?b:0,this.ma=a==ld?b:0):(this.Da=a||0,this.va=b||0,this.qa=c||0,this.ia=d||0,this.ja=f||0,this.ma=g||0)}
fd.prototype.bd=function(a){var b=Math.min(this.Da,this.va,this.qa,this.ia,this.ja,this.ma),c=Math.max(this.Da,this.va,this.qa,this.ia,this.ja,this.ma);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Da||a)&&c.push(Math.abs(this.Da)+"Y");(this.va||a)&&c.push(Math.abs(this.va)+"M");(this.qa||a)&&c.push(Math.abs(this.qa)+"D");if(this.ia||this.ja||this.ma||a)c.push("T"),(this.ia||a)&&c.push(Math.abs(this.ia)+"H"),(this.ja||a)&&c.push(Math.abs(this.ja)+"M"),
(this.ma||a)&&c.push(Math.abs(this.ma)+"S");return c.join("")};fd.prototype.clone=function(){return new fd(this.Da,this.va,this.qa,this.ia,this.ja,this.ma)};var hd="y",id="m",gd="d",jd="h",kd="n",ld="s";fd.prototype.add=function(a){this.Da+=a.Da;this.va+=a.va;this.qa+=a.qa;this.ia+=a.ia;this.ja+=a.ja;this.ma+=a.ma};
function md(a,b,c){na(a)?(this.j=new Date(a,b||0,c||1),nd(this,c||1)):pa(a)?(this.j=new Date(a.getFullYear(),a.getMonth(),a.getDate()),nd(this,a.getDate())):(this.j=new Date(t()),this.j.setHours(0),this.j.setMinutes(0),this.j.setSeconds(0),this.j.setMilliseconds(0))}m=md.prototype;m.xd=$c.qh;m.yd=$c.rh;m.clone=function(){var a=new md(this.j);a.xd=this.xd;a.yd=this.yd;return a};m.getFullYear=function(){return this.j.getFullYear()};m.getYear=function(){return this.getFullYear()};m.getMonth=function(){return this.j.getMonth()};
m.getDate=function(){return this.j.getDate()};m.getTime=function(){return this.j.getTime()};m.getDay=function(){return this.j.getDay()};m.getUTCHours=function(){return this.j.getUTCHours()};m.getTimezoneOffset=function(){return this.j.getTimezoneOffset()};function od(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Ga(c)+":"+Ga(b);return a}m.set=function(a){this.j=new Date(a.getFullYear(),a.getMonth(),a.getDate())};m.setFullYear=function(a){this.j.setFullYear(a)};
m.setMonth=function(a){this.j.setMonth(a)};m.setDate=function(a){this.j.setDate(a)};m.setTime=function(a){this.j.setTime(a)};
m.add=function(a){if(a.Da||a.va){var b=this.getMonth()+a.va+12*a.Da,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.qa&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.qa),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),nd(this,a.getDate()))};m.bd=function(a,b){return[this.getFullYear(),Ga(this.getMonth()+1),Ga(this.getDate())].join(a?"-":"")+(b?od(this):"")};m.toString=function(){return this.bd()};function nd(a,b){a.getDate()!=b&&a.j.setUTCHours(a.j.getUTCHours()+(a.getDate()<b?1:-1))}m.valueOf=function(){return this.j.valueOf()};function ed(a,b,c,d,f,g,h){this.j=na(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,h||0):new Date(a?a.getTime():t())}v(ed,md);m=ed.prototype;m.getHours=function(){return this.j.getHours()};
m.getMinutes=function(){return this.j.getMinutes()};m.getSeconds=function(){return this.j.getSeconds()};m.getUTCHours=function(){return this.j.getUTCHours()};m.setHours=function(a){this.j.setHours(a)};m.setMinutes=function(a){this.j.setMinutes(a)};m.setSeconds=function(a){this.j.setSeconds(a)};m.setMilliseconds=function(a){this.j.setMilliseconds(a)};m.setUTCHours=function(a){this.j.setUTCHours(a)};
m.add=function(a){md.prototype.add.call(this,a);a.ia&&this.setHours(this.j.getHours()+a.ia);a.ja&&this.setMinutes(this.j.getMinutes()+a.ja);a.ma&&this.setSeconds(this.j.getSeconds()+a.ma)};m.bd=function(a,b){var c=md.prototype.bd.call(this,a);return a?c+" "+Ga(this.getHours())+":"+Ga(this.getMinutes())+":"+Ga(this.getSeconds())+(b?od(this):""):c+"T"+Ga(this.getHours())+Ga(this.getMinutes())+Ga(this.getSeconds())+(b?od(this):"")};m.toString=function(){return this.bd()};
function pd(a){var b,c=a.getHours();ga(b)||(b=j);var d=12==c;12<c&&(c-=12,d=j);0==c&&b&&(c=12);c=String(c);c+=":"+Ga(a.getMinutes());b&&(a=xa("am"),b=xa("pm"),c+=d?b:a);return c}m.clone=function(){var a=new ed(this.j);a.xd=this.xd;a.yd=this.yd;return a};function qd(a){M.call(this);this.ta=a;this.H=[]}v(qd,M);var rd=[];function T(a,b,c,d,f){la(c)||(rd[0]=c,c=rd);for(var g=0;g<c.length;g++){var h=N(b,c[g],d||a,f||l,a.ta||a);a.H.push(h)}return a}function sd(a,b,c,d,f,g){if(la(c))for(var h=0;h<c.length;h++)sd(a,b,c[h],d,f,g);else b=Hc(b,c,d||a,f,g||a.ta||a),a.H.push(b)}
function td(a,b,c,d,f,g){if(la(c))for(var h=0;h<c.length;h++)td(a,b,c[h],d,f,g);else{a:{d=d||a;g=g||a.ta||a;f=!!f;if(b=Jc(b,c,f))for(c=0;c<b.length;c++)if(!b[c].Jb&&b[c].ic==d&&b[c].capture==f&&b[c].Ed==g){b=b[c];break a}b=k}b&&(b=b.key,Kc(b),Qa(a.H,b))}return a}function ud(a){w(a.H,Kc);a.H.length=0}qd.prototype.h=function(){qd.c.h.call(this);ud(this)};qd.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function vd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}vd.prototype.clone=function(){return new vd(this.top,this.right,this.bottom,this.left)};vd.prototype.contains=function(a){return!this||!a?l:a instanceof vd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function wd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}wd.prototype.clone=function(){return new wd(this.left,this.top,this.width,this.height)};wd.prototype.contains=function(a){return a instanceof wd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function xd(a,b,c){r(b)?yd(a,c,b):Bb(b,va(yd,a))}function yd(a,b,c){a.style[Ha(c)]=b}function zd(a,b){var c=Mb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Ad(a,b){return a.currentStyle?a.currentStyle[b]:k}function Bd(a,b){return zd(a,b)||Ad(a,b)||a.style&&a.style[b]}function Cd(a,b,c){var d,f=fb&&($a||hb)&&z("1.9");b instanceof zb?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Dd(d,f);a.style.top=Dd(b,f)}
function Ed(a){return new zb(a.offsetLeft,a.offsetTop)}function Fd(a){var b=a.getBoundingClientRect();x&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Gd(a){if(x&&!rb(8))return a.offsetParent;for(var b=Mb(a),c=Bd(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Bd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function Hd(a){var b,c=Mb(a),d=Bd(a,"position"),f=fb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new zb(0,0),h;b=c?Mb(c):document;if(h=x)if(h=!rb(9))h="CSS1Compat"!=Kb(b).R.compatMode;h=h?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=Fd(a),a=gc(Kb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;
else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(y&&"fixed"==Bd(f,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(eb||y&&"absolute"==d)g.y-=c.body.offsetTop;for(f=a;(f=Gd(f))&&f!=c.body&&f!=h;)if(g.x-=f.scrollLeft,!eb||"TR"!=f.tagName)g.y-=f.scrollTop}return g}function Id(a,b){var c,d=Hd(a);b instanceof zb&&(c=b.y,b=b.x);Cd(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Dd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Jd(a,b){a.style.height=Dd(b,j)}function Kd(a,b){a.style.width=Dd(b,j)}function U(a){if("none"!=Bd(a,"display"))return Ld(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Ld(a);b.display=c;b.position=f;b.visibility=d;return a}
function Ld(a){var b=a.offsetWidth,c=a.offsetHeight,d=y&&!b&&!c;return(!ga(b)||d)&&a.getBoundingClientRect?(a=Fd(a),new Ab(a.right-a.left,a.bottom-a.top)):new Ab(b,c)}function Md(a){var b=Hd(a),a=U(a);return new wd(b.x,b.y,a.width,a.height)}function Nd(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function R(a,b){a.style.display=b?"":"none"}function Od(a){return"rtl"==Bd(a,"direction")}
var Pd=fb?"MozUserSelect":y?"WebkitUserSelect":k;function Qd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function Rd(a,b){if(x){var c=Qd(a,Ad(a,b+"Left")),d=Qd(a,Ad(a,b+"Right")),f=Qd(a,Ad(a,b+"Top")),g=Qd(a,Ad(a,b+"Bottom"));return new vd(f,d,g,c)}c=zd(a,b+"Left");d=zd(a,b+"Right");f=zd(a,b+"Top");g=zd(a,b+"Bottom");return new vd(parseFloat(f),parseFloat(d),parseFloat(g),parseFloat(c))}var Sd={thin:2,medium:4,thick:6};function Td(a,b){if("none"==Ad(a,b+"Style"))return 0;var c=Ad(a,b+"Width");return c in Sd?Sd[c]:Qd(a,c)}
function Ud(a){if(x){var b=Td(a,"borderLeft"),c=Td(a,"borderRight"),d=Td(a,"borderTop"),a=Td(a,"borderBottom");return new vd(d,c,a,b)}b=zd(a,"borderLeftWidth");c=zd(a,"borderRightWidth");d=zd(a,"borderTopWidth");a=zd(a,"borderBottomWidth");return new vd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function Vd(a,b,c){M.call(this);this.target=a;this.handle=b||a;this.yg=c||new wd(NaN,NaN,NaN,NaN);this.R=Mb(a);this.l=new qd(this);N(this.handle,["touchstart","mousedown"],this.Mb,l,this)}v(Vd,Pc);var Wd=x||fb&&z("1.9.3");m=Vd.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.Xg=0;m.Yg=0;m.Xb=0;m.Yb=0;m.ue=j;m.zb=l;m.De=0;m.ki=0;m.gi=l;m.ed=l;m.o=ca("l");m.ff=function(a){this.De=Math.pow(a,2)};m.Vg=ba("Ud");m.Qa=ba("ue");
m.h=function(){Vd.c.h.call(this);Ic(this.handle,["touchstart","mousedown"],this.Mb,l,this);ud(this.l);Wd&&this.R.releaseCapture();this.l=this.handle=this.target=k};function Xd(a){ga(a.za)||(a.za=Od(a.target));return a.za}
m.Mb=function(a){var b="mousedown"==a.type;if(this.ue&&!this.zb&&(!b||zc(a))){Yd(a);if(0==this.De)if(this.dispatchEvent(new Zd("start",this,a.clientX,a.clientY,a)))this.zb=j,a.preventDefault();else return;else a.preventDefault();var b=this.R,c=b.documentElement,d=!Wd;T(this.l,b,["touchmove","mousemove"],this.di,d);T(this.l,b,["touchend","mouseup"],this.Ab,d);Wd?(c.setCapture(l),T(this.l,c,"losecapture",this.Ab)):T(this.l,b?b.parentWindow||b.defaultView:window,"blur",this.Ab);x&&this.gi&&T(this.l,
b,"dragstart",vc);this.Ud&&T(this.l,this.Ud,"scroll",this.Mg,d);this.clientX=this.Xg=a.clientX;this.clientY=this.Yg=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.ed?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Bd(a,"position")&&(c=Mb(a).documentElement),c?(fb?(d=Ud(c),b+=d.left):rb(8)&&(d=Ud(c),b-=d.left),a=Od(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Xb=a;this.Yb=this.target.offsetTop;this.We=gc(Kb(this.R));this.ki=t()}else this.dispatchEvent("earlycancel")};
m.Ab=function(a,b){ud(this.l);Wd&&this.R.releaseCapture();if(this.zb){Yd(a);this.zb=l;var c=$d(this,this.Xb),d=ae(this,this.Yb);this.dispatchEvent(new Zd("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function Yd(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ha.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ha.changedTouches[0],a.currentTarget)}
m.di=function(a){if(this.ue){Yd(a);var b=(this.ed&&Xd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.zb){var d=this.Xg-this.clientX,f=this.Yg-this.clientY;if(d*d+f*f>this.De)if(this.dispatchEvent(new Zd("start",this,a.clientX,a.clientY,a)))this.zb=j;else{this.td||this.Ab(a);return}}c=be(this,b,c);b=c.x;c=c.y;this.zb&&this.dispatchEvent(new Zd("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(ce(this,a,b,c),a.preventDefault())}};function be(a,b,c){var d=gc(Kb(a.R)),b=b+(d.x-a.We.x),c=c+(d.y-a.We.y);a.We=d;a.Xb+=b;a.Yb+=c;b=$d(a,a.Xb);a=ae(a,a.Yb);return new zb(b,a)}m.Mg=function(a){var b=be(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;ce(this,a,b.x,b.y)};function ce(a,b,c,d){a.rd(c,d);a.dispatchEvent(new Zd("drag",a,b.clientX,b.clientY,b,c,d))}
function $d(a,b){var c=a.yg,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function ae(a,b){var c=a.yg,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}m.rd=function(a,b){this.ed&&Xd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function Zd(a,b,c,d,f,g,h,n){uc.call(this,a);this.clientX=c;this.clientY=d;this.he=f;this.left=ga(g)?g:b.Xb;this.top=ga(h)?h:b.Yb;this.Eh=b;this.Ch=!!n}v(Zd,uc);function de(){M.call(this);this.e=ee;this.Cc=this.startTime=k}v(de,Pc);var ee=0;de.prototype.gb=function(){this.aa("begin")};de.prototype.hb=function(){this.aa("end")};de.prototype.aa=function(a){this.dispatchEvent(a)};function fe(a,b,c){M.call(this);this.cb=a;this.G=b||0;this.ta=c;this.je=s(this.Ac,this)}v(fe,M);m=fe.prototype;m.ca=0;m.h=function(){fe.c.h.call(this);this.stop();delete this.cb;delete this.ta};m.start=function(a){this.stop();this.ca=O(this.je,ga(a)?a:this.G)};m.stop=function(){this.Hb()&&Rc.clearTimeout(this.ca);this.ca=0};m.we=function(){this.stop();this.Ac()};m.Hb=function(){return 0!=this.ca};m.Ac=function(){this.ca=0;this.cb&&this.cb.call(this.ta)};var ge;ge=da(k);var he={},ie=k;function je(a){a=qa(a);delete he[a];Eb(he)&&ie&&ie.stop()}function ke(){ie||(ie=new fe(function(){var a=t();Bb(he,function(c){le(c,a)});Eb(he)||ke()},20));var a=ie;a.Hb()||a.start()};function me(a,b,c,d){de.call(this);(!la(a)||!la(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.Xc=a;this.Gh=b;this.duration=c;this.xf=d;this.coords=[];this.ed=l}v(me,de);m=me.prototype;m.Wf=0;m.ka=0;m.Le=k;
m.play=function(a){if(a||this.e==ee)this.ka=0,this.coords=this.Xc;else if(1==this.e)return l;je(this);this.startTime=a=t();-1==this.e&&(this.startTime-=this.duration*this.ka);this.Cc=this.startTime+this.duration;this.Le=this.startTime;this.ka||this.gb();this.aa("play");-1==this.e&&this.aa("resume");this.e=1;var b=qa(this);b in he||(he[b]=this);ke();le(this,a);return j};m.stop=function(a){je(this);this.e=ee;a&&(this.ka=1);ne(this,this.ka);this.aa("stop");this.hb()};m.Ad=ca("ka");
m.h=function(){this.e==ee||this.stop(l);this.aa("destroy");me.c.h.call(this)};function le(a,b){a.ka=(b-a.startTime)/(a.Cc-a.startTime);1<=a.ka&&(a.ka=1);a.Wf=1E3/(b-a.Le);a.Le=b;ne(a,a.ka);1==a.ka?(a.e=ee,je(a),a.aa("finish"),a.hb()):1==a.e&&a.Te()}function ne(a,b){oa(a.xf)&&(b=a.xf(b));a.coords=Array(a.Xc.length);for(var c=0;c<a.Xc.length;c++)a.coords[c]=(a.Gh[c]-a.Xc[c])*b+a.Xc[c]}m.Te=function(){this.aa("animate")};m.aa=function(a){this.dispatchEvent(new oe(a,this))};
function oe(a,b){uc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.pk=b.coords[2];this.duration=b.duration;this.ka=b.Ad();this.Wj=b.Wf;this.state=b.e;this.Ij=b}v(oe,uc);function pe(a,b,c,d,f){me.call(this,b,c,d,f);this.element=a}v(pe,me);m=pe.prototype;m.dd=ia;m.sg=function(){ga(this.za)||(this.za=Od(this.element));return this.za};m.Te=function(){this.dd();pe.c.Te.call(this)};m.hb=function(){this.dd();pe.c.hb.call(this)};m.gb=function(){this.dd();pe.c.gb.call(this)};function qe(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));pe.apply(this,arguments)}v(qe,pe);
qe.prototype.dd=function(){if(this.ed){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=Od(a)?fb?-b:!x||!z("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function re(a,b,c,d,f){na(b)&&(b=[b]);na(c)&&(c=[c]);pe.call(this,a,b,c,d,f);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}v(re,pe);re.prototype.dd=function(){Nd(this.element,this.coords[0])};
re.prototype.show=function(){this.element.style.display=""};re.prototype.hide=function(){this.element.style.display="none"};function se(a,b,c){re.call(this,a,1,0,b,c)}v(se,re);se.prototype.gb=function(){this.show();se.c.gb.call(this)};se.prototype.hb=function(){this.hide();se.c.hb.call(this)};function te(a,b,c){re.call(this,a,0,1,b,c)}v(te,re);te.prototype.gb=function(){this.show();te.c.gb.call(this)};function ue(){}ja(ue);ue.prototype.oi=0;ue.b();function V(a){M.call(this);this.yb=a||Kb();this.za=ve}v(V,Pc);V.prototype.fi=ue.b();var ve=k;function we(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}m=V.prototype;m.ca=k;m.N=l;m.d=k;m.za=k;m.p=k;m.A=k;m.P=k;m.$=k;m.ph=l;
function xe(a){return a.ca||(a.ca=":"+(a.fi.oi++).toString(36))}m.a=ca("d");m.o=function(){return this.dc||(this.dc=new qd(this))};m.Vd=function(a){this==a&&e(Error("Unable to set parent component"));a&&(this.A&&this.ca&&this.A.$&&this.ca&&Hb(this.A.$,this.ca)&&this.A!=a)&&e(Error("Unable to set parent component"));this.A=a;V.c.gf.call(this,a)};m.getParent=ca("A");m.gf=function(a){this.A&&this.A!=a&&e(Error("Method not supported"));V.c.gf.call(this,a)};m.sa=ca("yb");m.C=function(){this.d=this.yb.createElement("div")};
function ye(a,b){a.N&&e(Error("Component already rendered"));a.d||a.C();b?b.insertBefore(a.d,k):a.yb.R.body.appendChild(a.d);(!a.A||a.A.N)&&a.m()}m.f=function(a){this.N&&e(Error("Component already rendered"));if(a&&this.rb(a)){this.ph=j;if(!this.yb||this.yb.R!=Mb(a))this.yb=Kb(a);this.M(a);this.m()}else e(Error("Invalid element to decorate"))};m.rb=da(j);m.M=ba("d");m.m=function(){this.N=j;ze(this,function(a){!a.N&&a.a()&&a.m()})};
m.Bb=function(){ze(this,function(a){a.N&&a.Bb()});this.dc&&ud(this.dc);this.N=l};m.h=function(){V.c.h.call(this);this.N&&this.Bb();this.dc&&(this.dc.Q(),delete this.dc);ze(this,function(a){a.Q()});!this.ph&&this.d&&Tb(this.d);this.A=this.p=this.d=this.$=this.P=k};
function Ae(a,b){var c=a.P?a.P.length:0;b.N&&!a.N&&e(Error("Component already rendered"));(0>c||c>(a.P?a.P.length:0))&&e(Error("Child component index out of bounds"));if(!a.$||!a.P)a.$={},a.P=[];if(b.getParent()==a){var d=xe(b);a.$[d]=b;Qa(a.P,b)}else Gb(a.$,xe(b),b);b.Vd(a);Ua(a.P,c,0,b);b.N&&a.N&&b.getParent()==a?(d=a.Db(),d.insertBefore(b.a(),d.childNodes[c]||k)):a.N&&(!b.N&&b.d&&b.d.parentNode)&&b.m()}m.Db=ca("d");m.sg=function(){this.za==k&&(this.za=Od(this.N?this.d:this.yb.R.body));return this.za};
m.Lb=function(a){this.N&&e(Error("Component already rendered"));this.za=a};function ze(a,b){a.P&&w(a.P,b,i)}m.removeChild=function(a,b){if(a){var c=r(a)?a:xe(a),a=this.$&&c?Hb(this.$,c)||k:k;c&&a&&(Fb(this.$,c),Qa(this.P,a),b&&(a.Bb(),a.d&&Tb(a.d)),a.Vd(k))}a||e(Error("Child is not in parent component"));return a};function Be(a,b,c,d,f){if(!x&&(!y||!z("525")))return j;if($a&&f)return Ce(a);if(f&&!d||!c&&(17==b||18==b)||x&&d&&b==a)return l;switch(a){case 13:return!(x&&rb(9));case 27:return!y}return Ce(a)}function Ce(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||y&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function De(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Ee(){}var Fe;ja(Ee);m=Ee.prototype;m.cc=aa();m.C=function(a){var b=a.sa().C("div",Ge(this,a).join(" "),a.Ea);He(this,a,b);return b};m.Db=function(a){return a};m.Bc=function(a,b,c){if(a=a.a?a.a():a)if(x&&!z("7")){var d=Ie(xb(a),b);d.push(b);va(c?A:D,a).apply(k,d)}else F(a,b,c)};m.rb=da(j);
m.f=function(a,b){if(b.id){var c=b.id;a.A&&a.A.$&&(Fb(a.A.$,a.ca),Gb(a.A.$,c,a));a.ca=c}(c=this.Db(b))&&c.firstChild?(c=c.firstChild.nextSibling?Sa(c.childNodes):c.firstChild,a.Ea=c):a.Ea=k;var d=0,f=this.V(),g=this.V(),h=l,n=l,c=l,q=xb(b);w(q,function(a){if(!h&&a==f)h=j,g==f&&(n=j);else if(!n&&a==g)n=j;else{var b=d;if(!this.Zg){this.md||Je(this);var c=this.md,q={},u;for(u in c)q[c[u]]=u;this.Zg=q}a=parseInt(this.Zg[a],10);d=b|(isNaN(a)?0:a)}},this);a.e=d;h||(q.push(f),g==f&&(n=j));n||q.push(g);var u=
a.ra;u&&q.push.apply(q,u);if(x&&!z("7")){var B=Ie(q);0<B.length&&(q.push.apply(q,B),c=j)}if(!h||!n||u||c)b.className=q.join(" ");He(this,a,b);return b};m.ng=function(a){a.sg()&&this.Lb(a.a(),j);a.isEnabled()&&this.oc(a,a.ob)};function He(a,b,c){b.isEnabled()||a.Ba(c,1,j);b.e&8&&a.Ba(c,8,j);b.U&16&&a.Ba(c,16,Ke(b));b.U&64&&a.Ba(c,64,!!(b.e&64))}
m.nc=function(a,b){var c=!b,d=x||eb?a.getElementsByTagName("*"):k;if(Pd){if(c=c?"none":"",a.style[Pd]=c,d)for(var f=0,g;g=d[f];f++)g.style[Pd]=c}else if(x||eb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;g=d[f];f++)g.setAttribute("unselectable",c)};m.Lb=function(a,b){this.Bc(a,this.V()+"-rtl",b)};m.Ie=function(a){var b;return a.U&32&&(b=a.Za())?bc(b):l};
m.oc=function(a,b){var c;if(a.U&32&&(c=a.Za())){if(!b&&a.Gd()){try{c.blur()}catch(d){}a.Gd()&&a.Zf()}bc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};m.kf=function(a,b){R(a,b)};m.X=function(a,b,c){var d=a.a();if(d){var f=Le(this,b);f&&this.Bc(a,f,c);this.Ba(d,b,c)}};m.Ba=function(a,b,c){Fe||(Fe={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Fe[b])&&a.setAttribute("aria-"+b,c)};
m.Kb=function(a,b){var c=this.Db(a);if(c&&(Sb(c),b))if(r(b))Zb(c,b);else{var d=function(a){if(a){var b=Mb(c);c.appendChild(r(a)?b.createTextNode(a):a)}};la(b)?w(b,d):ma(b)&&!("nodeType"in b)?w(Sa(b),d):d(b)}};m.Za=function(a){return a.a()};m.V=da("goog-control");function Ge(a,b){var c=a.V(),d=[c],f=a.V();f!=c&&d.push(f);c=b.e;for(f=[];c;){var g=c&-c;f.push(Le(a,g));c&=~g}d.push.apply(d,f);(c=b.ra)&&d.push.apply(d,c);x&&!z("7")&&d.push.apply(d,Ie(d));return d}
function Ie(a,b){var c=[];b&&(a=a.concat([b]));w([],function(d){Ma(d,va(Pa,a))&&(!b||Pa(d,b))&&c.push(d.join("_"))});return c}function Le(a,b){a.md||Je(a);return a.md[b]}function Je(a){var b=a.V();a.md={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Me(){}v(Me,Ee);ja(Me);m=Me.prototype;m.cc=da("button");m.Ba=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Me.c.Ba.call(this,a,b,c)};m.C=function(a){var b=Me.c.C.call(this,a),c=a.Dc();c&&this.jf(b,c);(c=a.T())&&this.ib(b,c);a.U&16&&this.Ba(b,16,Ke(a));return b};m.f=function(a,b){var b=Me.c.f.call(this,a,b),c=this.T(b);a.wf=c;a.sf=this.Dc(b);a.U&16&&this.Ba(b,16,Ke(a));return b};m.T=ia;m.ib=ia;m.Dc=function(a){return a.title};m.jf=function(a,b){a&&(a.title=b||"")};m.V=da("goog-button");function Ne(a,b){M.call(this);a&&Oe(this,a,b)}v(Ne,Pc);m=Ne.prototype;m.d=k;m.Hd=k;m.Je=k;m.Id=k;m.bb=-1;m.ab=-1;m.fe=l;
var Pe={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Qe={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Re=x||y&&z("525"),Se=$a&&fb;m=Ne.prototype;
m.ai=function(a){if(y&&(17==this.bb&&!a.ctrlKey||18==this.bb&&!a.altKey))this.ab=this.bb=-1;Re&&!Be(a.keyCode,this.bb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.ab=fb?De(a.keyCode):a.keyCode,Se&&(this.fe=a.altKey))};m.ci=function(a){this.ab=this.bb=-1;this.fe=a.altKey};
m.handleEvent=function(a){var b=a.ha,c,d,f=b.altKey;x&&"keypress"==a.type?(c=this.ab,d=13!=c&&27!=c?b.keyCode:0):y&&"keypress"==a.type?(c=this.ab,d=0<=b.charCode&&63232>b.charCode&&Ce(c)?b.charCode:0):eb?(c=this.ab,d=Ce(c)?b.keyCode:0):(c=b.keyCode||this.ab,d=b.charCode||0,Se&&(f=this.fe),$a&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Pe?g=Pe[c]:25==c&&a.shiftKey&&(g=9):h&&h in Qe&&(g=Qe[h]);a=g==this.bb;this.bb=g;b=new Te(g,d,a,b);b.altKey=f;this.dispatchEvent(b)};m.a=ca("d");
function Oe(a,b,c){a.Id&&a.detach();a.d=b;a.Hd=N(a.d,"keypress",a,c);a.Je=N(a.d,"keydown",a.ai,c,a);a.Id=N(a.d,"keyup",a.ci,c,a)}m.detach=function(){this.Hd&&(Kc(this.Hd),Kc(this.Je),Kc(this.Id),this.Id=this.Je=this.Hd=k);this.d=k;this.ab=this.bb=-1};m.h=function(){Ne.c.h.call(this);this.detach()};function Te(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}v(Te,xc);function Ue(a,b){a||e(Error("Invalid class name "+a));oa(b)||e(Error("Invalid decorator function "+b))}var Ve={};function We(a,b,c){V.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=qa(b);if(d=Ve[d])break;b=b.c?b.c.constructor:k}b=d?oa(d.b)?d.b():new d:k}this.u=b;this.Ea=a}v(We,V);m=We.prototype;m.Ea=k;m.e=0;m.U=39;m.La=255;m.Zi=0;m.ob=j;m.ra=k;m.Ce=j;m.kd=l;m.Pg=k;function Xe(a){a.N&&l!=a.Ce&&Ye(a,l);a.Ce=l}m.Za=function(){return this.u.Za(this)};
m.Bc=function(a,b){b?a&&(this.ra?Pa(this.ra,a)||this.ra.push(a):this.ra=[a],this.u.Bc(this,a,j)):a&&this.ra&&(Qa(this.ra,a),0==this.ra.length&&(this.ra=k),this.u.Bc(this,a,l))};m.C=function(){var a=this.u.C(this);this.d=a;var b=this.Pg||this.u.cc();b&&a.setAttribute("role",b);this.kd||this.u.nc(a,l);this.ob||this.u.kf(a,l)};m.Db=function(){return this.u.Db(this.a())};m.rb=function(a){return this.u.rb(a)};
m.M=function(a){this.d=a=this.u.f(this,a);var b=this.Pg||this.u.cc();b&&a.setAttribute("role",b);this.kd||this.u.nc(a,l);this.ob="none"!=a.style.display};m.m=function(){We.c.m.call(this);this.u.ng(this);if(this.U&-2&&(this.Ce&&Ye(this,j),this.U&32)){var a=this.Za();if(a){var b=this.hc||(this.hc=new Ne);Oe(b,a);T(T(T(this.o(),b,"key",this.bi),a,"focus",this.Zh),a,"blur",this.Zf)}}};
function Ye(a,b){var c=a.o(),d=a.a();b?(T(T(T(T(c,d,"mouseover",a.eg),d,"mousedown",a.cg),d,"mouseup",a.fg),d,"mouseout",a.dg),a.Dd!=ia&&T(c,d,"contextmenu",a.Dd),x&&T(c,d,"dblclick",a.$f)):(td(td(td(td(c,d,"mouseover",a.eg),d,"mousedown",a.cg),d,"mouseup",a.fg),d,"mouseout",a.dg),a.Dd!=ia&&td(c,d,"contextmenu",a.Dd),x&&td(c,d,"dblclick",a.$f))}m.Bb=function(){We.c.Bb.call(this);this.hc&&this.hc.detach();this.ob&&this.isEnabled()&&this.u.oc(this,l)};
m.h=function(){We.c.h.call(this);this.hc&&(this.hc.Q(),delete this.hc);delete this.u;this.ra=this.Ea=k};m.Kb=function(a){this.u.Kb(this.a(),a);this.Ea=a};m.Xf=function(){var a=this.Ea;return!a?"":(r(a)?a:la(a)?La(a,ec).join(""):cc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};m.Lb=function(a){We.c.Lb.call(this,a);var b=this.a();b&&this.u.Lb(b,a)};m.nc=function(a){this.kd=a;var b=this.a();b&&this.u.nc(b,a)};
m.kf=function(a,b){if(b||this.ob!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.a();c&&this.u.kf(c,a);this.isEnabled()&&this.u.oc(this,a);this.ob=a;return j}return l};m.isEnabled=function(){return!(this.e&1)};m.Qa=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&Ze(this,1,!a))a||(this.setActive(l),$e(this,l)),this.ob&&this.u.oc(this,a),this.X(1,!a)};function $e(a,b){Ze(a,2,b)&&a.X(2,b)}m.Hb=function(){return!!(this.e&4)};
m.setActive=function(a){Ze(this,4,a)&&this.X(4,a)};function Ke(a){return!!(a.e&16)}function af(a,b){Ze(a,16,b)&&a.X(16,b)}m.Gd=function(){return!!(this.e&32)};m.pc=function(a){Ze(this,32,a)&&this.X(32,a)};m.X=function(a,b){this.U&a&&b!=!!(this.e&a)&&(this.u.X(this,a,b),this.e=b?this.e|a:this.e&~a)};function bf(a,b,c){a.N&&(a.e&b&&!c)&&e(Error("Component already rendered"));!c&&a.e&b&&a.X(b,l);a.U=c?a.U|b:a.U&~b}function cf(a,b){return!!(a.La&b)&&!!(a.U&b)}
function Ze(a,b,c){return!!(a.U&b)&&!!(a.e&b)!=c&&(!(a.Zi&b)||a.dispatchEvent(we(b,c)))&&!a.td}m.eg=function(a){(!a.relatedTarget||!Yb(this.a(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&cf(this,2))&&$e(this,j)};m.dg=function(a){if((!a.relatedTarget||!Yb(this.a(),a.relatedTarget))&&this.dispatchEvent("leave"))cf(this,4)&&this.setActive(l),cf(this,2)&&$e(this,l)};m.Dd=ia;
m.cg=function(a){this.isEnabled()&&(cf(this,2)&&$e(this,j),zc(a)&&(cf(this,4)&&this.setActive(j),this.u.Ie(this)&&this.Za().focus()));!this.kd&&zc(a)&&a.preventDefault()};m.fg=function(a){this.isEnabled()&&(cf(this,2)&&$e(this,j),this.Hb()&&(this.Nc(a)&&cf(this,4))&&this.setActive(l))};m.$f=function(a){this.isEnabled()&&this.Nc(a)};
m.Nc=function(a){cf(this,16)&&af(this,!Ke(this));cf(this,8)&&Ze(this,8,j)&&this.X(8,j);if(cf(this,64)){var b=!(this.e&64);Ze(this,64,b)&&this.X(64,b)}b=new uc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.Xe=a.Xe);return this.dispatchEvent(b)};m.Zh=function(){cf(this,32)&&this.pc(j)};m.Zf=function(){cf(this,4)&&this.setActive(l);cf(this,32)&&this.pc(l)};
m.bi=function(a){return this.ob&&this.isEnabled()&&this.Be(a)?(a.preventDefault(),a.stopPropagation(),j):l};m.Be=function(a){return 13==a.keyCode&&this.Nc(a)};oa(We)||e(Error("Invalid component class "+We));oa(Ee)||e(Error("Invalid renderer class "+Ee));var df=qa(We);Ve[df]=Ee;Ue("goog-control",function(){return new We(k)});function ef(){}v(ef,Me);ja(ef);m=ef.prototype;m.cc=aa();m.C=function(a){Xe(a);a.La&=-256;bf(a,32,l);return a.sa().C("button",{"class":Ge(this,a).join(" "),disabled:!a.isEnabled(),title:a.Dc()||"",value:a.T()||""},a.Xf()||"")};m.rb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};m.f=function(a,b){Xe(a);a.La&=-256;bf(a,32,l);b.disabled&&A(b,Le(this,1));return ef.c.f.call(this,a,b)};m.ng=function(a){T(a.o(),a.a(),"click",a.Nc)};m.nc=ia;
m.Lb=ia;m.Ie=function(a){return a.isEnabled()};m.oc=ia;m.X=function(a,b,c){ef.c.X.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};m.T=function(a){return a.value};m.ib=function(a,b){a&&(a.value=b)};m.Ba=ia;function ff(a,b,c){We.call(this,a,b||ef.b(),c)}v(ff,We);m=ff.prototype;m.T=ca("wf");m.ib=function(a){this.wf=a;this.u.ib(this.a(),a)};m.Dc=ca("sf");m.jf=function(a){this.sf=a;this.u.jf(this.a(),a)};m.h=function(){ff.c.h.call(this);delete this.wf;delete this.sf};m.m=function(){ff.c.m.call(this);if(this.U&32){var a=this.Za();a&&T(this.o(),a,"keyup",this.Be)}};m.Be=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Nc(a):32==a.keyCode};Ue("goog-button",function(){return new ff(k)});function gf(){}v(gf,Me);ja(gf);m=gf.prototype;m.C=function(a){var b={"class":"goog-inline-block "+Ge(this,a).join(" "),title:a.Dc()||""},b=a.sa().C("div",b,hf(this,a.Ea,a.sa()));He(this,a,b);return b};m.cc=da("button");m.Db=function(a){return a&&a.firstChild.firstChild};function hf(a,b,c){return c.C("div","goog-inline-block "+(a.V()+"-outer-box"),c.C("div","goog-inline-block "+(a.V()+"-inner-box"),b))}m.rb=function(a){return"DIV"==a.tagName};
m.f=function(a,b){jf(b,j);jf(b,l);var c;a:{c=hc(a.sa(),b);var d=this.V()+"-outer-box";if(c&&E(c,d)&&(c=hc(a.sa(),c),d=this.V()+"-inner-box",c&&E(c,d))){c=j;break a}c=l}c||b.appendChild(hf(this,b.childNodes,a.sa()));A(b,"goog-inline-block",this.V());return gf.c.f.call(this,a,b)};m.V=da("goog-custom-button");
function jf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==za(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function kf(a,b,c){ff.call(this,a,b||gf.b(),c)}v(kf,ff);Ue("goog-custom-button",function(){return new kf(k)});function lf(){V.call(this);this.Va=3;this.G=10;this.$c=60*this.Va*this.G;this.me=[];this.le={};this.da=mf();this.ec=0;this.Tg=l;this.Wb=[W.b().z,W.b().z.t()]}v(lf,V);m=lf.prototype;
m.m=function(){lf.c.m.call(this);this.Zc=G("ticker");this.Ld=G("my-ticker");var a=G("go-live");this.jg=G("header");this.O=G("channels");this.kg=3;this.Ca=I().width*this.kg;this.zc=U(G("controller")).height;Q.b().subscribe(Xc,function(a){this.rf(a)},this);Q.b().subscribe(Wc,function(){this.Z()},this);this.Ra=new ed;for(var b=60;b>=this.Ra.getMinutes();)b-=this.G;this.Ra.setMinutes(b);this.L=this.Ra.clone();this.L.add(new fd(0,0,0,0,2*-this.G));this.Ag=this.L.clone();this.Ag.add(new fd(0,0,0,0,this.G*
(this.Va+1)));nf(this,this.Va,this.L);Kd(this.a(),this.Ca);var c=2/this.Va*this.Ca-200;Cd(this.a(),-1*c);this.ea=(this.Ca-200)/this.$c;this.gj=this.Ca/this.Va;this.tb=document.createElement("style");this.tb.id="channel-name-offs";this.tb.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.tb);this.tb.innerHTML="div#guide div.channels div.channel div.name{left:"+c+"px !important}";this.k=new Vd(this.a());var d=this.tb,f=this.a();this.k.rd=function(a){0>a&&a>-U(f).width+I().width&&
(this.target.style.left=a+"px",d.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}")};w(W.b().Ub,s(function(a){var b=new of(a,this.$c,this.Ra,c,this.L);ye(b,this.O);a.id==W.b().z.id&&(A(b.a(),"current"),this.Fa=b);this.fb=a.kc?a:this.fb;this.me.push(b);this.le[a.id]=b},this));var b=G("now-left"),g=G("now-right");T(T(T(T(T(T(T(T(T(T(this.o(),Tc.b().ne,Sc,s(function(){var a=W.b().z&&W.b().z.t(),b=pf.b().t(),c=1E3*pf.b().Ad(),d=Math.round((t()-this.L.getTime())/1E3*this.ea),
c=b&&c?Math.round((b.time.getTime()+c-this.L.getTime())/1E3*this.ea):d;qf(this);if(d+I().width>this.Ca-(Q.b().Uc?300:0))Math.ceil(this.Va/this.kg),nf(this,1,this.Ag),this.Ca+=this.gj,Kd(this.a(),this.Ca),this.Va++,this.$c=60*this.Va*this.G;Cd(this.Zc,d);Cd(this.Ld,c);R(this.Zc,!!a);R(this.Ld,!!b);F(this.Zc,"go-live",40<Math.abs(c-d));F(this.Zc,"can-go-live",15<Math.abs(c-d));F(this.Ld,"show",15<Math.abs(c-d));F(this.Ld,"show-me",15<Math.abs(c-d));this.Z()},this)),a,"click",s(function(){W.b().g(rf,
this.Fa.p);Q.b().g(Yc,j)},this)),window,"resize",s(this.Z,this)),this.O,"scroll",s(this.Z,this,i,i,j)),this.Zc,"click",s(this.Z,this,j,i,l)),b,"click",s(this.ti,this)),g,"click",s(this.Bi,this)),this.k,"beforedrag",s(function(){A(this.a(),"drag")},this)),this.k,"end",s(function(){D(this.a(),"drag");this.qb=l;qf(this)},this)),this.jg,"mousewheel",s(function(a){a.preventDefault();a.stopPropagation();a=a.ha;A(this.a(),"drag");a=Ed(this.a()).x+(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0);0>a&&a>-1*
this.Ca+I().width&&(Cd(this.a(),a),this.Fa.update(),this.tb.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}");D(this.a(),"drag");this.qb=l;qf(this)},this));W.b().subscribe(rf,this.xc,this);W.b().subscribe(sf,s(this.Z,this,j));Q.b().subscribe("toggle-admin",function(a){F(this.a(),"admin",a)},this);pf.b().subscribe(tf,this.Ye,this);uf(this);this.Z(j);this.da&&T(this.o(),this.k,"beforedrag",s(function(a){a.he.shiftKey&&a.preventDefault()},this))};
m.rf=function(a){var b=Math.min(this.O.scrollHeight,210);F(this.a(),"toggled",a);Jd(this.a(),a?b+this.zc+19:this.zc);O(s(function(){Jd(this.O,a?b:40);F(this.a(),"collapsed",!a);this.O.scrollTop=Ed(this.Fa.a()).y;uf(this)},this),a?0:800);this.Z(j,i,l);a&&uf(this);this.k&&this.k.Qa(a)};function nf(a,b,c){for(var d=H("times",a.a()),f=0;f<=b;f++){var g=c.clone();g.add(new fd(0,0,0,0,a.G*f));g=Qb("div",{"class":"time",style:"width:"+(a.Ca-200)/a.Va+"px"},pd(g));d.appendChild(g)}}
m.xc=function(a){D(this.Fa.a(),"current");this.Fa=this.le[a.id];A(this.Fa.a(),"current");this.Wb[0]=a;this.Z(j,i,l)};m.Ye=function(a){if(!this.fb){var b=X.b().Ma;this.fb=new vf({id:b.id,name:b.name.split(" ")[0]+"'s Channel"});W.b().kc=this.fb;b=new of(this.fb,this.$c,this.Ra,0,this.L);ye(b,this.O);this.me.push(b);this.le[this.fb.id]=b}b=new wf(i,a);this.fb.g(xf,b);uf(this);W.b().g(rf,this.fb);Y("/_addprogram",ge(),"POST","channel_id="+W.b().kc.id+"&media_id="+a.id)};
function qf(a){var b=G("now-left"),c=G("now-right"),d=(t()-a.L.getTime())/1E3*a.ea,f=I().width-(Q.b().Uc?300:0);c.style.right=Q.b().Uc?"300px":0;F(c,"now",!!(-d<Ed(a.a()).x-f));F(b,"now",!!(-d>Ed(a.a()).x+200));R(c,a.Wb[0].wb+(a.ec||0)+1<a.Wb[0].wa.length);R(b,0<=a.Wb[0].wb+(a.ec||0)-1)}m.ti=function(){E(G("now-left"),"now")?this.Z(j):this.Z(l,-1)};m.Bi=function(){E(G("now-right"),"now")?this.Z(j):this.Z(l,1)};
m.Z=function(a,b,c){this.qb=a!=i?!!a:this.qb;this.Tg=a!=i?!!c:this.qb;this.ec=this.qb?0:b?this.ec+b:this.ec;c=this.qb?pf.b().t():this.Wb[0].t(this.ec);this.Wb[1]=c;if((this.qb||b)&&c){var a=(t()-this.L.getTime())/1E3*this.ea,c=-(c.time.getTime()-this.L.getTime())/1E3*this.ea+5,d=I().width-(Q.b().Uc?300:0);!b&&a>-c+d-300&&(c=-a+d-350);c=Math.max(c,-U(this.a()).width+d);Cd(this.a(),Math.min(c,-200));this.tb.innerHTML="div#guide div.channels div.channel div.name{left:"+-c+"px !important}";if(!this.Tg){var f=
Ed(this.Fa.a()).y-U(this.jg).height,g=new qe(this.O,[this.O.scrollLeft,this.O.scrollTop],[this.O.scrollLeft,f],100*this.me.length);T(this.o(),g,"end",s(function(){O(s(function(){this.O.scrollTop=f},this))},this));O(s(function(){g.play()},this),100)}}b&&qf(this)};function uf(a){var b=Math.min(a.O.scrollHeight,210);Jd(a.O,E(a.a(),"toggled")?b:a.zc);Jd(a.a(),E(a.a(),"collapsed")?a.zc:b+a.zc+19)};function yf(a){return'\t<div class="channel"><div class="programs-container"><div class="programs"></div><div class="suggest"><div class="spinner">...</div><div class="select-program"><div class="select-header">SUGGEST PROGRAM <div class="close"></div></div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="Paste YouTube link"/><div class="page2"></div></div></div></div></div></div><div class="graph"></div><div class="viewers"></div><div class="name"><div class="text">'+
L(a.name)+'</div><div class="suggest-program"><div class="add-program button dark">+</div></div></div></div>'}function zf(a){return'<div class="info"><div class="thumb'+(a.repeat?" repeat":"")+'" style="background-image:url('+L(a.af.media.Ua)+"); background-position: 50% "+L(a.af.media.rc)+'%"></div><div class="progress"></div><div class="title">'+L(a.af.media.name)+"</div>"+(a.de?'<div class="remove"></div><div class="repos"></div>':"")+"</div>"}
function Af(a){return'<div class="line"><div class="pic"><img src="'+L(a.r.W)+'"></div></div>'}function Bf(a){return'<div class="confirm-media"><div class="thumb" style="background-image:url('+L(a.cj)+')"></div><div class="title">'+L(a.title)+'</div><div class="added">ADDED</div><div class="dark button">ADD</div></div>'};function Cf(a){this.id=a.id;this.W=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Df(a){P.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.fc=a.host_id;this.duration=a.duration;this.description=a.description;this.ya=new Cf(a.publisher);this.xa=dd(a.published+"Z");this.Ua="http://i.ytimg.com/vi/"+this.fc+"/0.jpg";this.ek="http://i.ytimg.com/vi/"+this.fc+"/1.jpg";this.fk="http://i.ytimg.com/vi/"+this.fc+"/2.jpg";this.gk="http://i.ytimg.com/vi/"+this.fc+"/3.jpg";this.pf=new Ab(480,360);this.rc=a.thumb_pos||37;this.zh=[];this.yh=a.collection_id;this.subscribe(Ef,
this.th,this)}v(Df,P);var Ef="add-comment";Df.prototype.th=function(a){this.zh.push(a)};function Ff(){P.call(this);this.Dg={}}v(Ff,P);ja(Ff);function Gf(a,b){var c=a.get(b.id);c||(c=new Df(b),a.add(c));return c}Ff.prototype.get=function(a){return Hb(this.Dg,a)};Ff.prototype.add=function(a){this.Dg[a.id]=a};function wf(a,b){P.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?new Df(d.media):c;Ff.b().add(this.media);this.time=d?dd(d.time+"Z"):new ed}v(wf,P);function Hf(a){P.call(this);this.id=a.id;this.name=a.name;this.W=ya("https://graph.facebook.com/%s/picture",this.id);this.color=Raphael.getColor();this.yf=a.access_level;this.Hj=[]}v(Hf,P);function mf(){return X.b().Ma.yf==If}var If=2;function Jf(a,b,c,d,f){this.id=a;this.r=b;this.sb=c;this.gh=d;this.Yd=f||k};function vf(a){P.call(this);this.id=a.id;this.name=a.name;this.kc=a.my_channel;this.wa=[];this.Oc={};this.Ga=a.current_program&&new wf(a.current_program);this.$d=[];this.subscribe(xf,this.Rb,this);this.subscribe(Kf,this.hd,this);this.subscribe(Lf,this.uf,this)}v(vf,P);vf.prototype.Rb=function(a){this.wa.push(a);this.Oc[a.id]=a};vf.prototype.hd=function(a){this.$d.push(a)};vf.prototype.uf=function(a){var b=Hb(this.Oc,a.id);b&&(b.time=dd(a.time+"Z"))};
vf.prototype.t=function(a){if(!this.wa.length)return k;var b=this.Ga;b||(b=this.wa[0],this.wb=0);if(a)return this.wa[this.wb+a];if(t()>=b.time.getTime()&&t()<b.time.getTime()+1E3*b.media.duration)return this.Ga=b;for(;t()>b.time.getTime()&&t()>=b.time.getTime()+1E3*b.media.duration;){this.Ga||(this.Ga=this.wa[0],this.wb=0);this.wa.length>=this.wb+1?(this.wb++,a=this.Ga=this.wa[this.wb]):a=k;if(!a)break;b=a}return t()>=b.time.getTime()&&t()<b.time.getTime()+1E3*b.media.duration?this.Ga=b:k};
var xf="add-program",Kf="add-viewer",Lf="update-program";function Mf(){M.call(this);this.S=[];this.bc=[];this.vd={};this.l=new qd(this);this.hi=this.rg=l;this.vf=j}v(Mf,Pc);m=Mf.prototype;m.Ee=0;m.ff=ba("Ee");
m.init=function(){if(!this.rg){for(var a=0,b=this.S.length;a<b;a++)for(var c=Ub(this.S[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,n=qa(h);this.vd[n]=g;this.Pf&&(T(this.l,g,"mouseover",this.Vh),T(this.l,g,"mouseout",this.Uh));this.Of&&(T(this.l,h,"mouseover",this.Th),T(this.l,h,"mouseout",this.Sh));this.bc.push(g);T(this.l,h,["mousedown","touchstart"],this.gg)}this.rg=j}};
m.h=function(){this.l.Q();for(var a=0,b=this.S.length;a<b;a++){var c=this.S[a];c.Nf=i;c.xb=i}this.S.length=0;this.bc.length=0;this.vd=k;Nf(this);Mf.c.h.call(this)};function Of(a,b){for(var c=0,d=a.S.length;c<d;c++){var f=a.S[c];f.$b=Md(f)}c=0;for(d=a.bc.length;c<d;c++)f=a.bc[c],f!=b&&(f.$b=Md(f))}
m.gg=function(a){var b=qa(a.currentTarget);this.i=this.vd[b];this.q=this.od(this.i);this.wd&&A(this.q,this.wd);this.q.style.margin="0";this.q.style.position="absolute";this.q.style.visibility="hidden";Mb(this.i).body.appendChild(this.q);b=Hd(this.i);Id(this.q,b);this.k=new Vd(this.q);this.k.ff(this.Ee);N(this.k,"start",this.bg,l,this);N(this.k,"end",this.ag,l,this);N(this.k,"earlycancel",this.nd,l,this);this.k.Mb(a)};
m.bg=function(a){if(this.dispatchEvent(new Pf("beforedragstart",this,a.he,this.i,k,k))){this.Od=this.i.parentNode;this.Lf=this.Ve=Vb(this.i);this.se=this.Od;this.re?A.apply(k,Ra(this.i,this.re)):this.i.style.visibility="hidden";var b=U(this.q);this.q.Ph=b.width/2;this.q.Oh=b.height/2;this.q.style.visibility="";this.vf&&(this.i.style.display="none");Of(this,this.i);this.i.style.display="";N(this.k,"drag",this.Wh,l,this);this.dispatchEvent(new Pf("dragstart",this,a.he,this.i,this.q,this.k))}else a.preventDefault(),
this.nd()};
m.Wh=function(a){var b=Hd(this.q),b=new zb(b.x+this.q.Ph,b.y+this.q.Oh),c;a:{c=k;if("none"!=this.i.style.display){c=this.i.parentNode;var d=Md(c);if(Qf(b,d))break a}for(var d=0,f=this.S.length;d<f;d++){var g=this.S[d];if(g!=c&&Qf(b,g.$b)){c=g;break a}}c=k}var h;if(c){c==k&&e(Error("getHoverNextItem_ called with null hoverList."));var n,q,d=l,f=i;switch(c.Nf){case 0:h=b.y;n=Rf;q=Sf;break;case 4:d=j;case 2:h=b.x;n=Tf;q=Sf;break;case 5:d=j;case 3:h=b.x,n=Uf,q=Vf}for(var g=k,u,B=Ub(c),C=0,J=B.length;C<
J;C++){var S=B[C];if(S!=this.i){var wa=n(S.$b);if(d){var Lc=Wf(S,b);ga(f)||(f=Lc);if(q(h,wa)&&(u==i||Lc<f||Lc==f&&(q(wa,u)||wa==u)))g=S,u=wa;Lc<f&&(f=Lc)}else if(q(h,wa)&&(u==i||q(wa,u)))g=S,u=wa}}h=g!==k&&Wf(g,b)>f?k:g}else h=k;if(!this.dispatchEvent(new Pf("beforedragmove",this,a,this.i,this.q,this.k,b,c,h)))return l;if(c)this.vf?(this.i.parentNode!=c||Vb(this.i)!=h)&&c.insertBefore(this.i,h):h&&(this.Lf=h),this.i.style.display="",c.xb&&A(c,c.xb);else{this.hi||(this.i.style.display="none");n=0;
for(q=this.S.length;n<q;n++)u=this.S[n],u.xb&&D(u,u.xb)}c!=this.se&&(this.se=c,Of(this,this.i));this.dispatchEvent(new Pf("dragmove",this,a,this.i,this.q,this.k,b,c,h));return l};m.nd=function(){Nf(this);this.k=this.q=this.Ve=this.Od=this.se=this.i=k;for(var a=0,b=this.S.length;a<b;a++)this.S[a].$b=k;a=0;for(b=this.bc.length;a<b;a++)this.bc[a].$b=k};
m.ag=function(a){if(!this.dispatchEvent(new Pf("beforedragend",this,a,this.i,this.q,this.k)))return l;this.vf||this.Od.insertBefore(this.i,this.Lf);Nf(this);this.dispatchEvent(new Pf("dragend",this,a,this.i,this.q,this.k));this.nd();return j};function Nf(a){qc(a.k);a.q&&Tb(a.q);a.i&&"none"==a.i.style.display&&(a.Od.insertBefore(a.i,a.Ve),a.i.style.display="");a.re&&a.i?D.apply(k,Ra(a.i,a.re)):a.i&&(a.i.style.visibility="visible");for(var b=0,c=a.S.length;b<c;b++){var d=a.S[b];d.xb&&D(d,d.xb)}}
m.Vh=function(a){A.apply(k,Ra(a.currentTarget,this.Pf))};m.Uh=function(a){D.apply(k,Ra(a.currentTarget,this.Pf))};m.Th=function(a){A.apply(k,Ra(a.currentTarget,this.Of))};m.Sh=function(a){D.apply(k,Ra(a.currentTarget,this.Of))};function Qf(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Wf(a,b){var c=a.$b;return Math.abs(b.y-(c.top+(c.height-1)/2))}function Rf(a){return a.top+a.height-1}function Tf(a){return a.left+a.width-1}function Uf(a){return a.left||0}
function Sf(a,b){return a<b}function Vf(a,b){return a>b}m.od=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return Qb("table",k,Qb("tbody",k,b));case "td":case "th":return Qb("table",k,Qb("tbody",k,Qb("tr",k,b)));default:return b}};function Pf(a,b,c,d,f,g,h,n,q){uc.call(this,a);this.Oj=b;this.event=c;this.oa=d;this.Fh=f;this.Eh=g;this.Qf=h;this.Xj=n;this.$a=q}v(Pf,uc);function of(a,b,c,d,f){V.call(this);this.p=a;this.da=mf();this.Wg=this.jd=l;this.sc=b;this.Ra=c;this.L=f;this.ck=d;this.fd={};this.Qc={};this.Xa=this.da?new Mf:k}v(of,V);m=of.prototype;m.C=function(){this.d=K(yf,{name:this.p.name,Nj:this.p.Ga,$c:this.sc})};
m.m=function(){of.c.m.call(this);this.Pc=H("programs",this.a());this.oh=H("viewers",this.a());this.Hg=H("name",this.a());this.ye=H("graph",this.a());this.Ka=H("suggest",this.a());this.Nb=new Xf("Paste YouTube link");this.Nb.f(H("program-input",this.a()));var a=new Ne(this.Nb.a()),b=new Yf(this.Nb.a()),c=new Zf(s(this.Ue,this),1E3);this.ea=(U(this.Pc).width-200)/this.sc;if(this.Wg){var d=0,f=40;this.Pe=0;this.Tf=[new zb(d,f)];this.Vj=Math.floor((t()-this.L.getTime())/1E3);for(var g=0;g<this.sc/40;g++)this.Tf.push(new zb(d+=
40,f+=[-30,-5,15,10,25][Math.floor(5*Math.random())])),this.Pe=Math.max(this.Pe,f);this.Mh=Raphael(this.ye,"100%",60).path("M0,0").attr({stroke:"none",opacity:0.8,fill:"#5d5d5d"})}xd(this.Hg,"background",Raphael.getColor());d=this.p.wa;for(g=0;g<d.length;g++)d[g].time.getTime()<this.Ra.getTime()&&d[g].time.getTime()+1E3*d[g].media.duration>this.Ra.getTime()-1E3*this.sc?this.Rb(d[g]):d[g].time.getTime()>this.Ra.getTime()&&this.Rb(d[g]);if(this.da){g=this.Xa;d=this.Pc;d.Nf=2;d.xb=i;g.S.push(d);this.Xa.wd=
"drag";var h=this.a();this.Xa.gg=function(a){var b=qa(a.currentTarget);this.i=this.vd[b];this.q=this.od(this.i);this.wd&&A(this.q,this.wd);this.q.style.margin="0";this.q.style.position="absolute";this.q.style.visibility="hidden";h.appendChild(this.q);b=Hd(this.i);Id(this.q,b);this.k=new Vd(this.q);this.k.ff(this.Ee);N(this.k,"start",this.bg,l,this);N(this.k,"end",this.ag,l,this);N(this.k,"earlycancel",this.nd,l,this);this.k.Mb(a)};this.Xa.init();var n={},q,u,B,C,J,S=j;T(T(T(this.o(),this.Xa,"beforedragstart",
s(function(a){(!this.jd||!a.event.shiftKey)&&a.preventDefault()},this)),this.Xa,"dragmove",function(a){B=B||a.Qf.x;C=C||Ed(a.oa).x;J=J||(a.oa.previousElementSibling!=i?a.oa.previousElementSibling:Wb(a.oa.previousSibling,l));S=S&&!!J;var b=J?U(J).width:i,c=J?Ed(J).x:i,d=a.Qf.x-B;10>Math.abs(d)||(a.$a&&!n[a.$a.id]&&0<d?(b=U(a.oa).width,c=Ed(a.$a).x,q=c-b+U(a.$a).width,d=this.p.Oc[a.$a.id],u=d.time.getTime()/1E3+d.media.duration-this.p.Oc[a.oa.id].media.duration,Cd(a.oa,q),Cd(a.$a,c-b-12),n[a.$a.id]=
j,b=a.$a,b.parentNode&&b.parentNode.insertBefore(a.oa,b.nextSibling)):S&&(0>d&&C+d<c+b)&&(b=U(a.oa).width,q=c=Ed(J).x,u=this.p.Oc[J.id].time.getTime()/1E3,Cd(a.oa,q),Cd(J,c+b+12),b=J.previousElementSibling!=i?J.previousElementSibling:Wb(J.previousSibling,l),J.parentNode&&J.parentNode.insertBefore(a.oa,J),J=b,S=!!b))}),this.Xa,"dragend",function(a){u&&(Y("/admin/_rescheduleprogram",i,"POST","program="+a.Fh.id+"&time="+u),this.Xa.init(),u=i);n={};q=J=C=B=i;S=j})}for(var g=this.p.$d,d=this.hd,f=r(g)?
g.split(""):g,wa=g.length-1;0<=wa;--wa)wa in f&&d.call(this,f[wa],wa,g);T(T(T(T(T(T(T(this.o(),this.Ka,"click",s(this.Di,this)),H("close",this.Ka),"click",s(function(a){a.preventDefault();a.stopPropagation();$f(this)},this)),H("name",this.a()),"click",s(function(){this.p.id!=W.b().z.id&&this.p.t()&&W.b().g(rf,this.p)},this)),Tc.b().ne,Sc,s(this.update,this)),b,ag,s(this.Ue,this)),a,"key",s(function(){c&&c.we()},this)),this.Nb,"focus",s(this.Ue,this));this.p.subscribe(xf,this.Rb,this);this.p.subscribe(Kf,
this.hd,this);this.p.subscribe("remove-viewer",this.Pi,this);this.p.subscribe(Lf,this.uf,this);W.b().subscribe(sf,this.kh,this);W.b().subscribe(rf,this.kh,this);Q.b().subscribe("toggle-admin",ba("jd"),this);this.update()};m.kh=function(){this.w&&D(this.Qc[this.w],"playing");this.w=k;var a=W.b().z.t();if(a){var b=this.Qc[a.id];b&&(this.w=a.id,A(b,"playing"))}};
m.Rb=function(a){var b=Qb("div",{"class":"program",id:a.id}),c=a.media.duration*this.ea,d=this.da&&a.time.getTime()+1E3*a.media.duration>t();jc(b,zf,{af:a,repeat:600<c,de:d});this.Qc[a.id]=b;var f=W.b().z.t();f&&a.id==f.id&&(A(b,"playing"),this.w=a.id);var g=H("thumb",b);O(function(){a.media.pf.height<U(b).height+50?(A(g,"fix-height"),A(g,"pan-left")):A(g,"pan-top");h&&Kd(g,200);F(b,"stretched",360<a.media.pf.height)});Kd(b,c-12);f=(a.time.getTime()-this.L.getTime())/1E3*this.ea;Cd(b,f);Cd(this.Ka,
f+c);this.Pc.appendChild(b);var h=120>c;F(b,"clipped",h);T(this.o(),b,"click",function(){Z.b().g(bg,a.media)});var n=E(b,"clipped")?200:U(b).width,q=H("title",b),u=U(q).width;T(T(this.o(),b,"mouseover",function(){if(Q.b().ze){var b=u+Ed(q).x;b>n&&(xd(q,"margin-left",-(b-n-10)+"px"),A(q,"marquee"));this.jd||xd(g,"background-position-y",a.media.rc+10*Math.max(a.media.pf.width/n,1)+"%")}}),b,"mouseout",function(){Q.b().ze&&(xd(q,"margin-left",""),D(q,"marquee"),this.jd||xd(g,"background-position-y",
a.media.rc+"%"))});d&&(c=new Vd(H("repos",b)),c.rd=function(a,b){var c=b-24;-50<=c&&50>=c&&xd(g,"background-position-y",50-c+"%")},T(T(this.o(),c,"end",function(){var b=(g.style[Ha("background-position")]||"").split(" ")[1],b=b.substring(0,b.length-1);a.media.rc=b;Y("/admin/_posthumb",ge(),"POST","media="+a.media.id+"&pos="+b)}),H("remove",b),"click",s(this.Ai,this,a,b)))};m.uf=function(a){var b=this.Qc[a.id],a=(dd(a.time+"Z").getTime()-this.L.getTime())/1E3*this.ea;Cd(b,a)};
m.Ai=function(a,b){Tb(b);Y("/admin/_removeprogram",i,"POST","program="+a.id)};m.hd=function(a){if(X.b().Ma.id!=a.r.id){var b=this.fd[a.r.id];b||(b=Qb("div","viewer"),this.oh.appendChild(b),this.fd[a.r.id]=b);if(this.p.t()&&(!a.Yd||a.Yd.getTime()>this.L.getTime())){var c=K(Af,{r:a.r});b.appendChild(c);var d=Math.max(a.gh.getTime(),this.L.getTime()),b=(d-this.L.getTime())/1E3*this.ea+200,d=(t()-d)/1E3*this.ea;Kd(c,d);Cd(c,b);xd(c,"background",a.r.color);T(this.o(),c,"click",function(){Z.b().g(cg,a.r)})}}};
m.Pi=function(a){Fb(this.fd,a.id)};m.Di=function(){if(!E(this.Ka,"show")){Nd(H("select-program",this.Ka),1);A(this.Ka,"show");var a=this.Nb,b=dg(a);a.Fe=j;a.a().focus();!b&&!eg&&(a.a().value=a.ua);a.a().select();eg||(a.l&&sd(a.l,a.a(),"click",a.Ae),O(a.Jh,10,a))}};function $f(a){D(a.Ka,"show");a.Nb.ib("");H("page2",a.a()).innerHTML=""}
m.Ue=function(){var a=H("select-content",this.a()),b=H("page2",this.a());if(!Ub(b).length)try{var c;var d=this.Nb.T(),f=fg.exec(d);f?c=new gg(f[1]||f[2],i,i):e(Error("failed to parse video id from youtube url: "+d));Y(ya("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.kj),s(function(d){d=hg(ig(d.target)).entry;jc(b,Bf,{title:d.title.$t,cj:d.media$group.media$thumbnail[0].url});d=new kf("YES");d.f(H("button",b));(new qe(a,[0,0],[160,0],300,jg)).play();T(this.o(),d,"action",s(this.Ci,
this,c))},this))}catch(g){}};m.Ci=function(a){Y("/_addprogram",s(function(a){a=kg(a.target);a.id&&(a=new wf(a),this.p.g(xf,a))},this),"POST","channel_id="+this.p.id+"&url="+a.uc);Nd(H("button",this.Ka),0);R(H("added",this.Ka),j);Nd(H("select-program",this.Ka),0);O(s(function(){$f(this)},this),3E3)};
m.update=function(){var a=!this.p.wa.length||this.p.kc&&!this.p.t();F(this.a(),"offline",a);if(this.p.wa.length){if(this.Wg){var b="",c=U(this.Pc).width,d,f,g,h=(t()-this.L)/1E3,n=Va(this.Tf,0,Math.floor(h/40));w(n,function(a,q){d=a.x/this.sc*c;f=60-60*(a.y/this.Pe);q==n.length-1&&(d=h/this.sc*c);d+=6;q?(b+="L"+[d-30,g],b+="C"+[d-20,g,d-10,f,d,f]):b+="M"+[d,f]+"R";g=f},this);this.Mh.attr({path:b+"L"+d+",60 10,60z"})}if(this.w){var q=this.Qc[this.w],a=Ed(q).x+Ed(G("guide")).x,q=H("title",q);Cd(q,5>
a?-a+10:5)}Bb(this.p.$d,function(a){if(this.p.t()&&!a.Yd&&this.fd[a.r.id]){var b=Math.max(a.gh.getTime(),this.L.getTime());U(this.Pc);var c=Math.floor((t()-b)/1E3*this.ea),d=pf.b().t();a.r.id==X.b().Ma.id&&d&&(c=Math.floor((d.time.getTime()+1E3*pf.b().Ad()-b)/1E3*this.ea));Kd(this.fd[a.r.id].lastChild,c)}},this);a=U(this.ye).height;q=U(this.oh).height;a-=q;0>a&&xd(this.ye,"margin-top",-a+"px");Jd(this.Hg,U(this.a()).height-1)}};function X(){P.call(this);this.lh={}}v(X,P);ja(X);X.prototype.add=function(a){this.lh[a.id]=a};X.prototype.get=function(a){return this.lh[a]};function lg(a,b){var c=a.get(b.id);c||(c=new Hf(b),a.add(c));return c};function mg(a){if("function"==typeof a.Bd)return a.Bd();if(r(a))return a.split("");if(ma(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Cb(a)}function ng(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ma(a)||r(a))w(a,b,c);else{var d;if("function"==typeof a.xe)d=a.xe();else if("function"!=typeof a.Bd)if(ma(a)||r(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Db(a);else d=i;for(var f=mg(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function og(a,b){this.eb={};this.H=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof og?(c=a.xe(),d=a.Bd()):(c=Db(a),d=Cb(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}m=og.prototype;m.K=0;m.nh=0;m.Bd=function(){pg(this);for(var a=[],b=0;b<this.H.length;b++)a.push(this.eb[this.H[b]]);return a};m.xe=function(){pg(this);return this.H.concat()};
m.clear=function(){this.eb={};this.nh=this.K=this.H.length=0};function pg(a){if(a.K!=a.H.length){for(var b=0,c=0;b<a.H.length;){var d=a.H[b];Object.prototype.hasOwnProperty.call(a.eb,d)&&(a.H[c++]=d);b++}a.H.length=c}if(a.K!=a.H.length){for(var f={},c=b=0;b<a.H.length;)d=a.H[b],Object.prototype.hasOwnProperty.call(f,d)||(a.H[c++]=d,f[d]=1),b++;a.H.length=c}}m.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.eb,a)?this.eb[a]:b};
m.set=function(a,b){Object.prototype.hasOwnProperty.call(this.eb,a)||(this.K++,this.H.push(a),this.nh++);this.eb[a]=b};m.clone=function(){return new og(this)};function qg(a){return rg(a||arguments.callee.caller,[])}
function rg(a,b){var c=[];if(Pa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(sg(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=sg(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(rg(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function sg(a){if(tg[a])return tg[a];a=String(a);if(!tg[a]){var b=/function ([^\(]+)/.exec(a);tg[a]=b?b[1]:"[Anonymous]"}return tg[a]}var tg={};function ug(a,b,c,d,f){this.reset(a,b,c,d,f)}ug.prototype.Si=0;ug.prototype.Sf=k;ug.prototype.Rf=k;var vg=0;ug.prototype.reset=function(a,b,c,d,f){this.Si="number"==typeof f?f:vg++;this.hk=d||t();this.Ic=a;this.mi=b;this.Zj=c;delete this.Sf;delete this.Rf};ug.prototype.Ug=ba("Ic");function wg(a){this.ni=a}wg.prototype.A=k;wg.prototype.Ic=k;wg.prototype.P=k;wg.prototype.hg=k;function xg(a,b){this.name=a;this.value=b}xg.prototype.toString=ca("name");var yg=new xg("SEVERE",1E3),zg=new xg("WARNING",900),Ag=new xg("INFO",800),Bg=new xg("CONFIG",700),Cg=new xg("FINE",500);m=wg.prototype;m.getParent=ca("A");m.Yf=function(){this.P||(this.P={});return this.P};m.Ug=ba("Ic");function Dg(a){return a.Ic?a.Ic:a.A?Dg(a.A):k}
m.log=function(a,b,c){if(a.value>=Dg(this).value){a=this.Lh(a,b,c);b="log:"+a.mi;p.console&&(p.console.timeStamp?p.console.timeStamp(b):p.console.markTimeline&&p.console.markTimeline(b));p.msWriteProfilerMark&&p.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.hg)for(var f=0,g=i;g=c.hg[f];f++)g(d);b=b.getParent()}}};
m.Lh=function(a,b,c){var d=new ug(a,String(b),this.ni);if(c){d.Sf=c;var f;var g=arguments.callee.caller;try{var h;var n=ha("window.location.href");if(r(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var q,u,B=l;try{q=c.lineNumber||c.Yj||"Not available"}catch(C){q="Not available",B=j}try{u=c.fileName||c.filename||c.sourceURL||n}catch(J){u="Not available",B=j}h=B||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:q,
fileName:u,stack:c.stack||"Not available"}:c}f="Message: "+Aa(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Aa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Aa(qg(g)+"-> ")}catch(S){f="Exception trying to expose exception! You win, we lose. "+S}d.Rf=f}return d};function Eg(a,b){a.log(yg,b,i)}m.info=function(a,b){this.log(Ag,a,b)};function Fg(a,b){a.log(Cg,b,i)}var Gg={},Hg=k;
function Ig(a){Hg||(Hg=new wg(""),Gg[""]=Hg,Hg.Ug(Bg));var b;if(!(b=Gg[a])){b=new wg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Ig(a.substr(0,c));c.Yf()[d]=b;b.A=c;Gg[a]=b}return b};function hg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function Jg(){}Jg.prototype.ld=k;var Kg;function Lg(){}v(Lg,Jg);function Mg(a){return(a=Ng(a))?new ActiveXObject(a):new XMLHttpRequest}function Og(a){var b={};Ng(a)&&(b[0]=j,b[1]=j);return b}
function Ng(a){if(!a.lg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.lg=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.lg}Kg=new Lg;var Pg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Qg(a){M.call(this);this.headers=new og;this.vc=a||k}v(Qg,Pc);Qg.prototype.s=Ig("goog.net.XhrIo");var Rg=/^https?$/i,Sg=[];function Y(a,b,c,d){var f=new Qg;Sg.push(f);b&&N(f,"complete",b);N(f,"ready",va(Tg,f));f.send(a,c,d,i)}function Tg(a){a.Q();Qa(Sg,a)}m=Qg.prototype;m.Wa=l;m.n=k;m.ae=k;m.Me="";m.wg="";m.Gc=0;m.Hc="";m.ve=l;m.Fd=l;m.Ge=l;m.Fb=l;m.Xd=0;m.Ob=k;m.Sd="";m.lj=l;
m.send=function(a,b,c,d){this.n&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Me=a;this.Hc="";this.Gc=0;this.wg=b;this.ve=l;this.Wa=j;this.n=this.vc?Mg(this.vc):Mg(Kg);this.ae=this.vc?this.vc.ld||(this.vc.ld=Og(this.vc)):Kg.ld||(Kg.ld=Og(Kg));this.n.onreadystatechange=s(this.Lg,this);try{Fg(this.s,Ug(this,"Opening Xhr")),this.Ge=j,this.n.open(b,a,j),this.Ge=l}catch(f){Fg(this.s,Ug(this,"Error opening Xhr: "+f.message));Vg(this,f);return}var a=c||
"",g=this.headers.clone();d&&ng(d,function(a,b){g.set(b,a)});d=p.FormData&&a instanceof p.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.eb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");ng(g,function(a,b){this.n.setRequestHeader(b,a)},this);this.Sd&&(this.n.responseType=this.Sd);"withCredentials"in this.n&&(this.n.withCredentials=this.lj);try{this.Ob&&(Rc.clearTimeout(this.Ob),this.Ob=k),0<this.Xd&&(Fg(this.s,Ug(this,"Will abort after "+
this.Xd+"ms if incomplete")),this.Ob=Rc.setTimeout(s(this.fj,this),this.Xd)),Fg(this.s,Ug(this,"Sending request")),this.Fd=j,this.n.send(a),this.Fd=l}catch(h){Fg(this.s,Ug(this,"Send error: "+h.message)),Vg(this,h)}};m.fj=function(){"undefined"!=typeof ea&&this.n&&(this.Hc="Timed out after "+this.Xd+"ms, aborting",this.Gc=8,Fg(this.s,Ug(this,this.Hc)),this.dispatchEvent("timeout"),this.abort(8))};function Vg(a,b){a.Wa=l;a.n&&(a.Fb=j,a.n.abort(),a.Fb=l);a.Hc=b;a.Gc=5;Wg(a);Xg(a)}
function Wg(a){a.ve||(a.ve=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}m.abort=function(a){this.n&&this.Wa&&(Fg(this.s,Ug(this,"Aborting")),this.Wa=l,this.Fb=j,this.n.abort(),this.Fb=l,this.Gc=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Xg(this))};m.h=function(){this.n&&(this.Wa&&(this.Wa=l,this.Fb=j,this.n.abort(),this.Fb=l),Xg(this,j));Qg.c.h.call(this)};m.Lg=function(){!this.Ge&&!this.Fd&&!this.Fb?this.zi():Yg(this)};m.zi=function(){Yg(this)};
function Yg(a){if(a.Wa&&"undefined"!=typeof ea)if(a.ae[1]&&4==Zg(a)&&2==$g(a))Fg(a.s,Ug(a,"Local request error detected and ignored"));else if(a.Fd&&4==Zg(a))Rc.setTimeout(s(a.Lg,a),0);else if(a.dispatchEvent("readystatechange"),4==Zg(a)){Fg(a.s,Ug(a,"Request complete"));a.Wa=l;try{var b=$g(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var f;if(f=0===b){var g=String(a.Me).match(Pg)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);f=!Rg.test(g?g.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Gc=6;var n;try{n=2<Zg(a)?a.n.statusText:""}catch(q){Fg(a.s,"Can not get status: "+q.message),n=""}a.Hc=n+" ["+$g(a)+"]";Wg(a)}}finally{Xg(a)}}}
function Xg(a,b){if(a.n){var c=a.n,d=a.ae[0]?ia:k;a.n=k;a.ae=k;a.Ob&&(Rc.clearTimeout(a.Ob),a.Ob=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){Eg(a.s,"Problem encountered resetting onreadystatechange: "+f.message)}}}m.Hb=function(){return!!this.n};function Zg(a){return a.n?a.n.readyState:0}function $g(a){try{return 2<Zg(a)?a.n.status:-1}catch(b){return a.s.log(zg,"Can not get status: "+b.message,i),-1}}function kg(a){if(a.n)return hg(a.n.responseText)}
function ig(a){try{if(!a.n)return k;if("response"in a.n)return a.n.response;switch(a.Sd){case "":case "text":return a.n.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.n)return a.n.mozResponseArrayBuffer}Eg(a.s,"Response type "+a.Sd+" is not supported on this browser");return k}catch(b){return Fg(a.s,"Can not get response: "+b.message),k}}function Ug(a,b){return b+" ["+a.wg+" "+a.Me+" "+$g(a)+"]"};function W(){P.call(this);this.Ub=[];this.Tb={};this.subscribe(rf,this.xc,this)}v(W,P);ja(W);W.prototype.get=function(a){return this.Tb[a]};function ah(a){if(a.z&&a.z.t())return a.z;if(a.Ke&&a.Ke.t())return a.Ke;for(var b=a.Ub[0],c=0;!b.t()&&c<a.Ub.length;)b=a.Ub[c],c++;return!b.t()?a.z:b}W.prototype.Oe=function(a,b){Bb(a,s(function(a){var b=new vf(a);this.Ub.push(b);this.Tb[a.id]=b;b.kc&&(this.kc=b)},this));this.z=this.Tb[b]||this.Ub[0];this.z=ah(this)};
W.prototype.xc=function(a){a&&(this.Ke=this.z,this.z=a,Y("/_changechannel",ge(),"POST","channel="+a.id))};var rf="change-channel",sf="next-program";function bh(){V.call(this);this.Eb=new kf("Guide");bf(this.Eb,16,j);this.jb=new kf("Sidebar");bf(this.jb,16,j);this.bf=new kf("Restart");this.Pa=new kf("Play");bf(this.Pa,16,j);this.gd=new kf("Volume");bf(this.gd,16,j);this.Sb=new kf("Admin");bf(this.Sb,16,j)}v(bh,V);
bh.prototype.m=function(){bh.c.m.call(this);this.Ri=H("right",this.a());Ae(this,this.Eb);this.Eb.f(G("guide-toggle"));af(this.Eb,j);Ae(this,this.jb);this.jb.f(G("sidebar-toggle"));Ae(this,this.bf);this.bf.f(H("restart",this.a()));Ae(this,this.Pa);this.Pa.f(H("play",this.a()));Ae(this,this.gd);this.gd.f(H("volume",this.a()));Ae(this,this.Sb);this.Sb.f(G("admin-toggle"));R(this.Sb.a(),X.b().Ma.yf==If);var a=new Zf(this.bj,1E3,this);T(T(T(T(T(T(T(this.o(),window,"resize",s(this.resize,this)),this.Eb,
"action",s(function(){a.we()},this)),this.jb,"action",s(function(a){a.stopPropagation();Q.b().g(Wc,Ke(this.jb));this.resize()},this)),this.bf,"action",s(function(a){a.stopPropagation();Q.b().g("restart");this.resize()},this)),this.Pa,"action",s(function(a){a.stopPropagation();Q.b().g(Yc,!Ke(this.Pa));this.resize()},this)),this.gd,"action",s(function(a){a.stopPropagation();Q.b().g("mute",Ke(this.gd))},this)),this.Sb,"action",s(function(a){a.stopPropagation();Q.b().g("toggle-admin",Ke(this.Sb));this.resize()},
this));W.b().subscribe(rf,function(){O(s(this.resize,this))},this);W.b().subscribe("play-async",function(){O(s(this.resize,this))},this);W.b().subscribe(sf,function(){O(s(this.resize,this))},this);Q.b().subscribe(Xc,this.rf,this);Q.b().subscribe(Wc,function(a){af(this.jb,a);this.resize()},this);Q.b().subscribe(Yc,function(a){af(this.Pa,!a)},this);this.resize()};bh.prototype.bj=function(){var a=Ke(this.Eb);Q.b().g(Xc,a)};
bh.prototype.rf=function(a){af(this.Eb,a);a&&(D(this.a(),"window"),D(this.a(),"collapsed"),O(s(this.resize,this)));O(s(function(){F(this.a(),"guide-toggled",a);if(!a){var b=W.b().z&&W.b().z.t();A(this.a(),"collapsed");O(s(function(){F(this.a(),"window",!!b);O(s(this.resize,this))},this),300);O(s(this.resize,this))}},this),a?0:600)};
bh.prototype.resize=function(){Kd(this.a(),I().width-(Ke(this.jb)?300:0));var a=G("guide"),b=H("current",a),b=Nb("program",b),a=(b=b[b.length-1])?Ed(a).x+Ed(b).x+U(b).width+210:9999999,a=Math.min(I().width-200,Math.max(100,I().width-a));Kd(this.Ri,Ke(this.jb)?a-293:a+7);F(this.a(),"window",E(this.a(),"collapsed")&&!!b&&a<I().width-203)};function pf(){P.call(this)}v(pf,P);ja(pf);pf.prototype.hf=ba("B");pf.prototype.t=ca("w");pf.prototype.Ad=function(){return this.B&&this.B.getCurrentTime?this.B.getCurrentTime():0};var tf="play-async";function ch(){de.call(this);this.queue=[]}v(ch,de);ch.prototype.add=function(a){Pa(this.queue,a)||(this.queue.push(a),N(a,"finish",this.pi,l,this))};ch.prototype.h=function(){w(this.queue,function(a){a.Q()});this.queue.length=0;ch.c.h.call(this)};function dh(){ch.call(this);this.pa=0}v(dh,ch);
dh.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.e==ee)this.pa<this.queue.length&&this.queue[this.pa].e!=ee&&this.queue[this.pa].stop(l),this.pa=0,this.gb();else if(1==this.e)return l;this.aa("play");-1==this.e&&this.aa("resume");this.startTime=t();this.Cc=k;this.e=1;this.queue[this.pa].play(a);return j};
dh.prototype.stop=function(a){this.e=ee;this.Cc=t();if(a)for(a=this.pa;a<this.queue.length;++a){var b=this.queue[a];b.e==ee&&b.play();b.e==ee||b.stop(j)}else this.pa<this.queue.length&&this.queue[this.pa].stop(l);this.aa("stop");this.hb()};dh.prototype.pi=function(){1==this.e&&(this.pa++,this.pa<this.queue.length?this.queue[this.pa].play():(this.Cc=t(),this.e=ee,this.aa("finish"),this.hb()))};function eh(a){return a*a*a}function jg(a){return 1-Math.pow(1-a,3)};function fh(){V.call(this)}v(fh,V);m=fh.prototype;
m.m=function(){fh.c.m.call(this);(this.w=(this.Fa=W.b().z)&&this.Fa.t())&&t();this.zd=H("fullscreen",this.a());var a=H("expand",this.a());R(this.zd,this.$g());gh(this);this.w&&hh(this,this.w);T(T(T(T(T(this.o(),window,"resize",s(this.resize,this)),this.zd,"click",s(function(a){if(yb(this.zd,"full")){var c=H("main");c.Qg&&c.Qg();c.webkitRequestFullScreen&&c.webkitRequestFullScreen();c.mozRequestFullScreen&&c.mozRequestFullScreen()}else document.wh&&document.wh(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),
document.mozCancelFullScreen&&document.mozCancelFullScreen();a.stopPropagation();a.preventDefault()},this)),this.a(),"dblclick",s(this.eh,this)),a,"click",s(this.eh,this)),this.a(),"click",s(function(){if(this.B)switch(this.B.getPlayerState()){case YT.PlayerState.PLAYING:Q.b().g(Yc,l);break;case YT.PlayerState.PAUSED:Q.b().g(Yc,j)}},this));W.b().subscribe(rf,this.xc,this);W.b().subscribe(sf,function(a){this.w=a;hh(this,a);gh(this)},this);pf.b().subscribe(tf,this.Ye,this);Q.b().subscribe(Wc,function(a){this.resize(a)},
this);Q.b().subscribe(Xc,function(){O(s(this.resize,this))},this);Q.b().subscribe(Yc,function(a){a?this.B.playVideo():this.B.pauseVideo();var a=H(a?"play":"pause",this.a()),c=new dh;c.add(new te(a,250,jg));c.add(new se(a,250,eh));c.play()},this);Q.b().subscribe("mute",function(a){this.B&&(a?this.B.mute():this.B.unMute())},this);Q.b().subscribe("restart",function(){this.B.seekTo(0)},this);this.resize()};m.$g=function(){var a=H("main");return!(!a.Qg&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};
m.eh=function(a){a.preventDefault();a.stopPropagation();Z.b();a=!E(G("sidebar"),"toggled");Q.b().g(Wc,a);Q.b().g(Xc,a)};function hh(a,b){var c=(t()-b.time.getTime())/1E3;pf.b().w=b;a.play(b.media,c)}
m.play=function(a,b,c){!this.B||!this.B.loadVideoById?(this.B=new YT.Player("ytplayer",{height:I().height-40,width:I().width,videoId:a.fc,playerVars:{autoplay:1,controls:0,showinfo:0,iv_load_policy:3,start:b,modestbranding:1},events:{onStateChange:s(this.Ji,this),onReady:s(this.yi,this),onError:s(this.xi,this)}}),pf.b().hf(this.B)):(this.B.loadVideoById(a.fc,b),O(s(function(){var d=c||0;!this.B.getPlayerState()&&4>d&&this.play(a,b+1E3,++d)},this),1E3))};
m.resize=function(){var a=G("ytplayer"),b=G("stagecover"),c=H("message",b),d=G("guide").style.height,d=d.substring(0,d.length-2),f=E(G("sidebar"),"toggled")?300:0;Jd(a,I().height-d);Kd(a,I().width-f);Jd(b,I().height-d);Kd(b,I().width-f);a=U(c);xd(c,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});F(this.zd,"full",this.$g&&(document.fullScreen||document.webkitIsFullScreen||document.ak))};m.xc=function(a){if(a=a.t())this.w=a,hh(this,a);gh(this)};
m.Ye=function(a){this.Df=a;this.play(a,0);Y("/_optin",ge(),"POST","media_id="+this.w.media.id)};m.Ji=function(a){a.data==YT.PlayerState.ENDED&&(Y("/_seen",ge(),"POST","media_id="+this.w.media.id+"&session_id="+X.b().Ma.qd.id),(a=W.b().z.t())?W.b().g(sf,a):(pf.b().w=k,W.b().g(rf,ah(W.b())),this.Df?this.Df=k:Y("/_started",ge(),"POST","media_id="+this.w.media.id)),gh(this))};m.yi=function(){O(s(function(){this.B&&(!this.B.getPlayerState||!this.B.getPlayerState())&&hh(this,this.w)},this),1E3)};m.xi=aa();
function gh(a){var b=G("stagecover"),c=a.w?(t()-a.w.time.getTime())/1E3:0;!a.w||a.w&&c>a.w.media.duration?(a.resize(),A(b,"covered")):D(b,"covered")};function Xf(a,b){V.call(this,b);this.ua=a||""}v(Xf,V);Xf.prototype.Ia=k;var eg="placeholder"in document.createElement("input");m=Xf.prototype;m.Ec=l;m.C=function(){this.d=this.sa().C("input",{type:"text"})};m.M=function(a){Xf.c.M.call(this,a);this.ua||(this.ua=a.getAttribute("label")||"");var b;a:{var c=Mb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.Ec=j,D(this.a(),this.wc));eg?this.a().placeholder=this.ua:this.a().setAttribute("aria-label",this.ua)};
m.m=function(){Xf.c.m.call(this);var a=new qd(this);T(a,this.a(),"focus",this.Ae);T(a,this.a(),"blur",this.Rh);eg?this.l=a:(fb&&T(a,this.a(),["keypress","keydown","keyup"],this.Xh),T(a,Mb(this.a())?Mb(this.a()).parentWindow||Mb(this.a()).defaultView:window,"load",this.ei),this.l=a,ih(this));jh(this);this.a().ii=this};m.Bb=function(){Xf.c.Bb.call(this);this.l&&(this.l.Q(),this.l=k);this.a().ii=k};function ih(a){!a.Kh&&(a.l&&a.a().form)&&(T(a.l,a.a().form,"submit",a.$h),a.Kh=j)}
m.h=function(){Xf.c.h.call(this);this.l&&(this.l.Q(),this.l=k)};m.wc="label-input-label";m.Ae=function(){this.Ec=j;D(this.a(),this.wc);if(!eg&&!dg(this)&&!this.Fe){var a=this,b=function(){a.a().value=""};x?O(b,10):b()}};m.Rh=function(){eg||(td(this.l,this.a(),"click",this.Ae),this.Ia=k);this.Ec=l;jh(this)};m.Xh=function(a){27==a.keyCode&&("keydown"==a.type?this.Ia=this.a().value:"keypress"==a.type?this.a().value=this.Ia:"keyup"==a.type&&(this.Ia=k),a.preventDefault())};
m.$h=function(){dg(this)||(this.a().value="",O(this.Qh,10,this))};m.Qh=function(){dg(this)||(this.a().value=this.ua)};m.ei=function(){jh(this)};function dg(a){return!!a.a()&&""!=a.a().value&&a.a().value!=a.ua}m.clear=function(){this.a().value="";this.Ia!=k&&(this.Ia="")};m.reset=function(){dg(this)&&(this.clear(),jh(this))};m.ib=function(a){this.Ia!=k&&(this.Ia=a);this.a().value=a;jh(this)};m.T=function(){return this.Ia!=k?this.Ia:dg(this)?this.a().value:""};
function jh(a){eg?a.a().placeholder!=a.ua&&(a.a().placeholder=a.ua):(ih(a),a.a().setAttribute("aria-label",a.ua));dg(a)?D(a.a(),a.wc):(!a.Fe&&!a.Ec&&A(a.a(),a.wc),eg||O(a.Qi,10,a))}m.Qa=function(a){this.a().disabled=!a;F(this.a(),this.wc+"-disabled",!a)};m.isEnabled=function(){return!this.a().disabled};m.Jh=function(){this.Fe=l};m.Qi=function(){this.a()&&(!dg(this)&&!this.Ec)&&(this.a().value=this.ua)};function kh(a,b,c){M.call(this);this.cb=a;this.G=b;this.ta=c;this.je=s(this.Fi,this)}v(kh,M);var Zf=kh;m=kh.prototype;m.Wd=l;m.Ng=0;m.Y=k;m.we=function(){!this.Y&&!this.Ng?this.Ac():this.Wd=j};m.stop=function(){this.Y&&(Rc.clearTimeout(this.Y),this.Y=k,this.Wd=l)};m.h=function(){kh.c.h.call(this);this.stop()};m.Fi=function(){this.Y=k;this.Wd&&!this.Ng&&(this.Wd=l,this.Ac())};m.Ac=function(){this.Y=O(this.je,this.G);this.cb.call(this.ta)};function lh(a,b){M.call(this);this.cb=a;this.ta=b;this.Ha=new fe(s(this.Ei,this),0,this)}v(lh,M);m=lh.prototype;m.G=0;m.cf=0;m.pg=l;m.h=function(){this.Ha.Q();delete this.cb;delete this.ta;lh.c.h.call(this)};m.start=function(a,b){this.stop();this.pg=l;var c=b||0;this.G=Math.max(a||0,0);this.cf=0>c?-1:t()+c;this.Ha.start(0>c?this.G:Math.min(this.G,c))};m.stop=function(){this.Ha.stop()};m.Hb=function(){return this.Ha.Hb()};
m.Ei=function(){if(this.cb.call(this.ta))this.pg=j;else if(0>this.cf)this.Ha.start(this.G);else{var a=this.cf-t();0>=a||this.Ha.start(Math.min(this.G,a))}};function Yf(a){M.call(this);this.d=a;this.Kc=this.d.value;this.l=new qd(this);this.xg=t();y||x||fb&&z("1.9")?T(this.l,a,"paste",this.Zb):T(this.l,a,["keydown","blur","focus","mouseover","input"],this.Yh);this.Ha=new lh(s(this.Gf,this))}v(Yf,Pc);var ag="after_paste";m=Yf.prototype;m.e="init";m.s=Ig("goog.events.PasteHandler");m.h=function(){Yf.c.h.call(this);this.l.Q();this.l=k;this.Ha.Q();this.Ha=k};
m.Gf=function(){if(this.Kc==this.d.value)return l;this.s.info("detected textchange after paste");this.dispatchEvent(ag);return j};m.Zb=function(a){a=new xc(a.ha);a.type="paste";this.dispatchEvent(a);O(function(){this.Gf()||this.Ha.start(50,200)},0,this)};
m.Yh=function(a){switch(this.e){case "init":switch(a.type){case "blur":this.e="init";break;case "focus":this.e="focused";break;case "mouseover":this.e="init";this.d.value!=this.Kc&&(this.s.info("paste by dragdrop while on init!"),this.Zb(a));break;default:Eg(this.s,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.xg+400;if(t()>b||"focus"==this.Oi)this.s.info("paste by textchange while focused!"),this.Zb(a);break;case "blur":this.e="init";break;
case "keydown":this.s.info("key down ... looking for ctrl+v");if($a&&eb&&0==a.keyCode||$a&&eb&&17==a.keyCode)break;this.e="typing";break;case "mouseover":this.d.value!=this.Kc&&(this.s.info("paste by dragdrop while focused!"),this.Zb(a));break;default:Eg(this.s,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.e="focused";break;case "blur":this.e="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.s.info("paste by ctrl+v while keypressed!"),
this.Zb(a);break;case "mouseover":this.d.value!=this.Kc&&(this.s.info("paste by dragdrop while keypressed!"),this.Zb(a));break;default:Eg(this.s,"unexpected event "+a.type+" during keypressed")}break;default:Eg(this.s,"invalid "+this.e+" state")}this.xg=t();this.Kc=this.d.value;this.s.info(a.type+" -> "+this.e);this.Oi=a.type};function Z(){P.call(this)}v(Z,P);ja(Z);var bg="media-info",cg="profile";function mh(a){return'<div class="info"><div class="picture"><img src="'+L(a.media.Ua)+'" class="thumb"><div class="publisher"><img src="'+L(a.media.ya.W)+'"><div class="name">'+L(a.media.ya.name)+'</div></div><div class="title">'+L(a.media.name)+'</div><div class="scrollable ios-scroll"><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+L(a.xa)+'</div></div><div class="description">'+L(a.media.description)+'</div></div><div class="options"><div class="button star"></div><div class="button facebook"></div><div class="button twitter"></div><div class="button play"></div><div class="button plus"></div></div></div><div class="viewers" style="display: none"><div class="label">SEEN BY</div></div><div class="tweet-holder" style="display:none"><div class="label">LATEST TWEETS</div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display: none"><div class="label">CONVERSATION</div><div class="comments"></div></div></div>'}
function nh(a){return'<div class="viewer" style="background-color:'+L(a.r.color)+'"><img src="'+L(a.r.W)+'"></div>'}function oh(a){return'<div class="tweet"><img src="'+L(a.cd.W)+'"/><div class="text"><a target="_blank" href="http://www.twitter.com/'+L(a.cd.handle)+"/status/"+L(a.cd.id)+'">'+L(a.cd.handle)+"</a> "+L(a.cd.text)+'</div><div class="timestamp">'+L(a.timestamp)+"</div></div>"}
function ph(a){return'<div class="comment"><img src="'+L(a.yc.r.W)+'"/><div class="text"><a href="#">'+L(a.yc.r.name)+"</a> "+L(a.yc.text)+'</div><div class="timestamp">'+L(a.timestamp)+"</div></div>"}
function qh(){return'<div class="comment-input"><div class="comment-controls"><div class="comment-button tweet-toggle">tweet<div class="check"></div></div><div class="comment-button fb-toggle">post<div class="check"></div></div><div class="comment-button add-comment">add</div></div><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div></div>'}
function rh(a){return'<div class="activity"><div class="picture" style="background:'+L(a.r.color)+'"><img src="'+L(a.r.W)+'"/></div><div class="text"><a class="user" href="#">'+L(a.r.name)+"</a> "+(a.Ti.jk?"watched":"is watching")+(a.sb?' <a href="#">'+L(a.sb.name)+"</a>":"")+'<div class="timestamp">'+L(a.time)+'</div></div><div class="medias"></div></div>'}
function sh(a){return'<div class="activity"><div class="picture" style="background:'+L(a.r.color)+'"><img src="'+L(a.r.W)+'"/></div><div class="text"><a class="user" href="#">'+L(a.r.name)+'</a> "'+L(a.yc.text)+'"<div class="timestamp">'+L(a.time)+'</div></div><div class="medias"></div></div>'}
function th(a){return'<div class="list-info"><div class="picture-cell" '+(a.Ua?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+L(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+L(a.Ua)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" '+(a.description?'style="display:table-cell"':"")+">"+L(a.description)+"</div></div>"}function uh(a){return'<li class="'+L(a.className)+' tab"><div class="label">'+L(a.name)+"</div></li>"}
function vh(){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" /></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function wh(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="spinner" style="display:none">Loading More</div></div>'}
function xh(a){return'<div class="playlist"><div class="title">'+L(a.Li.name)+"</div></div>"}function yh(a){return'<div class="channel"><div class="title">'+L(a.sb.name)+"</div>"+(a.sb.lc?'<div class="pending">'+L(a.sb.lc)+"</div>":"")+"</div>"}function zh(a){return'<div class="collection"><div class="title">'+L(a.oe.name)+"</div>"+(a.oe.lc?'<div class="pending">'+L(a.oe.lc)+"</div>":"")+"</div>"}
function Ah(a){return'<div class="topic"><div class="title">'+L(a.hj)+"</div>"+(a.lc?'<div class="pending">'+L(a.lc)+"</div>":"")+"</div>"}
function Bh(){return'<div class="tabbed activity"><ul class="tabs"><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label">STARRED</div></li></ul><div class="activity-content content activity"></div><div class="starred-content content starred"></div><div class="spinner" style="display:none">Loading More</div></div>'}
function Ch(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+L(a.media.Ua)+"); background-position: 50% "+L(a.media.rc)+'%"></div><div class="title">'+L(a.media.name)+'</div></div></div><div class="publisher"><img src="'+L(a.media.ya.W)+'"><div class="name">'+L(a.media.ya.name)+'</div><div class="duration">'+L(a.media.duration)+" seconds</div></div></div>"}
function Dh(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+L(a.media.Ua)+"); background-position: 50% "+L(a.media.rc)+'%"></div><div class="title">'+L(a.media.name)+'</div><div class="published">'+L(a.xa)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+L(a.media.ya.W)+'"><div class="name">'+L(a.media.ya.name)+
'</div><div class="duration">'+L(a.media.duration)+' seconds</div></div><div class="description">'+L(a.media.description)+"</div></div>"};function Eh(){M.call(this);this.Fc=[];this.aj=[];this.Tc=[]}v(Eh,Pc);m=Eh.prototype;m.tg=l;m.ug=l;m.He=l;m.Vg=ba("Ud");m.init=function(){if(!this.He){for(var a,b=0;a=this.Fc[b];b++)Fh(this,a);this.He=j}};function Fh(a,b){a.tg&&(N(b.element,"mousedown",b.Fg,l,b),a.lf&&A(b.element,a.lf));a.ug&&a.of&&A(b.element,a.of)}
m.Mb=function(a,b){if(!this.ga)if(this.ga=b,this.dispatchEvent(new Gh("dragstart",this,this.ga))==l)this.ga=k;else{var c=b.Vb,d=this.od(c);this.Dh&&A(d,this.Dh);this.ac=d;d=Mb(c);d.body.appendChild(this.ac);var f=this.ac,g=Hd(c),c=Rd(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.k=new Vd(f);this.k.Vg(this.Ud);N(this.k,"drag",this.Gg,l,this);N(this.k,"end",this.Ab,l,this);N(d.body,"selectstart",this.ah);this.qc=[];for(d=
0;c=this.aj[d];d++)for(var h,f=0;h=c.Fc[f];f++)for(var g=c,n=[h.element],q=this.qc,u=0;u<n.length;u++){var B=n[u],C=Hd(B),J=U(B),C=new vd(C.y,C.x+J.width,C.y+J.height,C.x);q.push(new Hh(C,g,h,B));Ih(this,C)}this.Ta||(this.Ta=new vd(0,0,0,0));for(d=0;c=this.Tc[d];d++)c.qe=[],c.Rg=c.d.scrollLeft,c.Sg=c.d.scrollTop,f=Hd(c.d),g=U(c.d),c.J=new vd(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.qc[d];d++)for(f=0;c=this.Tc[f];f++)Yb(c.d,g.d)&&(c.qe.push(g),g.Sc=c);this.pb=k;for(d=0;c=this.Tc[d];d++)N(c.d,
"scroll",this.Jf,l,this);this.k.Mb(a);a.preventDefault()}};
m.Ab=function(a){var b=a.Ch?k:this.pb;if(b&&b.fa){var c=a.clientX,a=a.clientY,d=gc(Kb(this.ac)),f=c+d.x,d=a+d.y,g;this.Yc&&(g=this.Yc(b.Oa,b.J,f,d));this.dispatchEvent(new Gh("drag",this,this.ga,b.fa,b.Oa,b.d,c,a,f,d));b.fa.dispatchEvent(new Gh("drop",this,this.ga,b.fa,b.Oa,b.d,c,a,f,d,g))}this.dispatchEvent(new Gh("dragend",this,this.ga));Ic(this.k,"drag",this.Gg,l,this);Ic(this.k,"end",this.Ab,l,this);Ic(Mb(this.ga.Vb).body,"selectstart",this.ah);for(b=0;c=this.Tc[b];b++)Ic(c.d,"scroll",this.Jf,
l,this),c.qe=[];this.k.Q();Tb(this.ac);delete this.ga;delete this.ac;delete this.k;delete this.qc;delete this.pb};
m.Gg=function(a){var b,c=gc(Kb(this.ac));b=new zb(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.pb,g;if(f){this.Yc&&f.fa&&(g=this.Yc(f.Oa,f.J,c,d));if(f.J.contains(b)&&g==this.zf)return;f.fa&&(this.dispatchEvent(new Gh("dragout",this,this.ga,f.fa,f.Oa,f.d)),f.fa.dispatchEvent(new Gh("dragout",this,this.ga,f.fa,f.Oa,f.d,i,i,i,i,this.zf)));this.zf=g;this.pb=k}if(this.Ta.contains(b)){a:{for(var h=0;f=this.qc[h];h++)if(f.J.contains(b))if(f.Sc){if(f.Sc.J.contains(b)){b=f;break a}}else{b=f;break a}b=
k}if((f=this.pb=b)&&f.fa)this.Yc&&(g=this.Yc(f.Oa,f.J,c,d)),c=new Gh("dragover",this,this.ga,f.fa,f.Oa,f.d),c.$i=g,this.dispatchEvent(c),f.fa.dispatchEvent(new Gh("dragover",this,this.ga,f.fa,f.Oa,f.d,a.clientX,a.clientY,i,i,g));else if(!f){this.ba||(this.ba=new Hh(this.Ta.clone()));a=this.ba.J;a.top=this.Ta.top;a.right=this.Ta.right;a.bottom=this.Ta.bottom;a.left=this.Ta.left;for(g=0;f=this.qc[g];g++)b=f.J,f.Sc&&(f=f.Sc.J,b=new vd(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=k,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),f!==k&&h!==k&&(Math.abs(f-c)>Math.abs(h-d)?h=k:f=k),f===k?h!==k&&(h<=d?a.top=h:a.bottom=h):f<=c?a.left=f:a.right=f;this.pb=10<=(a.right-a.left)*(a.bottom-a.top)?this.ba:k}}};m.ah=da(l);
m.Jf=function(a){for(var b=0,c;c=this.Tc[b];b++)if(a.target==c.d){var d=c.Sg-c.d.scrollTop,f=c.Rg-c.d.scrollLeft;c.Sg=c.d.scrollTop;c.Rg=c.d.scrollLeft;this.ba&&this.pb==this.ba&&(0<d?this.ba.J.top+=d:this.ba.J.bottom+=d,0<f?this.ba.J.left+=f:this.ba.J.right+=f);for(var g=0,h;h=c.qe[g];g++)h=h.J,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,Ih(this,h)}this.k.Mg(a)};
m.od=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return Qb("table",k,Qb("tbody",k,b));case "td":case "th":return Qb("table",k,Qb("tbody",k,Qb("tr",k,b)));default:return b}};function Ih(a,b){if(1==a.qc.length)a.Ta=new vd(b.top,b.right,b.bottom,b.left);else{var c=a.Ta;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
m.h=function(){Eh.c.h.call(this);for(var a,b=0;a=this.Fc[b];b++)this.tg&&(Ic(a.element,"mousedown",a.Fg,l,a),this.lf&&D(a.element,this.lf)),this.ug&&this.of&&D(a.element,this.of),a.Q();this.Fc.length=0};function Gh(a,b,c,d,f,g,h,n,q,u,B){uc.call(this,a);this.Pj=b;this.Qj=c;this.Rj=d;this.Tj=f;this.Sj=g;this.clientX=h;this.clientY=n;this.nk=q;this.ok=u;this.$i=B}v(Gh,uc);Gh.prototype.h=aa();
function Jh(a,b){M.call(this);this.element=G(a);this.data=b;this.A=k;this.element||e(Error("Invalid argument"))}v(Jh,Pc);m=Jh.prototype;m.Vb=k;m.Fg=function(a){if(zc(a)){var b=a.target;b&&(N(b,"mousemove",this.jc,l,this),N(b,"mouseout",this.jc,l,this),N(b,"mouseup",this.Se,l,this),this.Vb=b,this.mf=new zb(a.clientX,a.clientY),a.preventDefault())}};m.Vd=ba("A");
m.jc=function(a){var b=this.Vb,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.mf.x)+Math.abs(a.clientY-this.mf.y)||c)Ic(b,"mousemove",this.jc,l,this),Ic(b,"mouseout",this.jc,l,this),Ic(b,"mouseup",this.Se,l,this),this.A.Mb(a,this)};m.Se=function(){var a=this.Vb;Ic(a,"mousemove",this.jc,l,this);Ic(a,"mouseout",this.jc,l,this);Ic(a,"mouseup",this.Se,l,this);delete this.mf;this.Vb=k};function Hh(a,b,c,d){this.J=a;this.fa=b;this.Oa=c;this.d=d}Hh.prototype.Sc=k;function Kh(){Eh.call(this)}v(Kh,Eh);function Lh(a,b){b.Vd(a);a.Fc.push(b);a.He&&Fh(a,b)};function Mh(){}v(Mh,Ee);ja(Mh);m=Mh.prototype;m.cc=aa();m.f=function(a,b){Xe(a);a.La&=-256;bf(a,32,l);Mh.c.f.call(this,a,b);a.Kb(b.value);return b};m.C=function(a){Xe(a);a.La&=-256;bf(a,32,l);return a.sa().C("textarea",{"class":Ge(this,a).join(" "),disabled:!a.isEnabled()},a.Ea||"")};m.rb=function(a){return"TEXTAREA"==a.tagName};m.Lb=ia;m.Ie=function(a){return a.isEnabled()};m.oc=ia;m.X=function(a,b,c){Mh.c.X.call(this,a,b,c);if((a=a.a())&&1==b)a.disabled=c};m.Ba=ia;
m.Kb=function(a,b){a&&(a.value=b)};m.V=da("goog-textarea");function Nh(a,b,c){We.call(this,a,b||Mh.b(),c);Xe(this);this.nc(j);a||(this.Ea="")}v(Nh,We);var Oh=fb||y;m=Nh.prototype;m.gc=l;m.Ja=0;m.zg=0;m.Eg=0;m.ig=l;m.Md=l;m.ef=l;m.df=l;function Ph(a){return a.Lc.top+a.Lc.bottom+a.Ef.top+a.Ef.bottom}function Qh(a){var b=a.Eg,c=a.a();b&&(c&&a.Md)&&(b-=Ph(a));return b}function Rh(a){var b=a.zg,c=a.a();b&&(c&&a.Md)&&(b-=Ph(a));return b}m.ib=function(a){this.Kb(String(a))};m.T=function(){return this.a().value};m.Kb=function(a){Nh.c.Kb.call(this,a);this.resize()};
m.Qa=function(a){Nh.c.Qa.call(this,a);this.a().disabled=!a};m.resize=function(){this.a()&&this.Cd()};m.m=function(){Nh.c.m.call(this);var a=this.a();xd(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.Lc=Rd(a,"padding");this.Ef=Ud(a);T(T(T(T(this.o(),a,"scroll",this.Cd),a,"focus",this.Cd),a,"keyup",this.Cd),a,"mouseup",this.li);this.resize()};
function Sh(a){if(!a.ig){var b=a.a().cloneNode(l);xd(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.sa().R.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.ef=d>c;b.style.borderWidth="10px";a.df=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Md=j);Tb(b);a.ig=j}var b=a.a(),c=a.a().scrollHeight,f=a.a(),d=f.offsetHeight-f.clientHeight;if(!a.ef)var g=a.Lc,d=d-(g.top+g.bottom);
a.df||(f=Ud(f),d-=f.top+f.bottom);c+=0<d?d:0;a.Md?c-=Ph(a):(a.ef||(d=a.Lc,c+=d.top+d.bottom),a.df||(a=Ud(b),c+=a.top+a.bottom));return c}function Th(a,b){a.Ja!=b&&(a.Ja=b,a.a().style.height=b+"px")}function Uh(a){a=a.a();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
m.Cd=function(){if(!this.gc){var a=l;this.gc=j;var b=this.a(),c=this.Ja;if(b.scrollHeight){var d=l,f=l,g=Sh(this),h=b.offsetHeight,n=Qh(this),q=Rh(this);n&&g<n?(Th(this,n),d=j):q&&g>q?(Th(this,q),b.style.overflowY="",f=j):h!=g?Th(this,g):this.Ja||(this.Ja=g);!d&&(!f&&Oh)&&(a=j)}else Uh(this);this.gc=l;a&&(a=this.a(),this.gc||(this.gc=j,b=l,a.value||(a.value=" ",b=j),(f=a.scrollHeight)?(g=Sh(this),d=Qh(this),h=Rh(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.Lc,a.style.paddingBottom=h.bottom+1+"px",Sh(this)==
g&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=Sh(this)-f,f>=d?Th(this,f):Th(this,d)),a.style.paddingBottom=h.bottom+"px")):Uh(this),b&&(a.value=""),this.gc=l));c!=this.Ja&&this.dispatchEvent("resize")}};m.li=function(){var a=this.a(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Ja&&(this.Ja=this.Eg=b)};function Vh(a,b,c,d,f){V.call(this);this.da=mf();this.ub=a;this.Qd=b;this.Og=c;this.qf=d||k;this.sd=f||k;this.te=this.da?new Kh:k;this.Cb={pending:l,all:l};this.lb=["pending","all","playlists"]}v(Vh,V);m=Vh.prototype;m.M=function(a){Vh.c.M.call(this,a);a.innerHTML="";a.scrollTop=0;jc(a,wh);var b=H("pending-content",a);w(this.Qd,function(a){Wh(this,b,a)},this);this.Mi=H("playlists-content",a);w(this.Og,this.Bf,this);this.resize()};
m.m=function(){Vh.c.m.call(this);this.Gb=H("input",this.a());var a=new Ne(this.Gb),b=new Yf(this.Gb);this.Sa=H("tabs",this.a());this.F="pending";var c=l;T(T(T(T(this.o(),window,"resize",va(O,s(this.resize,this))),a,"key",s(function(a){"13"==a.keyCode&&Xh(this,this.Gb.value)},this)),b,ag,s(function(){Xh(this,this.Gb.value)},this)),this.Sa,"click",s(function(a){a=fc(a.target,"li");this.Jc(a)},this));T(this.o(),this.a(),"scroll",s(function(){if(this.ub&&!c&&!this.Cb[this.F]&&this.a().scrollTop+I().height>
this.a().scrollHeight-this.a().clientTop){c=j;var a=H("spinner",this.a());R(a,j);var b="pending"==this.F?this.Qd:this.ee;Y("/admin/_media/collection/"+this.ub+"?offset="+b.length+("pending"==this.F?"&pending=1":""),s(function(g){c=l;g=hg(ig(g.target)).medias;g=La(g,function(a){return new Df(a)});Ta(b,g);var h=H(this.F+"-content",this.a());w(g,function(a){Wh(this,h,a)},this);this.Cb[this.F]=!g.length;F(a,"finished",!g.length)},this))}},this))};m.resize=function(){Jd(this.a(),I().height-40)};
function Xh(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.ub&&c&&(a.Gb.disabled="disabled",Y("admin/_add/collection/"+a.ub,s(function(a){this.Gb.value="";this.Gb.disabled="";a=kg(a.target);if("media"==a.type){var b=Gf(Ff.b(),a.data);Na(this.Qd,function(a){return a.id==b.id})||(this.Qd.push(b),a=H("pending-content",this.a()),Wh(this,a,b,j),this.Jc(Ob("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Na(this.Og,function(a){return a.id==
c.id})||(this.Bf(c),this.Jc(Ob("li","playlists",i)[0]))}},a),"POST","url="+c))}m.Jc=function(a){w(this.lb,function(b){F(this.Sa.parentElement,b,E(a,b));this.F=E(a,b)?b:this.F},this);this.ub&&!this.ee&&Y("/admin/_media/collection/"+this.ub,s(function(a){a=hg(ig(a.target)).medias;this.ee=La(a,function(a){return new Df(a)});var c=H("all-content",this.a());w(this.ee,function(a){Wh(this,c,a)},this)},this))};m.Bf=function(a){a=K(xh,{Li:a});this.Mi.appendChild(a)};
function Wh(a,b,c,d){var f=K(Dh,{media:c,xa:c.xa.getMonth()+"/"+c.xa.getDate()+"/"+c.xa.getYear()+" "+pd(c.xa)});d?b.insertBefore(f,b.childNodes[0]||k):b.appendChild(f);a.da&&(b=a.te,d=new Jh(f,i),Lh(b,d));var b=new Vd(H("repos",f)),g=H("thumb",f),d=H("play",f),h=H("approve",f),n=H("remove",f);b.rd=function(a,b){var c=b-24;-50<=c&&50>=c&&xd(g,"background-position-y",50-c+"%")};T(T(T(T(a.o(),b,"end",function(){var a=(g.style[Ha("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);
Y("/admin/_posthumb",ge(),"POST","media="+c.id+"&pos="+a)}),d,"click",s(a.Ii,a,c)),h,"click",s(a.Cf,a,c,j,f)),n,"click",s(a.Cf,a,c,l,f));O(va(A,f,"show"))}m.Cf=function(a,b,c){var d=a.yh||this.ub;Y("admin/_media/collection",s(function(){A(c,"remove");O(function(){Tb(c)},300);Q.b();var b;Q.b();b=cc(G("toggle-pending"));Zc(0,b-1);Z.b().g("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};m.Ii=function(a){pf.b().g(tf,a)};function Yh(a){V.call(this);this.ke=a||k;this.Ff=this.fh=this.Hf=0}v(Yh,V);Yh.prototype.C=function(){this.d=K(vh)};Yh.prototype.M=function(a){Yh.c.M.call(this,a);var b=K(vh);a.innerHTML=b.innerHTML};
Yh.prototype.m=function(){Yh.c.m.call(this);this.mc=H("scrollable",this.a());this.O=H("admin-channels",this.a());this.tf=H("topics",this.a());this.pe=H("collections",this.a());var a=G("admin-col-list"),b=G("admin-list");W.b();var c=0;this.ke?(Y("/admin/_topicmedias/"+this.ke,s(function(a){a=kg(a.target);Bb(a,function(a,c){R(this.tf.parentElement,j);if(a&&a.length){var d=K(Ah,{hj:c,lc:a.length});this.tf.appendChild(d);N(d,"click",s(function(){a=La(a,function(a){return new Df(a)});(new Vh("",a,[])).f(b);
Z.b().g("navigate",b,l,c)},this));Z.b().subscribe("approved",function(b){if(Na(a,function(a){return a.id==b.id})){var c=H("pending",d),g=cc(c)-1;window.console.log(g);0>=g?(Tb(d),qc(d)):Zb(c,g)}},this)}},this);c&&Zc(Q.b(),c);this.fh=U(this.tf.parentElement).height;this.resize()},this)),Y("/admin/_collections/"+this.ke,s(function(a){a=kg(a.target);R(this.pe.parentElement,!!a.length);w(a,function(a){var d=K(zh,{oe:a});c+=a.pending;this.pe.appendChild(d);N(d,"click",s(function(){Y("/admin/_media/collection/"+
a.id+"?pending=1",s(function(c){var c=hg(ig(c.target)),d=c.medias,d=La(d,function(a){return new Df(a)});(new Vh(a.id,d,c.playlists)).f(b);Z.b().g("navigate",b,l,a.name)},this))},this));Z.b().subscribe("approved",function(b,c){if(c==a.id){var q=H("pending",d),u=cc(q)-1;0>=u?(Tb(d),qc(d)):Zb(q,u)}},this)},this);c&&Zc(Q.b(),c);this.Hf=U(this.pe.parentElement).height;this.resize()},this))):Y("/admin/_channels",s(function(b){b=kg(b.target);R(this.O.parentElement,!!b.length);w(b,function(b){var c=K(yh,
{sb:b});this.O.appendChild(c);N(c,"click",s(function(){(new Yh(b.id)).f(a);Z.b().g("navigate",a,l,b.name)},this))},this);this.Ff=U(this.O.parentElement).height;this.resize()},this))};Yh.prototype.resize=function(){Jd(this.mc,this.Ff+this.fh+this.Hf+110)};function Zh(a){this.id=a.id;this.r=lg(X.b(),a.user);this.text=a.text;this.time=dd(a.time+"Z")};function $h(a){this.id=a.id;this.handle=a.handle;this.W=a.picture;this.text=a.text;this.time=dd(a.time+"Z")};function ai(){V.call(this);this.v=new Nh("Add to the conversation.");this.Pb=new kf("tweet");bf(this.Pb,16,j);this.Ya=new kf("post");bf(this.Ya,16,j);this.Qb=new kf("add")}v(ai,V);m=ai.prototype;m.C=function(){this.d=K(qh)};
m.m=function(){ai.c.m.call(this);this.v.f(H("comment-textarea",this.a()));var a=this.v;a.zg=70;a.resize();a=new Ne(this.v.Za());this.If=H("comment-controls",this.a());Ae(this,this.Pb);this.Pb.f(H("tweet-toggle",this.a()));Y("/_twitter",s(function(a){a=kg(a.target);this.ih=a.auth;this.jj=a.auth_url;af(this.Pb,this.ih)},this));Ae(this,this.Ya);this.Ya.f(H("fb-toggle",this.a()));FB.api("/me/permissions",s(function(a){this.Vf=!!a.data[0].publish_stream;af(this.Ya,this.Vf)},this));Ae(this,this.Qb);this.Qb.f(H("add-comment",
this.a()));this.Qb.Qa(l);T(T(T(T(T(T(this.o(),this.v.a(),"focus",s(function(){Cd(this.If,0,0);this.dispatchEvent("focus")},this)),a,"key",s(function(a){this.Qb.Qa(this.v.T());"13"==a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.Qb.setActive(this.v.T()),this.Nd(a))},this)),this.v,"resize",s(function(a){this.dispatchEvent(a)},this)),this.Ya,"action",s(this.si,this)),this.Pb,"action",s(this.Hi,this)),this.Qb,"action",s(this.Nd,this))};m.T=function(){return this.v.T()};
m.collapse=function(){Cd(this.If,0,27)};m.Gd=function(){return E(this.a(),"focused")};m.pc=function(a){return F(this.a(),"focused",a)};m.Nd=function(){this.v.T()&&(this.v.setActive(l),this.v.Qa(l),this.pc(j),this.dispatchEvent({type:"add",vh:s(function(){this.v.ib("");this.v.Qa(j);this.v.pc(j)},this),Hh:Ke(this.Ya),ij:Ke(this.Pb),text:this.v.T()}))};m.si=function(){!this.Vf&&Ke(this.Ya)&&(R(G("overlay"),j),FB.login(function(a){R(G("overlay"),l);this.Ih=!!a.authResponse;af(this.Ya,this.Ih)},{scope:"publish_stream"}))};
m.Hi=function(){if(!this.ih&&Ke(this.Pb)){var a=window.open(this.jj,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function Uc(a){var b=t(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return bi(c,b,0);c=Math.floor(c/60);if(24>c)return bi(c,b,1);c=new Date(t());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?bi(c,b,2):""}
function bi(a,b,c){return!b&&0==c?(b=xa("{$num} minute ago",{num:a}),c=xa("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=xa("in {$num} minute",{num:a}),c=xa("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=xa("{$num} hour ago",{num:a}),c=xa("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=xa("in {$num} hour",{num:a}),c=xa("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=xa("{$num} day ago",{num:a}),c=xa("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=xa("in {$num} day",{num:a}),c=xa("in {$num} days",
{num:a}),1==a?b:c):""};function ci(a){V.call(this);this.I=this.p=a;this.v=new ai;this.Vc=new kf("Star");bf(this.Vc,16,j);this.Uf=new kf("Facebook");this.hh=new kf("Twitter");this.Pa=new kf("Play");this.Ni=new kf("Plus")}v(ci,V);m=ci.prototype;m.C=function(){this.d=K(mh,{media:this.I})};m.M=function(a){ci.c.M.call(this,a);var b=this.I,b=K(mh,{media:this.I,xa:b.xa.getMonth()+1+"/"+b.xa.getDate()+"/"+b.xa.getYear()});a.innerHTML=b.innerHTML};
m.m=function(){ci.c.m.call(this);this.I.subscribe(Ef,this.Af,this);var a=H("viewers",this.a()),b=H("picture",this.a()),c=H("scrollable",this.a()),d=H("publisher",this.a()),f=H("title",this.a()),g=b.firstChild;this.kk=H("tweet-holder",this.a());this.tc=H("tweets",this.a());this.ud=H("dot-nav",this.a());this.na=H("comments",this.a());ye(this.v,this.a());this.Vc.f(H("star",this.a()));this.Uf.f(H("facebook",this.a()));this.hh.f(H("twitter",this.a()));this.Pa.f(H("play",this.a()));this.Ni.f(H("plus",this.a()));
var h=new Qc(5E3);Y("/_info/"+this.I.id,s(function(b){var b=hg(ig(b.target)),c=b.seen;R(a,c.length);w(c,function(b){var c=K(nh,{r:lg(X.b(),b)});a.appendChild(c);T(this.o(),c,"click",function(){Z.b().g(cg,b)})},this);c=b.tweets;w(c,function(a){var a=new $h(a),b=K(oh,{cd:a,timestamp:Uc(a.time.getTime())});Vc(Tc.b(),a.time,H("timestamp",b));this.tc.appendChild(b);a=Qb("div","dot");this.ud.appendChild(a);this.resize();R(Xb(this.tc),j);this.vb=this.ud.firstChild;A(this.vb,"selected")},this);c.length&&
h.start();b=b.comments;R(Xb(this.na),b.length);w(b,function(a){a=new Zh(a);this.Af(a)},this);this.resize()},this));T(T(T(T(T(T(T(T(T(T(T(T(T(T(T(this.o(),window,"resize",va(O,s(this.resize,this))),d,"click",s(function(){Z.b().g("media-list",this.I.ya.name,i,"/admin/_media/publisher/"+this.I.ya.id,this.I.ya.W,this.I.ya.description,this.I.ya.link)},this)),this.Vc,"action",s(function(){Ff.b().g("star",this.I,Ke(this.Vc));Y("/_star",i,"POST","media_id="+this.I.id+(!Ke(this.Vc)?"&delete=1":""))},this)),
this.Uf,"action",s(this.ri,this)),this.hh,"action",s(this.Gi,this)),this.Pa,"action",s(this.wi,this)),this.v,"add",s(this.Nd,this)),this.v,"focus",s(function(){this.resize(27)},this)),this.v,"resize",s(function(a){this.resize(27+(a.target.Ja-22))},this)),this.ud,"click",s(function(a){E(a.target,"dot")&&(di(this,a.target),h.stop())},this)),h,Sc,s(function(){var a=this.vb&&Vb(this.vb)||H("dot",this.a());di(this,a)},this)),window,"click",s(function(a){!fc(a.target,k,"comment-input")&&!this.v.T()&&(this.v.pc(l),
this.v.collapse(),this.resize())},this)),g,"load",function(){R(g,j);O(function(){U(g).height<U(b).height+50&&A(g,"fix-height");U(g).width>2*U(b).width?A(g,"pan-left"):U(g).height>2*U(b).height&&A(g,"pan-top");g.style.marginTop=-U(g).height/2+"px";g.style.marginLeft=-U(g).width/2+"px"})}),c,"scroll",s(function(){var a=(120-c.scrollTop)/100;Nd(d,Math.min(1,Math.max(a,0)));Nd(f,Math.min(1,Math.max(a,0)));Nd(g,Math.min(0.5,Math.max(a,0.1)));F(b,"scrolled",10<c.scrollTop)},this)),H("desc-link",this.a()),
"click",s(function(){var a=yb(b,"scrolled");(new qe(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,a?180:0],300)).play()},this))};function di(a,b){if(b){a.vb&&D(a.vb,"selected");a.vb=b;A(a.vb,"selected");var c=Oa(Ub(a.ud),function(a){return a==b});(new qe(a.tc,[a.tc.scrollLeft,a.tc.scrollTop],[300*c,a.tc.scrollTop],200)).play();a.resize()}}
m.Nd=function(a){Y("/_comment",a.vh,"POST","media_id="+this.I.id+"&text="+a.text+"&tweet="+a.ij);a.Hh&&FB.api("/me/feed","POST",{message:a.text,name:this.I.name,link:"http://www.broken.tv",picture:this.I.Ua,caption:"on Broken.TV",description:this.I.description},aa())};m.Af=function(a){var b=K(ph,{yc:a,timestamp:Uc(a.time.getTime())});Vc(Tc.b(),a.time,H("timestamp",b));this.na.appendChild(b);this.resize(this.v.Gd()?27:0);R(Xb(this.na),j)};
m.resize=function(a){this.na&&Jd(this.na,I().height-Ed(this.na.parentElement).y-100-(a+10||10));O(s(function(){(new qe(this.na,[this.na.scrollLeft,this.na.scrollTop],[this.na.scrollLeft,this.na.scrollHeight],400)).play()},this),a?0:100)};m.ri=function(){R(G("overlay"),j);FB.ui({method:"feed",name:this.I.name,link:"http://www.broken.tv",W:this.I.Ua,caption:"on Broken.TV",description:this.I.description},function(){R(G("overlay"),l)})};
m.Gi=function(){var a=window.open("https://twitter.com/share?url=www.broken.tv&text=I'm watching "+this.I.name,"Tweet","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()};m.wi=function(){pf.b().g(tf,this.p)};function ei(a,b,c,d,f){V.call(this);this.da=mf();this.Cg=a||k;this.uc=b||k;this.Qe={};this.qf=c||k;this.sd=d||k;this.ji=f||k;this.te=this.da?new Kh:k;this.Re=this.mg=0}v(ei,V);
ei.prototype.M=function(a){ei.c.M.call(this,a);a.innerHTML="";a.scrollTop=0;this.mc=Qb("div","ios-scroll");this.a().appendChild(this.mc);if(this.sd||this.qf)a=K(th,{Ua:this.qf,description:this.sd,link:this.ji}),this.mc.appendChild(a),this.mg=U(a).height;this.Kd=Qb("div","medias");this.mc.appendChild(this.Kd);this.uc?Y(this.uc,s(function(a){a=hg(ig(a.target));a=La(a,function(a){return new Df(a)});w(a,this.ce,this);this.Re=U(this.Kd).height;this.resize()},this)):this.Cg&&(w(this.Cg,this.ce,this),this.Re=
U(this.Kd).height,this.resize())};ei.prototype.ce=function(a){var b=K(Ch,{media:a});this.Kd.appendChild(b);if(this.da){var c=this.te,d=new Jh(b,i);Lh(c,d)}T(this.o(),b,"click",s(function(){Z.b().g(bg,a)},this));this.Qe[a.id]=b};ei.prototype.resize=function(){Jd(this.mc,this.Re+this.mg+65)};function fi(a){V.call(this);this.mh=this.p=a;this.lb=["activity","starred"]}v(fi,V);fi.prototype.M=function(a){fi.c.M.call(this,a);A(a,"profile");A(a,"ios-scroll");jc(a,Bh)};
fi.prototype.m=function(){this.Sa=H("tabs",this.a());Y("/_star",s(function(a){a=kg(a.target);a=La(a,function(a){return new Df(a)});this.Wc=new ei(a);this.Wc.f(H("starred-content",this.a()))},this));Y("/_activity/"+this.mh.id,s(function(a){a=kg(a.target);this.nf=new gi(a,this.mh.id);this.nf.f(H("activity-content",this.a()))},this));T(this.o(),this.Sa,"click",s(function(a){a=fc(a.target,"li");this.Jc(a)},this));Ff.b().subscribe("star",function(a,b){if(b)this.Wc.ce(a);else{var c=this.Wc,d=c.Qe[a.id];
d&&(qc(d),Fb(c.Qe,a.id))}},this)};fi.prototype.Jc=function(a){w(this.lb,function(b){F(this.Sa.parentElement,b,E(a,b));this.F=E(a,b)?b:this.F},this)};function gi(a,b){V.call(this);this.sh=a;this.Zd=b||k;this.K=0;this.Cb=l}v(gi,V);
gi.prototype.M=function(a){gi.c.M.call(this,a);a.innerHTML="";a.scrollTop=0;A(a,"stream");A(a,"ios-scroll");this.be=Qb("div","activities");this.a().appendChild(this.be);var b=Qb("div","spinner","Loading more");this.a().appendChild(b);R(b,l);w(this.sh,function(a){hi(this,a)},this);X.b().subscribe("new-activity",function(a){(this.Zd==a.user.id||!this.Zd&&a.user.id!=X.b().Ma.id)&&hi(this,a,j)},this);T(this.o(),this.a(),"scroll",s(function(){!this.Cb&&this.a().scrollTop+I().height>this.a().scrollHeight-
60&&(R(b,j),Y("/_activity"+(this.Zd?"/"+this.Zd:"")+"?offset="+this.K,s(function(a){a=kg(a.target);this.Cb=!a.length;F(b,"finished",this.Cb);R(b,this.Cb);w(a,function(a){hi(this,a)},this)},this)))},this))};
function hi(a,b,c){var d=lg(X.b(),b.user),f=dd(b.time+"Z"),g=[];switch(b.type){case "session":var h=W.b().get(b.session.channel_id),g=b.session.media,b=K(rh,{r:d,sb:h,time:Uc(f.getTime()),Ti:b.session});break;case "comment":g=[b.comment.media];b=new Zh(b.comment);b=K(sh,{r:d,yc:b,time:Uc(f.getTime())});break;default:return}Vc(Tc.b(),f,H("timestamp",b));T(T(a.o(),H("user",b),"click",function(){Z.b().g(cg,d)}),H("picture",b),"click",function(){Z.b().g(cg,d)});var n=H("medias",b);w(g,function(a){var b=
new Df(a),a=K(Ch,{media:b});H("thumb",a);n.appendChild(a);T(this.o(),a,"click",function(){Z.b().g(bg,b)})},a);c?(c=a.be,c.insertBefore(b,c.childNodes[0]||k)):a.be.appendChild(b);O(va(A,b,"show"));a.K++};function ii(){V.call(this);this.da=mf();this.uh=new Yh;this.lb={};this.kb=[];this.Rc=[]}v(ii,V);m=ii.prototype;
m.m=function(){ii.c.m.call(this);this.Kf=G("sidebar-content");this.Bg=G("media-list");this.Ze=G("profile");this.mb=G("toolbar");this.Sa=H("tabs",this.a());var a=new Ne(document);w(Ub(this.Sa),function(a){var b=xb(a)[0];this.lb[b]=a;this.kb.push(b)},this);this.Kg();Y("/_activity",s(function(a){a=kg(a.target);this.nf=new gi(a);this.nf.f(G("stream"))},this));this.Wc=new fi(X.b().Ma);this.Wc.f(G("my-profile"));this.Na?(this.D=this.Na.a(),this.F="info"):(this.D=G("stream"),this.F="stream");A(this.D,"current");
if(this.da){this.uh.f(G("admin"));var b=K(uh,{name:"ADMIN",className:"admin"});this.Sa.appendChild(b);this.lb.admin=b;this.kb.push("admin")}ji(this);T(T(T(T(this.o(),H("back-button",this.mb),"click",s(function(a){var b=this.Rc.shift();this.navigate(b[0],j,b[1]);ji(this);a.stopPropagation()},this)),this.Sa,"click",s(function(a){var b=this.F,f=fc(a.target,"li"),g=xb(f)[0];ki(this,this.F,g);A(f,"selected");Cd(H("arrow",this.mb),U(f).width/2+Ed(f).x);b!=this.F&&a.stopPropagation()},this)),this.mb,"click",
s(function(a){((a=fc(a.target,"li"))&&xb(a)[0]==this.F||!a)&&(new qe(this.D,[this.D.scrollLeft,this.D.scrollTop],[this.D.scrollLeft,0],300)).play()},this)),a,"key",s(function(a){a.ctrlKey&&"68"==a.keyCode&&yb(this.a(),"dark")},this));Q.b().subscribe(Wc,function(a){F(this.a(),"toggled",a)},this);Z.b().subscribe("navigate",this.navigate,this);Z.b().subscribe("media-list",this.Vi,this);Z.b().subscribe(bg,this.Ui,this);Z.b().subscribe(cg,this.Wi,this);W.b().subscribe(sf,this.Kg,this);W.b().subscribe(rf,
this.qi,this);Q.b().subscribe("toggle-admin",function(a){F(this.a(),"admin",a);a?(Q.b().g(Wc,j),ki(this,this.F,"admin")):"admin"==this.F&&ki(this,"admin","info")},this)};m.Kg=function(a){if(a=a||W.b().z.t())this.pd=a.media,qc(this.Na),this.Na=new ci(this.pd),this.Na.f(G("info"))};m.qi=function(a){a=a||W.b().z;if(this.pd=a.t()&&a.t().media)qc(this.Na),this.Na=new ci(this.pd),this.Na.f(G("info"))};
function ki(a,b,c){var d=H(c,a.Kf);Ja(a.kb,b);var f=Ja(a.kb,c),g=(b=Ja(a.kb,b)<f)?0:a.kb.length-1,h=b?g<a.kb.length:0<=g;for(g;h;g+=b?1:-1){var n=H(a.kb[g],a.Kf);if(b&&g>f||!b&&g<f)xd(n,{left:"",right:""});else if(b&&g<f||!b&&g>f)xd(n,{left:b?"-300px":"",right:""});else if(g==f){xd(n,{right:b?0:"",left:""});break}}a.F=c;Ua(a.Rc,0,0,[a.D,""]);D(a.D,"current");a.D=d;A(a.D,"current");ji(a)}
m.navigate=function(a,b,c){if(a!=this.D){var d=E(this.D,"screen");b?(xd(this.D,{left:"",right:0}),xd(a,{right:"",left:0,width:""}),D(this.D,"current"),A(a,"current"),this.D=a):(xd(this.D,{left:d?0:"",right:""}),xd(a,{right:0,left:""}),b=[this.D,cc(H("back-title",this.mb))],Ua(this.Rc,0,0,b),D(this.D,"current"),this.D=a,A(this.D,"current"));F(this.mb,"back",E(this.D,"slide"));c&&Zb(H("back-title",this.mb),c)}};
m.Vi=function(a,b,c,d,f,g){(new ei(b,c,d,f,g)).f(this.Bg);Z.b().g("navigate",this.Bg,l,a,d,f)};m.Ui=function(a){if(this.Na&&a.id==this.Na.p.id){D(this.mb,"back");for(a=this.Rc[0][0];E(a,"slide");)a=this.Rc.shift();ki(this,this.F,"info")}else{var b=G("media-info");(new ci(a)).f(b);Z.b().g("navigate",b,l,a.name)}Q.b().g(Wc,j)};m.Wi=function(a){if(!this.$e||!(this.$e.p.id==a.id&&this.D==this.Ze))this.$e=new fi(a),this.$e.f(this.Ze),Z.b().g("navigate",this.Ze,l,a.name),Q.b().g(Wc,j)};
function ji(a){Cd(H("arrow",a.mb),U(a.lb[a.F]).width/2+Ed(a.lb[a.F]).x)};function li(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message">This channel is currently offline.</div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"></div><div class="pause" style="display: none"></div></div></div><div id="guide" class="guide toggled"><div id="channels" class="channels"></div><div class="right-grad"></div><div class="header" id="header"><div class="times"><div id="now-left" class="left browse">&#x25C0;<span> NOW</span></div><div id="now-right" class="right browse"><span>NOW </span>&#x25B6;</div></div></div><div id="my-ticker" class="my-ticker" style="display:none"><div class="me" style="background:'+
L(a.r.color)+";border-color:"+L(a.r.color)+';"><img src="'+L(a.r.W)+'"/></div></div><div id="ticker" class="ticker"><div id="go-live" class="go-live">GO LIVE</div></div></div><div id="controller" class="controller guide-toggled"><div class="background"></div><div class="left"><div id="guide-toggle" class="guide-toggle dark button">GUIDE</div><div class="controls"><div class="restart dark button"></div><div class="play dark button"></div><div class="volume dark button"></div></div><div class="border"></div></div><div class="right"><div id="admin-toggle" class="admin-toggle dark button" style="display: none"><div id="toggle-pending" class="pending" style="display:none"></div></div><div id="sidebar-toggle" class="sidebar-toggle dark button"></div><div class="border"></div></div></div><div id="sidebar"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM</div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"></div><div id="stream" class="screen stream"></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div>'+
(a.de?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div></div>'};function mi(){P.call(this)}v(mi,P);ja(mi);mi.prototype.init=function(a){this.ik=a;(new appengine.Channel(unescape(a))).open().onmessage=s(this.vi,this);return this};
mi.prototype.vi=function(a){var b=hg(a.data);switch(b.type){case "viewer_change":var a=lg(X.b(),b.user),c=W.b().get(b.channel_id),d=dd(b.time+"Z"),f=new Jf(b.session_id,a,c,d);a.qd&&(a.qd.Yd=d);a.qd=f;c.g(Kf,f);break;case "new_comment":a=new Zh(b.comment);(d=Gf(Ff.b(),b.comment.media))&&d.g(Ef,a);break;case "new_activity":X.b().g("new-activity",b.activity);break;case "update_programs":a=b.programs;c=W.b().get(b.channel_id);w(a,function(a){c.g(Lf,a)},this);break;case "new_programs":w(b.programs,s(function(a){var a=
new wf(a),c=W.b().get(b.channel_id);c&&(c.g(xf,a),(!W.b().z||!W.b().z.t())&&W.b().g(rf,c))},this))}};function ni(){P.call(this);this.bk=[]}v(ni,P);ja(ni);ni.prototype.Oe=function(a){Bb(a,s(function(a,c){w(a,s(function(a){a=new wf(a);W.b().Tb[c]&&W.b().Tb[c].Rb(a)},this))},this))};var oi=l;function pi(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var qi=navigator.plugins["Shockwave Flash"];qi&&(oi=j,qi.description&&pi(qi.description));navigator.plugins["Shockwave Flash 2.0"]&&(oi=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var ri=navigator.mimeTypes["application/x-shockwave-flash"];(oi=ri&&ri.enabledPlugin)&&pi(ri.enabledPlugin.description)}else try{var si=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),oi=j;pi(si.GetVariable("$version"))}catch(ti){try{si=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
oi=j}catch(ui){try{si=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),oi=j,pi(si.GetVariable("$version"))}catch(vi){}}};function wi(a,b,c,d,f,g,h,n){this.uc=a;this.xh=b;this.sd=c;this.lk=d;this.$j=f;this.Uj=g;this.Ca=h;this.Ja=n;this.dj=[];this.Jj=[];this.Mj=[];this.dk=[]}wi.prototype.Xf=ca("xh");wi.prototype.hf=function(a){this.B=a;return this};function xi(a){this.uc=a;this.Yi=k}function yi(a){this.uc=a;this.Yi=this.mk=k};function gg(a,b,c){wi.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.kj=a;this.dj=[new xi("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.hf(new yi("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}v(gg,wi);
var fg=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function zi(a){V.call(this);this.nj=mi.b().init(a);this.Ah=new bh;this.Nh=new lf;this.Xi=new ii;this.B=new fh}v(zi,V);zi.prototype.M=function(a){zi.c.M.call(this,a);var b=K(li,{r:X.b().Ma,de:mf()});a.insertBefore(b,a.childNodes[0]||k)};zi.prototype.m=function(){zi.c.m.call(this);this.Ah.f(G("controller"));this.Nh.f(G("guide"));this.Xi.f(G("sidebar"));this.B.f(G("stage"));T(this.o(),document.body,"touchmove",function(a){fc(a.target,"div","ios-scroll")||a.preventDefault()})};
function Ai(){var a=G("fb-login"),b=G("static-content");Y("/_session",function(c){if(200==$g(c.target)){D(a,"show");A(b,"hide");O(function(){A(G("login"),"hide")},0);var d=kg(c.target),c=d.token,f=d.channels,g=d.programs,h=d.current_user,d=d.viewer_sessions;if(!Eb(h)){var n=X.b();n.Ma=lg(n,h)}W.b().Oe(f,h.current_channel);ni.b().Oe(g);var f=W.b(),q=X.b();w(d,s(function(a){var b=lg(X.b(),a.user);q.add(b);var c=this.Tb[a.channel_id],d=dd(a.tune_in+"Z"),f=a.tune_out?dd(a.tune_out+"Z"):k,a=new Jf(a.id,
b,c,d,f);b.qd=a;c.$d.push(a)},f));Tc.b().init();(new zi(c)).f(document.body)}else c=G("fb-login"),A(c,"disabled"),R(c,j),A(c,"show"),A(c,"waitlist")},"POST")}
fa("brkn.Main.staticInit",function(){function a(a){a?(c.style.top=Math.max(10,I().height-190)+"px",(new qe(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,Math.min(I().height-435,c.scrollHeight+190)],300)).play()):(c.style.top="",c.style.height="",c.className="")}var b=G("login"),c=G("static-content"),d=G("pages"),f=G("footer"),g=l;N(b,"click",function(c){"static-scrollable"==c.target.id&&(c=new qe(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,0],300),c.play(),g=l,N(c,"end",va(a,g)))});N(b,"scroll",function(){10>
b.scrollTop&&(g=l,a(g))});N(f,"click",function(b){if(b=fc(b.target,k,"section"))g=j,c.className=b.id,c.style.height=U(d).height+220+"px",a(g)});N(window,"resize",va(a,j))});fa("brkn.Main.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)Ai();else{var b=G("fb-login");O(function(){R(b,j);O(va(A,b,"show"),400)},100);N(b,"click",function(){A(b,"disabled");FB.login(function(a){a.authResponse?Ai():D(b,"disabled")},{scope:"email"})})}})});