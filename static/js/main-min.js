function e(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var n,ea=ea||{},fa=this;function ga(a,b){var c=a.split("."),d=fa;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&ia(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}
function ja(a){for(var a=a.split("."),b=fa,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function ka(){}function la(a){a.a=function(){return a.ji?a.ji:a.ji=new a}}
function ma(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ia(a){return a!==i}function oa(a){return"array"==ma(a)}function qa(a){var b=ma(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ra(a){return"number"==typeof a}function sa(a){return"function"==ma(a)}function ta(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function ua(a){return a[va]||(a[va]=++wa)}
var va="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),wa=0;function xa(a,b,c){return a.call.apply(a.bind,arguments)}function ya(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xa:ya;return r.apply(k,arguments)}function za(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var s=Date.now||function(){return+new Date};function Aa(a,b){var c=b||{},d;for(d in c)var f=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),f);return a}
function u(a,b){function c(){}c.prototype=b.prototype;a.e=b.prototype;a.prototype=new c;a.prototype.constructor=a};function Ba(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Ca(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Da(a){if(!Ea.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Fa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ga,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ha,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ia,"&quot;"));return a}var Fa=/&/g,Ga=/</g,Ha=/>/g,Ia=/\"/g,Ea=/[&<>\"]/;
function Ja(a){var a=ia(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ka(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var La=Array.prototype,Ma=La.indexOf?function(a,b,c){return La.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(p(a))return!p(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},w=La.forEach?function(a,b,c){La.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=p(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Na=La.filter?function(a,b,c){return La.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=
p(a)?a.split(""):a,m=0;m<d;m++)if(m in h){var q=h[m];b.call(c,q,m,a)&&(f[g++]=q)}return f},Oa=La.map?function(a,b,c){return La.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=p(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},Qa=La.every?function(a,b,c){return La.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=p(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return l;return j};
function Ra(a,b){var c=Sa(a,b,i);return 0>c?k:p(a)?a.charAt(c):a[c]}function Sa(a,b,c){for(var d=a.length,f=p(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function Ta(a,b){return 0<=Ma(a,b)}function Ua(a,b){var c=Ma(a,b);0<=c&&La.splice.call(a,c,1)}function Va(a,b,c){b=Sa(a,b,c);0<=b&&La.splice.call(a,b,1)}function Wa(a){return La.concat.apply(La,arguments)}function Xa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ya(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(oa(d)||(f=qa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,m=0;m<h;m++)a[g+m]=d[m];else a.push(d)}}function $a(a,b,c,d){La.splice.apply(a,ab(arguments,1))}function ab(a,b,c){return 2>=arguments.length?La.slice.call(a,b):La.slice.call(a,b,c)};var bb,cb,db,eb,fb;function gb(){return fa.navigator?fa.navigator.userAgent:k}function hb(){return fa.navigator}eb=db=cb=bb=l;var ib;if(ib=gb()){var jb=hb();bb=0==ib.indexOf("Opera");cb=!bb&&-1!=ib.indexOf("MSIE");db=!bb&&-1!=ib.indexOf("WebKit");eb=!bb&&!db&&"Gecko"==jb.product}var kb=bb,x=cb,lb=eb,mb=db,nb=hb();fb=-1!=(nb&&nb.platform||"").indexOf("Mac");var ob=!!hb()&&-1!=(hb().appVersion||"").indexOf("X11"),pb;
a:{var qb="",rb;if(kb&&fa.opera)var sb=fa.opera.version,qb="function"==typeof sb?sb():sb;else if(lb?rb=/rv\:([^\);]+)(\)|;)/:x?rb=/MSIE\s+([^\);]+)(\)|;)/:mb&&(rb=/WebKit\/(\S+)/),rb)var tb=rb.exec(gb()),qb=tb?tb[1]:"";if(x){var ub,vb=fa.document;ub=vb?vb.documentMode:i;if(ub>parseFloat(qb)){pb=String(ub);break a}}pb=qb}var xb={};
function yb(a){var b;if(!(b=xb[a])){b=0;for(var c=Ca(String(pb)).split("."),d=Ca(String(a)).split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var h=c[g]||"",m=d[g]||"",q=RegExp("(\\d*)(\\D*)","g"),t=RegExp("(\\d*)(\\D*)","g");do{var v=q.exec(h)||["","",""],A=t.exec(m)||["","",""];if(0==v[0].length&&0==A[0].length)break;b=((0==v[1].length?0:parseInt(v[1],10))<(0==A[1].length?0:parseInt(A[1],10))?-1:(0==v[1].length?0:parseInt(v[1],10))>(0==A[1].length?0:parseInt(A[1],10))?1:0)||((0==v[2].length)<
(0==A[2].length)?-1:(0==v[2].length)>(0==A[2].length)?1:0)||(v[2]<A[2]?-1:v[2]>A[2]?1:0)}while(0==b)}b=xb[a]=0<=b}return b}var zb={};function Ab(a){return zb[a]||(zb[a]=x&&!!document.documentMode&&document.documentMode>=a)};var Bb,Cb=!x||Ab(9),Db=!lb&&!x||x&&Ab(9)||lb&&yb("1.9.1"),Eb=x&&!yb("9"),Fb=x||kb||mb;function Gb(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}function y(a,b){for(var c=Gb(a),d=ab(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)Ta(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==f}function z(a,b){var c=Gb(a),d=ab(arguments,1),f,g=d;f=Na(c,function(a){return!Ta(g,a)});a.className=f.join(" ");return f.length==c.length-d.length}function B(a,b){return Ta(Gb(a),b)}function C(a,b,c){c?y(a,b):z(a,b)}function Hb(a,b){var c=!B(a,b);C(a,b,c);return c};function Ib(a,b){this.x=ia(a)?a:0;this.y=ia(b)?b:0}Ib.prototype.clone=function(){return new Ib(this.x,this.y)};function Jb(a,b){return new Ib(a.x-b.x,a.y-b.y)};function Kb(a,b){this.width=a;this.height=b}Kb.prototype.clone=function(){return new Kb(this.width,this.height)};Kb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Kb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Kb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Lb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Mb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Nb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ob(a){for(var b in a)return l;return j}function Pb(a,b){b in a&&delete a[b]}function Qb(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}var Rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Sb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Rb.length;g++)c=Rb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Tb(a){return a?new Ub(Vb(a)):Bb||(Bb=new Ub)}function D(a){return p(a)?document.getElementById(a):a}function Wb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Xb("*",a,b)}function E(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Wb(a,b)[0])||k}
function Xb(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},f=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[f++]=h);d.length=f;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=f=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Ta(a.split(/\s+/),b)&&(d[f++]=h);d.length=f;return d}return c}
var Yb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function F(a){a=(a||window).document;a=Zb(a)?a.documentElement:a.body;return new Kb(a.clientWidth,a.clientHeight)}function G(a,b,c){return $b(document,arguments)}
function $b(a,b){var c=b[0],d=b[1];if(!Cb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Da(d.name),'"');if(d.type){c.push(' type="',Da(d.type),'"');var f={};Sb(f,d);delete f.type;d=f}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(p(d)?g.className=d:oa(d)?y.apply(k,[g].concat(d)):Lb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in Yb?g.setAttribute(Yb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(p(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(f=b[c],qa(f)&&!(ta(f)&&0<f.nodeType)){var h=w,m;a:{if((m=f)&&"number"==typeof m.length){if(ta(m)){m="function"==typeof m.item||"string"==typeof m.item;break a}if(sa(m)){m="function"==typeof m.item;break a}}m=l}h(m?Xa(f):f,d)}else d(f)}return g}function Zb(a){return"CSS1Compat"==a.compatMode}function ac(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function bc(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}function cc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function dc(a){return Db&&a.children!=i?a.children:Na(a.childNodes,function(a){return 1==a.nodeType})}function ec(a){return a.nextElementSibling!=i?a.nextElementSibling:fc(a.nextSibling,j)}function fc(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function gc(a){if(Fb)return a.parentElement;a=a.parentNode;return ta(a)&&1==a.nodeType?a:k}
function hc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Vb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function ic(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else ac(a),a.appendChild(Vb(a).createTextNode(b))}var jc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},kc={IMG:" ",BR:"\n"};function lc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,ra(a)&&0<=a&&32768>a):l}
function mc(a){if(Eb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];nc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Eb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function oc(a){var b=[];nc(a,b,l);return b.join("")}
function nc(a,b,c){if(!(a.nodeName in jc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in kc)b.push(kc[a.nodeName]);else for(a=a.firstChild;a;)nc(a,b,c),a=a.nextSibling}function pc(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||B(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Ub(a){this.D=a||fa.document||document}n=Ub.prototype;n.Oa=Tb;
n.b=function(a){return p(a)?this.D.getElementById(a):a};n.L=function(a,b,c){return $b(this.D,arguments)};n.createElement=function(a){return this.D.createElement(a)};n.createTextNode=function(a){return this.D.createTextNode(a)};function qc(a){return Zb(a.D)}function rc(a){var b=a.D,a=!mb&&Zb(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Ib(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.Ph=dc;
function sc(a,b){return b.firstElementChild!=i?b.firstElementChild:fc(b.firstChild,j)}n.contains=hc;x&&yb(8);var tc={};function uc(a,b,c){a.innerHTML=b(c||tc,i,i)}function H(a,b){var c;a:if(c=(new Ub(i)||Tb()).createElement("DIV"),c.innerHTML=a(b||tc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function I(a){return"object"===typeof a&&a&&0===a.zm?a.content:String(a).replace(vc,wc)}
var xc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function wc(a){return xc[a]}var vc=/[\x00\x22\x26\x27\x3c\x3e]/g;function J(){0!=yc&&(this.Am=Error().stack,zc[ua(this)]=this)}var yc=0,zc={};J.prototype.we=l;J.prototype.$=function(){if(!this.we&&(this.we=j,this.m(),0!=yc)){var a=ua(this);delete zc[a]}};J.prototype.m=function(){this.Qj&&Ac.apply(k,this.Qj);if(this.Ki)for(;this.Ki.length;)this.Ki.shift()()};function Bc(a){a&&"function"==typeof a.$&&a.$()}function Ac(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];qa(d)?Ac.apply(k,d):Bc(d)}};var Cc=!x||Ab(9),Dc=!x||Ab(9),Ec=x&&!yb("9");!mb||yb("528");lb&&yb("1.9b")||x&&yb("8")||kb&&yb("9.5")||mb&&yb("528");lb&&!yb("8")||x&&yb("9");function Fc(a,b){this.type=a;this.currentTarget=this.target=b}n=Fc.prototype;n.m=aa();n.$=aa();n.pc=l;n.defaultPrevented=l;n.Xe=j;n.stopPropagation=function(){this.pc=j};n.preventDefault=function(){this.defaultPrevented=j;this.Xe=l};function Gc(a){a.preventDefault()};function Hc(a){Hc[" "](a);return a}Hc[" "]=ka;function Ic(a,b){a&&this.init(a,b)}u(Ic,Fc);var Jc=[1,4,2];n=Ic.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.og=l;n.ia=k;
n.init=function(a,b){var c=this.type=a.type;Fc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(lb){var f;a:{try{Hc(d.nodeName);f=j;break a}catch(g){}f=l}f||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=mb||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=mb||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.og=fb?a.metaKey:a.ctrlKey;this.state=a.state;this.ia=a;a.defaultPrevented&&this.preventDefault();delete this.pc};function Kc(a){return(Cc?0==a.ia.button:"click"==a.type?j:!!(a.ia.button&Jc[0]))&&!(mb&&fb&&a.ctrlKey)}
n.stopPropagation=function(){Ic.e.stopPropagation.call(this);this.ia.stopPropagation?this.ia.stopPropagation():this.ia.cancelBubble=j};n.preventDefault=function(){Ic.e.preventDefault.call(this);var a=this.ia;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,Ec)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.ck=ca("ia");n.m=aa();function Lc(){}var Mc=0;n=Lc.prototype;n.key=0;n.rc=l;n.rf=l;n.init=function(a,b,c,d,f,g){sa(a)?this.li=j:a&&a.handleEvent&&sa(a.handleEvent)?this.li=l:e(Error("Invalid listener argument"));this.Xc=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.He=g;this.rf=l;this.key=++Mc;this.rc=l};n.handleEvent=function(a){return this.li?this.Xc.call(this.He||this.src,a):this.Xc.handleEvent.call(this.Xc,a)};var Nc={},Oc={},Pc={},Qc={};
function K(a,b,c,d,f){if(b){if(oa(b)){for(var g=0;g<b.length;g++)K(a,b[g],c,d,f);return k}var d=!!d,h=Oc;b in h||(h[b]={V:0,Fa:0});h=h[b];d in h||(h[d]={V:0,Fa:0},h.V++);var h=h[d],m=ua(a),q;h.Fa++;if(h[m]){q=h[m];for(g=0;g<q.length;g++)if(h=q[g],h.Xc==c&&h.He==f){if(h.rc)break;return q[g].key}}else q=h[m]=[],h.V++;var t=Rc,v=Dc?function(a){return t.call(v.src,v.key,a)}:function(a){a=t.call(v.src,v.key,a);if(!a)return a},g=v;g.src=a;h=new Lc;h.init(c,g,a,b,d,f);c=h.key;g.key=c;q.push(h);Nc[c]=h;Pc[m]||
(Pc[m]=[]);Pc[m].push(h);a.addEventListener?(a==fa||!a.yh)&&a.addEventListener(b,g,d):a.attachEvent(b in Qc?Qc[b]:Qc[b]="on"+b,g);return c}e(Error("Invalid event type"))}function Sc(a,b,c,d,f){if(oa(b)){for(var g=0;g<b.length;g++)Sc(a,b[g],c,d,f);return k}a=K(a,b,c,d,f);Nc[a].rf=j;return a}function Tc(a,b,c,d,f){if(oa(b))for(var g=0;g<b.length;g++)Tc(a,b[g],c,d,f);else if(d=!!d,a=Uc(a,b,d))for(g=0;g<a.length;g++)if(a[g].Xc==c&&a[g].capture==d&&a[g].He==f){Vc(a[g].key);break}}
function Vc(a){if(!Nc[a])return l;var b=Nc[a];if(b.rc)return l;var c=b.src,d=b.type,f=b.proxy,g=b.capture;c.removeEventListener?(c==fa||!c.yh)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in Qc?Qc[d]:Qc[d]="on"+d,f);c=ua(c);Pc[c]&&(f=Pc[c],Ua(f,b),0==f.length&&delete Pc[c]);b.rc=j;if(b=Oc[d][g][c])b.Ii=j,Wc(d,g,c,b);delete Nc[a];return j}
function Wc(a,b,c,d){if(!d.Ne&&d.Ii){for(var f=0,g=0;f<d.length;f++)d[f].rc?d[f].proxy.src=k:(f!=g&&(d[g]=d[f]),g++);d.length=g;d.Ii=l;0==g&&(delete Oc[a][b][c],Oc[a][b].V--,0==Oc[a][b].V&&(delete Oc[a][b],Oc[a].V--),0==Oc[a].V&&delete Oc[a])}}function Uc(a,b,c){var d=Oc;return b in d&&(d=d[b],c in d&&(d=d[c],a=ua(a),d[a]))?d[a]:k}
function Xc(a,b,c,d,f){var g=1,b=ua(b);if(a[b]){a.Fa--;a=a[b];a.Ne?a.Ne++:a.Ne=1;try{for(var h=a.length,m=0;m<h;m++){var q=a[m];q&&!q.rc&&(g&=Yc(q,f)!==l)}}finally{a.Ne--,Wc(c,d,b,a)}}return Boolean(g)}function Yc(a,b){a.rf&&Vc(a.key);return a.handleEvent(b)}
function Rc(a,b){if(!Nc[a])return j;var c=Nc[a],d=c.type,f=Oc;if(!(d in f))return j;var f=f[d],g,h;if(!Dc){g=b||ja("window.event");var m=j in f,q=l in f;if(m){if(0>g.keyCode||g.returnValue!=i)return j;a:{var t=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(v){t=j}if(t||g.returnValue==i)g.returnValue=j}}t=new Ic;t.init(g,this);g=j;try{if(m){for(var A=[],T=t.currentTarget;T;T=T.parentNode)A.push(T);h=f[j];h.Fa=h.V;for(var U=A.length-1;!t.pc&&0<=U&&h.Fa;U--)t.currentTarget=A[U],g&=Xc(h,A[U],d,j,t);
if(q){h=f[l];h.Fa=h.V;for(U=0;!t.pc&&U<A.length&&h.Fa;U++)t.currentTarget=A[U],g&=Xc(h,A[U],d,l,t)}}else g=Yc(c,t)}finally{A&&(A.length=0)}return g}d=new Ic(b,this);return g=Yc(c,d)};function Zc(){J.call(this)}u(Zc,J);n=Zc.prototype;n.yh=j;n.Se=k;n.Eg=ba("Se");n.addEventListener=function(a,b,c,d){K(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Tc(this,a,b,c,d)};
n.dispatchEvent=function(a){var b=a.type||a,c=Oc;if(b in c){if(p(a))a=new Fc(a,this);else if(a instanceof Fc)a.target=a.target||this;else{var d=a,a=new Fc(b,this);Sb(a,d)}var d=1,f,c=c[b],b=j in c,g;if(b){f=[];for(g=this;g;g=g.Se)f.push(g);g=c[j];g.Fa=g.V;for(var h=f.length-1;!a.pc&&0<=h&&g.Fa;h--)a.currentTarget=f[h],d&=Xc(g,f[h],a.type,j,a)&&a.Xe!=l}if(l in c)if(g=c[l],g.Fa=g.V,b)for(h=0;!a.pc&&h<f.length&&g.Fa;h++)a.currentTarget=f[h],d&=Xc(g,f[h],a.type,l,a)&&a.Xe!=l;else for(f=this;!a.pc&&f&&
g.Fa;f=f.Se)a.currentTarget=f,d&=Xc(g,f,a.type,l,a)&&a.Xe!=l;a=Boolean(d)}else a=j;return a};n.m=function(){Zc.e.m.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Lb(Pc,function(d){for(var f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Vc(g.key),b++}});else{var d=ua(this);if(Pc[d])for(var d=Pc[d],f=d.length-1;0<=f;f--){var g=d[f];if(c||a==g.capture)Vc(g.key),b++}}this.Se=k};function $c(a,b){J.call(this);this.P=a||1;this.fe=b||ad;this.pf=r(this.Pg,this);this.Xf=s()}u($c,Zc);$c.prototype.enabled=l;var ad=fa.window;n=$c.prototype;n.qa=k;n.Pg=function(){if(this.enabled){var a=s()-this.Xf;0<a&&a<0.8*this.P?this.qa=this.fe.setTimeout(this.pf,this.P-a):(this.dispatchEvent(bd),this.enabled&&(this.qa=this.fe.setTimeout(this.pf,this.P),this.Xf=s()))}};n.start=function(){this.enabled=j;this.qa||(this.qa=this.fe.setTimeout(this.pf,this.P),this.Xf=s())};
n.stop=function(){this.enabled=l;this.qa&&(this.fe.clearTimeout(this.qa),this.qa=k)};n.m=function(){$c.e.m.call(this);this.stop();delete this.fe};var bd="tick";function L(a,b,c){sa(a)?c&&(a=r(a,c)):a&&"function"==typeof a.handleEvent?a=r(a.handleEvent,a):e(Error("Invalid listener argument"));return 2147483647<b?-1:ad.setTimeout(a,b||0)};function M(){J.call(this);this.Ua=[];this.Vb={}}u(M,J);n=M.prototype;n.qi=1;n.Ue=0;n.subscribe=function(a,b,c){var d=this.Vb[a];d||(d=this.Vb[a]=[]);var f=this.qi;this.Ua[f]=a;this.Ua[f+1]=b;this.Ua[f+2]=c;this.qi=f+3;d.push(f);return f};n.wj=function(a){if(0!=this.Ue)return this.Sd||(this.Sd=[]),this.Sd.push(a),l;var b=this.Ua[a];if(b){var c=this.Vb[b];c&&Ua(c,a);delete this.Ua[a];delete this.Ua[a+1];delete this.Ua[a+2]}return!!b};
n.c=function(a,b){var c=this.Vb[a];if(c){this.Ue++;for(var d=ab(arguments,1),f=0,g=c.length;f<g;f++){var h=c[f];this.Ua[h+1].apply(this.Ua[h+2],d)}this.Ue--;if(this.Sd&&0==this.Ue)for(;c=this.Sd.pop();)this.wj(c)}};n.clear=function(a){if(a){var b=this.Vb[a];b&&(w(b,this.wj,this),delete this.Vb[a])}else this.Ua.length=0,this.Vb={}};n.m=function(){M.e.m.call(this);delete this.Ua;delete this.Vb;delete this.Sd};function cd(){M.call(this);this.wd=new $c(1E3);this.pj=new $c(3E4);this.qj=[];this.Gf=[]}u(cd,M);la(cd);cd.prototype.init=function(){this.wd.start();this.pj.start();K(this.wd,bd,r(function(){w(this.Gf,function(a,b){a.time<s()&&(a.callback(),La.splice.call(this.Gf,b,1))},this)},this));K(this.pj,bd,r(function(){w(this.qj,function(a){ic(a.element,dd(a.time.getTime()))},this)},this))};function ed(a,b,c){86400>(s()-b.getTime())/1E3&&a.qj.push({time:b,element:c})}
function fd(a,b,c){86400>(s()-b)/1E3&&a.Gf.push({time:b,callback:c})};function N(){M.call(this);this.ql=j;var a=D("controller");this.vc=!a||B(a,"sidebar-toggled");this.mc=a&&B(a,"guide-toggled");this.subscribe(gd,ba("vc"),this);this.subscribe(hd,ba("mc"),this);this.subscribe(id,ba("ql"),this)}u(N,M);la(N);function jd(a,b){var c=D("toggle-pending");ic(c,b);O(c,!!b)}var id="play",hd="toggle-guide",gd="toggle-sidebar";var kd={em:["BC","AD"],dm:["Before Christ","Anno Domini"],gm:"JFMAMJJASOND".split(""),nm:"JFMAMJJASOND".split(""),fm:"January February March April May June July August September October November December".split(" "),mm:"January February March April May June July August September October November December".split(" "),jm:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),pm:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),tm:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
rm:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lm:"Sun Mon Tue Wed Thu Fri Sat".split(" "),qm:"Sun Mon Tue Wed Thu Fri Sat".split(" "),hm:"SMTWTFS".split(""),om:"SMTWTFS".split(""),km:["Q1","Q2","Q3","Q4"],im:["1st quarter","2nd quarter","3rd quarter","4th quarter"],am:["AM","PM"],cm:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],sm:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Bj:6,um:[5,6],Cj:5};var ld=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,md=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,nd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function od(a){var b=new pd(2E3),a=Ca(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(ld);if(d){var f=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var m=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new qd(rd,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new qd(rd,(4>=d?1-d:8-d)+(Number(m)+7*(Number(c)-1))-1))):(f&&(b.setDate(1),b.setMonth(f-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(nd),m=0,c&&("Z"!=
c[0]&&(m=60*c[2]+Number(c[3]),m*="-"==c[1]?1:-1),m-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(md))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=m&&b.setTime(b.getTime()+6E4*m),c=j):c=l;return c?b:k}
function qd(a,b,c,d,f,g){p(a)?(this.Ya=a==sd?b:0,this.Qa=a==td?b:0,this.Ma=a==rd?b:0,this.Aa=a==ud?b:0,this.Ba=a==vd?b:0,this.Ga=a==wd?b:0):(this.Ya=a||0,this.Qa=b||0,this.Ma=c||0,this.Aa=d||0,this.Ba=f||0,this.Ga=g||0)}
qd.prototype.ge=function(a){var b=Math.min(this.Ya,this.Qa,this.Ma,this.Aa,this.Ba,this.Ga),c=Math.max(this.Ya,this.Qa,this.Ma,this.Aa,this.Ba,this.Ga);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Ya||a)&&c.push(Math.abs(this.Ya)+"Y");(this.Qa||a)&&c.push(Math.abs(this.Qa)+"M");(this.Ma||a)&&c.push(Math.abs(this.Ma)+"D");if(this.Aa||this.Ba||this.Ga||a)c.push("T"),(this.Aa||a)&&c.push(Math.abs(this.Aa)+"H"),(this.Ba||a)&&c.push(Math.abs(this.Ba)+"M"),
(this.Ga||a)&&c.push(Math.abs(this.Ga)+"S");return c.join("")};qd.prototype.clone=function(){return new qd(this.Ya,this.Qa,this.Ma,this.Aa,this.Ba,this.Ga)};var sd="y",td="m",rd="d",ud="h",vd="n",wd="s";qd.prototype.add=function(a){this.Ya+=a.Ya;this.Qa+=a.Qa;this.Ma+=a.Ma;this.Aa+=a.Aa;this.Ba+=a.Ba;this.Ga+=a.Ga};
function xd(a,b,c){ra(a)?(this.t=new Date(a,b||0,c||1),yd(this,c||1)):ta(a)?(this.t=new Date(a.getFullYear(),a.getMonth(),a.getDate()),yd(this,a.getDate())):(this.t=new Date(s()),this.t.setHours(0),this.t.setMinutes(0),this.t.setSeconds(0),this.t.setMilliseconds(0))}n=xd.prototype;n.Be=kd.Bj;n.Ce=kd.Cj;n.clone=function(){var a=new xd(this.t);a.Be=this.Be;a.Ce=this.Ce;return a};n.getFullYear=function(){return this.t.getFullYear()};n.getYear=function(){return this.getFullYear()};n.getMonth=function(){return this.t.getMonth()};
n.getDate=function(){return this.t.getDate()};n.getTime=function(){return this.t.getTime()};n.getDay=function(){return this.t.getDay()};n.getUTCHours=function(){return this.t.getUTCHours()};n.getTimezoneOffset=function(){return this.t.getTimezoneOffset()};function zd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Ja(c)+":"+Ja(b);return a}n.set=function(a){this.t=new Date(a.getFullYear(),a.getMonth(),a.getDate())};n.setFullYear=function(a){this.t.setFullYear(a)};
n.setMonth=function(a){this.t.setMonth(a)};n.setDate=function(a){this.t.setDate(a)};n.setTime=function(a){this.t.setTime(a)};
n.add=function(a){if(a.Ya||a.Qa){var b=this.getMonth()+a.Qa+12*a.Ya,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Ma&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Ma),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),yd(this,a.getDate()))};n.ge=function(a,b){return[this.getFullYear(),Ja(this.getMonth()+1),Ja(this.getDate())].join(a?"-":"")+(b?zd(this):"")};n.toString=function(){return this.ge()};function yd(a,b){a.getDate()!=b&&a.t.setUTCHours(a.t.getUTCHours()+(a.getDate()<b?1:-1))}n.valueOf=function(){return this.t.valueOf()};function pd(a,b,c,d,f,g,h){this.t=ra(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,h||0):new Date(a?a.getTime():s())}u(pd,xd);n=pd.prototype;n.getHours=function(){return this.t.getHours()};
n.getMinutes=function(){return this.t.getMinutes()};n.getSeconds=function(){return this.t.getSeconds()};n.getUTCHours=function(){return this.t.getUTCHours()};n.setHours=function(a){this.t.setHours(a)};n.setMinutes=function(a){this.t.setMinutes(a)};n.setSeconds=function(a){this.t.setSeconds(a)};n.setMilliseconds=function(a){this.t.setMilliseconds(a)};n.setUTCHours=function(a){this.t.setUTCHours(a)};
n.add=function(a){xd.prototype.add.call(this,a);a.Aa&&this.setHours(this.t.getHours()+a.Aa);a.Ba&&this.setMinutes(this.t.getMinutes()+a.Ba);a.Ga&&this.setSeconds(this.t.getSeconds()+a.Ga)};n.ge=function(a,b){var c=xd.prototype.ge.call(this,a);return a?c+" "+Ja(this.getHours())+":"+Ja(this.getMinutes())+":"+Ja(this.getSeconds())+(b?zd(this):""):c+"T"+Ja(this.getHours())+Ja(this.getMinutes())+Ja(this.getSeconds())+(b?zd(this):"")};n.toString=function(){return this.ge()};
n.clone=function(){var a=new pd(this.t);a.Be=this.Be;a.Ce=this.Ce;return a};function Ad(a){J.call(this);this.N=a;this.Q=[]}u(Ad,J);var Bd=[];function P(a,b,c,d,f){oa(c)||(Bd[0]=c,c=Bd);for(var g=0;g<c.length;g++){var h=K(b,c[g],d||a,f||l,a.N||a);a.Q.push(h)}return a}function Cd(a,b,c,d,f,g){if(oa(c))for(var h=0;h<c.length;h++)Cd(a,b,c[h],d,f,g);else b=Sc(b,c,d||a,f,g||a.N||a),a.Q.push(b)}
function Dd(a,b,c,d,f,g){if(oa(c))for(var h=0;h<c.length;h++)Dd(a,b,c[h],d,f,g);else{a:{d=d||a;g=g||a.N||a;f=!!f;if(b=Uc(b,c,f))for(c=0;c<b.length;c++)if(!b[c].rc&&b[c].Xc==d&&b[c].capture==f&&b[c].He==g){b=b[c];break a}b=k}b&&(b=b.key,Vc(b),Ua(a.Q,b))}return a}function Ed(a){w(a.Q,Vc);a.Q.length=0}Ad.prototype.m=function(){Ad.e.m.call(this);Ed(this)};Ad.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function Fd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Fd.prototype.clone=function(){return new Fd(this.top,this.right,this.bottom,this.left)};Fd.prototype.contains=function(a){return!this||!a?l:a instanceof Fd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Gd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Gd.prototype.clone=function(){return new Gd(this.left,this.top,this.width,this.height)};Gd.prototype.contains=function(a){return a instanceof Gd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Hd(a,b,c){p(b)?Id(a,c,b):Lb(b,za(Id,a))}function Id(a,b,c){a.style[Ka(c)]=b}function Jd(a,b){var c=Vb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Kd(a,b){return a.currentStyle?a.currentStyle[b]:k}function Ld(a,b){return Jd(a,b)||Kd(a,b)||a.style&&a.style[b]}function Md(a,b,c){var d,f=lb&&(fb||ob)&&yb("1.9");b instanceof Ib?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Nd(d,f);a.style.top=Nd(b,f)}
function Od(a){return new Ib(a.offsetLeft,a.offsetTop)}function Pd(a){var b=a.getBoundingClientRect();x&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Qd(a){if(x&&!Ab(8))return a.offsetParent;for(var b=Vb(a),c=Ld(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Ld(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function Rd(a){for(var b=new Fd(0,Infinity,Infinity,0),c=Tb(a),d=c.D.body,f=c.D.documentElement,g=!mb&&Zb(c.D)?c.D.documentElement:c.D.body;a=Qd(a);)if((!x||0!=a.clientWidth)&&(!mb||0!=a.clientHeight||a!=d)&&a!=d&&a!=f&&"visible"!=Ld(a,"overflow")){var h=Sd(a),m;m=a;if(lb&&!yb("1.9")){var q=parseFloat(Jd(m,"borderLeftWidth"));if(Td(m))var t=m.offsetWidth-m.clientWidth-q-parseFloat(Jd(m,"borderRightWidth")),q=q+t;m=new Ib(q,parseFloat(Jd(m,"borderTopWidth")))}else m=new Ib(m.clientLeft,m.clientTop);
h.x+=m.x;h.y+=m.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=F(c.D.parentWindow||c.D.defaultView);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:k}
function Sd(a){var b,c=Vb(a),d=Ld(a,"position"),f=lb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Ib(0,0),h;b=c?Vb(c):document;h=x&&!Ab(9)&&!qc(Tb(b))?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=Pd(a),a=rc(Tb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=
b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(mb&&"fixed"==Ld(b,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(kb||mb&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=Qd(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!kb||"TR"!=b.tagName)g.y-=b.scrollTop}return g}function Ud(a,b){var c,d=Sd(a);b instanceof Ib&&(c=b.y,b=b.x);Md(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Nd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Vd(a,b){a.style.height=Nd(b,j)}function Wd(a,b){a.style.width=Nd(b,j)}function Q(a){if("none"!=Ld(a,"display"))return Xd(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Xd(a);b.display=c;b.position=f;b.visibility=d;return a}
function Xd(a){var b=a.offsetWidth,c=a.offsetHeight,d=mb&&!b&&!c;return(!ia(b)||d)&&a.getBoundingClientRect?(a=Pd(a),new Kb(a.right-a.left,a.bottom-a.top)):new Kb(b,c)}function Yd(a){var b=Sd(a),a=Q(a);return new Gd(b.x,b.y,a.width,a.height)}function Zd(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function O(a,b){a.style.display=b?"":"none"}function Td(a){return"rtl"==Ld(a,"direction")}
var $d=lb?"MozUserSelect":mb?"WebkitUserSelect":k;function ae(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function be(a,b){if(x){var c=ae(a,Kd(a,b+"Left")),d=ae(a,Kd(a,b+"Right")),f=ae(a,Kd(a,b+"Top")),g=ae(a,Kd(a,b+"Bottom"));return new Fd(f,d,g,c)}c=Jd(a,b+"Left");d=Jd(a,b+"Right");f=Jd(a,b+"Top");g=Jd(a,b+"Bottom");return new Fd(parseFloat(f),parseFloat(d),parseFloat(g),parseFloat(c))}var ce={thin:2,medium:4,thick:6};function de(a,b){if("none"==Kd(a,b+"Style"))return 0;var c=Kd(a,b+"Width");return c in ce?ce[c]:ae(a,c)}
function ee(a){if(x){var b=de(a,"borderLeft"),c=de(a,"borderRight"),d=de(a,"borderTop"),a=de(a,"borderBottom");return new Fd(d,c,a,b)}b=Jd(a,"borderLeftWidth");c=Jd(a,"borderRightWidth");d=Jd(a,"borderTopWidth");a=Jd(a,"borderBottomWidth");return new Fd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var fe=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function ge(a,b,c){J.call(this);this.target=a;this.handle=b||a;this.wi=c||new Gd(NaN,NaN,NaN,NaN);this.D=Vb(a);this.u=new Ad(this);K(this.handle,["touchstart","mousedown"],this.wc,l,this)}u(ge,Zc);var he=x||lb&&yb("1.9.3");n=ge.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.kj=0;n.lj=0;n.Jc=0;n.Kc=0;n.Ef=j;n.sa=l;n.Nf=0;n.Kk=0;n.Bk=l;n.le=l;n.n=ca("u");n.Dg=function(a){this.Nf=Math.pow(a,2)};n.fj=ba("Ye");n.ib=ba("Ef");
n.m=function(){ge.e.m.call(this);Tc(this.handle,["touchstart","mousedown"],this.wc,l,this);Ed(this.u);he&&this.D.releaseCapture();this.u=this.handle=this.target=k};function ie(a){ia(a.Sa)||(a.Sa=Td(a.target));return a.Sa}
n.wc=function(a){var b="mousedown"==a.type;if(this.Ef&&!this.sa&&(!b||Kc(a))){je(a);if(0==this.Nf)if(this.dispatchEvent(new ke("start",this,a.clientX,a.clientY,a)))this.sa=j,a.preventDefault();else return;else a.preventDefault();var b=this.D,c=b.documentElement,d=!he;P(this.u,b,["touchmove","mousemove"],this.wk,d);P(this.u,b,["touchend","mouseup"],this.hc,d);he?(c.setCapture(l),P(this.u,c,"losecapture",this.hc)):P(this.u,b?b.parentWindow||b.defaultView:window,"blur",this.hc);x&&this.Bk&&P(this.u,
b,"dragstart",Gc);this.Ye&&P(this.u,this.Ye,"scroll",this.Pi,d);this.clientX=this.kj=a.clientX;this.clientY=this.lj=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.le?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Ld(a,"position")&&(c=Vb(a).documentElement),c?(lb?(d=ee(c),b+=d.left):Ab(8)&&(d=ee(c),b-=d.left),a=Td(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Jc=a;this.Kc=this.target.offsetTop;this.mg=rc(Tb(this.D));this.Kk=s()}else this.dispatchEvent("earlycancel")};
n.hc=function(a,b){Ed(this.u);he&&this.D.releaseCapture();if(this.sa){je(a);this.sa=l;var c=le(this,this.Jc),d=me(this,this.Kc);this.dispatchEvent(new ke("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function je(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ia.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ia.changedTouches[0],a.currentTarget)}
n.wk=function(a){if(this.Ef){je(a);var b=(this.le&&ie(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.sa){var d=this.kj-this.clientX,f=this.lj-this.clientY;if(d*d+f*f>this.Nf)if(this.dispatchEvent(new ke("start",this,a.clientX,a.clientY,a)))this.sa=j;else{this.we||this.hc(a);return}}c=ne(this,b,c);b=c.x;c=c.y;this.sa&&this.dispatchEvent(new ke("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(oe(this,a,b,c),a.preventDefault())}};function ne(a,b,c){var d=rc(Tb(a.D)),b=b+(d.x-a.mg.x),c=c+(d.y-a.mg.y);a.mg=d;a.Jc+=b;a.Kc+=c;b=le(a,a.Jc);a=me(a,a.Kc);return new Ib(b,a)}n.Pi=function(a){var b=ne(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;oe(this,a,b.x,b.y)};function oe(a,b,c,d){a.zd(c,d);a.dispatchEvent(new ke("drag",a,b.clientX,b.clientY,b,c,d))}
function le(a,b){var c=a.wi,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function me(a,b){var c=a.wi,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}n.zd=function(a,b){this.le&&ie(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function ke(a,b,c,d,f,g,h,m){Fc.call(this,a);this.clientX=c;this.clientY=d;this.qf=f;this.left=ia(g)?g:b.Jc;this.top=ia(h)?h:b.Kc;this.Tj=b;this.Rj=!!m}u(ke,Fc);function pe(){J.call(this);this.k=qe;this.Cd=this.startTime=k}u(pe,Zc);var qe=0;pe.prototype.Ob=function(){this.ra("begin")};pe.prototype.Pb=function(){this.ra("end")};pe.prototype.ra=function(a){this.dispatchEvent(a)};function re(a,b,c){J.call(this);this.Lb=a;this.P=b||0;this.N=c;this.sf=r(this.Ad,this)}u(re,J);n=re.prototype;n.ma=0;n.m=function(){re.e.m.call(this);this.stop();delete this.Lb;delete this.N};n.start=function(a){this.stop();this.ma=L(this.sf,ia(a)?a:this.P)};n.stop=function(){this.Ib()&&ad.clearTimeout(this.ma);this.ma=0};n.Ae=function(){this.stop();this.Ad()};n.Ib=function(){return 0!=this.ma};n.Ad=function(){this.ma=0;this.Lb&&this.Lb.call(this.N)};var se;se=da(k);var te={},ue=k;function ve(a){a=ua(a);delete te[a];Ob(te)&&ue&&ue.stop()}function we(){ue||(ue=new re(function(){var a=s();Lb(te,function(c){xe(c,a)});Ob(te)||we()},20));var a=ue;a.Ib()||a.start()};function ye(a,b,c,d){pe.call(this);(!oa(a)||!oa(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.de=a;this.Wj=b;this.duration=c;this.bh=d;this.coords=[];this.le=l}u(ye,pe);n=ye.prototype;n.Nh=0;n.Da=0;n.Vf=k;
n.play=function(a){if(a||this.k==qe)this.Da=0,this.coords=this.de;else if(1==this.k)return l;ve(this);this.startTime=a=s();-1==this.k&&(this.startTime-=this.duration*this.Da);this.Cd=this.startTime+this.duration;this.Vf=this.startTime;this.Da||this.Ob();this.ra("play");-1==this.k&&this.ra("resume");this.k=1;var b=ua(this);b in te||(te[b]=this);we();xe(this,a);return j};n.stop=function(a){ve(this);this.k=qe;a&&(this.Da=1);ze(this,this.Da);this.ra("stop");this.Pb()};n.De=ca("Da");
n.m=function(){this.k==qe||this.stop(l);this.ra("destroy");ye.e.m.call(this)};function xe(a,b){a.Da=(b-a.startTime)/(a.Cd-a.startTime);1<=a.Da&&(a.Da=1);a.Nh=1E3/(b-a.Vf);a.Vf=b;ze(a,a.Da);1==a.Da?(a.k=qe,ve(a),a.ra("finish"),a.Pb()):1==a.k&&a.fg()}function ze(a,b){sa(a.bh)&&(b=a.bh(b));a.coords=Array(a.de.length);for(var c=0;c<a.de.length;c++)a.coords[c]=(a.Wj[c]-a.de[c])*b+a.de[c]}n.fg=function(){this.ra("animate")};n.ra=function(a){this.dispatchEvent(new Ae(a,this))};
function Ae(a,b){Fc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.ln=b.coords[2];this.duration=b.duration;this.Da=b.De();this.Om=b.Nh;this.state=b.k;this.wm=b}u(Ae,Fc);function Be(a,b,c,d,f){ye.call(this,b,c,d,f);this.element=a}u(Be,ye);n=Be.prototype;n.ke=ka;n.ni=function(){ia(this.Sa)||(this.Sa=Td(this.element));return this.Sa};n.fg=function(){this.ke();Be.e.fg.call(this)};n.Pb=function(){this.ke();Be.e.Pb.call(this)};n.Ob=function(){this.ke();Be.e.Ob.call(this)};function Ce(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));Be.apply(this,arguments)}u(Ce,Be);
Ce.prototype.ke=function(){if(this.le){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=Td(a)?lb?-b:!x||!yb("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function De(a,b,c,d,f){ra(b)&&(b=[b]);ra(c)&&(c=[c]);Be.call(this,a,b,c,d,f);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}u(De,Be);De.prototype.ke=function(){Zd(this.element,this.coords[0])};
De.prototype.show=function(){this.element.style.display=""};De.prototype.hide=function(){this.element.style.display="none"};function Ee(a,b,c){De.call(this,a,1,0,b,c)}u(Ee,De);Ee.prototype.Ob=function(){this.show();Ee.e.Ob.call(this)};Ee.prototype.Pb=function(){this.hide();Ee.e.Pb.call(this)};function Fe(a,b,c){De.call(this,a,0,1,b,c)}u(Fe,De);Fe.prototype.Ob=function(){this.show();Fe.e.Ob.call(this)};function Ge(){}la(Ge);Ge.prototype.Pk=0;Ge.a();function S(a){J.call(this);this.fc=a||Tb();this.Sa=He}u(S,Zc);S.prototype.Ak=Ge.a();var He=k;function Ie(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}n=S.prototype;n.ma=k;n.Y=l;n.d=k;n.Sa=k;n.p=k;n.K=k;n.da=k;n.ha=k;n.Aj=l;
function Je(a){return a.ma||(a.ma=":"+(a.Ak.Pk++).toString(36))}n.b=ca("d");n.n=function(){return this.Rc||(this.Rc=new Ad(this))};n.$e=function(a){this==a&&e(Error("Unable to set parent component"));a&&(this.K&&this.ma&&this.K.ha&&this.ma&&(this.ma in this.K.ha&&this.K.ha[this.ma])&&this.K!=a)&&e(Error("Unable to set parent component"));this.K=a;S.e.Eg.call(this,a)};n.getParent=ca("K");n.Eg=function(a){this.K&&this.K!=a&&e(Error("Method not supported"));S.e.Eg.call(this,a)};n.Oa=ca("fc");
n.L=function(){this.d=this.fc.createElement("div")};function Ke(a,b){a.Y&&e(Error("Component already rendered"));a.d||a.L();b?b.insertBefore(a.d,k):a.fc.D.body.appendChild(a.d);(!a.K||a.K.Y)&&a.w()}n.h=function(a){this.Y&&e(Error("Component already rendered"));if(a&&this.$b(a)){this.Aj=j;if(!this.fc||this.fc.D!=Vb(a))this.fc=Tb(a);this.J(a);this.w()}else e(Error("Invalid element to decorate"))};n.$b=da(j);n.J=ba("d");n.w=function(){this.Y=j;Le(this,function(a){!a.Y&&a.b()&&a.w()})};
n.ic=function(){Le(this,function(a){a.Y&&a.ic()});this.Rc&&Ed(this.Rc);this.Y=l};n.m=function(){S.e.m.call(this);this.Y&&this.ic();this.Rc&&(this.Rc.$(),delete this.Rc);Le(this,function(a){a.$()});!this.Aj&&this.d&&cc(this.d);this.K=this.p=this.d=this.ha=this.da=k};
function Me(a,b){var c=a.da?a.da.length:0;b.Y&&!a.Y&&e(Error("Component already rendered"));(0>c||c>(a.da?a.da.length:0))&&e(Error("Child component index out of bounds"));if(!a.ha||!a.da)a.ha={},a.da=[];if(b.getParent()==a){var d=Je(b);a.ha[d]=b;Ua(a.da,b)}else Qb(a.ha,Je(b),b);b.$e(a);$a(a.da,c,0,b);b.Y&&a.Y&&b.getParent()==a?(d=a.tb(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.Y&&(!b.Y&&b.d&&b.d.parentNode)&&b.w()}n.tb=ca("d");
n.ni=function(){this.Sa==k&&(this.Sa=Td(this.Y?this.d:this.fc.D.body));return this.Sa};n.uc=function(a){this.Y&&e(Error("Component already rendered"));this.Sa=a};function Le(a,b){a.da&&w(a.da,b,i)}n.removeChild=function(a,b){if(a){var c=p(a)?a:Je(a),a=this.ha&&c?(c in this.ha?this.ha[c]:i)||k:k;c&&a&&(Pb(this.ha,c),Ua(this.da,a),b&&(a.ic(),a.d&&cc(a.d)),a.$e(k))}a||e(Error("Child is not in parent component"));return a};function Ne(a,b,c,d,f){if(!x&&(!mb||!yb("525")))return j;if(fb&&f)return Oe(a);if(f&&!d||!c&&(17==b||18==b)||x&&d&&b==a)return l;switch(a){case 13:return!(x&&Ab(9));case 27:return!mb}return Oe(a)}function Oe(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||mb&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Pe(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Qe(){}var Re;la(Qe);n=Qe.prototype;n.Qc=aa();n.L=function(a){var b=a.Oa().L("div",Se(this,a).join(" "),a.ab);Te(this,a,b);return b};n.tb=function(a){return a};n.Bd=function(a,b,c){if(a=a.b?a.b():a)if(x&&!yb("7")){var d=Ue(Gb(a),b);d.push(b);za(c?y:z,a).apply(k,d)}else C(a,b,c)};n.$b=da(j);
n.h=function(a,b){if(b.id){var c=b.id;a.K&&a.K.ha&&(Pb(a.K.ha,a.ma),Qb(a.K.ha,c,a));a.ma=c}(c=this.tb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Xa(c.childNodes):c.firstChild,a.ab=c):a.ab=k;var d=0,f=this.la(),g=this.la(),h=l,m=l,c=l,q=Gb(b);w(q,function(a){if(!h&&a==f)h=j,g==f&&(m=j);else if(!m&&a==g)m=j;else{var b=d;if(!this.mj){this.qe||Ve(this);var c=this.qe,q={},t;for(t in c)q[c[t]]=t;this.mj=q}a=parseInt(this.mj[a],10);d=b|(isNaN(a)?0:a)}},this);a.k=d;h||(q.push(f),g==f&&(m=j));m||q.push(g);
var t=a.Na;t&&q.push.apply(q,t);if(x&&!yb("7")){var v=Ue(q);0<v.length&&(q.push.apply(q,v),c=j)}if(!h||!m||t||c)b.className=q.join(" ");Te(this,a,b);return b};n.hi=function(a){a.ni()&&this.uc(a.b(),j);a.isEnabled()&&this.hd(a,a.fb())};function Te(a,b,c){b.isEnabled()||a.Xa(c,1,j);b.k&8&&a.Xa(c,8,j);b.ja&16&&a.Xa(c,16,We(b));b.ja&64&&a.Xa(c,64,!!(b.k&64))}
n.gd=function(a,b){var c=!b,d=x||kb?a.getElementsByTagName("*"):k;if($d){if(c=c?"none":"",a.style[$d]=c,d)for(var f=0,g;g=d[f];f++)g.style[$d]=c}else if(x||kb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;g=d[f];f++)g.setAttribute("unselectable",c)};n.uc=function(a,b){this.Bd(a,this.la()+"-rtl",b)};n.Tf=function(a){var b;return a.ja&32&&(b=a.Gb())?lc(b):l};
n.hd=function(a,b){var c;if(a.ja&32&&(c=a.Gb())){if(!b&&a.Hd()){try{c.blur()}catch(d){}a.Hd()&&a.Rh()}lc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};n.Rb=function(a,b){O(a,b)};n.pa=function(a,b,c){var d=a.b();if(d){var f=Xe(this,b);f&&this.Bd(a,f,c);this.Xa(d,b,c)}};n.Xa=function(a,b,c){Re||(Re={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Re[b])&&a.setAttribute("aria-"+b,c)};
n.tc=function(a,b){var c=this.tb(a);if(c&&(ac(c),b))if(p(b))ic(c,b);else{var d=function(a){if(a){var b=Vb(c);c.appendChild(p(a)?b.createTextNode(a):a)}};oa(b)?w(b,d):qa(b)&&!("nodeType"in b)?w(Xa(b),d):d(b)}};n.Gb=function(a){return a.b()};n.la=da("goog-control");function Se(a,b){var c=a.la(),d=[c],f=a.la();f!=c&&d.push(f);c=b.k;for(f=[];c;){var g=c&-c;f.push(Xe(a,g));c&=~g}d.push.apply(d,f);(c=b.Na)&&d.push.apply(d,c);x&&!yb("7")&&d.push.apply(d,Ue(d));return d}
function Ue(a,b){var c=[];b&&(a=a.concat([b]));w([],function(d){Qa(d,za(Ta,a))&&(!b||Ta(d,b))&&c.push(d.join("_"))});return c}function Xe(a,b){a.qe||Ve(a);return a.qe[b]}function Ve(a){var b=a.la();a.qe={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Ye(){}u(Ye,Qe);la(Ye);n=Ye.prototype;n.Qc=da("button");n.Xa=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):Ye.e.Xa.call(this,a,b,c)};n.L=function(a){var b=Ye.e.L.call(this,a),c=a.Ed();c&&this.Gg(b,c);(c=a.H())&&this.Ha(b,c);a.ja&16&&this.Xa(b,16,We(a));return b};n.h=function(a,b){var b=Ye.e.h.call(this,a,b),c=this.H(b);a.$g=c;a.Qg=this.Ed(b);a.ja&16&&this.Xa(b,16,We(a));return b};n.H=ka;n.Ha=ka;n.Ed=function(a){return a.title};n.Gg=function(a,b){a&&(a.title=b||"")};n.la=da("goog-button");function Ze(a,b){J.call(this);a&&$e(this,a,b)}u(Ze,Zc);n=Ze.prototype;n.d=k;n.Ke=k;n.Uf=k;n.Le=k;n.Kb=-1;n.Jb=-1;n.of=l;
var af={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},bf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},cf=x||mb&&yb("525"),df=fb&&lb;n=Ze.prototype;
n.tk=function(a){if(mb&&(17==this.Kb&&!a.ctrlKey||18==this.Kb&&!a.altKey))this.Jb=this.Kb=-1;cf&&!Ne(a.keyCode,this.Kb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Jb=lb?Pe(a.keyCode):a.keyCode,df&&(this.of=a.altKey))};n.vk=function(a){this.Jb=this.Kb=-1;this.of=a.altKey};
n.handleEvent=function(a){var b=a.ia,c,d,f=b.altKey;x&&"keypress"==a.type?(c=this.Jb,d=13!=c&&27!=c?b.keyCode:0):mb&&"keypress"==a.type?(c=this.Jb,d=0<=b.charCode&&63232>b.charCode&&Oe(c)?b.charCode:0):kb?(c=this.Jb,d=Oe(c)?b.keyCode:0):(c=b.keyCode||this.Jb,d=b.charCode||0,df&&(f=this.of),fb&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in af?g=af[c]:25==c&&a.shiftKey&&(g=9):h&&h in bf&&(g=bf[h]);a=g==this.Kb;this.Kb=g;b=new ef(g,d,a,b);b.altKey=f;this.dispatchEvent(b)};
n.b=ca("d");function $e(a,b,c){a.Le&&a.detach();a.d=b;a.Ke=K(a.d,"keypress",a,c);a.Uf=K(a.d,"keydown",a.tk,c,a);a.Le=K(a.d,"keyup",a.vk,c,a)}n.detach=function(){this.Ke&&(Vc(this.Ke),Vc(this.Uf),Vc(this.Le),this.Le=this.Uf=this.Ke=k);this.d=k;this.Jb=this.Kb=-1};n.m=function(){Ze.e.m.call(this);this.detach()};function ef(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}u(ef,Ic);function ff(a,b){a||e(Error("Invalid class name "+a));sa(b)||e(Error("Invalid decorator function "+b))}var gf={};function hf(a,b,c){S.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ua(b);if(d=gf[d])break;b=b.e?b.e.constructor:k}b=d?sa(d.a)?d.a():new d:k}this.I=b;this.ab=a}u(hf,S);n=hf.prototype;n.ab=k;n.k=0;n.ja=39;n.pb=255;n.Ol=0;n.hf=j;n.Na=k;n.Mf=j;n.oe=l;n.Vi=k;function jf(a){a.Y&&l!=a.Mf&&kf(a,l);a.Mf=l}n.Gb=function(){return this.I.Gb(this)};
n.Bd=function(a,b){b?a&&(this.Na?Ta(this.Na,a)||this.Na.push(a):this.Na=[a],this.I.Bd(this,a,j)):a&&this.Na&&(Ua(this.Na,a),0==this.Na.length&&(this.Na=k),this.I.Bd(this,a,l))};n.L=function(){var a=this.I.L(this);this.d=a;var b=this.Vi||this.I.Qc();b&&a.setAttribute("role",b);this.oe||this.I.gd(a,l);this.fb()||this.I.Rb(a,l)};n.tb=function(){return this.I.tb(this.b())};n.$b=function(a){return this.I.$b(a)};
n.J=function(a){this.d=a=this.I.h(this,a);var b=this.Vi||this.I.Qc();b&&a.setAttribute("role",b);this.oe||this.I.gd(a,l);this.hf="none"!=a.style.display};n.w=function(){hf.e.w.call(this);this.I.hi(this);if(this.ja&-2&&(this.Mf&&kf(this,j),this.ja&32)){var a=this.Gb();if(a){var b=this.Wc||(this.Wc=new Ze);$e(b,a);P(P(P(this.n(),b,"key",this.uk),a,"focus",this.rk),a,"blur",this.Rh)}}};
function kf(a,b){var c=a.n(),d=a.b();b?(P(P(P(P(c,d,"mouseover",a.Xh),d,"mousedown",a.Vh),d,"mouseup",a.Yh),d,"mouseout",a.Wh),a.Ge!=ka&&P(c,d,"contextmenu",a.Ge),x&&P(c,d,"dblclick",a.Sh)):(Dd(Dd(Dd(Dd(c,d,"mouseover",a.Xh),d,"mousedown",a.Vh),d,"mouseup",a.Yh),d,"mouseout",a.Wh),a.Ge!=ka&&Dd(c,d,"contextmenu",a.Ge),x&&Dd(c,d,"dblclick",a.Sh))}n.ic=function(){hf.e.ic.call(this);this.Wc&&this.Wc.detach();this.fb()&&this.isEnabled()&&this.I.hd(this,l)};
n.m=function(){hf.e.m.call(this);this.Wc&&(this.Wc.$(),delete this.Wc);delete this.I;this.Na=this.ab=k};n.tc=function(a){this.I.tc(this.b(),a);this.ab=a};n.Oh=function(){var a=this.ab;return!a?"":(p(a)?a:oa(a)?Oa(a,oc).join(""):mc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};n.uc=function(a){hf.e.uc.call(this,a);var b=this.b();b&&this.I.uc(b,a)};n.gd=function(a){this.oe=a;var b=this.b();b&&this.I.gd(b,a)};n.fb=ca("hf");
n.Rb=function(a,b){if(b||this.hf!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.I.Rb(c,a);this.isEnabled()&&this.I.hd(this,a);this.hf=a;return j}return l};n.isEnabled=function(){return!(this.k&1)};n.ib=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&lf(this,1,!a))a||(this.setActive(l),mf(this,l)),this.fb()&&this.I.hd(this,a),this.pa(1,!a)};function mf(a,b){lf(a,2,b)&&a.pa(2,b)}n.Ib=function(){return!!(this.k&4)};
n.setActive=function(a){lf(this,4,a)&&this.pa(4,a)};function We(a){return!!(a.k&16)}function nf(a,b){lf(a,16,b)&&a.pa(16,b)}n.Hd=function(){return!!(this.k&32)};n.Ta=function(a){lf(this,32,a)&&this.pa(32,a)};n.pa=function(a,b){this.ja&a&&b!=!!(this.k&a)&&(this.I.pa(this,a,b),this.k=b?this.k|a:this.k&~a)};function of(a,b,c){a.Y&&(a.k&b&&!c)&&e(Error("Component already rendered"));!c&&a.k&b&&a.pa(b,l);a.ja=c?a.ja|b:a.ja&~b}function pf(a,b){return!!(a.pb&b)&&!!(a.ja&b)}
function lf(a,b,c){return!!(a.ja&b)&&!!(a.k&b)!=c&&(!(a.Ol&b)||a.dispatchEvent(Ie(b,c)))&&!a.we}n.Xh=function(a){(!a.relatedTarget||!hc(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&pf(this,2))&&mf(this,j)};n.Wh=function(a){if((!a.relatedTarget||!hc(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))pf(this,4)&&this.setActive(l),pf(this,2)&&mf(this,l)};n.Ge=ka;
n.Vh=function(a){this.isEnabled()&&(pf(this,2)&&mf(this,j),Kc(a)&&(pf(this,4)&&this.setActive(j),this.I.Tf(this)&&this.Gb().focus()));!this.oe&&Kc(a)&&a.preventDefault()};n.Yh=function(a){this.isEnabled()&&(pf(this,2)&&mf(this,j),this.Ib()&&(this.Td(a)&&pf(this,4))&&this.setActive(l))};n.Sh=function(a){this.isEnabled()&&this.Td(a)};
n.Td=function(a){pf(this,16)&&nf(this,!We(this));pf(this,8)&&lf(this,8,j)&&this.pa(8,j);if(pf(this,64)){var b=!(this.k&64);lf(this,64,b)&&this.pa(64,b)}b=new Fc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.og=a.og);return this.dispatchEvent(b)};n.rk=function(){pf(this,32)&&this.Ta(j)};n.Rh=function(){pf(this,4)&&this.setActive(l);pf(this,32)&&this.Ta(l)};
n.uk=function(a){return this.fb()&&this.isEnabled()&&this.Lf(a)?(a.preventDefault(),a.stopPropagation(),j):l};n.Lf=function(a){return 13==a.keyCode&&this.Td(a)};sa(hf)||e(Error("Invalid component class "+hf));sa(Qe)||e(Error("Invalid renderer class "+Qe));var qf=ua(hf);gf[qf]=Qe;ff("goog-control",function(){return new hf(k)});function rf(){}u(rf,Ye);la(rf);n=rf.prototype;n.Qc=aa();n.L=function(a){jf(a);a.pb&=-256;of(a,32,l);return a.Oa().L("button",{"class":Se(this,a).join(" "),disabled:!a.isEnabled(),title:a.Ed()||"",value:a.H()||""},a.Oh()||"")};n.$b=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};n.h=function(a,b){jf(a);a.pb&=-256;of(a,32,l);b.disabled&&y(b,Xe(this,1));return rf.e.h.call(this,a,b)};n.hi=function(a){P(a.n(),a.b(),"click",a.Td)};n.gd=ka;
n.uc=ka;n.Tf=function(a){return a.isEnabled()};n.hd=ka;n.pa=function(a,b,c){rf.e.pa.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.H=function(a){return a.value};n.Ha=function(a,b){a&&(a.value=b)};n.Xa=ka;function sf(a,b,c){hf.call(this,a,b||rf.a(),c)}u(sf,hf);n=sf.prototype;n.H=ca("$g");n.Ha=function(a){this.$g=a;this.I.Ha(this.b(),a)};n.Ed=ca("Qg");n.Gg=function(a){this.Qg=a;this.I.Gg(this.b(),a)};n.m=function(){sf.e.m.call(this);delete this.$g;delete this.Qg};n.w=function(){sf.e.w.call(this);if(this.ja&32){var a=this.Gb();a&&P(this.n(),a,"keyup",this.Lf)}};n.Lf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Td(a):32==a.keyCode};ff("goog-button",function(){return new sf(k)});function tf(){}u(tf,Ye);la(tf);n=tf.prototype;n.L=function(a){var b={"class":"goog-inline-block "+Se(this,a).join(" "),title:a.Ed()||""},b=a.Oa().L("div",b,uf(this,a.ab,a.Oa()));Te(this,a,b);return b};n.Qc=da("button");n.tb=function(a){return a&&a.firstChild.firstChild};function uf(a,b,c){return c.L("div","goog-inline-block "+(a.la()+"-outer-box"),c.L("div","goog-inline-block "+(a.la()+"-inner-box"),b))}n.$b=function(a){return"DIV"==a.tagName};
n.h=function(a,b){vf(b,j);vf(b,l);var c;a:{c=sc(a.Oa(),b);var d=this.la()+"-outer-box";if(c&&B(c,d)&&(c=sc(a.Oa(),c),d=this.la()+"-inner-box",c&&B(c,d))){c=j;break a}c=l}c||b.appendChild(uf(this,b.childNodes,a.Oa()));y(b,"goog-inline-block",this.la());return tf.e.h.call(this,a,b)};n.la=da("goog-custom-button");
function vf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==Ca(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function wf(a,b,c){sf.call(this,a,b||tf.a(),c)}u(wf,sf);ff("goog-custom-button",function(){return new wf(k)});function xf(){S.call(this);this.Ub=2;this.P=5;this.cf=60*this.Ub*this.P;this.ph=[];this.nh={};this.ua=yf();this.ya=0;this.cj=this.bj=l;this.Hf=this.ob=j;this.sa=l;this.ea=[V.a().l,V.a().l.g()]}u(xf,S);n=xf.prototype;
n.w=function(){xf.e.w.call(this);this.ld=D("ticker");this.Vm=D("my-ticker");var a=D("go-live");this.ci=D("header");this.Z=D("channels");this.ei=1;this.Ja=Math.max(1280,F().width)*this.ei;this.vh=Q(D("controller")).height;N.a().subscribe(hd,function(a){this.ff(a)},this);N.a().subscribe(gd,function(a){C(this.b(),"sidebar-toggled",a);this.ga(l,i,j);zf(this)},this);this.Sb=new pd;for(var b=60;b>=this.Sb.getMinutes();)b-=this.P;this.Sb.setMinutes(b);this.R=this.Sb.clone();this.R.add(new qd(0,0,0,0,0*-this.P));
this.Zf=this.R.clone();this.Zf.add(new qd(0,0,0,0,this.P*(this.Ub+1)));Af(this,this.Ub,this.R);Wd(this.b(),this.Ja);this.ca=(this.Ja-200)/this.cf;this.Ul=this.Ja/this.Ub;this.bc=document.createElement("style");this.bc.id="channel-name-offs";this.bc.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.bc);this.bc.innerHTML="div#guide div.channels div.channel div.name{left:0 !important}";this.zi=0;w(V.a().Gc,r(function(a){if(!a.C){var b=new Bf(a,this.cf,this.Sb,0,this.R);Ke(b,this.Z);
this.ph.push(b);this.nh[a.id]=b;a.subscribe(Cf,function(){this.Wd()},this);var c=Wb("program",b.b());if(c=c[c.length-1])this.zi=Math.max(this.zi,Od(c).x+Q(c).width+170)}a.id==V.a().l.id&&b&&(y(b.b(),"current"),this.W=b,window.currentChannel=this.W);this.Pe=a.C?a:this.Pe},this));this.o=new ge(this.b());var c=this.bc,d=this.b();this.o.zd=function(a){0>a&&a>-Q(d).width+F().width&&(window.currentChannel&&window.currentChannel.update(),this.target.style.left=a+"px",c.innerHTML="div#guide div.channels div.channel div.name{left:"+
-a+"px !important}")};var b=D("now-left"),f=D("now-right");P(P(P(P(P(P(P(P(P(this.n(),cd.a().wd,bd,r(this.Pg,this)),a,"click",r(function(){V.a().c(Df,this.W.p);N.a().c(id,j)},this)),window,"resize",r(this.ga,this)),this.ld,"click",r(this.ga,this,j,i,l)),b,"click",r(this.Yk,this)),f,"click",r(this.gl,this)),this.o,"beforedrag",r(function(){z(this.b(),"animate");y(this.b(),"drag");this.sa=j},this)),this.o,"end",r(function(){z(this.b(),"drag");y(this.b(),"animate");this.ob=this.sa=l;zf(this)},this)),
this.ci,"mousewheel",r(function(a){a.preventDefault();a.stopPropagation();a=a.ia;z(this.b(),"animate");y(this.b(),"drag");this.sa=j;a=Od(this.b()).x+(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0);0>a&&a>-1*this.Ja+F().width&&(Md(this.b(),a),this.W&&this.W.update(),this.bc.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}");z(this.b(),"drag");y(this.b(),"animate");this.ob=this.sa=l;zf(this)},this));V.a().subscribe(Ff,this.Wd,this);V.a().subscribe(Df,this.ac,this);V.a().subscribe(Gf,
r(function(){L(r(function(){this.ga(j)},this))},this));N.a().subscribe("toggle-admin",function(a){C(this.b(),"admin",a)},this);W.a().subscribe(Hf,this.pg,this);this.Wd();this.ff(B(this.b(),"toggled"));this.ua&&P(this.n(),this.o,"beforedrag",r(function(a){a.qf.shiftKey&&a.preventDefault()},this))};
n.ff=function(a){z(this.b(),"animate");this.ga(j,i,l);var b=Math.min(this.Z.scrollHeight,190);C(this.b(),"toggled",a);y(this.b(),"transition");var c=this.b(),d=a?0:b+20;c.style.transform=a?"":"translate3d(0px, "+d+"px,0)";c.style.msTransform=a?"":"translate3d(0px, "+d+"px,0)";c.style.WebkitTransform=a?"":"translate3d(0px, "+d+"px,0)";c.style.MozTransform=a?"":"translate3d(0px, "+d+"px,0)";c.style.Dj=a?"":"translate3d(0px, "+d+"px,0)";L(r(function(){z(this.b(),"transition");y(this.b(),"animate")},
this),500);this.W&&(this.Z.scrollTop=Od(this.W.b()).y);L(r(function(){Vd(this.Z,a?b:40);C(this.b(),"collapsed",!a);this.Wd();this.ga();if(this.W){var c=this.Z,d=Od(this.W.b()).y;c.scrollTop!=d&&(c.scrollTop=d)}},this),a?0:800);a&&this.Wd();this.o&&this.o.ib(a)};
function Af(a,b,c){for(var d=E("times",a.b()),f=0;f<=b;f++){var g=c.clone();g.add(new qd(0,0,0,0,a.P*f));var h=G,m={"class":"time",style:"width:"+(a.Ja-200)/a.Ub+"px"},q=i,t=g.getHours();ia(q)||(q=j);var v=12==t;12<t&&(t-=12,v=j);0==t&&q&&(t=12);t=String(t);t+=":"+Ja(g.getMinutes());q&&(g=Aa("am"),q=Aa("pm"),t+=v?q:g);h=h("div",m,t);d.appendChild(h)}}
n.ac=function(a){this.W&&z(this.W.b(),"current");this.W=this.nh[a.id]||k;if(window.currentChannel=this.W)y(this.W.b(),"current"),L(r(this.ga,this,j,i,l));this.ea[0]=a};n.pg=function(){this.Pe=this.Pe||If();V.a().c(Df,this.Pe);N.a().c(hd,l)};
function zf(a){var b=D("now-left"),c=D("now-right"),d=(s()-a.R.getTime())/1E3*a.ca,f=N.a().vc?320:0,g=F().width-f,f=Q(a.b()).width-f-200;((a.ea[0].C?a.ea[0].queue.length:a.ea[0].rb+(a.ya+1||0)+1<a.ea[0].oa.length)?((a.ea[0].g(a.ya+1).time.getTime()-s())/1E3+a.ea[0].g(a.ya+1).media.duration)*a.ca+g:0)>f-d&&Jf(a);c.style.right=N.a().vc?"320px":0;C(c,"now",!!(-Od(a.ld).x<Od(a.b()).x-g));C(b,"now",!!(-Od(a.ld).x>Od(a.b()).x));d=-1;0<=a.ea[0].rb+(a.ya||0)-1&&a.ea[0].g(a.ya-1)&&(d=(a.ea[0].g(a.ya-1).time.getTime()-
a.R.getTime())/1E3*a.ca);O(c,(a.ea[0].C?!!a.ea[0].queue.length:a.ea[0].rb+(a.ya||0)+1<a.ea[0].oa.length)||B(c,"now"));O(b,0<d||B(b,"now"))}n.Yk=function(){B(D("now-left"),"now")?V.a().l.g()==W.a().g()?this.ga(j,i,i,j):this.ga(l,i,i,j):this.ga(l,-1)};n.gl=function(){B(D("now-right"),"now")?V.a().l.g()==W.a().g()?this.ga(j,i,i,j):this.ga(l,i,i,l):this.ga(l,1)};function Jf(a){var b=Math.ceil(a.Ub/a.ei);Af(a,1,a.Zf);a.Ja+=a.Ul;Wd(a.b(),a.Ja);a.Ub++;a.Zf.add(new qd(0,0,0,0,a.P*b));a.cf=60*a.Ub*a.P}
n.Pg=function(){if(N.a().mc||this.Hf){var a=V.a().l&&V.a().l.C||l,b=V.a().l&&V.a().l.g(),c=W.a().g(),d=1E3*W.a().De(),f=Math.round((s()-this.R.getTime())/1E3*this.ca),d=c&&d?Math.round((c.time.getTime()+d-this.R.getTime())/1E3*this.ca):f;zf(this);Md(this.ld,f);C(this.ld,"go-live",!a&&!!b&&!!c&&b.id!=c.id&&45<Math.abs(d-f));this.Hf?(this.Hf=l,this.ga(j,i,l),y(this.b(),"animate")):this.sa||this.ga()}};
n.ga=function(a,b,c,d){this.ob=a!=i?!!a:this.ob;this.bj=a!=i?!!c:this.ob;this.ya=this.ob?0:b?this.ya+b:this.ya;a=V.a().l.g(this.ya);d=V.a().l.C?(d=Kf(V.a(),j))&&d.g():d?a:this.ob?W.a().g():this.ea[0].g(this.ya);this.ea[1]=d;this.ob||z(this.b(),"tick-along");if((this.ob||b)&&this.R){var c=W.a().g(),f=W.a().getCurrentTime(),a=(s()-this.R.getTime())/1E3*this.ca;for(c&&f&&Math.round((c.time.getTime()+f-this.R.getTime())/1E3*this.ca);a+F().width>this.Ja-(N.a().vc?320:0);)Jf(this);c=F().width-(N.a().vc?
320:0);f=0;d&&(f=-(d.time.getTime()-this.R.getTime())/1E3*this.ca+5);if(!d||!b&&N.a().mc&&a>-f+c-320)f=-Od(this.ld).x+c-200,y(this.b(),"tick-along");f=Math.max(f,-Q(this.b()).width+c);f=Math.min(f,0);Md(this.b(),f);this.bc.innerHTML="div#guide div.channels div.channel div.name{left:"+-f+"px !important}";if(!this.bj&&this.W){var g=Od(this.W.b()).y-Q(this.ci).height,h=new Ce(this.Z,[this.Z.scrollLeft,this.Z.scrollTop],[this.Z.scrollLeft,g],100*this.ph.length);P(this.n(),h,"end",r(function(){var a=this.Z;
a.scrollTop!=g&&(a.scrollTop=g);this.cj=l},this));L(r(function(){this.cj=j;h.play()},this),100)}}b&&zf(this)};n.Wd=function(){var a=Math.min(this.Z.scrollHeight,190);Vd(this.Z,B(this.b(),"toggled")?a:this.vh);Vd(this.b(),a+this.vh+19)};function Lf(a){return'\t<div class="channel"><div class="programs-container"><div class="programs"></div><div class="suggest"><div class="spinner">...</div><div class="select-program"><div class="select-header">SUGGESTION BOX <div class="close"></div></div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="Paste YouTube link"/><div class="page2"></div></div></div></div></div></div><div class="graph"></div><div class="viewers"></div><div class="name"><div class="text">'+
I(a.name)+'</div><div class="suggest-program"><div class="add-program button dark">+</div></div></div></div>'}
function Mf(a){return'<div class="info"><div class="thumb'+(a.repeat?" repeat":"")+'" style="background-image:url('+I(a.ug.media.Wa)+"); background-position: 50% "+I(a.ug.media.kd)+'%"></div><div class="progress"></div><div class="title">'+I(a.ug.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+I(a.media.Hc)+'</div><div class="star-count"><div class="icon"></div>'+I(a.media.jj)+'</div></div><div class="viewers"></div>'+(a.mf?'<div class="remove"></div><div class="repos"></div>':
"")+"</div>"}function Nf(a){return'<div class="line"><div class="pic"><img src="'+I(a.i.T)+'"><a href="#channel:'+I(a.Mj)+'"><div class="watch-with"><div>JOIN '+I(a.Fb)+"</div></div></a></div></div>"}function Of(a){return'<div class="confirm-media"><div class="thumb" style="background-image:url('+I(a.Lg)+')"></div><div class="title">'+I(a.title)+'</div><div class="added">ADDED</div><div class="dark button">ADD</div></div>'};function Pf(){M.call(this)}u(Pf,M);la(Pf);function Qf(a){this.id=a.id;this.T=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Rf(a){M.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.Tc=a.host_id;this.zk="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.live=!!a.live;this.Tk=[];this.rl=k;this.Lh=l;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.Ea=new Qf(a.publisher);this.qc=od(a.published+"Z");this.Wa="http://i.ytimg.com/vi/"+this.Tc+"/0.jpg";this.Ng="http://i.ytimg.com/vi/"+this.Tc+"/1.jpg";this.bn="http://i.ytimg.com/vi/"+this.Tc+"/2.jpg";
this.cn="http://i.ytimg.com/vi/"+this.Tc+"/3.jpg";this.Mg=new Kb(480,360);this.kd=37;this.Db=[];this.uj=[];this.Hc=a.comment_count||0;this.jj=a.star_count||0;this.Ze=[];this.vb={};this.Nj=a.collection_id;this.subscribe(Sf,this.Fj,this);this.subscribe(Tf,this.xl,this);this.subscribe(Uf,this.Dc,this)}u(Rf,M);function Vf(a){return a.qc.getMonth()+1+"/"+a.qc.getDate()+"/"+a.qc.getYear()}var Sf="add-comment",Tf="remove-comment",Uf="watching";
Rf.prototype.Fj=function(a){this.Db.push(a);this.Hc+=1;a.i.id!=X.a().r.id&&Pf.a().c("show","commented on "+this.name,a.text,a.i,a.i.T,"#info:"+this.id)};Rf.prototype.xl=function(a){Y("/_comment",se(),"POST","delete=true&id="+a);Va(this.Db,function(b){return b.id==a});this.Hc-=1};Rf.prototype.Dc=function(a,b,c){c?(Pb(this.vb,a.id),a.yd=k):(this.vb[a.id]=a,a.yd=this,a.id!=X.a().r.id&&Pf.a().c("flash","is watching "+(b?b.name:""),this.name,a,this.Ng,"#info:"+this.id))};function Wf(){M.call(this);this.cg={}}u(Wf,M);la(Wf);function Xf(a,b){var c=a.get(b.id);c||(c=new Rf(b),a.add(c));return c}Wf.prototype.get=function(a){return a in this.cg?this.cg[a]:i};Wf.prototype.add=function(a){this.cg[a.id]=a};function Yf(a,b){M.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?Xf(Wf.a(),d.media):c;Wf.a().add(this.media);this.time=d?od(d.time+"Z"):new pd;this.async=d?d.async:j;this.seek=d?d.seek:k}u(Yf,M);function Zf(a){return new Yf(i,a)};function $f(a){M.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.Zl=a.welcomed;this.Fm=a.demo;this.T=Ba("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.kf=a.access_level;this.vm=[];this.Qm=a.last_login?od(a.last_login+"Z"):k;this.Zm=a.session_count;this.xm=a.ave_session?a.ave_session.toFixed(2):k;this.Il=a.show_guide!=i?a.show_guide:
j;this.Ll=a.show_sidebar!=i?a.show_sidebar:j;this.tl=a.post_facebook!=i?a.post_facebook:j;this.Ui=a.post_twitter!=i?a.post_twitter:j;this.subscribe(ag,function(){this.Ui=j},this)}u($f,M);function yf(){return X.a().r.kf==bg}$f.prototype.Fb=function(){var a=this.name.split(" ");return a&&a.length?a[0]:this.name};var ag="twitter-auth",bg=2;function cg(a,b,c,d,f){this.id=a;this.i=b;this.S=c;this.Sg=d;this.zc=f||k;this.Ci=[]}cg.prototype.Ze=function(a){this.Ci.push(a);this.S.C&&this.S.X&&(this.S.X.seek=k,this.S.X=k);Y("/_seen",se(),"POST","media_id="+a.id+"&session_id="+this.id+"&async="+this.S.C)};
cg.prototype.end=function(a){this.zc=a;a=(this.zc.getTime()-this.Sg.getTime())/1E3;if(this.i.id==X.a().r.id&&this.S){dg.a();var b=this.S,c=this.Ci.length;X.a().jg.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",X.a().r.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",X.a().r.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",X.a().r.id,c]);_gaq.push(["_trackEvent","Users","Active",X.a().r.id,c]);_gaq.push(["_trackEvent","Users",b.id+
"-time",X.a().r.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",X.a().r.id,c]);b.C||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))}};function eg(a){M.call(this);this.id=a.id;this.name=a.name;this.C=a.my_channel;this.yd=a.current_media?Xf(Wf.a(),a.current_media):k;this.Cm=a.current_seek;this.oa=[];this.Qb={};this.X=a.current_program&&new Yf(a.current_program);this.Ac=[];this.queue=[];this.gb=0;this.Qd=a.online!=i?a.online:k;this.subscribe(fg,this.Bb,this);this.subscribe(gg,this.Gj,this);this.subscribe(hg,this.Dc,this);this.subscribe(ig,this.Xg,this)}u(eg,M);n=eg.prototype;
n.Bb=function(a){this.oa.push(a);this.Qb[a.id]=a;a.time.getTime()+1E3*a.media.duration>this.gb&&(this.gb=a.time.getTime()+1E3*a.media.duration-12E4,fd(cd.a(),this.gb,r(this.ag,this,this.gb)),fd(cd.a(),this.gb+6E4,r(this.ag,this,this.gb+6E4)))};n.ag=function(a){this.gb<=a&&!this.C&&Y("/_programming/"+this.id,r(function(a){a=jg(a.target);a.length||fd(cd.a(),s()+1E3,r(this.ag,this,s()+1E3));w(a,function(a){if(!this.Qb[a.id]){var b=this.Qb[a.id];b||(b=new Yf(a),this.Bb(b));this.c(fg,b)}},this)},this))};
n.Gj=function(a,b){b?(this.queue.push(a),Pf.a().c("flash","Added to queue",a.name,i,a.Ng,"#info:"+a.id),kg(dg.a(),a)):Va(this.queue,function(b){return b.id==a.id},this)};n.Dc=function(a){this.Ac.push(a)};n.Xg=function(a){var b=a.id in this.Qb?this.Qb[a.id]:i;b&&(b.time=od(a.time+"Z"))};
n.g=function(a){if(this.X&&this.X.async&&this.X.seek)return this.X;if(!this.oa.length)return k;var b=this.X;b||(b=this.oa[0],this.rb=0);if(a)return this.oa[this.rb+a];if(!this.C&&s()>=b.time.getTime()&&s()<b.time.getTime()+1E3*b.media.duration)return this.X=b;for(;s()>b.time.getTime()&&s()>=b.time.getTime()+1E3*b.media.duration;){this.X||(this.X=this.oa[0],this.rb=0);this.oa.length>=this.rb+1?(this.rb++,a=this.oa[this.rb],a=this.X=this.C?a&&a.seek?a:k:this.oa[this.rb]):a=k;if(this.C){if(a&&a.async&&
a.seek)return this.X=a;if(!a)if(this.queue.length){var a=this.queue.shift(),c=Zf(a);If().c(fg,c);Y("/_addprogram",se(),"POST","channel_id="+V.a().C.id+"&media_id="+a.id+"&now=true");a=c}else a=k}if(!a)break;b=a}return s()>=b.time.getTime()&&s()<b.time.getTime()+1E3*b.media.duration?this.X=b:k};var fg="add-program",gg="add-queue",hg="add-viewer",ig="update-program",Cf="online";function lg(){M.call(this)}u(lg,M);la(lg);function mg(){J.call(this);this.fa=[];this.Pc=[];this.xe={};this.u=new Ad(this);this.Dk=this.mi=l;this.Yg=j}u(mg,Zc);n=mg.prototype;n.Of=0;n.Dg=ba("Of");
n.init=function(){if(!this.mi){for(var a=0,b=this.fa.length;a<b;a++)for(var c=dc(this.fa[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,m=ua(h);this.xe[m]=g;this.Ch&&(P(this.u,g,"mouseover",this.nk),P(this.u,g,"mouseout",this.mk));this.Bh&&(P(this.u,h,"mouseover",this.lk),P(this.u,h,"mouseout",this.kk));this.Pc.push(g);P(this.u,h,["mousedown","touchstart"],this.Zh)}this.mi=j}};
n.m=function(){this.u.$();for(var a=0,b=this.fa.length;a<b;a++){var c=this.fa[a];c.Ah=i;c.ec=i}this.fa.length=0;this.Pc.length=0;this.xe=k;ng(this);mg.e.m.call(this)};function og(a,b){for(var c=0,d=a.fa.length;c<d;c++){var f=a.fa[c];f.Nc=Yd(f)}c=0;for(d=a.Pc.length;c<d;c++)f=a.Pc[c],f!=b&&(f.Nc=Yd(f))}
n.Zh=function(a){var b=ua(a.currentTarget);this.q=this.xe[b];this.B=this.se(this.q);this.ye&&y(this.B,this.ye);this.B.style.margin="0";this.B.style.position="absolute";this.B.style.visibility="hidden";Vb(this.q).body.appendChild(this.B);b=Sd(this.q);Ud(this.B,b);this.o=new ge(this.B);this.o.Dg(this.Of);K(this.o,"start",this.Uh,l,this);K(this.o,"end",this.Th,l,this);K(this.o,"earlycancel",this.re,l,this);this.o.wc(a)};
n.Uh=function(a){if(this.dispatchEvent(new pg("beforedragstart",this,a.qf,this.q,k,k))){this.Re=this.q.parentNode;this.xh=this.kg=ec(this.q);this.Cf=this.Re;this.Bf?y.apply(k,Wa(this.q,this.Bf)):this.q.style.visibility="hidden";var b=Q(this.B);this.B.hk=b.width/2;this.B.gk=b.height/2;this.B.style.visibility="";this.Yg&&(this.q.style.display="none");og(this,this.q);this.q.style.display="";K(this.o,"drag",this.ok,l,this);this.dispatchEvent(new pg("dragstart",this,a.qf,this.q,this.B,this.o))}else a.preventDefault(),
this.re()};
n.ok=function(a){var b=Sd(this.B),b=new Ib(b.x+this.B.hk,b.y+this.B.gk),c;a:{c=k;if("none"!=this.q.style.display){c=this.q.parentNode;var d=Yd(c);if(qg(b,d))break a}for(var d=0,f=this.fa.length;d<f;d++){var g=this.fa[d];if(g!=c&&qg(b,g.Nc)){c=g;break a}}c=k}var h;if(c){c==k&&e(Error("getHoverNextItem_ called with null hoverList."));var m,q,d=l,f=i;switch(c.Ah){case 0:h=b.y;m=rg;q=sg;break;case 4:d=j;case 2:h=b.x;m=tg;q=sg;break;case 5:d=j;case 3:h=b.x,m=ug,q=vg}for(var g=k,t,v=dc(c),A=0,T=v.length;A<
T;A++){var U=v[A];if(U!=this.q){var pa=m(U.Nc);if(d){var Za=wg(U,b);ia(f)||(f=Za);if(q(h,pa)&&(t==i||Za<f||Za==f&&(q(pa,t)||pa==t)))g=U,t=pa;Za<f&&(f=Za)}else if(q(h,pa)&&(t==i||q(pa,t)))g=U,t=pa}}h=g!==k&&wg(g,b)>f?k:g}else h=k;if(!this.dispatchEvent(new pg("beforedragmove",this,a,this.q,this.B,this.o,b,c,h)))return l;if(c)this.Yg?(this.q.parentNode!=c||ec(this.q)!=h)&&c.insertBefore(this.q,h):h&&(this.xh=h),this.q.style.display="",c.ec&&y(c,c.ec);else{this.Dk||(this.q.style.display="none");m=0;
for(q=this.fa.length;m<q;m++)t=this.fa[m],t.ec&&z(t,t.ec)}c!=this.Cf&&(this.Cf=c,og(this,this.q));this.dispatchEvent(new pg("dragmove",this,a,this.q,this.B,this.o,b,c,h));return l};n.re=function(){ng(this);this.o=this.B=this.kg=this.Re=this.Cf=this.q=k;for(var a=0,b=this.fa.length;a<b;a++)this.fa[a].Nc=k;a=0;for(b=this.Pc.length;a<b;a++)this.Pc[a].Nc=k};
n.Th=function(a){if(!this.dispatchEvent(new pg("beforedragend",this,a,this.q,this.B,this.o)))return l;this.Yg||this.Re.insertBefore(this.q,this.xh);ng(this);this.dispatchEvent(new pg("dragend",this,a,this.q,this.B,this.o));this.re();return j};function ng(a){Bc(a.o);a.B&&cc(a.B);a.q&&"none"==a.q.style.display&&(a.Re.insertBefore(a.q,a.kg),a.q.style.display="");a.Bf&&a.q?z.apply(k,Wa(a.q,a.Bf)):a.q&&(a.q.style.visibility="visible");for(var b=0,c=a.fa.length;b<c;b++){var d=a.fa[b];d.ec&&z(d,d.ec)}}
n.nk=function(a){y.apply(k,Wa(a.currentTarget,this.Ch))};n.mk=function(a){z.apply(k,Wa(a.currentTarget,this.Ch))};n.lk=function(a){y.apply(k,Wa(a.currentTarget,this.Bh))};n.kk=function(a){z.apply(k,Wa(a.currentTarget,this.Bh))};function qg(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function wg(a,b){var c=a.Nc;return Math.abs(b.y-(c.top+(c.height-1)/2))}function rg(a){return a.top+a.height-1}function tg(a){return a.left+a.width-1}function ug(a){return a.left||0}
function sg(a,b){return a<b}function vg(a,b){return a>b}n.se=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return G("table",k,G("tbody",k,b));case "td":case "th":return G("table",k,G("tbody",k,G("tr",k,b)));default:return b}};function pg(a,b,c,d,f,g,h,m,q){Fc.call(this,a);this.Gm=b;this.event=c;this.Ka=d;this.Uj=f;this.Tj=g;this.Dh=h;this.Pm=m;this.Hb=q}u(pg,Fc);function Bf(a,b,c,d,f){S.call(this);this.p=a;this.ua=yf();this.hj=this.ne=l;this.md=b;this.Sb=c;this.R=f;this.$m=d;this.Xb={};this.ed={};this.Eb=this.ua?new mg:k;this.uf=6;this.Qd=j}u(Bf,S);n=Bf.prototype;n.L=function(){this.d=H(Lf,{name:this.p.name,Em:this.p.X,cf:this.md})};
n.w=function(){Bf.e.w.call(this);this.Vd=E("programs",this.b());this.zb=E("viewers",this.b());this.Hi=E("name",this.b());this.Jf=E("graph",this.b());this.Va=E("suggest",this.b());if(this.p.C)O(this.Va,l);else{this.va=new xg("Paste YouTube link");this.va.h(E("program-input",this.b()));var a=new Ze(this.va.b()),b=new yg(this.va.b()),c=new zg(r(this.ig,this),1E3);P(P(P(this.n(),b,Ag,r(this.ig,this)),a,"key",r(function(){c&&c.Ae()},this)),this.va,"focus",r(this.ig,this))}this.ca=(Q(this.Vd).width-200)/
this.md;if(this.hj){var b=0,d=40;this.$f=0;this.Hh=[new Ib(b,d)];this.Nm=Math.floor((s()-this.R.getTime())/1E3);for(a=0;a<this.md/40;a++)this.Hh.push(new Ib(b+=40,d+=[-30,-5,15,10,25][Math.floor(5*Math.random())])),this.$f=Math.max(this.$f,d);this.ek=Raphael(this.Jf,"100%",60).path("M0,0").attr({stroke:"none",opacity:0.8,fill:"#5d5d5d"})}Hd(this.Hi,"background",Raphael.getColor());b=this.p.oa;for(a=0;a<b.length;a++)b[a].media.live?(window.console.log("LIVE"),this.Bb(b[a])):b[a].time.getTime()<this.Sb.getTime()&&
b[a].time.getTime()+1E3*b[a].media.duration>this.Sb.getTime()-1E3*this.md?this.Bb(b[a]):b[a].time.getTime()>this.Sb.getTime()&&this.Bb(b[a]);if(this.ua){a=this.Eb;b=this.Vd;b.Ah=2;b.ec=i;a.fa.push(b);this.Eb.ye="drag";var f=this.b();this.Eb.Zh=function(a){var b=ua(a.currentTarget);this.q=this.xe[b];this.B=this.se(this.q);this.ye&&y(this.B,this.ye);this.B.style.margin="0";this.B.style.position="absolute";this.B.style.visibility="hidden";f.appendChild(this.B);b=Sd(this.q);Ud(this.B,b);this.o=new ge(this.B);
this.o.Dg(this.Of);K(this.o,"start",this.Uh,l,this);K(this.o,"end",this.Th,l,this);K(this.o,"earlycancel",this.re,l,this);this.o.wc(a)};this.Eb.init();var g={},h,m,q,t,v,A=j;P(P(P(this.n(),this.Eb,"beforedragstart",r(function(a){(!this.ne||!a.event.shiftKey)&&a.preventDefault()},this)),this.Eb,"dragmove",function(a){q=q||a.Dh.x;t=t||Od(a.Ka).x;v=v||(a.Ka.previousElementSibling!=i?a.Ka.previousElementSibling:fc(a.Ka.previousSibling,l));A=A&&!!v;var b=v?Q(v).width:i,c=v?Od(v).x:i,d=a.Dh.x-q;10>Math.abs(d)||
(a.Hb&&!g[a.Hb.id]&&0<d?(b=Q(a.Ka).width,c=Od(a.Hb).x,h=c-b+Q(a.Hb).width,d=this.p.Qb[a.Hb.id],m=d.time.getTime()/1E3+d.media.duration-this.p.Qb[a.Ka.id].media.duration,Md(a.Ka,h),Md(a.Hb,c-b-1),g[a.Hb.id]=j,b=a.Hb,b.parentNode&&b.parentNode.insertBefore(a.Ka,b.nextSibling)):A&&(0>d&&t+d<c+b)&&(b=Q(a.Ka).width,h=c=Od(v).x,m=this.p.Qb[v.id].time.getTime()/1E3,Md(a.Ka,h),Md(v,c+b+1),b=v.previousElementSibling!=i?v.previousElementSibling:fc(v.previousSibling,l),v.parentNode&&v.parentNode.insertBefore(a.Ka,
v),v=b,A=!!b))}),this.Eb,"dragend",function(a){m&&(Y("/admin/_rescheduleprogram",i,"POST","program="+a.Uj.id+"&time="+m),this.Eb.init(),m=i);g={};h=v=t=q=i;A=j})}for(var a=this.p.Ac,b=this.Dc,d=p(a)?a.split(""):a,T=a.length-1;0<=T;--T)T in d&&b.call(this,d[T],T,a);P(P(P(P(this.n(),this.Va,"click",r(this.il,this)),E("close",this.Va),"click",r(function(a){a.preventDefault();a.stopPropagation();Bg(this)},this)),E("name",this.b()),"click",r(function(){this.p.id!=V.a().l.id&&this.p.g()&&V.a().c(Df,this.p)},
this)),cd.a().wd,bd,r(this.update,this));this.p.subscribe(fg,this.Bb,this);this.p.subscribe(hg,this.Dc,this);this.p.subscribe("remove-viewer",this.yl,this);this.p.subscribe(ig,this.Xg,this);V.a().subscribe(Gf,this.xj,this);V.a().subscribe(Df,function(){this.uf=0;this.xj()},this);N.a().subscribe("toggle-admin",ba("ne"),this);this.update()};
n.xj=function(){if(this.s){z(this.ed[this.s],"playing");var a=E("title",this.ed[this.s]);a&&(a.style.left="")}this.s=k;if(a=V.a().l.g()){var b=this.ed[a.id];b&&(this.s=a.id,y(b,"playing"))}};
n.Bb=function(a){var b=G("div",{"class":"program",id:a.id}),c=a.media.duration*this.ca,d=this.ua&&a.time.getTime()+1E3*a.media.duration>s();uc(b,Mf,{ug:a,media:a.media,repeat:600<c,mf:d});this.ed[a.id]=b;var f=V.a().l.g();f&&a.id==f.id&&(y(b,"playing"),this.s=a.id);var g=E("thumb",b);L(function(){a.media.Mg.height<Q(b).height+50?(y(g,"fix-height"),y(g,"pan-left")):y(g,"pan-top");m&&Wd(g,200);C(b,"stretched",360<a.media.Mg.height)});f=(a.time.getTime()-this.R.getTime())/1E3*this.ca;if(a.media.live)var h=
(s()-a.time.getTime())/1E3*this.ca-100,c=c-h,f=f+h;Wd(b,Math.ceil(c-1));Md(b,Math.floor(f));Md(this.Va,f+c);this.Vd.appendChild(b);var m=120>c;C(b,"clipped",m);P(this.n(),b,"click",function(){Z.a().c(Cg,a.media)});var q=B(b,"clipped")?200:Q(b).width,c=E("title",b);Q(c);P(P(this.n(),b,"mouseover",function(){N.a().mc&&(this.ne||Hd(g,"background-position-y",a.media.kd+10*Math.max(a.media.Mg.width/q,1)+"%"))}),b,"mouseout",function(){N.a().mc&&(this.ne||Hd(g,"background-position-y",a.media.kd+"%"))});
d&&(d=new ge(E("repos",b)),d.zd=function(a,b){var c=b-24;-50<=c&&50>=c&&Hd(g,"background-position-y",50-c+"%")},P(P(this.n(),d,"end",function(){var b=(g.style[Ka("background-position")]||"").split(" ")[1],b=b.substring(0,b.length-1);a.media.kd=b;Y("/admin/_posthumb",se(),"POST","media="+a.media.id+"&pos="+b)}),E("remove",b),"click",r(this.fl,this,a,b)))};n.Xg=function(a){var b=this.ed[a.id],a=(od(a.time+"Z").getTime()-this.R.getTime())/1E3*this.ca;Md(b,a)};
n.fl=function(a,b){cc(b);Y("/admin/_removeprogram",i,"POST","program="+a.id+"&media_id="+a.media.id+"&channel_id="+this.p.id);Y("admin/_media/collection",r(function(){alert("Disallowed on all channels.")},this),"POST","&media="+a.media.id+"&approve=false")};
n.Dc=function(a){if(X.a().r.id!=a.i.id){var b=this.Xb[a.i.id];b||(b=G("div","viewer"),this.zb.appendChild(b),this.Xb[a.i.id]=b);if(!a.zc||a.zc.getTime()>this.R.getTime()){var c=H(Nf,{i:a.i,Fb:a.i.Fb().toUpperCase(),Mj:a.S.id});b.appendChild(c);var b=E("watch-with",c),d=Math.max(a.Sg.getTime(),this.R.getTime()),f=(d-this.R.getTime())/1E3*this.ca+200,d=(s()-d)/1E3*this.ca;Wd(c,d);Md(c,f);Hd(c,"background",a.i.color);Hd(b,"margin-left",-Q(b).width/2+14+"px");P(this.n(),c,"click",function(b){pc(b.target,
k,"watch-with")||Z.a().c(Dg,a.i)})}}};n.yl=function(a){this.Xb[a.id]&&(cc(this.Xb[a.id]),Pb(this.Xb,a.id),V.a().c(Ff))};n.il=function(){if(!B(this.Va,"show")){Zd(E("select-program",this.Va),1);y(this.Va,"show");var a=this.va,b=Eg(a);a.Qf=j;a.b().focus();!b&&!Fg&&(a.b().value=a.Pa);a.b().select();Fg||(a.u&&Cd(a.u,a.b(),"click",a.Kf),L(a.ak,10,a))}};function Bg(a){z(a.Va,"show");a.va.Ha("");E("page2",a.b()).innerHTML=""}
n.ig=function(){var a=E("select-content",this.b()),b=E("page2",this.b());if(!dc(b).length)try{var c=Gg(this.va.H());Y(Ba("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.ah),r(function(d){d=Hg(Ig(d.target)).entry;uc(b,Of,{title:d.title.$t,Lg:d.media$group.media$thumbnail[0].url});d=new wf("YES");d.h(E("button",b));(new Ce(a,[0,0],[160,0],300,Jg)).play();P(this.n(),d,"action",r(this.hl,this,c))},this))}catch(d){}};
n.hl=function(a){Y("/_addprogram",r(function(a){a=jg(a.target);a.id&&(a=new Yf(a),this.p.c(fg,a))},this),"POST","channel_id="+this.p.id+"&url="+a.od);Zd(E("button",this.Va),0);O(E("added",this.Va),j);Zd(E("select-program",this.Va),0);L(r(function(){Bg(this)},this),3E3)};
n.update=function(){!this.Qd&&this.p.oa.length&&this.p.c(Cf,j);this.Qd=!!this.p.oa.length;C(this.b(),"offline",!this.Qd);if(this.p.oa.length){if(this.hj){var a="",b=Q(this.Vd).width,c,d,f,g=(s()-this.R)/1E3,h=ab(this.Hh,0,Math.floor(g/40));w(h,function(m,q){c=m.x/this.md*b;d=60-60*(m.y/this.$f);q==h.length-1&&(c=g/this.md*b);c+=6;q?(a+="L"+[c-30,f],a+="C"+[c-20,f,c-10,d,c,d]):a+="M"+[c,d]+"R";f=d},this);this.ek.attr({path:a+"L"+c+",60 10,60z"})}if(this.s&&0<this.uf){var m=this.ed[this.s],q=Od(m).x+
Od(D("guide")).x,m=E("title",m);Md(m,200>q?-q+210:5)}else this.uf++;Lb(this.p.Ac,function(a){if(this.p.g()&&!a.zc&&this.Xb[a.i.id]){var b=Math.max(a.Sg.getTime(),this.R.getTime());Q(this.Vd);var c=Math.floor((s()-b)/1E3*this.ca),d=W.a().g();a.i.id==X.a().r.id&&d&&(c=Math.floor((d.time.getTime()+1E3*W.a().De()-b)/1E3*this.ca));this.Xb[a.i.id].lastChild&&Wd(this.Xb[a.i.id].lastChild,c)}},this);q=Q(this.Jf).height;m=Q(this.zb).height;q-=m;0>q&&Hd(this.Jf,"margin-top",-q+"px");Vd(this.Hi,Q(this.b()).height-
1)}};function X(){M.call(this);this.yj={};this.jg=[]}u(X,M);la(X);X.prototype.add=function(a){this.yj[a.id]=a};X.prototype.get=function(a){return this.yj[a]};function Kg(a,b){var c=a.get(b.id);c||(c=new $f(b),a.add(c));return c};function Lg(a){if("function"==typeof a.Ee)return a.Ee();if(p(a))return a.split("");if(qa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Mb(a)}function Mg(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(qa(a)||p(a))w(a,b,c);else{var d;if("function"==typeof a.If)d=a.If();else if("function"!=typeof a.Ee)if(qa(a)||p(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Nb(a);else d=i;for(var f=Lg(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function Ng(a,b){this.Mb={};this.Q=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ng?(c=a.If(),d=a.Ee()):(c=Nb(a),d=Mb(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}n=Ng.prototype;n.V=0;n.zj=0;n.Ee=function(){Og(this);for(var a=[],b=0;b<this.Q.length;b++)a.push(this.Mb[this.Q[b]]);return a};n.If=function(){Og(this);return this.Q.concat()};
n.clear=function(){this.Mb={};this.zj=this.V=this.Q.length=0};function Og(a){if(a.V!=a.Q.length){for(var b=0,c=0;b<a.Q.length;){var d=a.Q[b];Object.prototype.hasOwnProperty.call(a.Mb,d)&&(a.Q[c++]=d);b++}a.Q.length=c}if(a.V!=a.Q.length){for(var f={},c=b=0;b<a.Q.length;)d=a.Q[b],Object.prototype.hasOwnProperty.call(f,d)||(a.Q[c++]=d,f[d]=1),b++;a.Q.length=c}}n.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.Mb,a)?this.Mb[a]:b};
n.set=function(a,b){Object.prototype.hasOwnProperty.call(this.Mb,a)||(this.V++,this.Q.push(a),this.zj++);this.Mb[a]=b};n.clone=function(){return new Ng(this)};function Pg(a){return Qg(a||arguments.callee.caller,[])}
function Qg(a,b){var c=[];if(Ta(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Rg(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Rg(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Qg(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Rg(a){if(Sg[a])return Sg[a];a=String(a);if(!Sg[a]){var b=/function ([^\(]+)/.exec(a);Sg[a]=b?b[1]:"[Anonymous]"}return Sg[a]}var Sg={};function Tg(a,b,c,d,f){this.reset(a,b,c,d,f)}Tg.prototype.El=0;Tg.prototype.Gh=k;Tg.prototype.Fh=k;var Ug=0;Tg.prototype.reset=function(a,b,c,d,f){this.El="number"==typeof f?f:Ug++;this.dn=d||s();this.Nd=a;this.Mk=b;this.Sm=c;delete this.Gh;delete this.Fh};Tg.prototype.ej=ba("Nd");function Vg(a){this.Ok=a}Vg.prototype.K=k;Vg.prototype.Nd=k;Vg.prototype.da=k;Vg.prototype.$h=k;function Wg(a,b){this.name=a;this.value=b}Wg.prototype.toString=ca("name");var Xg=new Wg("SEVERE",1E3),Yg=new Wg("WARNING",900),Zg=new Wg("INFO",800),$g=new Wg("CONFIG",700),ah=new Wg("FINE",500);n=Vg.prototype;n.getParent=ca("K");n.Ph=function(){this.da||(this.da={});return this.da};n.ej=ba("Nd");function bh(a){return a.Nd?a.Nd:a.K?bh(a.K):k}
n.log=function(a,b,c){if(a.value>=bh(this).value){a=this.dk(a,b,c);b="log:"+a.Mk;fa.console&&(fa.console.timeStamp?fa.console.timeStamp(b):fa.console.markTimeline&&fa.console.markTimeline(b));fa.msWriteProfilerMark&&fa.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.$h)for(var f=0,g=i;g=c.$h[f];f++)g(d);b=b.getParent()}}};
n.dk=function(a,b,c){var d=new Tg(a,String(b),this.Ok);if(c){d.Gh=c;var f;var g=arguments.callee.caller;try{var h;var m=ja("window.location.href");if(p(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var q,t,v=l;try{q=c.lineNumber||c.Rm||"Not available"}catch(A){q="Not available",v=j}try{t=c.fileName||c.filename||c.sourceURL||m}catch(T){t="Not available",v=j}h=v||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:q,
fileName:t,stack:c.stack||"Not available"}:c}f="Message: "+Da(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Da(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Da(Pg(g)+"-> ")}catch(U){f="Exception trying to expose exception! You win, we lose. "+U}d.Fh=f}return d};function ch(a,b){a.log(Xg,b,i)}n.info=function(a,b){this.log(Zg,a,b)};function dh(a,b){a.log(ah,b,i)}var eh={},fh=k;
function gh(a){fh||(fh=new Vg(""),eh[""]=fh,fh.ej($g));var b;if(!(b=eh[a])){b=new Vg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=gh(a.substr(0,c));c.Ph()[d]=b;b.K=c;eh[a]=b}return b};function Hg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function hh(){}hh.prototype.pe=k;var ih;function jh(){}u(jh,hh);function kh(a){return(a=lh(a))?new ActiveXObject(a):new XMLHttpRequest}function mh(a){var b={};lh(a)&&(b[0]=j,b[1]=j);return b}
function lh(a){if(!a.fi&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.fi=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.fi}ih=new jh;var nh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function oh(a){J.call(this);this.headers=new Ng;this.rd=a||k}u(oh,Zc);oh.prototype.F=gh("goog.net.XhrIo");var ph=/^https?$/i,qh=[];function Y(a,b,c,d){var f=new oh;qh.push(f);b&&K(f,"complete",b);K(f,"ready",za(rh,f));f.send(a,c,d,i)}function rh(a){a.$();Ua(qh,a)}n=oh.prototype;n.Ab=l;n.A=k;n.jf=k;n.Md="";n.vi="";n.Kd=0;n.Ld="";n.Ff=l;n.Ie=l;n.Rf=l;n.nc=l;n.df=0;n.xc=k;n.We="";n.$l=l;
n.send=function(a,b,c,d){this.A&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.Md=a;this.Ld="";this.Kd=0;this.vi=b;this.Ff=l;this.Ab=j;this.A=this.rd?kh(this.rd):kh(ih);this.jf=this.rd?this.rd.pe||(this.rd.pe=mh(this.rd)):ih.pe||(ih.pe=mh(ih));this.A.onreadystatechange=r(this.Oi,this);try{dh(this.F,sh(this,"Opening Xhr")),this.Rf=j,this.A.open(b,a,j),this.Rf=l}catch(f){dh(this.F,sh(this,"Error opening Xhr: "+f.message));th(this,f);return}var a=c||
"",g=this.headers.clone();d&&Mg(d,function(a,b){g.set(b,a)});d=fa.FormData&&a instanceof fa.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.Mb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Mg(g,function(a,b){this.A.setRequestHeader(b,a)},this);this.We&&(this.A.responseType=this.We);"withCredentials"in this.A&&(this.A.withCredentials=this.$l);try{this.xc&&(ad.clearTimeout(this.xc),this.xc=k),0<this.df&&(dh(this.F,sh(this,"Will abort after "+
this.df+"ms if incomplete")),this.xc=ad.setTimeout(r(this.Tl,this),this.df)),dh(this.F,sh(this,"Sending request")),this.Ie=j,this.A.send(a),this.Ie=l}catch(h){dh(this.F,sh(this,"Send error: "+h.message)),th(this,h)}};n.Tl=function(){"undefined"!=typeof ea&&this.A&&(this.Ld="Timed out after "+this.df+"ms, aborting",this.Kd=8,dh(this.F,sh(this,this.Ld)),this.dispatchEvent("timeout"),this.abort(8))};function th(a,b){a.Ab=l;a.A&&(a.nc=j,a.A.abort(),a.nc=l);a.Ld=b;a.Kd=5;uh(a);vh(a)}
function uh(a){a.Ff||(a.Ff=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}n.abort=function(a){this.A&&this.Ab&&(dh(this.F,sh(this,"Aborting")),this.Ab=l,this.nc=j,this.A.abort(),this.nc=l,this.Kd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vh(this))};n.m=function(){this.A&&(this.Ab&&(this.Ab=l,this.nc=j,this.A.abort(),this.nc=l),vh(this,j));oh.e.m.call(this)};n.Oi=function(){!this.Rf&&!this.Ie&&!this.nc?this.el():wh(this)};n.el=function(){wh(this)};
function wh(a){if(a.Ab&&"undefined"!=typeof ea)if(a.jf[1]&&4==xh(a)&&2==yh(a))dh(a.F,sh(a,"Local request error detected and ignored"));else if(a.Ie&&4==xh(a))ad.setTimeout(r(a.Oi,a),0);else if(a.dispatchEvent("readystatechange"),4==xh(a)){dh(a.F,sh(a,"Request complete"));a.Ab=l;try{var b=yh(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var f;if(f=0===b){var g=String(a.Md).match(nh)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);f=!ph.test(g?g.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Kd=6;var m;try{m=2<xh(a)?a.A.statusText:""}catch(q){dh(a.F,"Can not get status: "+q.message),m=""}a.Ld=m+" ["+yh(a)+"]";uh(a)}}finally{vh(a)}}}
function vh(a,b){if(a.A){var c=a.A,d=a.jf[0]?ka:k;a.A=k;a.jf=k;a.xc&&(ad.clearTimeout(a.xc),a.xc=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){ch(a.F,"Problem encountered resetting onreadystatechange: "+f.message)}}}n.Ib=function(){return!!this.A};function xh(a){return a.A?a.A.readyState:0}function yh(a){try{return 2<xh(a)?a.A.status:-1}catch(b){return a.F.log(Yg,"Can not get status: "+b.message,i),-1}}function jg(a){if(a.A)return Hg(a.A.responseText)}
function Ig(a){try{if(!a.A)return k;if("response"in a.A)return a.A.response;switch(a.We){case "":case "text":return a.A.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.A)return a.A.mozResponseArrayBuffer}ch(a.F,"Response type "+a.We+" is not supported on this browser");return k}catch(b){return dh(a.F,"Can not get response: "+b.message),k}}function sh(a,b){return b+" ["+a.vi+" "+a.Md+" "+yh(a)+"]"};function V(){M.call(this);this.Gc=[];this.Fc={};this.subscribe(Df,this.ac,this);this.subscribe(Gf,this.Wg,this)}u(V,M);la(V);V.prototype.get=function(a){return this.Fc[a]};function Kf(a,b){if(a.l&&a.l.g()&&(b&&!a.l.C||!b))return a.l;if(a.Jd&&a.Jd.g()&&(b&&!a.Jd.C||!b))return a.Jd;for(var c=k,d=k,f=0;!d&&f<a.Gc.length;)d=(c=!a.Gc[f].C?a.Gc[f]:k)&&c.g(),f++;return c}V.prototype.Yf=function(a){Lb(a,r(function(a){var c=new eg(a);this.Gc.push(c);this.Fc[a.id]=c;c.C&&(this.C=c)},this))};
V.prototype.ac=function(a,b){if(a&&!this.l||a&&this.l&&this.l.id!=a.id){this.Jd=this.l;this.l=a;this.Wg(a.g());var c=a.g(),c=c&&!Ob(c.media.vb);Y("/_changechannel",se(),"POST","channel="+a.id+"&friends="+c+(b?"&forced=true":""));dg.a().ac(a,this.Jd)}};V.prototype.Wg=function(a){this.l&&(this.s&&w(this.l.Ac,function(a){Pb(this.s.media.vb,a.i.id)},this),a&&(this.s=a,w(this.l.Ac,function(b){b.zc||(a.media.vb[b.i.id]=b.i)})))};
function If(){var a=V.a();if(!a.C){var b=X.a().r;a.C=new eg({id:b.id,name:b.name.split(" ")[0]+"'s Channel"})}return a.C}var Df="change-channel",Gf="next-program",Ff="resize";function zh(){S.call(this);this.lc=new wf("Guide");of(this.lc,16,j);this.wb=new wf("Sidebar");of(this.wb,16,j);this.yg=new wf("Restart");this.Ca=new wf("Play");of(this.Ca,16,j);this.qd=new wf("Volume");of(this.qd,16,j);this.Ec=new wf("Admin");of(this.Ec,16,j);this.Je=new wf("Info")}u(zh,S);n=zh.prototype;
n.w=function(){zh.e.w.call(this);this.Zi=E("right",this.b());this.Ra=E("progress",this.b());this.dj=E("seek",this.b());this.sb=E("elapsed",this.b());this.Vl=E("title",this.b());this.Eh=E("duration",this.b());this.Dm=E("current-time",this.b());Me(this,this.lc);this.lc.h(D("guide-toggle"));nf(this.lc,B(this.b(),"guide-toggled"));Me(this,this.wb);this.wb.h(D("sidebar-toggle"));nf(this.wb,B(this.b(),"sidebar-toggled"));Me(this,this.yg);this.yg.h(E("restart",this.b()));Me(this,this.Ca);this.Ca.h(E("play",
this.b()));Me(this,this.qd);this.qd.h(E("volume",this.b()));Me(this,this.Je);this.Je.h(D("info-toggle"));O(this.Je.b(),X.a().r.kf!=bg);Me(this,this.Ec);this.Ec.h(D("admin-toggle"));O(this.Ec.b(),X.a().r.kf==bg);var a=new zg(this.Rl,1E3,this);this.resize();this.o=new ge(this.dj);this.o.ib(l);var b=this.Ra,c=this.sb,d=this.Eh;this.o.zd=function(a){if(0<a&&a<Q(b).width){this.target.style.left=a+"px";c.style.width=a+"px";var a=a/Q(b).width,g=W.a().g().media.duration;ic(d,Ah(Math.round(a*g).toString())+
" / "+Ah(g.toString()))}};P(P(P(P(P(P(P(P(P(P(P(P(this.n(),window,"resize",r(this.resize,this)),this.lc,"action",r(function(){a.Ae()},this)),this.wb,"action",r(function(a){a.stopPropagation();N.a().c(gd,We(this.wb))},this)),this.yg,"action",r(function(a){a.stopPropagation();W.a().g()&&(a=Zf(W.a().g().media),W.a().c(Hf,a),this.resize())},this)),this.Ca,"action",r(function(a){a.stopPropagation();N.a().c(id,!We(this.Ca));this.resize()},this)),this.Je,"action",r(function(a){a.stopPropagation();N.a().c("toggle-info")},
this)),this.qd,"action",r(function(a){a.stopPropagation();N.a().c("mute",We(this.qd))},this)),this.Ec,"action",r(function(a){a.stopPropagation();N.a().c("toggle-admin",We(this.Ec));this.resize()},this)),cd.a().wd,bd,r(function(){if(W.a().g()){var a=W.a().getCurrentTime()/W.a().g().media.duration;3>W.a().g().media.duration-W.a().getCurrentTime()&&W.a().c(Bh);V.a().l.C&&!B(this.Ra,"drag")&&(ic(this.Eh,(W.a().getCurrentTime()?Ah(W.a().getCurrentTime().toString())+" / ":"")+Ah(W.a().g().media.duration.toString())),
Wd(this.sb,this.vg?a*this.vg:0))}},this)),this.Ra,"click",r(function(a){!B(this.Ra,"drag")&&W.a().g()&&(a=a.offsetX/Q(this.Ra).width*W.a().g().media.duration,z(this.sb,"animate"),W.a().c(Ch,a),L(r(function(){y(this.sb,"animate")},this),1E3))},this)),this.o,"beforedrag",r(function(){y(this.Ra,"drag")},this)),this.o,"end",r(function(a){this.dj.style.left="";a=a.left/Q(this.Ra).width*W.a().g().media.duration;z(this.sb,"animate");W.a().c(Ch,a);L(r(function(){z(this.Ra,"drag");y(this.sb,"animate")},this),
1E3)},this));W.a().subscribe(Hf,function(a){Dh(this,a,j)},this);W.a().subscribe(Eh,function(){this.o.ib(j);this.resize()},this);V.a().subscribe(Df,function(){z(this.b(),"window");L(r(this.resize,this),1E3)},this);V.a().subscribe(Gf,function(){this.resize()},this);N.a().subscribe("mute",this.Nk,this);N.a().subscribe(hd,this.ff,this);N.a().subscribe(gd,function(a){nf(this.wb,a);C(this.b(),"sidebar-toggled",a);this.resize()},this);N.a().subscribe(id,function(a){nf(this.Ca,!a)},this);W.a().subscribe(Eh,
function(){V.a().l.C&&W.a().g()&&this.resize()},this)};function Dh(a,b,c){ic(a.Vl,b.media.name.toUpperCase());c&&(z(a.sb,"animate"),Wd(a.sb,0),L(r(function(){y(this.sb,"animate")},a),1E3))}n.Nk=function(a){nf(this.qd,a)};n.Rl=function(){var a=We(this.lc);N.a().c(hd,a)};n.ff=function(a){nf(this.lc,a);a&&(z(this.b(),"window"),z(this.b(),"collapsed"),L(r(this.resize,this)));L(r(function(){C(this.b(),"guide-toggled",a);a||(V.a().l&&V.a().l.g(),y(this.b(),"collapsed"),this.resize())},this),a?0:600)};
n.resize=function(){if(V.a().l.C)W.a().g()&&(O(this.Ra,j),Dh(this,W.a().g()),this.vg=F().width-(We(this.wb)?580:260)-50,Wd(this.Ra,this.vg));else{O(this.Ra,l);var a=D("guide"),b=E("current",a),b=Wb("program",b),a=(b=b[b.length-1])?Od(a).x+Od(b).x+Q(b).width+210:9999999,a=Math.min(F().width-200,Math.max(100,F().width-a)),c=Math.max(100,We(this.wb)&&250<a?a-247:a+5),d=B(this.b(),"collapsed")&&!!b&&a<F().width-203;d&&this.Bl!=c?(this.Bl=c,Wd(this.Zi,c)):this.Zi.style.width="";L(r(function(){C(this.b(),
"window",d&&B(this.b(),"collapsed"))},this),400)}};function Fh(a){return(a.link?'<a href="'+I(a.link)+'">':"")+'<div class="note'+(a.Pf?" pic":"")+'">'+(a.Pf?'<div class="picture"><img class="image" src='+I(a.Pf)+' style="display: none"/></div>':"")+'<div class="action">'+(a.i?I(a.i.name)+" ":"")+I(a.action)+'</div><div class="content">'+I(a.content)+'</div><div class="close"></div></div>'+(a.link?"</a>":"")};function Gh(){S.call(this)}u(Gh,S);Gh.prototype.L=function(){this.d=G("div",{id:"notify"})};Gh.prototype.J=function(a){Gh.e.J.call(this,a);Pf.a().subscribe("flash",function(a,c,d,f,g){this.bf(j,a,c,d,f,g)},this);Pf.a().subscribe("show",function(a,c,d,f,g){this.bf(l,a,c,d,f,g)},this)};
Gh.prototype.bf=function(a,b,c,d,f,g){var h=H(Fh,{action:b,content:c,i:d,Pf:f,link:g}),m=E("image",h);E("close",h);P(P(P(this.n(),E("close",h),"click",function(a){a.preventDefault();a.stopPropagation();cc(h)}),h,"click",function(){cc(h)}),m,"load",function(){O(m,j);L(function(){m.style.marginLeft=-1*m.clientWidth/2+"px";m.style.marginTop=-1*m.clientHeight/2+"px"})});this.b().appendChild(h);var q=E("note",h);L(function(){y(q,"show");a?L(function(){z(q,"show");y(q,"fade-out");L(function(){cc(h)},5100)},
3E3):y(q,"dim")})};function W(){M.call(this);this.subscribe(Hf,function(a){If().c(fg,a);Y("/_addprogram",se(),"POST","channel_id="+V.a().C.id+"&media_id="+a.media.id+"&async=true");kg(dg.a(),a.media)},this);this.subscribe(Eh,function(a){Y("/_started",se(),"POST","media_id="+a.id)},this)}u(W,M);la(W);W.prototype.Fg=ba("v");W.prototype.g=ca("s");W.prototype.getCurrentTime=function(){return this.v&&this.v.getCurrentTime?this.v.getCurrentTime():0};
W.prototype.De=function(){return this.v&&this.v.getCurrentTime?this.v.getCurrentTime():0};var Bh="before-end",Hf="play-async",Eh="playing",Ch="seek";function Hh(){pe.call(this);this.queue=[]}u(Hh,pe);Hh.prototype.add=function(a){Ta(this.queue,a)||(this.queue.push(a),K(a,"finish",this.Rk,l,this))};Hh.prototype.m=function(){w(this.queue,function(a){a.$()});this.queue.length=0;Hh.e.m.call(this)};function Ih(){Hh.call(this);this.La=0}u(Ih,Hh);
Ih.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.k==qe)this.La<this.queue.length&&this.queue[this.La].k!=qe&&this.queue[this.La].stop(l),this.La=0,this.Ob();else if(1==this.k)return l;this.ra("play");-1==this.k&&this.ra("resume");this.startTime=s();this.Cd=k;this.k=1;this.queue[this.La].play(a);return j};
Ih.prototype.stop=function(a){this.k=qe;this.Cd=s();if(a)for(a=this.La;a<this.queue.length;++a){var b=this.queue[a];b.k==qe&&b.play();b.k==qe||b.stop(j)}else this.La<this.queue.length&&this.queue[this.La].stop(l);this.ra("stop");this.Pb()};Ih.prototype.Rk=function(){1==this.k&&(this.La++,this.La<this.queue.length?this.queue[this.La].play():(this.Cd=s(),this.k=qe,this.ra("finish"),this.Pb()))};function Jh(a){return a*a*a}function Jg(a){return 1-Math.pow(1-a,3)};function Kh(){S.call(this)}u(Kh,S);n=Kh.prototype;
n.w=function(){Kh.e.w.call(this);(this.s=(this.W=V.a().l)&&this.W.g())&&s();this.kc=E("fullscreen",this.b());var a=E("expand",this.b());O(this.kc,this.nj());this.ae=D("stagecover");this.Di=E("message",this.ae);this.O=E("spinner",this.ae);this.Xd=E("restart",this.ae);Lh(this);this.s?DESKTOP&&Mh(this,this.s):W.a().c("no-media");P(P(P(P(P(P(P(P(P(P(this.n(),window,"resize",r(this.resize,this)),document,"webkitfullscreenchange",r(function(){Hb(this.kc,"full")},this)),document,"mozfullscreenchange",r(function(){Hb(this.kc,
"full")},this)),document,"fullscreenchange",r(function(){Hb(this.kc,"full")},this)),this.kc,"click",r(function(a){if(B(this.kc,"full"))document.Jj&&document.Jj(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();else{var c=E("main");c.Yi&&c.Yi();c.webkitRequestFullScreen&&c.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);c.mozRequestFullScreen&&c.mozRequestFullScreen()}a.stopPropagation();a.preventDefault()},this)),
this.b(),"dblclick",r(this.rj,this)),this.Xd,"click",r(function(a){a.preventDefault();a.stopPropagation();this.s&&Mh(this,this.s)},this)),a,"click",r(this.rj,this)),this.b(),"mousemove",r(function(a){var c=a.offsetX/this.za,a=a.offsetY/this.Ja;if(0.7<c&&1>c&&0.7<a&&1>a&&(this.Ud==YT.PlayerState.PLAYING||this.Ud==YT.PlayerState.PAUSED))O(this.ae,l),L(r(function(){O(this.ae,j)},this),500)},this)),this.b(),"click",r(function(a){if(!(a.offsetX>Q(this.b()).width/2&&a.offsetY>Q(this.b()).height/2)&&this.v&&
this.v.getPlayerState&&DESKTOP)switch(this.v.getPlayerState()){case YT.PlayerState.PLAYING:N.a().c(id,l);break;case YT.PlayerState.PAUSED:N.a().c(id,j)}},this));V.a().subscribe(Df,this.ac,this);V.a().subscribe(Gf,function(a){this.s=a;Mh(this,a);Lh(this)},this);W.a().subscribe(Hf,this.pg,this);W.a().subscribe(Ch,this.Dl,this);W.a().subscribe(Bh,function(){Lh(this,j)},this);DESKTOP&&(N.a().subscribe(gd,function(a){this.resize(a)},this),N.a().subscribe(hd,function(){L(r(this.resize,this))},this),N.a().subscribe(id,
function(a){a?this.v.playVideo():this.v.pauseVideo();var a=E(a?"play":"pause",this.b()),c=new Ih;c.add(new Fe(a,250,Jg));c.add(new Ee(a,250,Jh));c.play()},this),N.a().subscribe("mute",function(a){this.v&&(a?this.v.mute():this.v.unMute())},this),N.a().subscribe("restart",function(){this.v.seekTo(0)},this));this.resize()};n.nj=function(){var a=E("main");return!(!a.Yi&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};
n.rj=function(a){a.preventDefault();a.stopPropagation();Z.a();a=!B(D("sidebar"),"toggled");DESKTOP&&(N.a().c(gd,a),N.a().c(hd,a))};function Mh(a,b){W.a().s=b;a.Gk!=b.id&&(Pf.a().c("flash","Now playing",b.media.name,i,b.media.Ng,"#info:"+b.media.id),a.Gk=b.id);a.play(b.media)}
n.play=function(a,b){!this.v||!this.v.loadVideoById?(this.v=new YT.Player("ytplayer",{height:F().height-40,width:F().width,videoId:a.Tc,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque",origin:HOST_URL,enablejsapi:1},events:{onStateChange:r(this.pl,this),onReady:r(this.bl,this),onError:r(this.al,this)}}),W.a().Fg(this.v)):(this.v.cueVideoById(a.Tc),L(r(function(){var c=b||0;!this.v.getPlayerState()&&4>c?this.play(a,++c):4<=c&&Lh(this,i,j)},this),1E3))};
n.resize=function(){var a=D("ytplayer"),b=D("stagecover"),c=E("message",b),d=D("guide").style.height,d=d.substring(0,d.length-2),d=N.a().mc?d:40,f=N.a().vc?320:0;this.Ja=F().height-d;this.za=F().width-f;Vd(a,F().height-d);Wd(a,F().width-f);Vd(b,F().height-d);Wd(b,F().width-f);a=Q(c);Hd(c,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});C(this.kc,"full",this.nj&&(document.fullScreen||document.webkitIsFullScreen||document.Um))};n.ac=function(a){if(a=a.g())this.s=a,Mh(this,a);Lh(this)};
n.pg=function(a){this.s=a;Mh(this,a);Lh(this);Y("/_optin",se(),"POST","media_id="+this.s.media.id)};n.Dl=function(a){this.v.seekTo&&this.v.seekTo(a,j)};
n.pl=function(a){this.Ud=a.data;Lh(this);switch(a.data){case YT.PlayerState.CUED:a=this.s.async?this.s.seek:(s()-this.s.time.getTime())/1E3;this.v.seekTo(a);this.v.playVideo();N.a().c(id,j);break;case YT.PlayerState.PLAYING:W.a().c(Eh,this.s.media);break;case YT.PlayerState.ENDED:X.a().r.ve.Ze(this.s.media),(a=V.a().l.g())?V.a().c(Gf,a):(W.a().s=k,V.a().c(Df,Kf(V.a()),j))}};
n.bl=function(){L(r(function(){if(this.v&&(!this.v.getPlayerState||!this.v.getPlayerState()))Mh(this,this.s);else if(this.v.getPlayerState()){var a=this.s.async?this.s.seek:(s()-this.s.time.getTime())/1E3;this.v.seekTo(a);this.v.playVideo();DESKTOP&&N.a().c("mute",this.v.isMuted())}},this),1E3)};n.al=function(){W.a().c("no-media");Lh(this,i,j)};
function Lh(a,b,c){var d=D("stagecover"),f=a.s?W.a().getCurrentTime():0;c?(O(a.O,l),O(a.Xd,j),y(d,"covered")):(!a.s||a.s&&f>a.s.media.duration?(W.a().c("no-media"),ic(a.Di.firstChild,Nh),O(a.O,l),O(a.Xd,l),y(d,"covered")):a.Ud!=YT.PlayerState.PLAYING&&a.Ud!=YT.PlayerState.PAUSED||b?(ic(a.Di.firstChild,Oh),O(a.O,j),O(a.Xd,l),y(d,"covered")):(O(a.O,l),O(a.Xd,l),z(d,"covered")),Zd(d,a.Ud==YT.PlayerState.BUFFERING?0.9:1),a.resize())}var Nh="THIS CHANNEL IS CURRENTLY OFFLINE",Oh="LOADING STORY";function xg(a,b){S.call(this,b);this.Pa=a||""}u(xg,S);xg.prototype.eb=k;var Fg="placeholder"in document.createElement("input");n=xg.prototype;n.Fd=l;n.L=function(){this.d=this.Oa().L("input",{type:"text"})};n.J=function(a){xg.e.J.call(this,a);this.Pa||(this.Pa=a.getAttribute("label")||"");var b;a:{var c=Vb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.Fd=j,z(this.b(),this.sd));Fg?this.b().placeholder=this.Pa:this.b().setAttribute("aria-label",this.Pa)};
n.w=function(){xg.e.w.call(this);var a=new Ad(this);P(a,this.b(),"focus",this.Kf);P(a,this.b(),"blur",this.jk);Fg?this.u=a:(lb&&P(a,this.b(),["keypress","keydown","keyup"],this.pk),P(a,Vb(this.b())?Vb(this.b()).parentWindow||Vb(this.b()).defaultView:window,"load",this.xk),this.u=a,Ph(this));Qh(this);this.b().Ek=this};n.ic=function(){xg.e.ic.call(this);this.u&&(this.u.$(),this.u=k);this.b().Ek=k};function Ph(a){!a.bk&&(a.u&&a.b().form)&&(P(a.u,a.b().form,"submit",a.sk),a.bk=j)}
n.m=function(){xg.e.m.call(this);this.u&&(this.u.$(),this.u=k)};n.sd="label-input-label";n.Kf=function(){this.Fd=j;z(this.b(),this.sd);if(!Fg&&!Eg(this)&&!this.Qf){var a=this,b=function(){a.b().value=""};x?L(b,10):b()}};n.jk=function(){Fg||(Dd(this.u,this.b(),"click",this.Kf),this.eb=k);this.Fd=l;Qh(this)};n.pk=function(a){27==a.keyCode&&("keydown"==a.type?this.eb=this.b().value:"keypress"==a.type?this.b().value=this.eb:"keyup"==a.type&&(this.eb=k),a.preventDefault())};
n.sk=function(){Eg(this)||(this.b().value="",L(this.ik,10,this))};n.ik=function(){Eg(this)||(this.b().value=this.Pa)};n.xk=function(){Qh(this)};function Eg(a){return!!a.b()&&""!=a.b().value&&a.b().value!=a.Pa}n.clear=function(){this.b().value="";this.eb!=k&&(this.eb="")};n.reset=function(){Eg(this)&&(this.clear(),Qh(this))};n.Ha=function(a){this.eb!=k&&(this.eb=a);this.b().value=a;Qh(this)};n.H=function(){return this.eb!=k?this.eb:Eg(this)?this.b().value:""};
function Qh(a){Fg?a.b().placeholder!=a.Pa&&(a.b().placeholder=a.Pa):(Ph(a),a.b().setAttribute("aria-label",a.Pa));Eg(a)?z(a.b(),a.sd):(!a.Qf&&!a.Fd&&y(a.b(),a.sd),Fg||L(a.Al,10,a))}n.ib=function(a){this.b().disabled=!a;C(this.b(),this.sd+"-disabled",!a)};n.isEnabled=function(){return!this.b().disabled};n.ak=function(){this.Qf=l};n.Al=function(){this.b()&&(!Eg(this)&&!this.Fd)&&(this.b().value=this.Pa)};function Rh(a,b,c,d,f,g,h,m,q){var t,v;if(t=c.offsetParent){var A="HTML"==t.tagName||"BODY"==t.tagName;if(!A||"static"!=Ld(t,"position"))v=Sd(t),A||(A=(A=Td(t))&&lb?-t.scrollLeft:A&&(!x||!yb("8"))?t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft,v=Jb(v,new Ib(A,t.scrollTop)))}t=v||new Ib;v=Yd(a);if(A=Rd(a)){var T=new Gd(A.left,A.top,A.right-A.left,A.bottom-A.top),A=Math.max(v.left,T.left),U=Math.min(v.left+v.width,T.left+T.width);if(A<=U){var pa=Math.max(v.top,T.top),T=Math.min(v.top+v.height,
T.top+T.height);pa<=T&&(v.left=A,v.top=pa,v.width=U-A,v.height=T-pa)}}A=Tb(a);pa=Tb(c);if(A.D!=pa.D){var U=A.D.body,pa=pa.D.parentWindow||pa.D.defaultView,T=new Ib(0,0),Za=Vb(U)?Vb(U).parentWindow||Vb(U).defaultView:window,Ef=U;do{var ha;if(Za==pa)ha=Sd(Ef);else{ha=Ef;var wb=new Ib;if(1==ha.nodeType){if(ha.getBoundingClientRect){var na=Pd(ha);wb.x=na.left;wb.y=na.top}else{var na=rc(Tb(ha)),Pa=Sd(ha);wb.x=Pa.x-na.x;wb.y=Pa.y-na.y}lb&&!yb(12)&&(na=i,na=i,x?na="-ms-transform":mb?na="-webkit-transform":
kb?na="-o-transform":lb&&(na="-moz-transform"),Pa=i,na&&(Pa=Ld(ha,na)),Pa||(Pa=Ld(ha,"transform")),Pa?(ha=Pa.match(fe),na=!ha?new Ib(0,0):new Ib(parseFloat(ha[1]),parseFloat(ha[2]))):na=new Ib(0,0),wb=new Ib(wb.x+na.x,wb.y+na.y))}else na=sa(ha.ck),Pa=ha,ha.targetTouches?Pa=ha.targetTouches[0]:na&&ha.ia.targetTouches&&(Pa=ha.ia.targetTouches[0]),wb.x=Pa.clientX,wb.y=Pa.clientY;ha=wb}T.x+=ha.x;T.y+=ha.y}while(Za&&Za!=pa&&(Ef=Za.frameElement)&&(Za=Za.parent));U=Jb(T,Sd(U));x&&!qc(A)&&(U=Jb(U,rc(A)));
v.left+=U.x;v.top+=U.y}a=(b&4&&Td(a)?b^2:b)&-5;b=new Ib(a&2?v.left+v.width:v.left,a&1?v.top+v.height:v.top);b=Jb(b,t);f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var R;if(h)if(q)R=q;else if(R=Rd(c))R.top-=t.y,R.right-=t.x,R.bottom-=t.y,R.left-=t.x;a:{q=b.clone();f=0;a=(d&4&&Td(c)?d^2:d)&-5;d=Q(c);m=m?m.clone():d.clone();if(g||0!=a)a&2?q.x-=m.width+(g?g.right:0):g&&(q.x+=g.left),a&1?q.y-=m.height+(g?g.bottom:0):g&&(q.y+=g.top);if(h){if(R){g=q;f=0;if(65==(h&65)&&(g.x<R.left||g.x>=R.right))h&=-2;if(132==
(h&132)&&(g.y<R.top||g.y>=R.bottom))h&=-5;g.x<R.left&&h&1&&(g.x=R.left,f|=1);g.x<R.left&&(g.x+m.width>R.right&&h&16)&&(m.width=Math.max(m.width-(g.x+m.width-R.right),0),f|=4);g.x+m.width>R.right&&h&1&&(g.x=Math.max(R.right-m.width,R.left),f|=1);h&2&&(f|=(g.x<R.left?16:0)|(g.x+m.width>R.right?32:0));g.y<R.top&&h&4&&(g.y=R.top,f|=2);g.y>=R.top&&(g.y+m.height>R.bottom&&h&32)&&(m.height=Math.max(m.height-(g.y+m.height-R.bottom),0),f|=8);g.y+m.height>R.bottom&&h&4&&(g.y=Math.max(R.bottom-m.height,R.top),
f|=2);h&8&&(f|=(g.y<R.top?64:0)|(g.y+m.height>R.bottom?128:0));h=f}else h=256;f=h;if(f&496){c=f;break a}}Md(c,q);if(!(d==m||(!d||!m?0:d.width==m.width&&d.height==m.height)))g=qc(Tb(Vb(c))),x&&(!g||!yb("8"))?(h=c.style,g?(g=be(c,"padding"),c=ee(c),h.pixelWidth=m.width-c.left-g.left-g.right-c.right,h.pixelHeight=m.height-c.top-g.top-g.bottom-c.bottom):(h.pixelWidth=m.width,h.pixelHeight=m.height)):(c=c.style,lb?c.MozBoxSizing="border-box":mb?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=
Math.max(m.width,0)+"px",c.height=Math.max(m.height,0)+"px");c=f}return c};function Sh(){}Sh.prototype.hb=aa();function Th(a,b,c){this.element=a;this.Af=b;this.nl=c}u(Th,Sh);Th.prototype.hb=function(a,b,c){Rh(this.element,this.Af,a,b,i,c,this.nl)};function Uh(a,b,c,d){Th.call(this,a,b);this.Hk=c?5:0;this.lg=d||i}u(Uh,Th);Uh.prototype.hb=function(a,b,c,d){var f=Rh(this.element,this.Af,a,b,k,c,10,d,this.lg);if(f&496){var g=Vh(f,this.Af),b=Vh(f,b),f=Rh(this.element,g,a,b,k,c,10,d,this.lg);f&496&&(g=Vh(f,g),b=Vh(f,b),Rh(this.element,g,a,b,k,c,this.Hk,d,this.lg))}};function Vh(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function Wh(a,b){J.call(this);this.N=new Ad(this);this.Vc&&e(Error("Can not change this state of the popup while showing."));this.d=a||k;b&&this.gj(b)}u(Wh,Zc);n=Wh.prototype;n.d=k;n.Ij=j;n.kh=k;n.Vc=l;n.Fl=l;n.Wf=-1;n.si=-1;n.yk=l;n.Vj=j;n.Wb="toggle_display";n.gj=ba("Wb");n.b=ca("d");n.fb=ca("Vc");n.Rb=function(a){this.$d&&this.$d.stop();this.Gd&&this.Gd.stop();a?this.bf():this.Sc()};n.hb=ka;
n.bf=function(){if(!this.Vc&&this.dispatchEvent("beforeshow")){this.d||e(Error("Caller must call setElement before trying to show the popup"));this.hb();var a=Vb(this.d);this.yk&&P(this.N,a,"keydown",this.Uk,j);if(this.Ij)if(P(this.N,a,"mousedown",this.Mi,j),x){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(f){break}a=d;b=a.activeElement}P(this.N,a,"mousedown",this.Mi,j);P(this.N,a,"deactivate",this.Li)}else P(this.N,
a,"blur",this.Li);"toggle_display"==this.Wb?(this.d.style.visibility="visible",O(this.d,j)):"move_offscreen"==this.Wb&&this.hb();this.Vc=j;this.$d?(Sc(this.$d,"end",this.Qi,l,this),this.$d.play()):this.Qi()}};n.Sc=function(a){if(!this.Vc||!this.dispatchEvent({type:"beforehide",target:a}))return l;this.N&&Ed(this.N);this.Vc=l;this.si=s();this.Gd?(Sc(this.Gd,"end",za(this.uh,a),l,this),this.Gd.play()):this.uh(a);return j};
n.uh=function(a){"toggle_display"==this.Wb?this.Fl?L(this.di,0,this):this.di():"move_offscreen"==this.Wb&&(this.d.style.top="-10000px");this.dispatchEvent({type:"hide",target:a})};n.di=function(){this.d.style.visibility="hidden";O(this.d,l)};n.Qi=function(){this.Wf=s();this.si=-1;this.dispatchEvent("show")};n.Mi=function(a){a=a.target;!hc(this.d,a)&&((!this.kh||hc(this.kh,a))&&!(150>s()-this.Wf))&&this.Sc(a)};n.Uk=function(a){27==a.keyCode&&this.Sc(a.target)&&(a.preventDefault(),a.stopPropagation())};
n.Li=function(a){if(this.Vj){var b=Vb(this.d);if(x||kb){if(a=b.activeElement,!a||hc(this.d,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>s()-this.Wf||this.Sc()}};n.m=function(){Wh.e.m.call(this);this.N.$();Bc(this.$d);Bc(this.Gd);delete this.d;delete this.N};function Xh(a,b){this.Ti=4;this.rg=b||i;Wh.call(this,a)}u(Xh,Wh);Xh.prototype.hb=function(){if(this.rg){var a=!this.fb()&&"move_offscreen"!=this.Wb,b=this.b();a&&(b.style.visibility="hidden",O(b,j));this.rg.hb(b,this.Ti,this.Jk);a&&O(b,l)}};function Yh(a,b,c){J.call(this);this.Lb=a;this.P=b;this.N=c;this.sf=r(this.kl,this)}u(Yh,J);var zg=Yh;n=Yh.prototype;n.af=l;n.Si=0;n.qa=k;n.Ae=function(){!this.qa&&!this.Si?this.Ad():this.af=j};n.stop=function(){this.qa&&(ad.clearTimeout(this.qa),this.qa=k,this.af=l)};n.m=function(){Yh.e.m.call(this);this.stop()};n.kl=function(){this.qa=k;this.af&&!this.Si&&(this.af=l,this.Ad())};n.Ad=function(){this.qa=L(this.sf,this.P);this.Lb.call(this.N)};function Zh(a,b){J.call(this);this.Lb=a;this.N=b;this.bb=new re(r(this.jl,this),0,this)}u(Zh,J);n=Zh.prototype;n.P=0;n.zg=0;n.ki=l;n.m=function(){this.bb.$();delete this.Lb;delete this.N;Zh.e.m.call(this)};n.start=function(a,b){this.stop();this.ki=l;var c=b||0;this.P=Math.max(a||0,0);this.zg=0>c?-1:s()+c;this.bb.start(0>c?this.P:Math.min(this.P,c))};n.stop=function(){this.bb.stop()};n.Ib=function(){return this.bb.Ib()};
n.jl=function(){if(this.Lb.call(this.N))this.ki=j;else if(0>this.zg)this.bb.start(this.P);else{var a=this.zg-s();0>=a||this.bb.start(Math.min(this.P,a))}};function yg(a){J.call(this);this.d=a;this.Pd=this.d.value;this.u=new Ad(this);this.gb=s();mb||x||lb&&yb("1.9")?P(this.u,a,"paste",this.Mc):P(this.u,a,["keydown","blur","focus","mouseover","input"],this.qk);this.bb=new Zh(r(this.qh,this))}u(yg,Zc);var Ag="after_paste";n=yg.prototype;n.k="init";n.F=gh("goog.events.PasteHandler");n.m=function(){yg.e.m.call(this);this.u.$();this.u=k;this.bb.$();this.bb=k};
n.qh=function(){if(this.Pd==this.d.value)return l;this.F.info("detected textchange after paste");this.dispatchEvent(Ag);return j};n.Mc=function(a){a=new Ic(a.ia);a.type="paste";this.dispatchEvent(a);L(function(){this.qh()||this.bb.start(50,200)},0,this)};
n.qk=function(a){switch(this.k){case "init":switch(a.type){case "blur":this.k="init";break;case "focus":this.k="focused";break;case "mouseover":this.k="init";this.d.value!=this.Pd&&(this.F.info("paste by dragdrop while on init!"),this.Mc(a));break;default:ch(this.F,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.gb+400;if(s()>b||"focus"==this.ul)this.F.info("paste by textchange while focused!"),this.Mc(a);break;case "blur":this.k="init";break;
case "keydown":this.F.info("key down ... looking for ctrl+v");if(fb&&kb&&0==a.keyCode||fb&&kb&&17==a.keyCode)break;this.k="typing";break;case "mouseover":this.d.value!=this.Pd&&(this.F.info("paste by dragdrop while focused!"),this.Mc(a));break;default:ch(this.F,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.k="focused";break;case "blur":this.k="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.F.info("paste by ctrl+v while keypressed!"),
this.Mc(a);break;case "mouseover":this.d.value!=this.Pd&&(this.F.info("paste by dragdrop while keypressed!"),this.Mc(a));break;default:ch(this.F,"unexpected event "+a.type+" during keypressed")}break;default:ch(this.F,"invalid "+this.k+" state")}this.gb=s();this.Pd=this.d.value;this.F.info(a.type+" -> "+this.k);this.ul=a.type};function $h(){return'<div class="popup" id="popup" style="visibility: hidden; display: none;"><div class="content"></div><div id="tailarrow"></div></div>'}function ai(){return'<div class="select-program"><div class="select-header">Suggest a Program</div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="paste a youtube link"/><div class="page2"></div></div></div></div>'}
function bi(a){return'<div class="confirm-media"><img src="'+I(a.Lg)+'" /><div class="title">'+I(a.title)+'</div><div class="dark button">Yes</div></div>'};function ci(){var a=D("popup");a||(a=H($h),document.body.appendChild(a));Xh.call(this,a);K(window,"resize",r(this.Rb,this,l));K(this,"hide",this.Xk);this.p=lg.a();this.p.subscribe("select-program",this.Hl,this);this.p.subscribe("hide",this.Sc,this)}u(ci,Xh);la(ci);n=ci.prototype;n.Xk=function(){this.Sc();this.p.c("on-hide")};n.tb=function(){return E("content",this.b())};
n.Hl=function(a,b){this.Rb(l);this.Ti=0;this.fb()&&this.hb();var c=-1*(Q(this.b()).height-Q(a).height)/2;this.Jk=c==k||c instanceof Fd?c:new Fd(c,0,0,5);this.fb()&&this.hb();this.rg=new Uh(a,6)||i;this.fb()&&this.hb();y(this.b(),"left");uc(this.tb(),ai);this.va=new xg("paste a YouTube link");this.va.h(E("program-input",this.b()));var c=new Ze(this.va.b()),d=new yg(this.va.b()),f=new zg(r(this.hg,this,b),1E3);this.Rb(j);P(P(P(this.N,d,Ag,r(this.hg,this,b)),c,"key",r(function(){f&&f.Ae()},this)),this.va.b(),
"focus",r(this.hg,this,b))};n.hg=function(a){var b=E("select-content",this.b());try{var c=Gg(this.va.H());Y(Ba("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.ah),r(function(d){var g=Hg(Ig(d.target)).entry,d=g.title.$t,h=g.media$group.media$thumbnail[0].url,g=E("page2",this.b());uc(g,bi,{title:d,Lg:h});d=new wf("Yes");d.h(E("button",g));(new Ce(b,[0,0],[260,0],300,Jg)).play();P(this.N,d,"action",r(this.eg,this,a,c))},this))}catch(d){}};
n.eg=function(a,b){Y("/_addprogram",r(function(b){b=Hg(Ig(b.target));b=new Yf(b);a.c(fg,b);this.Rb(l)},this),"POST","channel="+a.id+"&youtube_id="+b.ah)};function Z(){M.call(this)}u(Z,M);la(Z);var Cg="media-info",Dg="profile";function di(a){return'<div class="info"><div class="picture"><img src="'+I(a.media.Wa)+'" class="thumb"><div class="publisher"><img src="'+I(a.media.Ea.T)+'"><div class="name">'+I(a.media.Ea.name)+'</div></div><div class="links"><div class="local"></div><a target="_blank" href="'+a.media.zk+'"><div class="host"></div></a></div><div class="link-select" style="display:none"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><div class="title"><div class="text">'+
I(a.media.name)+'</div></div><div class="scrollable ios-scroll" '+(!a.description?'style="display:none"':"")+'><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+I(a.qc)+'</div></div><div class="description">'+a.description+'</div></div><div class="button play"><div class="icon"></div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="info-contents"><div class="scrollable ios-scroll"><div class="tweet-holder" style="display:none"><div class="label"><div class="globe-icon"></div><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="viewers" style="display: none"><div class="label"><div class="friends-icon"></div><div class="status">SEEN</div></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><div class="friends-icon"></div><a class="conv-link">CONVERSATION</a>'+
(a.Fk?'<a class="prev-link">&#10218; LAST PROGRAM</a>':"")+'</div><div class="no-comments" style="display:none">Start the conversation with friends.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div><div class="overlay" style="display: none"><div class="leaving"><div>This program is over. Carry on?</div><div class="button dark no">Not yet</div><div class="button dark yes">Let\'s go</div></div></div></div>'}
function ei(a){return'<div class="viewer" name="'+I(a.Fb)+'"><img src="'+I(a.i.T)+'"></div>'}
function fi(a){return'<div class="tweet" id="'+I(a.prefix)+"-"+I(a.yb.id)+'">'+(a.yb.i?'<a href="#user:'+I(a.yb.i.id)+'"><img src="'+I(a.yb.T)+'"/></a>':'<img src="'+I(a.yb.T)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+I(a.yb.handle)+"/status/"+I(a.yb.id)+'">'+I(a.yb.handle)+"</a> "+a.text+'</div><div class="timestamp">'+I(a.timestamp)+'</div><div class="tweet-options"><div class="reply"></div></div></div>'}
function gi(a){return'<div class="comment'+(a.qb.ba?" reply":"")+'" id="'+I(a.prefix)+"-"+I(a.qb.id)+'"><a href="#user:'+I(a.qb.i.id)+'"><img src="'+I(a.qb.i.T)+'"/></a><div class="text"><a class="username" href="#user:'+I(a.qb.i.id)+'">'+I(a.qb.i.name)+"</a> "+a.text+'</div><div class="timestamp">'+I(a.timestamp)+'</div><div class="comment-options">'+(a.Ri?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div>'}
function hi(){return'<div class="comment-input"><div class="comment-controls"><div class="comment-button tweet-toggle"><div class="icon"></div>tweet<div class="check"></div></div><div class="comment-button fb-toggle"><div class="icon"></div>post<div class="check"></div></div><div class="comment-button add-comment"><div class="return">&#8618;</div>add</div></div><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div></div>'}
function ii(a){var b='<div class="activity'+(1<a.ka.length?" digest":"")+'">';if(1<a.ka.length){for(var b=b+('<div class="text"><span>'+I(a.ka.length)+" friends </span>"+(a.tj?"watched":"are watching")+(a.S?' <a href="#channel:'+I(a.S.id)+'">'+I(a.S.name)+"</a>":"")+'<div class="timestamp">'+I(a.time)+'</div></div><div class="users">'),c=a.ka,d=c.length,f=0;f<d;f++)var g=c[f],b=b+('<a href="#user:'+I(g.id)+'"><div class="picture" style="background:'+I(g.color)+'"><img src="'+I(g.T)+'"/></div></a>');
b+="</div>"}return b+=(1==a.ka.length?'<a href="#user:'+I(a.ka[0].id)+'"><div class="picture" style="background:'+I(a.ka[0].color)+'"><img src="'+I(a.ka[0].T)+'"/></div></a><div class="text"><a class="user" href="#user:'+I(a.ka[0].id)+'">'+I(a.ka[0].name)+"</a> "+(a.tj?"watched":"is watching")+(a.S?' <a href="#channel:'+I(a.S.id)+'">'+I(a.S.name)+"</a>":"")+'<div class="timestamp">'+I(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function ji(a){for(var b='<div class="comment activity'+(1<a.Db.length?" digest":"")+'">'+(1<a.Db.length?'<div class="text">'+(1==a.ka.length?'<a class="user" href="#user:'+I(a.ka[0].id)+'">'+I(a.ka[0].name)+' </a> discussed <a class="title" href="#info:'+I(a.media.id)+'">'+I(a.media.name)+"</a>.":"<span>"+I(a.ka.length)+' friends </span> discussed <a class="title" href="#info:'+I(a.media.id)+'"> '+I(a.media.name)+"</a>.")+"</div>":""),a=a.Db,c=a.length,d=0;d<c;d++)var f=a[d],b=b+('<div class="comment"><a href="#user:'+
I(f.i.id)+'"><div class="picture" style="background:'+I(f.i.color)+'"><img src="'+I(f.i.T)+'"/></div></a><div class="text"><a class="user" href="#user:'+I(f.i.id)+'">'+I(f.i.name)+'</a>  "'+I(f.text)+'"<div class="timestamp">'+I(f.wl)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function ki(a){return'<div class="list-info"><div class="picture-cell" '+(a.Wa?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+I(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+I(a.Wa)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function li(a){return'<li class="'+I(a.className)+' tab"><div class="label">'+I(a.name)+"</div></li>"}
function mi(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.ii?'placeholder="'+I(a.ii)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function ni(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function oi(a){return'<div class="playlist"><div class="title">'+I(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function pi(a){return'<div class="category button">'+I(a.name)+"</div>"}function qi(a){return'<div class="publisher">'+(a.T?'<img src="'+I(a.T)+'"/>':"")+'<div class="title">'+I(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function ri(a){return'<div class="channel '+(a.S.Qd?"on":"off")+'"><div class="title">'+I(a.S.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.S.cd?'<div class="pending">'+I(a.S.cd)+"</div>":"")+"</div>"}
function si(a){return'<div class="collection"><div class="title">'+I(a.vf.name)+'</div><div class="controls">'+(a.vf.cd?'<div class="pending">'+I(a.vf.cd)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function ti(a){return'<div class="topic"><div class="title">'+I(a.Wl)+'</div><div class="controls">'+(a.cd?'<div class="pending">'+I(a.cd)+"</div>":"")+"</div></div>"}
function ui(){return'<div class="tabbed activity"><ul class="tabs"><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul><div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function vi(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function wi(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+I(a.media.Wa)+"); background-position: 50% "+I(a.media.kd)+'%"></div><div class="list-play"><div class="icon"></div></div><div class="title">'+I(a.media.name)+'</div></div></div><div class="publisher"><img src="'+I(a.media.Ea.T)+'"><div class="name">'+I(a.media.Ea.name)+'</div></div><div class="stats"><div class="comment-count"><div class="icon"></div>'+I(a.media.Hc)+
'</div><div class="star-count"><div class="icon"></div>'+I(a.media.jj)+"</div></div></div>"}
function xi(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+I(a.media.Wa)+"); background-position: 50% "+I(a.media.kd)+'%"></div><div class="title">'+I(a.media.name)+'</div><div class="published">'+I(a.qc)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+I(a.media.Ea.T)+'"><div class="name">'+I(a.media.Ea.name)+
'</div><div class="duration">'+I(a.media.duration)+' seconds</div></div><div class="description">'+I(a.media.description)+"</div></div>"};function yi(){J.call(this);this.Id=[];this.Ql=[];this.Zd=[]}u(yi,Zc);n=yi.prototype;n.oi=l;n.pi=l;n.Sf=l;n.fj=ba("Ye");n.init=function(){if(!this.Sf){for(var a,b=0;a=this.Id[b];b++)zi(this,a);this.Sf=j}};function zi(a,b){a.oi&&(K(b.element,"mousedown",b.Fi,l,b),a.Hg&&y(b.element,a.Hg));a.pi&&a.Kg&&y(b.element,a.Kg)}
n.wc=function(a,b){if(!this.xa)if(this.xa=b,this.dispatchEvent(new Ai("dragstart",this,this.xa))==l)this.xa=k;else{var c=b.Ic,d=this.se(c);this.Sj&&y(d,this.Sj);this.Oc=d;d=Vb(c);d.body.appendChild(this.Oc);var f=this.Oc,g=Sd(c),c=be(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.o=new ge(f);this.o.fj(this.Ye);K(this.o,"drag",this.Gi,l,this);K(this.o,"end",this.hc,l,this);K(d.body,"selectstart",this.oj);this.jd=[];for(d=
0;c=this.Ql[d];d++)for(var h,f=0;h=c.Id[f];f++)for(var g=c,m=[h.element],q=this.jd,t=0;t<m.length;t++){var v=m[t],A=Sd(v),T=Q(v),A=new Fd(A.y,A.x+T.width,A.y+T.height,A.x);q.push(new Bi(A,g,h,v));Ci(this,A)}this.xb||(this.xb=new Fd(0,0,0,0));for(d=0;c=this.Zd[d];d++)c.yf=[],c.$i=c.d.scrollLeft,c.aj=c.d.scrollTop,f=Sd(c.d),g=Q(c.d),c.U=new Fd(f.y,f.x+g.width,f.y+g.height,f.x);for(d=0;g=this.jd[d];d++)for(f=0;c=this.Zd[f];f++)hc(c.d,g.d)&&(c.yf.push(g),g.Yd=c);this.Yb=k;for(d=0;c=this.Zd[d];d++)K(c.d,
"scroll",this.th,l,this);this.o.wc(a);a.preventDefault()}};
n.hc=function(a){var b=a.Rj?k:this.Yb;if(b&&b.wa){var c=a.clientX,a=a.clientY,d=rc(Tb(this.Oc)),f=c+d.x,d=a+d.y,g;this.ee&&(g=this.ee(b.ub,b.U,f,d));this.dispatchEvent(new Ai("drag",this,this.xa,b.wa,b.ub,b.d,c,a,f,d));b.wa.dispatchEvent(new Ai("drop",this,this.xa,b.wa,b.ub,b.d,c,a,f,d,g))}this.dispatchEvent(new Ai("dragend",this,this.xa));Tc(this.o,"drag",this.Gi,l,this);Tc(this.o,"end",this.hc,l,this);Tc(Vb(this.xa.Ic).body,"selectstart",this.oj);for(b=0;c=this.Zd[b];b++)Tc(c.d,"scroll",this.th,
l,this),c.yf=[];this.o.$();cc(this.Oc);delete this.xa;delete this.Oc;delete this.o;delete this.jd;delete this.Yb};
n.Gi=function(a){var b,c=rc(Tb(this.Oc));b=new Ib(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,f=this.Yb,g;if(f){this.ee&&f.wa&&(g=this.ee(f.ub,f.U,c,d));if(f.U.contains(b)&&g==this.dh)return;f.wa&&(this.dispatchEvent(new Ai("dragout",this,this.xa,f.wa,f.ub,f.d)),f.wa.dispatchEvent(new Ai("dragout",this,this.xa,f.wa,f.ub,f.d,i,i,i,i,this.dh)));this.dh=g;this.Yb=k}if(this.xb.contains(b)){a:{for(var h=0;f=this.jd[h];h++)if(f.U.contains(b))if(f.Yd){if(f.Yd.U.contains(b)){b=f;break a}}else{b=f;break a}b=
k}if((f=this.Yb=b)&&f.wa)this.ee&&(g=this.ee(f.ub,f.U,c,d)),c=new Ai("dragover",this,this.xa,f.wa,f.ub,f.d),c.Pl=g,this.dispatchEvent(c),f.wa.dispatchEvent(new Ai("dragover",this,this.xa,f.wa,f.ub,f.d,a.clientX,a.clientY,i,i,g));else if(!f){this.ta||(this.ta=new Bi(this.xb.clone()));a=this.ta.U;a.top=this.xb.top;a.right=this.xb.right;a.bottom=this.xb.bottom;a.left=this.xb.left;for(g=0;f=this.jd[g];g++)b=f.U,f.Yd&&(f=f.Yd.U,b=new Fd(Math.max(b.top,f.top),Math.min(b.right,f.right),Math.min(b.bottom,
f.bottom),Math.max(b.left,f.left))),f=k,c>=b.right?f=b.right>a.left?b.right:a.left:c<b.left&&(f=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),f!==k&&h!==k&&(Math.abs(f-c)>Math.abs(h-d)?h=k:f=k),f===k?h!==k&&(h<=d?a.top=h:a.bottom=h):f<=c?a.left=f:a.right=f;this.Yb=10<=(a.right-a.left)*(a.bottom-a.top)?this.ta:k}}};n.oj=da(l);
n.th=function(a){for(var b=0,c;c=this.Zd[b];b++)if(a.target==c.d){var d=c.aj-c.d.scrollTop,f=c.$i-c.d.scrollLeft;c.aj=c.d.scrollTop;c.$i=c.d.scrollLeft;this.ta&&this.Yb==this.ta&&(0<d?this.ta.U.top+=d:this.ta.U.bottom+=d,0<f?this.ta.U.left+=f:this.ta.U.right+=f);for(var g=0,h;h=c.yf[g];g++)h=h.U,h.top+=d,h.left+=f,h.bottom+=d,h.right+=f,Ci(this,h)}this.o.Pi(a)};
n.se=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return G("table",k,G("tbody",k,b));case "td":case "th":return G("table",k,G("tbody",k,G("tr",k,b)));default:return b}};function Ci(a,b){if(1==a.jd.length)a.xb=new Fd(b.top,b.right,b.bottom,b.left);else{var c=a.xb;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
n.m=function(){yi.e.m.call(this);for(var a,b=0;a=this.Id[b];b++)this.oi&&(Tc(a.element,"mousedown",a.Fi,l,a),this.Hg&&z(a.element,this.Hg)),this.pi&&this.Kg&&z(a.element,this.Kg),a.$();this.Id.length=0};function Ai(a,b,c,d,f,g,h,m,q,t,v){Fc.call(this,a);this.Hm=b;this.Im=c;this.Jm=d;this.Lm=f;this.Km=g;this.clientX=h;this.clientY=m;this.hn=q;this.jn=t;this.Pl=v}u(Ai,Fc);Ai.prototype.m=aa();
function Di(a,b){J.call(this);this.element=D(a);this.data=b;this.K=k;this.element||e(Error("Invalid argument"))}u(Di,Zc);n=Di.prototype;n.Ic=k;n.Fi=function(a){if(Kc(a)){var b=a.target;b&&(K(b,"mousemove",this.$c,l,this),K(b,"mouseout",this.$c,l,this),K(b,"mouseup",this.dg,l,this),this.Ic=b,this.Ig=new Ib(a.clientX,a.clientY),a.preventDefault())}};n.$e=ba("K");
n.$c=function(a){var b=this.Ic,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Ig.x)+Math.abs(a.clientY-this.Ig.y)||c)Tc(b,"mousemove",this.$c,l,this),Tc(b,"mouseout",this.$c,l,this),Tc(b,"mouseup",this.dg,l,this),this.K.wc(a,this)};n.dg=function(){var a=this.Ic;Tc(a,"mousemove",this.$c,l,this);Tc(a,"mouseout",this.$c,l,this);Tc(a,"mouseup",this.dg,l,this);delete this.Ig;this.Ic=k};function Bi(a,b,c,d){this.U=a;this.wa=b;this.ub=c;this.d=d}Bi.prototype.Yd=k;function Ei(){yi.call(this)}u(Ei,yi);function Fi(a,b){b.$e(a);a.Id.push(b);a.Sf&&zi(a,b)};function Gi(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Da(d),'="',Da(b[d]),'" ');var f=c.join("");return a.replace(Hi,function(a,b,c,d,t){a=[Da(b)];if(!c)return a[0];a.push("<a ",f,'href="');d?(a.push("mailto:"),c=d,d=""):(t||a.push("http://"),(d=c.match(Ii))?(c=d[1],d=d[2]):d="");c=Da(c);d=Da(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var Ii=/^(.*)([:;,\.?\[\]])$/,Hi=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function Ji(){}u(Ji,Qe);la(Ji);n=Ji.prototype;n.Qc=aa();n.h=function(a,b){jf(a);a.pb&=-256;of(a,32,l);Ji.e.h.call(this,a,b);a.tc(b.value);return b};n.L=function(a){jf(a);a.pb&=-256;of(a,32,l);return a.Oa().L("textarea",{"class":Se(this,a).join(" "),disabled:!a.isEnabled()},a.ab||"")};n.$b=function(a){return"TEXTAREA"==a.tagName};n.uc=ka;n.Tf=function(a){return a.isEnabled()};n.hd=ka;n.pa=function(a,b,c){Ji.e.pa.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};n.Xa=ka;
n.tc=function(a,b){a&&(a.value=b)};n.la=da("goog-textarea");function Ki(a,b,c){hf.call(this,a,b||Ji.a(),c);jf(this);this.gd(j);a||(this.ab="")}u(Ki,hf);var Li=lb||mb;n=Ki.prototype;n.Uc=l;n.za=0;n.yi=0;n.Ei=0;n.ai=l;n.Qe=l;n.Cg=l;n.Bg=l;function Mi(a){return a.Rd.top+a.Rd.bottom+a.lh.top+a.lh.bottom}function Ni(a){var b=a.Ei,c=a.b();b&&(c&&a.Qe)&&(b-=Mi(a));return b}function Oi(a){var b=a.yi,c=a.b();b&&(c&&a.Qe)&&(b-=Mi(a));return b}n.Ha=function(a){this.tc(String(a))};n.H=function(){return this.b().value};n.tc=function(a){Ki.e.tc.call(this,a);this.resize()};
n.ib=function(a){Ki.e.ib.call(this,a);this.b().disabled=!a};n.resize=function(){this.b()&&this.Fe()};n.w=function(){Ki.e.w.call(this);var a=this.b();Hd(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.Rd=be(a,"padding");this.lh=ee(a);P(P(P(P(this.n(),a,"scroll",this.Fe),a,"focus",this.Fe),a,"keyup",this.Fe),a,"mouseup",this.Lk);this.resize()};
function Pi(a){if(!a.ai){var b=a.b().cloneNode(l);Hd(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Oa().D.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.Cg=d>c;b.style.borderWidth="10px";a.Bg=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Qe=j);cc(b);a.ai=j}var b=a.b(),c=a.b().scrollHeight,f=a.b(),d=f.offsetHeight-f.clientHeight;if(!a.Cg)var g=a.Rd,d=d-(g.top+g.bottom);
a.Bg||(f=ee(f),d-=f.top+f.bottom);c+=0<d?d:0;a.Qe?c-=Mi(a):(a.Cg||(d=a.Rd,c+=d.top+d.bottom),a.Bg||(a=ee(b),c+=a.top+a.bottom));return c}function Qi(a,b){a.za!=b&&(a.za=b,a.b().style.height=b+"px")}function Ri(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.Fe=function(){if(!this.Uc){var a=l;this.Uc=j;var b=this.b(),c=this.za;if(b.scrollHeight){var d=l,f=l,g=Pi(this),h=b.offsetHeight,m=Ni(this),q=Oi(this);m&&g<m?(Qi(this,m),d=j):q&&g>q?(Qi(this,q),b.style.overflowY="",f=j):h!=g?Qi(this,g):this.za||(this.za=g);!d&&(!f&&Li)&&(a=j)}else Ri(this);this.Uc=l;a&&(a=this.b(),this.Uc||(this.Uc=j,b=l,a.value||(a.value=" ",b=j),(f=a.scrollHeight)?(g=Pi(this),d=Ni(this),h=Oi(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.Rd,a.style.paddingBottom=h.bottom+1+"px",Pi(this)==
g&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=Pi(this)-f,f>=d?Qi(this,f):Qi(this,d)),a.style.paddingBottom=h.bottom+"px")):Ri(this),b&&(a.value=""),this.Uc=l));c!=this.za&&this.dispatchEvent("resize")}};n.Lk=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.za&&(this.za=this.Ei=b)};function Si(a,b,c,d,f,g,h){S.call(this);this.ua=yf();this.Za=a;this.Te=b;this.qg=c;this.wg=d;this.tf=f.categories;this.Yj=f.feed_categories;this.$j=f.feed_id;this.Og=g||k;this.Lc=h||k;this.Df=this.ua?new Ei:k;this.jc={pending:l,all:l};this.jb=["pending","all","playlists","publishers","categories"]}u(Si,S);var Ti="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),Ui="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
n=Si.prototype;
n.J=function(a){Si.e.J.call(this,a);a.innerHTML="";a.scrollTop=0;uc(a,ni);var b=E("pending-content",a);w(this.Te,function(a){Vi(this,b,a)},this);this.sl=E("playlists-content",a);w(this.qg,this.hh,this);this.vl=E("publishers-content",a);w(this.wg,this.ih,this);this.Lj=E("categories-list",a);this.Jh=E("feed-ids",a);this.Zj=E("feed-cats",a);Y("/admin/_categories",r(function(a){a=jg(a.target);w(a,function(a){Wi(this,a,"category",Ta(this.tf,a.id)||!this.tf.length)},this)},this));w(Ui,function(a){Wi(this,a,
"feed_category",Ta(this.Yj,a))},this);w(Ti,function(a){Wi(this,a,"feed_id",this.$j==a)},this);this.resize()};
n.w=function(){Si.e.w.call(this);this.na=E("input",this.b());var a=new Ze(this.na),b=new yg(this.na);this.Ia=E("tabs",this.b());this.G="pending";var c=l;P(P(P(P(this.n(),window,"resize",za(L,r(this.resize,this))),a,"key",r(function(a){"13"==a.keyCode&&Xi(this,this.na.value)},this)),b,Ag,r(function(){Xi(this,this.na.value)},this)),this.Ia,"click",r(function(a){a=pc(a.target,"li");this.Nb(a)},this));P(this.n(),this.b(),"scroll",r(function(){if(this.Za&&!c&&!this.jc[this.G]&&("pending"==this.G||"all"==
this.G)&&this.b().scrollTop+F().height>this.b().scrollHeight-this.b().clientTop){c=j;var a=E("spinner",this.b());O(a,j);var b="pending"==this.G?this.Te:this.nf;Y("/admin/_media/collection/"+this.Za+"?offset="+b.length+("pending"==this.G?"&pending=1":""),r(function(g){c=l;g=Hg(Ig(g.target)).medias;g=Oa(g,function(a){return new Rf(a)});Ya(b,g);var h=E(this.G+"-content",this.b());w(g,function(a){Vi(this,h,a)},this);this.jc[this.G]=!g.length;C(a,"finished",!g.length)},this))}},this));this.resize()};
n.resize=function(){Vd(this.b(),F().height-40)};
function Xi(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.Za&&c&&(a.na.disabled="disabled",Y("admin/_add/collection/"+a.Za,r(function(a){this.na.value="";this.na.disabled="";a=jg(a.target);if("media"==a.type){var b=Xf(Wf.a(),a.data);Ra(this.Te,function(a){return a.id==b.id})||(this.Te.push(b),a=E("pending-content",this.b()),Vi(this,a,b,j),this.Nb(Xb("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Ra(this.qg,function(a){return a.id==
c.id})||(this.qg.push(c),this.hh(c),this.Nb(Xb("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Ra(this.wg,function(a){return a.id==h.id})&&(this.wg.push(h),this.ih(h),this.Nb(Xb("li","publishers",i)[0]))}},a),"POST","url="+c))}
n.Nb=function(a){w(this.jb,function(b){C(this.Ia.parentElement,b,B(a,b));this.G=B(a,b)?b:this.G},this);this.Za&&!this.nf&&Y("/admin/_media/collection/"+this.Za,r(function(a){a=Hg(Ig(a.target)).medias;this.nf=Oa(a,function(a){return new Rf(a)});var c=E("all-content",this.b());w(this.nf,function(a){Vi(this,c,a)},this)},this))};
n.hh=function(a){var b=H(oi,{name:a.name});this.sl.appendChild(b);var c=E("remove",b);P(this.n(),c,"click",function(){Y("admin/_remove/collection/"+this.Za,r(function(){cc(b)},this),"POST","pub_id="+a.id)})};n.ih=function(a){var b=H(qi,{name:a.name||a.id,T:a.picture});this.vl.appendChild(b);var c=E("remove",b);P(this.n(),c,"click",function(){Y("admin/_remove/collection/"+this.Za,r(function(){cc(b)},this),"POST","pub_id="+a.id)})};
function Wi(a,b,c,d){if("category"==c){var f=H(pi,{name:b.name,id:b.id});a.Lj.appendChild(f)}else f=H(pi,{name:b,id:b}),("feed_id"==c?a.Jh:a.Zj).appendChild(f);C(f,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;P(a.n(),f,"click",function(){"feed_id"==c&&w(dc(this.Jh),function(a){z(a,"enabled")});var a=Hb(f,"enabled");Y("admin/_edit/collection/"+this.Za,se(),"POST",g+"&enabled="+a)})}
function Vi(a,b,c,d){var f=H(xi,{media:c,qc:Vf(c)});d?bc(b,f,0):b.appendChild(f);a.ua&&(b=a.Df,d=new Di(f,i),Fi(b,d));var b=new ge(E("repos",f)),g=E("thumb",f),d=E("play",f),h=E("approve",f),m=E("remove",f);b.zd=function(a,b){var c=b-24;-50<=c&&50>=c&&Hd(g,"background-position-y",50-c+"%")};P(P(P(P(a.n(),b,"end",function(){var a=(g.style[Ka("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);Y("/admin/_posthumb",se(),"POST","media="+c.id+"&pos="+a)}),d,"click",r(a.ol,a,c)),h,"click",
r(a.jh,a,c,j,f)),m,"click",r(a.jh,a,c,l,f));L(za(y,f,"show"))}n.eg=function(a,b){Y("/admin/_addprogram",r(function(b){b=Hg(Ig(b.target));b=new Yf(b);a.c(fg,b)},this),"POST","channel="+a.id+"&media="+b.id)};n.jh=function(a,b,c){var d=a.Nj||this.Za;Y("admin/_media/collection",r(function(){y(c,"remove");L(function(){cc(c)},300);N.a();var b;N.a();b=mc(D("toggle-pending"));jd(0,b-1);Z.a().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};n.ol=function(a){a=Zf(a);W.a().c(Hf,a)};function Yi(a){S.call(this);this.Cb=a||k;this.nd=this.oh=this.sj=this.sh=0}u(Yi,S);n=Yi.prototype;n.L=function(){this.d=H(mi)};n.J=function(a){Yi.e.J.call(this,a);var b=H(mi,{ii:this.Cb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
n.w=function(){Yi.e.w.call(this);this.na=E("input",this.b());var a=new Ze(this.na);this.Cl=E("scrollable",this.b());this.Z=E("admin-channels",this.b());this.Rg=E("topics",this.b());this.te=E("collections",this.b());this.rh=D("admin-col-list");this.me=D("admin-list");V.a();this.Cb?(Y("/admin/_topicmedias/"+this.Cb,r(function(a){a=jg(a.target);Lb(a,function(a,b){O(this.Rg.parentElement,j);if(a&&a.length){var f=H(ti,{Wl:b,cd:a.length});this.Rg.appendChild(f);K(f,"click",r(function(){a=Oa(a,function(a){return new Rf(a)});
(new Si("",a,[],[],[])).h(this.me);Z.a().c("navigate",this.me,l,b)},this));Z.a().subscribe("approved",function(b){if(Ra(a,function(a){return a.id==b.id})){var d=E("pending",f),m=mc(d)-1;0>=m?(cc(f),Bc(f)):ic(d,m)}},this)}},this);this.nd&&jd(N.a(),this.nd);this.sj=Q(this.Rg.parentElement).height;this.resize()},this)),Y("/admin/_collections/"+this.Cb,r(function(a){a=jg(a.target);O(this.te.parentElement,!!a.length);w(a,this.gh,this);this.nd&&jd(N.a(),this.nd);this.sh=Q(this.te.parentElement).height;
this.resize()},this))):Y("/admin/_channels",r(function(a){a=jg(a.target);O(this.Z.parentElement,!!a.length);w(a,this.fh,this);this.oh=Q(this.Z.parentElement).height;this.resize()},this));P(this.n(),a,"key",r(function(a){"13"==a.keyCode&&this.na.value&&(a=this.na.value,this.na.disabled="disabled",Y(this.Cb?"/admin/_collections":"/admin/_channels",r(function(a){a=jg(a.target);this.Cb?(O(this.te.parentElement,!!a),this.gh(a)):(O(this.Z.parentElement,!!a),this.fh(a));this.na.disabled="";this.na.value=
""},this),"POST","name="+a+(this.Cb?"&cid="+this.Cb:"")))},this))};
n.fh=function(a){var b=new eg(a),c=H(ri,{S:b});this.Z.appendChild(c);K(c,"click",r(function(a){B(a.target,"on")||B(a.target,"off")?(C(c,"on",B(a.target,"on")),C(c,"off",!B(a.target,"on")),Y("/admin/_channel/online/"+b.id,r(function(a){a.target.disabled="";a=jg(a.target);C(c,"on",a.online);C(c,"off",!a.online)},this),"POST","online="+B(a.target,"on"))):B(a.target,"program")?Y("/admin/_program",se(),"POST","channel_id="+b.id):B(a.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):B(a.target,"remove")&&confirm("Remove "+b.name+"?")?(O(c,l),Y("/admin/_channels/"+b.id,function(a){jg(a.target).deleted?cc(c):O(c,j)},"DELETE")):((new Yi(b.id)).h(this.rh),Z.a().c("navigate",this.rh,l,b.name))},this))};
n.gh=function(a){var b=H(si,{vf:a});this.nd+=a.pending;this.te.appendChild(b);K(b,"click",r(function(c){B(c.target,"remove")&&confirm("Remove "+a.name+"?")?(O(b,l),Y("/admin/_collections/"+a.id,function(a){jg(a.target).deleted?cc(b):O(b,j)},"DELETE")):B(c.target,"fetch")?Y("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):Y("/admin/_media/collection/"+a.id+"?pending=1",r(function(b){var b=Hg(Ig(b.target)),c=b.medias,c=Oa(c,function(a){return new Rf(a)});
(new Si(a.id,c,b.playlists,b.publishers,b.categories)).h(this.me);Z.a().c("navigate",this.me,l,a.name)},this))},this));Z.a().subscribe("approved",function(c,d){if(d==a.id){var f=E("pending",b),g=mc(f)-1;0>=g?(cc(b),Bc(b)):ic(f,g)}},this)};n.resize=function(){Vd(this.Cl,this.oh+this.sj+this.sh+110)};function Zi(){S.call(this);this.j=new Ki("Add to the conversation.");this.lb=new wf("tweet");of(this.lb,16,j);this.cb=new wf("post");of(this.cb,16,j);var a=X.a().r;this.ze=a.tl;this.gf=a.Ui;this.Bc=new wf("add");this.ng=this.kb=this.Ve=k}u(Zi,S);n=Zi.prototype;n.L=function(){this.d=H(hi)};
n.w=function(){Zi.e.w.call(this);this.j.h(E("comment-textarea",this.b()));var a=this.j;a.yi=70;a.resize();a=new Ze(this.j.Gb());this.ue=E("comment-controls",this.b());this.Ck=E("input-holder",this.b());Me(this,this.lb);this.lb.h(E("tweet-toggle",this.b()));Y("/_twitter",r(function(a){a=jg(a.target);this.gf=this.gf&&a.auth;this.Yl=a.auth_url;nf(this.lb,this.gf)},this));Me(this,this.cb);this.cb.h(E("fb-toggle",this.b()));FB.api("/me/permissions",r(function(a){this.ze=this.ze&&!!a.data[0].publish_stream;
nf(this.cb,this.ze)},this));Me(this,this.Bc);this.Bc.h(E("add-comment",this.b()));this.Bc.ib(l);P(P(P(P(P(P(this.n(),this.j.b(),"focus",r(function(){Md(this.ue,0,0);this.dispatchEvent("focus")},this)),a,"key",r(function(a){this.Bc.ib(this.j.H());"13"==a.keyCode?(a.preventDefault(),a.stopPropagation(),this.Bc.setActive(this.j.H()),this.bd(a)):"8"==a.keyCode&&(!this.H()&&this.kb)&&$i(this)},this)),this.j,"resize",r(function(a){this.dispatchEvent(a)},this)),this.cb,"action",r(this.Wk,this)),this.lb,
"action",r(this.ml,this)),this.Bc,"action",r(this.bd,this));Z.a().subscribe("reply-comment",this.Xi,this);Z.a().subscribe("reply-tweet",this.zl,this);X.a().r.subscribe(ag,function(){nf(this.lb,j)},this)};n.Xi=function(a,b){this.kb&&$i(this);this.Ve=b;this.ng=a.id?a.id:a.toString();this.kb=G("div","token","@"+b.Fb());this.Ck.appendChild(this.kb);this.Ta(j);this.j.b().style.paddingLeft=Q(this.kb).width+5+"px"};
n.zl=function(a){this.kb&&$i(this);this.Wm=a.id;this.Ha((this.H()?this.H()+" ":"")+"@"+a.handle+" ");this.Ta(j);this.lb.ib(j);this.Ta(j);a=this.H().length;this.setSelectionRange(a,a)};function $i(a){a.Ve=k;a.ng=k;cc(a.kb);a.kb=k;a.j.b().style.paddingLeft=""}
n.setSelectionRange=function(a,b){if(this.j.b().setSelectionRange)this.j.b().focus(),this.j.b().setSelectionRange(a,b);else if(this.j.b().createTextRange){var c=this.j.b().createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",a);c.select()}};n.H=function(){return this.j.H()};n.Ha=function(a){return this.j.Ha(a)};n.collapse=function(){return 25!=Od(this.ue).y?(Md(this.ue,0,25),j):l};n.Hd=function(){return B(this.b(),"focused")};
n.Ta=function(a){a&&(this.j.b().focus(),L(r(function(){Md(this.ue,0,0)},this)));return C(this.b(),"focused",a)};n.bd=function(){this.j.H()&&(this.dispatchEvent({type:"add",mh:r(function(a){var b=jg(a.target),a=new aj(b.comment),c=b.tweet?new bj(b.tweet):k;if(b=Xf(Wf.a(),b.comment.media))b.c(Sf,a),c&&b.c("add-tweet",c)},this),Dd:We(this.cb),Vg:We(this.lb),text:this.j.H(),ba:this.ng,ef:this.Ve&&this.Ve.id}),this.j.Ha(""),$i(this))};
n.Wk=function(){!this.ze&&We(this.cb)&&(O(D("overlay"),j),FB.login(r(function(a){O(D("overlay"),l);this.Xj=!!a.authResponse;nf(this.cb,this.Xj)},this),{scope:"publish_stream"}))};n.ml=function(){if(!this.gf&&We(this.lb)){nf(this.lb,l);var a=window.open(this.Yl,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function aj(a){this.id=a.id;this.i=Kg(X.a(),a.user);this.text=a.text;this.time=od(a.time+"Z");this.wl=dd(this.time.getTime());this.ba=a.parent_id;this.Wi=[];w(a.replies,function(a){a=new aj(a);this.Wi.push(a)},this)};function bj(a){this.id=a.id;this.i=a.user&&Kg(X.a(),a.user);this.handle=a.handle;this.T=a.picture;this.text=a.text;this.time=od(a.time+"Z")};function cj(a,b,c,d){S.call(this);this.f=a;this.$a=b||[];this.cc={};this.ie=!!c;this.nb=d||[];this.he={};this.sc=this.ym=0}u(cj,S);n=cj.prototype;
n.J=function(a){cj.e.J.call(this,a);a.innerHTML="";a.scrollTop=0;y(this.b(),"ios-scroll");this.O=G("div","loading",G("div","loading-spinner"));this.b().appendChild(this.O);O(this.O,l);this.oc=G("div","no-comments","Start the conversation.");this.b().appendChild(this.oc);this.z=G("div","comments tweets");this.b().appendChild(this.z);P(P(this.n(),window,"resize",za(L,r(this.resize,this))),this.z,"click",r(this.wf,this));this.$a.length?(w(this.$a,function(a){this.Zb(a)},this),this.Zc=Q(this.z).height):
this.ie&&this.nb.length?(w(this.nb,function(a){this.Cc(a)},this),this.Zc=Q(this.z).height):O(this.O,j);this.ie?(Y("/_tweet/"+this.f.id+"?offset="+this.nb.length,r(function(a){O(this.O,l);a=Hg(Ig(a.target));a=Oa(a,function(a){a=new bj(a);this.Cc(a);return a},this);this.Zc=Q(this.z).height;this.resize()},this)),this.f.subscribe("add-tweet",function(a){this.Cc(a,j)},this)):(Y("/_comment/"+this.f.id+"?offset="+this.$a.length,r(function(a){O(this.O,l);a=Hg(Ig(a.target));a=Oa(a,function(a){a=new aj(a);
this.Zb(a);return a},this);this.Zc=Q(this.z).height;this.resize()},this)),this.f.subscribe(Sf,this.Zb,this),this.f.subscribe(Tf,this.xg,this));this.resize(41)};
n.Cc=function(a,b){this.he[a.id]=a;O(this.oc,l);var c=Gi(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=H(fi,{yb:a,text:c,timestamp:dd(a.time.getTime())});ed(cd.a(),a.time,E("timestamp",c));b?bc(this.z,c,0):this.z.appendChild(c);this.resize();O(gc(this.z),j)};
n.wf=function(a){a=a.target;if(this.ie){var b=pc(a,k,"tweet");b&&(b=this.he[b.id.split("-")[1]],B(a,"reply")&&Z.a().c("reply-tweet",b))}else if(b=pc(a,k,"comment")){var b=b.id.split("-")[1],c=this.cc[b];B(a,"reply")?Z.a().c("reply-comment",c.ba?this.cc[c.ba]:c,c.i):B(a,"remove")&&this.f.c(Tf,b)}};n.xg=function(a){var a=D("listcomment-"+a),b=a.nextSibling;for(cc(a);b&&B(b,"reply");)b=b.nextSibling,cc(b)};
n.Zb=function(a){O(this.oc,l);this.cc[a.id]=a;var b=H(gi,{prefix:"listcomment",qb:a,text:Gi(a.text),timestamp:dd(a.time.getTime()),Ri:a.i.id==X.a().r.id});ed(cd.a(),a.time,E("timestamp",b));this.z.appendChild(b);this.resize()};n.resize=function(a){this.sc=a||this.sc;Vd(this.b(),F().height-42-this.sc-(pc(this.b(),k,"tabbed")?30:0))};function dj(a,b,c,d){S.call(this);this.f=this.p=a;this.$a=b||[];this.nb=c||[];this.ie=!!d;this.xf=new cj(a,this.$a);this.Tg=new cj(a,i,j,this.nb);this.j=new Zi;this.jb=["comments","tweets"]}u(dj,S);n=dj.prototype;n.J=function(a){dj.e.J.call(this,a);y(a,"conversation");y(a,"ios-scroll");uc(a,vi);y(a.firstChild,this.ie?"tweets":"comments")};
n.w=function(){this.Ia=E("tabs",this.b());this.xf.h(E("comments-content",this.b()));this.Tg.h(E("tweets-content",this.b()));Ke(this.j,this.b());P(P(P(P(P(P(P(this.n(),this.Ia,"click",r(function(a){a=pc(a.target,"li");this.Nb(a)},this)),this.j,"add",r(this.bd,this)),this.j,"resize",r(function(){B(this.b().firstChild,"comments")?this.xf.resize(41):this.Tg.resize(41)},this)),window,"click",r(function(a){!pc(a.target,k,"comment-input")&&!this.j.H()&&(this.j.Ta(l),this.j.collapse())},this)),E("no-comments",
this.b()),"click",r(this.Ni,this)),Wb("no-comments",this.b())[1],"click",r(this.Ni,this)),window,"click",r(function(a){!pc(a.target,k,"comment-input")&&!this.j.H()&&(this.j.Ta(l),this.j.collapse())},this));this.xf.resize(41);this.Tg.resize(41)};n.Ni=function(a){a.preventDefault();a.stopPropagation();this.j.Ta(j)};
n.bd=function(a){Y("/_comment",a.mh,"POST","media_id="+this.f.id+"&text="+a.text+"&tweet="+a.Vg+"&facebook="+a.Dd+(a.ba?"&parent_id="+a.ba:"")+(a.ef?"&to_user_id="+a.ef:""));a.Dd&&!a.ba&&(FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.Wa,caption:"on XYLO",description:this.f.description},aa()),nf(this.j.cb,l))};n.Nb=function(a){w(this.jb,function(b){C(this.Ia.parentElement,b,B(a,b));this.G=B(a,b)?b:this.G},this)};function dd(a){var b=s(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return ej(c,b,0);c=Math.floor(c/60);if(24>c)return ej(c,b,1);c=new Date(s());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?ej(c,b,2):""}
function ej(a,b,c){return!b&&0==c?(b=Aa("{$num} minute ago",{num:a}),c=Aa("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=Aa("in {$num} minute",{num:a}),c=Aa("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=Aa("{$num} hour ago",{num:a}),c=Aa("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=Aa("in {$num} hour",{num:a}),c=Aa("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=Aa("{$num} day ago",{num:a}),c=Aa("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=Aa("in {$num} day",{num:a}),c=Aa("in {$num} days",
{num:a}),1==a?b:c):""};function fj(a,b,c,d){S.call(this);w(a.Tk,function(a){var b=a.g();b&&b.media.id==this.id?(this.rl=a,w(a.Ac,function(a){a.zc||(this.vb[a.i.id]=a.i)})):this.vb={}},a);this.f=this.p=a;this.Me=c||k;this.ti=d||k;this.bi=l;this.Kh=!b;this.pd={};this.$a=[];this.cc={};this.ri={};this.nb=[];this.he={};this.j=new Zi;this.be=new wf("Star");of(this.be,16,j);this.Ih=new wf("Facebook");this.vj=new wf("Twitter");this.Ca=new wf("Play");this.dd=new wf("Plus");of(this.dd,16,j);this.sc=0}u(fj,S);n=fj.prototype;
n.L=function(){this.d=H(di,{media:this.f})};n.J=function(a){fj.e.J.call(this,a);var b=H(di,{media:this.f,description:this.f.description?Gi(this.f.description):"",qc:Vf(this.f),Fk:this.Me?this.Me.id:k});a.innerHTML=b.innerHTML};
n.w=function(){fj.e.w.call(this);this.zb=E("viewers",this.b());var a=E("picture",this.b()),b=E("scrollable",this.b()),c=E("publisher",this.b()),d=E("title",this.b()),f=E("links",this.b());this.O=E("loading",this.b());var g=a.firstChild;this.Oj=E("info-contents",this.b());this.en=E("tweet-holder",this.b());this.mb=E("tweets",this.b());this.gc=E("dot-nav",this.b());this.z=E("comments",this.b());this.oc=E("no-comments",this.b());Ke(this.j,this.b());this.be.h(E("star",this.b()));this.Ih.h(E("facebook",
this.b()));this.vj.h(E("twitter",this.b()));this.Ca.h(E("play",this.b()));this.dd.h(E("plus",this.b()));this.Ug=new $c(5E3);this.kn=E("watch-with",this.b());!this.Kh||this.f.Lh?gj(this,l,this.f.description,this.f.Ze,this.f.uj,this.f.Db):this.Kh&&Y("/_info/"+this.f.id,r(function(a){a=Hg(Ig(a.target));gj(this,j,a.description,a.seen,a.tweets,a.comments)},this));P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(this.n(),window,"resize",za(L,r(this.resize,this))),c,"click",r(function(){Z.a().c("media-list",
this.f.Ea.name,i,"/admin/_media/publisher/"+this.f.Ea.id,this.f.Ea.T,this.f.Ea.description,this.f.Ea.link,"/_publisher/"+this.f.Ea.id)},this)),this.be,"action",r(function(){Wf.a().c("star",this.f,We(this.be));Y("/_star",i,"POST","media_id="+this.f.id+(!We(this.be)?"&delete=1":""))},this)),this.Ih,"action",r(this.Vk,this)),this.vj,"action",r(this.ll,this)),this.Ca,"action",r(this.$k,this)),this.dd,"action",r(this.cl,this)),this.dd.b(),"mousedown",r(this.dl,this)),E("local",this.b()),"click",r(function(){O(E("link-select",
this.b()),j);E("link-input",this.b()).select()},this)),this.j,"add",r(this.bd,this)),this.oc,"click",r(function(a){a.preventDefault();a.stopPropagation();this.j.Ta(j)},this)),E("conv-link",this.b()),"click",r(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.f,this.$a,this.nb)},this)),E("tweets-link",this.b()),"click",r(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.f,this.$a,this.nb,j)},this)),this.j,"focus",r(function(){this.resize(25,
j)},this)),this.j,"resize",r(function(a){this.resize(25+(a.target.za-41))},this)),this.gc,"click",r(function(a){B(a.target,"dot")&&(hj(this,a.target),this.Ug.stop())},this)),this.Ug,bd,r(function(){var a=this.xd&&ec(this.xd)||E("dot",this.b());L(r(function(){hj(this,a)},this))},this)),window,"click",r(function(a){!pc(a.target,k,"comment-input")&&!this.j.H()&&(this.j.Ta(l),this.j.collapse()&&this.resize(0))},this)),g,"load",function(){O(g,j);L(function(){Q(g).height<Q(a).height+50&&y(g,"fix-height");
Q(g).width>2*Q(a).width?y(g,"pan-left"):Q(g).height>2*Q(a).height&&y(g,"pan-top");g.style.marginTop=-Q(g).height/2+"px";g.style.marginLeft=-Q(g).width/2+"px";y(g,"show")})}),b,"scroll",r(function(){var h=(120-b.scrollTop)/100;Zd(c,Math.min(1,Math.max(h,0)));Zd(d,Math.min(1,Math.max(h,0)));Zd(f,Math.min(1,Math.max(h,0)));Zd(g,Math.min(0.5,Math.max(h,0.1)));C(a,"scrolled",10<b.scrollTop)},this)),this.z,"scroll",r(this.Ag,this)),this.z,"click",r(this.wf,this)),this.mb,"click",r(this.Xl,this)),E("desc-link",
this.b()),"click",r(function(){var c=Hb(a,"scrolled");(new Ce(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,c?170:0],300)).play()},this));this.Me&&P(this.n(),E("prev-link",this.b()),"click",r(function(){Z.a().c(Cg,this.Me,j,i,this.j.H())},this));this.ti&&this.j.Ha(this.ti);this.f.subscribe(Sf,function(a){this.Zb(a,j)},this);this.f.subscribe(Tf,this.xg,this);this.f.subscribe("add-tweet",function(a){this.Cc(a,j)},this);this.f.subscribe(Uf,function(a,b,c){ij(this,a,c)},this)};
function gj(a,b,c,d,f,g){c?(a.f.description=c,E("description",a.b()).innerHTML=Gi(c),O(E("scrollable",a.b()),j)):(O(E("desc-link",a.b()),l),O(E("scrollable",a.b()),l));c=Oa(d,function(a){var c=b?Kg(X.a(),a):a;if(c.id!=X.a().r.id){O(this.zb,j);this.bi=j;var d=H(ei,{i:c,Fb:c.Fb});this.zb.appendChild(d);this.pd[a.id]=d;P(this.n(),d,"click",function(){Z.a().c(Dg,a)})}return c},a);Lb(a.f.vb,function(a){ij(this,a)},a);a.nb=Oa(f,function(a){a=b?new bj(a):a;this.Cc(a);this.xd=this.gc.firstChild;y(this.xd,
"selected");return a},a);f.length&&a.Ug.start();a.z&&O(a.z.parentElement,j);O(a.oc,!g.length);g=Oa(g,function(a,c){var d=b?new aj(a):a;d.ba||this.Zb(d,c==g.length-1);return d},a);O(a.O,l);a.resize();b&&(a.f.uj=a.nb,a.f.Db=g,a.f.Ze=c,a.f.Lh=j)}n.Ib=function(){return this.j.Hd()||!!this.j.kb||!!this.j.H()};
function hj(a,b){if(b){w(dc(a.gc),function(a){return z(a,"selected")});a.xd=b;y(a.xd,"selected");var c=Sa(dc(a.gc),function(a){return a==b});(new Ce(a.mb,[a.mb.scrollLeft,a.mb.scrollTop],[320*c,a.mb.scrollTop],200)).play();a.resize()}}
n.bd=function(a){Y("/_comment",a.mh,"POST","media_id="+this.f.id+"&text="+a.text+"&tweet="+a.Vg+"&facebook="+a.Dd+(a.ba?"&parent_id="+a.ba:"")+(a.ef?"&to_user_id="+a.ef:""));a.Dd&&!a.ba&&(FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.Wa,caption:"on XYLO",description:this.f.description},aa()),nf(this.j.cb,l));dg.a().qb(this.f.id,a.Dd,a.Vg)};
n.Cc=function(a,b){this.he[a.id]=a;var c=Gi(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=H(fi,{yb:a,text:c,timestamp:dd(a.time.getTime()),prefix:"infotweet"}),d=G("div","dot");ed(cd.a(),a.time,E("timestamp",c));b?(bc(this.mb,c,0),bc(this.gc,d,0),10<dc(this.mb).length&&(cc(this.mb.lastChild),cc(this.gc.lastChild),
hj(this,d))):(this.mb.appendChild(c),this.gc.appendChild(d));this.resize();O(gc(this.mb),j)};
n.Zb=function(a,b){this.$a.push(a);this.cc[a.id]=a;O(this.oc,l);var c=H(gi,{prefix:"infocomment",qb:a,text:Gi(a.text),timestamp:dd(a.time.getTime()),Ri:a.i.id==X.a().r.id});ed(cd.a(),a.time,E("timestamp",c));if(a.ba){var d=this.ri[a.ba];d.parentNode&&d.parentNode.insertBefore(c,d.nextSibling)}else this.z.appendChild(c);this.ri[a.ba||a.id]=c;this.resize(this.j.Hd()?25:0,j);w(a.Wi,function(a){this.Zb(a,b)},this);b&&this.f.vb[a.i.id]&&this.j.Xi(a.ba||a.id,a.i)};
function ij(a,b,c){if(c&&a.pd[b.id])z(a.pd[b.id],"online");else if(b.id!=X.a().r.id){if(!a.pd[b.id]){var d=H(ei,{i:b});a.pd[b.id]=d;bc(a.zb,d,1);P(P(P(a.n(),d,"click",function(){Z.a().c(Dg,b)}),d,"mouseover",function(){var a=Od(d),c=Od(this.zb),h=D("hovercard");ic(h,b.Fb()+(B(d,"online")?" is watching":" saw this"));var m=Q(h);h.style.right=320-c.x-a.x-m.width/2-12+"px";h.style.top=c.y+a.y+210+"px";O(h,j)}),d,"mouseout",function(){O(D("hovercard"),l)})}O(a.zb,j);ic(E("status",a.zb),"WATCHING"+(a.bi?
" + SEEN":""));y(a.pd[b.id],"online")}}n.Xl=function(a){var a=a.target,b=pc(a,k,"tweet");b&&(b=this.he[b.id.split("-")[1]],B(a,"reply")&&Z.a().c("reply-tweet",b))};n.wf=function(a){var a=a.target,b=pc(a,k,"comment");if(b){var b=b.id.split("-")[1],c=this.cc[b];B(a,"reply")?Z.a().c("reply-comment",c.ba?this.cc[c.ba]:c,c.i):B(a,"remove")&&this.f.c(Tf,b)}};n.xg=function(a){var b=D("infocomment-"+a),c=b.nextSibling;cc(b);for(Va(this.$a,function(b){return b.id==a});c&&B(c,"reply");)c=c.nextSibling,cc(c)};
n.Ag=function(){C(this.z.parentElement,"top-grad",!!this.z.scrollTop);var a=this.z.style.maxHeight,b=F().height,a=a.substring(0,a.length-2),c=Q(this.z).height;C(this.z.parentElement,"bottom-grad",this.z.scrollTop<this.z.scrollHeight-a-5&&c>=a&&640<b)};
n.resize=function(a,b){this.sc=a!=i?a:this.sc;var c=F().height;Vd(this.Oj,c-283);640<c&&this.z&&this.z.parentElement?(Hd(this.z,"max-height",c-Od(this.z.parentElement).y-313-this.sc+"px"),this.Ag()):640>c&&(Hd(this.z,"max-height",""),this.Ag());b&&L(r(function(){(new Ce(this.z,[this.z.scrollLeft,this.z.scrollTop],[this.z.scrollLeft,this.z.scrollHeight],400)).play()},this),0)};
n.Vk=function(){O(D("overlay"),j);FB.ui({method:"feed",name:this.f.name,link:this.f.link,T:this.f.Wa,caption:"on XYLO",description:this.f.description},function(){O(D("overlay"),l)});jj(dg.a(),this.f.id,j,l)};n.ll=function(){var a=window.open("https://twitter.com/share?url="+this.f.link+"&text=I'm watching "+this.f.name+" "+this.f.link,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();jj(dg.a(),this.f.id,l,j)};n.$k=function(){var a=Zf(this.p);W.a().c(Hf,a)};
n.dl=function(){if(!W.a().g()||!W.a().g().async)this.Ca.setActive(j),L(r(function(){this.Ca.setActive(l)},this),2E3)};n.cl=function(){if(!W.a().g()||!W.a().g().async){var a=Zf(this.p);W.a().c(Hf,a);this.Ca.setActive(l);nf(this.dd,l)}else If().c(gg,this.p,We(this.dd)),Pf.a().c("flash","Added to queue",this.f.name,i,this.f.Wa)};function kj(a,b,c,d,f,g){S.call(this);this.ua=yf();this.Bi=a||k;this.od=b||k;this.bg={};this.Og=c||k;this.Lc=d||k;this.zh=g||k;this.Ik=f||k;this.Df=this.ua?new Ei:k;this.Zc=this.gi=0}u(kj,S);
kj.prototype.J=function(a){kj.e.J.call(this,a);a.innerHTML="";a.scrollTop=0;y(this.b(),"ios-scroll");(this.Lc||this.Og)&&lj(this);!this.Lc&&this.zh&&Y(this.zh,r(function(a){a=jg(a.target);a.description&&this.Od?(E("description",this.Od).innerHTML=Gi(a.description),this.gi=Q(this.Od).height,this.resize()):a.description&&lj(this)},this));this.O=G("div","loading",G("div","loading-spinner"));this.b().appendChild(this.O);O(this.O,l);B(this.b(),"starred")&&(this.ad=G("div","no-comments","Favorities will appear here."),
this.b().appendChild(this.ad));this.Oe=G("div","medias");this.b().appendChild(this.Oe);P(this.n(),window,"resize",za(L,r(this.resize,this)));this.od?(O(this.O,j),Y(this.od,r(function(a){O(this.O,l);a=Hg(Ig(a.target));a=Oa(a,function(a){return new Rf(a)});w(a,this.lf,this);this.Zc=Q(this.Oe).height;this.resize()},this))):this.Bi&&(w(this.Bi,this.lf,this),this.Zc=Q(this.Oe).height,this.resize())};
kj.prototype.lf=function(a){this.ad&&O(this.ad,l);var b=H(wi,{media:a}),c=E("preview",b);this.Oe.appendChild(b);if(this.ua){var d=this.Df,f=new Di(b,i);Fi(d,f)}P(P(this.n(),b,"click",r(function(){Z.a().c(Cg,a)},this)),c,"click",r(function(b){b.stopPropagation();b=Zf(a);W.a().c(Hf,b);Z.a().c(Cg,a)},this));this.bg[a.id]=b};kj.prototype.resize=function(){Vd(this.b(),F().height-40-(pc(this.b(),k,"tabbed")?30:0))};
function lj(a){a.Od=H(ki,{Wa:a.Og,description:a.Lc?Gi(a.Lc):"",link:a.Ik});a.b().appendChild(a.Od);a.gi=Q(a.Od).height;a.resize()}kj.prototype.eg=function(a,b){Y("/admin/_addprogram",r(function(b){b=Hg(Ig(b.target));b=new Yf(b);a.c(fg,b)},this),"POST","channel="+a.id+"&media="+b.id)};function mj(a){S.call(this);this.Zg=this.p=a;this.jb=["activity","starred"]}u(mj,S);mj.prototype.J=function(a){mj.e.J.call(this,a);y(a,"profile");y(a,"ios-scroll");uc(a,ui)};
mj.prototype.w=function(){this.Ia=E("tabs",this.b());Y("/_star/"+this.Zg.id,r(function(a){a=jg(a.target);a=Oa(a,function(a){return new Rf(a)});this.ce=new kj(a);this.ce.h(E("starred-content",this.b()))},this));Y("/_activity/"+this.Zg.id,r(function(a){a=jg(a.target);this.Jg=new nj(a,this.Zg.id);this.Jg.h(E("activity-content",this.b()))},this));P(this.n(),this.Ia,"click",r(function(a){a=pc(a.target,"li");this.Nb(a)},this));Wf.a().subscribe("star",function(a,b){if(b)this.ce.lf(a);else{var c=this.ce,
d=c.bg[a.id];d&&(Bc(d),Pb(c.bg,a.id))}},this)};mj.prototype.Nb=function(a){w(this.jb,function(b){C(this.Ia.parentElement,b,B(a,b));this.G=B(a,b)?b:this.G},this)};function nj(a,b){S.call(this);this.Ej=a;this.je=b||k;this.V=0;this.jc=l;this.Mh=[];this.vd=[];this.Yc=[];this.eh=[]}u(nj,S);
nj.prototype.J=function(a){nj.e.J.call(this,a);a.innerHTML="";a.scrollTop=0;y(a,"stream");y(a,"ios-scroll");this.td=G("div","activities");this.b().appendChild(this.td);this.O=G("div","spinner");this.b().appendChild(this.O);O(this.O,l);this.ad=G("div","no-comments",this.je?"Your activity will appear here.":"Friends' activity will appear here.");this.b().appendChild(this.ad);oj(this,this.Ej);X.a().subscribe("new-activity",function(a){(this.je==a.user.id||!this.je&&a.user.id!=X.a().r.id)&&pj(this,a,
i,i,j)},this);P(P(this.n(),this.b(),"scroll",r(function(){!this.jc&&this.b().scrollTop+F().height>this.b().scrollHeight-60&&qj(this)},this)),window,"resize",za(L,r(this.resize,this)));this.resize()};function qj(a){O(a.O,j);Y("/_activity"+(a.je?"/"+a.je:"")+"?offset="+a.V,r(function(a){this.Mh[String(a.target.Md)]||(this.Mh[String(a.target.Md)]=j,a=jg(a.target),this.jc=!a.length,C(this.O,"finished",this.jc),O(this.O,this.jc),oj(this,a))},a))}
function oj(a,b){a.vd=[];a.Yc=[];w(b,function(a){this.V++;switch(a.type){case "session":var a=a.session,b=a.channel_id in this.vd?this.vd[a.channel_id]:[];b.push(a);this.vd[a.channel_id]=b;break;case "comment":a=a.comment,b=a.media.id in this.Yc?this.Yc[a.media.id]:[],b.push(a),this.Yc[a.media.id]=b}},a);Lb(a.vd,function(a){pj(this,i,a,"session")},a);Lb(a.Yc,function(a){pj(this,i,a,"comment")},a)}
function pj(a,b,c,d,f){O(a.ad,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],m=b?[Kg(X.a(),b.user)]:[],q=b?od(b.time+"Z"):k;c&&w(c,function(a){Ra(m,function(b){return b.id==a.user.id})||m.push(Kg(X.a(),a.user));var b=od((a.time||a.tune_in)+"Z");q=q&&q.getTime()>b.getTime()?q:b;"session"==g&&w(a.media,function(a){!this.Yc[a.id]&&!Ra(h,function(b){return b.id==a.id})&&h.push(a)},this)},a);switch(g){case "session":var d=b?b.session:c[0],t=V.a().get(d.channel_id),h=b?b.session.media:h,b=H(ii,{ka:m,S:t,time:dd(q.getTime()),
tj:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[c[0].media],v=b?[new aj(b.comment)]:[];c&&w(c,function(a){v.push(new aj(a))});b=H(ji,{Db:v.reverse().slice(0,3),ka:m,media:h[0]});break;default:return}if(h.length){ed(cd.a(),q,E("timestamp",b));d=Sa(a.eh,function(a){return a.time<q.getTime()});$a(a.eh,d,0,{time:q,element:b});var A=E("medias",b);w(h,function(a){var b=new Rf(a),a=H(wi,{media:b}),c=E("preview",a);E("thumb",a);A.appendChild(a);P(P(this.n(),a,"click",function(){Z.a().c(Cg,
b)}),c,"click",function(a){a.stopPropagation();a=Zf(b);W.a().c(Hf,a);Z.a().c(Cg,b)})},a);f?bc(a.td,b,0):c?bc(a.td,b,d):a.td.appendChild(b);L(za(y,b,"show"))}}nj.prototype.resize=function(){var a=F().height-40-(pc(this.b(),k,"tabbed")?40:10);Vd(this.b(),a);Q(this.td).height<a&&qj(this)};function rj(){S.call(this);this.ua=yf();this.Hj=new Yi;this.jb={};this.Tb=[];this.fd=[]}u(rj,S);n=rj.prototype;
n.w=function(){rj.e.w.call(this);this.ud=E("arrow",this.yc);this.zf=D("sidebar-content");this.Ai=D("media-list");this.sg=D("profile");this.wh=D("conversation");this.yc=D("toolbar");this.Ia=E("tabs",this.b());var a=new Ze(document);w(dc(this.Ia),function(a){var b=Gb(a)[0];this.jb[b]=a;this.Tb.push(b)},this);this.gg();Y("/_activity",r(function(a){a=jg(a.target);this.Jg=new nj(a);this.Jg.h(D("stream"))},this));this.ce=new mj(X.a().r);this.ce.h(D("my-profile"));this.aa?(this.M=D("info"),this.G="info",
sj(this,"info","info")):(this.M=D("stream"),this.G="stream",sj(this,"info","stream"));var b="left";w(this.Tb,function(a){var c=E(a,this.zf);a==this.G?b="right":y(c,b)},this);this.fd=[this.M,""];y(this.M,"current");if(this.ua){this.Hj.h(D("admin"));var c=H(li,{name:"ADMIN",className:"admin"});this.Ia.appendChild(c);this.jb.admin=c;this.Tb.push("admin")}tj(this);P(P(P(P(this.n(),E("back-button",this.yc),"click",r(function(a){var b=this.fd.shift();this.navigate(b[0],j,b[1]);tj(this);a.stopPropagation()},
this)),this.Ia,"click",r(function(a){var b=this.G,c=pc(a.target,"li"),h=Gb(c)[0];sj(this,this.G,h);y(c,"selected");tj(this);b!=this.G&&a.stopPropagation()},this)),this.yc,"click",r(function(a){((a=pc(a.target,"li"))&&Gb(a)[0]==this.G||!a)&&(new Ce(this.M,[this.M.scrollLeft,this.M.scrollTop],[this.M.scrollLeft,0],300)).play()},this)),a,"key",r(function(a){a.ctrlKey&&"68"==a.keyCode&&Hb(this.b(),"dark")},this));DESKTOP&&N.a().subscribe(gd,function(a){C(this.b(),"toggled",a);L(r(function(){C(this.b(),
"collapsed",!a)},this),!a?500:0)},this);Z.a().subscribe("navigate",this.navigate,this);Z.a().subscribe("conversation",this.Gl,this);Z.a().subscribe("media-list",this.Jl,this);Z.a().subscribe(Cg,this.ij,this);Z.a().subscribe(Dg,this.Kl,this);V.a().subscribe(Gf,this.gg,this);W.a().subscribe(Hf,this.gg,this);V.a().subscribe(Df,this.Sk,this);DESKTOP&&N.a().subscribe("toggle-admin",function(a){C(this.b(),"admin",a);a?(N.a().c(gd,j),sj(this,this.G,"admin")):"admin"==this.G&&sj(this,"admin","info")},this)};
n.gg=function(a){if(a=a||V.a().l.g())if(this.dc=a.media,!this.aa||this.dc.id!=this.aa.p.id){var a=this.aa&&this.aa.j.H()?this.aa.j.H():k,b=this.aa?this.aa.f:k;Bc(this.aa);this.aa=new fj(this.dc,l,b,a);this.aa.h(D("info"))}};n.Sk=function(a){a=a||V.a().l;if((this.dc=a.g()&&a.g().media)&&(!this.aa||this.dc.id!=this.aa.p.id))Bc(this.aa),this.aa=new fj(this.dc),this.aa.h(D("info")),this.ij(this.dc)};
function sj(a,b,c){var d=E(c,a.zf),f=Ma(a.Tb,b),b=Ma(a.Tb,c),g=(f=f<b)?0:a.Tb.length-1,h=f?g<a.Tb.length:0<=g;for(g;h;g+=f?1:-1){var m=E(a.Tb[g],a.zf);if(f&&g>b||!f&&g<b)y(m,"right"),z(m,"left");else if(f&&g<b||!f&&g>b)C(m,"left",f),y(m,"right");else if(g==b){z(m,"right");z(m,"left");break}}a.G=c;$a(a.fd,0,0,[a.M,""]);z(a.M,"current");a.M=d;y(a.M,"current");tj(a)}
n.navigate=function(a,b,c){if(a!=this.M){var d=B(this.M,"screen");b?(z(this.M,"on"),z(this.M,"current"),y(a,"current"),this.M=a):(C(this.M,"on",!d),b=[this.M,mc(E("back-title",this.yc))],$a(this.fd,0,0,b),z(this.M,"current"),this.M=a,y(this.M,"current"));C(this.yc,"back",B(this.M,"slide"));c&&ic(E("back-title",this.yc),c)}};n.Gl=function(a,b,c,d){(new dj(a,b,c,d)).h(this.wh);Z.a().c("navigate",this.wh,l,a.name)};
n.Jl=function(a,b,c,d,f,g,h){(new kj(b,c,d,f,g,h)).h(this.Ai);Z.a().c("navigate",this.Ai,l,a,d,f)};n.ij=function(a,b,c,d){if(this.aa&&a.id==this.aa.p.id){z(this.yc,"back");for(a=this.fd[0][0];a&&B(a,"slide");)a=this.fd.shift();sj(this,this.G,"info")}else{var f=D("media-info");(new fj(a,b,c,d)).h(f);Z.a().c("navigate",f,l,a.name)}DESKTOP&&N.a().c(gd,j)};
n.Kl=function(a){if(!this.tg||!(this.tg.p.id==a.id&&this.M==this.sg))this.tg=new mj(a),this.tg.h(this.sg),Z.a().c("navigate",this.sg,l,a.name),DESKTOP&&N.a().c(gd,j)};function tj(a){var b=Math.round(Q(a.jb[a.G]).width/2+Od(a.jb[a.G]).x);a.ud.style.transform="translate3d("+b+"px, 0,0)";a.ud.style.msTransform="translate3d("+b+"px, 0,0)";a.ud.style.WebkitTransform="translate3d("+b+"px, 0,0)";a.ud.style.MozTransform="translate3d("+b+"px, 0,0)";a.ud.style.Dj="translate3d("+b+"px, 0,0)"};function uj(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div><div class="restart" style="display:none">TRY AGAIN</div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="logo"></div></div><div id="guide" class="guide'+(a.Qh?
" toggled":" collapsed")+(a.sidebar?" sidebar-toggled":"")+'"><div id="channels" class="channels"></div><div class="header" id="header"><div class="times"><div id="now-left" class="left browse">&#9664;<span> NOW</span></div><div id="now-right" class="right browse"><span>NOW </span>&#x25B6;</div></div></div><div id="my-ticker" class="my-ticker" style="display:none"><div class="me" style="background:'+I(a.i.color)+";border-color:"+I(a.i.color)+';"><img src="'+I(a.i.T)+'"/></div></div><div id="ticker" class="ticker"><div id="go-live" class="go-live">GO LIVE</div></div><div class="pan-handle" id="pan-handle"></div></div><div id="controller" class="controller'+
(a.Qh?" guide-toggled":" collapsed")+(a.sidebar?" sidebar-toggled":"")+'"><div class="background"></div><div class="left"><div id="guide-toggle" class="guide-toggle dark button">GUIDE</div><div class="controls"><div class="restart dark button"><div class="icon"></div></div><div class="play dark button"><div class="icon"></div></div><div class="volume dark button"><div class="icon"></div></div></div><div class="border"></div></div><div class="right"><div id="info-toggle" class="info-toggle dark button"><div class="icon"></div></div><div id="admin-toggle" class="admin-toggle dark button" style="display: none"><div class="icon"></div><div id="toggle-pending" class="pending" style="display:none"></div></div><div id="sidebar-toggle" class="sidebar-toggle dark button"><div class="icon"></div></div><div class="border"></div></div><div class="progress" style="display: none"><div class="elapsed animate"><div class="seek"></div></div><div class="title"></div><div class="current-time"></div><div class="duration"></div></div></div><div id="sidebar" class="'+
(a.sidebar?"toggled":"collapsed")+'"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM</div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="conversation" class="slide"></div>'+
(a.mf?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="notify" class="notify"></div><div id="hovercard" class="watch-with" style="display: none"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'}
;function dg(){}la(dg);_gaq=[];dg.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};dg.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",X.a().r.id])};
function kg(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",X.a().r.id])}dg.prototype.ac=function(a,b){a.C||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
dg.prototype.qb=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",X.a().r.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",X.a().r.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",X.a().r.id])};
function jj(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",X.a().r.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",X.a().r.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",X.a().r.id]);Y("/_share",se(),"POST","facebook="+c+"&twitter="+d)}ga("_gaq",_gaq);function vj(){M.call(this);this.xi=l}u(vj,M);la(vj);vj.prototype.init=function(a){this.kb=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=r(this.Zk,this);a.onclose=r(this.Ji,this);window.onbeforeunload=r(this.Ji,this);return this};
vj.prototype.Zk=function(a){var b=Hg(a.data);switch(b.type){case "viewer_change":var c=Kg(X.a(),b.user),d=b.time&&od(b.time+"Z");c.ve&&d&&c.ve.end(d);if(a=b.last_channel_id&&V.a().get(b.last_channel_id))a.c("remove-viewer",c),c.yd&&c.yd.c(Uf,c,a,j);var f=b.channel_id&&V.a().get(b.channel_id),a=b.media&&Xf(Wf.a(),b.media);f&&(d=d||new pd,d=new cg(b.session_id,c,f,d),c.ve=d,f.c(hg,d),a=(d=f.g())?d.media:a);a&&a.c(Uf,c,f);break;case "new_comment":c=new aj(b.comment);if(c.i.id!=X.a().r.id&&(d=b.tweet?
new bj(b.tweet):k,a=Xf(Wf.a(),b.comment.media)))a.c(Sf,c),d&&a.c("add-tweet",d);break;case "new_activity":X.a().c("new-activity",b.activity);break;case "update_programs":a=b.programs;f=V.a().get(b.channel_id);w(a,function(a){f.c(ig,a)},this);break;case "new_programs":w(b.programs,r(function(a){var a=new Yf(a),c=V.a().get(b.channel_id);if(c&&(c.c(fg,a),!V.a().l||!V.a().l.g()))V.a().c(Df,c),V.a().c(Gf,a)},this));break;case "twitter_auth":X.a().r.c(ag)}};
vj.prototype.Ji=function(){if(!this.xi){var a=V.a().l.C&&V.a().l.yd&&Math.floor(W.a().getCurrentTime());DESKTOP&&Y("/_settings",se(),"POST","show_guide="+N.a().mc+"&show_sidebar="+N.a().vc+(a?"&current_seek="+a:""));this.xi=j}};function wj(){M.call(this);this.Ym=[]}u(wj,M);la(wj);wj.prototype.Yf=function(a){Lb(a,r(function(a,c){w(a,r(function(a){a=new Yf(a);V.a().Fc[c]&&V.a().Fc[c].Bb(a)},this))},this))};var xj=l;function yj(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var zj=navigator.plugins["Shockwave Flash"];zj&&(xj=j,zj.description&&yj(zj.description));navigator.plugins["Shockwave Flash 2.0"]&&(xj=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Aj=navigator.mimeTypes["application/x-shockwave-flash"];(xj=Aj&&Aj.enabledPlugin)&&yj(Aj.enabledPlugin.description)}else try{var Bj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),xj=j;yj(Bj.GetVariable("$version"))}catch(Cj){try{Bj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
xj=j}catch(Dj){try{Bj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),xj=j,yj(Bj.GetVariable("$version"))}catch(Ej){}}};function Fj(a,b,c,d,f,g,h,m){this.od=a;this.Kj=b;this.Lc=c;this.Wb=d;this.Tm=f;this.Mm=g;this.Ja=h;this.za=m;this.Sl=[];this.tf=[];this.Bm=[];this.an=[]}Fj.prototype.Oh=ca("Kj");Fj.prototype.gj=function(a){this.Wb=a;return this};Fj.prototype.Fg=function(a){this.v=a;return this};function Gj(a){this.od=a;this.Nl=k}function Hj(a){this.od=a;this.Nl=this.gn=k};function Ij(a,b,c){Fj.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.ah=a;this.Sl=[new Gj("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.Fg(new Hj("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}u(Ij,Fj);
var Jj=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function Gg(a){var b=Jj.exec(a);if(b)return new Ij(b[1]||b[2],i,i);e(Error("failed to parse video id from youtube url: "+a))};function Kj(a){S.call(this);this.bm=IPAD||IPHONE?k:vj.a().init(a);this.Pj=new zh;this.fk=new xf;this.Ml=new rj;this.v=new Kh;this.Qk=new Gh}u(Kj,S);Kj.prototype.J=function(a){Kj.e.J.call(this,a);var b=H(uj,{i:X.a().r,mf:yf(),Qh:X.a().r.Il&&!V.a().l.C,sidebar:X.a().r.Ll});bc(a,b,0)};
Kj.prototype.w=function(){Kj.e.w.call(this);this.Pj.h(D("controller"));this.fk.h(D("guide"));this.Ml.h(D("sidebar"));this.v.h(D("stage"));this.Qk.h(D("notify"));this.Xm=new ci;if(!X.a().r.Zl){X.a();var a=D("welcome");O(a,j);P(this.n(),a,"click",function(){O(a,l);Y("/_welcomed",se(),"POST")})}P(this.n(),document.body,"touchmove",function(a){pc(a.target,"div","ios-scroll")||a.preventDefault()});P(this.n(),window,"click",function(a){var c=pc(a.target,"a");if(c=c?c.href:k)if((c=c.match("#(.*):(.*)"))&&
c.length)switch(a.preventDefault(),a.stopPropagation(),c[1]){case "user":a=X.a().get(c[2]);Z.a().c(Dg,a);break;case "channel":a=V.a().get(c[2]);V.a().c(Df,a);break;case "info":a=Wf.a().get(c[2]),Z.a().c(Cg,a)}});N.a().subscribe("toggle-info",function(){var a=D("login"),c=D("static-content"),d=D("pages");z(a,"hide");y(a,"show");c.style.height=Q(d).height+80+"px";Lj(j)},this)};
function Lj(a){var b=D("login"),c=D("static-content"),d=D("pages"),f=B(b,"app");C(b,"expanded",a);D("uvTab")&&C(D("uvTab"),"show",f&&a);a?(f?c.style.bottom=-Q(d).height-80+"px":c.style.top=Math.max(10,F().height-280)+"px",a=f?Math.min(F().height-100,c.scrollHeight+80):Math.min(F().height-435,c.scrollHeight+190),!f||f&&!b.scrollTop?(f=new Ce(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),y(b,"scrolling"),f.play(),K(f,"end",function(){z(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",f?L(function(){z(b,"show")},200):c.className="")}
function Mj(){var a=D("fb-login"),b=D("static-content"),c=D("login");y(a,"disabled");y(a,"spin");Y("/_session",function(a){if(200==yh(a.target)){var f=jg(a.target);if(f.error)ic(D("error"),f.error),Nj("error","Yikes...");else if(f.message)ic(D("message"),f.message);else{z(document.body,"login");var a=f.token,g=f.channels,h=f.programs,m=f.current_user,f=f.viewer_sessions;if(!Ob(m)){var q=X.a();q.r=Kg(q,m)}V.a().Yf(g);wj.a().Yf(h);g=V.a();w(f,r(function(a){var b=Kg(X.a(),a.user),c=X.a();Ra(c.jg,function(a){return a.id==
b.id})||c.jg.push(b);var c=this.Fc[a.channel_id],d=od(a.tune_in+"Z"),f=a.tune_out?od(a.tune_out+"Z"):k,a=new cg(a.id,b,c,d,f);b.ve=a;c&&(c.Ac.push(a),c.c(hg,a),(a=c.g())&&a.media.c(Uf,b,c))},g));g=V.a();g.l=g.Fc[m.current_channel]||g.Gc[0];g.l=Kf(g)||g.l;g.l&&g.Wg(g.l.g());cd.a().init();(new Kj(a)).h(document.body);dg.a().login();a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://":"http://")+"widget.uservoice.com/WGHjF5nSR8jL1GxXyQNxWA.js";
m=document.getElementsByTagName("script")[0];m.parentNode.insertBefore(a,m);L(function(){L(function(){y(c,"hide");L(function(){O(D("homepage"),l);y(c,"app");y(b,"faq")},600)},600)},300)}}else 500==yh(a.target)?Nj("error","Opps, check back later"):Nj("wait")},"POST")}function Nj(a,b){var c=D("fb-login");if(a){var d=E("power",c);y(d,a)}b&&(d=E("waitlist",c),ic(d,b));z(c,"spin");y(c,"disabled");O(c,j);y(c,"show");y(c,"waitlist")}
function Ah(a){var b=parseInt(a,10),a=Math.floor(b/3600),c=Math.floor((b-3600*a)/60),b=b-3600*a-60*c;10>c&&(c=(a?"0":"")+c);10>b&&(b="0"+b);return(a?a+":":"")+(c?c+":":"")+b}
ga("brkn.Main.staticInit",function(){var a=D("fb-login"),b=D("homepage"),c=D("login"),d=D("static-content"),f=D("pages"),g=D("footer"),h=l;y(b,"hide");var m=G("img");m.src="/static/img/homepage.jpg";K(m,"load",function(){z(b,"hide");y(b,"show")});L(function(){O(a,j);L(za(y,a,"show"),400)},100);K(c,"click",function(a){"static-scrollable"==a.target.id&&(a=B(c,"app"),h=l,a?Lj(h):(a=new Ce(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),K(a,"end",za(Lj,h))))});K(c,"scroll",function(){!B(c,
"scrolling")&&1>c.scrollTop&&(h=l,Lj(h))});K(g,"click",function(a){var a=pc(a.target,k,"section"),b=B(c,"app");a&&(h=j,d.className=a.id,d.style.height=Q(f).height+(b?80:220)+"px",Lj(h))});K(window,"resize",za(Lj,h));dg.a().init();IPHONE&&(y(document.body,"iphone"),y(document.body,"login"),window.onload=function(){L(function(){window.scrollTo(0,1)},1E3)})});
ga("brkn.Main.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)Mj();else{var b=D("fb-login");K(b,"click",function(){y(b,"disabled");FB.login(function(a){if(a.authResponse)Mj();else{z(b,"disabled");var d=D("chord-1"),f=D("chord-2"),g=D("chord-3"),h=D("chord-4"),m=D("mp3-1"),q=D("mp3-2"),t=D("mp3-3"),v=D("mp3-4");m.volume=0.5;q.volume=0.5;t.volume=0.5;v.volume=0.5;m.load();q.load();t.load();v.load();K(d,"click",function(){m.load();m.play()});K(f,"click",function(){q.load();q.play()});
K(g,"click",function(){t.load();t.play()});K(h,"click",function(){v.load();v.play()});L(function(){y(d,"strike");m.play()},500);L(function(){z(d,"strike");y(f,"strike");q.play()},800);L(function(){z(f,"strike");y(g,"strike");t.play()},1100);L(function(){z(g,"strike");y(h,"strike");v.play()},1400);L(function(){z(h,"strike");y(g,"strike");t.load();t.play()},1700);L(function(){z(g,"strike");y(f,"strike");q.load();q.play()},2E3);L(function(){z(f,"strike");y(d,"strike");m.load();m.play()},2300);L(function(){z(d,
"strike")},2600)}},{scope:"email"})})}})});