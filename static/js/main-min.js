function f(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function aa(){return function(){}}function ca(a){return function(b){this[a]=b}}function da(a){return function(){return this[a]}}function ea(a){return function(){return a}}var m,fa=fa||{},ga=this;function ha(a,b){var c=a.split("."),d=ga;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ia(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function ka(a){for(var a=a.split("."),b=ga,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function la(){}function ma(a){a.a=function(){return a.cj?a.cj:a.cj=new a}}
function na(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ia(a){return a!==i}function oa(a){return"array"==na(a)}function qa(a){var b=na(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ra(a){return"string"==typeof a}function sa(a){return"number"==typeof a}function ua(a){return"function"==na(a)}function va(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function wa(a){return a[xa]||(a[xa]=++ya)}
var xa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ya=0;function za(a,b,c){return a.call.apply(a.bind,arguments)}function Aa(a,b,c){a||f(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;return p.apply(k,arguments)}function Ba(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var q=Date.now||function(){return+new Date};function Ca(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a}
function s(a,b){function c(){}c.prototype=b.prototype;a.d=b.prototype;a.prototype=new c;a.prototype.constructor=a};function Da(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Ea(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Fa(a){if(!Ga.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ha,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ia,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ja,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ka,"&quot;"));return a}var Ha=/&/g,Ia=/</g,Ja=/>/g,Ka=/\"/g,Ga=/[&<>\"]/;
function La(a){var a=ia(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ma(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Na=Array.prototype,Oa=Na.indexOf?function(a,b,c){return Na.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(ra(a))return!ra(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},t=Na.forEach?function(a,b,c){Na.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ra(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function Pa(a,b,c){for(var d=ra(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)}
var Qa=Na.filter?function(a,b,c){return Na.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=ra(a)?a.split(""):a,n=0;n<d;n++)if(n in h){var r=h[n];b.call(c,r,n,a)&&(e[g++]=r)}return e},Ra=Na.map?function(a,b,c){return Na.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=ra(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Sa=Na.every?function(a,b,c){return Na.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ra(a)?a.split(""):a,g=0;g<d;g++)if(g in
e&&!b.call(c,e[g],g,a))return l;return j};function Ta(a,b){var c=Ua(a,b,i);return 0>c?k:ra(a)?a.charAt(c):a[c]}function Ua(a,b,c){for(var d=a.length,e=ra(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return g;return-1}function Va(a,b){return 0<=Oa(a,b)}function Wa(a,b){var c=Oa(a,b);0<=c&&Na.splice.call(a,c,1)}function Xa(a,b,c){b=Ua(a,b,c);return 0<=b?(Na.splice.call(a,b,1),j):l}function Ya(a){return Na.concat.apply(Na,arguments)}
function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function ab(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(oa(d)||(e=qa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,n=0;n<h;n++)a[g+n]=d[n];else a.push(d)}}function bb(a,b,c,d){Na.splice.apply(a,cb(arguments,1))}function cb(a,b,c){return 2>=arguments.length?Na.slice.call(a,b):Na.slice.call(a,b,c)};var db,eb,gb,hb,ib;function jb(){return ga.navigator?ga.navigator.userAgent:k}function kb(){return ga.navigator}hb=gb=eb=db=l;var lb;if(lb=jb()){var mb=kb();db=0==lb.indexOf("Opera");eb=!db&&-1!=lb.indexOf("MSIE");gb=!db&&-1!=lb.indexOf("WebKit");hb=!db&&!gb&&"Gecko"==mb.product}var nb=db,u=eb,ob=hb,pb=gb,qb=kb();ib=-1!=(qb&&qb.platform||"").indexOf("Mac");var rb=!!kb()&&-1!=(kb().appVersion||"").indexOf("X11"),sb;
a:{var tb="",ub;if(nb&&ga.opera)var vb=ga.opera.version,tb="function"==typeof vb?vb():vb;else if(ob?ub=/rv\:([^\);]+)(\)|;)/:u?ub=/MSIE\s+([^\);]+)(\)|;)/:pb&&(ub=/WebKit\/(\S+)/),ub)var wb=ub.exec(jb()),tb=wb?wb[1]:"";if(u){var xb,yb=ga.document;xb=yb?yb.documentMode:i;if(xb>parseFloat(tb)){sb=String(xb);break a}}sb=tb}var zb={};
function Ab(a){var b;if(!(b=zb[a])){b=0;for(var c=Ea(String(sb)).split("."),d=Ea(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",n=d[g]||"",r=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var y=r.exec(h)||["","",""],D=w.exec(n)||["","",""];if(0==y[0].length&&0==D[0].length)break;b=((0==y[1].length?0:parseInt(y[1],10))<(0==D[1].length?0:parseInt(D[1],10))?-1:(0==y[1].length?0:parseInt(y[1],10))>(0==D[1].length?0:parseInt(D[1],10))?1:0)||((0==y[2].length)<
(0==D[2].length)?-1:(0==y[2].length)>(0==D[2].length)?1:0)||(y[2]<D[2]?-1:y[2]>D[2]?1:0)}while(0==b)}b=zb[a]=0<=b}return b}var Bb={};function Db(a){return Bb[a]||(Bb[a]=u&&!!document.documentMode&&document.documentMode>=a)};var Eb,Fb=!u||Db(9),Gb=!ob&&!u||u&&Db(9)||ob&&Ab("1.9.1"),Hb=u&&!Ab("9"),Ib=u||nb||pb;function Jb(a){a=a.className;return ra(a)&&a.match(/\S+/g)||[]}function v(a,b){for(var c=Jb(a),d=cb(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)Va(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e}function x(a,b){var c=Jb(a),d=cb(arguments,1),e,g=d;e=Qa(c,function(a){return!Va(g,a)});a.className=e.join(" ");return e.length==c.length-d.length}function z(a,b){return Va(Jb(a),b)}function A(a,b,c){c?v(a,b):x(a,b)}function Kb(a,b){var c=!z(a,b);A(a,b,c);return c};function Lb(a,b){this.x=ia(a)?a:0;this.y=ia(b)?b:0}Lb.prototype.clone=function(){return new Lb(this.x,this.y)};function Mb(a,b){return new Lb(a.x-b.x,a.y-b.y)};function Nb(a,b){this.width=a;this.height=b}Nb.prototype.clone=function(){return new Nb(this.width,this.height)};Nb.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Nb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Nb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Ob(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Pb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Qb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Rb(a){for(var b in a)return l;return j}function Sb(a,b){b in a&&delete a[b]}function Tb(a,b,c){b in a&&f(Error('The object already contains the key "'+b+'"'));a[b]=c}function Ub(a,b,c){return b in a?a[b]:c}var Vb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Wb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<Vb.length;g++)c=Vb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Xb(a){return a?new Yb(Zb(a)):Eb||(Eb=new Yb)}function B(a){return ra(a)?document.getElementById(a):a}function $b(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):ac("*",a,b)}function C(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):$b(a,b)[0])||k}
function ac(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=e=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Va(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
var bc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function E(a){a=(a||window).document;a=cc(a)?a.documentElement:a.body;return new Nb(a.clientWidth,a.clientHeight)}function F(a,b,c){return dc(document,arguments)}
function dc(a,b){var c=b[0],d=b[1];if(!Fb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Fa(d.name),'"');if(d.type){c.push(' type="',Fa(d.type),'"');var e={};Wb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(ra(d)?g.className=d:oa(d)?v.apply(k,[g].concat(d)):Ob(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in bc?g.setAttribute(bc[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(ra(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(e=b[c],qa(e)&&!(va(e)&&0<e.nodeType)){var h=t,n;a:{if((n=e)&&"number"==typeof n.length){if(va(n)){n="function"==typeof n.item||"string"==typeof n.item;break a}if(ua(n)){n="function"==typeof n.item;break a}}n=l}h(n?Za(e):e,d)}else d(e)}return g}function cc(a){return"CSS1Compat"==a.compatMode}function ec(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function fc(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}function G(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function gc(a){return Gb&&a.children!=i?a.children:Qa(a.childNodes,function(a){return 1==a.nodeType})}function hc(a){return a.nextElementSibling!=i?a.nextElementSibling:ic(a.nextSibling,j)}function ic(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function jc(a){if(Ib)return a.parentElement;a=a.parentNode;return va(a)&&1==a.nodeType?a:k}
function kc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Zb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function lc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else ec(a),a.appendChild(Zb(a).createTextNode(b))}var mc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},nc={IMG:" ",BR:"\n"};function oc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,sa(a)&&0<=a&&32768>a):l}
function pc(a){if(Hb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];qc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Hb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function rc(a){var b=[];qc(a,b,l);return b.join("")}
function qc(a,b,c){if(!(a.nodeName in mc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in nc)b.push(nc[a.nodeName]);else for(a=a.firstChild;a;)qc(a,b,c),a=a.nextSibling}function H(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||z(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function Yb(a){this.G=a||ga.document||document}m=Yb.prototype;m.Ua=Xb;
m.b=function(a){return ra(a)?this.G.getElementById(a):a};m.N=function(a,b,c){return dc(this.G,arguments)};m.createElement=function(a){return this.G.createElement(a)};m.createTextNode=function(a){return this.G.createTextNode(a)};function sc(a){return cc(a.G)}function tc(a){var b=a.G,a=!pb&&cc(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Lb(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}m.appendChild=function(a,b){a.appendChild(b)};m.Ii=gc;
function uc(a,b){return b.firstElementChild!=i?b.firstElementChild:ic(b.firstChild,j)}m.contains=kc;u&&Ab(8);var vc={};function wc(a,b,c){a.innerHTML=b(c||vc,i,i)}function I(a,b){var c;a:if(c=(new Yb(i)||Xb()).createElement("DIV"),c.innerHTML=a(b||vc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function J(a){return"object"===typeof a&&a&&0===a.Jn?a.content:String(a).replace(xc,yc)}
var zc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function yc(a){return zc[a]}var xc=/[\x00\x22\x26\x27\x3c\x3e]/g;function Ac(){0!=Bc&&(this.Kn=Error().stack,Cc[wa(this)]=this)}var Bc=0,Cc={};Ac.prototype.$e=l;Ac.prototype.ca=function(){if(!this.$e&&(this.$e=j,this.o(),0!=Bc)){var a=wa(this);delete Cc[a]}};Ac.prototype.o=function(){this.Nk&&Dc.apply(k,this.Nk);if(this.Fj)for(;this.Fj.length;)this.Fj.shift()()};function Ec(a){a&&"function"==typeof a.ca&&a.ca()}function Dc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];qa(d)?Dc.apply(k,d):Ec(d)}};var Fc=!u||Db(9),Gc=!u||Db(9),Hc=u&&!Ab("9");!pb||Ab("528");ob&&Ab("1.9b")||u&&Ab("8")||nb&&Ab("9.5")||pb&&Ab("528");ob&&!Ab("8")||u&&Ab("9");function Ic(a,b){this.type=a;this.currentTarget=this.target=b}m=Ic.prototype;m.o=aa();m.ca=aa();m.Pc=l;m.defaultPrevented=l;m.Hf=j;m.stopPropagation=function(){this.Pc=j};m.preventDefault=function(){this.defaultPrevented=j;this.Hf=l};function Jc(a){a.preventDefault()};function Kc(a){Kc[" "](a);return a}Kc[" "]=la;function Lc(a,b){a&&this.init(a,b)}s(Lc,Ic);var Mc=[1,4,2];m=Lc.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.fh=l;m.ia=k;
m.init=function(a,b){var c=this.type=a.type;Ic.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(ob){var e;a:{try{Kc(d.nodeName);e=j;break a}catch(g){}e=l}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=pb||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=pb||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.fh=ib?a.metaKey:a.ctrlKey;this.state=a.state;this.ia=a;a.defaultPrevented&&this.preventDefault();delete this.Pc};function Nc(a){return(Fc?0==a.ia.button:"click"==a.type?j:!!(a.ia.button&Mc[0]))&&!(pb&&ib&&a.ctrlKey)}
m.stopPropagation=function(){Lc.d.stopPropagation.call(this);this.ia.stopPropagation?this.ia.stopPropagation():this.ia.cancelBubble=j};m.preventDefault=function(){Lc.d.preventDefault.call(this);var a=this.ia;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,Hc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};m.al=da("ia");m.o=aa();function Oc(){}var Pc=0;m=Oc.prototype;m.key=0;m.Qc=l;m.cg=l;m.init=function(a,b,c,d,e,g){ua(a)?this.ej=j:a&&a.handleEvent&&ua(a.handleEvent)?this.ej=l:f(Error("Invalid listener argument"));this.wd=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.kf=g;this.cg=l;this.key=++Pc;this.Qc=l};m.handleEvent=function(a){return this.ej?this.wd.call(this.kf||this.src,a):this.wd.handleEvent.call(this.wd,a)};var Qc={},Rc={},Sc={},Tc={};
function K(a,b,c,d,e){if(b){if(oa(b)){for(var g=0;g<b.length;g++)K(a,b[g],c,d,e);return k}var d=!!d,h=Rc;b in h||(h[b]={Z:0,Ka:0});h=h[b];d in h||(h[d]={Z:0,Ka:0},h.Z++);var h=h[d],n=wa(a),r;h.Ka++;if(h[n]){r=h[n];for(g=0;g<r.length;g++)if(h=r[g],h.wd==c&&h.kf==e){if(h.Qc)break;return r[g].key}}else r=h[n]=[],h.Z++;var w=Uc,y=Gc?function(a){return w.call(y.src,y.key,a)}:function(a){a=w.call(y.src,y.key,a);if(!a)return a},g=y;g.src=a;h=new Oc;h.init(c,g,a,b,d,e);c=h.key;g.key=c;r.push(h);Qc[c]=h;Sc[n]||
(Sc[n]=[]);Sc[n].push(h);a.addEventListener?(a==ga||!a.ni)&&a.addEventListener(b,g,d):a.attachEvent(b in Tc?Tc[b]:Tc[b]="on"+b,g);return c}f(Error("Invalid event type"))}function Vc(a,b,c,d,e){if(oa(b)){for(var g=0;g<b.length;g++)Vc(a,b[g],c,d,e);return k}a=K(a,b,c,d,e);Qc[a].cg=j;return a}function Wc(a,b,c,d,e){if(oa(b))for(var g=0;g<b.length;g++)Wc(a,b[g],c,d,e);else if(d=!!d,a=Xc(a,b,d))for(g=0;g<a.length;g++)if(a[g].wd==c&&a[g].capture==d&&a[g].kf==e){Yc(a[g].key);break}}
function Yc(a){if(!Qc[a])return l;var b=Qc[a];if(b.Qc)return l;var c=b.src,d=b.type,e=b.proxy,g=b.capture;c.removeEventListener?(c==ga||!c.ni)&&c.removeEventListener(d,e,g):c.detachEvent&&c.detachEvent(d in Tc?Tc[d]:Tc[d]="on"+d,e);c=wa(c);Sc[c]&&(e=Sc[c],Wa(e,b),0==e.length&&delete Sc[c]);b.Qc=j;if(b=Rc[d][g][c])b.Cj=j,Zc(d,g,c,b);delete Qc[a];return j}
function Zc(a,b,c,d){if(!d.sf&&d.Cj){for(var e=0,g=0;e<d.length;e++)d[e].Qc?d[e].proxy.src=k:(e!=g&&(d[g]=d[e]),g++);d.length=g;d.Cj=l;0==g&&(delete Rc[a][b][c],Rc[a][b].Z--,0==Rc[a][b].Z&&(delete Rc[a][b],Rc[a].Z--),0==Rc[a].Z&&delete Rc[a])}}function Xc(a,b,c){var d=Rc;return b in d&&(d=d[b],c in d&&(d=d[c],a=wa(a),d[a]))?d[a]:k}
function $c(a,b,c,d,e){var g=1,b=wa(b);if(a[b]){a.Ka--;a=a[b];a.sf?a.sf++:a.sf=1;try{for(var h=a.length,n=0;n<h;n++){var r=a[n];r&&!r.Qc&&(g&=ad(r,e)!==l)}}finally{a.sf--,Zc(c,d,b,a)}}return Boolean(g)}function ad(a,b){a.cg&&Yc(a.key);return a.handleEvent(b)}
function Uc(a,b){if(!Qc[a])return j;var c=Qc[a],d=c.type,e=Rc;if(!(d in e))return j;var e=e[d],g,h;if(!Gc){g=b||ka("window.event");var n=j in e,r=l in e;if(n){if(0>g.keyCode||g.returnValue!=i)return j;a:{var w=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(y){w=j}if(w||g.returnValue==i)g.returnValue=j}}w=new Lc;w.init(g,this);g=j;try{if(n){for(var D=[],ba=w.currentTarget;ba;ba=ba.parentNode)D.push(ba);h=e[j];h.Ka=h.Z;for(var W=D.length-1;!w.Pc&&0<=W&&h.Ka;W--)w.currentTarget=D[W],g&=$c(h,D[W],d,
j,w);if(r){h=e[l];h.Ka=h.Z;for(W=0;!w.Pc&&W<D.length&&h.Ka;W++)w.currentTarget=D[W],g&=$c(h,D[W],d,l,w)}}else g=ad(c,w)}finally{D&&(D.length=0)}return g}d=new Lc(b,this);return g=ad(c,d)};function bd(){Ac.call(this)}s(bd,Ac);m=bd.prototype;m.ni=j;m.zf=k;m.xh=ca("zf");m.addEventListener=function(a,b,c,d){K(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Wc(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=Rc;if(b in c){if(ra(a))a=new Ic(a,this);else if(a instanceof Ic)a.target=a.target||this;else{var d=a,a=new Ic(b,this);Wb(a,d)}var d=1,e,c=c[b],b=j in c,g;if(b){e=[];for(g=this;g;g=g.zf)e.push(g);g=c[j];g.Ka=g.Z;for(var h=e.length-1;!a.Pc&&0<=h&&g.Ka;h--)a.currentTarget=e[h],d&=$c(g,e[h],a.type,j,a)&&a.Hf!=l}if(l in c)if(g=c[l],g.Ka=g.Z,b)for(h=0;!a.Pc&&h<e.length&&g.Ka;h++)a.currentTarget=e[h],d&=$c(g,e[h],a.type,l,a)&&a.Hf!=l;else for(e=this;!a.Pc&&e&&
g.Ka;e=e.zf)a.currentTarget=e,d&=$c(g,e,a.type,l,a)&&a.Hf!=l;a=Boolean(d)}else a=j;return a};m.o=function(){bd.d.o.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Ob(Sc,function(d){for(var e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Yc(g.key),b++}});else{var d=wa(this);if(Sc[d])for(var d=Sc[d],e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)Yc(g.key),b++}}this.zf=k};function cd(a,b){Ac.call(this);this.S=a||1;this.Ie=b||dd;this.ag=p(this.Hh,this);this.Mg=q()}s(cd,bd);cd.prototype.enabled=l;var dd=ga.window;m=cd.prototype;m.sa=k;m.Hh=function(){if(this.enabled){var a=q()-this.Mg;0<a&&a<0.8*this.S?this.sa=this.Ie.setTimeout(this.ag,this.S-a):(this.dispatchEvent(ed),this.enabled&&(this.sa=this.Ie.setTimeout(this.ag,this.S),this.Mg=q()))}};m.start=function(){this.enabled=j;this.sa||(this.sa=this.Ie.setTimeout(this.ag,this.S),this.Mg=q())};
m.stop=function(){this.enabled=l;this.sa&&(this.Ie.clearTimeout(this.sa),this.sa=k)};m.o=function(){cd.d.o.call(this);this.stop();delete this.Ie};var ed="tick";function L(a,b,c){ua(a)?c&&(a=p(a,c)):a&&"function"==typeof a.handleEvent?a=p(a.handleEvent,a):f(Error("Invalid listener argument"));return 2147483647<b?-1:dd.setTimeout(a,b||0)};function M(){Ac.call(this);this.Za=[];this.mc={}}s(M,Ac);m=M.prototype;m.jj=1;m.Bf=0;m.subscribe=function(a,b,c){var d=this.mc[a];d||(d=this.mc[a]=[]);var e=this.jj;this.Za[e]=a;this.Za[e+1]=b;this.Za[e+2]=c;this.jj=e+3;d.push(e);return e};m.tk=function(a){if(0!=this.Bf)return this.re||(this.re=[]),this.re.push(a),l;var b=this.Za[a];if(b){var c=this.mc[b];c&&Wa(c,a);delete this.Za[a];delete this.Za[a+1];delete this.Za[a+2]}return!!b};
m.c=function(a,b){var c=this.mc[a];if(c){this.Bf++;for(var d=cb(arguments,1),e=0,g=c.length;e<g;e++){var h=c[e];this.Za[h+1].apply(this.Za[h+2],d)}this.Bf--;if(this.re&&0==this.Bf)for(;c=this.re.pop();)this.tk(c)}};m.clear=function(a){if(a){var b=this.mc[a];b&&(t(b,this.tk,this),delete this.mc[a])}else this.Za.length=0,this.mc={}};m.o=function(){M.d.o.call(this);delete this.Za;delete this.mc;delete this.re};function fd(){M.call(this);this.Wd=new cd(1E3);this.mk=new cd(3E4);this.nk=[];this.tg=[]}s(fd,M);ma(fd);fd.prototype.init=function(){this.Wd.start();this.mk.start();K(this.Wd,ed,p(function(){t(this.tg,function(a,b){a.time<q()&&(a.callback(),Na.splice.call(this.tg,b,1))},this)},this));K(this.mk,ed,p(function(){t(this.nk,function(a){lc(a.element,gd(a.time.getTime()))},this)},this))};function hd(a,b,c){86400>(q()-b.getTime())/1E3&&a.nk.push({time:b,element:c})}
function id(a,b,c){86400>(q()-b)/1E3&&a.tg.push({time:b,callback:c})};function N(){M.call(this);this.sm=j;var a=B("controller");this.Tc=!a||z(a,"sidebar-toggled");this.Fc=a&&z(a,"guide-toggled");this.subscribe(jd,ca("Tc"),this);this.subscribe(kd,ca("Fc"),this);this.subscribe(ld,ca("sm"),this)}s(N,M);ma(N);function md(a,b){var c=B("toggle-pending");lc(c,b);O(c,!!b)}var ld="play",kd="toggle-guide",jd="toggle-sidebar";var nd={mn:["BC","AD"],ln:["Before Christ","Anno Domini"],on:"JFMAMJJASOND".split(""),wn:"JFMAMJJASOND".split(""),nn:"January February March April May June July August September October November December".split(" "),vn:"January February March April May June July August September October November December".split(" "),sn:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),yn:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Cn:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
An:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),un:"Sun Mon Tue Wed Thu Fri Sat".split(" "),zn:"Sun Mon Tue Wed Thu Fri Sat".split(" "),pn:"SMTWTFS".split(""),xn:"SMTWTFS".split(""),tn:["Q1","Q2","Q3","Q4"],rn:["1st quarter","2nd quarter","3rd quarter","4th quarter"],jn:["AM","PM"],kn:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Bn:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],zk:6,Dn:[5,6],Ak:5};var od=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,pd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,qd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function rd(a){var b=new sd(2E3),a=Ea(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(od);if(d){var e=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var n=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new td(ud,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new td(ud,(4>=d?1-d:8-d)+(Number(n)+7*(Number(c)-1))-1))):(e&&(b.setDate(1),b.setMonth(e-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(qd),n=0,c&&("Z"!=
c[0]&&(n=60*c[2]+Number(c[3]),n*="-"==c[1]?1:-1),n-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(pd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=n&&b.setTime(b.getTime()+6E4*n),c=j):c=l;return c?b:k}
function td(a,b,c,d,e,g){ra(a)?(this.bb=a==vd?b:0,this.Wa=a==wd?b:0,this.Sa=a==ud?b:0,this.Ha=a==xd?b:0,this.Ia=a==yd?b:0,this.La=a==zd?b:0):(this.bb=a||0,this.Wa=b||0,this.Sa=c||0,this.Ha=d||0,this.Ia=e||0,this.La=g||0)}
td.prototype.Je=function(a){var b=Math.min(this.bb,this.Wa,this.Sa,this.Ha,this.Ia,this.La),c=Math.max(this.bb,this.Wa,this.Sa,this.Ha,this.Ia,this.La);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.bb||a)&&c.push(Math.abs(this.bb)+"Y");(this.Wa||a)&&c.push(Math.abs(this.Wa)+"M");(this.Sa||a)&&c.push(Math.abs(this.Sa)+"D");if(this.Ha||this.Ia||this.La||a)c.push("T"),(this.Ha||a)&&c.push(Math.abs(this.Ha)+"H"),(this.Ia||a)&&c.push(Math.abs(this.Ia)+"M"),
(this.La||a)&&c.push(Math.abs(this.La)+"S");return c.join("")};td.prototype.clone=function(){return new td(this.bb,this.Wa,this.Sa,this.Ha,this.Ia,this.La)};var vd="y",wd="m",ud="d",xd="h",yd="n",zd="s";td.prototype.add=function(a){this.bb+=a.bb;this.Wa+=a.Wa;this.Sa+=a.Sa;this.Ha+=a.Ha;this.Ia+=a.Ia;this.La+=a.La};
function Ad(a,b,c){sa(a)?(this.u=new Date(a,b||0,c||1),Bd(this,c||1)):va(a)?(this.u=new Date(a.getFullYear(),a.getMonth(),a.getDate()),Bd(this,a.getDate())):(this.u=new Date(q()),this.u.setHours(0),this.u.setMinutes(0),this.u.setSeconds(0),this.u.setMilliseconds(0))}m=Ad.prototype;m.df=nd.zk;m.ef=nd.Ak;m.clone=function(){var a=new Ad(this.u);a.df=this.df;a.ef=this.ef;return a};m.getFullYear=function(){return this.u.getFullYear()};m.getYear=function(){return this.getFullYear()};m.getMonth=function(){return this.u.getMonth()};
m.getDate=function(){return this.u.getDate()};m.getTime=function(){return this.u.getTime()};m.getDay=function(){return this.u.getDay()};m.getUTCHours=function(){return this.u.getUTCHours()};m.getTimezoneOffset=function(){return this.u.getTimezoneOffset()};function Cd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+La(c)+":"+La(b);return a}m.set=function(a){this.u=new Date(a.getFullYear(),a.getMonth(),a.getDate())};m.setFullYear=function(a){this.u.setFullYear(a)};
m.setMonth=function(a){this.u.setMonth(a)};m.setDate=function(a){this.u.setDate(a)};m.setTime=function(a){this.u.setTime(a)};
m.add=function(a){if(a.bb||a.Wa){var b=this.getMonth()+a.Wa+12*a.bb,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Sa&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Sa),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),Bd(this,a.getDate()))};m.Je=function(a,b){return[this.getFullYear(),La(this.getMonth()+1),La(this.getDate())].join(a?"-":"")+(b?Cd(this):"")};m.toString=function(){return this.Je()};function Bd(a,b){a.getDate()!=b&&a.u.setUTCHours(a.u.getUTCHours()+(a.getDate()<b?1:-1))}m.valueOf=function(){return this.u.valueOf()};function sd(a,b,c,d,e,g,h){this.u=sa(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():q())}s(sd,Ad);m=sd.prototype;m.getHours=function(){return this.u.getHours()};
m.getMinutes=function(){return this.u.getMinutes()};m.getSeconds=function(){return this.u.getSeconds()};m.getUTCHours=function(){return this.u.getUTCHours()};m.setHours=function(a){this.u.setHours(a)};m.setMinutes=function(a){this.u.setMinutes(a)};m.setSeconds=function(a){this.u.setSeconds(a)};m.setMilliseconds=function(a){this.u.setMilliseconds(a)};m.setUTCHours=function(a){this.u.setUTCHours(a)};
m.add=function(a){Ad.prototype.add.call(this,a);a.Ha&&this.setHours(this.u.getHours()+a.Ha);a.Ia&&this.setMinutes(this.u.getMinutes()+a.Ia);a.La&&this.setSeconds(this.u.getSeconds()+a.La)};m.Je=function(a,b){var c=Ad.prototype.Je.call(this,a);return a?c+" "+La(this.getHours())+":"+La(this.getMinutes())+":"+La(this.getSeconds())+(b?Cd(this):""):c+"T"+La(this.getHours())+La(this.getMinutes())+La(this.getSeconds())+(b?Cd(this):"")};m.toString=function(){return this.Je()};
m.clone=function(){var a=new sd(this.u);a.df=this.df;a.ef=this.ef;return a};function Dd(a){Ac.call(this);this.P=a;this.V=[]}s(Dd,Ac);var Ed=[];function P(a,b,c,d,e){oa(c)||(Ed[0]=c,c=Ed);for(var g=0;g<c.length;g++){var h=K(b,c[g],d||a,e||l,a.P||a);a.V.push(h)}return a}function Fd(a,b,c,d,e,g){if(oa(c))for(var h=0;h<c.length;h++)Fd(a,b,c[h],d,e,g);else b=Vc(b,c,d||a,e,g||a.P||a),a.V.push(b)}
function Gd(a,b,c,d,e,g){if(oa(c))for(var h=0;h<c.length;h++)Gd(a,b,c[h],d,e,g);else{a:{d=d||a;g=g||a.P||a;e=!!e;if(b=Xc(b,c,e))for(c=0;c<b.length;c++)if(!b[c].Qc&&b[c].wd==d&&b[c].capture==e&&b[c].kf==g){b=b[c];break a}b=k}b&&(b=b.key,Yc(b),Wa(a.V,b))}return a}function Hd(a){t(a.V,Yc);a.V.length=0}Dd.prototype.o=function(){Dd.d.o.call(this);Hd(this)};Dd.prototype.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};function Id(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Id.prototype.clone=function(){return new Id(this.top,this.right,this.bottom,this.left)};Id.prototype.contains=function(a){return!this||!a?l:a instanceof Id?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Jd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Jd.prototype.clone=function(){return new Jd(this.left,this.top,this.width,this.height)};Jd.prototype.contains=function(a){return a instanceof Jd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Kd(a,b,c){ra(b)?Ld(a,c,b):Ob(b,Ba(Ld,a))}function Ld(a,b,c){a.style[Ma(c)]=b}function Md(a,b){var c=Zb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Nd(a,b){return a.currentStyle?a.currentStyle[b]:k}function Od(a,b){return Md(a,b)||Nd(a,b)||a.style&&a.style[b]}function Pd(a,b,c){var d,e=ob&&(ib||rb)&&Ab("1.9");b instanceof Lb?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Qd(d,e);a.style.top=Qd(b,e)}
function Rd(a){return new Lb(a.offsetLeft,a.offsetTop)}function Sd(a){var b=a.getBoundingClientRect();u&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Td(a){if(u&&!Db(8))return a.offsetParent;for(var b=Zb(a),c=Od(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Od(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function Ud(a){for(var b=new Id(0,Infinity,Infinity,0),c=Xb(a),d=c.G.body,e=c.G.documentElement,g=!pb&&cc(c.G)?c.G.documentElement:c.G.body;a=Td(a);)if((!u||0!=a.clientWidth)&&(!pb||0!=a.clientHeight||a!=d)&&a!=d&&a!=e&&"visible"!=Od(a,"overflow")){var h=Vd(a),n;n=a;if(ob&&!Ab("1.9")){var r=parseFloat(Md(n,"borderLeftWidth"));if(Wd(n))var w=n.offsetWidth-n.clientWidth-r-parseFloat(Md(n,"borderRightWidth")),r=r+w;n=new Lb(r,parseFloat(Md(n,"borderTopWidth")))}else n=new Lb(n.clientLeft,n.clientTop);
h.x+=n.x;h.y+=n.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=E(c.G.parentWindow||c.G.defaultView);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:k}
function Vd(a){var b,c=Zb(a),d=Od(a,"position"),e=ob&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Lb(0,0),h;b=c?Zb(c):document;h=u&&!Db(9)&&!sc(Xb(b))?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=Sd(a),a=tc(Xb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=
b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(pb&&"fixed"==Od(b,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(nb||pb&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=Td(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!nb||"TR"!=b.tagName)g.y-=b.scrollTop}return g}function Xd(a,b){var c,d=Vd(a);b instanceof Lb&&(c=b.y,b=b.x);Pd(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Qd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Yd(a,b){a.style.height=Qd(b,j)}function Zd(a,b){a.style.width=Qd(b,j)}function Q(a){if("none"!=Od(a,"display"))return $d(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=$d(a);b.display=c;b.position=e;b.visibility=d;return a}
function $d(a){var b=a.offsetWidth,c=a.offsetHeight,d=pb&&!b&&!c;return(!ia(b)||d)&&a.getBoundingClientRect?(a=Sd(a),new Nb(a.right-a.left,a.bottom-a.top)):new Nb(b,c)}function ae(a){var b=Vd(a),a=Q(a);return new Jd(b.x,b.y,a.width,a.height)}function be(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function O(a,b){a.style.display=b?"":"none"}function Wd(a){return"rtl"==Od(a,"direction")}
var ce=ob?"MozUserSelect":pb?"WebkitUserSelect":k;function de(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function ee(a,b){if(u){var c=de(a,Nd(a,b+"Left")),d=de(a,Nd(a,b+"Right")),e=de(a,Nd(a,b+"Top")),g=de(a,Nd(a,b+"Bottom"));return new Id(e,d,g,c)}c=Md(a,b+"Left");d=Md(a,b+"Right");e=Md(a,b+"Top");g=Md(a,b+"Bottom");return new Id(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var fe={thin:2,medium:4,thick:6};function ge(a,b){if("none"==Nd(a,b+"Style"))return 0;var c=Nd(a,b+"Width");return c in fe?fe[c]:de(a,c)}
function he(a){if(u){var b=ge(a,"borderLeft"),c=ge(a,"borderRight"),d=ge(a,"borderTop"),a=ge(a,"borderBottom");return new Id(d,c,a,b)}b=Md(a,"borderLeftWidth");c=Md(a,"borderRightWidth");d=Md(a,"borderTopWidth");a=Md(a,"borderBottomWidth");return new Id(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var ie=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function je(a,b,c){Ac.call(this);this.target=a;this.handle=b||a;this.nj=c||new Jd(NaN,NaN,NaN,NaN);this.G=Zb(a);this.v=new Dd(this);K(this.handle,["touchstart","mousedown"],this.Vc,l,this)}s(je,bd);var ke=u||ob&&Ab("1.9.3");m=je.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.hk=0;m.ik=0;m.hd=0;m.jd=0;m.rg=j;m.va=l;m.Cg=0;m.Ml=0;m.zl=l;m.Oe=l;m.h=da("v");m.wh=function(a){this.Cg=Math.pow(a,2)};m.ak=ca("If");m.lb=ca("rg");
m.o=function(){je.d.o.call(this);Wc(this.handle,["touchstart","mousedown"],this.Vc,l,this);Hd(this.v);ke&&this.G.releaseCapture();this.v=this.handle=this.target=k};function le(a){ia(a.Ya)||(a.Ya=Wd(a.target));return a.Ya}
m.Vc=function(a){var b="mousedown"==a.type;if(this.rg&&!this.va&&(!b||Nc(a))){me(a);if(0==this.Cg)if(this.dispatchEvent(new ne("start",this,a.clientX,a.clientY,a)))this.va=j,a.preventDefault();else return;else a.preventDefault();var b=this.G,c=b.documentElement,d=!ke;P(this.v,b,["touchmove","mousemove"],this.ul,d);P(this.v,b,["touchend","mouseup"],this.Ac,d);ke?(c.setCapture(l),P(this.v,c,"losecapture",this.Ac)):P(this.v,b?b.parentWindow||b.defaultView:window,"blur",this.Ac);u&&this.zl&&P(this.v,
b,"dragstart",Jc);this.If&&P(this.v,this.If,"scroll",this.Lj,d);this.clientX=this.hk=a.clientX;this.clientY=this.ik=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Oe?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Od(a,"position")&&(c=Zb(a).documentElement),c?(ob?(d=he(c),b+=d.left):Db(8)&&(d=he(c),b-=d.left),a=Wd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.hd=a;this.jd=this.target.offsetTop;this.dh=tc(Xb(this.G));this.Ml=q()}else this.dispatchEvent("earlycancel")};
m.Ac=function(a,b){Hd(this.v);ke&&this.G.releaseCapture();if(this.va){me(a);this.va=l;var c=oe(this,this.hd),d=pe(this,this.jd);this.dispatchEvent(new ne("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function me(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ia.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ia.changedTouches[0],a.currentTarget)}
m.ul=function(a){if(this.rg){me(a);var b=(this.Oe&&le(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.va){var d=this.hk-this.clientX,e=this.ik-this.clientY;if(d*d+e*e>this.Cg)if(this.dispatchEvent(new ne("start",this,a.clientX,a.clientY,a)))this.va=j;else{this.$e||this.Ac(a);return}}c=qe(this,b,c);b=c.x;c=c.y;this.va&&this.dispatchEvent(new ne("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(re(this,a,b,c),a.preventDefault())}};function qe(a,b,c){var d=tc(Xb(a.G)),b=b+(d.x-a.dh.x),c=c+(d.y-a.dh.y);a.dh=d;a.hd+=b;a.jd+=c;b=oe(a,a.hd);a=pe(a,a.jd);return new Lb(b,a)}m.Lj=function(a){var b=qe(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;re(this,a,b.x,b.y)};function re(a,b,c,d){a.$d(c,d);a.dispatchEvent(new ne("drag",a,b.clientX,b.clientY,b,c,d))}
function oe(a,b){var c=a.nj,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function pe(a,b){var c=a.nj,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}m.$d=function(a,b){this.Oe&&le(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function ne(a,b,c,d,e,g,h,n){Ic.call(this,a);this.clientX=c;this.clientY=d;this.bg=e;this.left=ia(g)?g:b.hd;this.top=ia(h)?h:b.jd;this.Qk=b;this.Ok=!!n}s(ne,Ic);function se(){Ac.call(this);this.m=te;this.ce=this.startTime=k}s(se,bd);var te=0;se.prototype.bc=function(){this.ua("begin")};se.prototype.cc=function(){this.ua("end")};se.prototype.ua=function(a){this.dispatchEvent(a)};function ue(a,b,c){Ac.call(this);this.Vb=a;this.S=b||0;this.P=c;this.dg=p(this.ae,this)}s(ue,Ac);m=ue.prototype;m.xa=0;m.o=function(){ue.d.o.call(this);this.stop();delete this.Vb;delete this.P};m.start=function(a){this.stop();this.xa=L(this.dg,ia(a)?a:this.S)};m.stop=function(){this.Sb()&&dd.clearTimeout(this.xa);this.xa=0};m.ee=function(){this.stop();this.ae()};m.Sb=function(){return 0!=this.xa};m.ae=function(){this.xa=0;this.Vb&&this.Vb.call(this.P)};var ve;ve=ea(k);var we={},xe=k;function ye(a){a=wa(a);delete we[a];Rb(we)&&xe&&xe.stop()}function ze(){xe||(xe=new ue(function(){var a=q();Ob(we,function(c){Ae(c,a)});Rb(we)||ze()},20));var a=xe;a.Sb()||a.start()};function Be(a,b,c,d){se.call(this);(!oa(a)||!oa(b))&&f(Error("Start and end parameters must be arrays"));a.length!=b.length&&f(Error("Start and end points must be the same length"));this.Ee=a;this.Tk=b;this.duration=c;this.Vh=d;this.coords=[];this.Oe=l}s(Be,se);m=Be.prototype;m.Di=0;m.Ja=0;m.Kg=k;
m.play=function(a){if(a||this.m==te)this.Ja=0,this.coords=this.Ee;else if(1==this.m)return l;ye(this);this.startTime=a=q();-1==this.m&&(this.startTime-=this.duration*this.Ja);this.ce=this.startTime+this.duration;this.Kg=this.startTime;this.Ja||this.bc();this.ua("play");-1==this.m&&this.ua("resume");this.m=1;var b=wa(this);b in we||(we[b]=this);ze();Ae(this,a);return j};m.stop=function(a){ye(this);this.m=te;a&&(this.Ja=1);Ce(this,this.Ja);this.ua("stop");this.cc()};m.ff=da("Ja");
m.o=function(){this.m==te||this.stop(l);this.ua("destroy");Be.d.o.call(this)};function Ae(a,b){a.Ja=(b-a.startTime)/(a.ce-a.startTime);1<=a.Ja&&(a.Ja=1);a.Di=1E3/(b-a.Kg);a.Kg=b;Ce(a,a.Ja);1==a.Ja?(a.m=te,ye(a),a.ua("finish"),a.cc()):1==a.m&&a.Ug()}function Ce(a,b){ua(a.Vh)&&(b=a.Vh(b));a.coords=Array(a.Ee.length);for(var c=0;c<a.Ee.length;c++)a.coords[c]=(a.Tk[c]-a.Ee[c])*b+a.Ee[c]}m.Ug=function(){this.ua("animate")};m.ua=function(a){this.dispatchEvent(new De(a,this))};
function De(a,b){Ic.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.wo=b.coords[2];this.duration=b.duration;this.Ja=b.ff();this.Zn=b.Di;this.state=b.m;this.Fn=b}s(De,Ic);function Ee(a,b,c,d,e){Be.call(this,b,c,d,e);this.element=a}s(Ee,Be);m=Ee.prototype;m.Ne=la;m.gj=function(){ia(this.Ya)||(this.Ya=Wd(this.element));return this.Ya};m.Ug=function(){this.Ne();Ee.d.Ug.call(this)};m.cc=function(){this.Ne();Ee.d.cc.call(this)};m.bc=function(){this.Ne();Ee.d.bc.call(this)};function Fe(a,b,c,d,e){(2!=b.length||2!=c.length)&&f(Error("Start and end points must be 2D"));Ee.apply(this,arguments)}s(Fe,Ee);
Fe.prototype.Ne=function(){if(this.Oe){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=Wd(a)?ob?-b:!u||!Ab("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function Ge(a,b,c,d,e){sa(b)&&(b=[b]);sa(c)&&(c=[c]);Ee.call(this,a,b,c,d,e);(1!=b.length||1!=c.length)&&f(Error("Start and end points must be 1D"))}s(Ge,Ee);Ge.prototype.Ne=function(){be(this.element,this.coords[0])};
Ge.prototype.show=function(){this.element.style.display=""};Ge.prototype.hide=function(){this.element.style.display="none"};function He(a,b,c){Ge.call(this,a,1,0,b,c)}s(He,Ge);He.prototype.bc=function(){this.show();He.d.bc.call(this)};He.prototype.cc=function(){this.hide();He.d.cc.call(this)};function Ie(a,b,c){Ge.call(this,a,0,1,b,c)}s(Ie,Ge);Ie.prototype.bc=function(){this.show();Ie.d.bc.call(this)};function Je(){}ma(Je);Je.prototype.Rl=0;Je.a();function R(a){Ac.call(this);this.yc=a||Xb();this.Ya=Ke}s(R,bd);R.prototype.yl=Je.a();var Ke=k;function Le(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}f(Error("Invalid component state"))}m=R.prototype;m.xa=k;m.aa=l;m.e=k;m.Ya=k;m.q=k;m.Q=k;m.ea=k;m.ta=k;m.yk=l;
function Me(a){return a.xa||(a.xa=":"+(a.yl.Rl++).toString(36))}m.b=da("e");m.h=function(){return this.qd||(this.qd=new Dd(this))};m.Lf=function(a){this==a&&f(Error("Unable to set parent component"));a&&(this.Q&&this.xa&&this.Q.ta&&this.xa&&Ub(this.Q.ta,this.xa)&&this.Q!=a)&&f(Error("Unable to set parent component"));this.Q=a;R.d.xh.call(this,a)};m.getParent=da("Q");m.xh=function(a){this.Q&&this.Q!=a&&f(Error("Method not supported"));R.d.xh.call(this,a)};m.Ua=da("yc");m.N=function(){this.e=this.yc.createElement("div")};
function Ne(a,b){a.aa&&f(Error("Component already rendered"));a.e||a.N();b?b.insertBefore(a.e,k):a.yc.G.body.appendChild(a.e);(!a.Q||a.Q.aa)&&a.z()}m.g=function(a){this.aa&&f(Error("Component already rendered"));if(a&&this.rc(a)){this.yk=j;if(!this.yc||this.yc.G!=Zb(a))this.yc=Xb(a);this.A(a);this.z()}else f(Error("Invalid element to decorate"))};m.rc=ea(j);m.A=ca("e");m.z=function(){this.aa=j;Oe(this,function(a){!a.aa&&a.b()&&a.z()})};
m.Bc=function(){Oe(this,function(a){a.aa&&a.Bc()});this.qd&&Hd(this.qd);this.aa=l};m.o=function(){R.d.o.call(this);this.aa&&this.Bc();this.qd&&(this.qd.ca(),delete this.qd);Oe(this,function(a){a.ca()});!this.yk&&this.e&&G(this.e);this.Q=this.q=this.e=this.ta=this.ea=k};
function Pe(a,b){var c=a.ea?a.ea.length:0;b.aa&&!a.aa&&f(Error("Component already rendered"));(0>c||c>(a.ea?a.ea.length:0))&&f(Error("Child component index out of bounds"));if(!a.ta||!a.ea)a.ta={},a.ea=[];if(b.getParent()==a){var d=Me(b);a.ta[d]=b;Wa(a.ea,b)}else Tb(a.ta,Me(b),b);b.Lf(a);bb(a.ea,c,0,b);b.aa&&a.aa&&b.getParent()==a?(d=a.zb(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.aa&&(!b.aa&&b.e&&b.e.parentNode)&&b.z()}m.zb=da("e");
m.gj=function(){this.Ya==k&&(this.Ya=Wd(this.aa?this.e:this.yc.G.body));return this.Ya};m.Sc=function(a){this.aa&&f(Error("Component already rendered"));this.Ya=a};function Oe(a,b){a.ea&&t(a.ea,b,i)}m.removeChild=function(a,b){if(a){var c=ra(a)?a:Me(a),a=this.ta&&c?Ub(this.ta,c)||k:k;c&&a&&(Sb(this.ta,c),Wa(this.ea,a),b&&(a.Bc(),a.e&&G(a.e)),a.Lf(k))}a||f(Error("Child is not in parent component"));return a};function Qe(a,b,c,d,e){if(!u&&(!pb||!Ab("525")))return j;if(ib&&e)return Re(a);if(e&&!d||!c&&(17==b||18==b)||u&&d&&b==a)return l;switch(a){case 13:return!(u&&Db(9));case 27:return!pb}return Re(a)}function Re(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||pb&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Se(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Te(){}var Ue;ma(Te);m=Te.prototype;m.pd=aa();m.N=function(a){var b=a.Ua().N("div",Ve(this,a).join(" "),a.eb);We(this,a,b);return b};m.zb=function(a){return a};m.be=function(a,b,c){if(a=a.b?a.b():a)if(u&&!Ab("7")){var d=Xe(Jb(a),b);d.push(b);Ba(c?v:x,a).apply(k,d)}else A(a,b,c)};m.rc=ea(j);
m.g=function(a,b){if(b.id){var c=b.id;a.Q&&a.Q.ta&&(Sb(a.Q.ta,a.xa),Tb(a.Q.ta,c,a));a.xa=c}(c=this.zb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Za(c.childNodes):c.firstChild,a.eb=c):a.eb=k;var d=0,e=this.oa(),g=this.oa(),h=l,n=l,c=l,r=Jb(b);t(r,function(a){if(!h&&a==e)h=j,g==e&&(n=j);else if(!n&&a==g)n=j;else{var b=d;if(!this.jk){this.Ve||Ye(this);var c=this.Ve,r={},w;for(w in c)r[c[w]]=w;this.jk=r}a=parseInt(this.jk[a],10);d=b|(isNaN(a)?0:a)}},this);a.m=d;h||(r.push(e),g==e&&(n=j));n||r.push(g);
var w=a.Ta;w&&r.push.apply(r,w);if(u&&!Ab("7")){var y=Xe(r);0<y.length&&(r.push.apply(r,y),c=j)}if(!h||!n||w||c)b.className=r.join(" ");We(this,a,b);return b};m.aj=function(a){a.gj()&&this.Sc(a.b(),j);a.isEnabled()&&this.Id(a,a.hb())};function We(a,b,c){b.isEnabled()||a.ab(c,1,j);b.m&8&&a.ab(c,8,j);b.la&16&&a.ab(c,16,Ze(b));b.la&64&&a.ab(c,64,!!(b.m&64))}
m.Hd=function(a,b){var c=!b,d=u||nb?a.getElementsByTagName("*"):k;if(ce){if(c=c?"none":"",a.style[ce]=c,d)for(var e=0,g;g=d[e];e++)g.style[ce]=c}else if(u||nb)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};m.Sc=function(a,b){this.be(a,this.oa()+"-rtl",b)};m.Ig=function(a){var b;return a.la&32&&(b=a.Qb())?oc(b):l};
m.Id=function(a,b){var c;if(a.la&32&&(c=a.Qb())){if(!b&&a.nf()){try{c.blur()}catch(d){}a.nf()&&a.Ki()}oc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};m.gc=function(a,b){O(a,b)};m.ra=function(a,b,c){var d=a.b();if(d){var e=$e(this,b);e&&this.be(a,e,c);this.ab(d,b,c)}};m.ab=function(a,b,c){Ue||(Ue={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Ue[b])&&a.setAttribute("aria-"+b,c)};
m.Rc=function(a,b){var c=this.zb(a);if(c&&(ec(c),b))if(ra(b))lc(c,b);else{var d=function(a){if(a){var b=Zb(c);c.appendChild(ra(a)?b.createTextNode(a):a)}};oa(b)?t(b,d):qa(b)&&!("nodeType"in b)?t(Za(b),d):d(b)}};m.Qb=function(a){return a.b()};m.oa=ea("goog-control");function Ve(a,b){var c=a.oa(),d=[c],e=a.oa();e!=c&&d.push(e);c=b.m;for(e=[];c;){var g=c&-c;e.push($e(a,g));c&=~g}d.push.apply(d,e);(c=b.Ta)&&d.push.apply(d,c);u&&!Ab("7")&&d.push.apply(d,Xe(d));return d}
function Xe(a,b){var c=[];b&&(a=a.concat([b]));t([],function(d){Sa(d,Ba(Va,a))&&(!b||Va(d,b))&&c.push(d.join("_"))});return c}function $e(a,b){a.Ve||Ye(a);return a.Ve[b]}function Ye(a){var b=a.oa();a.Ve={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function af(){}s(af,Te);ma(af);m=af.prototype;m.pd=ea("button");m.ab=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):af.d.ab.call(this,a,b,c)};m.N=function(a){var b=af.d.N.call(this,a),c=a.fe();c&&this.zh(b,c);(c=a.F())&&this.Aa(b,c);a.la&16&&this.ab(b,16,Ze(a));return b};m.g=function(a,b){var b=af.d.g.call(this,a,b),c=this.F(b);a.Sh=c;a.Ih=this.fe(b);a.la&16&&this.ab(b,16,Ze(a));return b};m.F=la;m.Aa=la;m.fe=function(a){return a.title};m.zh=function(a,b){a&&(a.title=b||"")};m.oa=ea("goog-button");function bf(a,b){Ac.call(this);a&&cf(this,a,b)}s(bf,bd);m=bf.prototype;m.e=k;m.of=k;m.Jg=k;m.pf=k;m.Ub=-1;m.Tb=-1;m.$f=l;
var df={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},ef={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ff=u||pb&&Ab("525"),gf=ib&&ob;m=bf.prototype;
m.rl=function(a){if(pb&&(17==this.Ub&&!a.ctrlKey||18==this.Ub&&!a.altKey))this.Tb=this.Ub=-1;ff&&!Qe(a.keyCode,this.Ub,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Tb=ob?Se(a.keyCode):a.keyCode,gf&&(this.$f=a.altKey))};m.tl=function(a){this.Tb=this.Ub=-1;this.$f=a.altKey};
m.handleEvent=function(a){var b=a.ia,c,d,e=b.altKey;u&&"keypress"==a.type?(c=this.Tb,d=13!=c&&27!=c?b.keyCode:0):pb&&"keypress"==a.type?(c=this.Tb,d=0<=b.charCode&&63232>b.charCode&&Re(c)?b.charCode:0):nb?(c=this.Tb,d=Re(c)?b.keyCode:0):(c=b.keyCode||this.Tb,d=b.charCode||0,gf&&(e=this.$f),ib&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in df?g=df[c]:25==c&&a.shiftKey&&(g=9):h&&h in ef&&(g=ef[h]);a=g==this.Ub;this.Ub=g;b=new hf(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};
m.b=da("e");function cf(a,b,c){a.pf&&a.detach();a.e=b;a.of=K(a.e,"keypress",a,c);a.Jg=K(a.e,"keydown",a.rl,c,a);a.pf=K(a.e,"keyup",a.tl,c,a)}m.detach=function(){this.of&&(Yc(this.of),Yc(this.Jg),Yc(this.pf),this.pf=this.Jg=this.of=k);this.e=k;this.Tb=this.Ub=-1};m.o=function(){bf.d.o.call(this);this.detach()};function hf(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}s(hf,Lc);function jf(a,b){a||f(Error("Invalid class name "+a));ua(b)||f(Error("Invalid decorator function "+b))}var kf={};function lf(a,b,c){R.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=wa(b);if(d=kf[d])break;b=b.d?b.d.constructor:k}b=d?ua(d.a)?d.a():new d:k}this.M=b;this.eb=a}s(lf,R);m=lf.prototype;m.eb=k;m.m=0;m.la=39;m.ub=255;m.Sm=0;m.Tf=j;m.Ta=k;m.Bg=j;m.Se=l;m.Rj=k;function mf(a){a.aa&&l!=a.Bg&&nf(a,l);a.Bg=l}m.Qb=function(){return this.M.Qb(this)};
m.be=function(a,b){b?a&&(this.Ta?Va(this.Ta,a)||this.Ta.push(a):this.Ta=[a],this.M.be(this,a,j)):a&&this.Ta&&(Wa(this.Ta,a),0==this.Ta.length&&(this.Ta=k),this.M.be(this,a,l))};m.N=function(){var a=this.M.N(this);this.e=a;var b=this.Rj||this.M.pd();b&&a.setAttribute("role",b);this.Se||this.M.Hd(a,l);this.hb()||this.M.gc(a,l)};m.zb=function(){return this.M.zb(this.b())};m.rc=function(a){return this.M.rc(a)};
m.A=function(a){this.e=a=this.M.g(this,a);var b=this.Rj||this.M.pd();b&&a.setAttribute("role",b);this.Se||this.M.Hd(a,l);this.Tf="none"!=a.style.display};m.z=function(){lf.d.z.call(this);this.M.aj(this);if(this.la&-2&&(this.Bg&&nf(this,j),this.la&32)){var a=this.Qb();if(a){var b=this.vd||(this.vd=new bf);cf(b,a);P(P(P(this.h(),b,"key",this.sl),a,"focus",this.pl),a,"blur",this.Ki)}}};
function nf(a,b){var c=a.h(),d=a.b();b?(P(P(P(P(c,d,"mouseover",a.Qi),d,"mousedown",a.Oi),d,"mouseup",a.Ri),d,"mouseout",a.Pi),a.jf!=la&&P(c,d,"contextmenu",a.jf),u&&P(c,d,"dblclick",a.Li)):(Gd(Gd(Gd(Gd(c,d,"mouseover",a.Qi),d,"mousedown",a.Oi),d,"mouseup",a.Ri),d,"mouseout",a.Pi),a.jf!=la&&Gd(c,d,"contextmenu",a.jf),u&&Gd(c,d,"dblclick",a.Li))}m.Bc=function(){lf.d.Bc.call(this);this.vd&&this.vd.detach();this.hb()&&this.isEnabled()&&this.M.Id(this,l)};
m.o=function(){lf.d.o.call(this);this.vd&&(this.vd.ca(),delete this.vd);delete this.M;this.Ta=this.eb=k};m.Rc=function(a){this.M.Rc(this.b(),a);this.eb=a};m.Hi=function(){var a=this.eb;return!a?"":(ra(a)?a:oa(a)?Ra(a,rc).join(""):pc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};m.Sc=function(a){lf.d.Sc.call(this,a);var b=this.b();b&&this.M.Sc(b,a)};m.Hd=function(a){this.Se=a;var b=this.b();b&&this.M.Hd(b,a)};m.hb=da("Tf");
m.gc=function(a,b){if(b||this.Tf!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.M.gc(c,a);this.isEnabled()&&this.M.Id(this,a);this.Tf=a;return j}return l};m.isEnabled=function(){return!(this.m&1)};m.lb=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&of(this,1,!a))a||(this.setActive(l),pf(this,l)),this.hb()&&this.M.Id(this,a),this.ra(1,!a)};function pf(a,b){of(a,2,b)&&a.ra(2,b)}m.Sb=function(){return!!(this.m&4)};
m.setActive=function(a){of(this,4,a)&&this.ra(4,a)};function Ze(a){return!!(a.m&16)}function qf(a,b){of(a,16,b)&&a.ra(16,b)}m.nf=function(){return!!(this.m&32)};m.za=function(a){of(this,32,a)&&this.ra(32,a)};m.ra=function(a,b){this.la&a&&b!=!!(this.m&a)&&(this.M.ra(this,a,b),this.m=b?this.m|a:this.m&~a)};function rf(a,b,c){a.aa&&(a.m&b&&!c)&&f(Error("Component already rendered"));!c&&a.m&b&&a.ra(b,l);a.la=c?a.la|b:a.la&~b}function sf(a,b){return!!(a.ub&b)&&!!(a.la&b)}
function of(a,b,c){return!!(a.la&b)&&!!(a.m&b)!=c&&(!(a.Sm&b)||a.dispatchEvent(Le(b,c)))&&!a.$e}m.Qi=function(a){(!a.relatedTarget||!kc(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&sf(this,2))&&pf(this,j)};m.Pi=function(a){if((!a.relatedTarget||!kc(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))sf(this,4)&&this.setActive(l),sf(this,2)&&pf(this,l)};m.jf=la;
m.Oi=function(a){this.isEnabled()&&(sf(this,2)&&pf(this,j),Nc(a)&&(sf(this,4)&&this.setActive(j),this.M.Ig(this)&&this.Qb().focus()));!this.Se&&Nc(a)&&a.preventDefault()};m.Ri=function(a){this.isEnabled()&&(sf(this,2)&&pf(this,j),this.Sb()&&(this.se(a)&&sf(this,4))&&this.setActive(l))};m.Li=function(a){this.isEnabled()&&this.se(a)};
m.se=function(a){sf(this,16)&&qf(this,!Ze(this));sf(this,8)&&of(this,8,j)&&this.ra(8,j);if(sf(this,64)){var b=!(this.m&64);of(this,64,b)&&this.ra(64,b)}b=new Ic("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.fh=a.fh);return this.dispatchEvent(b)};m.pl=function(){sf(this,32)&&this.za(j)};m.Ki=function(){sf(this,4)&&this.setActive(l);sf(this,32)&&this.za(l)};
m.sl=function(a){return this.hb()&&this.isEnabled()&&this.Ag(a)?(a.preventDefault(),a.stopPropagation(),j):l};m.Ag=function(a){return 13==a.keyCode&&this.se(a)};ua(lf)||f(Error("Invalid component class "+lf));ua(Te)||f(Error("Invalid renderer class "+Te));var tf=wa(lf);kf[tf]=Te;jf("goog-control",function(){return new lf(k)});function uf(){}s(uf,af);ma(uf);m=uf.prototype;m.pd=aa();m.N=function(a){mf(a);a.ub&=-256;rf(a,32,l);return a.Ua().N("button",{"class":Ve(this,a).join(" "),disabled:!a.isEnabled(),title:a.fe()||"",value:a.F()||""},a.Hi()||"")};m.rc=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};m.g=function(a,b){mf(a);a.ub&=-256;rf(a,32,l);b.disabled&&v(b,$e(this,1));return uf.d.g.call(this,a,b)};m.aj=function(a){P(a.h(),a.b(),"click",a.se)};m.Hd=la;
m.Sc=la;m.Ig=function(a){return a.isEnabled()};m.Id=la;m.ra=function(a,b,c){uf.d.ra.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.F=function(a){return a.value};m.Aa=function(a,b){a&&(a.value=b)};m.ab=la;function vf(a,b,c){lf.call(this,a,b||uf.a(),c)}s(vf,lf);m=vf.prototype;m.F=da("Sh");m.Aa=function(a){this.Sh=a;this.M.Aa(this.b(),a)};m.fe=da("Ih");m.zh=function(a){this.Ih=a;this.M.zh(this.b(),a)};m.o=function(){vf.d.o.call(this);delete this.Sh;delete this.Ih};m.z=function(){vf.d.z.call(this);if(this.la&32){var a=this.Qb();a&&P(this.h(),a,"keyup",this.Ag)}};m.Ag=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.se(a):32==a.keyCode};jf("goog-button",function(){return new vf(k)});function wf(){}s(wf,af);ma(wf);m=wf.prototype;m.N=function(a){var b={"class":"goog-inline-block "+Ve(this,a).join(" "),title:a.fe()||""},b=a.Ua().N("div",b,xf(this,a.eb,a.Ua()));We(this,a,b);return b};m.pd=ea("button");m.zb=function(a){return a&&a.firstChild.firstChild};function xf(a,b,c){return c.N("div","goog-inline-block "+(a.oa()+"-outer-box"),c.N("div","goog-inline-block "+(a.oa()+"-inner-box"),b))}m.rc=function(a){return"DIV"==a.tagName};
m.g=function(a,b){yf(b,j);yf(b,l);var c;a:{c=uc(a.Ua(),b);var d=this.oa()+"-outer-box";if(c&&z(c,d)&&(c=uc(a.Ua(),c),d=this.oa()+"-inner-box",c&&z(c,d))){c=j;break a}c=l}c||b.appendChild(xf(this,b.childNodes,a.Ua()));v(b,"goog-inline-block",this.oa());return wf.d.g.call(this,a,b)};m.oa=ea("goog-custom-button");
function yf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ea(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function zf(a,b,c){vf.call(this,a,b||wf.a(),c)}s(zf,vf);jf("goog-custom-button",function(){return new zf(k)});function Af(){R.call(this);this.lc=2;this.S=5;this.Of=60*this.lc*this.S;this.fi=[];this.gg={};this.ya=Bf();this.Fa=0;this.Yj=this.Xj=l;this.ug=this.tb=j;this.va=l;this.fa=[S.a().n,S.a().n.k()];this.qj=0}s(Af,R);m=Af.prototype;
m.z=function(){Af.d.z.call(this);this.Ld=B("ticker");this.fo=B("my-ticker");var a=B("go-live");this.Wi=B("header");this.ba=B("channels");this.Yi=1;this.Oa=Math.max(1280,E().width)*this.Yi;this.uc=Q(B("controller")).height;N.a().subscribe(kd,function(a){this.Qf(a)},this);N.a().subscribe(jd,function(a){A(this.b(),"sidebar-toggled",a);this.ha(l,i,j);Cf(this)},this);this.Qf(z(this.b(),"toggled"));this.jc=new sd;for(var b=60;b>=this.jc.getMinutes();)b-=this.S;this.jc.setMinutes(b);this.W=this.jc.clone();
this.W.add(new td(0,0,0,0,0*-this.S));this.Og=this.W.clone();this.Og.add(new td(0,0,0,0,this.S*(this.lc+1)));Df(this,this.lc,this.W);Zd(this.b(),this.Oa);this.ec=(this.Oa-200)/this.Of;this.Ym=this.Oa/this.lc;this.tc=document.createElement("style");this.tc.id="channel-name-offs";this.tc.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.tc);this.tc.innerHTML="div#guide div.channels div.channel div.name{left:0 !important}";t(S.a().ed,p(function(a){this.qc(a)},this));this.p=new je(this.b());
var c=this.tc,d=this.b();this.p.$d=function(a){0>a&&a>-Q(d).width+E().width&&(window.currentChannel&&window.currentChannel.update(),this.target.style.left=a+"px",c.innerHTML="div#guide div.channels div.channel div.name{left:"+-a+"px !important}")};var b=B("now-left"),e=B("now-right");P(P(P(P(P(P(P(P(P(this.h(),fd.a().Wd,ed,p(this.Hh,this)),a,"click",p(function(){S.a().c(Ef,this.X.q);N.a().c(ld,j)},this)),window,"resize",p(this.ha,this)),this.Ld,"click",p(this.ha,this,j,i,l)),b,"click",p(this.$l,this)),
e,"click",p(this.hm,this)),this.p,"beforedrag",p(function(){x(this.b(),"animate");v(this.b(),"drag");this.va=j},this)),this.p,"end",p(function(){x(this.b(),"drag");v(this.b(),"animate");this.tb=this.va=l;Cf(this)},this)),this.Wi,"mousewheel",p(function(a){a.preventDefault();a.stopPropagation();a=a.ia;x(this.b(),"animate");v(this.b(),"drag");this.va=j;a=Rd(this.b()).x+(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0);0>a&&a>-1*this.Oa+E().width&&(Pd(this.b(),a),this.X&&this.X.update(),this.tc.innerHTML=
"div#guide div.channels div.channel div.name{left:"+-a+"px !important}");x(this.b(),"drag");v(this.b(),"animate");this.tb=this.va=l;Cf(this)},this));S.a().subscribe(Ff,this.xe,this);S.a().subscribe(Gf,this.qc,this);S.a().subscribe(Ef,this.sc,this);S.a().subscribe(Hf,p(function(){L(p(function(){this.ha(j)},this))},this));N.a().subscribe("toggle-admin",function(a){A(this.b(),"admin",a)},this);T.a().subscribe(If,this.gh,this);this.xe();this.ya&&P(this.h(),this.p,"beforedrag",p(function(a){a.bg.shiftKey&&
a.preventDefault()},this))};m.qc=function(a){if(!this.gg[a.id]){if(!a.C){var b=new Jf(a,this.Of,this.jc,0,this.W);Ne(b,this.ba);this.fi.push(b);this.gg[a.id]=b;a.subscribe(Kf,function(){this.xe()},this);var c=$b("program",b.b());if(c=c[c.length-1])this.qj=Math.max(this.qj,Rd(c).x+Q(c).width+170)}a.id==S.a().n.id&&b&&(v(b.b(),"current"),this.X=b,window.currentChannel=this.X);this.tf=a.C?a:this.tf}};
m.Qf=function(a){x(this.b(),"animate");this.ha(j,i,l);v(this.b(),"animate");var b=Math.min(this.ba.scrollHeight,190);A(this.b(),"toggled",a);Yd(this.b(),a?b+this.uc+19:this.uc);this.X&&(this.ba.scrollTop=Rd(this.X.b()).y);L(p(function(){Yd(this.ba,a?b:40);A(this.b(),"collapsed",!a);this.xe();this.ha();if(this.X){var c=this.ba,d=Rd(this.X.b()).y;c.scrollTop!=d&&(c.scrollTop=d)}},this),a?0:800);a&&this.xe();this.p&&this.p.lb(a)};
function Df(a,b,c){for(var d=C("times",a.b()),e=0;e<=b;e++){var g=c.clone();g.add(new td(0,0,0,0,a.S*e));var h=F,n={"class":"time",style:"width:"+(a.Oa-200)/a.lc+"px"},r=i,w=g.getHours();ia(r)||(r=j);var y=12==w;12<w&&(w-=12,y=j);0==w&&r&&(w=12);w=String(w);w+=":"+La(g.getMinutes());r&&(g=Ca("am"),r=Ca("pm"),w+=y?r:g);h=h("div",n,w);d.appendChild(h)}}
m.sc=function(a){this.X&&x(this.X.b(),"current");this.X=this.gg[a.id]||k;if(window.currentChannel=this.X)v(this.X.b(),"current"),L(p(this.ha,this,j,i,l));this.fa[0]=a};m.gh=function(){this.tf=this.tf||Lf();S.a().c(Ef,this.tf);N.a().c(kd,l)};
function Cf(a){var b=B("now-left"),c=B("now-right"),d=(q()-a.W.getTime())/1E3*a.ec,e=N.a().Tc?320:0,g=E().width-e,e=Q(a.b()).width-e-200;((a.fa[0].C?a.fa[0].queue.length:a.fa[0].wb+(a.Fa+1||0)+1<a.fa[0].pa.length)?((a.fa[0].k(a.Fa+1).time.getTime()-q())/1E3+a.fa[0].k(a.Fa+1).media.duration)*a.ec+g:0)>e-d&&Mf(a);c.style.right=N.a().Tc?"320px":0;A(c,"now",!!(-Rd(a.Ld).x<Rd(a.b()).x-g));A(b,"now",!!(-Rd(a.Ld).x>Rd(a.b()).x));d=-1;0<=a.fa[0].wb+(a.Fa||0)-1&&a.fa[0].k(a.Fa-1)&&(d=(a.fa[0].k(a.Fa-1).time.getTime()-
a.W.getTime())/1E3*a.ec);O(c,(a.fa[0].C?!!a.fa[0].queue.length:a.fa[0].wb+(a.Fa||0)+1<a.fa[0].pa.length)||z(c,"now"));O(b,0<d||z(b,"now"))}m.$l=function(){z(B("now-left"),"now")?S.a().n.k()==T.a().k()?this.ha(j,i,i,j):this.ha(l,i,i,j):this.ha(l,-1)};m.hm=function(){z(B("now-right"),"now")?S.a().n.k()==T.a().k()?this.ha(j,i,i,j):this.ha(l,i,i,l):this.ha(l,1)};function Mf(a){var b=Math.ceil(a.lc/a.Yi);Df(a,1,a.Og);a.Oa+=a.Ym;Zd(a.b(),a.Oa);a.lc++;a.Og.add(new td(0,0,0,0,a.S*b));a.Of=60*a.lc*a.S}
m.Hh=function(){if(N.a().Fc||this.ug){var a=S.a().n&&S.a().n.C||l,b=S.a().n&&S.a().n.k(),c=T.a().k(),d=1E3*T.a().ff(),e=Math.round((q()-this.W.getTime())/1E3*this.ec),d=c&&d?Math.round((c.time.getTime()+d-this.W.getTime())/1E3*this.ec):e;Cf(this);Pd(this.Ld,e);A(this.Ld,"go-live",!a&&!!b&&!!c&&b.id!=c.id&&45<Math.abs(d-e));this.ug?(this.ug=l,this.ha(j,i,l),v(this.b(),"animate")):this.va||this.ha()}};
m.ha=function(a,b,c,d){this.tb=a!=i?!!a:this.tb;this.Xj=a!=i?!!c:this.tb;this.Fa=this.tb?0:b?this.Fa+b:this.Fa;a=S.a().n.k(this.Fa);d=S.a().n.C?(d=Nf(S.a(),j))&&d.k():d?a:this.tb?T.a().k():this.fa[0].k(this.Fa);this.fa[1]=d;this.tb||x(this.b(),"tick-along");if((this.tb||b)&&this.W){var c=T.a().k(),e=T.a().getCurrentTime(),a=(q()-this.W.getTime())/1E3*this.ec;for(c&&e&&Math.round((c.time.getTime()+e-this.W.getTime())/1E3*this.ec);a+E().width>this.Oa-(N.a().Tc?320:0);)Mf(this);c=E().width-(N.a().Tc?
320:0);e=0;d&&(e=-(d.time.getTime()-this.W.getTime())/1E3*this.ec+5);if(!d||!b&&N.a().Fc&&a>-e+c-320)e=-Rd(this.Ld).x+c-200,v(this.b(),"tick-along");e=Math.max(e,-Q(this.b()).width+c);e=Math.min(e,0);Pd(this.b(),e);this.tc.innerHTML="div#guide div.channels div.channel div.name{left:"+-e+"px !important}";if(!this.Xj&&this.X){var g=Rd(this.X.b()).y-Q(this.Wi).height,h=new Fe(this.ba,[this.ba.scrollLeft,this.ba.scrollTop],[this.ba.scrollLeft,g],100*this.fi.length);P(this.h(),h,"end",p(function(){var a=
this.ba;a.scrollTop!=g&&(a.scrollTop=g);this.Yj=l},this));L(p(function(){this.Yj=j;h.play()},this),100)}}b&&Cf(this)};m.xe=function(){var a=Math.min(this.ba.scrollHeight,190);Yd(this.ba,z(this.b(),"toggled")?a:this.uc);Yd(this.b(),z(this.b(),"collapsed")?this.uc:a+this.uc+19);Yd(B("right-grad"),!z(this.b(),"toggled")?this.uc:a+this.uc+19)};function Of(a){return'\t<div class="channel"><div class="programs-container"><div class="programs"></div><div class="suggest"><div class="spinner">...</div><div class="select-program"><div class="select-header">SUGGESTION BOX <div class="close"></div></div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="Paste YouTube link"/><div class="page2"></div></div></div></div></div></div><div class="graph"></div><div class="viewers"></div><div class="name"><div class="text">'+
J(a.name)+'</div><div class="suggest-program"><div class="add-program button dark">+</div></div></div></div>'}
function Pf(a){return'<div class="info"><div class="thumb'+(a.repeat?" repeat":"")+'" style="background-image:url('+J(a.lh.media.nb)+"); background-position: 50% "+J(a.lh.media.Kd)+'%"></div><div class="progress"></div><div class="title">'+J(a.lh.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+J(a.media.fd)+'</div><div class="like-count"><div class="icon"></div>'+J(a.media.Rm)+'</div></div><div class="program-play"><div class="icon"></div></div><div class="program-plus"><div class="icon"></div></div><div class="viewers"></div>'+
(a.Yf?'<div class="remove"></div><div class="repos"></div>':"")+"</div>"}function Qf(a){return'<div class="line"><div class="pic"><img src="'+J(a.i.K)+'"><a href="#channel:'+J(a.Jk)+'"><div class="watch-with"><div>JOIN '+J(a.Ea)+"</div></div></a></div></div>"}function Rf(a){return'<div class="confirm-media"><div class="thumb" style="background-image:url('+J(a.He)+')"></div><div class="title">'+J(a.title)+'</div><div class="added">ADDED</div><div class="dark button">ADD</div></div>'};function Sf(){M.call(this)}s(Sf,M);ma(Sf);function Tf(a){this.id=a.id;this.K=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Uf(a){M.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.sd=a.host_id;this.xl="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.live=!!a.live;this.Vg=[];this.tm=k;this.Bi=l;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.qa=a.publisher&&new Tf(a.publisher);this.fc=a.published&&rd(a.published+"Z");this.nb="http://i.ytimg.com/vi/"+this.sd+"/0.jpg";this.Fh="http://i.ytimg.com/vi/"+this.sd+"/1.jpg";this.oo="http://i.ytimg.com/vi/"+
this.sd+"/2.jpg";this.po="http://i.ytimg.com/vi/"+this.sd+"/3.jpg";this.Eh=new Nb(480,360);this.Kd=37;this.Ob=[];this.rk=[];this.fd=a.comment_count||0;this.Rm=a.star_count||0;this.Hl=a.like_count||0;this.Qn=a.dislike_count||0;this.Kf=[];this.dc={};this.Kk=a.collection_id;this.subscribe(Vf,this.Lb,this);this.subscribe(Wf,this.ym,this);this.subscribe(Xf,this.bd,this)}s(Uf,M);function Yf(a){return a.fc.getMonth()+1+"/"+a.fc.getDate()+"/"+a.fc.getYear()}var Vf="add-comment",Wf="remove-comment",Xf="watching";
Uf.prototype.Pe=function(a){Ta(this.Vg,function(b){return a.id==b.id})||this.Vg.push(a)};Uf.prototype.Lb=function(a){this.Ob.push(a);this.fd+=1;a.i.id!=V.a().l.id&&Sf.a().c("show","commented on "+this.name,a.text,a.i,a.i.K,"#info:"+this.id)};Uf.prototype.ym=function(a){X("/_comment",ve(),"POST","delete=true&id="+a);Xa(this.Ob,function(b){return b.id==a});this.fd-=1};
Uf.prototype.bd=function(a,b,c){c?(Sb(this.dc,a.id),a.vb=k):(this.dc[a.id]=a,a.vb=this,a.id!=V.a().l.id&&Sf.a().c("flash","is watching "+(b?b.name:""),this.name,a,this.Fh,"#info:"+this.id))};function Zf(){M.call(this);this.tj={}}s(Zf,M);ma(Zf);function $f(a,b){var c=a.get(b.id);c||(c=new Uf(b),a.add(c));return c}Zf.prototype.get=function(a){return Ub(this.tj,a)};Zf.prototype.add=function(a){this.tj[a.id]=a};function ag(a,b){M.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?$f(Zf.a(),d.media):c;Zf.a().add(this.media);this.time=d?rd(d.time+"Z"):new sd;this.async=d?d.async:j;this.seek=d?d.seek:k}s(ag,M);function bg(a){return new ag(i,a)};function cg(a){M.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.gn=a.welcomed;this.jb=a.online;this.Pn=a.demo;this.vb=a.last_seen?$f(Uf.a(),a.last_seen):k;this.history=[];this.gk=[];this.K=Da("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.Vf=a.access_level;this.En=[];this.Cb=a.last_login?rd(a.last_login+"Z"):k;this.lo=a.session_count;
this.Gn=a.ave_session?a.ave_session.toFixed(2):k;this.Lm=a.show_guide!=i?a.show_guide:j;this.Om=a.show_sidebar!=i?a.show_sidebar:j;this.vm=a.post_facebook!=i?a.post_facebook:j;this.Qj=a.post_twitter!=i?a.post_twitter:j;this.subscribe(eg,function(){this.Qj=j},this)}s(cg,M);function Bf(){return V.a().l.Vf==fg}cg.prototype.Ea=function(){var a=this.name.split(" ");return a&&a.length?a[0]:this.name};function gg(a,b){return Ta(a.gk,function(a){return a.id==b.id})}var eg="twitter-auth",fg=2;function hg(a,b,c,d,e){this.id=a;this.i=b;this.R=c;this.Kh=d;this.Yc=e||k;this.vj=[]}hg.prototype.Kf=function(a){this.vj.push(a);this.R&&(this.R.C&&this.R.$)&&(this.R.$.seek=k,this.R.$=k);X("/_seen",ve(),"POST","media_id="+a.id+"&session_id="+this.id+"&async="+(this.R?this.R.C:l))};
hg.prototype.end=function(a){this.Yc=a;a=(this.Yc.getTime()-this.Kh.getTime())/1E3;if(this.i.id==V.a().l.id&&this.R){ig.a();var b=this.R,c=this.vj.length;V.a().$g.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",V.a().l.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",V.a().l.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",V.a().l.id,c]);_gaq.push(["_trackEvent","Users","Active",V.a().l.id,c]);_gaq.push(["_trackEvent","Users",b.id+
"-time",V.a().l.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",V.a().l.id,c]);b.C||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))}};function jg(a){M.call(this);this.id=a.id;this.name=a.name;this.C=a.my_channel;this.vb=a.current_media?$f(Zf.a(),a.current_media):k;this.Mn=a.current_seek;this.pa=[];this.Oc={};this.$=a.current_program&&new ag(a.current_program);this.Zc=[];this.queue=[];this.ib=0;this.jb=a.online!=i?a.online:k;this.subscribe(kg,this.Mb,this);this.subscribe(lg,this.Ck,this);this.subscribe(mg,this.bd,this);this.subscribe(ng,this.Ph,this)}s(jg,M);m=jg.prototype;
m.Mb=function(a){this.pa.push(a);this.Oc[a.id]=a;a.time.getTime()+1E3*a.media.duration>this.ib&&(this.ib=a.time.getTime()+1E3*a.media.duration-12E4,id(fd.a(),this.ib,p(this.Qg,this,this.ib)),id(fd.a(),this.ib+6E4,p(this.Qg,this,this.ib+6E4)))};m.Qg=function(a){this.ib<=a&&!this.C&&X("/_programming/"+this.id,p(function(a){a=Y(a.target);a.length||id(fd.a(),q()+1E3,p(this.Qg,this,q()+1E3));t(a,function(a){if(!this.Oc[a.id]){var b=this.Oc[a.id];b||(b=new ag(a),this.Mb(b));this.c(kg,b)}},this)},this))};
m.Ck=function(a,b){b?(this.queue.push(a),Sf.a().c("flash","Added to queue",a.name,i,a.Fh,"#info:"+a.id),og(ig.a(),a),X("/_queue",ve(),"POST","media_id="+a.id)):(Xa(this.queue,function(b){return b.id==a.id},this),X("/_queue",ve(),"POST","media_id="+a.id+"&delete=1"))};m.bd=function(a){this.Zc.push(a)};m.Ph=function(a){var b=Ub(this.Oc,a.id);b&&(b.time=rd(a.time+"Z"))};
m.k=function(a){if(this.$&&this.$.async&&this.$.seek)return this.$;if(!this.pa.length)return k;var b=this.$;b||(b=this.pa[0],this.wb=0);if(a)return this.pa[this.wb+a];if(!this.C&&q()>=b.time.getTime()&&q()<b.time.getTime()+1E3*b.media.duration)return this.$=b;for(;q()>b.time.getTime()&&q()>=b.time.getTime()+1E3*b.media.duration;){this.$||(this.$=this.pa[0],this.wb=0);this.pa.length>=this.wb+1?(this.wb++,a=this.pa[this.wb],a=this.$=this.C?a&&a.seek?a:k:this.pa[this.wb]):a=k;if(this.C){if(a&&a.async&&
a.seek)return this.$=a;if(!a)if(this.queue.length){a=this.queue[0];this.c(lg,a,l);var c=bg(a);Lf().c(kg,c);X("/_addprogram",ve(),"POST","channel_id="+S.a().C.id+"&media_id="+a.id+"&now=true");a=c}else a=k}if(!a)break;b=a}return q()>=b.time.getTime()&&q()<b.time.getTime()+1E3*b.media.duration?this.$=b:k};var kg="add-program",lg="add-queue",mg="add-viewer",ng="update-program",Kf="online";function pg(){M.call(this)}s(pg,M);ma(pg);function qg(){Ac.call(this);this.ga=[];this.od=[];this.af={};this.v=new Dd(this);this.Bl=this.fj=l;this.Qh=j}s(qg,bd);m=qg.prototype;m.Dg=0;m.wh=ca("Dg");
m.init=function(){if(!this.fj){for(var a=0,b=this.ga.length;a<b;a++)for(var c=gc(this.ga[a]),d=0,e=c.length;d<e;++d){var g=c[d],h=g,n=wa(h);this.af[n]=g;this.ri&&(P(this.v,g,"mouseover",this.ll),P(this.v,g,"mouseout",this.kl));this.qi&&(P(this.v,h,"mouseover",this.jl),P(this.v,h,"mouseout",this.il));this.od.push(g);P(this.v,h,["mousedown","touchstart"],this.Si)}this.fj=j}};
m.o=function(){this.v.ca();for(var a=0,b=this.ga.length;a<b;a++){var c=this.ga[a];c.pi=i;c.xc=i}this.ga.length=0;this.od.length=0;this.af=k;rg(this);qg.d.o.call(this)};function sg(a,b){for(var c=0,d=a.ga.length;c<d;c++){var e=a.ga[c];e.md=ae(e)}c=0;for(d=a.od.length;c<d;c++)e=a.od[c],e!=b&&(e.md=ae(e))}
m.Si=function(a){var b=wa(a.currentTarget);this.r=this.af[b];this.D=this.Xe(this.r);this.bf&&v(this.D,this.bf);this.D.style.margin="0";this.D.style.position="absolute";this.D.style.visibility="hidden";Zb(this.r).body.appendChild(this.D);b=Vd(this.r);Xd(this.D,b);this.p=new je(this.D);this.p.wh(this.Dg);K(this.p,"start",this.Ni,l,this);K(this.p,"end",this.Mi,l,this);K(this.p,"earlycancel",this.We,l,this);this.p.Vc(a)};
m.Ni=function(a){if(this.dispatchEvent(new tg("beforedragstart",this,a.bg,this.r,k,k))){this.yf=this.r.parentNode;this.mi=this.ah=hc(this.r);this.pg=this.yf;this.og?v.apply(k,Ya(this.r,this.og)):this.r.style.visibility="hidden";var b=Q(this.D);this.D.fl=b.width/2;this.D.el=b.height/2;this.D.style.visibility="";this.Qh&&(this.r.style.display="none");sg(this,this.r);this.r.style.display="";K(this.p,"drag",this.ml,l,this);this.dispatchEvent(new tg("dragstart",this,a.bg,this.r,this.D,this.p))}else a.preventDefault(),
this.We()};
m.ml=function(a){var b=Vd(this.D),b=new Lb(b.x+this.D.fl,b.y+this.D.el),c;a:{c=k;if("none"!=this.r.style.display){c=this.r.parentNode;var d=ae(c);if(ug(b,d))break a}for(var d=0,e=this.ga.length;d<e;d++){var g=this.ga[d];if(g!=c&&ug(b,g.md)){c=g;break a}}c=k}var h;if(c){c==k&&f(Error("getHoverNextItem_ called with null hoverList."));var n,r,d=l,e=i;switch(c.pi){case 0:h=b.y;n=vg;r=wg;break;case 4:d=j;case 2:h=b.x;n=xg;r=wg;break;case 5:d=j;case 3:h=b.x,n=yg,r=zg}for(var g=k,w,y=gc(c),D=0,ba=y.length;D<
ba;D++){var W=y[D];if(W!=this.r){var ta=n(W.md);if(d){var fb=Ag(W,b);ia(e)||(e=fb);if(r(h,ta)&&(w==i||fb<e||fb==e&&(r(ta,w)||ta==w)))g=W,w=ta;fb<e&&(e=fb)}else if(r(h,ta)&&(w==i||r(ta,w)))g=W,w=ta}}h=g!==k&&Ag(g,b)>e?k:g}else h=k;if(!this.dispatchEvent(new tg("beforedragmove",this,a,this.r,this.D,this.p,b,c,h)))return l;if(c)this.Qh?(this.r.parentNode!=c||hc(this.r)!=h)&&c.insertBefore(this.r,h):h&&(this.mi=h),this.r.style.display="",c.xc&&v(c,c.xc);else{this.Bl||(this.r.style.display="none");n=0;
for(r=this.ga.length;n<r;n++)w=this.ga[n],w.xc&&x(w,w.xc)}c!=this.pg&&(this.pg=c,sg(this,this.r));this.dispatchEvent(new tg("dragmove",this,a,this.r,this.D,this.p,b,c,h));return l};m.We=function(){rg(this);this.p=this.D=this.ah=this.yf=this.pg=this.r=k;for(var a=0,b=this.ga.length;a<b;a++)this.ga[a].md=k;a=0;for(b=this.od.length;a<b;a++)this.od[a].md=k};
m.Mi=function(a){if(!this.dispatchEvent(new tg("beforedragend",this,a,this.r,this.D,this.p)))return l;this.Qh||this.yf.insertBefore(this.r,this.mi);rg(this);this.dispatchEvent(new tg("dragend",this,a,this.r,this.D,this.p));this.We();return j};function rg(a){Ec(a.p);a.D&&G(a.D);a.r&&"none"==a.r.style.display&&(a.yf.insertBefore(a.r,a.ah),a.r.style.display="");a.og&&a.r?x.apply(k,Ya(a.r,a.og)):a.r&&(a.r.style.visibility="visible");for(var b=0,c=a.ga.length;b<c;b++){var d=a.ga[b];d.xc&&x(d,d.xc)}}
m.ll=function(a){v.apply(k,Ya(a.currentTarget,this.ri))};m.kl=function(a){x.apply(k,Ya(a.currentTarget,this.ri))};m.jl=function(a){v.apply(k,Ya(a.currentTarget,this.qi))};m.il=function(a){x.apply(k,Ya(a.currentTarget,this.qi))};function ug(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Ag(a,b){var c=a.md;return Math.abs(b.y-(c.top+(c.height-1)/2))}function vg(a){return a.top+a.height-1}function xg(a){return a.left+a.width-1}function yg(a){return a.left||0}
function wg(a,b){return a<b}function zg(a,b){return a>b}m.Xe=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return F("table",k,F("tbody",k,b));case "td":case "th":return F("table",k,F("tbody",k,F("tr",k,b)));default:return b}};function tg(a,b,c,d,e,g,h,n,r){Ic.call(this,a);this.Rn=b;this.event=c;this.Qa=d;this.Rk=e;this.Qk=g;this.si=h;this.$n=n;this.Rb=r}s(tg,Ic);function Jf(a,b,c,d,e){R.call(this);this.q=a;this.ya=Bf();this.ek=this.Re=l;this.Md=b;this.jc=c;this.W=e;this.mo=d;this.oc={};this.Dd={};this.Pb=this.ya?new qg:k;this.fg=6;this.jb=j}s(Jf,R);m=Jf.prototype;m.N=function(){this.e=I(Of,{name:this.q.name,On:this.q.$,Of:this.Md})};
m.z=function(){Jf.d.z.call(this);this.ve=C("programs",this.b());this.Jb=C("viewers",this.b());this.Bj=C("name",this.b());this.yg=C("graph",this.b());this.$a=C("suggest",this.b());if(this.q.C)O(this.$a,l);else{this.Ba=new Bg("Paste YouTube link");this.Ba.g(C("program-input",this.b()));var a=new bf(this.Ba.b()),b=new Cg(this.Ba.b()),c=new Dg(p(this.Yg,this),1E3);P(P(P(this.h(),b,Eg,p(this.Yg,this)),a,"key",p(function(){c&&c.ee()},this)),this.Ba,"focus",p(this.Yg,this))}a=S.a();b=(Q(this.ve).width-200)/
this.Md;a.Fb=a.Fb||b;if(this.ek){var b=0,d=40;this.Pg=0;this.xi=[new Lb(b,d)];this.Yn=Math.floor((q()-this.W.getTime())/1E3);for(a=0;a<this.Md/40;a++)this.xi.push(new Lb(b+=40,d+=[-30,-5,15,10,25][Math.floor(5*Math.random())])),this.Pg=Math.max(this.Pg,d);this.cl=Raphael(this.yg,"100%",60).path("M0,0").attr({stroke:"none",opacity:0.8,fill:"#5d5d5d"})}Kd(this.Bj,"background",Raphael.getColor());b=this.q.pa;for(a=0;a<b.length;a++)b[a].media.live?this.Mb(b[a]):b[a].time.getTime()<this.jc.getTime()&&
b[a].time.getTime()+1E3*b[a].media.duration>this.jc.getTime()-1E3*this.Md?this.Mb(b[a]):b[a].time.getTime()>this.jc.getTime()&&this.Mb(b[a]);if(this.ya){a=this.Pb;b=this.ve;b.pi=2;b.xc=i;a.ga.push(b);this.Pb.bf="drag";var e=this.b();this.Pb.Si=function(a){var b=wa(a.currentTarget);this.r=this.af[b];this.D=this.Xe(this.r);this.bf&&v(this.D,this.bf);this.D.style.margin="0";this.D.style.position="absolute";this.D.style.visibility="hidden";e.appendChild(this.D);b=Vd(this.r);Xd(this.D,b);this.p=new je(this.D);
this.p.wh(this.Dg);K(this.p,"start",this.Ni,l,this);K(this.p,"end",this.Mi,l,this);K(this.p,"earlycancel",this.We,l,this);this.p.Vc(a)};this.Pb.init();var g={},h,n,r,w,y,D=j;P(P(P(this.h(),this.Pb,"beforedragstart",p(function(a){(!this.Re||!a.event.shiftKey)&&a.preventDefault()},this)),this.Pb,"dragmove",function(a){r=r||a.si.x;w=w||Rd(a.Qa).x;y=y||(a.Qa.previousElementSibling!=i?a.Qa.previousElementSibling:ic(a.Qa.previousSibling,l));D=D&&!!y;var b=y?Q(y).width:i,c=y?Rd(y).x:i,d=a.si.x-r;10>Math.abs(d)||
(a.Rb&&!g[a.Rb.id]&&0<d?(b=Q(a.Qa).width,c=Rd(a.Rb).x,h=c-b+Q(a.Rb).width,d=this.q.Oc[a.Rb.id],n=d.time.getTime()/1E3+d.media.duration-this.q.Oc[a.Qa.id].media.duration,Pd(a.Qa,h),Pd(a.Rb,c-b-1),g[a.Rb.id]=j,b=a.Rb,b.parentNode&&b.parentNode.insertBefore(a.Qa,b.nextSibling)):D&&(0>d&&w+d<c+b)&&(b=Q(a.Qa).width,h=c=Rd(y).x,n=this.q.Oc[y.id].time.getTime()/1E3,Pd(a.Qa,h),Pd(y,c+b+1),b=y.previousElementSibling!=i?y.previousElementSibling:ic(y.previousSibling,l),y.parentNode&&y.parentNode.insertBefore(a.Qa,
y),y=b,D=!!b))}),this.Pb,"dragend",function(a){n&&(X("/admin/_rescheduleprogram",i,"POST","program="+a.Rk.id+"&time="+n),this.Pb.init(),n=i);g={};h=y=w=r=i;D=j})}Pa(this.q.Zc,this.bd,this);P(P(P(P(this.h(),this.$a,"click",p(this.km,this)),C("close",this.$a),"click",p(function(a){a.preventDefault();a.stopPropagation();Fg(this)},this)),C("name",this.b()),"click",p(function(){this.q.id!=S.a().n.id&&this.q.k()&&S.a().c(Ef,this.q)},this)),fd.a().Wd,ed,p(this.update,this));this.q.subscribe(kg,this.Mb,this);
this.q.subscribe(mg,this.bd,this);this.q.subscribe("remove-viewer",this.zm,this);this.q.subscribe(ng,this.Ph,this);S.a().subscribe(Hf,this.uk,this);S.a().subscribe(Ef,function(){this.fg=0;this.uk()},this);N.a().subscribe("toggle-admin",ca("Re"),this);this.update()};m.uk=function(){if(this.s){x(this.Dd[this.s],"playing");var a=C("title",this.Dd[this.s]);a&&(a.style.left="")}this.s=k;if(a=S.a().n.k()){var b=this.Dd[a.id];b&&(this.s=a.id,v(b,"playing"))}};
m.Mb=function(a){var b=F("div",{"class":"program",id:a.id}),c=a.media.duration*S.a().Fb,d=this.ya&&a.time.getTime()+1E3*a.media.duration>q();wc(b,Pf,{lh:a,media:a.media,repeat:600<c,Yf:d});this.Dd[a.id]=b;var e=S.a().n.k();e&&a.id==e.id&&(v(b,"playing"),this.s=a.id);var g=C("thumb",b);L(function(){a.media.Eh.height<Q(b).height+50?(v(g,"fix-height"),v(g,"pan-left")):v(g,"pan-top");n&&Zd(g,200);A(b,"stretched",360<a.media.Eh.height)});e=(a.time.getTime()-this.W.getTime())/1E3*S.a().Fb;if(a.media.live)var h=
(q()-a.time.getTime())/1E3*S.a().Fb-100,c=c-h,e=e+h;Zd(b,Math.ceil(c-1));Pd(b,Math.floor(e));Pd(this.$a,e+c);this.ve.appendChild(b);var n=120>c;A(b,"clipped",n);P(this.h(),b,"click",function(){Z.a().c(Gg,a.media)});var r=z(b,"clipped")?200:Q(b).width,c=C("title",b),e=C("program-play",b),h=C("program-plus",b);Q(c);P(P(P(P(this.h(),b,"mouseover",function(){N.a().Fc&&(this.Re||Kd(g,"background-position-y",a.media.Kd+10*Math.max(a.media.Eh.width/r,1)+"%"))}),b,"mouseout",function(){N.a().Fc&&(this.Re||
Kd(g,"background-position-y",a.media.Kd+"%"))}),e,"click",function(b){b.preventDefault();b.stopPropagation();b=bg(a.media);T.a().c(If,b)}),h,"click",function(b){b.preventDefault();b.stopPropagation();Lf().c(lg,a.media,j)});d&&(d=new je(C("repos",b)),d.$d=function(a,b){var c=b-24;-50<=c&&50>=c&&Kd(g,"background-position-y",50-c+"%")},P(P(this.h(),d,"end",function(){var b=(g.style[Ma("background-position")]||"").split(" ")[1],b=b.substring(0,b.length-1);a.media.Kd=b;X("/admin/_posthumb",ve(),"POST",
"media="+a.media.id+"&pos="+b)}),C("remove",b),"click",p(this.gm,this,a,b)))};m.Ph=function(a){var b=this.Dd[a.id],a=(rd(a.time+"Z").getTime()-this.W.getTime())/1E3*S.a().Fb;Pd(b,a)};m.gm=function(a,b){G(b);X("/admin/_removeprogram",i,"POST","program="+a.id+"&media_id="+a.media.id+"&channel_id="+this.q.id);X("admin/_media/collection",p(function(){alert("Disallowed on all channels.")},this),"POST","&media="+a.media.id+"&approve=false")};
m.bd=function(a){if(V.a().l.id!=a.i.id){var b=this.oc[a.i.id];b||(b=F("div","viewer"),this.Jb.appendChild(b),this.oc[a.i.id]=b);if(!a.Yc||a.Yc.getTime()>this.W.getTime()){var c=I(Qf,{i:a.i,Ea:a.i.Ea().toUpperCase(),Jk:a.R.id});b.appendChild(c);var b=C("watch-with",c),d=Math.max(a.Kh.getTime(),this.W.getTime()),e=(d-this.W.getTime())/1E3*S.a().Fb+200,d=(q()-d)/1E3*S.a().Fb;Zd(c,d);Pd(c,e);Kd(c,"background",a.i.color);Kd(b,"margin-left",-Q(b).width/2+14+"px");P(this.h(),c,"click",function(b){H(b.target,
k,"watch-with")||Z.a().c(Hg,a.i)})}}};m.zm=function(a){this.oc[a.id]&&(G(this.oc[a.id]),Sb(this.oc,a.id),S.a().c(Ff))};m.km=function(){if(!z(this.$a,"show")){be(C("select-program",this.$a),1);v(this.$a,"show");var a=this.Ba,b=Ig(a);a.Fg=j;a.b().focus();!b&&!Jg&&(a.b().value=a.Va);a.b().select();Jg||(a.v&&Fd(a.v,a.b(),"click",a.zg),L(a.Zk,10,a))}};function Fg(a){x(a.$a,"show");a.Ba.Aa("");C("page2",a.b()).innerHTML=""}
m.Yg=function(){var a=C("select-content",this.b()),b=C("page2",this.b());if(!gc(b).length)try{var c=Kg(this.Ba.F());X(Da("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.Th),p(function(d){d=Lg(Mg(d.target)).entry;wc(b,Rf,{title:d.title.$t,He:d.media$group.media$thumbnail[0].url});d=new zf("YES");d.g(C("button",b));(new Fe(a,[0,0],[160,0],300,Ng)).play();P(this.h(),d,"action",p(this.jm,this,c))},this))}catch(d){}};
m.jm=function(a){X("/_addprogram",p(function(a){a=Y(a.target);a.id&&(a=new ag(a),this.q.c(kg,a))},this),"POST","channel_id="+this.q.id+"&url="+a.Od);be(C("button",this.$a),0);O(C("added",this.$a),j);be(C("select-program",this.$a),0);L(p(function(){Fg(this)},this),3E3)};
m.update=function(){!this.jb&&this.q.pa.length&&this.q.c(Kf,j);this.jb=!!this.q.pa.length;A(this.b(),"offline",!this.jb);if(this.q.pa.length){if(this.ek){var a="",b=Q(this.ve).width,c,d,e,g=(q()-this.W)/1E3,h=cb(this.xi,0,Math.floor(g/40));t(h,function(n,r){c=n.x/this.Md*b;d=60-60*(n.y/this.Pg);r==h.length-1&&(c=g/this.Md*b);c+=6;r?(a+="L"+[c-30,e],a+="C"+[c-20,e,c-10,d,c,d]):a+="M"+[c,d]+"R";e=d},this);this.cl.attr({path:a+"L"+c+",60 10,60z"})}if(this.s&&0<this.fg){var n=this.Dd[this.s],r=Rd(n).x+
Rd(B("guide")).x,n=C("title",n);Pd(n,200>r?-r+210:5)}else this.fg++;Ob(this.q.Zc,function(a){if(this.q.k()&&!a.Yc&&this.oc[a.i.id]){var b=Math.max(a.Kh.getTime(),this.W.getTime());Q(this.ve);var c=Math.floor((q()-b)/1E3*S.a().Fb),d=T.a().k();a.i.id==V.a().l.id&&d&&(c=Math.floor((d.time.getTime()+1E3*T.a().ff()-b)/1E3*S.a().Fb));this.oc[a.i.id].lastChild&&Zd(this.oc[a.i.id].lastChild,c)}},this);r=Q(this.yg).height;n=Q(this.Jb).height;r-=n;0>r&&Kd(this.yg,"margin-top",-r+"px");Yd(this.Bj,Q(this.b()).height-
1)}};function V(){M.call(this);this.vk={};this.Gi=l;this.wg=[];this.$g=[];this.subscribe(Og,function(a,b){a.jb=b},this)}s(V,M);ma(V);V.prototype.add=function(a){this.vk[a.id]=a};V.prototype.get=function(a){return this.vk[a]};function Pg(a,b){var c=a.get(b.id);c||(c=new cg(b),a.add(c));c.jb=b.online;c.vb=c.vb||b.last_seen;return c}var Og="online";function Qg(a){if("function"==typeof a.gf)return a.gf();if(ra(a))return a.split("");if(qa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Pb(a)}function Rg(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(qa(a)||ra(a))t(a,b,c);else{var d;if("function"==typeof a.xg)d=a.xg();else if("function"!=typeof a.gf)if(qa(a)||ra(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Qb(a);else d=i;for(var e=Qg(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function Sg(a,b){this.Wb={};this.V=[];var c=arguments.length;if(1<c){c%2&&f(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Sg?(c=a.xg(),d=a.gf()):(c=Qb(a),d=Pb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}m=Sg.prototype;m.Z=0;m.xk=0;m.gf=function(){Tg(this);for(var a=[],b=0;b<this.V.length;b++)a.push(this.Wb[this.V[b]]);return a};m.xg=function(){Tg(this);return this.V.concat()};
m.clear=function(){this.Wb={};this.xk=this.Z=this.V.length=0};function Tg(a){if(a.Z!=a.V.length){for(var b=0,c=0;b<a.V.length;){var d=a.V[b];Object.prototype.hasOwnProperty.call(a.Wb,d)&&(a.V[c++]=d);b++}a.V.length=c}if(a.Z!=a.V.length){for(var e={},c=b=0;b<a.V.length;)d=a.V[b],Object.prototype.hasOwnProperty.call(e,d)||(a.V[c++]=d,e[d]=1),b++;a.V.length=c}}m.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.Wb,a)?this.Wb[a]:b};
m.set=function(a,b){Object.prototype.hasOwnProperty.call(this.Wb,a)||(this.Z++,this.V.push(a),this.xk++);this.Wb[a]=b};m.clone=function(){return new Sg(this)};function Ug(a){return Vg(a||arguments.callee.caller,[])}
function Vg(a,b){var c=[];if(Va(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Wg(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Wg(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Vg(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Wg(a){if(Xg[a])return Xg[a];a=String(a);if(!Xg[a]){var b=/function ([^\(]+)/.exec(a);Xg[a]=b?b[1]:"[Anonymous]"}return Xg[a]}var Xg={};function Yg(a,b,c,d,e){this.reset(a,b,c,d,e)}Yg.prototype.Gm=0;Yg.prototype.wi=k;Yg.prototype.vi=k;var Zg=0;Yg.prototype.reset=function(a,b,c,d,e){this.Gm="number"==typeof e?e:Zg++;this.qo=d||q();this.ne=a;this.Ol=b;this.bo=c;delete this.wi;delete this.vi};Yg.prototype.$j=ca("ne");function $g(a){this.Ql=a}$g.prototype.Q=k;$g.prototype.ne=k;$g.prototype.ea=k;$g.prototype.Ti=k;function ah(a,b){this.name=a;this.value=b}ah.prototype.toString=da("name");var bh=new ah("SEVERE",1E3),ch=new ah("WARNING",900),dh=new ah("INFO",800),eh=new ah("CONFIG",700),fh=new ah("FINE",500);m=$g.prototype;m.getParent=da("Q");m.Ii=function(){this.ea||(this.ea={});return this.ea};m.$j=ca("ne");function gh(a){return a.ne?a.ne:a.Q?gh(a.Q):k}
m.log=function(a,b,c){if(a.value>=gh(this).value){a=this.bl(a,b,c);b="log:"+a.Ol;ga.console&&(ga.console.timeStamp?ga.console.timeStamp(b):ga.console.markTimeline&&ga.console.markTimeline(b));ga.msWriteProfilerMark&&ga.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Ti)for(var e=0,g=i;g=c.Ti[e];e++)g(d);b=b.getParent()}}};
m.bl=function(a,b,c){var d=new Yg(a,String(b),this.Ql);if(c){d.wi=c;var e;var g=arguments.callee.caller;try{var h;var n=ka("window.location.href");if(ra(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var r,w,y=l;try{r=c.lineNumber||c.ao||"Not available"}catch(D){r="Not available",y=j}try{w=c.fileName||c.filename||c.sourceURL||n}catch(ba){w="Not available",y=j}h=y||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:r,
fileName:w,stack:c.stack||"Not available"}:c}e="Message: "+Fa(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Fa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Fa(Ug(g)+"-> ")}catch(W){e="Exception trying to expose exception! You win, we lose. "+W}d.vi=e}return d};function hh(a,b){a.log(bh,b,i)}m.info=function(a,b){this.log(dh,a,b)};function ih(a,b){a.log(fh,b,i)}var jh={},kh=k;
function lh(a){kh||(kh=new $g(""),jh[""]=kh,kh.$j(eh));var b;if(!(b=jh[a])){b=new $g(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=lh(a.substr(0,c));c.Ii()[d]=b;b.Q=c;jh[a]=b}return b};function Lg(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}f(Error("Invalid JSON string: "+a))};function mh(){}mh.prototype.Te=k;var nh;function oh(){}s(oh,mh);function ph(a){return(a=qh(a))?new ActiveXObject(a):new XMLHttpRequest}function rh(a){var b={};qh(a)&&(b[0]=j,b[1]=j);return b}
function qh(a){if(!a.Zi&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Zi=d}catch(e){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Zi}nh=new oh;var sh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function th(a){Ac.call(this);this.headers=new Sg;this.Rd=a||k}s(th,bd);th.prototype.I=lh("goog.net.XhrIo");var uh=/^https?$/i,vh=[];function X(a,b,c,d){var e=new th;vh.push(e);b&&K(e,"complete",b);K(e,"ready",Ba(wh,e));e.send(a,c,d,i)}function wh(a){a.ca();Wa(vh,a)}m=th.prototype;m.Kb=l;m.B=k;m.Uf=k;m.me="";m.mj="";m.ke=0;m.le="";m.sg=l;m.lf=l;m.Gg=l;m.Gc=l;m.Pf=0;m.Wc=k;m.Ef="";m.hn=l;
m.send=function(a,b,c,d){this.B&&f(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.me=a;this.le="";this.ke=0;this.mj=b;this.sg=l;this.Kb=j;this.B=this.Rd?ph(this.Rd):ph(nh);this.Uf=this.Rd?this.Rd.Te||(this.Rd.Te=rh(this.Rd)):nh.Te||(nh.Te=rh(nh));this.B.onreadystatechange=p(this.Kj,this);try{ih(this.I,xh(this,"Opening Xhr")),this.Gg=j,this.B.open(b,a,j),this.Gg=l}catch(e){ih(this.I,xh(this,"Error opening Xhr: "+e.message));yh(this,e);return}var a=c||
"",g=this.headers.clone();d&&Rg(d,function(a,b){g.set(b,a)});d=ga.FormData&&a instanceof ga.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.Wb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Rg(g,function(a,b){this.B.setRequestHeader(b,a)},this);this.Ef&&(this.B.responseType=this.Ef);"withCredentials"in this.B&&(this.B.withCredentials=this.hn);try{this.Wc&&(dd.clearTimeout(this.Wc),this.Wc=k),0<this.Pf&&(ih(this.I,xh(this,"Will abort after "+
this.Pf+"ms if incomplete")),this.Wc=dd.setTimeout(p(this.Xm,this),this.Pf)),ih(this.I,xh(this,"Sending request")),this.lf=j,this.B.send(a),this.lf=l}catch(h){ih(this.I,xh(this,"Send error: "+h.message)),yh(this,h)}};m.Xm=function(){"undefined"!=typeof fa&&this.B&&(this.le="Timed out after "+this.Pf+"ms, aborting",this.ke=8,ih(this.I,xh(this,this.le)),this.dispatchEvent("timeout"),this.abort(8))};function yh(a,b){a.Kb=l;a.B&&(a.Gc=j,a.B.abort(),a.Gc=l);a.le=b;a.ke=5;zh(a);Ah(a)}
function zh(a){a.sg||(a.sg=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}m.abort=function(a){this.B&&this.Kb&&(ih(this.I,xh(this,"Aborting")),this.Kb=l,this.Gc=j,this.B.abort(),this.Gc=l,this.ke=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ah(this))};m.o=function(){this.B&&(this.Kb&&(this.Kb=l,this.Gc=j,this.B.abort(),this.Gc=l),Ah(this,j));th.d.o.call(this)};m.Kj=function(){!this.Gg&&!this.lf&&!this.Gc?this.fm():Bh(this)};m.fm=function(){Bh(this)};
function Bh(a){if(a.Kb&&"undefined"!=typeof fa)if(a.Uf[1]&&4==Ch(a)&&2==Dh(a))ih(a.I,xh(a,"Local request error detected and ignored"));else if(a.lf&&4==Ch(a))dd.setTimeout(p(a.Kj,a),0);else if(a.dispatchEvent("readystatechange"),4==Ch(a)){ih(a.I,xh(a,"Request complete"));a.Kb=l;try{var b=Dh(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var e;if(e=0===b){var g=String(a.me).match(sh)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);e=!uh.test(g?g.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.ke=6;var n;try{n=2<Ch(a)?a.B.statusText:""}catch(r){ih(a.I,"Can not get status: "+r.message),n=""}a.le=n+" ["+Dh(a)+"]";zh(a)}}finally{Ah(a)}}}
function Ah(a,b){if(a.B){var c=a.B,d=a.Uf[0]?la:k;a.B=k;a.Uf=k;a.Wc&&(dd.clearTimeout(a.Wc),a.Wc=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){hh(a.I,"Problem encountered resetting onreadystatechange: "+e.message)}}}m.Sb=function(){return!!this.B};function Ch(a){return a.B?a.B.readyState:0}function Dh(a){try{return 2<Ch(a)?a.B.status:-1}catch(b){return a.I.log(ch,"Can not get status: "+b.message,i),-1}}function Y(a){if(a.B)return Lg(a.B.responseText)}
function Mg(a){try{if(!a.B)return k;if("response"in a.B)return a.B.response;switch(a.Ef){case "":case "text":return a.B.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.B)return a.B.mozResponseArrayBuffer}hh(a.I,"Response type "+a.Ef+" is not supported on this browser");return k}catch(b){return ih(a.I,"Can not get response: "+b.message),k}}function xh(a,b){return b+" ["+a.mj+" "+a.me+" "+Dh(a)+"]"};function S(){M.call(this);this.ed=[];this.dd={};this.subscribe(Ef,this.sc,this);this.subscribe(Hf,this.Oh,this)}s(S,M);ma(S);m=S.prototype;m.get=function(a){return this.dd[a]};function Nf(a,b){if(a.n&&a.n.k()&&(b&&!a.n.C||!b))return a.n;if(a.je&&a.je.k()&&(b&&!a.je.C||!b))return a.je;for(var c=k,d=k,e=0;!d&&e<a.ed.length;)d=(c=!a.ed[e].C?a.ed[e]:k)&&c.k(),e++;return c}m.Ng=function(a){Ob(a,p(function(a){this.Pe(a)},this))};
m.Pe=function(a){var b=new jg(a);this.ed.push(b);this.dd[a.id]=b;b.C&&(this.C=b);this.c(Gf,b);return b};m.sc=function(a,b){if(a&&!this.n||a&&this.n&&this.n.id!=a.id){this.je=this.n;this.n=a;this.Oh(a.k());var c=a.k(),c=c&&!Rb(c.media.dc);X("/_changechannel",ve(),"POST","channel="+a.id+"&friends="+c+(b?"&forced=true":""));ig.a().sc(a,this.je)}};
m.Oh=function(a){this.n&&(this.s&&t(this.n.Zc,function(a){Sb(this.s.media.dc,a.i.id)},this),a&&(this.s=a,t(this.n.Zc,function(b){b.Yc||(a.media.dc[b.i.id]=b.i)})))};function Lf(){var a=S.a();if(!a.C){var b=V.a().l;a.C=new jg({id:b.id,name:b.name.split(" ")[0]+"'s Channel"})}return a.C}var Ef="change-channel",Hf="next-program",Gf="add-channel",Ff="resize";function Eh(){R.call(this);this.Ec=new zf("Guide");rf(this.Ec,16,j);this.ic=new zf("Sidebar");rf(this.ic,16,j);this.rh=new zf("Restart");this.Gb=new zf("Play");rf(this.Gb,16,j);this.Qd=new zf("Volume");rf(this.Qd,16,j);this.cd=new zf("Admin");rf(this.cd,16,j);this.mf=new zf("Info")}s(Eh,R);m=Eh.prototype;
m.z=function(){Eh.d.z.call(this);this.ko=C("right",this.b());this.Xa=C("progress",this.b());this.Zj=C("seek",this.b());this.xb=C("elapsed",this.b());this.Zm=C("title",this.b());this.ti=C("duration",this.b());this.Nn=C("current-time",this.b());Pe(this,this.Ec);this.Ec.g(B("guide-toggle"));qf(this.Ec,z(this.b(),"guide-toggled"));Pe(this,this.ic);this.ic.g(B("sidebar-toggle"));qf(this.ic,z(this.b(),"sidebar-toggled"));Pe(this,this.rh);this.rh.g(C("restart",this.b()));Pe(this,this.Gb);this.Gb.g(C("play",
this.b()));Pe(this,this.Qd);this.Qd.g(C("volume",this.b()));Pe(this,this.mf);this.mf.g(B("info-toggle"));O(this.mf.b(),V.a().l.Vf!=fg);Pe(this,this.cd);this.cd.g(B("admin-toggle"));O(this.cd.b(),V.a().l.Vf==fg);var a=new Dg(this.Vm,1E3,this);this.resize();this.p=new je(this.Zj);this.p.lb(l);var b=this.Xa,c=this.xb,d=this.ti;this.p.$d=function(a){if(0<a&&a<Q(b).width){this.target.style.left=a+"px";c.style.width=a+"px";var a=a/Q(b).width,g=T.a().k().media.duration;lc(d,Fh(Math.round(a*g).toString())+
" / "+Fh(g.toString()))}};P(P(P(P(P(P(P(P(P(P(P(P(this.h(),window,"resize",p(this.resize,this)),this.Ec,"action",p(function(){a.ee()},this)),this.ic,"action",p(function(a){a.stopPropagation();N.a().c(jd,Ze(this.ic))},this)),this.rh,"action",p(function(a){a.stopPropagation();T.a().k()&&(a=bg(T.a().k().media),T.a().c(If,a),this.resize())},this)),this.Gb,"action",p(function(a){a.stopPropagation();N.a().c(ld,!Ze(this.Gb));this.resize()},this)),this.mf,"action",p(function(a){a.stopPropagation();N.a().c("toggle-info")},
this)),this.Qd,"action",p(function(a){a.stopPropagation();N.a().c("mute",Ze(this.Qd))},this)),this.cd,"action",p(function(a){a.stopPropagation();N.a().c("toggle-admin",Ze(this.cd));this.resize()},this)),fd.a().Wd,ed,p(function(){if(T.a().k()){var a=T.a().getCurrentTime()/T.a().k().media.duration;3>T.a().k().media.duration-T.a().getCurrentTime()&&T.a().c(Gh);S.a().n.C&&!z(this.Xa,"drag")&&(lc(this.ti,(T.a().getCurrentTime()?Fh(T.a().getCurrentTime().toString())+" / ":"")+Fh(T.a().k().media.duration.toString())),
Zd(this.xb,this.mh?a*this.mh:0))}},this)),this.Xa,"click",p(function(a){!z(this.Xa,"drag")&&T.a().k()&&(a=a.offsetX/Q(this.Xa).width*T.a().k().media.duration,x(this.xb,"animate"),T.a().c(Hh,a),L(p(function(){v(this.xb,"animate")},this),1E3))},this)),this.p,"beforedrag",p(function(){v(this.Xa,"drag")},this)),this.p,"end",p(function(a){this.Zj.style.left="";a=a.left/Q(this.Xa).width*T.a().k().media.duration;x(this.xb,"animate");T.a().c(Hh,a);L(p(function(){x(this.Xa,"drag");v(this.xb,"animate")},this),
1E3)},this));T.a().subscribe(If,function(a){Ih(this,a,j)},this);T.a().subscribe(Jh,function(){this.p.lb(j);this.resize()},this);S.a().subscribe(Ef,function(){x(this.b(),"window");L(p(this.resize,this),1E3)},this);S.a().subscribe(Hf,function(){this.resize()},this);N.a().subscribe("mute",this.Pl,this);N.a().subscribe(kd,this.Qf,this);N.a().subscribe(jd,function(a){qf(this.ic,a);A(this.b(),"sidebar-toggled",a);this.resize()},this);N.a().subscribe(ld,function(a){qf(this.Gb,!a)},this);T.a().subscribe(Jh,
function(){S.a().n.C&&T.a().k()&&this.resize()},this)};function Ih(a,b,c){lc(a.Zm,b.media.name.toUpperCase());c&&(x(a.xb,"animate"),Zd(a.xb,0),L(p(function(){v(this.xb,"animate")},a),1E3))}m.Pl=function(a){qf(this.Qd,a)};m.Vm=function(){var a=Ze(this.Ec);N.a().c(kd,a)};m.Qf=function(a){qf(this.Ec,a);a&&(x(this.b(),"window"),x(this.b(),"collapsed"),L(p(this.resize,this)));L(p(function(){A(this.b(),"guide-toggled",a);a||(S.a().n&&S.a().n.k(),v(this.b(),"collapsed"),this.resize())},this),a?0:600)};
m.resize=function(){if(S.a().n.C)T.a().k()&&(O(this.Xa,j),Ih(this,T.a().k()),this.mh=E().width-(Ze(this.ic)?580:260)-50,Zd(this.Xa,this.mh));else{O(this.Xa,l);var a=B("guide"),b=C("current",a),b=$b("program",b),a=(b=b[b.length-1])?Rd(a).x+Rd(b).x+Q(b).width+210:9999999,a=Math.min(E().width-200,Math.max(100,E().width-a)),c=z(this.b(),"collapsed")&&!!b&&a<E().width-203;L(p(function(){A(this.b(),"window",c&&z(this.b(),"collapsed"))},this),400)}};function Kh(a){return(a.link?'<a href="'+J(a.link)+'">':"")+'<div class="note'+(a.Eg?" pic":"")+'">'+(a.Eg?'<div class="picture"><img class="image" src='+J(a.Eg)+' style="display: none"/></div>':"")+'<div class="action">'+(a.i?J(a.i.name)+" ":"")+J(a.action)+'</div><div class="content">'+J(a.content)+'</div><div class="close"></div></div>'+(a.link?"</a>":"")};function Lh(){R.call(this)}s(Lh,R);Lh.prototype.N=function(){this.e=F("div",{id:"notify"})};Lh.prototype.A=function(a){Lh.d.A.call(this,a);Sf.a().subscribe("flash",function(a,c,d,e,g){this.Nf(j,a,c,d,e,g)},this);Sf.a().subscribe("show",function(a,c,d,e,g){this.Nf(l,a,c,d,e,g)},this)};
Lh.prototype.Nf=function(a,b,c,d,e,g){var h=I(Kh,{action:b,content:c,i:d,Eg:e,link:g}),n=C("image",h);C("close",h);P(P(P(this.h(),C("close",h),"click",function(a){a.preventDefault();a.stopPropagation();G(h)}),h,"click",function(a){a.preventDefault();a.stopPropagation();G(h)}),n,"load",function(){O(n,j);L(function(){n.style.marginLeft=-1*n.clientWidth/2+"px";n.style.marginTop=-1*n.clientHeight/2+"px"})});this.b().appendChild(h);var r=C("note",h);L(function(){r&&(v(r,"show"),a?L(function(){x(r,"show");
v(r,"fade-out");L(function(){G(h)},5100)},3E3):L(function(){v(r,"dim")},3E3))})};function T(){M.call(this);this.subscribe(If,function(a){Lf().c(kg,a);X("/_addprogram",ve(),"POST","channel_id="+S.a().C.id+"&media_id="+a.media.id+"&async=true");og(ig.a(),a.media)},this);this.subscribe(Jh,function(a){X("/_started",ve(),"POST","media_id="+a.id)},this)}s(T,M);ma(T);T.prototype.yh=ca("w");T.prototype.k=da("s");T.prototype.getCurrentTime=function(){return this.w&&this.w.getCurrentTime?this.w.getCurrentTime():0};
T.prototype.ff=function(){return this.w&&this.w.getCurrentTime?this.w.getCurrentTime():0};var Gh="before-end",If="play-async",Jh="playing",Hh="seek";function Mh(){se.call(this);this.queue=[]}s(Mh,se);Mh.prototype.add=function(a){Va(this.queue,a)||(this.queue.push(a),K(a,"finish",this.Tl,l,this))};Mh.prototype.o=function(){t(this.queue,function(a){a.ca()});this.queue.length=0;Mh.d.o.call(this)};function Nh(){Mh.call(this);this.Ra=0}s(Nh,Mh);
Nh.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.m==te)this.Ra<this.queue.length&&this.queue[this.Ra].m!=te&&this.queue[this.Ra].stop(l),this.Ra=0,this.bc();else if(1==this.m)return l;this.ua("play");-1==this.m&&this.ua("resume");this.startTime=q();this.ce=k;this.m=1;this.queue[this.Ra].play(a);return j};
Nh.prototype.stop=function(a){this.m=te;this.ce=q();if(a)for(a=this.Ra;a<this.queue.length;++a){var b=this.queue[a];b.m==te&&b.play();b.m==te||b.stop(j)}else this.Ra<this.queue.length&&this.queue[this.Ra].stop(l);this.ua("stop");this.cc()};Nh.prototype.Tl=function(){1==this.m&&(this.Ra++,this.Ra<this.queue.length?this.queue[this.Ra].play():(this.ce=q(),this.m=te,this.ua("finish"),this.cc()))};function Oh(a){return a*a*a}function Ng(a){return 1-Math.pow(1-a,3)};function Ph(){R.call(this)}s(Ph,R);m=Ph.prototype;
m.z=function(){Ph.d.z.call(this);(this.s=(this.X=S.a().n)&&this.X.k())&&q();this.Dc=C("fullscreen",this.b());var a=C("expand",this.b());O(this.Dc,this.kk());this.Ce=B("stagecover");this.xj=C("message",this.Ce);this.H=C("spinner",this.Ce);this.ye=C("restart",this.Ce);this.Uh=C("vote",this.b());this.Kc=C("like",this.b());this.wc=C("dislike",this.b());var b=new bf(document);Qh(this);this.s?(DESKTOP||this.X.C)&&Rh(this,this.s):T.a().c("no-media");P(P(P(P(P(P(P(P(P(this.h(),window,"resize",p(this.resize,
this)),document,"webkitfullscreenchange",p(function(){Kb(this.Dc,"full")},this)),document,"mozfullscreenchange",p(function(){Kb(this.Dc,"full")},this)),document,"fullscreenchange",p(function(){Kb(this.Dc,"full")},this)),this.Dc,"click",p(function(a){if(z(this.Dc,"full"))document.Gk&&document.Gk(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();else{var b=C("main");b.Tj&&b.Tj();b.webkitRequestFullScreen&&b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
b.mozRequestFullScreen&&b.mozRequestFullScreen()}a.stopPropagation();a.preventDefault()},this)),a,"click",p(this.an,this)),this.b(),"mousemove",p(function(a){var b=a.offsetX/this.Ga,a=a.offsetY/this.Oa;if(0.7<b&&1>b&&0.7<a&&1>a&&(this.te==YT.PlayerState.PLAYING||this.te==YT.PlayerState.PAUSED))v(this.Ce,"click-through"),L(p(function(){x(this.Ce,"click-through")},this),500)},this)),b,"key",p(function(a){"32"==a.keyCode&&Sh(this)},this)),this.b(),"click",p(function(a){!z(B("queue"),"show")&&(!z(B("search"),
"show")&&!H(a.target,k,"queue")&&!H(a.target,k,"search"))&&Sh(this)},this));S.a().subscribe(Ef,this.sc,this);S.a().subscribe(Hf,function(a){this.s=a;Rh(this,a);Qh(this)},this);T.a().subscribe(If,this.gh,this);T.a().subscribe(Hh,this.Fm,this);T.a().subscribe(Gh,function(){Qh(this,j)},this);DESKTOP&&(P(P(P(this.h(),this.ye,"click",p(function(a){a.preventDefault();a.stopPropagation();this.s&&Rh(this,this.s)},this)),this.Kc,"click",p(this.Ij,this,this.Kc,j)),this.wc,"click",p(this.Ij,this,this.wc,l)),
N.a().subscribe(jd,function(a){this.resize(a)},this),N.a().subscribe(kd,function(){L(p(this.resize,this))},this),N.a().subscribe(ld,function(a){a?this.w.playVideo():this.w.pauseVideo();var a=C(a?"play":"pause",this.b()),b=new Nh;b.add(new Ie(a,250,Ng));b.add(new He(a,250,Oh));b.play()},this),N.a().subscribe("mute",function(a){this.w&&(a?this.w.mute():this.w.unMute())},this),N.a().subscribe("restart",function(){this.w.seekTo(0)},this));this.resize()};
function Sh(a){if(a.w&&a.w.getPlayerState&&DESKTOP)switch(a.w.getPlayerState()){case YT.PlayerState.PLAYING:N.a().c(ld,l);break;case YT.PlayerState.PAUSED:N.a().c(ld,j)}}m.kk=function(){var a=C("main");return!(!a.Tj&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};m.an=function(a){a.preventDefault();a.stopPropagation();Z.a();a=!z(B("sidebar"),"toggled");DESKTOP&&(N.a().c(jd,a),N.a().c(kd,a))};
function Rh(a,b){T.a().s=b;a.Fl!=b.id&&(Sf.a().c("flash","Now playing",b.media.name,i,b.media.Fh,"#info:"+b.media.id),a.Fl=b.id);a.play(b.media);X("/_like/"+b.media.id,p(function(a){a=Y(a.target);A(this.Kc,"checked",a.liked||z(this.Kc,"checked"));A(this.wc,"checked",a.disliked||z(this.wc,"checked"))},a))}
m.play=function(a,b){!this.w||!this.w.loadVideoById?(this.w=new YT.Player("ytplayer",{height:E().height-40,width:E().width,videoId:a.sd,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque",origin:HOST_URL,enablejsapi:1},events:{onStateChange:p(this.rm,this),onReady:p(this.dm,this),onError:p(this.cm,this)}}),T.a().yh(this.w)):(this.w.cueVideoById(a.sd),L(p(function(){var c=b||0;!this.w.getPlayerState()&&4>c?this.play(a,++c):4<=c&&Qh(this,i,j)},this),1E3))};
m.resize=function(){if(!IPHONE){var a=B("stagecover"),b=C("message",a),c=B("guide").style.height,c=c.substring(0,c.length-2),c=N.a().Fc?c:40,d=N.a().Tc?320:0;this.Oa=E().height-c;this.Ga=E().width-d;Yd(this.b(),E().height-c);Zd(this.b(),E().width-d);Yd(a,E().height-c);Zd(a,E().width-d);a=Q(b);Kd(b,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});A(this.Dc,"full",this.kk&&(document.fullScreen||document.webkitIsFullScreen||document.eo))}};
m.sc=function(a){if(a=a.k())this.s=a,Rh(this,a);Qh(this)};m.Ij=function(a,b,c){c.preventDefault();c.stopPropagation();this.s&&(a=Kb(a,"checked"),(c=b&&z(this.wc,"checked")||!b&&z(this.Kc,"checked"))&&x(b?this.wc:this.Kc,"checked"),X(b?"/_like":"/_dislike",i,"POST","media_id="+this.s.media.id+(!a?"&delete=1":"")+(c?"&flip=1":"")))};m.gh=function(a){this.s=a;Rh(this,a);Qh(this);X("/_optin",ve(),"POST","media_id="+this.s.media.id)};m.Fm=function(a){this.w.seekTo&&this.w.seekTo(a,j)};
m.rm=function(a){this.te=a.data;Qh(this);switch(a.data){case YT.PlayerState.CUED:a=this.s.async?this.s.seek:(q()-this.s.time.getTime())/1E3;this.w.seekTo(a);this.w.playVideo();N.a().c(ld,j);break;case YT.PlayerState.PLAYING:T.a().c(Jh,this.s.media);break;case YT.PlayerState.ENDED:V.a().l.Ze.Kf(this.s.media),A(this.Kc,"checked",l),A(this.wc,"checked",l),(a=S.a().n.k())?S.a().c(Hf,a):(T.a().s=k,S.a().c(Ef,Nf(S.a()),j))}};
m.dm=function(){L(p(function(){if(this.w&&(!this.w.getPlayerState||!this.w.getPlayerState()))Rh(this,this.s);else if(this.w.getPlayerState()){var a=this.s.async?this.s.seek:(q()-this.s.time.getTime())/1E3;this.w.seekTo(a);this.w.playVideo();DESKTOP&&N.a().c("mute",this.w.isMuted())}},this),1E3)};m.cm=function(){T.a().c("no-media");Qh(this,i,j)};
function Qh(a,b,c){if(!IPHONE){var d=B("stagecover"),e=a.s?T.a().getCurrentTime():0;c?(O(a.H,l),O(a.ye,j),v(d,"covered")):(!a.s||a.s&&e>a.s.media.duration?(T.a().c("no-media"),lc(a.xj.firstChild,Th),O(a.H,l),O(a.ye,l),O(a.Uh,l),v(d,"covered")):a.te!=YT.PlayerState.PLAYING&&a.te!=YT.PlayerState.PAUSED||b?(lc(a.xj.firstChild,Uh),O(a.H,j),O(a.ye,l),O(a.Uh,l),v(d,"covered")):(O(a.H,l),O(a.ye,l),x(d,"covered"),O(a.Uh,j)),be(d,a.te==YT.PlayerState.BUFFERING?0.9:1),a.resize())}}
var Th="THIS CHANNEL IS CURRENTLY OFFLINE",Uh="LOADING STORY";function Bg(a,b){R.call(this,b);this.Va=a||""}s(Bg,R);Bg.prototype.gb=k;var Jg="placeholder"in document.createElement("input");m=Bg.prototype;m.ge=l;m.N=function(){this.e=this.Ua().N("input",{type:"text"})};m.A=function(a){Bg.d.A.call(this,a);this.Va||(this.Va=a.getAttribute("label")||"");var b;a:{var c=Zb(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.ge=j,x(this.b(),this.Sd));Jg?this.b().placeholder=this.Va:this.b().setAttribute("aria-label",this.Va)};
m.z=function(){Bg.d.z.call(this);var a=new Dd(this);P(a,this.b(),"focus",this.zg);P(a,this.b(),"blur",this.hl);Jg?this.v=a:(ob&&P(a,this.b(),["keypress","keydown","keyup"],this.nl),P(a,Zb(this.b())?Zb(this.b()).parentWindow||Zb(this.b()).defaultView:window,"load",this.vl),this.v=a,Vh(this));Wh(this);this.b().Cl=this};m.Bc=function(){Bg.d.Bc.call(this);this.v&&(this.v.ca(),this.v=k);this.b().Cl=k};function Vh(a){!a.$k&&(a.v&&a.b().form)&&(P(a.v,a.b().form,"submit",a.ql),a.$k=j)}
m.o=function(){Bg.d.o.call(this);this.v&&(this.v.ca(),this.v=k)};m.Sd="label-input-label";m.zg=function(){this.ge=j;x(this.b(),this.Sd);if(!Jg&&!Ig(this)&&!this.Fg){var a=this,b=function(){a.b().value=""};u?L(b,10):b()}};m.hl=function(){Jg||(Gd(this.v,this.b(),"click",this.zg),this.gb=k);this.ge=l;Wh(this)};m.nl=function(a){27==a.keyCode&&("keydown"==a.type?this.gb=this.b().value:"keypress"==a.type?this.b().value=this.gb:"keyup"==a.type&&(this.gb=k),a.preventDefault())};
m.ql=function(){Ig(this)||(this.b().value="",L(this.gl,10,this))};m.gl=function(){Ig(this)||(this.b().value=this.Va)};m.vl=function(){Wh(this)};function Ig(a){return!!a.b()&&""!=a.b().value&&a.b().value!=a.Va}m.clear=function(){this.b().value="";this.gb!=k&&(this.gb="")};m.reset=function(){Ig(this)&&(this.clear(),Wh(this))};m.Aa=function(a){this.gb!=k&&(this.gb=a);this.b().value=a;Wh(this)};m.F=function(){return this.gb!=k?this.gb:Ig(this)?this.b().value:""};
function Wh(a){Jg?a.b().placeholder!=a.Va&&(a.b().placeholder=a.Va):(Vh(a),a.b().setAttribute("aria-label",a.Va));Ig(a)?x(a.b(),a.Sd):(!a.Fg&&!a.ge&&v(a.b(),a.Sd),Jg||L(a.Cm,10,a))}m.lb=function(a){this.b().disabled=!a;A(this.b(),this.Sd+"-disabled",!a)};m.isEnabled=function(){return!this.b().disabled};m.Zk=function(){this.Fg=l};m.Cm=function(){this.b()&&(!Ig(this)&&!this.ge)&&(this.b().value=this.Va)};function Xh(a,b,c,d,e,g,h,n,r){var w,y;if(w=c.offsetParent){var D="HTML"==w.tagName||"BODY"==w.tagName;if(!D||"static"!=Od(w,"position"))y=Vd(w),D||(D=(D=Wd(w))&&ob?-w.scrollLeft:D&&(!u||!Ab("8"))?w.scrollWidth-w.clientWidth-w.scrollLeft:w.scrollLeft,y=Mb(y,new Lb(D,w.scrollTop)))}w=y||new Lb;y=ae(a);if(D=Ud(a)){var ba=new Jd(D.left,D.top,D.right-D.left,D.bottom-D.top),D=Math.max(y.left,ba.left),W=Math.min(y.left+y.width,ba.left+ba.width);if(D<=W){var ta=Math.max(y.top,ba.top),ba=Math.min(y.top+y.height,
ba.top+ba.height);ta<=ba&&(y.left=D,y.top=ta,y.width=W-D,y.height=ba-ta)}}D=Xb(a);ta=Xb(c);if(D.G!=ta.G){var W=D.G.body,ta=ta.G.parentWindow||ta.G.defaultView,ba=new Lb(0,0),fb=Zb(W)?Zb(W).parentWindow||Zb(W).defaultView:window,dg=W;do{var ja;if(fb==ta)ja=Vd(dg);else{ja=dg;var Cb=new Lb;if(1==ja.nodeType){if(ja.getBoundingClientRect){var pa=Sd(ja);Cb.x=pa.left;Cb.y=pa.top}else{var pa=tc(Xb(ja)),$a=Vd(ja);Cb.x=$a.x-pa.x;Cb.y=$a.y-pa.y}ob&&!Ab(12)&&(pa=i,pa=i,u?pa="-ms-transform":pb?pa="-webkit-transform":
nb?pa="-o-transform":ob&&(pa="-moz-transform"),$a=i,pa&&($a=Od(ja,pa)),$a||($a=Od(ja,"transform")),$a?(ja=$a.match(ie),pa=!ja?new Lb(0,0):new Lb(parseFloat(ja[1]),parseFloat(ja[2]))):pa=new Lb(0,0),Cb=new Lb(Cb.x+pa.x,Cb.y+pa.y))}else pa=ua(ja.al),$a=ja,ja.targetTouches?$a=ja.targetTouches[0]:pa&&ja.ia.targetTouches&&($a=ja.ia.targetTouches[0]),Cb.x=$a.clientX,Cb.y=$a.clientY;ja=Cb}ba.x+=ja.x;ba.y+=ja.y}while(fb&&fb!=ta&&(dg=fb.frameElement)&&(fb=fb.parent));W=Mb(ba,Vd(W));u&&!sc(D)&&(W=Mb(W,tc(D)));
y.left+=W.x;y.top+=W.y}a=(b&4&&Wd(a)?b^2:b)&-5;b=new Lb(a&2?y.left+y.width:y.left,a&1?y.top+y.height:y.top);b=Mb(b,w);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var U;if(h)if(r)U=r;else if(U=Ud(c))U.top-=w.y,U.right-=w.x,U.bottom-=w.y,U.left-=w.x;a:{r=b.clone();e=0;a=(d&4&&Wd(c)?d^2:d)&-5;d=Q(c);n=n?n.clone():d.clone();if(g||0!=a)a&2?r.x-=n.width+(g?g.right:0):g&&(r.x+=g.left),a&1?r.y-=n.height+(g?g.bottom:0):g&&(r.y+=g.top);if(h){if(U){g=r;e=0;if(65==(h&65)&&(g.x<U.left||g.x>=U.right))h&=-2;if(132==
(h&132)&&(g.y<U.top||g.y>=U.bottom))h&=-5;g.x<U.left&&h&1&&(g.x=U.left,e|=1);g.x<U.left&&(g.x+n.width>U.right&&h&16)&&(n.width=Math.max(n.width-(g.x+n.width-U.right),0),e|=4);g.x+n.width>U.right&&h&1&&(g.x=Math.max(U.right-n.width,U.left),e|=1);h&2&&(e|=(g.x<U.left?16:0)|(g.x+n.width>U.right?32:0));g.y<U.top&&h&4&&(g.y=U.top,e|=2);g.y>=U.top&&(g.y+n.height>U.bottom&&h&32)&&(n.height=Math.max(n.height-(g.y+n.height-U.bottom),0),e|=8);g.y+n.height>U.bottom&&h&4&&(g.y=Math.max(U.bottom-n.height,U.top),
e|=2);h&8&&(e|=(g.y<U.top?64:0)|(g.y+n.height>U.bottom?128:0));h=e}else h=256;e=h;if(e&496){c=e;break a}}Pd(c,r);if(!(d==n||(!d||!n?0:d.width==n.width&&d.height==n.height)))g=sc(Xb(Zb(c))),u&&(!g||!Ab("8"))?(h=c.style,g?(g=ee(c,"padding"),c=he(c),h.pixelWidth=n.width-c.left-g.left-g.right-c.right,h.pixelHeight=n.height-c.top-g.top-g.bottom-c.bottom):(h.pixelWidth=n.width,h.pixelHeight=n.height)):(c=c.style,ob?c.MozBoxSizing="border-box":pb?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=
Math.max(n.width,0)+"px",c.height=Math.max(n.height,0)+"px");c=e}return c};function Yh(){}Yh.prototype.kb=aa();function Zh(a,b,c){this.element=a;this.ng=b;this.pm=c}s(Zh,Yh);Zh.prototype.kb=function(a,b,c){Xh(this.element,this.ng,a,b,i,c,this.pm)};function $h(a,b,c,d){Zh.call(this,a,b);this.Gl=c?5:0;this.bh=d||i}s($h,Zh);$h.prototype.kb=function(a,b,c,d){var e=Xh(this.element,this.ng,a,b,k,c,10,d,this.bh);if(e&496){var g=ai(e,this.ng),b=ai(e,b),e=Xh(this.element,g,a,b,k,c,10,d,this.bh);e&496&&(g=ai(e,g),b=ai(e,b),Xh(this.element,g,a,b,k,c,this.Gl,d,this.bh))}};function ai(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function bi(a,b){Ac.call(this);this.P=new Dd(this);this.ud&&f(Error("Can not change this state of the popup while showing."));this.e=a||k;b&&this.bk(b)}s(bi,bd);m=bi.prototype;m.e=k;m.Ek=j;m.bi=k;m.ud=l;m.Hm=l;m.Lg=-1;m.kj=-1;m.wl=l;m.Sk=j;m.nc="toggle_display";m.bk=ca("nc");m.b=da("e");m.hb=da("ud");m.gc=function(a){this.Be&&this.Be.stop();this.he&&this.he.stop();a?this.Nf():this.rd()};m.kb=la;
m.Nf=function(){if(!this.ud&&this.dispatchEvent("beforeshow")){this.e||f(Error("Caller must call setElement before trying to show the popup"));this.kb();var a=Zb(this.e);this.wl&&P(this.P,a,"keydown",this.Wl,j);if(this.Ek)if(P(this.P,a,"mousedown",this.Hj,j),u){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}P(this.P,a,"mousedown",this.Hj,j);P(this.P,a,"deactivate",this.Gj)}else P(this.P,
a,"blur",this.Gj);"toggle_display"==this.nc?(this.e.style.visibility="visible",O(this.e,j)):"move_offscreen"==this.nc&&this.kb();this.ud=j;this.Be?(Vc(this.Be,"end",this.Mj,l,this),this.Be.play()):this.Mj()}};m.rd=function(a){if(!this.ud||!this.dispatchEvent({type:"beforehide",target:a}))return l;this.P&&Hd(this.P);this.ud=l;this.kj=q();this.he?(Vc(this.he,"end",Ba(this.ki,a),l,this),this.he.play()):this.ki(a);return j};
m.ki=function(a){"toggle_display"==this.nc?this.Hm?L(this.Xi,0,this):this.Xi():"move_offscreen"==this.nc&&(this.e.style.top="-10000px");this.dispatchEvent({type:"hide",target:a})};m.Xi=function(){this.e.style.visibility="hidden";O(this.e,l)};m.Mj=function(){this.Lg=q();this.kj=-1;this.dispatchEvent("show")};m.Hj=function(a){a=a.target;!kc(this.e,a)&&((!this.bi||kc(this.bi,a))&&!(150>q()-this.Lg))&&this.rd(a)};m.Wl=function(a){27==a.keyCode&&this.rd(a.target)&&(a.preventDefault(),a.stopPropagation())};
m.Gj=function(a){if(this.Sk){var b=Zb(this.e);if(u||nb){if(a=b.activeElement,!a||kc(this.e,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>q()-this.Lg||this.rd()}};m.o=function(){bi.d.o.call(this);this.P.ca();Ec(this.Be);Ec(this.he);delete this.e;delete this.P};function ci(a,b){this.Pj=4;this.ih=b||i;bi.call(this,a)}s(ci,bi);ci.prototype.kb=function(){if(this.ih){var a=!this.hb()&&"move_offscreen"!=this.nc,b=this.b();a&&(b.style.visibility="hidden",O(b,j));this.ih.kb(b,this.Pj,this.Ll);a&&O(b,l)}};function di(a,b,c){Ac.call(this);this.Vb=a;this.S=b;this.P=c;this.dg=p(this.mm,this)}s(di,Ac);var Dg=di;m=di.prototype;m.Mf=l;m.Oj=0;m.sa=k;m.ee=function(){!this.sa&&!this.Oj?this.ae():this.Mf=j};m.stop=function(){this.sa&&(dd.clearTimeout(this.sa),this.sa=k,this.Mf=l)};m.o=function(){di.d.o.call(this);this.stop()};m.mm=function(){this.sa=k;this.Mf&&!this.Oj&&(this.Mf=l,this.ae())};m.ae=function(){this.sa=L(this.dg,this.S);this.Vb.call(this.P)};function ei(a,b){Ac.call(this);this.Vb=a;this.P=b;this.fb=new ue(p(this.lm,this),0,this)}s(ei,Ac);m=ei.prototype;m.S=0;m.sh=0;m.dj=l;m.o=function(){this.fb.ca();delete this.Vb;delete this.P;ei.d.o.call(this)};m.start=function(a,b){this.stop();this.dj=l;var c=b||0;this.S=Math.max(a||0,0);this.sh=0>c?-1:q()+c;this.fb.start(0>c?this.S:Math.min(this.S,c))};m.stop=function(){this.fb.stop()};m.Sb=function(){return this.fb.Sb()};
m.lm=function(){if(this.Vb.call(this.P))this.dj=j;else if(0>this.sh)this.fb.start(this.S);else{var a=this.sh-q();0>=a||this.fb.start(Math.min(this.S,a))}};function Cg(a){Ac.call(this);this.e=a;this.pe=this.e.value;this.v=new Dd(this);this.ib=q();pb||u||ob&&Ab("1.9")?P(this.v,a,"paste",this.ld):P(this.v,a,["keydown","blur","focus","mouseover","input"],this.ol);this.fb=new ei(p(this.gi,this))}s(Cg,bd);var Eg="after_paste";m=Cg.prototype;m.m="init";m.I=lh("goog.events.PasteHandler");m.o=function(){Cg.d.o.call(this);this.v.ca();this.v=k;this.fb.ca();this.fb=k};
m.gi=function(){if(this.pe==this.e.value)return l;this.I.info("detected textchange after paste");this.dispatchEvent(Eg);return j};m.ld=function(a){a=new Lc(a.ia);a.type="paste";this.dispatchEvent(a);L(function(){this.gi()||this.fb.start(50,200)},0,this)};
m.ol=function(a){switch(this.m){case "init":switch(a.type){case "blur":this.m="init";break;case "focus":this.m="focused";break;case "mouseover":this.m="init";this.e.value!=this.pe&&(this.I.info("paste by dragdrop while on init!"),this.ld(a));break;default:hh(this.I,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.ib+400;if(q()>b||"focus"==this.wm)this.I.info("paste by textchange while focused!"),this.ld(a);break;case "blur":this.m="init";break;
case "keydown":this.I.info("key down ... looking for ctrl+v");if(ib&&nb&&0==a.keyCode||ib&&nb&&17==a.keyCode)break;this.m="typing";break;case "mouseover":this.e.value!=this.pe&&(this.I.info("paste by dragdrop while focused!"),this.ld(a));break;default:hh(this.I,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.m="focused";break;case "blur":this.m="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.I.info("paste by ctrl+v while keypressed!"),
this.ld(a);break;case "mouseover":this.e.value!=this.pe&&(this.I.info("paste by dragdrop while keypressed!"),this.ld(a));break;default:hh(this.I,"unexpected event "+a.type+" during keypressed")}break;default:hh(this.I,"invalid "+this.m+" state")}this.ib=q();this.pe=this.e.value;this.I.info(a.type+" -> "+this.m);this.wm=a.type};function fi(){return'<div class="popup" id="popup" style="visibility: hidden; display: none;"><div class="content"></div><div id="tailarrow"></div></div>'}function gi(){return'<div class="select-program"><div class="select-header">Suggest a Program</div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="paste a youtube link"/><div class="page2"></div></div></div></div>'}
function hi(a){return'<div class="confirm-media"><img src="'+J(a.He)+'" /><div class="title">'+J(a.title)+'</div><div class="dark button">Yes</div></div>'};function ii(){var a=B("popup");a||(a=I(fi),document.body.appendChild(a));ci.call(this,a);K(window,"resize",p(this.gc,this,l));K(this,"hide",this.Zl);this.q=pg.a();this.q.subscribe("select-program",this.Jm,this);this.q.subscribe("hide",this.rd,this)}s(ii,ci);ma(ii);m=ii.prototype;m.Zl=function(){this.rd();this.q.c("on-hide")};m.zb=function(){return C("content",this.b())};
m.Jm=function(a,b){this.gc(l);this.Pj=0;this.hb()&&this.kb();var c=-1*(Q(this.b()).height-Q(a).height)/2;this.Ll=c==k||c instanceof Id?c:new Id(c,0,0,5);this.hb()&&this.kb();this.ih=new $h(a,6)||i;this.hb()&&this.kb();v(this.b(),"left");wc(this.zb(),gi);this.Ba=new Bg("paste a YouTube link");this.Ba.g(C("program-input",this.b()));var c=new bf(this.Ba.b()),d=new Cg(this.Ba.b()),e=new Dg(p(this.Xg,this,b),1E3);this.gc(j);P(P(P(this.P,d,Eg,p(this.Xg,this,b)),c,"key",p(function(){e&&e.ee()},this)),this.Ba.b(),
"focus",p(this.Xg,this,b))};m.Xg=function(a){var b=C("select-content",this.b());try{var c=Kg(this.Ba.F());X(Da("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.Th),p(function(d){var g=Lg(Mg(d.target)).entry,d=g.title.$t,h=g.media$group.media$thumbnail[0].url,g=C("page2",this.b());wc(g,hi,{title:d,He:h});d=new zf("Yes");d.g(C("button",g));(new Fe(b,[0,0],[260,0],300,Ng)).play();P(this.P,d,"action",p(this.Tg,this,a,c))},this))}catch(d){}};
m.Tg=function(a,b){X("/_addprogram",p(function(b){b=Lg(Mg(b.target));b=new ag(b);a.c(kg,b);this.gc(l)},this),"POST","channel="+a.id+"&youtube_id="+b.Th)};function ji(){M.call(this);this.di=[];this.Uj=[]}s(ji,M);ma(ji);
ji.prototype.search=function(a,b){X("https://gdata.youtube.com/feeds/api/videos?q="+a+"&max-results=10&v=2&alt=json",p(function(a){a=Y(a.target);this.Uj=Ra(a.feed.entry,function(a){var b=new Uf({id:"youtube"+a.media$group.yt$videoid.$t,name:a.title.$t,host_id:a.media$group.yt$videoid.$t,description:a.media$group.media$description.$t,duration:a.media$group.yt$duration.seconds,publisher:{name:a.author[0].name.$t,id:"youtube"+a.author[0].name.$t,picture:"https://i4.ytimg.com/i/"+a.author[0].yt$userId.$t+
"/1.jpg"}});b.fc=rd(a.published.$t);return b},this);b&&b(this.Uj)},this))};function ki(a){return'<div class="search-channel"><div class="pic"><img src="'+J(a.He)+'"></div><div class="title">'+J(a.name)+'</div><div class="loading loading-channel"><div class="loading-spinner"></div></div></div>'};function li(a){return'<div class="info"><div class="picture"><img src="'+J(a.media.nb)+'" class="thumb"><div class="publisher"><img src="'+J(a.media.qa.K)+'"><div class="name">'+J(a.media.qa.name)+'</div></div><div class="links"><div class="local"></div><a target="_blank" href="'+a.media.xl+'"><div class="host"></div></a></div><div class="link-select" style="display:none"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><div class="title"><div class="text">'+
J(a.media.name)+'</div></div><div class="scrollable ios-scroll" '+(!a.description?'style="display:none"':"")+'><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+J(a.fc)+'</div></div><div class="description">'+a.description+'</div></div><div class="button play"><div class="icon"></div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="info-contents"><div class="scrollable ios-scroll"><div class="tweet-holder" style="display:none"><div class="label"><div class="globe-icon"></div><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="viewers" style="display: none"><div class="label"><div class="friends-icon"></div><div class="status">SEEN</div></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><div class="friends-icon"></div><a class="conv-link">CONVERSATION</a>'+
(a.Dl?'<a class="prev-link">&#10218; LAST PROGRAM</a>':"")+'</div><div class="no-comments" style="display:none">Start the conversation with friends.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div><div class="overlay" style="display: none"><div class="leaving"><div>This program is over. Carry on?</div><div class="button dark no">Not yet</div><div class="button dark yes">Let\'s go</div></div></div></div>'}
function mi(a){return'<div class="viewer" name="'+J(a.Ea)+'"><img src="'+J(a.i.K)+'"></div>'}
function ni(a){return'<div class="tweet" id="'+J(a.prefix)+"-"+J(a.Ib.id)+'">'+(a.Ib.i?'<a href="#user:'+J(a.Ib.i.id)+'"><img src="'+J(a.Ib.K)+'"/></a>':'<img src="'+J(a.Ib.K)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+J(a.Ib.handle)+"/status/"+J(a.Ib.id)+'">'+J(a.Ib.handle)+"</a> "+a.text+'</div><div class="timestamp">'+J(a.timestamp)+'</div><div class="tweet-options"><div class="reply"></div></div></div>'}
function oi(a){return'<div class="comment'+(a.na.T?" reply":"")+'" '+(a.na.id?'id="'+J(a.prefix)+"-"+J(a.na.id)+'"':"")+">"+(!a.na.T?'<a href="#user:'+J(a.na.i.id)+'"><div class="user-picture" style="background:'+J(a.na.i.color)+'"><img src="'+J(a.na.i.K)+'"/></div></a>':"")+'<div class="template"><a class="user" href="#user:'+J(a.na.i.id)+'">'+J(a.na.i.name)+'</a>  <div class="text">'+a.text+'<div class="comment-options">'+(a.Nj?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div><div class="timestamp">'+
J(a.na.Fd)+'</div><div class="replies"></div>'+(!a.na.T?'<div class="reply-input"><textarea class="reply-textarea" rows="1" placeholder="reply..."></textarea></div>':"")+"</div></div>"}
function pi(){return'<div class="comment-input"><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div><div class="comment-controls"><div class="comment-toggle tweet-toggle"><div class="icon"></div></div><div class="comment-toggle fb-toggle"><div class="icon"></div></div></div><div class="comment-button add-comment">POST</div></div>'}
function qi(a){var b='<div class="activity'+(1<a.L.length?" digest":"")+'">';if(1<a.L.length){for(var b=b+('<div class="template"><span>'+J(a.L.length)+" friends </span>"+(a.qk?"watched":"are watching")+(a.R?' <a href="#channel:'+J(a.R.id)+'">'+J(a.R.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.L,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.K)+'"/></div></a>');
b+="</div>"}return b+=(1==a.L.length?'<a href="#user:'+J(a.L[0].id)+'"><div class="picture" style="background:'+J(a.L[0].color)+'"><img src="'+J(a.L[0].K)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(a.L[0].id)+'">'+J(a.L[0].name)+"</a> "+(a.qk?"watched":"is watching")+(a.R?' <a href="#channel:'+J(a.R.id)+'">'+J(a.R.name)+"</a>":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function ri(a){for(var b='<div class="comment activity'+(1<a.Ob.length?" digest":"")+'">'+(1<a.Ob.length?'<div class="template">'+(1==a.L.length?'<a class="user" href="#user:'+J(a.L[0].id)+'">'+J(a.L[0].name)+' </a> discussed <a class="title" href="#info:'+J(a.media.id)+'">'+J(a.media.name)+"</a>.":"<span>"+J(a.L.length)+' friends </span> discussed <a class="title" href="#info:'+J(a.media.id)+'"> '+J(a.media.name)+"</a>.")+"</div>":""),a=a.Ob,c=a.length,d=0;d<c;d++)var e=a[d],b=b+('<div class="comment"><a href="#user:'+
J(e.i.id)+'"><div class="picture" style="background:'+J(e.i.color)+'"><img src="'+J(e.i.K)+'"/></div></a><div class="template"><a class="user" href="#user:'+J(e.i.id)+'">'+J(e.i.name)+'</a>  <div class="text">'+J(e.text)+'</div><div class="timestamp">'+J(e.Fd)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function si(a){var b='<div class="like activity'+(1<a.L.length?" digest":"")+'">';if(1<a.L.length){for(var b=b+('<div class="template"><span>'+J(a.L.length)+' friends </span>liked<div class="timestamp">'+J(a.time)+'</div></div><div class="users">'),c=a.L,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+J(g.id)+'"><div class="picture" style="background:'+J(g.color)+'"><img src="'+J(g.K)+'"/></div></a>');b+="</div>"}return b+=(1==a.L.length?'<a href="#user:'+J(a.L[0].id)+'"><div class="picture" style="background:'+
J(a.L[0].color)+'"><img src="'+J(a.L[0].K)+'"/></div></a><div class="template" style="top:10px;margin-bottom:30px"><a class="user" href="#user:'+J(a.L[0].id)+'">'+J(a.L[0].name)+"</a> liked "+(1<a.uj?J(a.uj)+" stories":"")+'<div class="timestamp">'+J(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function ti(a){return'<div class="list-info"><div class="picture-cell" '+(a.nb?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+J(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+J(a.nb)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function ui(a){return'<li class="'+J(a.className)+' tab"><div class="label">'+J(a.name)+"</div></li>"}
function vi(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.bj?'placeholder="'+J(a.bj)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function wi(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function xi(a){return'<div class="playlist"><div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function yi(a){return'<div class="category button">'+J(a.name)+"</div>"}function zi(a){return'<div class="publisher">'+(a.K?'<img src="'+J(a.K)+'"/>':"")+'<div class="title">'+J(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function Ai(a){return'<div class="channel '+(a.R.jb?"on":"off")+'"><div class="title">'+J(a.R.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.R.Cd?'<div class="pending">'+J(a.R.Cd)+"</div>":"")+"</div>"}
function Bi(a){return'<div class="collection"><div class="title">'+J(a.ig.name)+'</div><div class="controls">'+(a.ig.Cd?'<div class="pending">'+J(a.ig.Cd)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Ci(a){return'<div class="topic"><div class="title">'+J(a.bn)+'</div><div class="controls">'+(a.Cd?'<div class="pending">'+J(a.Cd)+"</div>":"")+"</div></div>"}
function Di(){return'<div class="tabbed messages"><ul class="tabs"><li class="tab messages"><div class="label">MESSAGES</div></li><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul><div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function Ei(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function Fi(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.nb)+"); background-position: 50% "+J(a.media.Kd)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+J(a.media.fd)+'</div><div class="like-count"><div class="icon"></div>'+J(a.media.Hl)+'</div></div></div></div><div class="publisher">'+(a.media.qa?'<img src="'+J(a.media.qa.K)+
'"><div class="name">'+J(a.media.qa.name)+"</div>":"")+'<div class="list-play"><div class="icon"></div></div><div class="list-plus"><div class="icon"></div></div></div></div>'}
function Gi(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+J(a.media.nb)+"); background-position: 50% "+J(a.media.Kd)+'%"></div><div class="title">'+J(a.media.name)+'</div><div class="published">'+J(a.fc)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+J(a.media.qa.K)+'"><div class="name">'+J(a.media.qa.name)+
'</div><div class="duration">'+J(a.media.duration)+' seconds</div></div><div class="description">'+J(a.media.description)+"</div></div>"};function Hi(){R.call(this);this.Xb={};this.Yb=0;this.Ab=l;this.U=new Bg("Search");this.ma=new zf("Search");rf(this.ma,16,j)}s(Hi,R);m=Hi.prototype;
m.A=function(a){Hi.d.A.call(this,a);this.U.g(B("search-input"));this.ma.g(B("search-icon"));this.Jf=B("search-results");this.Gf=C("result-medias",this.b());this.Ff=C("result-channels",this.b());this.hg=B("clear-icon");var a=new bf(this.U.b()),b=new Dg(function(){if(this.U.F()){var a=ji.a(),b=this.U.F(),e=p(this.Vl,this);X("https://www.googleapis.com/youtube/v3/search?q="+b+"&type=channel,playlist&part=snippet&maxResults=3&key=AIzaSyAUF3ESL0wYUuSWmOezgZclQFpNGZNBePw",p(function(a){a=Y(a.target);this.di=
Ra(a.items,function(a){return{playlist_id:a.id.playlistId,channel_id:a.id.channelId,name:a.snippet.title,thumbnail:a.snippet.thumbnails["default"].url}},this);e&&e(this.di)},a));ji.a().search(this.U.F(),p(this.im,this));O(this.hg,j);v(this.b(),"show")}else this.Gf.innerHTML="",this.Ff.innerHTML="",this.Ab=l,A(this.Jf,"no-medias",j)},1E3,this);P(P(P(P(this.h(),this.b(),"click",p(function(){qf(this.ma,j);this.Ab&&v(this.b(),"show")},this)),a,"key",p(function(a){a.stopPropagation();b.ee()},this)),this.hg,
"click",p(function(){this.U.Aa("");x(this.b(),"show");qf(this.ma,l);O(this.hg,l);this.Gf.innerHTML="";this.Ff.innerHTML="";this.Ab=l;A(this.Jf,"no-medias",j)},this)),window,"click",p(function(a){Ze(this.ma)&&(H(a.target,k,"search")||L(p(function(){x(this.b(),"show");qf(this.ma,l)},this)))},this))};m.Vl=function(a){this.Ff.innerHTML="";this.Ab=!!a.length||this.Ab;A(this.Jf,"no-medias",!this.Ab);t(a,function(a){this.qc(a)},this)};
m.im=function(a){this.Gf.innerHTML="";this.Ab=!!a.length||this.Ab;A(this.Jf,"no-medias",!this.Ab);t(a,function(a){this.sb(a)},this)};
m.sb=function(a){var b=I(Fi,{media:a}),c=C("list-play",b),d=C("list-plus",b);this.Gf.appendChild(b);P(P(P(this.h(),b,"click",p(function(b){b.preventDefault();b.stopPropagation();Z.a().c(Gg,a)},this)),c,"click",p(function(b){b.preventDefault();b.stopPropagation();x(this.b(),"show");b=bg(a);T.a().c(If,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();Lf().c(lg,a,j)})};
m.qc=function(a){var b=I(ki,{name:a.name,He:a.thumbnail});this.Ff.appendChild(b);P(this.h(),b,"click",p(function(c){c.preventDefault();c.stopPropagation();v(b,"loading");X("/_ytchannel",p(function(c){c=Y(c.target);a=S.a().Pe(c.channel);c=new ag(c.program);a.c(kg,c);S.a().c(Ef,a);x(b,"loading")},this),"POST","&name="+a.name+(a.channel_id?"&channel_id="+a.channel_id:"")+(a.playlist_id?"&playlist_id="+a.playlist_id:""))},this))};function Z(){M.call(this)}s(Z,M);ma(Z);var Gg="media-info",Hg="profile";function Ii(){Ac.call(this);this.ie=[];this.Um=[];this.Ae=[]}s(Ii,bd);m=Ii.prototype;m.hj=l;m.ij=l;m.Hg=l;m.ak=ca("If");m.init=function(){if(!this.Hg){for(var a,b=0;a=this.ie[b];b++)Ji(this,a);this.Hg=j}};function Ji(a,b){a.hj&&(K(b.element,"mousedown",b.zj,l,b),a.Ah&&v(b.element,a.Ah));a.ij&&a.Dh&&v(b.element,a.Dh)}
m.Vc=function(a,b){if(!this.Da)if(this.Da=b,this.dispatchEvent(new Ki("dragstart",this,this.Da))==l)this.Da=k;else{var c=b.gd,d=this.Xe(c);this.Pk&&v(d,this.Pk);this.nd=d;d=Zb(c);d.body.appendChild(this.nd);var e=this.nd,g=Vd(c),c=ee(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=g.y+"px";this.p=new je(e);this.p.ak(this.If);K(this.p,"drag",this.Aj,l,this);K(this.p,"end",this.Ac,l,this);K(d.body,"selectstart",this.lk);this.Jd=[];for(d=
0;c=this.Um[d];d++)for(var h,e=0;h=c.ie[e];e++)for(var g=c,n=[h.element],r=this.Jd,w=0;w<n.length;w++){var y=n[w],D=Vd(y),ba=Q(y),D=new Id(D.y,D.x+ba.width,D.y+ba.height,D.x);r.push(new Li(D,g,h,y));Mi(this,D)}this.Hb||(this.Hb=new Id(0,0,0,0));for(d=0;c=this.Ae[d];d++)c.kg=[],c.Vj=c.e.scrollLeft,c.Wj=c.e.scrollTop,e=Vd(c.e),g=Q(c.e),c.Y=new Id(e.y,e.x+g.width,e.y+g.height,e.x);for(d=0;g=this.Jd[d];d++)for(e=0;c=this.Ae[e];e++)kc(c.e,g.e)&&(c.kg.push(g),g.ze=c);this.pc=k;for(d=0;c=this.Ae[d];d++)K(c.e,
"scroll",this.ji,l,this);this.p.Vc(a);a.preventDefault()}};
m.Ac=function(a){var b=a.Ok?k:this.pc;if(b&&b.Ca){var c=a.clientX,a=a.clientY,d=tc(Xb(this.nd)),e=c+d.x,d=a+d.y,g;this.Fe&&(g=this.Fe(b.Bb,b.Y,e,d));this.dispatchEvent(new Ki("drag",this,this.Da,b.Ca,b.Bb,b.e,c,a,e,d));b.Ca.dispatchEvent(new Ki("drop",this,this.Da,b.Ca,b.Bb,b.e,c,a,e,d,g))}this.dispatchEvent(new Ki("dragend",this,this.Da));Wc(this.p,"drag",this.Aj,l,this);Wc(this.p,"end",this.Ac,l,this);Wc(Zb(this.Da.gd).body,"selectstart",this.lk);for(b=0;c=this.Ae[b];b++)Wc(c.e,"scroll",this.ji,
l,this),c.kg=[];this.p.ca();G(this.nd);delete this.Da;delete this.nd;delete this.p;delete this.Jd;delete this.pc};
m.Aj=function(a){var b,c=tc(Xb(this.nd));b=new Lb(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.pc,g;if(e){this.Fe&&e.Ca&&(g=this.Fe(e.Bb,e.Y,c,d));if(e.Y.contains(b)&&g==this.Wh)return;e.Ca&&(this.dispatchEvent(new Ki("dragout",this,this.Da,e.Ca,e.Bb,e.e)),e.Ca.dispatchEvent(new Ki("dragout",this,this.Da,e.Ca,e.Bb,e.e,i,i,i,i,this.Wh)));this.Wh=g;this.pc=k}if(this.Hb.contains(b)){a:{for(var h=0;e=this.Jd[h];h++)if(e.Y.contains(b))if(e.ze){if(e.ze.Y.contains(b)){b=e;break a}}else{b=e;break a}b=
k}if((e=this.pc=b)&&e.Ca)this.Fe&&(g=this.Fe(e.Bb,e.Y,c,d)),c=new Ki("dragover",this,this.Da,e.Ca,e.Bb,e.e),c.Tm=g,this.dispatchEvent(c),e.Ca.dispatchEvent(new Ki("dragover",this,this.Da,e.Ca,e.Bb,e.e,a.clientX,a.clientY,i,i,g));else if(!e){this.wa||(this.wa=new Li(this.Hb.clone()));a=this.wa.Y;a.top=this.Hb.top;a.right=this.Hb.right;a.bottom=this.Hb.bottom;a.left=this.Hb.left;for(g=0;e=this.Jd[g];g++)b=e.Y,e.ze&&(e=e.ze.Y,b=new Id(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,
e.bottom),Math.max(b.left,e.left))),e=k,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),e!==k&&h!==k&&(Math.abs(e-c)>Math.abs(h-d)?h=k:e=k),e===k?h!==k&&(h<=d?a.top=h:a.bottom=h):e<=c?a.left=e:a.right=e;this.pc=10<=(a.right-a.left)*(a.bottom-a.top)?this.wa:k}}};m.lk=ea(l);
m.ji=function(a){for(var b=0,c;c=this.Ae[b];b++)if(a.target==c.e){var d=c.Wj-c.e.scrollTop,e=c.Vj-c.e.scrollLeft;c.Wj=c.e.scrollTop;c.Vj=c.e.scrollLeft;this.wa&&this.pc==this.wa&&(0<d?this.wa.Y.top+=d:this.wa.Y.bottom+=d,0<e?this.wa.Y.left+=e:this.wa.Y.right+=e);for(var g=0,h;h=c.kg[g];g++)h=h.Y,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,Mi(this,h)}this.p.Lj(a)};
m.Xe=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return F("table",k,F("tbody",k,b));case "td":case "th":return F("table",k,F("tbody",k,F("tr",k,b)));default:return b}};function Mi(a,b){if(1==a.Jd.length)a.Hb=new Id(b.top,b.right,b.bottom,b.left);else{var c=a.Hb;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
m.o=function(){Ii.d.o.call(this);for(var a,b=0;a=this.ie[b];b++)this.hj&&(Wc(a.element,"mousedown",a.zj,l,a),this.Ah&&x(a.element,this.Ah)),this.ij&&this.Dh&&x(a.element,this.Dh),a.ca();this.ie.length=0};function Ki(a,b,c,d,e,g,h,n,r,w,y){Ic.call(this,a);this.Sn=b;this.Tn=c;this.Un=d;this.Wn=e;this.Vn=g;this.clientX=h;this.clientY=n;this.to=r;this.uo=w;this.Tm=y}s(Ki,Ic);Ki.prototype.o=aa();
function Ni(a,b){Ac.call(this);this.element=B(a);this.data=b;this.Q=k;this.element||f(Error("Invalid argument"))}s(Ni,bd);m=Ni.prototype;m.gd=k;m.zj=function(a){if(Nc(a)){var b=a.target;b&&(K(b,"mousemove",this.zd,l,this),K(b,"mouseout",this.zd,l,this),K(b,"mouseup",this.Rg,l,this),this.gd=b,this.Bh=new Lb(a.clientX,a.clientY),a.preventDefault())}};m.Lf=ca("Q");
m.zd=function(a){var b=this.gd,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Bh.x)+Math.abs(a.clientY-this.Bh.y)||c)Wc(b,"mousemove",this.zd,l,this),Wc(b,"mouseout",this.zd,l,this),Wc(b,"mouseup",this.Rg,l,this),this.Q.Vc(a,this)};m.Rg=function(){var a=this.gd;Wc(a,"mousemove",this.zd,l,this);Wc(a,"mouseout",this.zd,l,this);Wc(a,"mouseup",this.Rg,l,this);delete this.Bh;this.gd=k};function Li(a,b,c,d){this.Y=a;this.Ca=b;this.Bb=c;this.e=d}Li.prototype.ze=k;function Oi(){Ii.call(this)}s(Oi,Ii);function Pi(a,b){b.Lf(a);a.ie.push(b);a.Hg&&Ji(a,b)};function Qi(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Fa(d),'="',Fa(b[d]),'" ');var e=c.join("");return a.replace(Ri,function(a,b,c,d,w){a=[Fa(b)];if(!c)return a[0];a.push("<a ",e,'href="');d?(a.push("mailto:"),c=d,d=""):(w||a.push("http://"),(d=c.match(Si))?(c=d[1],d=d[2]):d="");c=Fa(c);d=Fa(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var Si=/^(.*)([:;,\.?\[\]])$/,Ri=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function Ti(){}s(Ti,Te);ma(Ti);m=Ti.prototype;m.pd=aa();m.g=function(a,b){mf(a);a.ub&=-256;rf(a,32,l);Ti.d.g.call(this,a,b);a.Rc(b.value);return b};m.N=function(a){mf(a);a.ub&=-256;rf(a,32,l);return a.Ua().N("textarea",{"class":Ve(this,a).join(" "),disabled:!a.isEnabled()},a.eb||"")};m.rc=function(a){return"TEXTAREA"==a.tagName};m.Sc=la;m.Ig=function(a){return a.isEnabled()};m.Id=la;m.ra=function(a,b,c){Ti.d.ra.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.ab=la;
m.Rc=function(a,b){a&&(a.value=b)};m.oa=ea("goog-textarea");function Ui(a,b,c){lf.call(this,a,b||Ti.a(),c);mf(this);this.Hd(j);a||(this.eb="")}s(Ui,lf);var Vi=ob||pb;m=Ui.prototype;m.td=l;m.Ga=0;m.pj=0;m.yj=0;m.Ui=l;m.uf=l;m.vh=l;m.uh=l;function Wi(a){return a.qe.top+a.qe.bottom+a.ci.top+a.ci.bottom}function Xi(a){var b=a.yj,c=a.b();b&&(c&&a.uf)&&(b-=Wi(a));return b}function Yi(a){var b=a.pj,c=a.b();b&&(c&&a.uf)&&(b-=Wi(a));return b}m.Aa=function(a){this.Rc(String(a))};m.F=function(){return this.b().value};m.Rc=function(a){Ui.d.Rc.call(this,a);this.resize()};
m.lb=function(a){Ui.d.lb.call(this,a);this.b().disabled=!a};m.resize=function(){this.b()&&this.hf()};m.z=function(){Ui.d.z.call(this);var a=this.b();Kd(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.qe=ee(a,"padding");this.ci=he(a);P(P(P(P(this.h(),a,"scroll",this.hf),a,"focus",this.hf),a,"keyup",this.hf),a,"mouseup",this.Nl);this.resize()};
function Zi(a){if(!a.Ui){var b=a.b().cloneNode(l);Kd(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ua().G.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.vh=d>c;b.style.borderWidth="10px";a.uh=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.uf=j);G(b);a.Ui=j}var b=a.b(),c=a.b().scrollHeight,e=a.b(),d=e.offsetHeight-e.clientHeight;if(!a.vh)var g=a.qe,d=d-(g.top+g.bottom);
a.uh||(e=he(e),d-=e.top+e.bottom);c+=0<d?d:0;a.uf?c-=Wi(a):(a.vh||(d=a.qe,c+=d.top+d.bottom),a.uh||(a=he(b),c+=a.top+a.bottom));return c}function $i(a,b){a.Ga!=b&&(a.Ga=b,a.b().style.height=b+"px")}function aj(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
m.hf=function(){if(!this.td){var a=l;this.td=j;var b=this.b(),c=this.Ga;if(b.scrollHeight){var d=l,e=l,g=Zi(this),h=b.offsetHeight,n=Xi(this),r=Yi(this);n&&g<n?($i(this,n),d=j):r&&g>r?($i(this,r),b.style.overflowY="",e=j):h!=g?$i(this,g):this.Ga||(this.Ga=g);!d&&(!e&&Vi)&&(a=j)}else aj(this);this.td=l;a&&(a=this.b(),this.td||(this.td=j,b=l,a.value||(a.value=" ",b=j),(e=a.scrollHeight)?(g=Zi(this),d=Xi(this),h=Yi(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.qe,a.style.paddingBottom=h.bottom+1+"px",Zi(this)==
g&&(a.style.paddingBottom=h.bottom+e+"px",a.scrollTop=0,e=Zi(this)-e,e>=d?$i(this,e):$i(this,d)),a.style.paddingBottom=h.bottom+"px")):aj(this),b&&(a.value=""),this.td=l));c!=this.Ga&&this.dispatchEvent("resize")}};m.Nl=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Ga&&(this.Ga=this.yj=b)};function bj(a,b,c,d,e,g,h){R.call(this);this.ya=Bf();this.cb=a;this.Af=b;this.hh=c;this.nh=d;this.eg=e.categories;this.Vk=e.feed_categories;this.Xk=e.feed_id;this.Gh=g||k;this.kd=h||k;this.qg=this.ya?new Oi:k;this.Cc={pending:l,all:l};this.mb=["pending","all","playlists","publishers","categories"]}s(bj,R);var cj="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),dj="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
m=bj.prototype;
m.A=function(a){bj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;wc(a,wi);var b=C("pending-content",a);t(this.Af,function(a){this.sb(b,a)},this);this.um=C("playlists-content",a);t(this.hh,this.Zh,this);this.xm=C("publishers-content",a);t(this.nh,this.$h,this);this.Ik=C("categories-list",a);this.zi=C("feed-ids",a);this.Wk=C("feed-cats",a);X("/admin/_categories",p(function(a){a=Y(a.target);t(a,function(a){ej(this,a,"category",Va(this.eg,a.id)||!this.eg.length)},this)},this));t(dj,function(a){ej(this,a,
"feed_category",Va(this.Vk,a))},this);t(cj,function(a){ej(this,a,"feed_id",this.Xk==a)},this);this.resize()};
m.z=function(){bj.d.z.call(this);this.U=C("input",this.b());var a=new bf(this.U),b=new Cg(this.U);this.Ma=C("tabs",this.b());this.J="pending";var c=l;P(P(P(P(this.h(),window,"resize",Ba(L,p(this.resize,this))),a,"key",p(function(a){"13"==a.keyCode&&fj(this,this.U.value)},this)),b,Eg,p(function(){fj(this,this.U.value)},this)),this.Ma,"click",p(function(a){a=H(a.target,"li");this.$b(a)},this));P(this.h(),this.b(),"scroll",p(function(){if(this.cb&&!c&&!this.Cc[this.J]&&("pending"==this.J||"all"==this.J)&&
this.b().scrollTop+E().height>this.b().scrollHeight-this.b().clientTop){c=j;var a=C("spinner",this.b());O(a,j);var b="pending"==this.J?this.Af:this.Zf;X("/admin/_media/collection/"+this.cb+"?offset="+b.length+("pending"==this.J?"&pending=1":""),p(function(g){c=l;g=Lg(Mg(g.target)).medias;g=Ra(g,function(a){return new Uf(a)});ab(b,g);var h=C(this.J+"-content",this.b());t(g,function(a){this.sb(h,a)},this);this.Cc[this.J]=!g.length;A(a,"finished",!g.length)},this))}},this));this.resize()};
m.resize=function(){Yd(this.b(),E().height-40)};
function fj(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.cb&&c&&(a.U.disabled="disabled",X("admin/_add/collection/"+a.cb,p(function(a){this.U.value="";this.U.disabled="";a=Y(a.target);if("media"==a.type){var b=$f(Zf.a(),a.data);Ta(this.Af,function(a){return a.id==b.id})||(this.Af.push(b),a=C("pending-content",this.b()),this.sb(a,b,j),this.$b(ac("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Ta(this.hh,function(a){return a.id==
c.id})||(this.hh.push(c),this.Zh(c),this.$b(ac("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Ta(this.nh,function(a){return a.id==h.id})&&(this.nh.push(h),this.$h(h),this.$b(ac("li","publishers",i)[0]))}},a),"POST","url="+c))}
m.$b=function(a){t(this.mb,function(b){A(this.Ma.parentElement,b,z(a,b));this.J=z(a,b)?b:this.J},this);this.cb&&!this.Zf&&X("/admin/_media/collection/"+this.cb,p(function(a){a=Lg(Mg(a.target)).medias;this.Zf=Ra(a,function(a){return new Uf(a)});var c=C("all-content",this.b());t(this.Zf,function(a){this.sb(c,a)},this)},this))};
m.Zh=function(a){var b=I(xi,{name:a.name});this.um.appendChild(b);var c=C("remove",b);P(this.h(),c,"click",function(){X("admin/_remove/collection/"+this.cb,p(function(){G(b)},this),"POST","pub_id="+a.id)})};m.$h=function(a){var b=I(zi,{name:a.name||a.id,K:a.picture});this.xm.appendChild(b);var c=C("remove",b);P(this.h(),c,"click",function(){X("admin/_remove/collection/"+this.cb,p(function(){G(b)},this),"POST","pub_id="+a.id)})};
function ej(a,b,c,d){if("category"==c){var e=I(yi,{name:b.name,id:b.id});a.Ik.appendChild(e)}else e=I(yi,{name:b,id:b}),("feed_id"==c?a.zi:a.Wk).appendChild(e);A(e,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;P(a.h(),e,"click",function(){"feed_id"==c&&t(gc(this.zi),function(a){x(a,"enabled")});var a=Kb(e,"enabled");X("admin/_edit/collection/"+this.cb,ve(),"POST",g+"&enabled="+a)})}
m.sb=function(a,b,c){var d=I(Gi,{media:b,fc:Yf(b)});c?fc(a,d,0):a.appendChild(d);this.ya&&(a=this.qg,c=new Ni(d,i),Pi(a,c));var a=new je(C("repos",d)),e=C("thumb",d),c=C("play",d),g=C("approve",d),h=C("remove",d);a.$d=function(a,b){var c=b-24;-50<=c&&50>=c&&Kd(e,"background-position-y",50-c+"%")};P(P(P(P(this.h(),a,"end",function(){var a=(e.style[Ma("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);X("/admin/_posthumb",ve(),"POST","media="+b.id+"&pos="+a)}),c,"click",p(this.qm,
this,b)),g,"click",p(this.ai,this,b,j,d)),h,"click",p(this.ai,this,b,l,d));L(Ba(v,d,"show"))};m.Tg=function(a,b){X("/admin/_addprogram",p(function(b){b=Lg(Mg(b.target));b=new ag(b);a.c(kg,b)},this),"POST","channel="+a.id+"&media="+b.id)};m.ai=function(a,b,c){var d=a.Kk||this.cb;X("admin/_media/collection",p(function(){v(c,"remove");L(function(){G(c)},300);N.a();var b;N.a();b=pc(B("toggle-pending"));md(0,b-1);Z.a().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};
m.qm=function(a){a=bg(a);T.a().c(If,a)};function gj(a){R.call(this);this.Nb=a||k;this.Nd=this.ei=this.pk=this.ii=0}s(gj,R);m=gj.prototype;m.N=function(){this.e=I(vi)};m.A=function(a){gj.d.A.call(this,a);var b=I(vi,{bj:this.Nb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
m.z=function(){gj.d.z.call(this);this.U=C("input",this.b());var a=new bf(this.U);this.Dm=C("scrollable",this.b());this.ba=C("admin-channels",this.b());this.Jh=C("topics",this.b());this.Ye=C("collections",this.b());this.hi=B("admin-col-list");this.Qe=B("admin-list");S.a();this.Nb?(X("/admin/_topicmedias/"+this.Nb,p(function(a){a=Y(a.target);Ob(a,function(a,b){O(this.Jh.parentElement,j);if(a&&a.length){var e=I(Ci,{bn:b,Cd:a.length});this.Jh.appendChild(e);K(e,"click",p(function(){a=Ra(a,function(a){return new Uf(a)});
(new bj("",a,[],[],[])).g(this.Qe);Z.a().c("navigate",this.Qe,l,b)},this));Z.a().subscribe("approved",function(b){if(Ta(a,function(a){return a.id==b.id})){var d=C("pending",e),n=pc(d)-1;0>=n?(G(e),Ec(e)):lc(d,n)}},this)}},this);this.Nd&&md(N.a(),this.Nd);this.pk=Q(this.Jh.parentElement).height;this.resize()},this)),X("/admin/_collections/"+this.Nb,p(function(a){a=Y(a.target);O(this.Ye.parentElement,!!a.length);t(a,this.Yh,this);this.Nd&&md(N.a(),this.Nd);this.ii=Q(this.Ye.parentElement).height;this.resize()},
this))):X("/admin/_channels",p(function(a){a=Y(a.target);O(this.ba.parentElement,!!a.length);t(a,this.qc,this);this.ei=Q(this.ba.parentElement).height;this.resize()},this));P(this.h(),a,"key",p(function(a){"13"==a.keyCode&&this.U.value&&(a=this.U.value,this.U.disabled="disabled",X(this.Nb?"/admin/_collections":"/admin/_channels",p(function(a){a=Y(a.target);this.Nb?(O(this.Ye.parentElement,!!a),this.Yh(a)):(O(this.ba.parentElement,!!a),this.qc(a));this.U.disabled="";this.U.value=""},this),"POST","name="+
a+(this.Nb?"&cid="+this.Nb:"")))},this))};
m.qc=function(a){var b=new jg(a),c=I(Ai,{R:b});this.ba.appendChild(c);K(c,"click",p(function(a){z(a.target,"on")||z(a.target,"off")?(A(c,"on",z(a.target,"on")),A(c,"off",!z(a.target,"on")),X("/admin/_channel/online/"+b.id,p(function(a){a.target.disabled="";a=Y(a.target);A(c,"on",a.online);A(c,"off",!a.online)},this),"POST","online="+z(a.target,"on"))):z(a.target,"program")?X("/admin/_program",ve(),"POST","channel_id="+b.id):z(a.target,"fetch")?X("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):z(a.target,"remove")&&confirm("Remove "+b.name+"?")?(O(c,l),X("/admin/_channels/"+b.id,function(a){Y(a.target).deleted?G(c):O(c,j)},"DELETE")):((new gj(b.id)).g(this.hi),Z.a().c("navigate",this.hi,l,b.name))},this))};
m.Yh=function(a){var b=I(Bi,{ig:a});this.Nd+=a.pending;this.Ye.appendChild(b);K(b,"click",p(function(c){z(c.target,"remove")&&confirm("Remove "+a.name+"?")?(O(b,l),X("/admin/_collections/"+a.id,function(a){Y(a.target).deleted?G(b):O(b,j)},"DELETE")):z(c.target,"fetch")?X("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):X("/admin/_media/collection/"+a.id+"?pending=1",p(function(b){var b=Lg(Mg(b.target)),c=b.medias,c=Ra(c,function(a){return new Uf(a)});
(new bj(a.id,c,b.playlists,b.publishers,b.categories)).g(this.Qe);Z.a().c("navigate",this.Qe,l,a.name)},this))},this));Z.a().subscribe("approved",function(c,d){if(d==a.id){var e=C("pending",b),g=pc(e)-1;0>=g?(G(b),Ec(b)):lc(e,g)}},this)};m.resize=function(){Yd(this.Dm,this.ei+this.pk+this.ii+110)};function hj(a){R.call(this);this.ck=!!a;this.j=new Ui("Add to the conversation.");this.pb=new zf("tweet");rf(this.pb,16,j);this.yb=new zf("post");rf(this.yb,16,j);a=V.a().l;this.cf=a.vm;this.Rf=a.Qj;this.$c=new zf("add");this.eh=this.ob=this.Df=k}s(hj,R);m=hj.prototype;m.N=function(){this.e=I(pi)};
m.z=function(){hj.d.z.call(this);this.j.g(C("comment-textarea",this.b()));var a=this.j;a.pj=70;a.resize();a=new bf(this.j.Qb());this.Lk=C("comment-controls",this.b());O(this.Lk,this.ck);A(this.b(),"show-controls",this.ck);this.Al=C("input-holder",this.b());Pe(this,this.pb);this.pb.g(C("tweet-toggle",this.b()));X("/_twitter",p(function(a){a=Y(a.target);this.Rf=this.Rf&&a.auth;this.dn=a.auth_url;qf(this.pb,this.Rf)},this));Pe(this,this.yb);this.yb.g(C("fb-toggle",this.b()));FB.api("/me/permissions",
p(function(a){this.cf=this.cf&&!!a.data[0].publish_stream;qf(this.yb,this.cf)},this));Pe(this,this.$c);this.$c.g(C("add-comment",this.b()));this.$c.lb(l);P(P(P(P(P(P(this.h(),this.j.b(),"focus",p(function(){this.dispatchEvent("focus")},this)),a,"key",p(function(a){a.stopPropagation();this.$c.lb(this.j.F());"13"==a.keyCode?(a.preventDefault(),a.stopPropagation(),this.$c.setActive(this.j.F()),this.ac(a)):"8"==a.keyCode&&(!this.F()&&this.ob)&&ij(this)},this)),this.j,"resize",p(function(a){this.dispatchEvent(a)},
this)),this.yb,"action",p(this.Yl,this)),this.pb,"action",p(this.om,this)),this.$c,"action",p(this.ac,this));Z.a().subscribe("reply-comment",this.Am,this);Z.a().subscribe("reply-tweet",this.Bm,this);V.a().l.subscribe(eg,function(){qf(this.pb,j)},this)};m.Am=function(a,b){this.ob&&ij(this);this.Df=b;this.eh=a.id?a.id:a.toString();this.ob=F("div","token","@"+b.Ea());this.Al.appendChild(this.ob);this.za(j);this.j.b().style.paddingLeft=Q(this.ob).width+5+"px"};
m.Bm=function(a){this.ob&&ij(this);this.ho=a.id;this.Aa((this.F()?this.F()+" ":"")+"@"+a.handle+" ");this.za(j);this.pb.lb(j);this.za(j);a=this.F().length;this.setSelectionRange(a,a)};function ij(a){a.Df=k;a.eh=k;G(a.ob);a.ob=k;a.j.b().style.paddingLeft=""}
m.setSelectionRange=function(a,b){if(this.j.b().setSelectionRange)this.j.b().focus(),this.j.b().setSelectionRange(a,b);else if(this.j.b().createTextRange){var c=this.j.b().createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",a);c.select()}};m.F=function(){return this.j.F()};m.Aa=function(a){return this.j.Aa(a)};m.collapse=aa();m.nf=function(){return z(this.b(),"focused")};m.za=function(a){a&&this.j.b().focus();return A(this.b(),"focused",a)};
m.ac=function(){this.j.F()&&(this.dispatchEvent({type:"add",Fk:p(function(a){var b=Y(a.target);if(b.comment){var a=new jj(b.comment),c=b.tweet?new kj(b.tweet):k;if(b=$f(Zf.a(),b.comment.media))b.c(Vf,a),c&&b.c("add-tweet",c)}},this),de:Ze(this.yb),Nh:Ze(this.pb),text:this.j.F(),T:this.eh,ok:this.Df&&this.Df.id}),this.j.Aa(""),ij(this))};m.Yl=function(){!this.cf&&Ze(this.yb)&&(O(B("overlay"),j),FB.login(p(function(a){O(B("overlay"),l);this.Uk=!!a.authResponse;qf(this.yb,this.Uk)},this),{scope:"publish_stream"}))};
m.om=function(){if(!this.Rf&&Ze(this.pb)){qf(this.pb,l);var a=window.open(this.dn,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function jj(a){this.id=a.id;this.i=a.user?Pg(V.a(),a.user):k;this.text=a.text;this.time=a.time?rd(a.time+"Z"):new sd;this.Fd=gd(this.time.getTime());this.T=a.parent_id;this.qh=[];a.replies&&t(a.replies,function(a){a=new jj(a);this.qh.push(a)},this)}
function lj(a,b,c,d,e,g,h,n){var r=new jj({text:c,parentId:g});r.i=a;r.T=g||k;X("/_comment",p(function(a){a=Y(a.target);r.id=a.comment.id;n&&n(r)},this),"POST","media_id="+b+"&text="+c+"&tweet="+e+"&facebook="+d+(g?"&parent_id="+g:"")+(h?"&to_user_id="+h:""));return r};function kj(a){this.id=a.id;this.i=a.user&&Pg(V.a(),a.user);this.handle=a.handle;this.K=a.picture;this.text=a.text;this.time=rd(a.time+"Z")};function mj(a,b,c,d){R.call(this);this.f=a;this.Pa=b||[];this.Yd={};this.Le=!!c;this.rb=d||[];this.Ke={};this.ka=this.In=0;this.Ic={}}s(mj,R);m=mj.prototype;
m.A=function(a){mj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;v(this.b(),"ios-scroll");this.H=F("div","loading",F("div","loading-spinner"));this.b().appendChild(this.H);O(this.H,l);this.Mc=F("div","no-comments","Start the conversation.");this.b().appendChild(this.Mc);this.t=F("div","comments tweets");this.b().appendChild(this.t);P(P(this.h(),window,"resize",Ba(L,p(this.resize,this))),this.t,"click",p(this.jg,this));this.Pa.length?(t(this.Pa,function(a){this.Lb(a)},this),this.yd=Q(this.t).height):
this.Le&&this.rb.length?(t(this.rb,function(a){this.ad(a)},this),this.yd=Q(this.t).height):O(this.H,j);this.Le?(X("/_tweet/"+this.f.id+"?offset="+this.rb.length,p(function(a){O(this.H,l);a=Lg(Mg(a.target));a=Ra(a,function(a){a=new kj(a);this.ad(a);return a},this);this.yd=Q(this.t).height;this.resize()},this)),this.f.subscribe("add-tweet",function(a){this.ad(a,j)},this)):(X("/_comment/"+this.f.id+"?offset="+this.Pa.length,p(function(a){O(this.H,l);a=Lg(Mg(a.target));a=Ra(a,function(a){a=new jj(a);
this.Lb(a);return a},this);this.yd=Q(this.t).height;this.resize()},this)),this.f.subscribe(Vf,this.Lb,this),this.f.subscribe(Wf,this.ph,this));this.resize(41)};
m.ad=function(a,b){this.Ke[a.id]=a;O(this.Mc,l);var c=Qi(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(ni,{Ib:a,text:c,timestamp:gd(a.time.getTime())});hd(fd.a(),a.time,C("timestamp",c));b?fc(this.t,c,0):this.t.appendChild(c);this.resize();O(jc(this.t),j)};
m.jg=function(a){a=a.target;if(this.Le){var b=H(a,k,"tweet");b&&(b=this.Ke[b.id.split("-")[1]],z(a,"reply")&&Z.a().c("reply-tweet",b))}else if(b=H(a,k,"comment")){var b=b.id.split("-")[1],c=this.Yd[b];z(a,"reply")?C("reply-textarea",this.Ic[c.T?c.T:c.id]).focus():z(a,"remove")&&this.f.c(Wf,b)}};m.ph=function(a){var a=B("listcomment-"+a),b=a.nextSibling;for(G(a);b&&z(b,"reply");)b=b.nextSibling,G(b)};
m.Lb=function(a){this.Pa.push(a);O(this.Mc,l);var b=I(oi,{prefix:"listcomment",na:a,text:Qi(a.text),Nj:a.i.id==V.a().l.id});hd(fd.a(),a.time,C("timestamp",b));a.T?C("replies",this.Ic[a.T]).appendChild(b):this.t.appendChild(b);t(a.qh,function(a){this.Lb(a)},this);a.T||(this.t.scrollTop=this.t.scrollHeight);a.id&&nj(this,a,b);return b};
function nj(a,b,c){a.Yd[b.id]=b;if(!b.T){a.Ic[b.id]=c;var d=C("reply-textarea",c),c=new bf(d);P(a.h(),c,"key",p(function(a){a.stopPropagation();"13"==a.keyCode&&d.value&&(a.preventDefault(),a=lj(V.a().l,this.f.id,d.value,l,l,b.id,b.i.id),this.Lb(a),d.value="")},a))}}m.resize=function(a){this.ka=a||this.ka;Yd(this.b(),E().height-42-this.ka-(H(this.b(),k,"tabbed")?30:0))};function oj(a,b,c,d){R.call(this);this.f=this.q=a;this.Pa=b||[];this.rb=c||[];this.Le=!!d;this.Xd=new mj(a,this.Pa);this.Lh=new mj(a,i,j,this.rb);this.j=new hj(j);this.mb=["comments","tweets"];this.Ge={}}s(oj,R);m=oj.prototype;m.A=function(a){oj.d.A.call(this,a);v(a,"conversation");v(a,"ios-scroll");wc(a,Ei);v(a.firstChild,this.Le?"tweets":"comments")};
m.z=function(){this.Ma=C("tabs",this.b());this.Xd.g(C("comments-content",this.b()));this.Lh.g(C("tweets-content",this.b()));Ne(this.j,this.b());P(P(P(P(P(P(P(this.h(),this.Ma,"click",p(function(a){a=H(a.target,"li");this.$b(a)},this)),this.j,"add",p(this.ac,this)),this.j,"resize",p(function(){z(this.b().firstChild,"comments")?this.Xd.resize(41):this.Lh.resize(41)},this)),window,"click",p(function(a){!H(a.target,k,"comment-input")&&!this.j.F()&&(this.j.za(l),this.j.collapse())},this)),C("no-comments",
this.b()),"click",p(this.Jj,this)),$b("no-comments",this.b())[1],"click",p(this.Jj,this)),window,"click",p(function(a){!H(a.target,k,"comment-input")&&!this.j.F()&&(this.j.za(l),this.j.collapse())},this));this.Xd.resize(41);this.Lh.resize(41)};m.Jj=function(a){a.preventDefault();a.stopPropagation();this.j.za(j)};
m.ac=function(a){var b=lj(V.a().l,this.f.id,a.text,a.de,a.Nh,a.T,a.ok,p(function(a){var b=this.Ge[a.time.getTime()];b.id="infocomment-"+a.id;nj(this.Xd,a,b)},this)),c=this.Xd.Lb(b);this.Ge[b.time.getTime()]=c;a.de&&!a.T&&(FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.nb,caption:"on XYLO",description:this.f.description},aa()),qf(this.j.yb,l))};m.$b=function(a){t(this.mb,function(b){A(this.Ma.parentElement,b,z(a,b));this.J=z(a,b)?b:this.J},this)};function gd(a){var b=q(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return pj(c,b,0);c=Math.floor(c/60);if(24>c)return pj(c,b,1);c=new Date(q());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?pj(c,b,2):""}
function pj(a,b,c){return!b&&0==c?(b=Ca("{$num} minute ago",{num:a}),c=Ca("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=Ca("in {$num} minute",{num:a}),c=Ca("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=Ca("{$num} hour ago",{num:a}),c=Ca("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=Ca("in {$num} hour",{num:a}),c=Ca("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=Ca("{$num} day ago",{num:a}),c=Ca("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=Ca("in {$num} day",{num:a}),c=Ca("in {$num} days",
{num:a}),1==a?b:c):""};function qj(a,b,c,d){R.call(this);t(a.Vg,function(a){var b=a.k();b&&b.media.id==this.id?(this.tm=a,t(a.Zc,function(a){a.Yc||(this.dc[a.i.id]=a.i)})):this.dc={}},a);this.f=this.q=a;this.qf=c||k;this.lj=d||k;this.Vi=l;this.Ai=!b;this.Pd={};this.Pa=[];this.Yd={};this.Ic={};this.Ge={};this.rb=[];this.Ke={};this.j=new hj(j);this.Uc=new zf("Star");rf(this.Uc,16,j);this.yi=new zf("Facebook");this.sk=new zf("Twitter");this.Gb=new zf("Play");this.ue=new zf("Plus");rf(this.ue,16,j);this.ka=0}s(qj,R);m=qj.prototype;
m.N=function(){this.e=I(li,{media:this.f})};m.A=function(a){qj.d.A.call(this,a);var b=I(li,{media:this.f,description:this.f.description?Qi(this.f.description):"",fc:Yf(this.f),Dl:this.qf?this.qf.id:k});a.innerHTML=b.innerHTML};
m.z=function(){qj.d.z.call(this);this.Jb=C("viewers",this.b());var a=C("picture",this.b()),b=C("scrollable",this.b()),c=C("publisher",this.b()),d=C("title",this.b()),e=C("links",this.b());this.H=C("loading",this.b());var g=a.firstChild;this.mg=C("info-contents",this.b());this.ro=C("tweet-holder",this.b());this.qb=C("tweets",this.b());this.zc=C("dot-nav",this.b());this.t=C("comments",this.b());this.Mc=C("no-comments",this.b());Ne(this.j,this.b());this.Uc.g(C("star",this.b()));qf(this.Uc,gg(V.a().l,
this.f));this.yi.g(C("facebook",this.b()));this.sk.g(C("twitter",this.b()));this.Gb.g(C("play",this.b()));this.ue.g(C("plus",this.b()));this.Mh=new cd(5E3);this.vo=C("watch-with",this.b());!this.Ai||this.f.Bi?rj(this,l,this.f.description,this.f.Kf,this.f.rk,this.f.Ob):this.Ai&&X("/_info/"+this.f.id,p(function(a){a=Lg(Mg(a.target));rj(this,j,a.description,a.seen,a.tweets,a.comments)},this));P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(this.h(),window,"resize",Ba(L,p(this.resize,this))),c,"click",
p(function(){Z.a().c("media-list",this.f.qa.name,i,"/admin/_media/publisher/"+this.f.qa.id,this.f.qa.K,this.f.qa.description,this.f.qa.link,"/_publisher/"+this.f.qa.id)},this)),this.Uc,"action",p(function(){Zf.a().c("star",this.f,Ze(this.Uc));X("/_star",i,"POST","media_id="+this.f.id+(!Ze(this.Uc)?"&delete=1":""))},this)),this.yi,"action",p(this.Xl,this)),this.sk,"action",p(this.nm,this)),this.Gb,"action",p(this.bm,this)),this.ue,"action",p(this.em,this)),C("local",this.b()),"click",p(function(){O(C("link-select",
this.b()),j);C("link-input",this.b()).select()},this)),this.j,"add",p(this.ac,this)),this.Mc,"click",p(function(a){a.preventDefault();a.stopPropagation();this.j.za(j)},this)),C("conv-link",this.b()),"click",p(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.f,this.Pa,this.rb)},this)),C("tweets-link",this.b()),"click",p(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.f,this.Pa,this.rb,j)},this)),this.j,"focus",p(function(){this.resize(0,
j)},this)),this.j,"resize",p(function(a){this.resize(a.target.Ga-41)},this)),this.zc,"click",p(function(a){z(a.target,"dot")&&(sj(this,a.target),this.Mh.stop())},this)),this.Mh,ed,p(function(){var a=this.Zd&&hc(this.Zd)||C("dot",this.b());L(p(function(){sj(this,a)},this))},this)),window,"click",p(function(a){!H(a.target,k,"comment-input")&&!this.j.F()&&(this.j.za(l),this.j.collapse()&&this.resize(0))},this)),g,"load",function(){O(g,j);L(function(){Q(g).height<Q(a).height+50&&v(g,"fix-height");Q(g).width>
2*Q(a).width?v(g,"pan-left"):Q(g).height>2*Q(a).height&&v(g,"pan-top");g.style.marginTop=-Q(g).height/2+"px";g.style.marginLeft=-Q(g).width/2+"px";v(g,"show")})}),b,"scroll",p(function(){var h=(120-b.scrollTop)/100;be(c,Math.min(1,Math.max(h,0)));be(d,Math.min(1,Math.max(h,0)));be(e,Math.min(1,Math.max(h,0)));be(g,Math.min(0.5,Math.max(h,0.1)));A(a,"scrolled",10<b.scrollTop)},this)),this.t,"scroll",p(this.th,this)),this.t,"click",p(this.jg,this)),this.qb,"click",p(this.cn,this)),C("desc-link",this.b()),
"click",p(function(){var c=Kb(a,"scrolled");(new Fe(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,c?170:0],300)).play()},this));this.qf&&P(this.h(),C("prev-link",this.b()),"click",p(function(){Z.a().c(Gg,this.qf,j,i,this.j.F())},this));this.lj&&this.j.Aa(this.lj);this.f.subscribe(Vf,function(a){tj(this,a,j)},this);this.f.subscribe(Wf,this.ph,this);this.f.subscribe("add-tweet",function(a){this.ad(a,j)},this);this.f.subscribe(Xf,function(a,b,c){uj(this,a,c)},this);V.a().l.subscribe("set-starred",function(){qf(this.Uc,
gg(V.a().l,this.f))},this);Lf().subscribe(lg,function(a,b){qf(this.ue,b)},this)};
function rj(a,b,c,d,e,g){c?(a.f.description=c,C("description",a.b()).innerHTML=Qi(c),O(C("scrollable",a.b()),j)):(O(C("desc-link",a.b()),l),O(C("scrollable",a.b()),l));c=Ra(d,function(a){var c=b?Pg(V.a(),a):a;if(c.id!=V.a().l.id){O(this.Jb,j);this.Vi=j;var d=I(mi,{i:c,Ea:c.Ea});this.Jb.appendChild(d);this.Pd[a.id]=d;P(this.h(),d,"click",function(){Z.a().c(Hg,a)})}return c},a);Ob(a.f.dc,function(a){uj(this,a)},a);a.rb=Ra(e,function(a){a=b?new kj(a):a;this.ad(a);this.Zd=this.zc.firstChild;v(this.Zd,
"selected");return a},a);e.length&&a.Mh.start();a.t&&O(a.t.parentElement,j);O(a.Mc,!g.length);g=Ra(g,function(a,c){var d=b?new jj(a):a;d.T||tj(this,d,c==g.length-1);return d},a);O(a.H,l);a.resize();b&&(a.f.rk=a.rb,a.f.Ob=g,a.f.Kf=c,a.f.Bi=j)}m.Sb=function(){return this.j.nf()||!!this.j.ob||!!this.j.F()};
function sj(a,b){if(b){t(gc(a.zc),function(a){return x(a,"selected")});a.Zd=b;v(a.Zd,"selected");var c=Ua(gc(a.zc),function(a){return a==b});(new Fe(a.qb,[a.qb.scrollLeft,a.qb.scrollTop],[320*c,a.qb.scrollTop],200)).play();a.resize()}}
m.ac=function(a){var b=lj(V.a().l,this.f.id,a.text,a.de,a.Nh,a.T,a.ok,p(function(a){var b=this.Ge[a.time.getTime()];b.id="infocomment-"+a.id;vj(this,a,b)},this)),c=tj(this,b);this.Ge[b.time.getTime()]=c;a.de&&!a.T&&FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.nb,caption:"on XYLO",description:this.f.description},aa());ig.a().na(this.f.id,a.de,a.Nh)};
m.ad=function(a,b){this.Ke[a.id]=a;var c=Qi(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=I(ni,{Ib:a,text:c,timestamp:gd(a.time.getTime()),prefix:"infotweet"}),d=F("div","dot");hd(fd.a(),a.time,C("timestamp",c));b?(fc(this.qb,c,0),fc(this.zc,d,0),10<gc(this.qb).length&&(G(this.qb.lastChild),G(this.zc.lastChild),
sj(this,d))):(this.qb.appendChild(c),this.zc.appendChild(d));this.resize();O(jc(this.qb),j)};function tj(a,b,c){a.Pa.push(b);O(a.Mc,l);var d=I(oi,{prefix:"infocomment",na:b,text:Qi(b.text),Nj:b.i.id==V.a().l.id});hd(fd.a(),b.time,C("timestamp",d));b.T?C("replies",a.Ic[b.T]).appendChild(d):a.t.appendChild(d);t(b.qh,function(a){tj(this,a,c)},a);b.T||(a.t.scrollTop=a.t.scrollHeight,a.mg.firstChild.scrollTop=a.mg.firstChild.scrollHeight);b.id&&vj(a,b,d);return d}
function vj(a,b,c){a.Yd[b.id]=b;if(!b.T){a.Ic[b.id]=c;var d=C("reply-textarea",c),c=new bf(d);P(a.h(),c,"key",p(function(a){a.stopPropagation();"13"==a.keyCode&&d.value&&(a.preventDefault(),a=lj(V.a().l,this.f.id,d.value,l,l,b.id,b.i.id),tj(this,a),d.value="")},a))}}
function uj(a,b,c){if(c&&a.Pd[b.id])x(a.Pd[b.id],"online");else if(b.id!=V.a().l.id){if(!a.Pd[b.id]){var d=I(mi,{i:b});a.Pd[b.id]=d;fc(a.Jb,d,1);P(P(P(a.h(),d,"click",function(){Z.a().c(Hg,b)}),d,"mouseover",function(){var a=Rd(d),c=Rd(this.Jb),h=B("hovercard");lc(h,b.Ea()+(z(d,"online")?" is watching":" saw this"));var n=Q(h);h.style.right=320-c.x-a.x-n.width/2-12+"px";h.style.top=c.y+a.y+210+"px";O(h,j)}),d,"mouseout",function(){O(B("hovercard"),l)})}O(a.Jb,j);lc(C("status",a.Jb),"WATCHING"+(a.Vi?
" + SEEN":""));v(a.Pd[b.id],"online")}}m.cn=function(a){var a=a.target,b=H(a,k,"tweet");b&&(b=this.Ke[b.id.split("-")[1]],z(a,"reply")&&Z.a().c("reply-tweet",b))};m.jg=function(a){var a=a.target,b=H(a,k,"comment");if(b){var b=b.id.split("-")[1],c=this.Yd[b];z(a,"reply")?C("reply-textarea",this.Ic[c.T?c.T:c.id]).focus():z(a,"remove")&&this.f.c(Wf,b)}};m.ph=function(a){var b=B("infocomment-"+a),c=b.nextSibling;G(b);for(Xa(this.Pa,function(b){return b.id==a});c&&z(c,"reply");)c=c.nextSibling,G(c)};
m.th=function(){A(this.t.parentElement,"top-grad",!!this.t.scrollTop);var a=this.t.style.maxHeight,b=E().height,a=a.substring(0,a.length-2),c=Q(this.t).height;A(this.t.parentElement,"bottom-grad",this.t.scrollTop<this.t.scrollHeight-a-5&&c>=a&&640<b)};
m.resize=function(a,b){this.ka=a!=i?a:this.ka;var c=E().height;Yd(this.mg,c-283);640<c&&this.t&&this.t.parentElement?(Kd(this.t,"max-height",c-Rd(this.t.parentElement).y-313-this.ka+"px"),this.th()):640>c&&(Kd(this.t,"max-height",""),this.th());b&&L(p(function(){(new Fe(this.t,[this.t.scrollLeft,this.t.scrollTop],[this.t.scrollLeft,this.t.scrollHeight],400)).play()},this),0)};
m.Xl=function(){O(B("overlay"),j);FB.ui({method:"feed",name:this.f.name,link:this.f.link,K:this.f.nb,caption:"on XYLO",description:this.f.description},function(){O(B("overlay"),l)});wj(ig.a(),this.f.id,j,l)};m.nm=function(){var a=window.open("https://twitter.com/share?url="+this.f.link+"&text=I'm watching "+this.f.name+" "+this.f.link,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();wj(ig.a(),this.f.id,l,j)};m.bm=function(){var a=bg(this.q);T.a().c(If,a)};
m.em=function(){Lf().c(lg,this.q,Ze(this.ue))};function xj(a,b,c,d,e,g){R.call(this);this.ya=Bf();this.sj=a||k;this.Od=b||k;this.Xb={};this.Gh=c||k;this.kd=d||k;this.oi=g||k;this.Il=e||k;this.qg=this.ya?new Oi:k;this.yd=this.$i=0}s(xj,R);
xj.prototype.A=function(a){xj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;v(this.b(),"ios-scroll");(this.kd||this.Gh)&&yj(this);!this.kd&&this.oi&&X(this.oi,p(function(a){a=Y(a.target);a.description&&this.oe?(C("description",this.oe).innerHTML=Qi(a.description),this.$i=Q(this.oe).height,this.resize()):a.description&&yj(this)},this));this.H=F("div","loading",F("div","loading-spinner"));this.b().appendChild(this.H);O(this.H,l);z(this.b(),"starred")&&(this.Ad=F("div","no-comments","Favorities will appear here."),
this.b().appendChild(this.Ad));this.Lc=F("div","medias");this.b().appendChild(this.Lc);P(this.h(),window,"resize",Ba(L,p(this.resize,this)));this.Od?(O(this.H,j),X(this.Od,p(function(a){O(this.H,l);a=Lg(Mg(a.target));a=Ra(a,function(a){return new Uf(a)});t(a,this.Xf,this);this.yd=Q(this.Lc).height;this.resize()},this))):this.sj&&(t(this.sj,this.Xf,this),this.yd=Q(this.Lc).height,this.resize())};
xj.prototype.Xf=function(a){this.Ad&&O(this.Ad,l);var b=I(Fi,{media:a}),c=C("list-play",b),d=C("list-plus",b);this.Lc.appendChild(b);if(this.ya){var e=this.qg,g=new Ni(b,i);Pi(e,g)}P(P(P(this.h(),b,"click",p(function(){Z.a().c(Gg,a)},this)),c,"click",p(function(b){b.preventDefault();b.stopPropagation();b=bg(a);T.a().c(If,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();Lf().c(lg,a,j)});this.Xb[a.id]=b};
xj.prototype.resize=function(){Yd(this.b(),E().height-40-(H(this.b(),k,"tabbed")?30:0))};function yj(a){a.oe=I(ti,{nb:a.Gh,description:a.kd?Qi(a.kd):"",link:a.Il});a.b().appendChild(a.oe);a.$i=Q(a.oe).height;a.resize()}xj.prototype.Tg=function(a,b){X("/admin/_addprogram",p(function(b){b=Lg(Mg(b.target));b=new ag(b);a.c(kg,b)},this),"POST","channel="+a.id+"&media="+b.id)};function zj(a){this.id=a.id;this.ja=Pg(V.a(),a.from_user);this.$m=Pg(V.a(),a.to_user);this.text=a.text;this.Fd=(this.time=a.time?rd(a.time+"Z"):k)?gd(this.time.getTime()):k};function Aj(a){return'<div class="message'+(a.Yk?" flip":"")+'"><a href="#user:'+J(a.message.ja.id)+'"><div class="picture" style="background:'+J(a.message.ja.color)+'"><img src="'+J(a.message.ja.K)+'"/></div></a><div class="body"><a class="user" href="#user:'+J(a.message.ja.id)+'">'+J(a.message.ja.name)+'</a>  <div class="texts"><div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.Fd)+"</div></div></div></div></div>"}
function Bj(a){return'<div class="text">'+J(a.message.text)+'<div class="timestamp">'+J(a.message.Fd)+"</div></div>"};function Cj(a,b){R.call(this);this.Na=a||k;this.Db=b||k;this.wj={};this.j=new hj(l);this.ka=0;this.Hc=this.Na.id==V.a().l.id}s(Cj,R);
Cj.prototype.A=function(a){Cj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;this.Zb=F("div","messages");this.b().appendChild(this.Zb);A(this.Zb,"inbox",this.Hc);this.H=F("div","spinner");this.Zb.appendChild(this.H);O(this.H,l);this.vf=F("div","no-comments","Start a private conversation.");this.Zb.appendChild(this.vf);this.Eb=F("div","no-comments","Load previous messages");this.Zb.appendChild(this.Eb);O(this.Eb,!this.Hc&&10<=this.Db.length);O(this.vf,l);this.Hc?this.Db=this.Db.reverse():(Ne(this.j,
this.b()),P(P(P(this.h(),window,"click",p(function(a){!H(a.target,k,"comment-input")&&!this.j.F()&&(this.j.za(l),this.j.collapse()&&this.resize(0))},this)),this.vf,"click",p(function(a){a.preventDefault();a.stopPropagation();this.j.za(j)},this)),this.Eb,"click",p(this.Kl,this)));P(P(this.h(),this.j,"add",p(this.ac,this)),window,"resize",Ba(L,p(this.resize,this)));Pa(this.Db,function(a){Dj(this,a)},this);V.a().subscribe("new-message",function(a){if(a.ja.id==this.Na.id||a.$m.id==this.Na.id){if(this.Hc){var c=
this.wj[a.ja.id];c&&G(c)}Dj(this,a,this.Hc);this.resize()}},this);this.resize()};Cj.prototype.Kl=function(){this.Eb&&O(this.Eb,l);O(this.H,j);X("/_message/"+this.Na.id+"?offset="+this.Db.length,p(function(a){a=Y(a.target);if(a.length){this.rf=k;var b=F("div","separator");fc(this.Zb,b,3)}O(this.H,l);this.Eb&&O(this.Eb,!!a.length);Pa(a,function(a){a=new zj(a);this.Db.push(a);Dj(this,a,j);return a},this);a.length&&(this.b().scrollTop=0,this.rf=k,this.b().scrollTop=b.offsetHeight)},this))};
function Dj(a,b,c){O(a.vf,l);a.Eb&&O(a.Eb,!a.Hc&&10<=a.Db.length);var d;if(a.rf&&a.rf.ja.id==b.ja.id)d=I(Bj,{message:b}),C("texts",a.El).appendChild(d),d=C("timestamp",d);else{var e=I(Aj,{message:b,Yk:b.ja.id==V.a().l.id});a.rf=b;a.El=e;c?fc(a.Zb,e,3):a.Zb.appendChild(e);d=C("timestamp",e);a.Hc&&(a.wj[b.ja.id]=e,P(a.h(),e,"click",p(function(){Z.a().c(Hg,b.ja)},a)))}hd(fd.a(),b.time,d);c||(a.b().scrollTop=a.b().scrollHeight)}
Cj.prototype.ac=function(a){var b=new zj({from_user:V.a().l,to_user:Pg(V.a(),this.Na),text:a.text});b.time=new sd;b.Fd=gd(b.time.getTime());Dj(this,b);X("/_message",a.Fk,"POST","from_id="+V.a().l.id+"&to_id="+this.Na.id+"&text="+a.text)};Cj.prototype.resize=function(a){this.ka=a||this.ka;Yd(this.b(),E().height-82-this.ka-(H(this.b(),k,"tabbed")?30:0))};function Ej(a){return'<div class="user'+(a.media?" media":"")+'"><div class="name">'+J(a.i.name)+'</div><div class="picture" style="background:'+J(a.i.color)+'"><img src="'+J(a.i.K)+'"/></div>'+(a.timestamp?'<div class="timestamp">'+J(a.timestamp)+"</div>":"")+(a.media?'<div class="media"><div class="watched">LAST WATCHED </div><div class="watching">NOW WATCHING </div><a class="media-link" href="#info:'+J(a.media.id)+'">'+J(a.media.name)+"</a></div>":"")+"</div>"};function Fj(a,b){R.call(this);this.Sf=a||k;this.wk={};this.Nc=[];this.Bd=[];this.Ed=[];this.hc=!!b;this.ka=0}s(Fj,R);
Fj.prototype.A=function(a){Fj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;v(a,"friendlist");v(a,"ios-scroll");this.hc||(a=F("div","label show-all",F("a",{href:"#friendlist:1"},"ALL FRIENDS >")),this.b().appendChild(a));this.xf=F("div","label online-friends-label",this.hc?"ONLINE FRIENDS":F("a",{href:"#friendlist:1"},"ONLINE FRIENDS"));O(this.xf,l);this.b().appendChild(this.xf);this.Zg=F("div","online-friends");this.b().appendChild(this.Zg);this.we=F("div","label",this.hc?"RECENTLY ONLINE":F("a",
{href:"#friendlist:1"},"RECENTLY ONLINE"));O(this.we,l);this.b().appendChild(this.we);this.Cf=F("div","recent-friends");this.b().appendChild(this.Cf);this.hc&&(this.wf=F("div","label","OFFLINE FRIENDS"),O(this.wf,l),this.b().appendChild(this.wf),this.Sg=F("div","offline-friends"),this.b().appendChild(this.Sg),X("/_friends?offline=1",p(function(a){a=Y(a.target);this.Bd=Ra(a,function(a){a=Pg(V.a(),a);Gj(this,a,j);return a})},this)),this.hc&&this.resize(),P(this.h(),window,"resize",p(function(){this.hc&&
L(p(function(){this.resize()},this))},this)));if(this.Sf)t(this.Sf,function(a){Gj(this,a)},this);else{var a=V.a(),b=p(function(a){this.Sf=a;t(this.Sf,function(a){Gj(this,a)},this)},this);a.Gi?b&&b(a.wg):X("/_friends",p(function(a){a=Y(a.target);this.wg=Ra(a,function(a){return Pg(this,a)},this);this.Gi=j;b&&b(this.wg)},a))}V.a().subscribe(Og,this.en,this)};
function Gj(a,b,c){var d=l,e=I(Ej,{i:b,timestamp:b.Cb?gd(b.Cb.getTime()):k,media:b.vb});b.Cb&&hd(fd.a(),b.Cb,C("timestamp",e));b.jb&&!c?(O(a.xf,j),v(e,"online"),t(a.Nc,function(a,c){a.Ea()>b.Ea()&&(fc(this.Zg,e,c),bb(this.Nc,c,0,b),d=j)},a),d||(a.Zg.appendChild(e),a.Nc.push(b))):b.Cb&&!c&&5>a.Ed.length?(O(a.we,j),t(a.Ed,function(a,c){a.Cb&&(b.Cb&&a.Cb.getTime()<b.Cb.getTime())&&(fc(this.Cf,e,c),bb(this.Ed,c,0,b),d=j)},a),d||(a.Cf.appendChild(e),a.Ed.push(b))):a.hc&&(O(a.wf,j),t(a.Bd,function(a,c){a.Ea()>
b.Ea()&&(fc(this.Sg,e,c),bb(this.Bd,c,0,b),d=j)},a),d||(a.Sg.appendChild(e),a.Bd.push(b)));a.hc||(O(a.we,!a.Nc.length),O(a.Cf,!a.Nc.length));a.wk[b.id]=e;c=C("media-link",e);P(a.h(),e,"click",p(function(){Z.a().c(Hg,b)},a));c&&P(a.h(),c,"click",p(function(a){a.preventDefault();a.stopPropagation()},a))}
Fj.prototype.en=function(a){var b=this.wk[a.id];b&&(G(b),Xa(this.Bd,function(b){return b.id==a.id})&&O(this.wf,!!this.Bd.length),Xa(this.Nc,function(b){return b.id==a.id})&&O(this.xf,!!this.Nc.length),Xa(this.Ed,function(b){return b.id==a.id})&&O(this.we,!!this.Ed.length));Gj(this,a)};Fj.prototype.resize=function(a){this.ka=a||this.ka;Yd(this.b(),E().height-42-this.ka-(H(this.b(),k,"tabbed")?30:0))};function Hj(a,b){R.call(this);this.Bk=a;this.Me=b||k;this.Z=0;this.dk=!b;this.Cc=l;this.Ci={};this.Ue={};this.xd={};this.Jc={};this.Rh={};this.Sj={};this.Xh=[]}s(Hj,R);
Hj.prototype.A=function(a){Hj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;v(a,"stream");v(a,"ios-scroll");this.dk&&(this.Fi=F("div","friendlist"),this.b().appendChild(this.Fi),a=F("div","label","ACTIVITY"),this.b().appendChild(a));this.Ud=F("div","activities");this.b().appendChild(this.Ud);this.H=F("div","spinner");this.b().appendChild(this.H);O(this.H,l);this.Ad=F("div","no-comments",this.Me?"Your activity will appear here.":"Friends' activity will appear here.");this.b().appendChild(this.Ad);
Ij(this,this.Bk);this.dk&&(this.vg=new Fj(i,l),this.vg.g(this.Fi));V.a().subscribe("new-activity",function(a){(this.Me==a.user.id||!this.Me&&a.user.id!=V.a().l.id)&&Jj(this,a,i,i,j)},this);P(P(this.h(),this.b(),"scroll",p(function(){!this.Cc&&this.b().scrollTop+E().height>this.b().scrollHeight-60&&Kj(this)},this)),window,"resize",Ba(L,p(this.resize,this)));this.resize()};
function Kj(a){O(a.H,j);X("/_activity"+(a.Me?"/"+a.Me:"")+"?offset="+a.Z,p(function(a){this.Ci[String(a.target.me)]||(this.Ci[String(a.target.me)]=j,a=Y(a.target).activities,this.Cc=!a.length,A(this.H,"finished",this.Cc),O(this.H,this.Cc),Ij(this,a))},a))}
function Ij(a,b){a.Ue=[];a.xd=[];a.Jc=[];t(b,function(a){this.Z++;switch(a.type){case "session":var a=a.session,b=Ub(this.Ue,a.channel_id,[]);b.push(a);this.Ue[a.channel_id]=b;break;case "liked":this.xd[a.media.id]||(b=Ub(this.Jc,a.media.id,[]),b.push(a),this.Jc[a.media.id]=b,b=Ub(this.Rh,a.user.id,[]),b.push(a),this.Rh[a.user.id]=b);break;case "comment":a=a.comment,b=Ub(this.xd,a.media.id,[]),b.push(a),this.xd[a.media.id]=b,this.Jc[a.media.id]&&Sb(this.Jc,a.media.id)}},a);Ob(a.Ue,function(a){Jj(this,
i,a,"session")},a);Ob(a.xd,function(a){Jj(this,i,a,"comment")},a);Ob(a.Jc,function(a){1<a.length&&Jj(this,i,a,"liked")},a);Ob(a.Rh,function(a){Jj(this,i,a,"liked")},a)}
function Jj(a,b,c,d,e){O(a.Ad,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],n=b?[Pg(V.a(),b.user)]:[],r=b?rd(b.time+"Z"):k;c&&t(c,function(a){Ta(n,function(b){return b.id==a.user.id})||n.push(Pg(V.a(),a.user));var b=rd((a.time||a.tune_in)+"Z");r=r&&r.getTime()>b.getTime()?r:b;"session"==g?t(a.media,function(a){!this.xd[a.id]&&(!this.Jc[a.id]&&!Ta(h,function(b){return b.id==a.id}))&&h.push(a)},this):"liked"==g&&!this.Sj[a.media.id]&&(h.push(a.media),this.Sj[a.media.id]=j)},a);switch(g){case "session":if(2>
n.length)return;var d=b?b.session:c[0],w=S.a().get(d.channel_id),h=b?b.session.media:h;5<h.length&&(h=h.slice(0,5));b=I(qi,{L:n,R:w,time:gd(r.getTime()),qk:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[$f(Zf.a(),c[0].media)],y=b?[new jj(b.comment)]:[];c&&t(c,function(a){y.push(new jj(a))});b=I(ri,{Ob:y.reverse().slice(0,3),L:n,media:h[0]});break;case "liked":h=b?[b.media]:h;b=I(si,{L:n,uj:h.length,time:gd(r.getTime())});break;default:return}if(h.length){hd(fd.a(),r,C("timestamp",
b));d=Ua(a.Xh,function(a){return a.time<r.getTime()});bb(a.Xh,d,0,{time:r,element:b});var D=C("medias",b);t(h,function(a){var b=$f(Zf.a(),a),a=I(Fi,{media:b}),c=C("list-play",a),d=C("list-plus",a);C("thumb",a);D.appendChild(a);P(P(P(this.h(),a,"click",function(){Z.a().c(Gg,b)}),c,"click",function(a){a.preventDefault();a.stopPropagation();a=bg(b);T.a().c(If,a)}),d,"click",function(a){a.preventDefault();a.stopPropagation();Lf().c(lg,b,j)})},a);e?fc(a.Ud,b,0):c?fc(a.Ud,b,d):a.Ud.appendChild(b);L(Ba(v,
b,"show"))}}Hj.prototype.resize=function(){var a=E().height-40-(H(this.b(),k,"tabbed")?40:10);Yd(this.b(),a);Q(this.Ud).height<a&&Kj(this)};function Lj(a){R.call(this);this.Na=this.q=a;this.mb=["messages","activity","starred"]}s(Lj,R);Lj.prototype.A=function(a){Lj.d.A.call(this,a);v(a,"profile");v(a,"ios-scroll");wc(a,Di)};
Lj.prototype.z=function(){this.Ma=C("tabs",this.b());X("/_message/"+this.Na.id,p(function(a){a=Y(a.target);a=Ra(a,function(a){return new zj(a)},this);this.Db=new Cj(this.Na,a);this.Db.g(C("messages-content",this.b()))},this));X("/_star/"+this.Na.id,p(function(a){var a=Y(a.target),a=Ra(a,function(a){return new Uf(a)}),b=V.a().l;b.gk=a;b.c("set-starred");this.De=new xj(a);this.De.g(C("starred-content",this.b()))},this));X("/_activity/"+this.Na.id,p(function(a){a=Y(a.target).activities;this.Ch=new Hj(a,
this.Na.id);this.Ch.g(C("activity-content",this.b()))},this));P(this.h(),this.Ma,"click",p(function(a){a=H(a.target,"li");this.$b(a)},this));Zf.a().subscribe("star",function(a,b){if(b)this.De.Xf(a);else{var c=this.De,d=c.Xb[a.id];d&&(Ec(d),Sb(c.Xb,a.id))}},this)};Lj.prototype.$b=function(a){t(this.mb,function(b){A(this.Ma.parentElement,b,z(a,b));this.J=z(a,b)?b:this.J},this)};function Mj(){R.call(this);this.ya=Bf();this.Dk=new gj;this.mb={};this.kc=[];this.Gd=[];this.Td=0}s(Mj,R);m=Mj.prototype;
m.z=function(){Mj.d.z.call(this);this.Vd=C("arrow",this.Xc);this.lg=B("sidebar-content");this.rj=B("media-list");this.jh=B("profile");this.Ei=B("friendlist");this.li=B("conversation");this.Xc=B("toolbar");this.Ma=C("tabs",this.b());this.Wf=C("activities-count",this.b());var a=new bf(document);t(gc(this.Ma),function(a){var b=Jb(a)[0];this.mb[b]=a;this.kc.push(b)},this);this.Wg();X("/_activity",p(function(a){a=Y(a.target);this.Ch=new Hj(a.activities);this.Ch.g(B("stream"));Z.a().c("new-activites",parseInt(a.new_count,
10))},this));this.De=new Lj(V.a().l);this.De.g(B("my-profile"));this.da&&DESKTOP?(this.O=B("info"),this.J="info",Nj(this,"info","info")):(this.O=B("stream"),this.J="stream",Nj(this,"info","stream"));var b="left";t(this.kc,function(a){var c=C(a,this.lg);a==this.J?b="right":v(c,b)},this);this.Gd=[this.O,""];v(this.O,"current");if(this.ya){this.Dk.g(B("admin"));var c=I(ui,{name:"ADMIN",className:"admin"});this.Ma.appendChild(c);this.mb.admin=c;this.kc.push("admin")}Oj(this);P(P(P(P(this.h(),C("back-button",
this.Xc),"click",p(function(a){var b=this.Gd.shift();this.navigate(b[0],j,b[1]);Oj(this);a.stopPropagation()},this)),this.Ma,"click",p(function(a){var b=this.J,c=H(a.target,"li"),h=Jb(c)[0];Nj(this,this.J,h);v(c,"selected");Oj(this);b!=this.J&&a.stopPropagation();"stream"==h&&this.Dj(0,j)},this)),this.Xc,"click",p(function(a){((a=H(a.target,"li"))&&Jb(a)[0]==this.J||!a)&&(new Fe(this.O,[this.O.scrollLeft,this.O.scrollTop],[this.O.scrollLeft,0],300)).play()},this)),a,"key",p(function(a){a.ctrlKey&&
"68"==a.keyCode&&Kb(this.b(),"dark")},this));DESKTOP&&N.a().subscribe(jd,function(a){A(this.b(),"toggled",a);L(p(function(){A(this.b(),"collapsed",!a)},this),!a?500:0)},this);Z.a().subscribe("navigate",this.navigate,this);Z.a().subscribe("new-activites",this.Dj,this);Z.a().subscribe("conversation",this.Im,this);Z.a().subscribe("media-list",this.Mm,this);Z.a().subscribe(Gg,this.fk,this);Z.a().subscribe("friend-list",this.Km,this);Z.a().subscribe(Hg,this.Nm,this);S.a().subscribe(Hf,this.Wg,this);T.a().subscribe(If,
this.Wg,this);S.a().subscribe(Ef,this.Ul,this);DESKTOP&&N.a().subscribe("toggle-admin",function(a){A(this.b(),"admin",a);a?(N.a().c(jd,j),Nj(this,this.J,"admin")):"admin"==this.J&&Nj(this,"admin","info")},this)};m.Dj=function(a,b){b&&(this.Td=0,O(this.Wf,l));this.Td+=a;lc(this.Wf,this.Td.toString());O(this.Wf,!!this.Td)};
m.Wg=function(a){if(a=a||S.a().n.k())if(this.vc=a.media,!this.da||this.vc.id!=this.da.q.id){var a=this.da&&this.da.j.F()?this.da.j.F():k,b=this.da?this.da.f:k;Ec(this.da);this.da=new qj(this.vc,l,b,a);this.da.g(B("info"))}};m.Ul=function(a){a=a||S.a().n;if((this.vc=a.k()&&a.k().media)&&(!this.da||this.vc.id!=this.da.q.id))Ec(this.da),this.da=new qj(this.vc),this.da.g(B("info")),this.fk(this.vc)};
function Nj(a,b,c){var d=C(c,a.lg),e=Oa(a.kc,b),b=Oa(a.kc,c),g=(e=e<b)?0:a.kc.length-1,h=e?g<a.kc.length:0<=g;for(g;h;g+=e?1:-1){var n=C(a.kc[g],a.lg);if(e&&g>b||!e&&g<b)v(n,"right"),x(n,"left");else if(e&&g<b||!e&&g>b)A(n,"left",e),v(n,"right");else if(g==b){x(n,"right");x(n,"left");break}}a.J=c;bb(a.Gd,0,0,[a.O,""]);x(a.O,"current");a.O=d;v(a.O,"current");Oj(a)}
m.navigate=function(a,b,c){if(a!=this.O){var d=z(this.O,"screen");b?(x(this.O,"on"),x(this.O,"current"),v(a,"current"),this.O=a):(A(this.O,"on",!d),b=[this.O,pc(C("back-title",this.Xc))],bb(this.Gd,0,0,b),x(this.O,"current"),this.O=a,v(this.O,"current"));A(this.Xc,"back",z(this.O,"slide"))}c&&lc(C("back-title",this.Xc),c)};m.Im=function(a,b,c,d){(new oj(a,b,c,d)).g(this.li);Z.a().c("navigate",this.li,l,a.name)};
m.Mm=function(a,b,c,d,e,g,h){(new xj(b,c,d,e,g,h)).g(this.rj);Z.a().c("navigate",this.rj,l,a,d,e)};m.Km=function(){this.vg=new Fj(i,j);this.vg.g(this.Ei);Z.a().c("navigate",this.Ei,l,"Friends")};m.fk=function(a,b,c,d){if(this.da&&a.id==this.da.q.id){x(this.Xc,"back");for(a=this.Gd[0][0];a&&z(a,"slide");)a=this.Gd.shift();Nj(this,this.J,"info")}else{var e=B("media-info");(new qj(a,b,c,d)).g(e);Z.a().c("navigate",e,l,a.name)}DESKTOP&&N.a().c(jd,j)};
m.Nm=function(a){if(!this.kh||!(this.kh.q.id==a.id&&this.O==this.jh))this.kh=new Lj(a),this.kh.g(this.jh),Z.a().c("navigate",this.jh,l,a.name),DESKTOP&&N.a().c(jd,j)};function Oj(a){var b=Math.round(Q(a.mb[a.J]).width/2+Rd(a.mb[a.J]).x);a.Vd.style.transform="translate3d("+b+"px, 0,0)";a.Vd.style.msTransform="translate3d("+b+"px, 0,0)";a.Vd.style.WebkitTransform="translate3d("+b+"px, 0,0)";a.Vd.style.MozTransform="translate3d("+b+"px, 0,0)";a.Vd.style.qn="translate3d("+b+"px, 0,0)"};function Pj(a){return'<div class="queue-media"><div class="pic"><img src="'+J(a.media.qa.K)+'"></div><div class="title">'+J(a.media.name)+'</div><div class="play"></div><div class="remove"></div></div>'};function Qj(){R.call(this);this.Xb={};this.Yb=0;this.ma=new zf("Queue");rf(this.ma,16,j)}s(Qj,R);
Qj.prototype.A=function(a){Qj.d.A.call(this,a);this.ma.g(C("queue-toggle",this.b()));this.Jl=C("queue-list",this.b());this.Lc=C("medias",this.b());P(P(P(this.h(),this.ma.b(),"click",p(function(){A(this.b(),"show",Ze(this.ma))},this)),this.Jl,"click",p(function(a){a.preventDefault();a.stopPropagation()},this)),window,"click",p(function(a){Ze(this.ma)&&(H(a.target,k,"queue")||L(p(function(){x(this.b(),"show");qf(this.ma,l)},this)))},this));Lf().subscribe(lg,this.sb,this);Lf();var b=p(function(a){t(a,
function(a){this.sb(a,j)},this)},this);X("/_queue",function(a){a=Y(a.target);this.oh=Ra(a,function(a){return $f(Zf.a(),a)},this);b&&b(this.oh)})};
Qj.prototype.sb=function(a,b){if(b){e=I(Pj,{media:a});this.Xb[a.id]=e;this.Yb+=1;var c=C("play",e),d=C("remove",e);this.Lc.appendChild(e);P(P(P(this.h(),e,"click",p(function(b){b.preventDefault();b.stopPropagation();Z.a().c(Gg,a)},this)),c,"click",p(function(b){b.preventDefault();b.stopPropagation();x(this.b(),"show");qf(this.ma,l);b=bg(a);T.a().c(If,b);Lf().c(lg,a,l)},this)),d,"click",p(function(b){b.preventDefault();b.stopPropagation();Lf().c(lg,a,l)},this))}else if(Ub(this.Xb,a.id)){var e=this.Xb[a.id];
G(e);this.Yb-=1}A(this.Lc,"no-medias",!this.Yb);lc(this.ma.b().firstChild,0<this.Yb?this.Yb.toString():"")};function Rj(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div><div class="restart" style="display:none">TRY AGAIN</div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="vote" class="vote" style="display:none"><div class="like"></div><div class="dislike"></div></div><div id="logo"></div><div id="notify" class="notify"></div><div id="search" class="search"><div class="search-box"><div id="search-icon" class="search-icon"></div><input type="text" id="search-input" class="search-input" /><div id="clear-icon" class="clear-icon" style="display:none"></div></div><div class="search-results no-medias" id="search-results"><div class="label">SEARCH</div><div class="no-medias">NO RESULTS</div><div class="no-overflow"><div class="results"><div class="subtitle subtitle-channels">CHANNELS</div><div class="result-channels"></div><div class="subtitle subtitle-medias">VIDEOS</div><div class="result-medias"></div></div></div></div></div><div id="queue" class="queue"><div class="queue-toggle"><span></span></div><div class="queue-list"><div class="label">QUEUE</div><div class="medias-container"><div class="medias no-medias"><div class="no-medias">CLICK <span class="plus"></span> TO ADD VIDEOS</div></div></div></div></div></div><div id="guide" class="guide'+
(a.Ji?" toggled":" collapsed")+(a.sidebar?" sidebar-toggled":"")+'"><div id="channels" class="channels"></div><div class="header" id="header"><div class="times"><div id="now-left" class="left browse">&#9664;<span> NOW</span></div><div id="now-right" class="right browse"><span>NOW </span>&#x25B6;</div></div></div><div id="my-ticker" class="my-ticker" style="display:none"><div class="me" style="background:'+J(a.i.color)+";border-color:"+J(a.i.color)+';"><img src="'+J(a.i.K)+'"/></div></div><div id="ticker" class="ticker"><div id="go-live" class="go-live">GO LIVE</div></div><div class="pan-handle" id="pan-handle"></div><div id="right-grad"></div></div><div id="controller" class="controller'+
(a.Ji?" guide-toggled":" collapsed")+(a.sidebar?" sidebar-toggled":"")+'"><div class="background"></div><div class="left"><div id="guide-toggle" class="guide-toggle dark button">GUIDE</div><div class="controls"><div class="restart dark button"><div class="icon"></div></div><div class="play dark button"><div class="icon"></div></div><div class="volume dark button"><div class="icon"></div></div></div><div class="border"></div></div><div class="right"><div id="info-toggle" class="info-toggle dark button"><div class="icon"></div></div><div id="admin-toggle" class="admin-toggle dark button" style="display: none"><div class="icon"></div><div id="toggle-pending" class="pending" style="display:none"></div></div><div id="sidebar-toggle" class="sidebar-toggle dark button"><div class="icon"></div></div><div class="border"></div></div><div class="progress" style="display: none"><div class="elapsed animate"><div class="seek"></div></div><div class="title"></div><div class="current-time"></div><div class="duration"></div></div></div><div id="sidebar" class="'+
(a.sidebar?"toggled":"collapsed")+'"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM<div class="activities-count" style="display:none"></div></div></li><li class="profile tab"><div class="label">ME</div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="friendlist" class="slide friendlist"></div><div id="conversation" class="slide"></div>'+
(a.Yf?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="hovercard" class="watch-with" style="display: none"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'};function ig(){}ma(ig);_gaq=[];ig.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};ig.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",V.a().l.id])};
function og(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",V.a().l.id])}ig.prototype.sc=function(a,b){a.C||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
ig.prototype.na=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",V.a().l.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",V.a().l.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",V.a().l.id])};
function wj(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",V.a().l.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",V.a().l.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",V.a().l.id]);X("/_share",ve(),"POST","facebook="+c+"&twitter="+d)}ha("_gaq",_gaq);function Sj(){M.call(this);this.oj=l}s(Sj,M);ma(Sj);Sj.prototype.init=function(a){this.ob=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=p(this.am,this);a.onclose=p(this.Ej,this);K(window,"onbeforeunload",p(this.Ej,this));return this};
Sj.prototype.am=function(a){var b=Lg(a.data);switch(b.type){case "viewer_change":var c=Pg(V.a(),b.user);c.jb!=b.online&&V.a().c(Og,c,b.online);var d=b.time&&rd(b.time+"Z");c.Ze&&d&&c.Ze.end(d);if(a=b.last_channel_id&&S.a().get(b.last_channel_id))a.c("remove-viewer",c),c.vb&&c.vb.c(Xf,c,a,j);var e=b.channel_id&&S.a().get(b.channel_id),a=b.media&&$f(Zf.a(),b.media);e&&(d=d||new sd,d=new hg(b.session_id,c,e,d),c.Ze=d,e.c(mg,d),a=(d=e.k())?d.media:a);a&&a.c(Xf,c,e);break;case "new_comment":c=new jj(b.comment);
if(c.i.id!=V.a().l.id&&(d=b.tweet?new kj(b.tweet):k,a=$f(Zf.a(),b.comment.media)))a.c(Vf,c),d&&a.c("add-tweet",d);break;case "new_message":a=new zj(b.message);V.a().c("new-message",a);Sf.a().c("show","messaged you",a.text,a.ja,a.ja.K,"#profile:"+a.ja.id);break;case "new_activity":V.a().c("new-activity",b.activity);b.activity.user.id!=V.a().l.id&&Z.a().c("new-activites",1);break;case "update_programs":a=b.programs;e=S.a().get(b.channel_id);t(a,function(a){e.c(ng,a)},this);break;case "new_programs":b.channel&&
(e=S.a().Pe(b.channel));t(b.programs,p(function(a){a=new ag(a);if(e=e||S.a().get(b.channel_id))if(e.c(kg,a),!S.a().n||!S.a().n.k())S.a().c(Ef,e),S.a().c(Hf,a)},this));break;case "twitter_auth":V.a().l.c(eg)}};Sj.prototype.Ej=function(){if(!this.oj){var a=S.a().n.C&&S.a().n.vb&&Math.floor(T.a().getCurrentTime());DESKTOP&&X("/_settings",ve(),"POST","show_guide="+N.a().Fc+"&show_sidebar="+N.a().Tc+(a?"&current_seek="+a:""));this.oj=j}};function Tj(){M.call(this);this.jo=[]}s(Tj,M);ma(Tj);Tj.prototype.Ng=function(a){Ob(a,p(function(a,c){t(a,p(function(a){a=new ag(a);S.a().dd[c]&&S.a().dd[c].Mb(a)},this))},this))};var Uj=l;function Vj(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var Wj=navigator.plugins["Shockwave Flash"];Wj&&(Uj=j,Wj.description&&Vj(Wj.description));navigator.plugins["Shockwave Flash 2.0"]&&(Uj=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Xj=navigator.mimeTypes["application/x-shockwave-flash"];(Uj=Xj&&Xj.enabledPlugin)&&Vj(Xj.enabledPlugin.description)}else try{var Yj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),Uj=j;Vj(Yj.GetVariable("$version"))}catch(Zj){try{Yj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
Uj=j}catch($j){try{Yj=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Uj=j,Vj(Yj.GetVariable("$version"))}catch(ak){}}};function bk(a,b,c,d,e,g,h,n){this.Od=a;this.Hk=b;this.kd=c;this.nc=d;this.co=e;this.Xn=g;this.Oa=h;this.Ga=n;this.Wm=[];this.eg=[];this.Ln=[];this.no=[]}bk.prototype.Hi=da("Hk");bk.prototype.bk=function(a){this.nc=a;return this};bk.prototype.yh=function(a){this.w=a;return this};function ck(a){this.Od=a;this.Qm=k}function dk(a){this.Od=a;this.Qm=this.so=k};function ek(a,b,c){bk.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.Th=a;this.Wm=[new ck("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.yh(new dk("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}s(ek,bk);
var fk=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function Kg(a){var b=fk.exec(a);if(b)return new ek(b[1]||b[2],i,i);f(Error("failed to parse video id from youtube url: "+a))};function gk(){R.call(this);this.Mk=new Eh;this.dl=new Af;this.Pm=new Mj;this.w=new Ph;this.Sl=new Lh;this.oh=new Qj;this.Em=new Hi}var hk,ik,jk,kk,lk,mk,nk,ok;s(gk,R);gk.prototype.A=function(a){gk.d.A.call(this,a);var b=I(Rj,{i:V.a().l,Yf:Bf(),Ji:V.a().l.Lm&&!S.a().n.C,sidebar:V.a().l.Om});fc(a,b,0)};
gk.prototype.z=function(){gk.d.z.call(this);this.Mk.g(B("controller"));this.dl.g(B("guide"));this.Pm.g(B("sidebar"));this.w.g(B("stage"));this.Sl.g(B("notify"));this.oh.g(B("queue"));this.Em.g(B("search"));this.io=new ii;if(!V.a().l.gn){V.a();var a=B("welcome");O(a,j);P(this.h(),a,"click",function(){O(a,l);X("/_welcomed",ve(),"POST")})}P(this.h(),document.body,"touchmove",function(a){H(a.target,"div","ios-scroll")||a.preventDefault()});P(this.h(),window,"click",function(a){var c=H(a.target,"a");if(c=
c?c.href:k)if((c=c.match("#(.*):(.*)"))&&c.length)switch(a.preventDefault(),a.stopPropagation(),c[1]){case "user":a=V.a().get(c[2]);Z.a().c(Hg,a);break;case "channel":a=S.a().get(c[2]);S.a().c(Ef,a);break;case "info":a=Zf.a().get(c[2]);Z.a().c(Gg,a);break;case "friendlist":Z.a().c("friend-list")}});window.onload=function(){window.onbeforeunload=ea("Leaving so soon?")};X("/_presence",p(function(a){a=Y(a.target);this.Hn=Sj.a().init(a.token);var c=S.a();t(a.viewer_sessions,p(function(a){var b=Pg(V.a(),
a.user),c=V.a();Ta(c.$g,function(a){return a.id==b.id})||c.$g.push(b);var c=this.dd[a.channel_id],h=rd(a.tune_in+"Z"),n=a.tune_out?rd(a.tune_out+"Z"):k,a=new hg(a.id,b,c,h,n);b.Ze=a;c&&(c.Zc.push(a),c.c(mg,a),(a=c.k())&&a.media.c(Xf,b,c))},c))},this));N.a().subscribe("toggle-info",function(){var a=B("login"),c=B("static-content"),d=B("pages");x(a,"hide");v(a,"show");c.style.height=Q(d).height+80+"px";pk(j)},this)};
function pk(a){var b=B("login"),c=B("static-content"),d=B("pages"),e=z(b,"app");A(b,"expanded",a);B("uvTab")&&A(B("uvTab"),"show",e&&a);a?(e?c.style.bottom=-Q(d).height-80+"px":c.style.top=Math.max(10,E().height-280)+"px",a=e?Math.min(E().height-100,c.scrollHeight+80):Math.min(E().height-435,c.scrollHeight+190),!e||e&&!b.scrollTop?(e=new Fe(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),v(b,"scrolling"),e.play(),K(e,"end",function(){x(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",e?L(function(){x(b,"show")},200):c.className="")}
function qk(){var a=B("fb-login"),b=B("static-content"),c=B("login");v(a,"disabled");v(a,"spin");X("/_session",function(a){if(200==Dh(a.target)){var e=Y(a.target);if(e.error)lc(B("error"),e.error),rk("error","Yikes...");else if(e.message)lc(B("message"),e.message);else{x(document.body,"login");L(function(){L(function(){v(c,"hide");L(function(){O(B("homepage"),l);v(c,"app");v(b,"faq")},600)},600)});var a=e.channels,g=e.programs,e=e.current_user;if(!Rb(e)){var h=V.a();h.l=Pg(h,e)}S.a().Ng(a);Tj.a().Ng(g);
a=S.a();a.n=a.dd[e.current_channel]||a.ed[0];a.n=Nf(a)||a.n;a.n&&a.Oh(a.n.k());fd.a().init();(new gk).g(document.body);ig.a().login();a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://":"http://")+"widget.uservoice.com/WGHjF5nSR8jL1GxXyQNxWA.js";g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(a,g)}}else 500==Dh(a.target)?rk("error","Opps, check back later"):rk("wait"),L(function(){v(lk,"strike");hk.play()},
500),L(function(){x(lk,"strike");v(mk,"strike");ik.play()},800),L(function(){x(mk,"strike");v(nk,"strike");jk.play()},1100),L(function(){x(nk,"strike");v(ok,"strike");kk.play()},1400),L(function(){x(ok,"strike");v(nk,"strike");jk.load();jk.play()},1700),L(function(){x(nk,"strike");v(mk,"strike");ik.load();ik.play()},2E3),L(function(){x(mk,"strike");v(lk,"strike");hk.load();hk.play()},2300),L(function(){x(lk,"strike")},2600)},"POST")}
function rk(a,b){var c=B("fb-login");if(a){var d=C("power",c);v(d,a)}b&&(d=C("waitlist",c),lc(d,b));x(c,"spin");v(c,"disabled");O(c,j);v(c,"show");v(c,"waitlist")}function Fh(a){var b=parseInt(a,10),a=Math.floor(b/3600),c=Math.floor((b-3600*a)/60),b=b-3600*a-60*c;10>c&&(c=(a?"0":"")+c);10>b&&(b="0"+b);return(a?a+":":"")+(c?c+":":"")+b}
ha("brkn.Main.staticInit",function(){var a=B("fb-login"),b=B("homepage"),c=B("login"),d=B("static-content"),e=B("pages"),g=B("footer"),h=l;v(b,"hide");var n=F("img");n.src="/static/img/homepage.jpg";K(n,"load",function(){x(b,"hide");v(b,"show")});L(function(){O(a,j);L(Ba(v,a,"show"),400)},100);K(c,"click",function(a){"static-scrollable"==a.target.id&&(a=z(c,"app"),h=l,a?pk(h):(a=new Fe(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),K(a,"end",Ba(pk,h))))});K(c,"scroll",function(){!z(c,
"scrolling")&&1>c.scrollTop&&(h=l,pk(h))});K(g,"click",function(a){var a=H(a.target,k,"section"),b=z(c,"app");a&&(h=j,d.className=a.id,d.style.height=Q(e).height+(b?80:220)+"px",pk(h))});K(window,"resize",Ba(pk,h));ig.a().init();IPHONE&&(v(document.body,"iphone"),v(document.body,"login"),window.onload=function(){L(function(){window.scrollTo(0,1)},1E3)});lk=B("chord-1");mk=B("chord-2");nk=B("chord-3");ok=B("chord-4");hk=B("mp3-1");ik=B("mp3-2");jk=B("mp3-3");kk=B("mp3-4");hk.volume=0.5;ik.volume=0.5;
jk.volume=0.5;kk.volume=0.5;hk.load();ik.load();jk.load();kk.load();K(lk,"click",function(){hk.load();hk.play()});K(mk,"click",function(){ik.load();ik.play()});K(nk,"click",function(){jk.load();jk.play()});K(ok,"click",function(){kk.load();kk.play()})});ha("brkn.Main.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)qk();else{var b=B("fb-login");K(b,"click",function(){v(b,"disabled");FB.login(function(a){a.authResponse?qk():x(b,"disabled")},{scope:"email"})})}})});