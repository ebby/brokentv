function f(a){throw a;}var i=void 0,j=!0,k=null,l=!1;function ba(){return function(){}}function ca(a){return function(b){this[a]=b}}function da(a){return function(){return this[a]}}function ea(a){return function(){return a}}var m,fa=fa||{},ga=this;function ha(a,b){var c=a.split("."),d=ga;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ja(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function ka(a){for(var a=a.split("."),b=ga,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function la(){}function ma(a){a.a=function(){return a.jj?a.jj:a.jj=new a}}
function na(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ja(a){return a!==i}function oa(a){return"array"==na(a)}function pa(a){var b=na(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ra(a){return"string"==typeof a}function sa(a){return"number"==typeof a}function ta(a){return"function"==na(a)}function va(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function wa(a){return a[xa]||(a[xa]=++ya)}
var xa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ya=0;function za(a,b,c){return a.call.apply(a.bind,arguments)}function Aa(a,b,c){a||f(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;return p.apply(k,arguments)}function Ba(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var q=Date.now||function(){return+new Date};function Ca(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a}
function s(a,b){function c(){}c.prototype=b.prototype;a.d=b.prototype;a.prototype=new c;a.prototype.constructor=a};function Da(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Ea(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Fa(a){if(!Ga.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ha,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ia,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ja,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ka,"&quot;"));return a}var Ha=/&/g,Ia=/</g,Ja=/>/g,Ka=/\"/g,Ga=/[&<>\"]/;
function La(a){var a=ja(i)?a.toFixed(i):String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a}function Ma(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var Na=Array.prototype,Oa=Na.indexOf?function(a,b,c){return Na.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(ra(a))return!ra(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},t=Na.forEach?function(a,b,c){Na.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ra(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)};function Pa(a,b,c){for(var d=ra(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in d&&b.call(c,d[e],e,a)}
var Qa=Na.filter?function(a,b,c){return Na.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=ra(a)?a.split(""):a,n=0;n<d;n++)if(n in h){var r=h[n];b.call(c,r,n,a)&&(e[g++]=r)}return e},Ra=Na.map?function(a,b,c){return Na.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=ra(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Sa=Na.every?function(a,b,c){return Na.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ra(a)?a.split(""):a,g=0;g<d;g++)if(g in
e&&!b.call(c,e[g],g,a))return l;return j};function Ta(a,b){var c=Ua(a,b,i);return 0>c?k:ra(a)?a.charAt(c):a[c]}function Ua(a,b,c){for(var d=a.length,e=ra(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return g;return-1}function Va(a,b){return 0<=Oa(a,b)}function Wa(a,b){var c=Oa(a,b);0<=c&&Na.splice.call(a,c,1)}function Xa(a,b,c){b=Ua(a,b,c);return 0<=b?(Na.splice.call(a,b,1),j):l}function Ya(a){return Na.concat.apply(Na,arguments)}
function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function ab(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(oa(d)||(e=pa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,n=0;n<h;n++)a[g+n]=d[n];else a.push(d)}}function bb(a,b,c,d){Na.splice.apply(a,cb(arguments,1))}function cb(a,b,c){return 2>=arguments.length?Na.slice.call(a,b):Na.slice.call(a,b,c)}function db(a,b){return a>b?1:a<b?-1:0};var eb,fb,hb,ib,jb;function kb(){return ga.navigator?ga.navigator.userAgent:k}function lb(){return ga.navigator}ib=hb=fb=eb=l;var mb;if(mb=kb()){var nb=lb();eb=0==mb.indexOf("Opera");fb=!eb&&-1!=mb.indexOf("MSIE");hb=!eb&&-1!=mb.indexOf("WebKit");ib=!eb&&!hb&&"Gecko"==nb.product}var ob=eb,u=fb,pb=ib,qb=hb,rb=lb();jb=-1!=(rb&&rb.platform||"").indexOf("Mac");var sb=!!lb()&&-1!=(lb().appVersion||"").indexOf("X11"),tb;
a:{var ub="",vb;if(ob&&ga.opera)var wb=ga.opera.version,ub="function"==typeof wb?wb():wb;else if(pb?vb=/rv\:([^\);]+)(\)|;)/:u?vb=/MSIE\s+([^\);]+)(\)|;)/:qb&&(vb=/WebKit\/(\S+)/),vb)var xb=vb.exec(kb()),ub=xb?xb[1]:"";if(u){var yb,zb=ga.document;yb=zb?zb.documentMode:i;if(yb>parseFloat(ub)){tb=String(yb);break a}}tb=ub}var Ab={};
function Bb(a){var b;if(!(b=Ab[a])){b=0;for(var c=Ea(String(tb)).split("."),d=Ea(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",n=d[g]||"",r=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var D=r.exec(h)||["","",""],K=w.exec(n)||["","",""];if(0==D[0].length&&0==K[0].length)break;b=((0==D[1].length?0:parseInt(D[1],10))<(0==K[1].length?0:parseInt(K[1],10))?-1:(0==D[1].length?0:parseInt(D[1],10))>(0==K[1].length?0:parseInt(K[1],10))?1:0)||((0==D[2].length)<
(0==K[2].length)?-1:(0==D[2].length)>(0==K[2].length)?1:0)||(D[2]<K[2]?-1:D[2]>K[2]?1:0)}while(0==b)}b=Ab[a]=0<=b}return b}var Cb={};function Db(a){return Cb[a]||(Cb[a]=u&&!!document.documentMode&&document.documentMode>=a)};var Fb,Gb=!u||Db(9),Hb=!pb&&!u||u&&Db(9)||pb&&Bb("1.9.1"),Ib=u&&!Bb("9"),Jb=u||ob||qb;function Kb(a){a=a.className;return ra(a)&&a.match(/\S+/g)||[]}function v(a,b){for(var c=Kb(a),d=cb(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)Va(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e}function x(a,b){var c=Kb(a),d=cb(arguments,1),e,g=d;e=Qa(c,function(a){return!Va(g,a)});a.className=e.join(" ");return e.length==c.length-d.length}function y(a,b){return Va(Kb(a),b)}function z(a,b,c){c?v(a,b):x(a,b)}function Lb(a,b){var c=!y(a,b);z(a,b,c);return c};function Mb(a,b){this.x=ja(a)?a:0;this.y=ja(b)?b:0}Mb.prototype.clone=function(){return new Mb(this.x,this.y)};function Nb(a,b){return new Mb(a.x-b.x,a.y-b.y)};function Ob(a,b){this.width=a;this.height=b}Ob.prototype.clone=function(){return new Ob(this.width,this.height)};Ob.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Ob.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Ob.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Pb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Qb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Rb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Sb(a){for(var b in a)return l;return j}function Tb(a,b){b in a&&delete a[b]}function Ub(a,b,c){b in a&&f(Error('The object already contains the key "'+b+'"'));a[b]=c}function Vb(a,b,c){return b in a?a[b]:c}var Wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Xb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<Wb.length;g++)c=Wb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Yb(a){return a?new Zb($b(a)):Fb||(Fb=new Zb)}function A(a){return ra(a)?document.getElementById(a):a}function ac(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):bc("*",a,b)}function B(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):ac(a,b)[0])||k}
function bc(a,b,c){var d=document,c=c||d,a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,g=0,h;h=c[g];g++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(g=e=0;h=c[g];g++)a=h.className,"function"==typeof a.split&&Va(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
var cc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function C(a){a=(a||window).document;a=dc(a)?a.documentElement:a.body;return new Ob(a.clientWidth,a.clientHeight)}function E(a,b,c){return ec(document,arguments)}
function ec(a,b){var c=b[0],d=b[1];if(!Gb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Fa(d.name),'"');if(d.type){c.push(' type="',Fa(d.type),'"');var e={};Xb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}var g=a.createElement(c);d&&(ra(d)?g.className=d:oa(d)?v.apply(k,[g].concat(d)):Pb(d,function(a,b){"style"==b?g.style.cssText=a:"class"==b?g.className=a:"for"==b?g.htmlFor=a:b in cc?g.setAttribute(cc[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?g.setAttribute(b,a):
g[b]=a}));if(2<b.length){d=function(b){b&&g.appendChild(ra(b)?a.createTextNode(b):b)};for(c=2;c<b.length;c++)if(e=b[c],pa(e)&&!(va(e)&&0<e.nodeType)){var h=t,n;a:{if((n=e)&&"number"==typeof n.length){if(va(n)){n="function"==typeof n.item||"string"==typeof n.item;break a}if(ta(n)){n="function"==typeof n.item;break a}}n=l}h(n?Za(e):e,d)}else d(e)}return g}function dc(a){return"CSS1Compat"==a.compatMode}function fc(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function gc(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}function F(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function hc(a){return Hb&&a.children!=i?a.children:Qa(a.childNodes,function(a){return 1==a.nodeType})}function ic(a){return a.nextElementSibling!=i?a.nextElementSibling:jc(a.nextSibling,j)}function jc(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function kc(a){if(Jb)return a.parentElement;a=a.parentNode;return va(a)&&1==a.nodeType?a:k}
function lc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function $b(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function mc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else fc(a),a.appendChild($b(a).createTextNode(b))}var nc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},oc={IMG:" ",BR:"\n"};function pc(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,sa(a)&&0<=a&&32768>a):l}
function qc(a){if(Ib&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];rc(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Ib||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function sc(a){var b=[];rc(a,b,l);return b.join("")}
function rc(a,b,c){if(!(a.nodeName in nc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in oc)b.push(oc[a.nodeName]);else for(a=a.firstChild;a;)rc(a,b,c),a=a.nextSibling}function tc(a,b,c){if(!b&&!c)return k;b=b?b.toUpperCase():k;a:{for(var d=0;a;){if((!b||a.nodeName==b)&&(!c||y(a,c))){c=a;break a}a=a.parentNode;d++}c=k}return c}function uc(a,b){return tc(a,k,b)}function Zb(a){this.G=a||ga.document||document}m=Zb.prototype;m.Ya=Yb;
m.b=function(a){return ra(a)?this.G.getElementById(a):a};m.Q=function(a,b,c){return ec(this.G,arguments)};m.createElement=function(a){return this.G.createElement(a)};m.createTextNode=function(a){return this.G.createTextNode(a)};function vc(a){return dc(a.G)}function wc(a){var b=a.G,a=!qb&&dc(b)?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Mb(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}m.appendChild=function(a,b){a.appendChild(b)};m.Qi=hc;
function xc(a,b){return b.firstElementChild!=i?b.firstElementChild:jc(b.firstChild,j)}m.contains=lc;u&&Bb(8);var yc={};function zc(a,b,c){a.innerHTML=b(c||yc,i,i)}function G(a,b){var c;a:if(c=(new Zb(i)||Yb()).createElement("DIV"),c.innerHTML=a(b||yc,i,i),1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType){c=d;break a}}return c}function H(a){return"object"===typeof a&&a&&0===a.On?a.content:String(a).replace(Ac,Bc)}
var Cc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Bc(a){return Cc[a]}var Ac=/[\x00\x22\x26\x27\x3c\x3e]/g;function I(){0!=Dc&&(this.Pn=Error().stack,Ec[wa(this)]=this)}var Dc=0,Ec={};I.prototype.ff=l;I.prototype.ca=function(){if(!this.ff&&(this.ff=j,this.n(),0!=Dc)){var a=wa(this);delete Ec[a]}};I.prototype.n=function(){this.Rk&&Fc.apply(k,this.Rk);if(this.Kj)for(;this.Kj.length;)this.Kj.shift()()};function Gc(a){a&&"function"==typeof a.ca&&a.ca()}function Fc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];pa(d)?Fc.apply(k,d):Gc(d)}};var Hc=!u||Db(9),Ic=!u||Db(9),Jc=u&&!Bb("9");!qb||Bb("528");pb&&Bb("1.9b")||u&&Bb("8")||ob&&Bb("9.5")||qb&&Bb("528");pb&&!Bb("8")||u&&Bb("9");function Kc(a,b){this.type=a;this.currentTarget=this.target=b}m=Kc.prototype;m.n=ba();m.ca=ba();m.Rc=l;m.defaultPrevented=l;m.Qf=j;m.stopPropagation=function(){this.Rc=j};m.preventDefault=function(){this.defaultPrevented=j;this.Qf=l};function Lc(a){a.preventDefault()};function Mc(a){Mc[" "](a);return a}Mc[" "]=la;function Nc(a,b){a&&this.init(a,b)}s(Nc,Kc);var Oc=[1,4,2];m=Nc.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.mh=l;m.ja=k;
m.init=function(a,b){var c=this.type=a.type;Kc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(pb){var e;a:{try{Mc(d.nodeName);e=j;break a}catch(g){}e=l}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=qb||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=qb||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.mh=jb?a.metaKey:a.ctrlKey;this.state=a.state;this.ja=a;a.defaultPrevented&&this.preventDefault();delete this.Rc};function Pc(a){return(Hc?0==a.ja.button:"click"==a.type?j:!!(a.ja.button&Oc[0]))&&!(qb&&jb&&a.ctrlKey)}
m.stopPropagation=function(){Nc.d.stopPropagation.call(this);this.ja.stopPropagation?this.ja.stopPropagation():this.ja.cancelBubble=j};m.preventDefault=function(){Nc.d.preventDefault.call(this);var a=this.ja;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,Jc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};m.dl=da("ja");m.n=ba();function Qc(){}var Rc=0;m=Qc.prototype;m.key=0;m.Sc=l;m.ig=l;m.init=function(a,b,c,d,e,g){ta(a)?this.lj=j:a&&a.handleEvent&&ta(a.handleEvent)?this.lj=l:f(Error("Invalid listener argument"));this.wd=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.rf=g;this.ig=l;this.key=++Rc;this.Sc=l};m.handleEvent=function(a){return this.lj?this.wd.call(this.rf||this.src,a):this.wd.handleEvent.call(this.wd,a)};var Sc={},Tc={},Uc={},Vc={};
function J(a,b,c,d,e){if(b){if(oa(b)){for(var g=0;g<b.length;g++)J(a,b[g],c,d,e);return k}var d=!!d,h=Tc;b in h||(h[b]={Y:0,Na:0});h=h[b];d in h||(h[d]={Y:0,Na:0},h.Y++);var h=h[d],n=wa(a),r;h.Na++;if(h[n]){r=h[n];for(g=0;g<r.length;g++)if(h=r[g],h.wd==c&&h.rf==e){if(h.Sc)break;return r[g].key}}else r=h[n]=[],h.Y++;var w=Wc,D=Ic?function(a){return w.call(D.src,D.key,a)}:function(a){a=w.call(D.src,D.key,a);if(!a)return a},g=D;g.src=a;h=new Qc;h.init(c,g,a,b,d,e);c=h.key;g.key=c;r.push(h);Sc[c]=h;Uc[n]||
(Uc[n]=[]);Uc[n].push(h);a.addEventListener?(a==ga||!a.yi)&&a.addEventListener(b,g,d):a.attachEvent(b in Vc?Vc[b]:Vc[b]="on"+b,g);return c}f(Error("Invalid event type"))}function Xc(a,b,c,d,e){if(oa(b))for(var g=0;g<b.length;g++)Xc(a,b[g],c,d,e);else a=J(a,b,c,d,e),Sc[a].ig=j}function Yc(a,b,c,d,e){if(oa(b))for(var g=0;g<b.length;g++)Yc(a,b[g],c,d,e);else if(d=!!d,a=Zc(a,b,d))for(g=0;g<a.length;g++)if(a[g].wd==c&&a[g].capture==d&&a[g].rf==e){$c(a[g].key);break}}
function $c(a){if(!Sc[a])return l;var b=Sc[a];if(b.Sc)return l;var c=b.src,d=b.type,e=b.proxy,g=b.capture;c.removeEventListener?(c==ga||!c.yi)&&c.removeEventListener(d,e,g):c.detachEvent&&c.detachEvent(d in Vc?Vc[d]:Vc[d]="on"+d,e);c=wa(c);Uc[c]&&(e=Uc[c],Wa(e,b),0==e.length&&delete Uc[c]);b.Sc=j;if(b=Tc[d][g][c])b.Hj=j,ad(d,g,c,b);delete Sc[a];return j}
function ad(a,b,c,d){if(!d.zf&&d.Hj){for(var e=0,g=0;e<d.length;e++)d[e].Sc?d[e].proxy.src=k:(e!=g&&(d[g]=d[e]),g++);d.length=g;d.Hj=l;0==g&&(delete Tc[a][b][c],Tc[a][b].Y--,0==Tc[a][b].Y&&(delete Tc[a][b],Tc[a].Y--),0==Tc[a].Y&&delete Tc[a])}}function Zc(a,b,c){var d=Tc;return b in d&&(d=d[b],c in d&&(d=d[c],a=wa(a),d[a]))?d[a]:k}
function bd(a,b,c,d,e){var g=1,b=wa(b);if(a[b]){a.Na--;a=a[b];a.zf?a.zf++:a.zf=1;try{for(var h=a.length,n=0;n<h;n++){var r=a[n];r&&!r.Sc&&(g&=cd(r,e)!==l)}}finally{a.zf--,ad(c,d,b,a)}}return Boolean(g)}function cd(a,b){a.ig&&$c(a.key);return a.handleEvent(b)}
function Wc(a,b){if(!Sc[a])return j;var c=Sc[a],d=c.type,e=Tc;if(!(d in e))return j;var e=e[d],g,h;if(!Ic){g=b||ka("window.event");var n=j in e,r=l in e;if(n){if(0>g.keyCode||g.returnValue!=i)return j;a:{var w=l;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(D){w=j}if(w||g.returnValue==i)g.returnValue=j}}w=new Nc;w.init(g,this);g=j;try{if(n){for(var K=[],aa=w.currentTarget;aa;aa=aa.parentNode)K.push(aa);h=e[j];h.Na=h.Y;for(var S=K.length-1;!w.Rc&&0<=S&&h.Na;S--)w.currentTarget=K[S],g&=bd(h,K[S],d,
j,w);if(r){h=e[l];h.Na=h.Y;for(S=0;!w.Rc&&S<K.length&&h.Na;S++)w.currentTarget=K[S],g&=bd(h,K[S],d,l,w)}}else g=cd(c,w)}finally{K&&(K.length=0)}return g}d=new Nc(b,this);return g=cd(c,d)};function dd(){I.call(this)}s(dd,I);m=dd.prototype;m.yi=j;m.Gf=k;m.Dh=ca("Gf");m.addEventListener=function(a,b,c,d){J(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Yc(this,a,b,c,d)};
m.dispatchEvent=function(a){var b=a.type||a,c=Tc;if(b in c){if(ra(a))a=new Kc(a,this);else if(a instanceof Kc)a.target=a.target||this;else{var d=a,a=new Kc(b,this);Xb(a,d)}var d=1,e,c=c[b],b=j in c,g;if(b){e=[];for(g=this;g;g=g.Gf)e.push(g);g=c[j];g.Na=g.Y;for(var h=e.length-1;!a.Rc&&0<=h&&g.Na;h--)a.currentTarget=e[h],d&=bd(g,e[h],a.type,j,a)&&a.Qf!=l}if(l in c)if(g=c[l],g.Na=g.Y,b)for(h=0;!a.Rc&&h<e.length&&g.Na;h++)a.currentTarget=e[h],d&=bd(g,e[h],a.type,l,a)&&a.Qf!=l;else for(e=this;!a.Rc&&e&&
g.Na;e=e.Gf)a.currentTarget=e,d&=bd(g,e,a.type,l,a)&&a.Qf!=l;a=Boolean(d)}else a=j;return a};m.n=function(){dd.d.n.call(this);var a,b=0,c=a==k;a=!!a;if(this==k)Pb(Uc,function(d){for(var e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)$c(g.key),b++}});else{var d=wa(this);if(Uc[d])for(var d=Uc[d],e=d.length-1;0<=e;e--){var g=d[e];if(c||a==g.capture)$c(g.key),b++}}this.Gf=k};function ed(a,b){I.call(this);this.U=a||1;this.Ie=b||fd;this.hg=p(this.Ph,this);this.Tg=q()}s(ed,dd);ed.prototype.enabled=l;var fd=ga.window;m=ed.prototype;m.xa=k;m.Ph=function(){if(this.enabled){var a=q()-this.Tg;0<a&&a<0.8*this.U?this.xa=this.Ie.setTimeout(this.hg,this.U-a):(this.dispatchEvent(gd),this.enabled&&(this.xa=this.Ie.setTimeout(this.hg,this.U),this.Tg=q()))}};m.start=function(){this.enabled=j;this.xa||(this.xa=this.Ie.setTimeout(this.hg,this.U),this.Tg=q())};
m.stop=function(){this.enabled=l;this.xa&&(this.Ie.clearTimeout(this.xa),this.xa=k)};m.n=function(){ed.d.n.call(this);this.stop();delete this.Ie};var gd="tick";function L(a,b,c){ta(a)?c&&(a=p(a,c)):a&&"function"==typeof a.handleEvent?a=p(a.handleEvent,a):f(Error("Invalid listener argument"));return 2147483647<b?-1:fd.setTimeout(a,b||0)};function M(){I.call(this);this.eb=[];this.pc={}}s(M,I);m=M.prototype;m.qj=1;m.Jf=0;m.subscribe=function(a,b,c){var d=this.pc[a];d||(d=this.pc[a]=[]);var e=this.qj;this.eb[e]=a;this.eb[e+1]=b;this.eb[e+2]=c;this.qj=e+3;d.push(e);return e};m.xk=function(a){if(0!=this.Jf)return this.ue||(this.ue=[]),this.ue.push(a),l;var b=this.eb[a];if(b){var c=this.pc[b];c&&Wa(c,a);delete this.eb[a];delete this.eb[a+1];delete this.eb[a+2]}return!!b};
m.c=function(a,b){var c=this.pc[a];if(c){this.Jf++;for(var d=cb(arguments,1),e=0,g=c.length;e<g;e++){var h=c[e];this.eb[h+1].apply(this.eb[h+2],d)}this.Jf--;if(this.ue&&0==this.Jf)for(;c=this.ue.pop();)this.xk(c)}};m.clear=function(a){if(a){var b=this.pc[a];b&&(t(b,this.xk,this),delete this.pc[a])}else this.eb.length=0,this.pc={}};m.n=function(){M.d.n.call(this);delete this.eb;delete this.pc;delete this.ue};function hd(){M.call(this);this.Yd=new ed(1E3);this.rk=new ed(3E4);this.sk=[];this.Ag=[]}s(hd,M);ma(hd);hd.prototype.init=function(){this.Yd.start();this.rk.start();J(this.Yd,gd,p(function(){t(this.Ag,function(a,b){a.time<q()&&(a.callback(),Na.splice.call(this.Ag,b,1))},this)},this));J(this.rk,gd,p(function(){t(this.sk,function(a){mc(a.element,id(a.time.getTime()))},this)},this))};function jd(a,b,c){86400>(q()-b.getTime())/1E3&&a.sk.push({time:b,element:c})}
function kd(a,b,c){86400>(q()-b)/1E3&&a.Ag.push({time:b,callback:c})};function N(){M.call(this);this.wm=j;var a=A("controller");this.Vc=!a||y(a,"sidebar-toggled");this.Ic=a&&y(a,"guide-toggled");a=A("guide");this.mc=!!a&&y(a,"timeless");this.subscribe(ld,ca("Vc"),this);this.subscribe(md,ca("Ic"),this);this.subscribe(nd,ca("wm"),this)}s(N,M);ma(N);function od(a,b){var c=A("toggle-pending");mc(c,b);O(c,!!b)}var nd="play",md="toggle-guide",ld="toggle-sidebar";var pd={rn:["BC","AD"],qn:["Before Christ","Anno Domini"],tn:"JFMAMJJASOND".split(""),Bn:"JFMAMJJASOND".split(""),sn:"January February March April May June July August September October November December".split(" "),An:"January February March April May June July August September October November December".split(" "),xn:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Dn:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Hn:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Fn:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),zn:"Sun Mon Tue Wed Thu Fri Sat".split(" "),En:"Sun Mon Tue Wed Thu Fri Sat".split(" "),un:"SMTWTFS".split(""),Cn:"SMTWTFS".split(""),yn:["Q1","Q2","Q3","Q4"],wn:["1st quarter","2nd quarter","3rd quarter","4th quarter"],on:["AM","PM"],pn:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Gn:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Ek:6,In:[5,6],Fk:5};var qd=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,rd=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,sd=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;
function td(a){var b=new ud(2E3),a=Ea(a),a=a.split(-1==a.indexOf("T")?" ":"T"),c;var d=a[0].match(qd);if(d){var e=Number(d[2]),g=Number(d[3]),h=Number(d[4]);c=Number(d[5]);var n=Number(d[6])||1;b.setFullYear(Number(d[1]));h?(b.setDate(1),b.setMonth(0),b.add(new vd(wd,h-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new vd(wd,(4>=d?1-d:8-d)+(Number(n)+7*(Number(c)-1))-1))):(e&&(b.setDate(1),b.setMonth(e-1)),g&&b.setDate(g));c=j}else c=l;if(c&&!(c=2>a.length))a=a[1],c=a.match(sd),n=0,c&&("Z"!=
c[0]&&(n=60*c[2]+Number(c[3]),n*="-"==c[1]?1:-1),n-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(rd))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=n&&b.setTime(b.getTime()+6E4*n),c=j):c=l;return c?b:k}
function vd(a,b,c,d,e,g){ra(a)?(this.gb=a==xd?b:0,this.Za=a==yd?b:0,this.Va=a==wd?b:0,this.Ka=a==zd?b:0,this.La=a==Ad?b:0,this.Pa=a==Bd?b:0):(this.gb=a||0,this.Za=b||0,this.Va=c||0,this.Ka=d||0,this.La=e||0,this.Pa=g||0)}
vd.prototype.Je=function(a){var b=Math.min(this.gb,this.Za,this.Va,this.Ka,this.La,this.Pa),c=Math.max(this.gb,this.Za,this.Va,this.Ka,this.La,this.Pa);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.gb||a)&&c.push(Math.abs(this.gb)+"Y");(this.Za||a)&&c.push(Math.abs(this.Za)+"M");(this.Va||a)&&c.push(Math.abs(this.Va)+"D");if(this.Ka||this.La||this.Pa||a)c.push("T"),(this.Ka||a)&&c.push(Math.abs(this.Ka)+"H"),(this.La||a)&&c.push(Math.abs(this.La)+"M"),
(this.Pa||a)&&c.push(Math.abs(this.Pa)+"S");return c.join("")};vd.prototype.clone=function(){return new vd(this.gb,this.Za,this.Va,this.Ka,this.La,this.Pa)};var xd="y",yd="m",wd="d",zd="h",Ad="n",Bd="s";vd.prototype.add=function(a){this.gb+=a.gb;this.Za+=a.Za;this.Va+=a.Va;this.Ka+=a.Ka;this.La+=a.La;this.Pa+=a.Pa};
function Cd(a,b,c){sa(a)?(this.u=new Date(a,b||0,c||1),Dd(this,c||1)):va(a)?(this.u=new Date(a.getFullYear(),a.getMonth(),a.getDate()),Dd(this,a.getDate())):(this.u=new Date(q()),this.u.setHours(0),this.u.setMinutes(0),this.u.setSeconds(0),this.u.setMilliseconds(0))}m=Cd.prototype;m.lf=pd.Ek;m.mf=pd.Fk;m.clone=function(){var a=new Cd(this.u);a.lf=this.lf;a.mf=this.mf;return a};m.getFullYear=function(){return this.u.getFullYear()};m.getYear=function(){return this.getFullYear()};m.getMonth=function(){return this.u.getMonth()};
m.getDate=function(){return this.u.getDate()};m.getTime=function(){return this.u.getTime()};m.getDay=function(){return this.u.getDay()};m.getUTCHours=function(){return this.u.getUTCHours()};m.getTimezoneOffset=function(){return this.u.getTimezoneOffset()};function Ed(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+La(c)+":"+La(b);return a}m.set=function(a){this.u=new Date(a.getFullYear(),a.getMonth(),a.getDate())};m.setFullYear=function(a){this.u.setFullYear(a)};
m.setMonth=function(a){this.u.setMonth(a)};m.setDate=function(a){this.u.setDate(a)};m.setTime=function(a){this.u.setTime(a)};
m.add=function(a){if(a.gb||a.Za){var b=this.getMonth()+a.Za+12*a.gb,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Va&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Va),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),Dd(this,a.getDate()))};m.Je=function(a,b){return[this.getFullYear(),La(this.getMonth()+1),La(this.getDate())].join(a?"-":"")+(b?Ed(this):"")};m.toString=function(){return this.Je()};function Dd(a,b){a.getDate()!=b&&a.u.setUTCHours(a.u.getUTCHours()+(a.getDate()<b?1:-1))}m.valueOf=function(){return this.u.valueOf()};function ud(a,b,c,d,e,g,h){this.u=sa(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():q())}s(ud,Cd);m=ud.prototype;m.getHours=function(){return this.u.getHours()};
m.getMinutes=function(){return this.u.getMinutes()};m.getSeconds=function(){return this.u.getSeconds()};m.getUTCHours=function(){return this.u.getUTCHours()};m.setHours=function(a){this.u.setHours(a)};m.setMinutes=function(a){this.u.setMinutes(a)};m.setSeconds=function(a){this.u.setSeconds(a)};m.setMilliseconds=function(a){this.u.setMilliseconds(a)};m.setUTCHours=function(a){this.u.setUTCHours(a)};
m.add=function(a){Cd.prototype.add.call(this,a);a.Ka&&this.setHours(this.u.getHours()+a.Ka);a.La&&this.setMinutes(this.u.getMinutes()+a.La);a.Pa&&this.setSeconds(this.u.getSeconds()+a.Pa)};m.Je=function(a,b){var c=Cd.prototype.Je.call(this,a);return a?c+" "+La(this.getHours())+":"+La(this.getMinutes())+":"+La(this.getSeconds())+(b?Ed(this):""):c+"T"+La(this.getHours())+La(this.getMinutes())+La(this.getSeconds())+(b?Ed(this):"")};m.toString=function(){return this.Je()};
m.clone=function(){var a=new ud(this.u);a.lf=this.lf;a.mf=this.mf;return a};function Fd(a){I.call(this);this.T=a;this.W=[]}s(Fd,I);var Gd=[];function P(a,b,c,d,e){oa(c)||(Gd[0]=c,c=Gd);for(var g=0;g<c.length;g++){var h=J(b,c[g],d||a,e||l,a.T||a);a.W.push(h)}return a}function Hd(a,b,c,d,e,g){if(oa(c))for(var h=0;h<c.length;h++)Hd(a,b,c[h],d,e,g);else{a:{d=d||a;g=g||a.T||a;e=!!e;if(b=Zc(b,c,e))for(c=0;c<b.length;c++)if(!b[c].Sc&&b[c].wd==d&&b[c].capture==e&&b[c].rf==g){b=b[c];break a}b=k}b&&(b=b.key,$c(b),Wa(a.W,b))}return a}function Id(a){t(a.W,$c);a.W.length=0}
Fd.prototype.n=function(){Fd.d.n.call(this);Id(this)};Fd.prototype.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};function Jd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Jd.prototype.clone=function(){return new Jd(this.top,this.right,this.bottom,this.left)};Jd.prototype.contains=function(a){return!this||!a?l:a instanceof Jd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Kd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Kd.prototype.clone=function(){return new Kd(this.left,this.top,this.width,this.height)};Kd.prototype.contains=function(a){return a instanceof Kd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Ld(a,b,c){ra(b)?Md(a,c,b):Pb(b,Ba(Md,a))}function Md(a,b,c){a.style[Ma(c)]=b}function Nd(a,b){var c=$b(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}function Od(a,b){return a.currentStyle?a.currentStyle[b]:k}function Pd(a,b){return Nd(a,b)||Od(a,b)||a.style&&a.style[b]}function Qd(a,b,c){var d,e=pb&&(jb||sb)&&Bb("1.9");b instanceof Mb?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Rd(d,e);a.style.top=Rd(b,e)}
function Sd(a){return new Mb(a.offsetLeft,a.offsetTop)}function Td(a){var b=a.getBoundingClientRect();u&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Ud(a){if(u&&!Db(8))return a.offsetParent;for(var b=$b(a),c=Pd(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Pd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function Vd(a){for(var b=new Jd(0,Infinity,Infinity,0),c=Yb(a),d=c.G.body,e=c.G.documentElement,g=!qb&&dc(c.G)?c.G.documentElement:c.G.body;a=Ud(a);)if((!u||0!=a.clientWidth)&&(!qb||0!=a.clientHeight||a!=d)&&a!=d&&a!=e&&"visible"!=Pd(a,"overflow")){var h=Wd(a),n;n=a;if(pb&&!Bb("1.9")){var r=parseFloat(Nd(n,"borderLeftWidth"));if(Xd(n))var w=n.offsetWidth-n.clientWidth-r-parseFloat(Nd(n,"borderRightWidth")),r=r+w;n=new Mb(r,parseFloat(Nd(n,"borderTopWidth")))}else n=new Mb(n.clientLeft,n.clientTop);
h.x+=n.x;h.y+=n.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=C(c.G.parentWindow||c.G.defaultView);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:k}
function Wd(a){var b,c=$b(a),d=Pd(a,"position"),e=pb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new Mb(0,0),h;b=c?$b(c):document;h=u&&!Db(9)&&!vc(Yb(b))?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect)b=Td(a),a=wc(Yb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=
b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(qb&&"fixed"==Pd(b,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(ob||qb&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=Ud(b))&&b!=c.body&&b!=h;)if(g.x-=b.scrollLeft,!ob||"TR"!=b.tagName)g.y-=b.scrollTop}return g}function Yd(a,b){var c,d=Wd(a);b instanceof Mb&&(c=b.y,b=b.x);Qd(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))}
function Rd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Zd(a,b){a.style.height=Rd(b,j)}function $d(a,b){a.style.width=Rd(b,j)}function Q(a){if("none"!=Pd(a,"display"))return ae(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=ae(a);b.display=c;b.position=e;b.visibility=d;return a}
function ae(a){var b=a.offsetWidth,c=a.offsetHeight,d=qb&&!b&&!c;return(!ja(b)||d)&&a.getBoundingClientRect?(a=Td(a),new Ob(a.right-a.left,a.bottom-a.top)):new Ob(b,c)}function be(a){var b=Wd(a),a=Q(a);return new Kd(b.x,b.y,a.width,a.height)}function ce(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function O(a,b){a.style.display=b?"":"none"}function Xd(a){return"rtl"==Pd(a,"direction")}
var de=pb?"MozUserSelect":qb?"WebkitUserSelect":k;function ee(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function fe(a,b){if(u){var c=ee(a,Od(a,b+"Left")),d=ee(a,Od(a,b+"Right")),e=ee(a,Od(a,b+"Top")),g=ee(a,Od(a,b+"Bottom"));return new Jd(e,d,g,c)}c=Nd(a,b+"Left");d=Nd(a,b+"Right");e=Nd(a,b+"Top");g=Nd(a,b+"Bottom");return new Jd(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var ge={thin:2,medium:4,thick:6};function he(a,b){if("none"==Od(a,b+"Style"))return 0;var c=Od(a,b+"Width");return c in ge?ge[c]:ee(a,c)}
function ie(a){if(u){var b=he(a,"borderLeft"),c=he(a,"borderRight"),d=he(a,"borderTop"),a=he(a,"borderBottom");return new Jd(d,c,a,b)}b=Nd(a,"borderLeftWidth");c=Nd(a,"borderRightWidth");d=Nd(a,"borderTopWidth");a=Nd(a,"borderBottomWidth");return new Jd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var je=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function ke(a,b,c){I.call(this);this.target=a;this.handle=b||a;this.uj=c||new Kd(NaN,NaN,NaN,NaN);this.G=$b(a);this.z=new Fd(this);J(this.handle,["touchstart","mousedown"],this.Wc,l,this)}s(ke,dd);var le=u||pb&&Bb("1.9.3");m=ke.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.lk=0;m.mk=0;m.fd=0;m.gd=0;m.yg=j;m.ma=l;m.Jg=0;m.Ql=0;m.Cl=l;m.Pe=l;m.i=da("z");m.Ch=function(a){this.Jg=Math.pow(a,2)};m.fk=ca("Rf");m.cb=ca("yg");
m.n=function(){ke.d.n.call(this);Yc(this.handle,["touchstart","mousedown"],this.Wc,l,this);Id(this.z);le&&this.G.releaseCapture();this.z=this.handle=this.target=k};function me(a){ja(a.bb)||(a.bb=Xd(a.target));return a.bb}
m.Wc=function(a){var b="mousedown"==a.type;if(this.yg&&!this.ma&&(!b||Pc(a))){ne(a);if(0==this.Jg)if(this.dispatchEvent(new oe("start",this,a.clientX,a.clientY,a)))this.ma=j,a.preventDefault();else return;else a.preventDefault();var b=this.G,c=b.documentElement,d=!le;P(this.z,b,["touchmove","mousemove"],this.wl,d);P(this.z,b,["touchend","mouseup"],this.Dc,d);le?(c.setCapture(l),P(this.z,c,"losecapture",this.Dc)):P(this.z,b?b.parentWindow||b.defaultView:window,"blur",this.Dc);u&&this.Cl&&P(this.z,
b,"dragstart",Lc);this.Rf&&P(this.z,this.Rf,"scroll",this.Qj,d);this.clientX=this.lk=a.clientX;this.clientY=this.mk=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Pe?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Pd(a,"position")&&(c=$b(a).documentElement),c?(pb?(d=ie(c),b+=d.left):Db(8)&&(d=ie(c),b-=d.left),a=Xd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.fd=a;this.gd=this.target.offsetTop;this.jh=wc(Yb(this.G));this.Ql=q()}else this.dispatchEvent("earlycancel")};
m.Dc=function(a,b){Id(this.z);le&&this.G.releaseCapture();if(this.ma){ne(a);this.ma=l;var c=pe(this,this.fd),d=qe(this,this.gd);this.dispatchEvent(new oe("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function ne(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.ja.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.ja.changedTouches[0],a.currentTarget)}
m.wl=function(a){if(this.yg){ne(a);var b=(this.Pe&&me(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.ma){var d=this.lk-this.clientX,e=this.mk-this.clientY;if(d*d+e*e>this.Jg)if(this.dispatchEvent(new oe("start",this,a.clientX,a.clientY,a)))this.ma=j;else{this.ff||this.Dc(a);return}}c=re(this,b,c);b=c.x;c=c.y;this.ma&&this.dispatchEvent(new oe("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(se(this,a,b,c),a.preventDefault())}};function re(a,b,c){var d=wc(Yb(a.G)),b=b+(d.x-a.jh.x),c=c+(d.y-a.jh.y);a.jh=d;a.fd+=b;a.gd+=c;b=pe(a,a.fd);a=qe(a,a.gd);return new Mb(b,a)}m.Qj=function(a){var b=re(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;se(this,a,b.x,b.y)};function se(a,b,c,d){a.be(c,d);a.dispatchEvent(new oe("drag",a,b.clientX,b.clientY,b,c,d))}
function pe(a,b){var c=a.uj,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function qe(a,b){var c=a.uj,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}m.be=function(a,b){this.Pe&&me(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function oe(a,b,c,d,e,g,h,n){Kc.call(this,a);this.clientX=c;this.clientY=d;this.Xe=e;this.left=ja(g)?g:b.fd;this.top=ja(h)?h:b.gd;this.Uk=b;this.Sk=!!n}s(oe,Kc);function te(){I.call(this);this.m=ue;this.ee=this.startTime=k}s(te,dd);var ue=0;te.prototype.cc=function(){this.za("begin")};te.prototype.dc=function(){this.za("end")};te.prototype.za=function(a){this.dispatchEvent(a)};function ve(a,b,c){I.call(this);this.Wb=a;this.U=b||0;this.T=c;this.jg=p(this.ce,this)}s(ve,I);m=ve.prototype;m.Ca=0;m.n=function(){ve.d.n.call(this);this.stop();delete this.Wb;delete this.T};m.start=function(a){this.stop();this.Ca=L(this.jg,ja(a)?a:this.U)};m.stop=function(){this.Tb()&&fd.clearTimeout(this.Ca);this.Ca=0};m.kf=function(){this.stop();this.ce()};m.Tb=function(){return 0!=this.Ca};m.ce=function(){this.Ca=0;this.Wb&&this.Wb.call(this.T)};var we;we=ea(k);var xe={},ye=k;function ze(a){a=wa(a);delete xe[a];Sb(xe)&&ye&&ye.stop()}function Ae(){ye||(ye=new ve(function(){var a=q();Pb(xe,function(c){Be(c,a)});Sb(xe)||Ae()},20));var a=ye;a.Tb()||a.start()};function Ce(a,b,c,d){te.call(this);(!oa(a)||!oa(b))&&f(Error("Start and end parameters must be arrays"));a.length!=b.length&&f(Error("Start and end points must be the same length"));this.Ee=a;this.Xk=b;this.duration=c;this.di=d;this.coords=[];this.Pe=l}s(Ce,te);m=Ce.prototype;m.Li=0;m.Ma=0;m.Rg=k;
m.play=function(a){if(a||this.m==ue)this.Ma=0,this.coords=this.Ee;else if(1==this.m)return l;ze(this);this.startTime=a=q();-1==this.m&&(this.startTime-=this.duration*this.Ma);this.ee=this.startTime+this.duration;this.Rg=this.startTime;this.Ma||this.cc();this.za("play");-1==this.m&&this.za("resume");this.m=1;var b=wa(this);b in xe||(xe[b]=this);Ae();Be(this,a);return j};m.stop=function(a){ze(this);this.m=ue;a&&(this.Ma=1);De(this,this.Ma);this.za("stop");this.dc()};m.nf=da("Ma");
m.n=function(){this.m==ue||this.stop(l);this.za("destroy");Ce.d.n.call(this)};function Be(a,b){a.Ma=(b-a.startTime)/(a.ee-a.startTime);1<=a.Ma&&(a.Ma=1);a.Li=1E3/(b-a.Rg);a.Rg=b;De(a,a.Ma);1==a.Ma?(a.m=ue,ze(a),a.za("finish"),a.dc()):1==a.m&&a.ah()}function De(a,b){ta(a.di)&&(b=a.di(b));a.coords=Array(a.Ee.length);for(var c=0;c<a.Ee.length;c++)a.coords[c]=(a.Xk[c]-a.Ee[c])*b+a.Ee[c]}m.ah=function(){this.za("animate")};m.za=function(a){this.dispatchEvent(new Ee(a,this))};
function Ee(a,b){Kc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.zo=b.coords[2];this.duration=b.duration;this.Ma=b.nf();this.bo=b.Li;this.state=b.m;this.Kn=b}s(Ee,Kc);function Fe(a,b,c,d,e){Ce.call(this,b,c,d,e);this.element=a}s(Fe,Ce);m=Fe.prototype;m.Ne=la;m.nj=function(){ja(this.bb)||(this.bb=Xd(this.element));return this.bb};m.ah=function(){this.Ne();Fe.d.ah.call(this)};m.dc=function(){this.Ne();Fe.d.dc.call(this)};m.cc=function(){this.Ne();Fe.d.cc.call(this)};function Ge(a,b,c,d,e){(2!=b.length||2!=c.length)&&f(Error("Start and end points must be 2D"));Fe.apply(this,arguments)}s(Ge,Fe);
Ge.prototype.Ne=function(){if(this.Pe){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);a.scrollLeft=Xd(a)?pb?-b:!u||!Bb("8")?a.scrollWidth-b-a.clientWidth:b:b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};function He(a,b,c,d,e){sa(b)&&(b=[b]);sa(c)&&(c=[c]);Fe.call(this,a,b,c,d,e);(1!=b.length||1!=c.length)&&f(Error("Start and end points must be 1D"))}s(He,Fe);He.prototype.Ne=function(){ce(this.element,this.coords[0])};
He.prototype.show=function(){this.element.style.display=""};He.prototype.hide=function(){this.element.style.display="none"};function Ie(a,b,c){He.call(this,a,1,0,b,c)}s(Ie,He);Ie.prototype.cc=function(){this.show();Ie.d.cc.call(this)};Ie.prototype.dc=function(){this.hide();Ie.d.dc.call(this)};function Je(a,b,c){He.call(this,a,0,1,b,c)}s(Je,He);Je.prototype.cc=function(){this.show();Je.d.cc.call(this)};function Ke(){}ma(Ke);Ke.prototype.Wl=0;Ke.a();function R(a){I.call(this);this.Bc=a||Yb();this.bb=Le}s(R,dd);R.prototype.Bl=Ke.a();var Le=k;function Me(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}f(Error("Invalid component state"))}m=R.prototype;m.Ca=k;m.aa=l;m.e=k;m.bb=k;m.q=k;m.R=k;m.ga=k;m.ya=k;m.Dk=l;
function Ne(a){return a.Ca||(a.Ca=":"+(a.Bl.Wl++).toString(36))}m.b=da("e");m.i=function(){return this.pd||(this.pd=new Fd(this))};m.Uf=function(a){this==a&&f(Error("Unable to set parent component"));a&&(this.R&&this.Ca&&this.R.ya&&this.Ca&&Vb(this.R.ya,this.Ca)&&this.R!=a)&&f(Error("Unable to set parent component"));this.R=a;R.d.Dh.call(this,a)};m.getParent=da("R");m.Dh=function(a){this.R&&this.R!=a&&f(Error("Method not supported"));R.d.Dh.call(this,a)};m.Ya=da("Bc");m.Q=function(){this.e=this.Bc.createElement("div")};
function Oe(a,b){a.aa&&f(Error("Component already rendered"));a.e||a.Q();b?b.insertBefore(a.e,k):a.Bc.G.body.appendChild(a.e);(!a.R||a.R.aa)&&a.w()}m.g=function(a){this.aa&&f(Error("Component already rendered"));if(a&&this.uc(a)){this.Dk=j;if(!this.Bc||this.Bc.G!=$b(a))this.Bc=Yb(a);this.A(a);this.w()}else f(Error("Invalid element to decorate"))};m.uc=ea(j);m.A=ca("e");m.w=function(){this.aa=j;Pe(this,function(a){!a.aa&&a.b()&&a.w()})};
m.Ec=function(){Pe(this,function(a){a.aa&&a.Ec()});this.pd&&Id(this.pd);this.aa=l};m.n=function(){R.d.n.call(this);this.aa&&this.Ec();this.pd&&(this.pd.ca(),delete this.pd);Pe(this,function(a){a.ca()});!this.Dk&&this.e&&F(this.e);this.R=this.q=this.e=this.ya=this.ga=k};
function Qe(a,b){var c=a.ga?a.ga.length:0;b.aa&&!a.aa&&f(Error("Component already rendered"));(0>c||c>(a.ga?a.ga.length:0))&&f(Error("Child component index out of bounds"));if(!a.ya||!a.ga)a.ya={},a.ga=[];if(b.getParent()==a){var d=Ne(b);a.ya[d]=b;Wa(a.ga,b)}else Ub(a.ya,Ne(b),b);b.Uf(a);bb(a.ga,c,0,b);b.aa&&a.aa&&b.getParent()==a?(d=a.nb(),d.insertBefore(b.b(),d.childNodes[c]||k)):a.aa&&(!b.aa&&b.e&&b.e.parentNode)&&b.w()}m.nb=da("e");
m.nj=function(){this.bb==k&&(this.bb=Xd(this.aa?this.e:this.Bc.G.body));return this.bb};m.Uc=function(a){this.aa&&f(Error("Component already rendered"));this.bb=a};function Pe(a,b){a.ga&&t(a.ga,b,i)}m.removeChild=function(a,b){if(a){var c=ra(a)?a:Ne(a),a=this.ya&&c?Vb(this.ya,c)||k:k;c&&a&&(Tb(this.ya,c),Wa(this.ga,a),b&&(a.Ec(),a.e&&F(a.e)),a.Uf(k))}a||f(Error("Child is not in parent component"));return a};function Re(a,b,c,d,e){if(!u&&(!qb||!Bb("525")))return j;if(jb&&e)return Se(a);if(e&&!d||!c&&(17==b||18==b)||u&&d&&b==a)return l;switch(a){case 13:return!(u&&Db(9));case 27:return!qb}return Se(a)}function Se(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||qb&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}}
function Te(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Ue(){}var Ve;ma(Ue);m=Ue.prototype;m.od=ba();m.Q=function(a){var b=a.Ya().Q("div",We(this,a).join(" "),a.ib);Xe(this,a,b);return b};m.nb=function(a){return a};m.de=function(a,b,c){if(a=a.b?a.b():a)if(u&&!Bb("7")){var d=Ye(Kb(a),b);d.push(b);Ba(c?v:x,a).apply(k,d)}else z(a,b,c)};m.uc=ea(j);
m.g=function(a,b){if(b.id){var c=b.id;a.R&&a.R.ya&&(Tb(a.R.ya,a.Ca),Ub(a.R.ya,c,a));a.Ca=c}(c=this.nb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Za(c.childNodes):c.firstChild,a.ib=c):a.ib=k;var d=0,e=this.ta(),g=this.ta(),h=l,n=l,c=l,r=Kb(b);t(r,function(a){if(!h&&a==e)h=j,g==e&&(n=j);else if(!n&&a==g)n=j;else{var b=d;if(!this.nk){this.af||Ze(this);var c=this.af,r={},w;for(w in c)r[c[w]]=w;this.nk=r}a=parseInt(this.nk[a],10);d=b|(isNaN(a)?0:a)}},this);a.m=d;h||(r.push(e),g==e&&(n=j));n||r.push(g);
var w=a.Wa;w&&r.push.apply(r,w);if(u&&!Bb("7")){var D=Ye(r);0<D.length&&(r.push.apply(r,D),c=j)}if(!h||!n||w||c)b.className=r.join(" ");Xe(this,a,b);return b};m.hj=function(a){a.nj()&&this.Uc(a.b(),j);a.isEnabled()&&this.Ld(a,a.ob())};function Xe(a,b,c){b.isEnabled()||a.fb(c,1,j);b.m&8&&a.fb(c,8,j);b.pa&16&&a.fb(c,16,$e(b));b.pa&64&&a.fb(c,64,!!(b.m&64))}
m.Kd=function(a,b){var c=!b,d=u||ob?a.getElementsByTagName("*"):k;if(de){if(c=c?"none":"",a.style[de]=c,d)for(var e=0,g;g=d[e];e++)g.style[de]=c}else if(u||ob)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};m.Uc=function(a,b){this.de(a,this.ta()+"-rtl",b)};m.Pg=function(a){var b;return a.pa&32&&(b=a.Rb())?pc(b):l};
m.Ld=function(a,b){var c;if(a.pa&32&&(c=a.Rb())){if(!b&&a.uf()){try{c.blur()}catch(d){}a.uf()&&a.Si()}pc(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};m.sb=function(a,b){O(a,b)};m.wa=function(a,b,c){var d=a.b();if(d){var e=af(this,b);e&&this.de(a,e,c);this.fb(d,b,c)}};m.fb=function(a,b,c){Ve||(Ve={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Ve[b])&&a.setAttribute("aria-"+b,c)};
m.Tc=function(a,b){var c=this.nb(a);if(c&&(fc(c),b))if(ra(b))mc(c,b);else{var d=function(a){if(a){var b=$b(c);c.appendChild(ra(a)?b.createTextNode(a):a)}};oa(b)?t(b,d):pa(b)&&!("nodeType"in b)?t(Za(b),d):d(b)}};m.Rb=function(a){return a.b()};m.ta=ea("goog-control");function We(a,b){var c=a.ta(),d=[c],e=a.ta();e!=c&&d.push(e);c=b.m;for(e=[];c;){var g=c&-c;e.push(af(a,g));c&=~g}d.push.apply(d,e);(c=b.Wa)&&d.push.apply(d,c);u&&!Bb("7")&&d.push.apply(d,Ye(d));return d}
function Ye(a,b){var c=[];b&&(a=a.concat([b]));t([],function(d){Sa(d,Ba(Va,a))&&(!b||Va(d,b))&&c.push(d.join("_"))});return c}function af(a,b){a.af||Ze(a);return a.af[b]}function Ze(a){var b=a.ta();a.af={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function bf(){}s(bf,Ue);ma(bf);m=bf.prototype;m.od=ea("button");m.fb=function(a,b,c){16==b?a.setAttribute("aria-pressed",c):bf.d.fb.call(this,a,b,c)};m.Q=function(a){var b=bf.d.Q.call(this,a),c=a.ge();c&&this.Fh(b,c);(c=a.D())&&this.Ea(b,c);a.pa&16&&this.fb(b,16,$e(a));return b};m.g=function(a,b){var b=bf.d.g.call(this,a,b),c=this.D(b);a.bi=c;a.Rh=this.ge(b);a.pa&16&&this.fb(b,16,$e(a));return b};m.D=la;m.Ea=la;m.ge=function(a){return a.title};m.Fh=function(a,b){a&&(a.title=b||"")};m.ta=ea("goog-button");function cf(a,b){I.call(this);a&&df(this,a,b)}s(cf,dd);m=cf.prototype;m.e=k;m.vf=k;m.Qg=k;m.wf=k;m.Vb=-1;m.Ub=-1;m.gg=l;
var ef={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},ff={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},gf=u||qb&&Bb("525"),hf=jb&&pb;m=cf.prototype;
m.tl=function(a){if(qb&&(17==this.Vb&&!a.ctrlKey||18==this.Vb&&!a.altKey))this.Ub=this.Vb=-1;gf&&!Re(a.keyCode,this.Vb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Ub=pb?Te(a.keyCode):a.keyCode,hf&&(this.gg=a.altKey))};m.vl=function(a){this.Ub=this.Vb=-1;this.gg=a.altKey};
m.handleEvent=function(a){var b=a.ja,c,d,e=b.altKey;u&&"keypress"==a.type?(c=this.Ub,d=13!=c&&27!=c?b.keyCode:0):qb&&"keypress"==a.type?(c=this.Ub,d=0<=b.charCode&&63232>b.charCode&&Se(c)?b.charCode:0):ob?(c=this.Ub,d=Se(c)?b.keyCode:0):(c=b.keyCode||this.Ub,d=b.charCode||0,hf&&(e=this.gg),jb&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in ef?g=ef[c]:25==c&&a.shiftKey&&(g=9):h&&h in ff&&(g=ff[h]);a=g==this.Vb;this.Vb=g;b=new jf(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};
m.b=da("e");function df(a,b,c){a.wf&&a.detach();a.e=b;a.vf=J(a.e,"keypress",a,c);a.Qg=J(a.e,"keydown",a.tl,c,a);a.wf=J(a.e,"keyup",a.vl,c,a)}m.detach=function(){this.vf&&($c(this.vf),$c(this.Qg),$c(this.wf),this.wf=this.Qg=this.vf=k);this.e=k;this.Ub=this.Vb=-1};m.n=function(){cf.d.n.call(this);this.detach()};function jf(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}s(jf,Nc);function kf(a,b){a||f(Error("Invalid class name "+a));ta(b)||f(Error("Invalid decorator function "+b))}var lf={};function mf(a,b,c){R.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=wa(b);if(d=lf[d])break;b=b.d?b.d.constructor:k}b=d?ta(d.a)?d.a():new d:k}this.N=b;this.ib=a}s(mf,R);m=mf.prototype;m.ib=k;m.m=0;m.pa=39;m.Ab=255;m.Xm=0;m.$f=j;m.Wa=k;m.Hg=j;m.We=l;m.Wj=k;function nf(a){a.aa&&l!=a.Hg&&of(a,l);a.Hg=l}m.Rb=function(){return this.N.Rb(this)};
m.de=function(a,b){b?a&&(this.Wa?Va(this.Wa,a)||this.Wa.push(a):this.Wa=[a],this.N.de(this,a,j)):a&&this.Wa&&(Wa(this.Wa,a),0==this.Wa.length&&(this.Wa=k),this.N.de(this,a,l))};m.Q=function(){var a=this.N.Q(this);this.e=a;var b=this.Wj||this.N.od();b&&a.setAttribute("role",b);this.We||this.N.Kd(a,l);this.ob()||this.N.sb(a,l)};m.nb=function(){return this.N.nb(this.b())};m.uc=function(a){return this.N.uc(a)};
m.A=function(a){this.e=a=this.N.g(this,a);var b=this.Wj||this.N.od();b&&a.setAttribute("role",b);this.We||this.N.Kd(a,l);this.$f="none"!=a.style.display};m.w=function(){mf.d.w.call(this);this.N.hj(this);if(this.pa&-2&&(this.Hg&&of(this,j),this.pa&32)){var a=this.Rb();if(a){var b=this.vd||(this.vd=new cf);df(b,a);P(P(P(this.i(),b,"key",this.ul),a,"focus",this.rl),a,"blur",this.Si)}}};
function of(a,b){var c=a.i(),d=a.b();b?(P(P(P(P(c,d,"mouseover",a.Zi),d,"mousedown",a.Xi),d,"mouseup",a.$i),d,"mouseout",a.Yi),a.qf!=la&&P(c,d,"contextmenu",a.qf),u&&P(c,d,"dblclick",a.Ti)):(Hd(Hd(Hd(Hd(c,d,"mouseover",a.Zi),d,"mousedown",a.Xi),d,"mouseup",a.$i),d,"mouseout",a.Yi),a.qf!=la&&Hd(c,d,"contextmenu",a.qf),u&&Hd(c,d,"dblclick",a.Ti))}m.Ec=function(){mf.d.Ec.call(this);this.vd&&this.vd.detach();this.ob()&&this.isEnabled()&&this.N.Ld(this,l)};
m.n=function(){mf.d.n.call(this);this.vd&&(this.vd.ca(),delete this.vd);delete this.N;this.Wa=this.ib=k};m.Tc=function(a){this.N.Tc(this.b(),a);this.ib=a};m.Pi=function(){var a=this.ib;return!a?"":(ra(a)?a:oa(a)?Ra(a,sc).join(""):qc(a)).replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};m.Uc=function(a){mf.d.Uc.call(this,a);var b=this.b();b&&this.N.Uc(b,a)};m.Kd=function(a){this.We=a;var b=this.b();b&&this.N.Kd(b,a)};m.ob=da("$f");
m.sb=function(a,b){if(b||this.$f!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.b();c&&this.N.sb(c,a);this.isEnabled()&&this.N.Ld(this,a);this.$f=a;return j}return l};m.isEnabled=function(){return!(this.m&1)};m.cb=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&pf(this,1,!a))a||(this.setActive(l),qf(this,l)),this.ob()&&this.N.Ld(this,a),this.wa(1,!a)};function qf(a,b){pf(a,2,b)&&a.wa(2,b)}m.Tb=function(){return!!(this.m&4)};
m.setActive=function(a){pf(this,4,a)&&this.wa(4,a)};function $e(a){return!!(a.m&16)}function rf(a,b){pf(a,16,b)&&a.wa(16,b)}m.uf=function(){return!!(this.m&32)};m.va=function(a){pf(this,32,a)&&this.wa(32,a)};m.wa=function(a,b){this.pa&a&&b!=!!(this.m&a)&&(this.N.wa(this,a,b),this.m=b?this.m|a:this.m&~a)};function sf(a,b,c){a.aa&&(a.m&b&&!c)&&f(Error("Component already rendered"));!c&&a.m&b&&a.wa(b,l);a.pa=c?a.pa|b:a.pa&~b}function tf(a,b){return!!(a.Ab&b)&&!!(a.pa&b)}
function pf(a,b,c){return!!(a.pa&b)&&!!(a.m&b)!=c&&(!(a.Xm&b)||a.dispatchEvent(Me(b,c)))&&!a.ff}m.Zi=function(a){(!a.relatedTarget||!lc(this.b(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&tf(this,2))&&qf(this,j)};m.Yi=function(a){if((!a.relatedTarget||!lc(this.b(),a.relatedTarget))&&this.dispatchEvent("leave"))tf(this,4)&&this.setActive(l),tf(this,2)&&qf(this,l)};m.qf=la;
m.Xi=function(a){this.isEnabled()&&(tf(this,2)&&qf(this,j),Pc(a)&&(tf(this,4)&&this.setActive(j),this.N.Pg(this)&&this.Rb().focus()));!this.We&&Pc(a)&&a.preventDefault()};m.$i=function(a){this.isEnabled()&&(tf(this,2)&&qf(this,j),this.Tb()&&(this.ve(a)&&tf(this,4))&&this.setActive(l))};m.Ti=function(a){this.isEnabled()&&this.ve(a)};
m.ve=function(a){tf(this,16)&&rf(this,!$e(this));tf(this,8)&&pf(this,8,j)&&this.wa(8,j);if(tf(this,64)){var b=!(this.m&64);pf(this,64,b)&&this.wa(64,b)}b=new Kc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.mh=a.mh);return this.dispatchEvent(b)};m.rl=function(){tf(this,32)&&this.va(j)};m.Si=function(){tf(this,4)&&this.setActive(l);tf(this,32)&&this.va(l)};
m.ul=function(a){return this.ob()&&this.isEnabled()&&this.Gg(a)?(a.preventDefault(),a.stopPropagation(),j):l};m.Gg=function(a){return 13==a.keyCode&&this.ve(a)};ta(mf)||f(Error("Invalid component class "+mf));ta(Ue)||f(Error("Invalid renderer class "+Ue));var uf=wa(mf);lf[uf]=Ue;kf("goog-control",function(){return new mf(k)});function vf(){}s(vf,bf);ma(vf);m=vf.prototype;m.od=ba();m.Q=function(a){nf(a);a.Ab&=-256;sf(a,32,l);return a.Ya().Q("button",{"class":We(this,a).join(" "),disabled:!a.isEnabled(),title:a.ge()||"",value:a.D()||""},a.Pi()||"")};m.uc=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};m.g=function(a,b){nf(a);a.Ab&=-256;sf(a,32,l);b.disabled&&v(b,af(this,1));return vf.d.g.call(this,a,b)};m.hj=function(a){P(a.i(),a.b(),"click",a.ve)};m.Kd=la;
m.Uc=la;m.Pg=function(a){return a.isEnabled()};m.Ld=la;m.wa=function(a,b,c){vf.d.wa.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.D=function(a){return a.value};m.Ea=function(a,b){a&&(a.value=b)};m.fb=la;function wf(a,b,c){mf.call(this,a,b||vf.a(),c)}s(wf,mf);m=wf.prototype;m.D=da("bi");m.Ea=function(a){this.bi=a;this.N.Ea(this.b(),a)};m.ge=da("Rh");m.Fh=function(a){this.Rh=a;this.N.Fh(this.b(),a)};m.n=function(){wf.d.n.call(this);delete this.bi;delete this.Rh};m.w=function(){wf.d.w.call(this);if(this.pa&32){var a=this.Rb();a&&P(this.i(),a,"keyup",this.Gg)}};m.Gg=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.ve(a):32==a.keyCode};kf("goog-button",function(){return new wf(k)});function xf(){}s(xf,bf);ma(xf);m=xf.prototype;m.Q=function(a){var b={"class":"goog-inline-block "+We(this,a).join(" "),title:a.ge()||""},b=a.Ya().Q("div",b,yf(this,a.ib,a.Ya()));Xe(this,a,b);return b};m.od=ea("button");m.nb=function(a){return a&&a.firstChild.firstChild};function yf(a,b,c){return c.Q("div","goog-inline-block "+(a.ta()+"-outer-box"),c.Q("div","goog-inline-block "+(a.ta()+"-inner-box"),b))}m.uc=function(a){return"DIV"==a.tagName};
m.g=function(a,b){zf(b,j);zf(b,l);var c;a:{c=xc(a.Ya(),b);var d=this.ta()+"-outer-box";if(c&&y(c,d)&&(c=xc(a.Ya(),c),d=this.ta()+"-inner-box",c&&y(c,d))){c=j;break a}c=l}c||b.appendChild(yf(this,b.childNodes,a.Ya()));v(b,"goog-inline-block",this.ta());return xf.d.g.call(this,a,b)};m.ta=ea("goog-custom-button");
function zf(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Ea(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Af(a,b,c){wf.call(this,a,b||xf.a(),c)}s(Af,wf);kf("goog-custom-button",function(){return new Af(k)});function Bf(){R.call(this);this.nc=2;this.U=5;this.Qh=60*this.nc*this.U;this.oi=[];this.$e={};this.Da=Cf();this.na=0;this.ck=this.bk=l;this.Cg=this.zb=j;this.ma=l;this.ha=[T.a().p,T.a().p.j()];this.Vg=0;this.tm=201}s(Bf,R);m=Bf.prototype;
m.w=function(){Bf.d.w.call(this);this.Pd=A("ticker");this.jo=A("my-ticker");var a=A("go-live");this.qd=A("header");this.la=A("channels");this.Oa=B("channel-scrollable",this.b());this.Ba=B("channel-h-scrollable",this.b());this.ej=1;this.ra=Math.max(1280,C().width)*this.ej;this.xc=Q(A("controller")).height;N.a().subscribe(md,function(a){this.Yf(a)},this);N.a().subscribe(ld,function(a){z(this.b(),"sidebar-toggled",a);this.fa(l,i,j);Df(this)},this);this.Yf(y(this.b(),"toggled"));this.kc=new ud;for(var b=
60;b>=this.kc.getMinutes();)b-=this.U;this.kc.setMinutes(b);this.Z=this.kc.clone();this.Z.add(new vd(0,0,0,0,0*-this.U));this.Wg=this.Z.clone();this.Wg.add(new vd(0,0,0,0,this.U*(this.nc+1)));Ef(this,this.nc,this.Z);$d(this.la,this.ra);$d(this.qd,this.ra);this.fc=(this.ra-200)/this.Qh;this.cn=this.ra/this.nc;this.mg=document.createElement("style");this.mg.id="channel-name-offs";this.mg.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.mg);t(T.a().wc,p(function(a){this.sc(a)},
this));this.o=new ke(this.Ba);var c=this.Oa,d=this.qd,e,g,h=0;this.o.be=function(a,b){this.target&&(this.target.scrollLeft-=a-h,h=a,y(this.target,"channel-h-scrollable")&&(d.style.left=-this.target.scrollLeft+"px"));e=e||b;c.scrollTop-=b-(g||e);g=b};var b=A("now-left"),n=A("now-right");P(P(P(P(P(P(P(P(P(P(P(this.i(),hd.a().Yd,gd,p(this.Ph,this)),a,"click",p(function(){T.a().c(Ff,this.ba.q);N.a().c(nd,j)},this)),window,"resize",p(this.fa,this)),this.Pd,"click",p(this.fa,this,j,i,l)),b,"click",p(this.em,
this)),n,"click",p(this.mm,this)),this.o,"beforedrag",p(function(a){!this.ma&&N.a().mc?(a=a.Xe,a=uc(a.target,"channel")||B("channel",a.target),B("programs",a).style.paddingRight=C().width-400+"px",this.o.target=a):this.ma||(this.o.target=this.Ba);x(this.b(),"animate");v(this.b(),"drag");this.ma=j},this)),this.o,"end",p(function(){x(this.b(),"drag");v(this.b(),"animate");this.zb=this.ma=l;e=i;h=g=0;Df(this)},this)),this.la,"mousewheel",p(function(a){a.preventDefault();a.stopPropagation();a=a.ja;this.Oa.scrollTop-=
a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0},this)),this.qd,"mousewheel",p(function(a){a.preventDefault();a.stopPropagation();a=a.ja;x(this.b(),"animate");v(this.b(),"drag");this.ma=j;this.la.scrollLeft+=a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0;x(this.b(),"drag");v(this.b(),"animate");this.zb=this.ma=l;Df(this)},this)),B("switcher",this.b()),"click",p(function(){x(this.b(),"animate");N.a().mc=!N.a().mc;N.a().mc?(v(this.b(),"timeless"),L(p(function(){v(this.b(),"position-hack");v(this.b(),
"animate")},this))):(x(this.b(),"timeless"),L(p(function(){x(this.b(),"position-hack");v(this.b(),"animate")},this)));this.fa(j,i,l)},this));window.onbeforeunload=ea("Leaving so soon?");T.a().subscribe(Gf,this.ye,this);T.a().subscribe(Hf,this.sc,this);T.a().subscribe(Ff,this.vc,this);T.a().subscribe(If,p(function(){L(p(function(){this.fa(j)},this))},this));N.a().subscribe("toggle-admin",function(a){z(this.b(),"admin",a)},this);for(U.a().subscribe(Jf,this.nh,this);this.ra<this.Vg;)Kf(this);this.ye();
this.Da&&P(this.i(),this.o,"beforedrag",p(function(a){a.Xe.shiftKey&&a.preventDefault()},this))};m.sc=function(a){if(!this.$e[a.id]){if(!a.H){var b=new Lf(a,this.Qh,this.kc,0,this.Z);Oe(b,this.la);this.oi.push(b);this.$e[a.id]=b;a.subscribe(Mf,function(){this.ye()},this);var c=ac("program",b.b());if(c=c[c.length-1])this.Vg=Math.max(this.Vg,Sd(c).x+Q(c).width)}a.id==T.a().p.id&&b&&(Nf(b,j),this.ba=b,window.currentChannel=this.ba);this.Af=a.H?a:this.Af}};
m.Yf=function(a){x(this.b(),"animate");this.fa(j,i,l);v(this.b(),"animate");var b=Math.min(this.la.scrollHeight,210);z(this.b(),"toggled",a);Zd(this.b(),a?b+this.xc:this.xc);this.ba&&(this.Oa.scrollTop=Sd(this.ba.b()).y);L(p(function(){Zd(this.Oa,a?b:40);Zd(this.Ba,Q(this.la).height+22);z(this.b(),"collapsed",!a);this.ye();this.fa();if(this.ba){var c=this.Oa,d=Sd(this.ba.b()).y;c.scrollTop!=d&&(c.scrollTop=d)}},this),a?0:800);a&&this.ye();this.o&&this.o.cb(a)};
function Ef(a,b,c){for(var d=B("times",a.b()),e=0;e<=b;e++){var g=c.clone();g.add(new vd(0,0,0,0,a.U*e));var h=E,n={"class":"time",style:"width:"+(a.ra-200)/a.nc+"px"},r=i,w=g.getHours();ja(r)||(r=j);var D=12==w;12<w&&(w-=12,D=j);0==w&&r&&(w=12);w=String(w);w+=":"+La(g.getMinutes());r&&(g=Ca("am"),r=Ca("pm"),w+=D?r:g);h=h("div",n,w);d.appendChild(h)}}
m.vc=function(a){this.ba&&Nf(this.ba,l);this.ba=this.$e[a.id]||k;if(window.currentChannel=this.ba)Nf(this.ba,j),L(p(this.fa,this,j,i,l));this.ha[0]=a};m.nh=function(){this.Af=this.Af||Of();T.a().c(Ff,this.Af)};
function Df(a){var b=A("now-left"),c=A("now-right"),d=(q()-a.Z.getTime())/1E3*a.fc,e=N.a().Vc?320:0,e=C().width-e;((a.ha[0].H?a.ha[0].queue.length:a.ha[0].kb+(a.na+1||0)+1<a.ha[0].ua.length)?((a.ha[0].j(a.na+1).time.getTime()-q())/1E3+a.ha[0].j(a.na+1).media.duration)*a.fc+e:0)>a.ra-d&&Kf(a);c.style.right=N.a().Vc?"320px":0;N.a().mc?(z(c,"now",0>a.na),z(b,"now",0<a.na)):(z(c,"now",!!(-Sd(a.Pd).x<-a.Ba.scrollLeft-e)),z(b,"now",!!(-Sd(a.Pd).x>-a.Ba.scrollLeft)));d=-1;0<=a.ha[0].kb+(a.na||0)-1&&a.ha[0].j(a.na-
1)&&(d=(a.ha[0].j(a.na-1).time.getTime()-a.Z.getTime())/1E3*a.fc);O(c,(a.ha[0].H?!!a.ha[0].queue.length:a.ha[0].kb+(a.na||0)+1<a.ha[0].ua.length)||y(c,"now"));O(b,0<d||y(b,"now"))}m.em=function(){y(A("now-left"),"now")?T.a().p.j()==U.a().j()?this.fa(j,i,i,j):this.fa(l,i,i,j):this.fa(l,-1);Df(this)};m.mm=function(){y(A("now-right"),"now")?T.a().p.j()==U.a().j()?this.fa(j,i,i,j):this.fa(l,i,i,l):this.fa(l,1);Df(this)};
function Kf(a){var b=Math.ceil(a.nc/a.ej);Ef(a,1,a.Wg);a.ra+=a.cn;$d(a.la,a.ra);$d(a.qd,a.ra);a.nc++;a.Wg.add(new vd(0,0,0,0,a.U*b));a.Qh=60*a.nc*a.U}
m.Ph=function(){if(N.a().Ic&&!N.a().mc||this.Cg){var a=T.a().p&&T.a().p.H||l,b=T.a().p&&T.a().p.j(),c=U.a().j(),d=1E3*U.a().nf(),e=Math.round((q()-this.Z.getTime())/1E3*this.fc),d=c&&d?Math.round((c.time.getTime()+d-this.Z.getTime())/1E3*this.fc):e;Df(this);Qd(this.Pd,e);z(this.Pd,"go-live",!a&&(!!b&&!!c&&b.id!=c.id&&45<Math.abs(d-e)||120<Math.abs(d-e)));this.Cg?(this.Cg=l,this.fa(j,i,l),v(this.b(),"animate")):this.ma||this.fa()}};
m.fa=function(a,b,c,d){this.zb=a!=i?!!a:this.zb;this.bk=a!=i?!!c:this.zb;this.na=this.zb?0:b?this.na+b:this.na;c=T.a().p.j(this.na);d=T.a().p.H?(d=Pf(T.a(),j))&&d.j():d?c:this.zb?U.a().j():this.ha[0].j(this.na);this.ha[1]=d;this.zb||x(this.b(),"tick-along");if((this.zb||b)&&this.Z){var e=U.a().j(),g=U.a().getCurrentTime(),c=(q()-this.Z.getTime())/1E3*this.fc;e&&g&&Math.round((e.time.getTime()+g-this.Z.getTime())/1E3*this.fc);e=C().width-(N.a().Vc?320:0);if(N.a().mc)t(T.a().wc,function(a){var b=this.$e[a.id];
if(b){a.j();var a=((a.kb||0)+this.na)*this.tm-200,c=B("channel",b.b());B("programs",b.b()).style.paddingRight=C().width-200+"px";(new Ge(c,[c.scrollLeft,c.scrollTop],[a,c.scrollTop],300)).play()}},this);else{for(;c+C().width>this.ra-(N.a().Vc?320:0);)Kf(this);g=0;d&&(g=(d.time.getTime()-this.Z.getTime())/1E3*this.fc+5);if(!d||!b&&N.a().Ic&&c>g+e-320)g=Sd(this.Pd).x-e+200,v(this.b(),"tick-along");g=Math.max(g,0);g=Math.min(g,this.Ba.scrollWidth-this.Ba.clientWidth);if(b||a){var h=new Ge(this.Ba,[this.Ba.scrollLeft,
this.Ba.scrollTop],[g,this.Ba.scrollTop],300);h.play()}else this.Ba.scrollLeft=g;this.qd.style.left=-g+"px"}if(!this.bk&&this.ba){var n=Sd(this.ba.b()).y-Q(this.qd).height,h=new Ge(this.Oa,[this.Oa.scrollLeft,this.Oa.scrollTop],[this.Oa.scrollLeft,n],100*this.oi.length);P(this.i(),h,"end",p(function(){var a=this.Oa;a.scrollTop!=n&&(a.scrollTop=n);this.ck=l},this));L(p(function(){this.ck=j;h.play()},this),100)}}b&&Df(this)};
m.ye=function(){var a=Math.min(this.la.scrollHeight,210)+22;Zd(this.Oa,y(this.b(),"toggled")?a:this.xc);Zd(this.Ba,Q(this.la).height+22);Zd(this.b(),y(this.b(),"collapsed")?this.xc:a+this.xc);Zd(A("right-grad"),!y(this.b(),"toggled")?this.xc:a+this.xc)};function Qf(){return'\t<div class="channel"><div class="programs-container"><div class="programs"></div></div><div class="graph"></div><div class="viewers"></div></div>'}function Rf(a){return'<div class="name"><div class="text">'+H(a.name)+"</div></div>"}
function Sf(a){return'<div class="info"><div class="thumb'+(a.repeat?" repeat":"")+'" style="background-image:url('+H(a.rh.media.ub)+"); background-position: 50% "+H(a.rh.media.Od)+'%"></div><div class="progress"></div><div class="title">'+H(a.rh.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+H(a.media.dd)+'</div><div class="like-count"><div class="icon"></div>'+H(a.media.Wm)+'</div></div><div class="program-play"><div class="icon"></div></div><div class="program-plus"><div class="icon"></div></div><div class="viewers"></div>'+
(a.eg?'<div class="remove"></div><div class="repos"></div>':"")+"</div>"}function Tf(a){return'<div class="line"><div class="pic"><img src="'+H(a.k.M)+'"></div></div>'};function Uf(){M.call(this)}s(Uf,M);ma(Uf);function Vf(a){this.id=a.id;this.M=a.picture;this.name=a.name;this.description=a.description;this.link=a.link};function Wf(a){M.call(this);this.id=a.id;this.name=a.name;this.host="youtube";this.sd=a.host_id;this.Al="http://www.youtube.com/watch?v="+a.host_id;this.duration=a.duration;this.live=!!a.live;this.bh=[];this.xm=k;this.Ji=l;this.description=a.description;this.link=a.link||"xylocast.com/?m="+this.id;this.ka=a.publisher&&new Vf(a.publisher);this.gc=a.published&&td(a.published+"Z");this.ub="http://i.ytimg.com/vi/"+this.sd+"/0.jpg";this.Nh="http://i.ytimg.com/vi/"+this.sd+"/1.jpg";this.ro="http://i.ytimg.com/vi/"+
this.sd+"/2.jpg";this.so="http://i.ytimg.com/vi/"+this.sd+"/3.jpg";this.Mh=new Ob(480,360);this.Od=37;this.Bb=[];this.wk=[];this.dd=a.comment_count||0;this.Wm=a.star_count||0;this.Ll=a.like_count||0;this.Un=a.dislike_count||0;this.Tf=[];this.ec={};this.Ok=a.collection_id;this.subscribe(Xf,this.Nb,this);this.subscribe(Yf,this.Cm,this);this.subscribe(Zf,this.ad,this)}s(Wf,M);function $f(a){return a.gc.getMonth()+1+"/"+a.gc.getDate()+"/"+a.gc.getYear()}var Xf="add-comment",Yf="remove-comment",Zf="watching";
Wf.prototype.Te=function(a){Ta(this.bh,function(b){return a.id==b.id})||this.bh.push(a)};Wf.prototype.Nb=function(a){if(a.P){var b=Ta(this.Bb,function(b){return b.id==a.P});b&&b.Lf.push(a)}else this.Bb.push(a);this.dd+=1};Wf.prototype.Cm=function(a){W("/_comment",we(),"POST","delete=true&id="+a);Xa(this.Bb,function(b){return b.id==a});this.dd-=1};
Wf.prototype.ad=function(a,b,c){c?(Tb(this.ec,a.id),a.jb=k):(this.ec[a.id]=a,a.jb=this,a.id!=X.a().l.id&&Uf.a().c("flash","is watching "+(b?b.name:""),this.name,a,this.Nh,"#info:"+this.id))};function ag(){M.call(this);this.zj={}}s(ag,M);ma(ag);function bg(a,b){var c=a.get(b.id);c||(c=new Wf(b),a.add(c));return c}ag.prototype.get=function(a){return Vb(this.zj,a)};ag.prototype.add=function(a){this.zj[a.id]=a};function cg(a,b){M.call(this);var c=b||k,d=a||k;this.id=d?d.id:c.id;this.media=d?bg(ag.a(),d.media):c;ag.a().add(this.media);this.time=d?td(d.time+"Z"):new ud;this.async=d?d.async:j;this.seek=d?d.seek:k}s(cg,M);function dg(a){return new cg(i,a)};function eg(a){M.call(this);this.id=a.id;this.name=a.name;this.url=a.profile_url;this.location=a.location||"";this.mn=a.welcomed;this.$a=a.online;this.Tn=a.demo;this.jb=a.last_seen?bg(Wf.a(),a.last_seen):k;this.history=[];this.kk=[];this.M=Da("https://graph.facebook.com/%s/picture",this.id);for(this.color=Raphael.getColor();"#00bf85"==this.color||"#00bf2f"==this.color;)this.color=Raphael.getColor();this.bg=a.access_level;this.Jn=[];this.F=a.last_login?td(a.last_login+"Z"):k;this.oo=a.session_count;
this.Ln=a.ave_session?a.ave_session.toFixed(2):k;this.Pm=a.show_guide!=i?a.show_guide:j;this.Sm=a.show_sidebar!=i?a.show_sidebar:j;this.zm=a.post_facebook!=i?a.post_facebook:j;this.Vj=a.post_twitter!=i?a.post_twitter:j;this.subscribe(gg,function(){this.Vj=j},this)}s(eg,M);function Cf(){return X.a().l.bg==hg}eg.prototype.nd=function(){var a=this.name.split(" ");return a&&a.length?a[0]:this.name};function ig(a,b){return Ta(a.kk,function(a){return a.id==b.id})}var gg="twitter-auth",hg=2;function jg(a,b,c,d,e){this.id=a;this.k=b;this.S=c;this.Th=d;this.Yc=e||k;this.Bj=[]}jg.prototype.Tf=function(a){this.Bj.push(a);this.S&&(this.S.H&&this.S.$)&&(this.S.$.seek=k,this.S.$=k);W("/_seen",we(),"POST","media_id="+a.id+"&session_id="+this.id+"&async="+(this.S?this.S.H:l))};
jg.prototype.end=function(a){this.Yc=a;a=(this.Yc.getTime()-this.Th.getTime())/1E3;if(this.k.id==X.a().l.id&&this.S){kg.a();var b=this.S,c=this.Bj.length;X.a().gh.length?_gaq.push(["_trackEvent","Users","SessionTimeWithFriends",X.a().l.id,Math.round(a)]):_gaq.push(["_trackEvent","Users","SessionTimeNoFriends",X.a().l.id,Math.round(a)]);_gaq.push(["_trackEvent","Users","SessionMediaCount",X.a().l.id,c]);_gaq.push(["_trackEvent","Users","Active",X.a().l.id,c]);_gaq.push(["_trackEvent","Users",b.id+
"-time",X.a().l.id,a]);_gaq.push(["_trackEvent","Users",b.id+"-medias",X.a().l.id,c]);b.H||(_gaq.push(["_trackEvent","Channel","SessionTime",b.id,a]),_gaq.push(["_trackEvent","Channel","SessionMediaCount",b.id,c]))}};function lg(a){M.call(this);this.id=a.id;this.name=a.name;this.H=a.my_channel;this.jb=a.current_media?bg(ag.a(),a.current_media):k;this.Rn=a.current_seek;this.ua=[];this.Qc={};this.$=a.current_program&&new cg(a.current_program);this.Zc=[];this.queue=[];this.qb=0;this.$a=a.online!=i?a.online:k;this.subscribe(mg,this.Ob,this);this.subscribe(ng,this.Hk,this);this.subscribe(og,this.ad,this);this.subscribe(pg,this.Zh,this)}s(lg,M);m=lg.prototype;
m.Ob=function(a){this.ua.push(a);this.Qc[a.id]=a;a.time.getTime()+1E3*a.media.duration>this.qb&&(this.qb=a.time.getTime()+1E3*a.media.duration-12E4,kd(hd.a(),this.qb,p(this.Xg,this,this.qb)),kd(hd.a(),this.qb+6E4,p(this.Xg,this,this.qb+6E4)))};m.Xg=function(a){this.qb<=a&&!this.H&&W("/_programming/"+this.id,p(function(a){a=Y(a.target);a.length||kd(hd.a(),q()+1E3,p(this.Xg,this,q()+1E3));t(a,function(a){if(!this.Qc[a.id]){var b=this.Qc[a.id];b||(b=new cg(a),this.Ob(b));this.c(mg,b)}},this)},this))};
m.Hk=function(a,b){b?(this.queue.push(a),Uf.a().c("flash","Added to queue",a.name,i,a.Nh,"#info:"+a.id),qg(kg.a(),a),W("/_queue",we(),"POST","media_id="+a.id)):(Xa(this.queue,function(b){return b.id==a.id},this),W("/_queue",we(),"POST","media_id="+a.id+"&delete=1"))};m.ad=function(a){this.Zc.push(a)};m.Zh=function(a){var b=Vb(this.Qc,a.id);b&&(b.time=td(a.time+"Z"))};
m.j=function(a){if(this.$&&this.$.async&&this.$.seek)return this.$;if(!this.ua.length)return k;var b=this.$;b||(b=this.ua[0],this.kb=0);if(a)return this.ua[this.kb+a];if(!this.H&&q()>=b.time.getTime()&&q()<b.time.getTime()+1E3*b.media.duration)return this.$=b;for(;q()>b.time.getTime()&&q()>=b.time.getTime()+1E3*b.media.duration;){this.$||(this.$=this.ua[0],this.kb=0);this.ua.length>=this.kb+1?(this.kb++,a=this.ua[this.kb],a=this.$=this.H?a&&a.seek?a:k:this.ua[this.kb]):a=k;if(this.H){if(a&&a.async&&
a.seek)return this.$=a;if(!a)if(this.queue.length){a=this.queue[0];this.c(ng,a,l);var c=dg(a);Of().c(mg,c);W("/_addprogram",we(),"POST","channel_id="+T.a().H.id+"&media_id="+a.id+"&now=true");a=c}else a=k}if(!a)break;b=a}return q()>=b.time.getTime()&&q()<b.time.getTime()+1E3*b.media.duration?this.$=b:k};var mg="add-program",ng="add-queue",og="add-viewer",pg="update-program",Mf="online";function rg(){M.call(this)}s(rg,M);ma(rg);function sg(){I.call(this);this.ia=[];this.md=[];this.gf={};this.z=new Fd(this);this.Fl=this.mj=l;this.$h=j}s(sg,dd);m=sg.prototype;m.Kg=0;m.Ch=ca("Kg");
m.init=function(){if(!this.mj){for(var a=0,b=this.ia.length;a<b;a++)for(var c=hc(this.ia[a]),d=0,e=c.length;d<e;++d){var g=c[d],h=g,n=wa(h);this.gf[n]=g;this.Ci&&(P(this.z,g,"mouseover",this.nl),P(this.z,g,"mouseout",this.ml));this.Bi&&(P(this.z,h,"mouseover",this.ll),P(this.z,h,"mouseout",this.kl));this.md.push(g);P(this.z,h,["mousedown","touchstart"],this.aj)}this.mj=j}};
m.n=function(){this.z.ca();for(var a=0,b=this.ia.length;a<b;a++){var c=this.ia[a];c.Ai=i;c.Ac=i}this.ia.length=0;this.md.length=0;this.gf=k;tg(this);sg.d.n.call(this)};function ug(a,b){for(var c=0,d=a.ia.length;c<d;c++){var e=a.ia[c];e.kd=be(e)}c=0;for(d=a.md.length;c<d;c++)e=a.md[c],e!=b&&(e.kd=be(e))}
m.aj=function(a){var b=wa(a.currentTarget);this.r=this.gf[b];this.C=this.cf(this.r);this.hf&&v(this.C,this.hf);this.C.style.margin="0";this.C.style.position="absolute";this.C.style.visibility="hidden";$b(this.r).body.appendChild(this.C);b=Wd(this.r);Yd(this.C,b);this.o=new ke(this.C);this.o.Ch(this.Kg);J(this.o,"start",this.Vi,l,this);J(this.o,"end",this.Ui,l,this);J(this.o,"earlycancel",this.bf,l,this);this.o.Wc(a)};
m.Vi=function(a){if(this.dispatchEvent(new vg("beforedragstart",this,a.Xe,this.r,k,k))){this.Ff=this.r.parentNode;this.xi=this.hh=ic(this.r);this.vg=this.Ff;this.ug?v.apply(k,Ya(this.r,this.ug)):this.r.style.visibility="hidden";var b=Q(this.C);this.C.hl=b.width/2;this.C.gl=b.height/2;this.C.style.visibility="";this.$h&&(this.r.style.display="none");ug(this,this.r);this.r.style.display="";J(this.o,"drag",this.ol,l,this);this.dispatchEvent(new vg("dragstart",this,a.Xe,this.r,this.C,this.o))}else a.preventDefault(),
this.bf()};
m.ol=function(a){var b=Wd(this.C),b=new Mb(b.x+this.C.hl,b.y+this.C.gl),c;a:{c=k;if("none"!=this.r.style.display){c=this.r.parentNode;var d=be(c);if(wg(b,d))break a}for(var d=0,e=this.ia.length;d<e;d++){var g=this.ia[d];if(g!=c&&wg(b,g.kd)){c=g;break a}}c=k}var h;if(c){c==k&&f(Error("getHoverNextItem_ called with null hoverList."));var n,r,d=l,e=i;switch(c.Ai){case 0:h=b.y;n=xg;r=yg;break;case 4:d=j;case 2:h=b.x;n=zg;r=yg;break;case 5:d=j;case 3:h=b.x,n=Ag,r=Bg}for(var g=k,w,D=hc(c),K=0,aa=D.length;K<
aa;K++){var S=D[K];if(S!=this.r){var ua=n(S.kd);if(d){var gb=Cg(S,b);ja(e)||(e=gb);if(r(h,ua)&&(w==i||gb<e||gb==e&&(r(ua,w)||ua==w)))g=S,w=ua;gb<e&&(e=gb)}else if(r(h,ua)&&(w==i||r(ua,w)))g=S,w=ua}}h=g!==k&&Cg(g,b)>e?k:g}else h=k;if(!this.dispatchEvent(new vg("beforedragmove",this,a,this.r,this.C,this.o,b,c,h)))return l;if(c)this.$h?(this.r.parentNode!=c||ic(this.r)!=h)&&c.insertBefore(this.r,h):h&&(this.xi=h),this.r.style.display="",c.Ac&&v(c,c.Ac);else{this.Fl||(this.r.style.display="none");n=0;
for(r=this.ia.length;n<r;n++)w=this.ia[n],w.Ac&&x(w,w.Ac)}c!=this.vg&&(this.vg=c,ug(this,this.r));this.dispatchEvent(new vg("dragmove",this,a,this.r,this.C,this.o,b,c,h));return l};m.bf=function(){tg(this);this.o=this.C=this.hh=this.Ff=this.vg=this.r=k;for(var a=0,b=this.ia.length;a<b;a++)this.ia[a].kd=k;a=0;for(b=this.md.length;a<b;a++)this.md[a].kd=k};
m.Ui=function(a){if(!this.dispatchEvent(new vg("beforedragend",this,a,this.r,this.C,this.o)))return l;this.$h||this.Ff.insertBefore(this.r,this.xi);tg(this);this.dispatchEvent(new vg("dragend",this,a,this.r,this.C,this.o));this.bf();return j};function tg(a){Gc(a.o);a.C&&F(a.C);a.r&&"none"==a.r.style.display&&(a.Ff.insertBefore(a.r,a.hh),a.r.style.display="");a.ug&&a.r?x.apply(k,Ya(a.r,a.ug)):a.r&&(a.r.style.visibility="visible");for(var b=0,c=a.ia.length;b<c;b++){var d=a.ia[b];d.Ac&&x(d,d.Ac)}}
m.nl=function(a){v.apply(k,Ya(a.currentTarget,this.Ci))};m.ml=function(a){x.apply(k,Ya(a.currentTarget,this.Ci))};m.ll=function(a){v.apply(k,Ya(a.currentTarget,this.Bi))};m.kl=function(a){x.apply(k,Ya(a.currentTarget,this.Bi))};function wg(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}function Cg(a,b){var c=a.kd;return Math.abs(b.y-(c.top+(c.height-1)/2))}function xg(a){return a.top+a.height-1}function zg(a){return a.left+a.width-1}function Ag(a){return a.left||0}
function yg(a,b){return a<b}function Bg(a,b){return a>b}m.cf=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return E("table",k,E("tbody",k,b));case "td":case "th":return E("table",k,E("tbody",k,E("tr",k,b)));default:return b}};function vg(a,b,c,d,e,g,h,n,r){Kc.call(this,a);this.Vn=b;this.event=c;this.Ta=d;this.Vk=e;this.Uk=g;this.Di=h;this.co=n;this.Sb=r}s(vg,Kc);function Lf(a,b,c,d,e){R.call(this);this.q=a;this.Da=Cf();this.Ve=l;this.qk=b;this.kc=c;this.Z=e;this.po=d;this.Ha={};this.Fd={};this.Qb=this.Da?new sg:k;this.lg=6;this.$a=j}s(Lf,R);m=Lf.prototype;m.Q=function(){this.e=G(Qf);this.Ad=G(Rf,{name:this.q.name});A("channel-names").appendChild(this.Ad)};
m.w=function(){Lf.d.w.call(this);this.sh=B("programs",this.b());this.Se=B("viewers",this.b());var a=T.a(),b=(Q(this.b()).width-200)/this.qk;a.Ib=a.Ib||b;Ld(this.Ad,"background",Raphael.getColor());a=this.q.ua;for(b=0;b<a.length;b++)a[b].media.live?this.Ob(a[b]):a[b].time.getTime()<this.kc.getTime()&&a[b].time.getTime()+1E3*a[b].media.duration>this.kc.getTime()-1E3*this.qk?this.Ob(a[b]):a[b].time.getTime()>this.kc.getTime()&&this.Ob(a[b]);if(this.Da){a=this.Qb;b=this.sh;b.Ai=2;b.Ac=i;a.ia.push(b);
this.Qb.hf="drag";var c=this.b();this.Qb.aj=function(a){var b=wa(a.currentTarget);this.r=this.gf[b];this.C=this.cf(this.r);this.hf&&v(this.C,this.hf);this.C.style.margin="0";this.C.style.position="absolute";this.C.style.visibility="hidden";c.appendChild(this.C);b=Wd(this.r);Yd(this.C,b);this.o=new ke(this.C);this.o.Ch(this.Kg);J(this.o,"start",this.Vi,l,this);J(this.o,"end",this.Ui,l,this);J(this.o,"earlycancel",this.bf,l,this);this.o.Wc(a)};this.Qb.init();var d={},e,g,h,n,r,w=j;P(P(P(this.i(),this.Qb,
"beforedragstart",p(function(a){(!this.Ve||!a.event.shiftKey)&&a.preventDefault()},this)),this.Qb,"dragmove",function(a){h=h||a.Di.x;n=n||Sd(a.Ta).x;r=r||(a.Ta.previousElementSibling!=i?a.Ta.previousElementSibling:jc(a.Ta.previousSibling,l));w=w&&!!r;var b=r?Q(r).width:i,c=r?Sd(r).x:i,S=a.Di.x-h;10>Math.abs(S)||(a.Sb&&!d[a.Sb.id]&&0<S?(b=Q(a.Ta).width,c=Sd(a.Sb).x,e=c-b+Q(a.Sb).width,S=this.q.Qc[a.Sb.id],g=S.time.getTime()/1E3+S.media.duration-this.q.Qc[a.Ta.id].media.duration,Qd(a.Ta,e),Qd(a.Sb,
c-b-1),d[a.Sb.id]=j,b=a.Sb,b.parentNode&&b.parentNode.insertBefore(a.Ta,b.nextSibling)):w&&(0>S&&n+S<c+b)&&(b=Q(a.Ta).width,e=c=Sd(r).x,g=this.q.Qc[r.id].time.getTime()/1E3,Qd(a.Ta,e),Qd(r,c+b+1),b=r.previousElementSibling!=i?r.previousElementSibling:jc(r.previousSibling,l),r.parentNode&&r.parentNode.insertBefore(a.Ta,r),r=b,w=!!b))}),this.Qb,"dragend",function(a){g&&(W("/admin/_rescheduleprogram",i,"POST","program="+a.Vk.id+"&time="+g),this.Qb.init(),g=i);d={};e=r=n=h=i;w=j})}Pa(this.q.Zc,this.ad,
this);P(P(this.i(),this.Ad,"click",p(function(){this.q.id!=T.a().p.id&&this.q.j()&&T.a().c(Ff,this.q)},this)),hd.a().Yd,gd,p(this.update,this));this.q.subscribe(mg,this.Ob,this);this.q.subscribe(og,this.ad,this);this.q.subscribe("remove-viewer",this.Dm,this);this.q.subscribe(pg,this.Zh,this);T.a().subscribe(If,this.yk,this);T.a().subscribe(Ff,function(){this.lg=0;this.yk()},this);N.a().subscribe("toggle-admin",ca("Ve"),this);this.update()};
m.yk=function(){if(this.s){x(this.Fd[this.s],"playing");var a=B("title",this.Fd[this.s]);a&&(a.style.left="")}this.s=k;if(a=T.a().p.j()){var b=this.Fd[a.id];b&&(this.s=a.id,v(b,"playing"))}};
m.Ob=function(a){var b=E("div",{"class":"program",id:a.id}),c=a.media.duration*T.a().Ib,d=this.Da&&a.time.getTime()+1E3*a.media.duration>q();zc(b,Sf,{rh:a,media:a.media,repeat:600<c,eg:d});this.Fd[a.id]=b;var e=T.a().p.j();e&&a.id==e.id&&(v(b,"playing"),this.s=a.id);var g=B("thumb",b);L(function(){a.media.Mh.height<Q(b).height+50?(v(g,"fix-height"),v(g,"pan-left")):v(g,"pan-top");n&&$d(g,200);z(b,"stretched",360<a.media.Mh.height)});e=(a.time.getTime()-this.Z.getTime())/1E3*T.a().Ib;if(a.media.live)var h=
(q()-a.time.getTime())/1E3*T.a().Ib-100,c=c-h,e=e+h;$d(b,Math.ceil(c-1));Qd(b,Math.floor(e));this.sh.appendChild(b);var n=120>c;z(b,"clipped",n);P(this.i(),b,"click",function(){Z.a().c(Dg,a.media)});var r=y(b,"clipped")?200:Q(b).width,c=B("title",b),e=B("program-play",b),h=B("program-plus",b);Q(c);P(P(P(P(this.i(),b,"mouseover",function(){N.a().Ic&&(this.Ve||Ld(g,"background-position-y",a.media.Od+10*Math.max(a.media.Mh.width/r,1)+"%"))}),b,"mouseout",function(){N.a().Ic&&(this.Ve||Ld(g,"background-position-y",
a.media.Od+"%"))}),e,"click",function(b){b.preventDefault();b.stopPropagation();b=dg(a.media);U.a().c(Jf,b)}),h,"click",function(b){b.preventDefault();b.stopPropagation();Of().c(ng,a.media,j)});d&&(d=new ke(B("repos",b)),d.be=function(a,b){var c=b-24;-50<=c&&50>=c&&Ld(g,"background-position-y",50-c+"%")},P(P(this.i(),d,"end",function(){var b=(g.style[Ma("background-position")]||"").split(" ")[1],b=b.substring(0,b.length-1);a.media.Od=b;W("/admin/_posthumb",we(),"POST","media="+a.media.id+"&pos="+
b)}),B("remove",b),"click",p(this.lm,this,a,b)))};m.Zh=function(a){var b=this.Fd[a.id],a=(td(a.time+"Z").getTime()-this.Z.getTime())/1E3*T.a().Ib;Qd(b,a)};m.lm=function(a,b){F(b);W("/admin/_removeprogram",i,"POST","program="+a.id+"&media_id="+a.media.id+"&channel_id="+this.q.id);W("admin/_media/collection",p(function(){alert("Disallowed on all channels.")},this),"POST","&media="+a.media.id+"&approve=false")};
m.ad=function(a){if(X.a().l.id!=a.k.id){var b=this.Ha[a.k.id];b||(b=E("div","viewer"),this.Se.appendChild(b),this.Ha[a.k.id]=b);if(!a.Yc||a.Yc.getTime()>this.Z.getTime()){var c=G(Tf,{k:a.k});b.appendChild(c);var d=Math.max(a.Th.getTime(),this.Z.getTime()),b=(d-this.Z.getTime())/1E3*T.a().Ib+200,d=(q()-d)/1E3*T.a().Ib;$d(c,d);Qd(c,b);Ld(c,"background",a.k.color);P(this.i(),c,"click",function(b){uc(b.target,"watch-with")||Z.a().c(Eg,a.k)});Fg(Gg.a(),B("pic",c),"top",{text:"JOIN "+a.k.nd().toUpperCase(),
link:"#channel:"+a.S.id})}}};function Nf(a,b){z(a.b(),"current",b);z(a.Ad,"current",b)}m.Dm=function(a){this.Ha[a.id]&&(F(this.Ha[a.id]),Tb(this.Ha,a.id),T.a().c(Gf))};
m.update=function(){!this.$a&&this.q.ua.length&&this.q.c(Mf,j);this.$a=!!this.q.ua.length;z(this.b(),"offline",!this.$a);O(this.Ad,this.$a);if(this.q.ua.length){if(this.s&&0<this.lg){var a=this.Fd[this.s],b=Sd(a).x+Sd(A("guide")).x,a=B("title",a);Qd(a,200>b?-b+210:5)}else this.lg++;Pb(this.q.Zc,function(a){if(this.q.j()&&!a.Yc&&this.Ha[a.k.id]){var b=Math.max(a.Th.getTime(),this.Z.getTime());Q(this.sh);var e=Math.floor((q()-b)/1E3*T.a().Ib),g=U.a().j();a.k.id==X.a().l.id&&g&&(e=Math.floor((g.time.getTime()+
1E3*U.a().nf()-b)/1E3*T.a().Ib));this.Ha[a.k.id].lastChild&&$d(this.Ha[a.k.id].lastChild,e)}},this);Zd(this.Ad,Q(this.b()).height-1)}};function X(){M.call(this);this.zk={};this.Oi=l;this.Eg=[];this.gh=[];this.subscribe(Hg,function(a,b){a.$a=b},this)}s(X,M);ma(X);X.prototype.add=function(a){this.zk[a.id]=a};X.prototype.get=function(a){return this.zk[a]};function Ig(a,b){var c=a.get(b.id);c||(c=new eg(b),a.add(c));c.$a=b.online;c.jb=b.last_seen?bg(ag.a(),b.last_seen):c.jb;return c}var Hg="online";function Jg(a){if("function"==typeof a.of)return a.of();if(ra(a))return a.split("");if(pa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Qb(a)}function Kg(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(pa(a)||ra(a))t(a,b,c);else{var d;if("function"==typeof a.Fg)d=a.Fg();else if("function"!=typeof a.of)if(pa(a)||ra(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Rb(a);else d=i;for(var e=Jg(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function Lg(a,b){this.Xb={};this.W=[];var c=arguments.length;if(1<c){c%2&&f(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Lg?(c=a.Fg(),d=a.of()):(c=Rb(a),d=Qb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}m=Lg.prototype;m.Y=0;m.Bk=0;m.of=function(){Mg(this);for(var a=[],b=0;b<this.W.length;b++)a.push(this.Xb[this.W[b]]);return a};m.Fg=function(){Mg(this);return this.W.concat()};
m.clear=function(){this.Xb={};this.Bk=this.Y=this.W.length=0};function Mg(a){if(a.Y!=a.W.length){for(var b=0,c=0;b<a.W.length;){var d=a.W[b];Object.prototype.hasOwnProperty.call(a.Xb,d)&&(a.W[c++]=d);b++}a.W.length=c}if(a.Y!=a.W.length){for(var e={},c=b=0;b<a.W.length;)d=a.W[b],Object.prototype.hasOwnProperty.call(e,d)||(a.W[c++]=d,e[d]=1),b++;a.W.length=c}}m.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.Xb,a)?this.Xb[a]:b};
m.set=function(a,b){Object.prototype.hasOwnProperty.call(this.Xb,a)||(this.Y++,this.W.push(a),this.Bk++);this.Xb[a]=b};m.clone=function(){return new Lg(this)};function Ng(a){return Og(a||arguments.callee.caller,[])}
function Og(a,b){var c=[];if(Va(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Pg(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Pg(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Og(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Pg(a){if(Qg[a])return Qg[a];a=String(a);if(!Qg[a]){var b=/function ([^\(]+)/.exec(a);Qg[a]=b?b[1]:"[Anonymous]"}return Qg[a]}var Qg={};function Rg(a,b,c,d,e){this.reset(a,b,c,d,e)}Rg.prototype.Km=0;Rg.prototype.Gi=k;Rg.prototype.Fi=k;var Sg=0;Rg.prototype.reset=function(a,b,c,d,e){this.Km="number"==typeof e?e:Sg++;this.to=d||q();this.pe=a;this.Sl=b;this.fo=c;delete this.Gi;delete this.Fi};Rg.prototype.ek=ca("pe");function Tg(a){this.Ul=a}Tg.prototype.R=k;Tg.prototype.pe=k;Tg.prototype.ga=k;Tg.prototype.bj=k;function Ug(a,b){this.name=a;this.value=b}Ug.prototype.toString=da("name");var Vg=new Ug("SEVERE",1E3),Wg=new Ug("WARNING",900),Xg=new Ug("INFO",800),Yg=new Ug("CONFIG",700),Zg=new Ug("FINE",500);m=Tg.prototype;m.getParent=da("R");m.Qi=function(){this.ga||(this.ga={});return this.ga};m.ek=ca("pe");function $g(a){return a.pe?a.pe:a.R?$g(a.R):k}
m.log=function(a,b,c){if(a.value>=$g(this).value){a=this.el(a,b,c);b="log:"+a.Sl;ga.console&&(ga.console.timeStamp?ga.console.timeStamp(b):ga.console.markTimeline&&ga.console.markTimeline(b));ga.msWriteProfilerMark&&ga.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.bj)for(var e=0,g=i;g=c.bj[e];e++)g(d);b=b.getParent()}}};
m.el=function(a,b,c){var d=new Rg(a,String(b),this.Ul);if(c){d.Gi=c;var e;var g=arguments.callee.caller;try{var h;var n=ka("window.location.href");if(ra(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var r,w,D=l;try{r=c.lineNumber||c.eo||"Not available"}catch(K){r="Not available",D=j}try{w=c.fileName||c.filename||c.sourceURL||n}catch(aa){w="Not available",D=j}h=D||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:r,
fileName:w,stack:c.stack||"Not available"}:c}e="Message: "+Fa(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Fa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Fa(Ng(g)+"-> ")}catch(S){e="Exception trying to expose exception! You win, we lose. "+S}d.Fi=e}return d};function ah(a,b){a.log(Vg,b,i)}m.info=function(a,b){this.log(Xg,a,b)};function bh(a,b){a.log(Zg,b,i)}var ch={},dh=k;
function eh(a){dh||(dh=new Tg(""),ch[""]=dh,dh.ek(Yg));var b;if(!(b=ch[a])){b=new Tg(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=eh(a.substr(0,c));c.Qi()[d]=b;b.R=c;ch[a]=b}return b};function fh(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}f(Error("Invalid JSON string: "+a))};function gh(){}gh.prototype.Ye=k;var hh;function ih(){}s(ih,gh);function jh(a){return(a=kh(a))?new ActiveXObject(a):new XMLHttpRequest}function lh(a){var b={};kh(a)&&(b[0]=j,b[1]=j);return b}
function kh(a){if(!a.fj&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.fj=d}catch(e){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.fj}hh=new ih;var mh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function nh(a){I.call(this);this.headers=new Lg;this.Td=a||k}s(nh,dd);nh.prototype.J=eh("goog.net.XhrIo");var oh=/^https?$/i,ph=[];function W(a,b,c,d){var e=new nh;ph.push(e);b&&J(e,"complete",b);J(e,"ready",Ba(qh,e));e.send(a,c,d,i)}function qh(a){a.ca();Wa(ph,a)}m=nh.prototype;m.Mb=l;m.B=k;m.ag=k;m.oe="";m.tj="";m.me=0;m.ne="";m.zg=l;m.sf=l;m.Mg=l;m.Jc=l;m.Xf=0;m.Xc=k;m.Nf="";m.nn=l;
m.send=function(a,b,c,d){this.B&&f(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.oe=a;this.ne="";this.me=0;this.tj=b;this.zg=l;this.Mb=j;this.B=this.Td?jh(this.Td):jh(hh);this.ag=this.Td?this.Td.Ye||(this.Td.Ye=lh(this.Td)):hh.Ye||(hh.Ye=lh(hh));this.B.onreadystatechange=p(this.Pj,this);try{bh(this.J,rh(this,"Opening Xhr")),this.Mg=j,this.B.open(b,a,j),this.Mg=l}catch(e){bh(this.J,rh(this,"Error opening Xhr: "+e.message));sh(this,e);return}var a=c||
"",g=this.headers.clone();d&&Kg(d,function(a,b){g.set(b,a)});d=ga.FormData&&a instanceof ga.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(g.Xb,"Content-Type")&&!d;b&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Kg(g,function(a,b){this.B.setRequestHeader(b,a)},this);this.Nf&&(this.B.responseType=this.Nf);"withCredentials"in this.B&&(this.B.withCredentials=this.nn);try{this.Xc&&(fd.clearTimeout(this.Xc),this.Xc=k),0<this.Xf&&(bh(this.J,rh(this,"Will abort after "+
this.Xf+"ms if incomplete")),this.Xc=fd.setTimeout(p(this.bn,this),this.Xf)),bh(this.J,rh(this,"Sending request")),this.sf=j,this.B.send(a),this.sf=l}catch(h){bh(this.J,rh(this,"Send error: "+h.message)),sh(this,h)}};m.bn=function(){"undefined"!=typeof fa&&this.B&&(this.ne="Timed out after "+this.Xf+"ms, aborting",this.me=8,bh(this.J,rh(this,this.ne)),this.dispatchEvent("timeout"),this.abort(8))};function sh(a,b){a.Mb=l;a.B&&(a.Jc=j,a.B.abort(),a.Jc=l);a.ne=b;a.me=5;th(a);uh(a)}
function th(a){a.zg||(a.zg=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}m.abort=function(a){this.B&&this.Mb&&(bh(this.J,rh(this,"Aborting")),this.Mb=l,this.Jc=j,this.B.abort(),this.Jc=l,this.me=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),uh(this))};m.n=function(){this.B&&(this.Mb&&(this.Mb=l,this.Jc=j,this.B.abort(),this.Jc=l),uh(this,j));nh.d.n.call(this)};m.Pj=function(){!this.Mg&&!this.sf&&!this.Jc?this.km():vh(this)};m.km=function(){vh(this)};
function vh(a){if(a.Mb&&"undefined"!=typeof fa)if(a.ag[1]&&4==wh(a)&&2==xh(a))bh(a.J,rh(a,"Local request error detected and ignored"));else if(a.sf&&4==wh(a))fd.setTimeout(p(a.Pj,a),0);else if(a.dispatchEvent("readystatechange"),4==wh(a)){bh(a.J,rh(a,"Request complete"));a.Mb=l;try{var b=xh(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var e;if(e=0===b){var g=String(a.oe).match(mh)[1]||k;if(!g&&self.location)var h=self.location.protocol,
g=h.substr(0,h.length-1);e=!oh.test(g?g.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.me=6;var n;try{n=2<wh(a)?a.B.statusText:""}catch(r){bh(a.J,"Can not get status: "+r.message),n=""}a.ne=n+" ["+xh(a)+"]";th(a)}}finally{uh(a)}}}
function uh(a,b){if(a.B){var c=a.B,d=a.ag[0]?la:k;a.B=k;a.ag=k;a.Xc&&(fd.clearTimeout(a.Xc),a.Xc=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){ah(a.J,"Problem encountered resetting onreadystatechange: "+e.message)}}}m.Tb=function(){return!!this.B};function wh(a){return a.B?a.B.readyState:0}function xh(a){try{return 2<wh(a)?a.B.status:-1}catch(b){return a.J.log(Wg,"Can not get status: "+b.message,i),-1}}function Y(a){if(a.B)return fh(a.B.responseText)}
function yh(a){try{if(!a.B)return k;if("response"in a.B)return a.B.response;switch(a.Nf){case "":case "text":return a.B.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.B)return a.B.mozResponseArrayBuffer}ah(a.J,"Response type "+a.Nf+" is not supported on this browser");return k}catch(b){return bh(a.J,"Can not get response: "+b.message),k}}function rh(a,b){return b+" ["+a.tj+" "+a.oe+" "+xh(a)+"]"};function T(){M.call(this);this.wc=[];this.cd={};this.subscribe(Ff,this.vc,this);this.subscribe(If,this.Yh,this)}s(T,M);ma(T);m=T.prototype;m.get=function(a){return this.cd[a]};function Pf(a,b){if(a.p&&a.p.j()&&(b&&!a.p.H||!b))return a.p;if(a.le&&a.le.j()&&(b&&!a.le.H||!b))return a.le;for(var c=k,d=k,e=0;!d&&e<a.wc.length;)d=(c=!a.wc[e].H?a.wc[e]:k)&&c.j(),e++;return c}m.Ug=function(a){Pb(a,p(function(a){this.Te(a)},this))};
m.Te=function(a){var b=new lg(a);this.wc.push(b);this.cd[a.id]=b;b.H&&(this.H=b);this.c(Hf,b);return b};m.vc=function(a,b){if(a&&!this.p||a&&this.p&&this.p.id!=a.id){this.le=this.p;this.p=a;this.Yh(a.j());var c=a.j(),c=c&&!Sb(c.media.ec);W("/_changechannel",we(),"POST","channel="+a.id+"&friends="+c+(b?"&forced=true":""));kg.a().vc(a,this.le)}};
m.Yh=function(a){this.p&&(this.s&&t(this.p.Zc,function(a){Tb(this.s.media.ec,a.k.id)},this),a&&(this.s=a,t(this.p.Zc,function(b){b.Yc||(a.media.ec[b.k.id]=b.k)})))};function Of(){var a=T.a();if(!a.H){var b=X.a().l;a.H=new lg({id:b.id,name:b.name.split(" ")[0]+"'s Channel"})}return a.H}var Ff="change-channel",If="next-program",Hf="add-channel",Gf="resize";function zh(){R.call(this);this.Hc=new Af("Guide");sf(this.Hc,16,j);this.ic=new Af("Sidebar");sf(this.ic,16,j);this.xh=new Af("Restart");this.Jb=new Af("Play");sf(this.Jb,16,j);this.Sd=new Af("Volume");sf(this.Sd,16,j);this.bd=new Af("Admin");sf(this.bd,16,j);this.tf=new Af("Info")}s(zh,R);m=zh.prototype;
m.w=function(){zh.d.w.call(this);this.no=B("right",this.b());this.ab=B("progress",this.b());this.dk=B("seek",this.b());this.Cb=B("elapsed",this.b());this.dn=B("title",this.b());this.Ei=B("duration",this.b());this.Sn=B("current-time",this.b());Qe(this,this.Hc);this.Hc.g(A("guide-toggle"));rf(this.Hc,y(this.b(),"guide-toggled"));Qe(this,this.ic);this.ic.g(A("sidebar-toggle"));rf(this.ic,y(this.b(),"sidebar-toggled"));Qe(this,this.xh);this.xh.g(B("restart",this.b()));Qe(this,this.Jb);this.Jb.g(B("play",
this.b()));Qe(this,this.Sd);this.Sd.g(B("volume",this.b()));Qe(this,this.tf);this.tf.g(A("info-toggle"));O(this.tf.b(),X.a().l.bg!=hg);Qe(this,this.bd);this.bd.g(A("admin-toggle"));O(this.bd.b(),X.a().l.bg==hg);var a=new Ah(this.$m,1E3,this);this.resize();this.o=new ke(this.dk);this.o.cb(l);var b=this.ab,c=this.Cb,d=this.Ei;this.o.be=function(a){if(0<a&&a<Q(b).width){this.target.style.left=a+"px";c.style.width=a+"px";var a=a/Q(b).width,g=U.a().j().media.duration;mc(d,Bh(Math.round(a*g).toString())+
" / "+Bh(g.toString()))}};P(P(P(P(P(P(P(P(P(P(P(P(this.i(),window,"resize",p(this.resize,this)),this.Hc,"action",p(function(){a.kf()},this)),this.ic,"action",p(function(a){a.stopPropagation();N.a().c(ld,$e(this.ic))},this)),this.xh,"action",p(function(a){a.stopPropagation();U.a().j()&&(a=dg(U.a().j().media),U.a().c(Jf,a),this.resize())},this)),this.Jb,"action",p(function(a){a.stopPropagation();N.a().c(nd,!$e(this.Jb));this.resize()},this)),this.tf,"action",p(function(a){a.stopPropagation();N.a().c("toggle-info")},
this)),this.Sd,"action",p(function(a){a.stopPropagation();N.a().c("mute",$e(this.Sd))},this)),this.bd,"action",p(function(a){a.stopPropagation();N.a().c("toggle-admin",$e(this.bd));this.resize()},this)),hd.a().Yd,gd,p(function(){if(U.a().j()){var a=U.a().getCurrentTime()/U.a().j().media.duration;3>U.a().j().media.duration-U.a().getCurrentTime()&&U.a().c(Ch);y(this.ab,"drag")||(mc(this.Ei,(U.a().getCurrentTime()?Bh(U.a().getCurrentTime().toString())+" / ":"")+Bh(U.a().j().media.duration.toString())),
$d(this.Cb,this.th?a*this.th:0))}},this)),this.ab,"click",p(function(a){!y(this.ab,"drag")&&U.a().j()&&(a=a.offsetX/Q(this.ab).width*U.a().j().media.duration,x(this.Cb,"animate"),U.a().c(Dh,a),L(p(function(){v(this.Cb,"animate")},this),1E3))},this)),this.o,"beforedrag",p(function(){v(this.ab,"drag")},this)),this.o,"end",p(function(a){this.dk.style.left="";a=a.left/Q(this.ab).width*U.a().j().media.duration;x(this.Cb,"animate");U.a().c(Dh,a);L(p(function(){x(this.ab,"drag");v(this.Cb,"animate")},this),
1E3)},this));U.a().subscribe(Jf,function(a){Eh(this,a,j)},this);U.a().subscribe(Fh,function(){this.o.cb(j);this.resize()},this);T.a().subscribe(Ff,function(){x(this.b(),"window");L(p(this.resize,this),1E3)},this);T.a().subscribe(If,function(){this.resize()},this);N.a().subscribe("mute",this.Tl,this);N.a().subscribe(md,this.Yf,this);N.a().subscribe(ld,function(a){rf(this.ic,a);z(this.b(),"sidebar-toggled",a);this.resize()},this);N.a().subscribe(nd,function(a){rf(this.Jb,!a)},this);U.a().subscribe(Fh,
function(){T.a().p.H&&U.a().j()&&this.resize()},this)};function Eh(a,b,c){mc(a.dn,b.media.name.toUpperCase());c&&(x(a.Cb,"animate"),$d(a.Cb,0),L(p(function(){v(this.Cb,"animate")},a),1E3))}m.Tl=function(a){rf(this.Sd,a)};m.$m=function(){var a=$e(this.Hc);N.a().c(md,a)};m.Yf=function(a){rf(this.Hc,a);a&&(x(this.b(),"window"),x(this.b(),"collapsed"),L(p(this.resize,this)));L(p(function(){z(this.b(),"guide-toggled",a);a||(T.a().p&&T.a().p.j(),v(this.b(),"collapsed"),this.resize())},this),a?0:600)};
m.resize=function(){if(!T.a().p.H&&!N.a().mc){O(this.ab,l);var a=A("guide"),b=B("current",a),b=ac("program",b),a=(b=b[b.length-1])?Sd(a).x+Sd(b).x+Q(b).width+210:9999999,a=Math.min(C().width-200,Math.max(100,C().width-a)),c=y(this.b(),"collapsed")&&!!b&&a<C().width-203;L(p(function(){z(this.b(),"window",c&&y(this.b(),"collapsed"))},this),400)}U.a().j()&&(O(this.ab,j),Eh(this,U.a().j()),this.th=C().width-($e(this.ic)?580:260)-50,$d(this.ab,this.th))};function Gh(a){return(a.link?'<a href="'+H(a.link)+'">':"")+'<div class="note'+(a.Lg?" pic":"")+'">'+(a.Lg?'<div class="picture"><img class="image" src='+H(a.Lg)+' style="display: none"/></div>':"")+'<div class="action">'+(a.k?H(a.k.name)+" ":"")+H(a.action)+'</div><div class="content">'+H(a.content)+'</div><div class="close"></div></div>'+(a.link?"</a>":"")};function Hh(){R.call(this)}s(Hh,R);Hh.prototype.Q=function(){this.e=E("div",{id:"notify"})};Hh.prototype.A=function(a){Hh.d.A.call(this,a);Uf.a().subscribe("flash",function(a,c,d,e,g){this.Wf(j,a,c,d,e,g)},this);Uf.a().subscribe("show",function(a,c,d,e,g){this.Wf(l,a,c,d,e,g)},this)};
Hh.prototype.Wf=function(a,b,c,d,e,g){var h=G(Gh,{action:b,content:c,k:d,Lg:e,link:g}),n=B("image",h);B("close",h);P(P(this.i(),B("close",h),"click",function(a){a.preventDefault();a.stopPropagation();F(h)}),n,"load",function(){O(n,j);L(function(){n.style.marginLeft=-1*n.clientWidth/2+"px";n.style.marginTop=-1*n.clientHeight/2+"px"})});this.b().appendChild(h);var r=B("note",h);L(function(){r&&(v(r,"show"),a?L(function(){x(r,"show");v(r,"fade-out");L(function(){F(h)},5100)},3E3):L(function(){v(r,"dim")},
3E3))})};function U(){M.call(this);this.subscribe(Jf,function(a){Of().c(mg,a);W("/_addprogram",we(),"POST","channel_id="+T.a().H.id+"&media_id="+a.media.id+"&async=true");qg(kg.a(),a.media)},this);this.subscribe(Fh,function(a){W("/_started",we(),"POST","media_id="+a.id)},this)}s(U,M);ma(U);U.prototype.Eh=ca("v");U.prototype.j=da("s");U.prototype.getCurrentTime=function(){return this.v&&this.v.getCurrentTime?this.v.getCurrentTime():0};
U.prototype.nf=function(){return this.v&&this.v.getCurrentTime?this.v.getCurrentTime():0};var Ch="before-end",Jf="play-async",Fh="playing",Dh="seek";function Ih(){te.call(this);this.queue=[]}s(Ih,te);Ih.prototype.add=function(a){Va(this.queue,a)||(this.queue.push(a),J(a,"finish",this.Yl,l,this))};Ih.prototype.n=function(){t(this.queue,function(a){a.ca()});this.queue.length=0;Ih.d.n.call(this)};function Jh(){Ih.call(this);this.Ua=0}s(Jh,Ih);
Jh.prototype.play=function(a){if(0==this.queue.length)return l;if(a||this.m==ue)this.Ua<this.queue.length&&this.queue[this.Ua].m!=ue&&this.queue[this.Ua].stop(l),this.Ua=0,this.cc();else if(1==this.m)return l;this.za("play");-1==this.m&&this.za("resume");this.startTime=q();this.ee=k;this.m=1;this.queue[this.Ua].play(a);return j};
Jh.prototype.stop=function(a){this.m=ue;this.ee=q();if(a)for(a=this.Ua;a<this.queue.length;++a){var b=this.queue[a];b.m==ue&&b.play();b.m==ue||b.stop(j)}else this.Ua<this.queue.length&&this.queue[this.Ua].stop(l);this.za("stop");this.dc()};Jh.prototype.Yl=function(){1==this.m&&(this.Ua++,this.Ua<this.queue.length?this.queue[this.Ua].play():(this.ee=q(),this.m=ue,this.za("finish"),this.dc()))};function Kh(a){return a*a*a}function Lh(a){return 1-Math.pow(1-a,3)};function Mh(){R.call(this)}s(Mh,R);m=Mh.prototype;
m.w=function(){Mh.d.w.call(this);(this.s=(this.ba=T.a().p)&&this.ba.j())&&q();this.Gc=B("fullscreen",this.b());var a=B("expand",this.b());O(this.Gc,this.ok());this.Md=A("stagecover");this.Dj=B("message",this.Md);this.I=B("spinner",this.Md);this.ze=B("restart",this.Md);this.ci=B("vote",this.b());this.Mc=B("like",this.b());this.zc=B("dislike",this.b());var b=new cf(document);Nh(this);this.s?Oh(this,this.s):U.a().c("no-media");P(P(P(P(P(P(P(P(P(this.i(),window,"resize",p(this.resize,this)),document,
"webkitfullscreenchange",p(function(){Lb(this.Gc,"full")},this)),document,"mozfullscreenchange",p(function(){Lb(this.Gc,"full")},this)),document,"fullscreenchange",p(function(){Lb(this.Gc,"full")},this)),this.Gc,"click",p(function(a){if(y(this.Gc,"full"))document.Lk&&document.Lk(),document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen();else{var b=B("main");b.Yj&&b.Yj();b.webkitRequestFullScreen&&b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
b.mozRequestFullScreen&&b.mozRequestFullScreen()}a.stopPropagation();a.preventDefault()},this)),a,"click",p(this.gn,this)),this.b(),"mousemove",p(function(a){var b=a.offsetX/this.Ja,a=a.offsetY/this.ra;if(0.7<b&&1>b&&0.7<a&&1>a&&(this.we==YT.PlayerState.PLAYING||this.we==YT.PlayerState.PAUSED))v(this.Md,"click-through"),L(p(function(){x(this.Md,"click-through")},this),500)},this)),b,"key",p(function(a){"32"==a.keyCode&&Ph(this)},this)),this.Md,"click",p(function(a){!y(A("queue"),"show")&&(!y(A("search"),
"show")&&!uc(a.target,"queue")&&!uc(a.target,"search"))&&Ph(this)},this));T.a().subscribe(Ff,this.vc,this);T.a().subscribe(If,function(a){this.s=a;Oh(this,a);Nh(this)},this);U.a().subscribe(Jf,this.nh,this);U.a().subscribe(Dh,this.Jm,this);U.a().subscribe(Ch,function(){Nh(this,j)},this);DESKTOP&&(P(P(P(this.i(),this.ze,"click",p(function(a){a.preventDefault();a.stopPropagation();this.s&&Oh(this,this.s)},this)),this.Mc,"click",p(this.Nj,this,this.Mc,j)),this.zc,"click",p(this.Nj,this,this.zc,l)),N.a().subscribe(ld,
function(a){this.resize(a)},this),N.a().subscribe(md,function(){L(p(this.resize,this))},this),N.a().subscribe(nd,function(a){a?this.v.playVideo():this.v.pauseVideo();var a=B(a?"play":"pause",this.b()),b=new Jh;b.add(new Je(a,250,Lh));b.add(new Ie(a,250,Kh));b.play()},this),N.a().subscribe("mute",function(a){this.v&&(a?this.v.mute():this.v.unMute())},this),N.a().subscribe("restart",function(){this.v.seekTo(0)},this));this.resize()};
function Ph(a){if(a.v&&a.v.getPlayerState&&DESKTOP)switch(a.v.getPlayerState()){case YT.PlayerState.PLAYING:N.a().c(nd,l);break;case YT.PlayerState.PAUSED:N.a().c(nd,j)}}m.ok=function(){var a=B("main");return!(!a.Yj&&!a.webkitRequestFullScreen&&!a.mozRequestFullScreen)};m.gn=function(a){a.preventDefault();a.stopPropagation();Z.a();a=!y(A("sidebar"),"toggled");DESKTOP&&(N.a().c(ld,a),N.a().c(md,a))};
function Oh(a,b){U.a().s=b;a.Jl!=b.id&&(Uf.a().c("flash","Now playing",b.media.name,i,b.media.Nh,"#info:"+b.media.id),a.Jl=b.id);a.play(b.media);DESKTOP&&W("/_like/"+b.media.id,p(function(a){a=Y(a.target);z(this.Mc,"checked",a.liked||y(this.Mc,"checked"));z(this.zc,"checked",a.disliked||y(this.zc,"checked"))},a))}
m.play=function(a,b){!this.v||!this.v.loadVideoById?(this.v=new YT.Player("ytplayer",{height:C().height-40,width:C().width,videoId:a.sd,playerVars:{controls:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"opaque",origin:HOST_URL,enablejsapi:1},events:{onStateChange:p(this.vm,this),onReady:p(this.im,this),onError:p(this.hm,this)}}),U.a().Eh(this.v)):(this.v.cueVideoById(a.sd),L(p(function(){var c=b||0;!this.v.getPlayerState()&&4>c?this.play(a,++c):4<=c&&Nh(this,i,j)},this),1E3))};
m.resize=function(){if(IPHONE)$d(this.b(),C().width-320);else{var a=A("stagecover"),b=B("message",a),c=A("guide").style.height,c=c.substring(0,c.length-2),c=N.a().Ic?c:40,d=N.a().Vc?320:0;this.ra=C().height-c;this.Ja=C().width-d;Zd(this.b(),C().height-c);$d(this.b(),C().width-d);Zd(a,C().height-c);$d(a,C().width-d);a=Q(b);Ld(b,{"margin-left":-a.width/2+"px","margin-top":-a.height/2+"px"});z(this.Gc,"full",this.ok&&(document.fullScreen||document.webkitIsFullScreen||document.io))}};
m.vc=function(a){if(a=a.j())this.s=a,Oh(this,a);Nh(this)};m.Nj=function(a,b,c){c.preventDefault();c.stopPropagation();this.s&&(a=Lb(a,"checked"),(c=b&&y(this.zc,"checked")||!b&&y(this.Mc,"checked"))&&x(b?this.zc:this.Mc,"checked"),W(b?"/_like":"/_dislike",i,"POST","media_id="+this.s.media.id+(!a?"&delete=1":"")+(c?"&flip=1":"")))};m.nh=function(a){this.s=a;Oh(this,a);Nh(this);W("/_optin",we(),"POST","media_id="+this.s.media.id)};m.Jm=function(a){this.v.seekTo&&this.v.seekTo(a,j)};
m.vm=function(a){this.we=a.data;Nh(this);switch(a.data){case YT.PlayerState.CUED:a=this.s.async?this.s.seek:(q()-this.s.time.getTime())/1E3;this.v.seekTo(a);this.v.playVideo();N.a().c(nd,j);break;case YT.PlayerState.PLAYING:U.a().c(Fh,this.s.media);break;case YT.PlayerState.ENDED:X.a().l.ef.Tf(this.s.media),z(this.Mc,"checked",l),z(this.zc,"checked",l),(a=T.a().p.j())?T.a().c(If,a):(U.a().s=k,T.a().c(Ff,Pf(T.a()),j))}};
m.im=function(){L(p(function(){if(this.v&&(!this.v.getPlayerState||!this.v.getPlayerState()))Oh(this,this.s);else if(this.v.getPlayerState()){this.v.setPlaybackQuality("large");var a=this.s.async?this.s.seek:(q()-this.s.time.getTime())/1E3;this.v.seekTo(a);this.v.playVideo();DESKTOP&&N.a().c("mute",this.v.isMuted())}},this),1E3)};m.hm=function(){U.a().c("no-media");Nh(this,i,j)};
function Nh(a,b,c){if(!IPHONE){var d=A("stagecover"),e=a.s?U.a().getCurrentTime():0;c?(O(a.I,l),O(a.ze,j),v(d,"covered")):(!a.s||a.s&&e>a.s.media.duration?(U.a().c("no-media"),mc(a.Dj.firstChild,Qh),O(a.I,l),O(a.ze,l),O(a.ci,l),v(d,"covered")):a.we!=YT.PlayerState.PLAYING&&a.we!=YT.PlayerState.PAUSED||b?(mc(a.Dj.firstChild,Rh),O(a.I,j),O(a.ze,l),O(a.ci,l),v(d,"covered")):(O(a.I,l),O(a.ze,l),x(d,"covered"),O(a.ci,j)),ce(d,a.we==YT.PlayerState.BUFFERING?0.9:1),a.resize())}}
var Qh="THIS CHANNEL IS CURRENTLY OFFLINE",Rh="LOADING STORY";function Sh(a,b){R.call(this,b);this.pb=a||""}s(Sh,R);Sh.prototype.mb=k;var Th="placeholder"in document.createElement("input");m=Sh.prototype;m.he=l;m.Q=function(){this.e=this.Ya().Q("input",{type:"text"})};m.A=function(a){Sh.d.A.call(this,a);this.pb||(this.pb=a.getAttribute("label")||"");var b;a:{var c=$b(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.he=j,x(this.b(),this.Ud));Th?this.b().placeholder=this.pb:this.b().setAttribute("aria-label",this.pb)};
m.w=function(){Sh.d.w.call(this);var a=new Fd(this);P(a,this.b(),"focus",this.Wi);P(a,this.b(),"blur",this.jl);Th?this.z=a:(pb&&P(a,this.b(),["keypress","keydown","keyup"],this.pl),P(a,$b(this.b())?$b(this.b()).parentWindow||$b(this.b()).defaultView:window,"load",this.xl),this.z=a,Uh(this));Vh(this);this.b().Gl=this};m.Ec=function(){Sh.d.Ec.call(this);this.z&&(this.z.ca(),this.z=k);this.b().Gl=k};function Uh(a){!a.cl&&(a.z&&a.b().form)&&(P(a.z,a.b().form,"submit",a.sl),a.cl=j)}
m.n=function(){Sh.d.n.call(this);this.z&&(this.z.ca(),this.z=k)};m.Ud="label-input-label";m.Wi=function(){this.he=j;x(this.b(),this.Ud);if(!Th&&!Wh(this)&&!this.Dl){var a=this,b=function(){a.b().value=""};u?L(b,10):b()}};m.jl=function(){Th||(Hd(this.z,this.b(),"click",this.Wi),this.mb=k);this.he=l;Vh(this)};m.pl=function(a){27==a.keyCode&&("keydown"==a.type?this.mb=this.b().value:"keypress"==a.type?this.b().value=this.mb:"keyup"==a.type&&(this.mb=k),a.preventDefault())};
m.sl=function(){Wh(this)||(this.b().value="",L(this.il,10,this))};m.il=function(){Wh(this)||(this.b().value=this.pb)};m.xl=function(){Vh(this)};function Wh(a){return!!a.b()&&""!=a.b().value&&a.b().value!=a.pb}m.clear=function(){this.b().value="";this.mb!=k&&(this.mb="")};m.reset=function(){Wh(this)&&(this.clear(),Vh(this))};m.Ea=function(a){this.mb!=k&&(this.mb=a);this.b().value=a;Vh(this)};m.D=function(){return this.mb!=k?this.mb:Wh(this)?this.b().value:""};
function Vh(a){Th?a.b().placeholder!=a.pb&&(a.b().placeholder=a.pb):(Uh(a),a.b().setAttribute("aria-label",a.pb));Wh(a)?x(a.b(),a.Ud):(!a.Dl&&!a.he&&v(a.b(),a.Ud),Th||L(a.Gm,10,a))}m.cb=function(a){this.b().disabled=!a;z(this.b(),this.Ud+"-disabled",!a)};m.isEnabled=function(){return!this.b().disabled};m.Gm=function(){this.b()&&(!Wh(this)&&!this.he)&&(this.b().value=this.pb)};function Xh(a,b,c,d,e,g,h,n,r){var w,D;if(w=c.offsetParent){var K="HTML"==w.tagName||"BODY"==w.tagName;if(!K||"static"!=Pd(w,"position"))D=Wd(w),K||(K=(K=Xd(w))&&pb?-w.scrollLeft:K&&(!u||!Bb("8"))?w.scrollWidth-w.clientWidth-w.scrollLeft:w.scrollLeft,D=Nb(D,new Mb(K,w.scrollTop)))}w=D||new Mb;D=be(a);if(K=Vd(a)){var aa=new Kd(K.left,K.top,K.right-K.left,K.bottom-K.top),K=Math.max(D.left,aa.left),S=Math.min(D.left+D.width,aa.left+aa.width);if(K<=S){var ua=Math.max(D.top,aa.top),aa=Math.min(D.top+D.height,
aa.top+aa.height);ua<=aa&&(D.left=K,D.top=ua,D.width=S-K,D.height=aa-ua)}}K=Yb(a);ua=Yb(c);if(K.G!=ua.G){var S=K.G.body,ua=ua.G.parentWindow||ua.G.defaultView,aa=new Mb(0,0),gb=$b(S)?$b(S).parentWindow||$b(S).defaultView:window,fg=S;do{var ia;if(gb==ua)ia=Wd(fg);else{ia=fg;var Eb=new Mb;if(1==ia.nodeType){if(ia.getBoundingClientRect){var qa=Td(ia);Eb.x=qa.left;Eb.y=qa.top}else{var qa=wc(Yb(ia)),$a=Wd(ia);Eb.x=$a.x-qa.x;Eb.y=$a.y-qa.y}pb&&!Bb(12)&&(qa=i,qa=i,u?qa="-ms-transform":qb?qa="-webkit-transform":
ob?qa="-o-transform":pb&&(qa="-moz-transform"),$a=i,qa&&($a=Pd(ia,qa)),$a||($a=Pd(ia,"transform")),$a?(ia=$a.match(je),qa=!ia?new Mb(0,0):new Mb(parseFloat(ia[1]),parseFloat(ia[2]))):qa=new Mb(0,0),Eb=new Mb(Eb.x+qa.x,Eb.y+qa.y))}else qa=ta(ia.dl),$a=ia,ia.targetTouches?$a=ia.targetTouches[0]:qa&&ia.ja.targetTouches&&($a=ia.ja.targetTouches[0]),Eb.x=$a.clientX,Eb.y=$a.clientY;ia=Eb}aa.x+=ia.x;aa.y+=ia.y}while(gb&&gb!=ua&&(fg=gb.frameElement)&&(gb=gb.parent));S=Nb(aa,Wd(S));u&&!vc(K)&&(S=Nb(S,wc(K)));
D.left+=S.x;D.top+=S.y}a=(b&4&&Xd(a)?b^2:b)&-5;b=new Mb(a&2?D.left+D.width:D.left,a&1?D.top+D.height:D.top);b=Nb(b,w);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var V;if(h)if(r)V=r;else if(V=Vd(c))V.top-=w.y,V.right-=w.x,V.bottom-=w.y,V.left-=w.x;a:{r=b.clone();e=0;a=(d&4&&Xd(c)?d^2:d)&-5;d=Q(c);n=n?n.clone():d.clone();if(g||0!=a)a&2?r.x-=n.width+(g?g.right:0):g&&(r.x+=g.left),a&1?r.y-=n.height+(g?g.bottom:0):g&&(r.y+=g.top);if(h){if(V){g=r;e=0;if(65==(h&65)&&(g.x<V.left||g.x>=V.right))h&=-2;if(132==
(h&132)&&(g.y<V.top||g.y>=V.bottom))h&=-5;g.x<V.left&&h&1&&(g.x=V.left,e|=1);g.x<V.left&&(g.x+n.width>V.right&&h&16)&&(n.width=Math.max(n.width-(g.x+n.width-V.right),0),e|=4);g.x+n.width>V.right&&h&1&&(g.x=Math.max(V.right-n.width,V.left),e|=1);h&2&&(e|=(g.x<V.left?16:0)|(g.x+n.width>V.right?32:0));g.y<V.top&&h&4&&(g.y=V.top,e|=2);g.y>=V.top&&(g.y+n.height>V.bottom&&h&32)&&(n.height=Math.max(n.height-(g.y+n.height-V.bottom),0),e|=8);g.y+n.height>V.bottom&&h&4&&(g.y=Math.max(V.bottom-n.height,V.top),
e|=2);h&8&&(e|=(g.y<V.top?64:0)|(g.y+n.height>V.bottom?128:0));h=e}else h=256;e=h;if(e&496){c=e;break a}}Qd(c,r);if(!(d==n||(!d||!n?0:d.width==n.width&&d.height==n.height)))g=vc(Yb($b(c))),u&&(!g||!Bb("8"))?(h=c.style,g?(g=fe(c,"padding"),c=ie(c),h.pixelWidth=n.width-c.left-g.left-g.right-c.right,h.pixelHeight=n.height-c.top-g.top-g.bottom-c.bottom):(h.pixelWidth=n.width,h.pixelHeight=n.height)):(c=c.style,pb?c.MozBoxSizing="border-box":qb?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=
Math.max(n.width,0)+"px",c.height=Math.max(n.height,0)+"px");c=e}return c};function Yh(){}Yh.prototype.rb=ba();function Zh(a,b,c){this.element=a;this.tg=b;this.sm=c}s(Zh,Yh);Zh.prototype.rb=function(a,b,c){Xh(this.element,this.tg,a,b,i,c,this.sm)};function $h(a,b,c,d){Zh.call(this,a,b);this.Kl=c?5:0;this.ih=d||i}s($h,Zh);$h.prototype.rb=function(a,b,c,d){var e=Xh(this.element,this.tg,a,b,k,c,10,d,this.ih);if(e&496){var g=ai(e,this.tg),b=ai(e,b),e=Xh(this.element,g,a,b,k,c,10,d,this.ih);e&496&&(g=ai(e,g),b=ai(e,b),Xh(this.element,g,a,b,k,c,this.Kl,d,this.ih))}};function ai(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function bi(a,b){I.call(this);this.T=new Fd(this);this.ud&&f(Error("Can not change this state of the popup while showing."));this.e=a||k;b&&this.gk(b)}s(bi,dd);m=bi.prototype;m.e=k;m.Jk=j;m.ki=k;m.ud=l;m.Lm=l;m.Sg=-1;m.rj=-1;m.zl=l;m.Wk=j;m.qc="toggle_display";m.gk=ca("qc");m.b=da("e");m.ob=da("ud");m.sb=function(a){this.Ce&&this.Ce.stop();this.ie&&this.ie.stop();a?this.Wf():this.rd()};m.rb=la;
m.Wf=function(){if(!this.ud&&this.dispatchEvent("beforeshow")){this.e||f(Error("Caller must call setElement before trying to show the popup"));this.rb();var a=$b(this.e);this.zl&&P(this.T,a,"keydown",this.am,j);if(this.Jk)if(P(this.T,a,"mousedown",this.Mj,j),u){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(e){break}a=d;b=a.activeElement}P(this.T,a,"mousedown",this.Mj,j);P(this.T,a,"deactivate",this.Lj)}else P(this.T,
a,"blur",this.Lj);"toggle_display"==this.qc?(this.e.style.visibility="visible",O(this.e,j)):"move_offscreen"==this.qc&&this.rb();this.ud=j;this.Ce?(Xc(this.Ce,"end",this.Rj,l,this),this.Ce.play()):this.Rj()}};m.rd=function(a){if(!this.ud||!this.dispatchEvent({type:"beforehide",target:a}))return l;this.T&&Id(this.T);this.ud=l;this.rj=q();this.ie?(Xc(this.ie,"end",Ba(this.vi,a),l,this),this.ie.play()):this.vi(a);return j};
m.vi=function(a){"toggle_display"==this.qc?this.Lm?L(this.dj,0,this):this.dj():"move_offscreen"==this.qc&&(this.e.style.top="-10000px");this.dispatchEvent({type:"hide",target:a})};m.dj=function(){this.e.style.visibility="hidden";O(this.e,l)};m.Rj=function(){this.Sg=q();this.rj=-1;this.dispatchEvent("show")};m.Mj=function(a){a=a.target;!lc(this.e,a)&&((!this.ki||lc(this.ki,a))&&!(150>q()-this.Sg))&&this.rd(a)};m.am=function(a){27==a.keyCode&&this.rd(a.target)&&(a.preventDefault(),a.stopPropagation())};
m.Lj=function(a){if(this.Wk){var b=$b(this.e);if(u||ob){if(a=b.activeElement,!a||lc(this.e,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>q()-this.Sg||this.rd()}};m.n=function(){bi.d.n.call(this);this.T.ca();Gc(this.Ce);Gc(this.ie);delete this.e;delete this.T};function ci(a,b){this.Uj=4;this.ph=b||i;bi.call(this,a)}s(ci,bi);function di(a,b){a.Uj=b;a.ob()&&a.rb()}function ei(a,b){a.ph=b||i;a.ob()&&a.rb()}function fi(a,b,c,d,e){a.Pl=b==k||b instanceof Jd?b:new Jd(b,c,d,e);a.ob()&&a.rb()}ci.prototype.rb=function(){if(this.ph){var a=!this.ob()&&"move_offscreen"!=this.qc,b=this.b();a&&(b.style.visibility="hidden",O(b,j));this.ph.rb(b,this.Uj,this.Pl);a&&O(b,l)}};function gi(a,b,c){I.call(this);this.Wb=a;this.U=b;this.T=c;this.jg=p(this.pm,this)}s(gi,I);var Ah=gi;m=gi.prototype;m.Vf=l;m.Tj=0;m.xa=k;m.kf=function(){!this.xa&&!this.Tj?this.ce():this.Vf=j};m.stop=function(){this.xa&&(fd.clearTimeout(this.xa),this.xa=k,this.Vf=l)};m.n=function(){gi.d.n.call(this);this.stop()};m.pm=function(){this.xa=k;this.Vf&&!this.Tj&&(this.Vf=l,this.ce())};m.ce=function(){this.xa=L(this.jg,this.U);this.Wb.call(this.T)};function hi(a,b){I.call(this);this.Wb=a;this.T=b;this.lb=new ve(p(this.om,this),0,this)}s(hi,I);m=hi.prototype;m.U=0;m.yh=0;m.kj=l;m.n=function(){this.lb.ca();delete this.Wb;delete this.T;hi.d.n.call(this)};m.start=function(a,b){this.stop();this.kj=l;var c=b||0;this.U=Math.max(a||0,0);this.yh=0>c?-1:q()+c;this.lb.start(0>c?this.U:Math.min(this.U,c))};m.stop=function(){this.lb.stop()};m.Tb=function(){return this.lb.Tb()};
m.om=function(){if(this.Wb.call(this.T))this.kj=j;else if(0>this.yh)this.lb.start(this.U);else{var a=this.yh-q();0>=a||this.lb.start(Math.min(this.U,a))}};function ii(a){I.call(this);this.e=a;this.se=this.e.value;this.z=new Fd(this);this.qb=q();qb||u||pb&&Bb("1.9")?P(this.z,a,"paste",this.jd):P(this.z,a,["keydown","blur","focus","mouseover","input"],this.ql);this.lb=new hi(p(this.pi,this))}s(ii,dd);m=ii.prototype;m.m="init";m.J=eh("goog.events.PasteHandler");m.n=function(){ii.d.n.call(this);this.z.ca();this.z=k;this.lb.ca();this.lb=k};
m.pi=function(){if(this.se==this.e.value)return l;this.J.info("detected textchange after paste");this.dispatchEvent("after_paste");return j};m.jd=function(a){a=new Nc(a.ja);a.type="paste";this.dispatchEvent(a);L(function(){this.pi()||this.lb.start(50,200)},0,this)};
m.ql=function(a){switch(this.m){case "init":switch(a.type){case "blur":this.m="init";break;case "focus":this.m="focused";break;case "mouseover":this.m="init";this.e.value!=this.se&&(this.J.info("paste by dragdrop while on init!"),this.jd(a));break;default:ah(this.J,"unexpected event "+a.type+"during init")}break;case "focused":switch(a.type){case "input":var b=this.qb+400;if(q()>b||"focus"==this.Am)this.J.info("paste by textchange while focused!"),this.jd(a);break;case "blur":this.m="init";break;
case "keydown":this.J.info("key down ... looking for ctrl+v");if(jb&&ob&&0==a.keyCode||jb&&ob&&17==a.keyCode)break;this.m="typing";break;case "mouseover":this.e.value!=this.se&&(this.J.info("paste by dragdrop while focused!"),this.jd(a));break;default:ah(this.J,"unexpected event "+a.type+" during focused")}break;case "typing":switch(a.type){case "input":this.m="focused";break;case "blur":this.m="init";break;case "keydown":if(a.ctrlKey&&86==a.keyCode||a.shiftKey&&45==a.keyCode||a.metaKey&&86==a.keyCode)this.J.info("paste by ctrl+v while keypressed!"),
this.jd(a);break;case "mouseover":this.e.value!=this.se&&(this.J.info("paste by dragdrop while keypressed!"),this.jd(a));break;default:ah(this.J,"unexpected event "+a.type+" during keypressed")}break;default:ah(this.J,"invalid "+this.m+" state")}this.qb=q();this.se=this.e.value;this.J.info(a.type+" -> "+this.m);this.Am=a.type};function ji(){return'<div class="popup" id="popup" style="visibility: hidden; display: none;"><div class="content"></div><div id="tailarrow"></div></div>'}function ki(a){return(a.link?'<a href="'+H(a.link)+'">':"")+'<div class="tooltip">'+H(a.text)+"</div>"+(a.link?"</a>":"")}
function li(){return'<div class="select-program"><div class="select-header">Suggest a Program</div><div class="select-content"><div class="page"><input type="text" class="program-input" placeholder="paste a youtube link"/><div class="page2"></div></div></div></div>'}function mi(a){return'<div class="confirm-media"><img src="'+H(a.Lh)+'" /><div class="title">'+H(a.title)+'</div><div class="dark button">Yes</div></div>'};function Gg(){var a=A("popup");a||(a=G(ji),document.body.appendChild(a));ci.call(this,a);J(window,"resize",p(this.sb,this,l));J(this,"hide",this.dm);this.Gh=this.Ig=l;this.q=rg.a();this.q.subscribe("tooltip",this.Tm,this);this.q.subscribe("select-program",this.Nm,this);this.q.subscribe("hide",this.rd,this);J(this.b(),"mouseover",p(function(){this.Ig=j},this));J(this.b(),"mouseout",p(function(){this.Ig=l;this.Gh&&this.q.c("hide")},this))}s(Gg,ci);ma(Gg);
function Fg(a,b,c,d){J(b,"mouseover",p(function(){this.qi&&fd.clearTimeout(this.qi);this.Gh=l;this.q.c("tooltip",b,c,d)},a));J(b,"mouseout",p(function(){this.qi=L(p(function(){this.Ig?this.Gh=j:this.q.c("hide")},this),100)},a))}m=Gg.prototype;m.dm=function(){this.rd();this.q.c("on-hide")};m.nb=function(){return B("content",this.b())};
m.Tm=function(a,b,c){this.sb(l);"top"==b?(di(this,1),b=-1*(Q(this.b()).width-Q(a).width)/2,fi(this,0,0,6,b),ei(this,new $h(a,4)),this.b().className="popup",v(this.b(),"top")):"left"==b&&(di(this,0),b=-1*(Q(this.b()).height-Q(a).height)/2,fi(this,b,6,0,0),ei(this,new $h(a,6)),this.b().className="popup",v(this.b(),"left"));zc(this.nb(),ki,{text:c.text,link:c.link});this.sb(j)};
m.Nm=function(a,b){this.sb(l);di(this,0);var c=-1*(Q(this.b()).height-Q(a).height)/2;fi(this,c,0,0,5);ei(this,new $h(a,6));v(this.b(),"left");zc(this.nb(),li);this.Ge=new Sh("paste a YouTube link");this.Ge.g(B("program-input",this.b()));var c=new cf(this.Ge.b()),d=new ii(this.Ge.b()),e=new Ah(p(this.eh,this,b),1E3);this.sb(j);P(P(P(this.T,d,"after_paste",p(this.eh,this,b)),c,"key",p(function(){e&&e.kf()},this)),this.Ge.b(),"focus",p(this.eh,this,b))};
m.eh=function(a){var b=B("select-content",this.b());try{var c;var d=this.Ge.D(),e=ni.exec(d);e?c=new oi(e[1]||e[2],i,i):f(Error("failed to parse video id from youtube url: "+d));W(Da("https://gdata.youtube.com/feeds/api/videos/%s?v=2&alt=json",c.Ck),p(function(d){var e=fh(yh(d.target)).entry,d=e.title.$t,g=e.media$group.media$thumbnail[0].url,e=B("page2",this.b());zc(e,mi,{title:d,Lh:g});d=new Af("Yes");d.g(B("button",e));(new Ge(b,[0,0],[260,0],300,Lh)).play();P(this.T,d,"action",p(this.$g,this,
a,c))},this))}catch(g){}};m.$g=function(a,b){W("/_addprogram",p(function(b){b=fh(yh(b.target));b=new cg(b);a.c(mg,b);this.sb(l)},this),"POST","channel="+a.id+"&youtube_id="+b.Ck)};function pi(){M.call(this);this.mi=[];this.Zj=[]}s(pi,M);ma(pi);
pi.prototype.search=function(a,b){W("https://gdata.youtube.com/feeds/api/videos?q="+a+"&max-results=10&v=2&alt=json",p(function(a){a=Y(a.target);this.Zj=Ra(a.feed.entry,function(a){var b=new Wf({id:"youtube"+a.media$group.yt$videoid.$t,name:a.title.$t,host_id:a.media$group.yt$videoid.$t,description:a.media$group.media$description.$t,duration:a.media$group.yt$duration.seconds,publisher:{name:a.author[0].name.$t,id:"youtube"+a.author[0].name.$t,picture:"https://i4.ytimg.com/i/"+a.author[0].yt$userId.$t+
"/1.jpg"}});b.gc=td(a.published.$t);return b},this);b&&b(this.Zj)},this))};function qi(a){return'<div class="search-channel"><div class="pic"><img src="'+H(a.Lh)+'"></div><div class="title">'+H(a.name)+'</div><div class="loading loading-channel"><div class="loading-spinner"></div></div></div>'};function ri(a){return'<div class="info"><div class="picture"><img src="'+H(a.media.ub)+'" class="thumb"><div class="publisher"><img src="'+H(a.media.ka.M)+'"><div class="name">'+H(a.media.ka.name)+'</div></div><div class="links"><div class="local"></div><a target="_blank" href="'+a.media.Al+'"><div class="host"></div></a></div><div class="link-select" style="display:none"><input onClick="this.select();" class="link-input" type="text" value="'+a.media.link+'" readonly="readonly"/></div><div class="title"><div class="text">'+
H(a.media.name)+'</div></div><div class="scrollable ios-scroll" '+(!a.description?'style="display:none"':"")+'><div class="desc-link"><a href="#">DESCRIPTION</a><div class="published">'+H(a.gc)+'</div></div><div class="description">'+a.description+'</div></div><div class="button play"><div class="icon"></div></div><div class="options"><div class="button star"><div class="icon"></div></div><div class="button facebook"><div class="icon"></div></div><div class="button twitter"><div class="icon"></div></div><div class="button plus"><div class="icon"></div></div></div></div><div class="viewers" style="display: none"><div class="label"><div class="eye-icon"></div></div></div><div class="info-contents"><div class="scrollable ios-scroll"><div class="user-poll" style="display: none"><div class="label"><div class="status">VOTE</div></div><div class="poll-options"></div></div><div class="tweet-holder" style="display:none"><div class="label"><div class="globe-icon"></div><a class="tweets-link">LATEST TWEETS</a></div><div class="tweets"></div><div class="dot-nav"></div></div><div class="comments-holder ios-scroll" style="display:none"><div class="label"><div class="friends-icon"></div><a class="conv-link">CONVERSATION</a>'+
(a.Hl?'<a class="prev-link">&#10218; LAST PROGRAM</a>':"")+'</div><div class="no-comments" style="display:none">Start the conversation with friends.</div><div class="comments"></div><div class="top-grad"></div><div class="bottom-grad"></div></div></div></div><div class="loading loading-activity"><div class="loading-spinner"></div></div><div class="overlay" style="display: none"><div class="leaving"><div>This program is over. Carry on?</div><div class="button dark no">Not yet</div><div class="button dark yes">Let\'s go</div></div></div></div>'}
function si(a){return'<div class="viewer" name="'+H(a.nd)+'"><img src="'+H(a.k.M)+'"></div>'}
function ti(a){return'<div class="tweet" id="'+H(a.prefix)+"-"+H(a.Lb.id)+'">'+(a.Lb.k?'<a href="#user:'+H(a.Lb.k.id)+'"><img src="'+H(a.Lb.M)+'"/></a>':'<img src="'+H(a.Lb.M)+'"/>')+'<div class="text"><a class="handle" target="_blank" href="http://www.twitter.com/'+H(a.Lb.handle)+"/status/"+H(a.Lb.id)+'">'+H(a.Lb.handle)+"</a> "+a.text+'</div><div class="timestamp">'+H(a.timestamp)+'</div><div class="tweet-options"><div class="reply"></div></div></div>'}
function ui(a){return'<div class="comment'+(a.sa.P?" reply":"")+'" '+(a.sa.id?'id="'+H(a.prefix)+"-"+H(a.sa.id)+'"':"")+">"+(!a.sa.P?'<a href="#user:'+H(a.sa.k.id)+'"><div class="user-picture" style="background:'+H(a.sa.k.color)+'"><img src="'+H(a.sa.k.M)+'"/></div></a>':"")+'<div class="template"><a class="user" href="#user:'+H(a.sa.k.id)+'">'+H(a.sa.k.name)+'</a>  <div class="text">'+a.text+'<div class="comment-options">'+(a.Sj?'<div class="remove"></div> ':"")+'<div class="reply"></div></div></div><div class="timestamp">'+
H(a.sa.Id)+'</div><div class="replies"></div>'+(!a.sa.P?'<div class="reply-input"><textarea class="reply-textarea" rows="1" placeholder="reply..."></textarea></div>':"")+"</div></div>"}
function vi(){return'<div class="comment-input"><div class="input-holder"><textarea class="comment-textarea" rows="1" placeholder="Add to the conversation..."></textarea></div><div class="comment-controls"><div class="comment-toggle tweet-toggle"><div class="icon"></div></div><div class="comment-toggle fb-toggle"><div class="icon"></div></div></div><div class="comment-button add-comment">POST</div></div>'}
function wi(a){var b='<div class="activity'+(1<a.L.length?" digest":"")+'">';if(1<a.L.length){for(var b=b+('<div class="template"><span>'+H(a.L.length)+" friends </span>"+(a.vk?"watched":"are watching")+(a.S?' <a href="#channel:'+H(a.S.id)+'">'+H(a.S.name)+"</a>":"")+'<div class="timestamp">'+H(a.time)+'</div></div><div class="users">'),c=a.L,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+H(g.id)+'"><div class="picture" style="background:'+H(g.color)+'"><img src="'+H(g.M)+'"/></div></a>');
b+="</div>"}return b+=(1==a.L.length?'<a href="#user:'+H(a.L[0].id)+'"><div class="picture" style="background:'+H(a.L[0].color)+'"><img src="'+H(a.L[0].M)+'"/></div></a><div class="template"><a class="user" href="#user:'+H(a.L[0].id)+'">'+H(a.L[0].name)+"</a> "+(a.vk?"watched":"is watching")+(a.S?' <a href="#channel:'+H(a.S.id)+'">'+H(a.S.name)+"</a>":"")+'<div class="timestamp">'+H(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function xi(a){for(var b='<div class="comment activity'+(1<a.Bb.length?" digest":"")+'">'+(1<a.Bb.length?'<div class="template">'+(1==a.L.length?'<a class="user" href="#user:'+H(a.L[0].id)+'">'+H(a.L[0].name)+' </a> discussed <a class="title" href="#info:'+H(a.media.id)+'">'+H(a.media.name)+"</a>.":"<span>"+H(a.L.length)+' friends </span> discussed <a class="title" href="#info:'+H(a.media.id)+'"> '+H(a.media.name)+"</a>.")+"</div>":""),a=a.Bb,c=a.length,d=0;d<c;d++)var e=a[d],b=b+('<div class="comment"><a href="#user:'+
H(e.k.id)+'"><div class="picture" style="background:'+H(e.k.color)+'"><img src="'+H(e.k.M)+'"/></div></a><div class="template"><a class="user" href="#user:'+H(e.k.id)+'">'+H(e.k.name)+'</a>  <div class="text">'+H(e.text)+'</div><div class="timestamp">'+H(e.Id)+"</div></div></div>");return b+'<div class="medias"></div></div>'}
function yi(a){var b='<div class="like activity'+(1<a.L.length?" digest":"")+'">';if(1<a.L.length){for(var b=b+('<div class="template"><span>'+H(a.L.length)+' friends </span>liked<div class="timestamp">'+H(a.time)+'</div></div><div class="users">'),c=a.L,d=c.length,e=0;e<d;e++)var g=c[e],b=b+('<a href="#user:'+H(g.id)+'"><div class="picture" style="background:'+H(g.color)+'"><img src="'+H(g.M)+'"/></div></a>');b+="</div>"}return b+=(1==a.L.length?'<a href="#user:'+H(a.L[0].id)+'"><div class="picture" style="background:'+
H(a.L[0].color)+'"><img src="'+H(a.L[0].M)+'"/></div></a><div class="template" style="top:10px;margin-bottom:30px"><a class="user" href="#user:'+H(a.L[0].id)+'">'+H(a.L[0].name)+"</a> liked "+(1<a.Aj?H(a.Aj)+" stories":"")+'<div class="timestamp">'+H(a.time)+"</div></div>":"")+'<div class="medias"></div></div>'}
function zi(a){return'<div class="list-info"><div class="picture-cell" '+(a.ub?'style="display:table-cell"':"")+">"+(a.link?'<a href="'+H(a.link)+'" target="_blank">':"")+'<div class="picture"><img class="thumb" src="'+H(a.ub)+'"></div>'+(a.link?"</a>":"")+'</div><div class="description" style="display:table-cell">'+a.description+"</div></div>"}function Ai(a){return'<li class="'+H(a.className)+' tab"><div class="label">'+H(a.name)+"</div></li>"}
function Bi(a){return'<div class="admin"><div class="scrollable ios-scroll"><div class="search"><input type="text" class="input" '+(a.ij?'placeholder="'+H(a.ij)+'"':"")+'/></div><div class="results"></div><div class="section" style="display:none"><div class="label">CHANNELS</div><div class="admin-channels"></div></div><div class="section" style="display:none"><div class="label">CURRENT TOPICS</div><div class="topics"></div></div><div class="section" style="display:none"><div class="label">COLLECTIONS</div><div class="collections"></div></div><div class="scroll-area"></div>'}
function Ci(){return'<div class="admin-list admin"><div class="search"><input class="input" type="text" placeholder="Paste video or playlist link" /></div><div class="tabbed pending"><ul class="tabs"><li class="tab pending"><div class="label">PENDING</div></li><li class="tab all"><div class="label">ALL</div></li><li class="tab playlists"><div class="label">PLAYLISTS</div></li><li class="tab publishers"><div class="label">PUBLISHERS</div></li><li class="tab categories"><div class="label">CATEGORIES</div></li></ul><div class="pending-content content pending"></div><div class="all-content content all"></div><div class="playlists-content content playlists"></div><div class="publishers-content content publishers"></div><div class="categories-content content categories"><div class="label">GUIDE CATEGORIES</div><div class="categories-list"></div><div class="label">FEED IDS</div><div class="feed-ids"></div><div class="label">FEED CATEGORIES</div><div class="feed-cats"></div></div><div class="spinner" style="display:none"></div></div>'}
function Di(a){return'<div class="playlist"><div class="title">'+H(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}function Ei(a){return'<div class="category button">'+H(a.name)+"</div>"}function Fi(a){return'<div class="publisher">'+(a.M?'<img src="'+H(a.M)+'"/>':"")+'<div class="title">'+H(a.name)+'</div><div class="controls"><div class="remove dark button">x</div></div></div>'}
function Gi(a){return'<div class="channel '+(a.S.$a?"on":"off")+'"><div class="title">'+H(a.S.name)+'</div><div class="controls"><div class="fetch dark button">FETCH</div><div class="program dark button">PROG.</div><div class="remove dark button">x</div><div class="on dark button">ON</div><div class="off dark button">OFF</div></div>'+(a.S.Dd?'<div class="pending">'+H(a.S.Dd)+"</div>":"")+"</div>"}
function Hi(a){return'<div class="collection"><div class="title">'+H(a.og.name)+'</div><div class="controls">'+(a.og.Dd?'<div class="pending">'+H(a.og.Dd)+"</div>":"")+'<div class="fetch dark button">FETCH</div><div class="button dark remove">x</div></div></div>'}function Ii(a){return'<div class="topic"><div class="title">'+H(a.hn)+'</div><div class="controls">'+(a.Dd?'<div class="pending">'+H(a.Dd)+"</div>":"")+"</div></div>"}
function Ji(){return'<div class="tabbed messages"><ul class="tabs"><li class="tab messages"><div class="label">MESSAGES</div></li><li class="tab activity"><div class="label">ACTIVITY</div></li><li class="tab starred"><div class="label"><div class="heart"></div>\'d</div></li></ul><div class="messages-content content messages"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="activity-content content activity"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="starred-content content starred"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div><div class="spinner" style="display:none"></div></div>'}
function Ki(){return'<div class="tabbed"><ul class="tabs"><li class="tab comments"><div class="label">CONVERSATION</div></li><li class="tab tweets"><div class="label">TWEETS</div></li></ul><div class="comments-content content comments-holder"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div class="tweets-content content tweet-holder"><div class="loading loading-starred"><div class="loading-spinner"></div></div></div></div>'}
function Li(a){return'<div class="list-media show"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+H(a.media.ub)+"); background-position: 50% "+H(a.media.Od)+'%"></div><div class="title">'+H(a.media.name)+'</div><div class="stats"><div class="comment-count"><div class="icon"></div>'+H(a.media.dd)+'</div><div class="like-count"><div class="icon"></div>'+H(a.media.Ll)+'</div></div></div></div><div class="publisher">'+(a.media.ka?'<img src="'+H(a.media.ka.M)+
'"><div class="name">'+H(a.media.ka.name)+"</div>":"")+'<div class="list-play"><div class="icon"></div></div><div class="list-plus"><div class="icon"></div></div></div></div>'}
function Mi(a){return'<div class="admin-media list-media"><div class="media"><div class="preview"><div class="thumb" style="background-image:url('+H(a.media.ub)+"); background-position: 50% "+H(a.media.Od)+'%"></div><div class="title">'+H(a.media.name)+'</div><div class="published">'+H(a.gc)+'</div><div class="play"></div><div class="approve"></div><div class="remove"></div><div class="repos"></div></div></div><div class="publisher"><img src="'+H(a.media.ka.M)+'"><div class="name">'+H(a.media.ka.name)+
'</div><div class="duration">'+H(a.media.duration)+' seconds</div></div><div class="description">'+H(a.media.description)+"</div></div>"}function Ni(a){return'<div class="option"><div class="percent"></div><div class="name">'+H(a.name)+'</div><div class="percent-number">'+H(a.lh)+"</div></div>"};function Oi(){R.call(this);this.Yb={};this.Zb=0;this.Db=l;this.V=new Sh("Search");this.qa=new Af("Search");sf(this.qa,16,j)}s(Oi,R);m=Oi.prototype;
m.A=function(a){Oi.d.A.call(this,a);this.V.g(A("search-input"));this.qa.g(A("search-icon"));this.Sf=A("search-results");this.Pf=B("result-medias",this.b());this.Of=B("result-channels",this.b());this.ng=A("clear-icon");var a=new cf(this.V.b()),b=new Ah(function(){if(this.V.D()){var a=pi.a(),b=this.V.D(),e=p(this.$l,this);W("https://www.googleapis.com/youtube/v3/search?q="+b+"&type=channel,playlist&part=snippet&maxResults=3&key=AIzaSyAUF3ESL0wYUuSWmOezgZclQFpNGZNBePw",p(function(a){a=Y(a.target);this.mi=
Ra(a.items,function(a){return{playlist_id:a.id.playlistId,channel_id:a.id.channelId,name:a.snippet.title,thumbnail:a.snippet.thumbnails["default"].url}},this);e&&e(this.mi)},a));pi.a().search(this.V.D(),p(this.nm,this));O(this.ng,j);v(this.b(),"show")}else this.Pf.innerHTML="",this.Of.innerHTML="",this.Db=l,z(this.Sf,"no-medias",j)},1E3,this);P(P(P(P(this.i(),this.b(),"click",p(function(){rf(this.qa,j);this.Db&&v(this.b(),"show")},this)),a,"key",p(function(a){a.stopPropagation();b.kf()},this)),this.ng,
"click",p(function(){this.V.Ea("");x(this.b(),"show");rf(this.qa,l);O(this.ng,l);this.Pf.innerHTML="";this.Of.innerHTML="";this.Db=l;z(this.Sf,"no-medias",j)},this)),window,"click",p(function(a){$e(this.qa)&&(uc(a.target,"search")||L(p(function(){x(this.b(),"show");rf(this.qa,l)},this)))},this))};m.$l=function(a){this.Of.innerHTML="";this.Db=!!a.length||this.Db;z(this.Sf,"no-medias",!this.Db);t(a,function(a){this.sc(a)},this)};
m.nm=function(a){this.Pf.innerHTML="";this.Db=!!a.length||this.Db;z(this.Sf,"no-medias",!this.Db);t(a,function(a){this.yb(a)},this)};
m.yb=function(a){var b=G(Li,{media:a}),c=B("list-play",b),d=B("list-plus",b);this.Pf.appendChild(b);P(P(P(this.i(),b,"click",p(function(b){b.preventDefault();b.stopPropagation();Z.a().c(Dg,a)},this)),c,"click",p(function(b){b.preventDefault();b.stopPropagation();x(this.b(),"show");b=dg(a);U.a().c(Jf,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();Of().c(ng,a,j)})};
m.sc=function(a){var b=G(qi,{name:a.name,Lh:a.thumbnail});this.Of.appendChild(b);P(this.i(),b,"click",p(function(c){c.preventDefault();c.stopPropagation();v(b,"loading");W("/_ytchannel",p(function(c){c=Y(c.target);a=T.a().Te(c.channel);c=new cg(c.program);a.c(mg,c);T.a().c(Ff,a);x(b,"loading")},this),"POST","&name="+a.name+(a.channel_id?"&channel_id="+a.channel_id:"")+(a.playlist_id?"&playlist_id="+a.playlist_id:""))},this))};function Z(){M.call(this)}s(Z,M);ma(Z);var Dg="media-info",Eg="profile";function Pi(){I.call(this);this.ke=[];this.Zm=[];this.Be=[]}s(Pi,dd);m=Pi.prototype;m.oj=l;m.pj=l;m.Og=l;m.fk=ca("Rf");m.init=function(){if(!this.Og){for(var a,b=0;a=this.ke[b];b++)Qi(this,a);this.Og=j}};function Qi(a,b){a.oj&&(J(b.element,"mousedown",b.Fj,l,b),a.Hh&&v(b.element,a.Hh));a.pj&&a.Kh&&v(b.element,a.Kh)}
m.Wc=function(a,b){if(!this.Ia)if(this.Ia=b,this.dispatchEvent(new Ri("dragstart",this,this.Ia))==l)this.Ia=k;else{var c=b.ed,d=this.cf(c);this.Tk&&v(d,this.Tk);this.ld=d;d=$b(c);d.body.appendChild(this.ld);var e=this.ld,g=Wd(c),c=fe(c,"margin");g.x-=2*(c.left||0);g.y-=2*(c.top||0);e.style.position="absolute";e.style.left=g.x+"px";e.style.top=g.y+"px";this.o=new ke(e);this.o.fk(this.Rf);J(this.o,"drag",this.Gj,l,this);J(this.o,"end",this.Dc,l,this);J(d.body,"selectstart",this.pk);this.Nd=[];for(d=
0;c=this.Zm[d];d++)for(var h,e=0;h=c.ke[e];e++)for(var g=c,n=[h.element],r=this.Nd,w=0;w<n.length;w++){var D=n[w],K=Wd(D),aa=Q(D),K=new Jd(K.y,K.x+aa.width,K.y+aa.height,K.x);r.push(new Si(K,g,h,D));Ti(this,K)}this.Kb||(this.Kb=new Jd(0,0,0,0));for(d=0;c=this.Be[d];d++)c.qg=[],c.$j=c.e.scrollLeft,c.ak=c.e.scrollTop,e=Wd(c.e),g=Q(c.e),c.X=new Jd(e.y,e.x+g.width,e.y+g.height,e.x);for(d=0;g=this.Nd[d];d++)for(e=0;c=this.Be[e];e++)lc(c.e,g.e)&&(c.qg.push(g),g.Ae=c);this.rc=k;for(d=0;c=this.Be[d];d++)J(c.e,
"scroll",this.ti,l,this);this.o.Wc(a);a.preventDefault()}};
m.Dc=function(a){var b=a.Sk?k:this.rc;if(b&&b.Fa){var c=a.clientX,a=a.clientY,d=wc(Yb(this.ld)),e=c+d.x,d=a+d.y,g;this.Fe&&(g=this.Fe(b.Fb,b.X,e,d));this.dispatchEvent(new Ri("drag",this,this.Ia,b.Fa,b.Fb,b.e,c,a,e,d));b.Fa.dispatchEvent(new Ri("drop",this,this.Ia,b.Fa,b.Fb,b.e,c,a,e,d,g))}this.dispatchEvent(new Ri("dragend",this,this.Ia));Yc(this.o,"drag",this.Gj,l,this);Yc(this.o,"end",this.Dc,l,this);Yc($b(this.Ia.ed).body,"selectstart",this.pk);for(b=0;c=this.Be[b];b++)Yc(c.e,"scroll",this.ti,
l,this),c.qg=[];this.o.ca();F(this.ld);delete this.Ia;delete this.ld;delete this.o;delete this.Nd;delete this.rc};
m.Gj=function(a){var b,c=wc(Yb(this.ld));b=new Mb(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.rc,g;if(e){this.Fe&&e.Fa&&(g=this.Fe(e.Fb,e.X,c,d));if(e.X.contains(b)&&g==this.ei)return;e.Fa&&(this.dispatchEvent(new Ri("dragout",this,this.Ia,e.Fa,e.Fb,e.e)),e.Fa.dispatchEvent(new Ri("dragout",this,this.Ia,e.Fa,e.Fb,e.e,i,i,i,i,this.ei)));this.ei=g;this.rc=k}if(this.Kb.contains(b)){a:{for(var h=0;e=this.Nd[h];h++)if(e.X.contains(b))if(e.Ae){if(e.Ae.X.contains(b)){b=e;break a}}else{b=e;break a}b=
k}if((e=this.rc=b)&&e.Fa)this.Fe&&(g=this.Fe(e.Fb,e.X,c,d)),c=new Ri("dragover",this,this.Ia,e.Fa,e.Fb,e.e),c.Ym=g,this.dispatchEvent(c),e.Fa.dispatchEvent(new Ri("dragover",this,this.Ia,e.Fa,e.Fb,e.e,a.clientX,a.clientY,i,i,g));else if(!e){this.Aa||(this.Aa=new Si(this.Kb.clone()));a=this.Aa.X;a.top=this.Kb.top;a.right=this.Kb.right;a.bottom=this.Kb.bottom;a.left=this.Kb.left;for(g=0;e=this.Nd[g];g++)b=e.X,e.Ae&&(e=e.Ae.X,b=new Jd(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,
e.bottom),Math.max(b.left,e.left))),e=k,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=k,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),e!==k&&h!==k&&(Math.abs(e-c)>Math.abs(h-d)?h=k:e=k),e===k?h!==k&&(h<=d?a.top=h:a.bottom=h):e<=c?a.left=e:a.right=e;this.rc=10<=(a.right-a.left)*(a.bottom-a.top)?this.Aa:k}}};m.pk=ea(l);
m.ti=function(a){for(var b=0,c;c=this.Be[b];b++)if(a.target==c.e){var d=c.ak-c.e.scrollTop,e=c.$j-c.e.scrollLeft;c.ak=c.e.scrollTop;c.$j=c.e.scrollLeft;this.Aa&&this.rc==this.Aa&&(0<d?this.Aa.X.top+=d:this.Aa.X.bottom+=d,0<e?this.Aa.X.left+=e:this.Aa.X.right+=e);for(var g=0,h;h=c.qg[g];g++)h=h.X,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,Ti(this,h)}this.o.Qj(a)};
m.cf=function(a){var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":return E("table",k,E("tbody",k,b));case "td":case "th":return E("table",k,E("tbody",k,E("tr",k,b)));default:return b}};function Ti(a,b){if(1==a.Nd.length)a.Kb=new Jd(b.top,b.right,b.bottom,b.left);else{var c=a.Kb;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
m.n=function(){Pi.d.n.call(this);for(var a,b=0;a=this.ke[b];b++)this.oj&&(Yc(a.element,"mousedown",a.Fj,l,a),this.Hh&&x(a.element,this.Hh)),this.pj&&this.Kh&&x(a.element,this.Kh),a.ca();this.ke.length=0};function Ri(a,b,c,d,e,g,h,n,r,w,D){Kc.call(this,a);this.Wn=b;this.Xn=c;this.Yn=d;this.$n=e;this.Zn=g;this.clientX=h;this.clientY=n;this.wo=r;this.xo=w;this.Ym=D}s(Ri,Kc);Ri.prototype.n=ba();
function Ui(a,b){I.call(this);this.element=A(a);this.data=b;this.R=k;this.element||f(Error("Invalid argument"))}s(Ui,dd);m=Ui.prototype;m.ed=k;m.Fj=function(a){if(Pc(a)){var b=a.target;b&&(J(b,"mousemove",this.zd,l,this),J(b,"mouseout",this.zd,l,this),J(b,"mouseup",this.Yg,l,this),this.ed=b,this.Ih=new Mb(a.clientX,a.clientY),a.preventDefault())}};m.Uf=ca("R");
m.zd=function(a){var b=this.ed,c="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.Ih.x)+Math.abs(a.clientY-this.Ih.y)||c)Yc(b,"mousemove",this.zd,l,this),Yc(b,"mouseout",this.zd,l,this),Yc(b,"mouseup",this.Yg,l,this),this.R.Wc(a,this)};m.Yg=function(){var a=this.ed;Yc(a,"mousemove",this.zd,l,this);Yc(a,"mouseout",this.zd,l,this);Yc(a,"mouseup",this.Yg,l,this);delete this.Ih;this.ed=k};function Si(a,b,c,d){this.X=a;this.Fa=b;this.Fb=c;this.e=d}Si.prototype.Ae=k;function Vi(){Pi.call(this)}s(Vi,Pi);function Wi(a,b){b.Uf(a);a.ke.push(b);a.Og&&Qi(a,b)};function Xi(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Fa(d),'="',Fa(b[d]),'" ');var e=c.join("");return a.replace(Yi,function(a,b,c,d,w){a=[Fa(b)];if(!c)return a[0];a.push("<a ",e,'href="');d?(a.push("mailto:"),c=d,d=""):(w||a.push("http://"),(d=c.match(Zi))?(c=d[1],d=d[2]):d="");c=Fa(c);d=Fa(d);a.push(c,'">',c,"</a>",d);return a.join("")})}
var Zi=/^(.*)([:;,\.?\[\]])$/,Yi=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*|$)","g");function $i(){}s($i,Ue);ma($i);m=$i.prototype;m.od=ba();m.g=function(a,b){nf(a);a.Ab&=-256;sf(a,32,l);$i.d.g.call(this,a,b);a.Tc(b.value);return b};m.Q=function(a){nf(a);a.Ab&=-256;sf(a,32,l);return a.Ya().Q("textarea",{"class":We(this,a).join(" "),disabled:!a.isEnabled()},a.ib||"")};m.uc=function(a){return"TEXTAREA"==a.tagName};m.Uc=la;m.Pg=function(a){return a.isEnabled()};m.Ld=la;m.wa=function(a,b,c){$i.d.wa.call(this,a,b,c);if((a=a.b())&&1==b)a.disabled=c};m.fb=la;
m.Tc=function(a,b){a&&(a.value=b)};m.ta=ea("goog-textarea");function aj(a,b,c){mf.call(this,a,b||$i.a(),c);nf(this);this.Kd(j);a||(this.ib="")}s(aj,mf);var bj=pb||qb;m=aj.prototype;m.td=l;m.Ja=0;m.wj=0;m.Ej=0;m.cj=l;m.Bf=l;m.Bh=l;m.Ah=l;function cj(a){return a.te.top+a.te.bottom+a.li.top+a.li.bottom}function dj(a){var b=a.Ej,c=a.b();b&&(c&&a.Bf)&&(b-=cj(a));return b}function ej(a){var b=a.wj,c=a.b();b&&(c&&a.Bf)&&(b-=cj(a));return b}m.Ea=function(a){this.Tc(String(a))};m.D=function(){return this.b().value};m.Tc=function(a){aj.d.Tc.call(this,a);this.resize()};
m.cb=function(a){aj.d.cb.call(this,a);this.b().disabled=!a};m.resize=function(){this.b()&&this.pf()};m.w=function(){aj.d.w.call(this);var a=this.b();Ld(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.te=fe(a,"padding");this.li=ie(a);P(P(P(P(this.i(),a,"scroll",this.pf),a,"focus",this.pf),a,"keyup",this.pf),a,"mouseup",this.Rl);this.resize()};
function fj(a){if(!a.cj){var b=a.b().cloneNode(l);Ld(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Ya().G.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.Bh=d>c;b.style.borderWidth="10px";a.Ah=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Bf=j);F(b);a.cj=j}var b=a.b(),c=a.b().scrollHeight,e=a.b(),d=e.offsetHeight-e.clientHeight;if(!a.Bh)var g=a.te,d=d-(g.top+g.bottom);
a.Ah||(e=ie(e),d-=e.top+e.bottom);c+=0<d?d:0;a.Bf?c-=cj(a):(a.Bh||(d=a.te,c+=d.top+d.bottom),a.Ah||(a=ie(b),c+=a.top+a.bottom));return c}function gj(a,b){a.Ja!=b&&(a.Ja=b,a.b().style.height=b+"px")}function hj(a){a=a.b();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
m.pf=function(){if(!this.td){var a=l;this.td=j;var b=this.b(),c=this.Ja;if(b.scrollHeight){var d=l,e=l,g=fj(this),h=b.offsetHeight,n=dj(this),r=ej(this);n&&g<n?(gj(this,n),d=j):r&&g>r?(gj(this,r),b.style.overflowY="",e=j):h!=g?gj(this,g):this.Ja||(this.Ja=g);!d&&(!e&&bj)&&(a=j)}else hj(this);this.td=l;a&&(a=this.b(),this.td||(this.td=j,b=l,a.value||(a.value=" ",b=j),(e=a.scrollHeight)?(g=fj(this),d=dj(this),h=ej(this),!(d&&g<=d)&&!(h&&g>=h)&&(h=this.te,a.style.paddingBottom=h.bottom+1+"px",fj(this)==
g&&(a.style.paddingBottom=h.bottom+e+"px",a.scrollTop=0,e=fj(this)-e,e>=d?gj(this,e):gj(this,d)),a.style.paddingBottom=h.bottom+"px")):hj(this),b&&(a.value=""),this.td=l));c!=this.Ja&&this.dispatchEvent("resize")}};m.Rl=function(){var a=this.b(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Ja&&(this.Ja=this.Ej=b)};function ij(a,b,c,d,e,g,h){R.call(this);this.Da=Cf();this.hb=a;this.Hf=b;this.oh=c;this.uh=d;this.kg=e.categories;this.Zk=e.feed_categories;this.al=e.feed_id;this.Oh=g||k;this.hd=h||k;this.xg=this.Da?new Vi:k;this.Fc={pending:l,all:l};this.tb=["pending","all","playlists","publishers","categories"]}s(ij,R);var jj="top_rated top_favorites most_shared most_recent most_discussed most_responded recently_featured on_the_web most_viewed".split(" "),kj="All Film Autos Music Animals Sports Travel Games Videoblog People Comedy Entertainment News Howto Education Tech Nonprofit Movies Shows Shortmov".split(" ");
m=ij.prototype;
m.A=function(a){ij.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;zc(a,Ci);var b=B("pending-content",a);t(this.Hf,function(a){this.yb(b,a)},this);this.ym=B("playlists-content",a);t(this.oh,this.hi,this);this.Bm=B("publishers-content",a);t(this.uh,this.ii,this);this.Nk=B("categories-list",a);this.Hi=B("feed-ids",a);this.$k=B("feed-cats",a);W("/admin/_categories",p(function(a){a=Y(a.target);t(a,function(a){lj(this,a,"category",Va(this.kg,a.id)||!this.kg.length)},this)},this));t(kj,function(a){lj(this,a,
"feed_category",Va(this.Zk,a))},this);t(jj,function(a){lj(this,a,"feed_id",this.al==a)},this);this.resize()};
m.w=function(){ij.d.w.call(this);this.V=B("input",this.b());var a=new cf(this.V),b=new ii(this.V);this.Qa=B("tabs",this.b());this.K="pending";var c=l;P(P(P(P(this.i(),window,"resize",Ba(L,p(this.resize,this))),a,"key",p(function(a){"13"==a.keyCode&&mj(this,this.V.value)},this)),b,"after_paste",p(function(){mj(this,this.V.value)},this)),this.Qa,"click",p(function(a){a=tc(a.target,"li");this.ac(a)},this));P(this.i(),this.b(),"scroll",p(function(){if(this.hb&&!c&&!this.Fc[this.K]&&("pending"==this.K||
"all"==this.K)&&this.b().scrollTop+C().height>this.b().scrollHeight-this.b().clientTop){c=j;var a=B("spinner",this.b());O(a,j);var b="pending"==this.K?this.Hf:this.fg;W("/admin/_media/collection/"+this.hb+"?offset="+b.length+("pending"==this.K?"&pending=1":""),p(function(g){c=l;g=fh(yh(g.target)).medias;g=Ra(g,function(a){return new Wf(a)});ab(b,g);var h=B(this.K+"-content",this.b());t(g,function(a){this.yb(h,a)},this);this.Fc[this.K]=!g.length;z(a,"finished",!g.length)},this))}},this));this.resize()};
m.resize=function(){Zd(this.b(),C().height-40)};
function mj(a,b){var c;c=b.match("(?:(https?|ftp)://+|www\\.)\\w[:;,\\.?\\[\\]\\w/~%&=+#-@!]*");c=c!=k?c[0]:"";a.hb&&c&&(a.V.disabled="disabled",W("admin/_add/collection/"+a.hb,p(function(a){this.V.value="";this.V.disabled="";a=Y(a.target);if("media"==a.type){var b=bg(ag.a(),a.data);Ta(this.Hf,function(a){return a.id==b.id})||(this.Hf.push(b),a=B("pending-content",this.b()),this.yb(a,b,j),this.ac(bc("li","pending",i)[0]))}else if("playlist"==a.type){var c=a.data;Ta(this.oh,function(a){return a.id==
c.id})||(this.oh.push(c),this.hi(c),this.ac(bc("li","playlists",i)[0]))}else if("publisher"==a.type){var h=a.data;h&&!Ta(this.uh,function(a){return a.id==h.id})&&(this.uh.push(h),this.ii(h),this.ac(bc("li","publishers",i)[0]))}},a),"POST","url="+c))}
m.ac=function(a){t(this.tb,function(b){z(this.Qa.parentElement,b,y(a,b));this.K=y(a,b)?b:this.K},this);this.hb&&!this.fg&&W("/admin/_media/collection/"+this.hb,p(function(a){a=fh(yh(a.target)).medias;this.fg=Ra(a,function(a){return new Wf(a)});var c=B("all-content",this.b());t(this.fg,function(a){this.yb(c,a)},this)},this))};
m.hi=function(a){var b=G(Di,{name:a.name});this.ym.appendChild(b);var c=B("remove",b);P(this.i(),c,"click",function(){W("admin/_remove/collection/"+this.hb,p(function(){F(b)},this),"POST","pub_id="+a.id)})};m.ii=function(a){var b=G(Fi,{name:a.name||a.id,M:a.picture});this.Bm.appendChild(b);var c=B("remove",b);P(this.i(),c,"click",function(){W("admin/_remove/collection/"+this.hb,p(function(){F(b)},this),"POST","pub_id="+a.id)})};
function lj(a,b,c,d){if("category"==c){var e=G(Ei,{name:b.name,id:b.id});a.Nk.appendChild(e)}else e=G(Ei,{name:b,id:b}),("feed_id"==c?a.Hi:a.$k).appendChild(e);z(e,"enabled",!!d);var g="category"==c?"cat_id="+b.id:"feed_id"==c?"feed_id="+b:"feed_cat="+b;P(a.i(),e,"click",function(){"feed_id"==c&&t(hc(this.Hi),function(a){x(a,"enabled")});var a=Lb(e,"enabled");W("admin/_edit/collection/"+this.hb,we(),"POST",g+"&enabled="+a)})}
m.yb=function(a,b,c){var d=G(Mi,{media:b,gc:$f(b)});c?gc(a,d,0):a.appendChild(d);this.Da&&(a=this.xg,c=new Ui(d,i),Wi(a,c));var a=new ke(B("repos",d)),e=B("thumb",d),c=B("play",d),g=B("approve",d),h=B("remove",d);a.be=function(a,b){var c=b-24;-50<=c&&50>=c&&Ld(e,"background-position-y",50-c+"%")};P(P(P(P(this.i(),a,"end",function(){var a=(e.style[Ma("background-position")]||"").split(" ")[1],a=a.substring(0,a.length-1);W("/admin/_posthumb",we(),"POST","media="+b.id+"&pos="+a)}),c,"click",p(this.um,
this,b)),g,"click",p(this.ji,this,b,j,d)),h,"click",p(this.ji,this,b,l,d));L(Ba(v,d,"show"))};m.$g=function(a,b){W("/admin/_addprogram",p(function(b){b=fh(yh(b.target));b=new cg(b);a.c(mg,b)},this),"POST","channel="+a.id+"&media="+b.id)};m.ji=function(a,b,c){var d=a.Ok||this.hb;W("admin/_media/collection",p(function(){v(c,"remove");L(function(){F(c)},300);N.a();var b;N.a();b=qc(A("toggle-pending"));od(0,b-1);Z.a().c("approved",a,d)},this),"POST","col="+d+"&media="+a.id+"&approve="+b)};
m.um=function(a){a=dg(a);U.a().c(Jf,a)};function nj(a){R.call(this);this.Pb=a||k;this.Qd=this.ni=this.uk=this.si=0}s(nj,R);m=nj.prototype;m.Q=function(){this.e=G(Bi)};m.A=function(a){nj.d.A.call(this,a);var b=G(Bi,{ij:this.Pb?"Add a collection":"Add a Channel"});a.innerHTML=b.innerHTML};
m.w=function(){nj.d.w.call(this);this.V=B("input",this.b());var a=new cf(this.V);this.Hm=B("scrollable",this.b());this.la=B("admin-channels",this.b());this.Sh=B("topics",this.b());this.df=B("collections",this.b());this.ri=A("admin-col-list");this.Ue=A("admin-list");T.a();this.Pb?(W("/admin/_topicmedias/"+this.Pb,p(function(a){a=Y(a.target);Pb(a,function(a,b){O(this.Sh.parentElement,j);if(a&&a.length){var e=G(Ii,{hn:b,Dd:a.length});this.Sh.appendChild(e);J(e,"click",p(function(){a=Ra(a,function(a){return new Wf(a)});
(new ij("",a,[],[],[])).g(this.Ue);Z.a().c("navigate",this.Ue,l,b)},this));Z.a().subscribe("approved",function(b){if(Ta(a,function(a){return a.id==b.id})){var d=B("pending",e),n=qc(d)-1;0>=n?(F(e),Gc(e)):mc(d,n)}},this)}},this);this.Qd&&od(N.a(),this.Qd);this.uk=Q(this.Sh.parentElement).height;this.resize()},this)),W("/admin/_collections/"+this.Pb,p(function(a){a=Y(a.target);O(this.df.parentElement,!!a.length);t(a,this.gi,this);this.Qd&&od(N.a(),this.Qd);this.si=Q(this.df.parentElement).height;this.resize()},
this))):W("/admin/_channels",p(function(a){a=Y(a.target);O(this.la.parentElement,!!a.length);t(a,this.sc,this);this.ni=Q(this.la.parentElement).height;this.resize()},this));P(this.i(),a,"key",p(function(a){"13"==a.keyCode&&this.V.value&&(a=this.V.value,this.V.disabled="disabled",W(this.Pb?"/admin/_collections":"/admin/_channels",p(function(a){a=Y(a.target);this.Pb?(O(this.df.parentElement,!!a),this.gi(a)):(O(this.la.parentElement,!!a),this.sc(a));this.V.disabled="";this.V.value=""},this),"POST","name="+
a+(this.Pb?"&cid="+this.Pb:"")))},this))};
m.sc=function(a){var b=new lg(a),c=G(Gi,{S:b});this.la.appendChild(c);J(c,"click",p(function(a){y(a.target,"on")||y(a.target,"off")?(z(c,"on",y(a.target,"on")),z(c,"off",!y(a.target,"on")),W("/admin/_channel/online/"+b.id,p(function(a){a.target.disabled="";a=Y(a.target);z(c,"on",a.online);z(c,"off",!a.online)},this),"POST","online="+y(a.target,"on"))):y(a.target,"program")?W("/admin/_program",we(),"POST","channel_id="+b.id):y(a.target,"fetch")?W("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},
"POST","channel_id="+b.id):y(a.target,"remove")&&confirm("Remove "+b.name+"?")?(O(c,l),W("/admin/_channels/"+b.id,function(a){Y(a.target).deleted?F(c):O(c,j)},"DELETE")):((new nj(b.id)).g(this.ri),Z.a().c("navigate",this.ri,l,b.name))},this))};
m.gi=function(a){var b=G(Hi,{og:a});this.Qd+=a.pending;this.df.appendChild(b);J(b,"click",p(function(c){y(c.target,"remove")&&confirm("Remove "+a.name+"?")?(O(b,l),W("/admin/_collections/"+a.id,function(a){Y(a.target).deleted?F(b):O(b,j)},"DELETE")):y(c.target,"fetch")?W("/admin/_fetch",function(){alert("Fetch began, but give it some time.")},"POST","col_id="+a.id):W("/admin/_media/collection/"+a.id+"?pending=1",p(function(b){var b=fh(yh(b.target)),c=b.medias,c=Ra(c,function(a){return new Wf(a)});
(new ij(a.id,c,b.playlists,b.publishers,b.categories)).g(this.Ue);Z.a().c("navigate",this.Ue,l,a.name)},this))},this));Z.a().subscribe("approved",function(c,d){if(d==a.id){var e=B("pending",b),g=qc(e)-1;0>=g?(F(b),Gc(b)):mc(e,g)}},this)};m.resize=function(){Zd(this.Hm,this.ni+this.uk+this.si+110)};function oj(a){R.call(this);this.hk=!!a;this.h=new aj("Add to the conversation.");this.Ra=new Af("tweet");sf(this.Ra,16,j);this.Xa=new Af("post");sf(this.Xa,16,j);a=X.a().l;this.jf=a.zm;this.Zf=a.Vj;this.tc=new Af("add");this.kh=this.vb=this.Mf=k}s(oj,R);m=oj.prototype;m.Q=function(){this.e=G(vi)};
m.w=function(){oj.d.w.call(this);this.h.g(B("comment-textarea",this.b()));var a=this.h;a.wj=70;a.resize();a=new cf(this.h.Rb());this.Pk=B("comment-controls",this.b());O(this.Pk,this.hk);z(this.b(),"show-controls",this.hk);this.El=B("input-holder",this.b());Qe(this,this.Ra);this.Ra.g(B("tweet-toggle",this.b()));W("/_twitter",p(function(a){a=Y(a.target);this.Zf=this.Zf&&a.auth;this.kn=a.auth_url;rf(this.Ra,this.Zf)},this));Qe(this,this.Xa);this.Xa.g(B("fb-toggle",this.b()));FB.api("/me/permissions",
p(function(a){this.jf=this.jf&&!!a.data[0].publish_stream;rf(this.Xa,this.jf)},this));Qe(this,this.tc);this.tc.g(B("add-comment",this.b()));this.tc.cb(l);P(P(P(P(P(P(this.i(),this.h.b(),"focus",p(function(){this.dispatchEvent("focus")},this)),a,"key",p(function(a){a.stopPropagation();this.tc.cb(!!this.h.D());"13"==a.keyCode?(a.preventDefault(),a.stopPropagation(),this.tc.setActive(this.h.D()),this.bc(a)):"8"==a.keyCode&&(!this.D()&&this.vb)&&pj(this)},this)),this.h,"resize",p(function(a){this.dispatchEvent(a)},
this)),this.Xa,"action",p(this.cm,this)),this.Ra,"action",p(this.rm,this)),this.tc,"action",p(this.bc,this));Fg(Gg.a(),this.Ra.b(),"top",{text:"Share on Twitter"});Fg(Gg.a(),this.Xa.b(),"top",{text:"Share on Facebook"});Z.a().subscribe("reply-comment",this.Em,this);Z.a().subscribe("reply-tweet",this.Fm,this);X.a().l.subscribe(gg,function(){rf(this.Ra,j)},this)};
m.Em=function(a,b){this.vb&&pj(this);this.Mf=b;this.kh=a.id?a.id:a.toString();this.vb=E("div","token","@"+b.nd());this.El.appendChild(this.vb);this.va(j);this.h.b().style.paddingLeft=Q(this.vb).width+5+"px"};m.Fm=function(a){this.vb&&pj(this);this.ko=a.id;this.Ea((this.D()?this.D()+" ":"")+"@"+a.handle+" ");this.va(j);this.Ra.cb(j);this.va(j);a=this.D().length;this.setSelectionRange(a,a)};function pj(a){a.Mf=k;a.kh=k;F(a.vb);a.vb=k;a.h.b().style.paddingLeft=""}
m.setSelectionRange=function(a,b){if(this.h.b().setSelectionRange)this.h.b().focus(),this.h.b().setSelectionRange(a,b);else if(this.h.b().createTextRange){var c=this.h.b().createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",a);c.select()}};m.D=function(){return this.h.D()};m.Ea=function(a,b,c){rf(this.Xa,!!b);rf(this.Ra,!!c);this.h.Ea(a);this.tc.cb(!!a)};m.collapse=ba();m.uf=function(){return y(this.b(),"focused")};
m.va=function(a){a&&this.h.b().focus();return z(this.b(),"focused",a)};m.bc=function(){this.h.D()&&(this.dispatchEvent({type:"add",Kk:p(function(a){var b=Y(a.target);if(b.comment){var a=new qj(b.comment),c=b.tweet?new rj(b.tweet):k;if(b=bg(ag.a(),b.comment.media))b.c(Xf,a),c&&b.c("add-tweet",c)}},this),fe:$e(this.Xa),Wh:$e(this.Ra),text:this.h.D(),P:this.kh,tk:this.Mf&&this.Mf.id}),this.h.Ea(""),pj(this))};
m.cm=function(){!this.jf&&$e(this.Xa)&&(O(A("overlay"),j),FB.login(p(function(a){O(A("overlay"),l);this.Yk=!!a.authResponse;rf(this.Xa,this.Yk)},this),{scope:"publish_stream"}))};m.rm=function(){if(!this.Zf&&$e(this.Ra)){rf(this.Ra,l);var a=window.open(this.kn,"Twitter Login","height=300,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus()}};function qj(a){this.id=a.id;this.k=a.user?Ig(X.a(),a.user):k;this.text=a.text;this.time=a.time?td(a.time+"Z"):new ud;this.Id=id(this.time.getTime());this.P=a.parent_id;this.Lf=[];a.replies&&t(a.replies,function(a){a=new qj(a);this.Lf.push(a)},this)}
function sj(a,b,c,d,e,g,h,n){var r=new qj({text:c,parentId:g});r.k=a;r.P=g||k;W("/_comment",p(function(a){a=Y(a.target);r.id=a.comment.id;n&&n(r)},this),"POST","media_id="+b+"&text="+c+"&tweet="+e+"&facebook="+d+(g?"&parent_id="+g:"")+(h?"&to_user_id="+h:""));return r};function rj(a){this.id=a.id;this.k=a.user&&Ig(X.a(),a.user);this.handle=a.handle;this.M=a.picture;this.text=a.text;this.time=td(a.time+"Z")};function tj(a,b,c,d){R.call(this);this.f=a;this.Sa=b||[];this.$d={};this.Le=!!c;this.xb=d||[];this.Ke={};this.oa=this.Nn=0;this.Kc={}}s(tj,R);m=tj.prototype;
m.A=function(a){tj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;v(this.b(),"ios-scroll");this.I=E("div","loading",E("div","loading-spinner"));this.b().appendChild(this.I);O(this.I,l);this.Oc=E("div","no-comments","Start the conversation.");this.b().appendChild(this.Oc);this.t=E("div","comments tweets");this.b().appendChild(this.t);P(P(this.i(),window,"resize",Ba(L,p(this.resize,this))),this.t,"click",p(this.pg,this));this.Sa.length?(t(this.Sa,function(a){this.Nb(a)},this),this.yd=Q(this.t).height):
this.Le&&this.xb.length?(t(this.xb,function(a){this.$c(a)},this),this.yd=Q(this.t).height):O(this.I,j);this.Le?(W("/_tweet/"+this.f.id+"?offset="+this.xb.length,p(function(a){O(this.I,l);a=fh(yh(a.target));a=Ra(a,function(a){a=new rj(a);this.$c(a);return a},this);this.yd=Q(this.t).height;this.resize()},this)),this.f.subscribe("add-tweet",function(a){this.$c(a,j)},this)):(W("/_comment/"+this.f.id+"?offset="+this.Sa.length,p(function(a){O(this.I,l);a=fh(yh(a.target));a=Ra(a,function(a){a=new qj(a);
this.Nb(a);return a},this);this.yd=Q(this.t).height;this.resize()},this)),this.f.subscribe(Xf,this.Nb,this),this.f.subscribe(Yf,this.wh,this));this.resize(41)};
m.$c=function(a,b){this.Ke[a.id]=a;O(this.Oc,l);var c=Xi(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=G(ti,{Lb:a,text:c,timestamp:id(a.time.getTime())});jd(hd.a(),a.time,B("timestamp",c));b?gc(this.t,c,0):this.t.appendChild(c);this.resize();O(kc(this.t),j)};
m.pg=function(a){a=a.target;if(this.Le){var b=uc(a,"tweet");b&&(b=this.Ke[b.id.split("-")[1]],y(a,"reply")&&Z.a().c("reply-tweet",b))}else if(b=uc(a,"comment")){var b=b.id.split("-")[1],c=this.$d[b];y(a,"reply")?B("reply-textarea",this.Kc[c.P?c.P:c.id]).focus():y(a,"remove")&&this.f.c(Yf,b)}};m.wh=function(a){var a=A("listcomment-"+a),b=a.nextSibling;for(F(a);b&&y(b,"reply");)b=b.nextSibling,F(b)};
m.Nb=function(a){this.Sa.push(a);O(this.Oc,l);var b=G(ui,{prefix:"listcomment",sa:a,text:Xi(a.text),Sj:a.k.id==X.a().l.id});jd(hd.a(),a.time,B("timestamp",b));a.P?B("replies",this.Kc[a.P]).appendChild(b):this.t.appendChild(b);t(a.Lf,function(a){this.Nb(a)},this);a.P||(this.t.scrollTop=this.t.scrollHeight);a.id&&uj(this,a,b);return b};
function uj(a,b,c){a.$d[b.id]=b;if(!b.P){a.Kc[b.id]=c;var d=B("reply-textarea",c),c=new cf(d);P(a.i(),c,"key",p(function(a){a.stopPropagation();"13"==a.keyCode&&d.value&&(a.preventDefault(),a=sj(X.a().l,this.f.id,d.value,l,l,b.id,b.k.id),this.Nb(a),d.value="")},a))}}m.resize=function(a){this.oa=a||this.oa;Zd(this.b(),C().height-42-this.oa-(uc(this.b(),"tabbed")?30:0))};function vj(a,b,c,d){R.call(this);this.f=this.q=a;this.Sa=b||[];this.xb=c||[];this.Le=!!d;this.Zd=new tj(a,this.Sa);this.Uh=new tj(a,i,j,this.xb);this.h=new oj(j);this.tb=["comments","tweets"];this.He={}}s(vj,R);m=vj.prototype;m.A=function(a){vj.d.A.call(this,a);v(a,"conversation");v(a,"ios-scroll");zc(a,Ki);v(a.firstChild,this.Le?"tweets":"comments")};
m.w=function(){this.Qa=B("tabs",this.b());this.Zd.g(B("comments-content",this.b()));this.Uh.g(B("tweets-content",this.b()));Oe(this.h,this.b());P(P(P(P(P(P(P(this.i(),this.Qa,"click",p(function(a){a=tc(a.target,"li");this.ac(a)},this)),this.h,"add",p(this.bc,this)),this.h,"resize",p(function(){y(this.b().firstChild,"comments")?this.Zd.resize(41):this.Uh.resize(41)},this)),window,"click",p(function(a){!uc(a.target,"comment-input")&&!this.h.D()&&(this.h.va(l),this.h.collapse())},this)),B("no-comments",
this.b()),"click",p(this.Oj,this)),ac("no-comments",this.b())[1],"click",p(this.Oj,this)),window,"click",p(function(a){!uc(a.target,"comment-input")&&!this.h.D()&&(this.h.va(l),this.h.collapse())},this));this.Zd.resize(41);this.Uh.resize(41)};m.Oj=function(a){a.preventDefault();a.stopPropagation();this.h.va(j)};
m.bc=function(a){var b=sj(X.a().l,this.f.id,a.text,a.fe,a.Wh,a.P,a.tk,p(function(a){var b=this.He[a.time.getTime()];b.id="infocomment-"+a.id;uj(this.Zd,a,b)},this)),c=this.Zd.Nb(b);this.He[b.time.getTime()]=c;a.fe&&!a.P&&(FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.ub,caption:"on XYLO",description:this.f.description},ba()),rf(this.h.Xa,l))};m.ac=function(a){t(this.tb,function(b){z(this.Qa.parentElement,b,y(a,b));this.K=y(a,b)?b:this.K},this)};function id(a){var b=q(),c=Math.floor((b-a)/6E4),b=l;0>c&&(b=j,c*=-1);if(60>c)return wj(c,b,0);c=Math.floor(c/60);if(24>c)return wj(c,b,1);c=new Date(q());c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);c=Math.ceil((c.getTime()-a)/864E5);b&&(c*=-1);return 14>c?wj(c,b,2):""}
function wj(a,b,c){return!b&&0==c?(b=Ca("{$num} minute ago",{num:a}),c=Ca("{$num} minutes ago",{num:a}),1==a?b:c):b&&0==c?(b=Ca("in {$num} minute",{num:a}),c=Ca("in {$num} minutes",{num:a}),1==a?b:c):!b&&1==c?(b=Ca("{$num} hour ago",{num:a}),c=Ca("{$num} hours ago",{num:a}),1==a?b:c):b&&1==c?(b=Ca("in {$num} hour",{num:a}),c=Ca("in {$num} hours",{num:a}),1==a?b:c):!b&&2==c?(b=Ca("{$num} day ago",{num:a}),c=Ca("{$num} days ago",{num:a}),1==a?b:c):b&&2==c?(b=Ca("in {$num} day",{num:a}),c=Ca("in {$num} days",
{num:a}),1==a?b:c):""};function xj(a,b,c,d,e){R.call(this);t(a.bh,function(a){var b=a.j();b&&b.media.id==this.id?(this.xm=a,t(a.Zc,function(a){a.Yc||(this.ec[a.k.id]=a.k)})):this.ec={}},a);this.f=this.q=a;this.xf=c||k;this.sj=d||k;this.yl=l;this.Ii=!b;this.re=EMBED||!!e;this.Ha=[];this.Re={};this.Sa=[];this.$d={};this.Kc={};this.He={};this.xb=[];this.Ke={};this.h=new oj(j);this.jc=new Af("Star");sf(this.jc,16,j);this.Bg=new Af("Facebook");this.Xh=new Af("Twitter");this.Jb=new Af("Play");this.Ed=new Af("Plus");sf(this.Ed,
16,j);this.oa=0}s(xj,R);m=xj.prototype;m.Q=function(){this.e=G(ri,{media:this.f})};m.A=function(a){xj.d.A.call(this,a);var b=G(ri,{media:this.f,description:this.f.description?Xi(this.f.description):"",gc:$f(this.f),Hl:this.xf?this.xf.id:k});a.innerHTML=b.innerHTML};
m.w=function(){xj.d.w.call(this);this.Se=B("viewers",this.b());var a=B("picture",this.b()),b=B("scrollable",this.b()),c=B("publisher",this.b()),d=B("title",this.b()),e=B("links",this.b());this.I=B("loading",this.b());var g=a.firstChild;this.sg=B("info-contents",this.b());this.Qe=B("user-poll",this.b());this.uo=B("tweet-holder",this.b());this.wb=B("tweets",this.b());this.Cc=B("dot-nav",this.b());this.t=B("comments",this.b());this.Oc=B("no-comments",this.b());Oe(this.h,this.b());this.jc.g(B("star",
this.b()));rf(this.jc,ig(X.a().l,this.f));this.Bg.g(B("facebook",this.b()));this.Xh.g(B("twitter",this.b()));this.Jb.g(B("play",this.b()));this.Ed.g(B("plus",this.b()));this.Vh=new ed(5E3);this.yo=B("watch-with",this.b());z(this.b(),"mini",this.re);!this.Ii||this.f.Ji?yj(this,l,this.f.description,this.f.Tf,this.f.wk,this.f.Bb):this.Ii&&W("/_info/"+this.f.id,p(function(a){a=fh(yh(a.target));yj(this,j,a.description,a.seen,a.tweets,a.comments)},this));if("youtubeUCAMPco9PqjBbI_MLsDOO4Jw"==this.f.ka.id||
"youtubeAMPco9PqjBbI_MLsDOO4Jw"==this.f.ka.id){var h=B("status",this.Qe),n=B("poll-options",this.Qe);mc(h,"WHO'S YOUR FAVORITE FINALIST?");h=G(Ni,{name:"Kree Harrison",lh:"31%"});n.appendChild(h);h=G(Ni,{name:"Angie Miller",lh:"52%"});n.appendChild(h);h=G(Ni,{name:"Candice Glover",lh:"17%"});n.appendChild(h);O(this.Qe,j);P(this.i(),n,"click",p(function(a){if(!y(this.Qe,"voted")){v(this.Qe,"voted");var a=uc(a.target,"option"),b=qc(B("name",a));v(a,"selected");this.h.Ea("@americanidol I just voted for "+
b,j,j);this.h.va(j);t(hc(n),function(a){var b=qc(B("percent-number",a));B("percent",a).style.width=b},this)}},this))}P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(this.i(),window,"resize",Ba(L,p(this.resize,this))),c,"click",p(function(){Z.a().c("media-list",this.f.ka.name,i,"/admin/_media/publisher/"+this.f.ka.id,this.f.ka.M,this.f.ka.description,this.f.ka.link,"/_publisher/"+this.f.ka.id)},this)),this.jc,"action",p(function(){ag.a().c("star",this.f,$e(this.jc));W("/_star",i,"POST","media_id="+this.f.id+
(!$e(this.jc)?"&delete=1":""))},this)),this.Bg,"action",p(this.bm,this)),this.Xh,"action",p(this.qm,this)),this.Jb,"action",p(this.gm,this)),this.Ed,"action",p(this.jm,this)),B("local",this.b()),"click",p(function(){O(B("link-select",this.b()),j);B("link-input",this.b()).select()},this)),this.h,"add",p(this.bc,this)),this.Oc,"click",p(function(a){a.preventDefault();a.stopPropagation();this.h.va(j)},this)),B("conv-link",this.b()),"click",p(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",
this.f,this.Sa,this.xb)},this)),B("tweets-link",this.b()),"click",p(function(a){a.preventDefault();a.stopPropagation();Z.a().c("conversation",this.f,this.Sa,this.xb,j)},this)),this.h,"focus",p(function(){this.resize(0,j)},this)),this.h,"resize",p(function(a){this.resize(a.target.Ja-41)},this)),this.Cc,"click",p(function(a){y(a.target,"dot")&&(zj(this,a.target),this.Vh.stop())},this)),this.Vh,gd,p(function(){var a=this.ae&&ic(this.ae)||B("dot",this.b());L(p(function(){zj(this,a)},this))},this)),window,
"click",p(function(a){!uc(a.target,"comment-input")&&!this.h.D()&&(this.h.va(l),this.h.collapse()&&this.resize(0))},this)),g,"load",function(){O(g,j);L(function(){Q(g).height<Q(a).height+50&&v(g,"fix-height");Q(g).width>2*Q(a).width?v(g,"pan-left"):Q(g).height>2*Q(a).height&&v(g,"pan-top");g.style.marginTop=-Q(g).height/2+"px";g.style.marginLeft=-Q(g).width/2+"px";v(g,"show")})}),b,"scroll",p(function(){var h=((this.re?100:120)-b.scrollTop)/100;ce(c,Math.min(1,Math.max(h,0)));ce(d,Math.min(1,Math.max(h,
0)));ce(e,Math.min(1,Math.max(h,0)));ce(g,Math.min(0.5,Math.max(h,0.1)));z(a,"scrolled",10<b.scrollTop)},this)),this.t,"scroll",p(this.zh,this)),this.t,"click",p(this.pg,this)),this.wb,"click",p(this.jn,this)),B("desc-link",this.b()),"click",p(function(){var c=Lb(a,"scrolled");(new Ge(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,c?this.re?70:170:0],300)).play()},this));this.xf&&P(this.i(),B("prev-link",this.b()),"click",p(function(){Z.a().c(Dg,this.xf,j,i,this.h.D())},this));this.sj&&this.h.Ea(this.sj);
Fg(Gg.a(),this.Ed.b(),"left",{text:"Add to Queue"});Fg(Gg.a(),this.Bg.b(),"left",{text:"Post to Facebook"});Fg(Gg.a(),this.Xh.b(),"left",{text:"Tweet"});Fg(Gg.a(),this.jc.b(),"left",{text:"Save"});Fg(Gg.a(),B("eye-icon",this.b()),"left",{text:"Seen by"});Fg(Gg.a(),B("friends-icon",this.b()),"left",{text:"Visible by only your Facebook friends"});this.f.subscribe(Xf,function(a){Aj(this,a,j)},this);this.f.subscribe(Yf,this.wh,this);this.f.subscribe("add-tweet",function(a){this.$c(a,j)},this);this.f.subscribe(Zf,
function(a,b,c){Bj(this,a,!c)},this);X.a().l.subscribe("set-starred",function(){rf(this.jc,ig(X.a().l,this.f))},this);Of().subscribe(ng,function(a,b){rf(this.Ed,b)},this)};
function yj(a,b,c,d,e,g){c?(a.f.description=c,B("description",a.b()).innerHTML=Xi(c),O(B("scrollable",a.b()),j)):(O(B("desc-link",a.b()),l),O(B("scrollable",a.b()),l));a.Ha=Ra(d,function(a){a=b?Ig(X.a(),a):a;a.id!=X.a().l.id&&(O(this.Se,j),this.yl=j,Bj(this,a,l));return a},a);Pb(a.f.ec,function(a){Bj(this,a,j)},a);a.xb=Ra(e,function(a){a=b?new rj(a):a;this.$c(a);this.ae=this.Cc.firstChild;v(this.ae,"selected");return a},a);e.length&&a.Vh.start();a.t&&O(a.t.parentElement,j);O(a.Oc,!g.length);g=Ra(g,
function(a){a=b?new qj(a):a;a.P||Aj(this,a);return a},a);O(a.I,l);a.resize();b&&(a.f.wk=a.xb,a.f.Bb=g,a.f.Tf=a.Ha,a.f.Ji=j)}m.Tb=function(){return this.h.uf()||!!this.h.vb||!!this.h.D()};function zj(a,b){if(b){t(hc(a.Cc),function(a){return x(a,"selected")});a.ae=b;v(a.ae,"selected");var c=Ua(hc(a.Cc),function(a){return a==b});(new Ge(a.wb,[a.wb.scrollLeft,a.wb.scrollTop],[320*c,a.wb.scrollTop],200)).play();a.resize()}}
m.bc=function(a){var b=sj(X.a().l,this.f.id,a.text,a.fe,a.Wh,a.P,a.tk,p(function(a){var b=this.He[a.time.getTime()];b.id="infocomment-"+a.id;Cj(this,a,b)},this)),c=Aj(this,b);this.He[b.time.getTime()]=c;a.fe&&!a.P&&FB.api("/me/feed","POST",{message:a.text,name:this.f.name,link:this.f.link,picture:this.f.ub,caption:"on XYLO",description:this.f.description},ba());kg.a().sa(this.f.id,a.fe,a.Wh)};
m.$c=function(a,b){this.Ke[a.id]=a;var c=Xi(a.text),c=c.replace(/#(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/search?q=%23'+b+'">'+a+"</a>"}),c=c.replace(/@(\S+)/g,function(a,b){return'<a target="_blank" href="http://twitter.com/'+b+'">'+a+"</a>"}),c=G(ti,{Lb:a,text:c,timestamp:id(a.time.getTime()),prefix:"infotweet"}),d=E("div","dot");jd(hd.a(),a.time,B("timestamp",c));b?(gc(this.wb,c,0),gc(this.Cc,d,0),10<hc(this.wb).length&&(F(this.wb.lastChild),F(this.Cc.lastChild),
zj(this,d))):(this.wb.appendChild(c),this.Cc.appendChild(d));this.resize();O(kc(this.wb),j)};function Aj(a,b,c){a.Sa.push(b);O(a.Oc,l);var d=G(ui,{prefix:"infocomment",sa:b,text:Xi(b.text),Sj:b.k.id==X.a().l.id});jd(hd.a(),b.time,B("timestamp",d));b.P?B("replies",a.Kc[b.P]).appendChild(d):a.t.appendChild(d);t(b.Lf,function(a){Aj(this,a,c)},a);!b.P&&c&&(a.t.scrollTop=a.t.scrollHeight,a.sg.firstChild.scrollTop=a.sg.firstChild.scrollHeight);b.id&&Cj(a,b,d);return d}
function Cj(a,b,c){a.$d[b.id]=b;if(!b.P){a.Kc[b.id]=c;var d=B("reply-textarea",c),c=new cf(d);P(a.i(),c,"key",p(function(a){a.stopPropagation();"13"==a.keyCode&&d.value&&(a.preventDefault(),a=sj(X.a().l,this.f.id,d.value,l,l,b.id,b.k.id),Aj(this,a),d.value="")},a))}}
function Bj(a,b,c){if(!c&&a.Re[b.id])x(a.Re[b.id],"online");else if(b.id!=X.a().l.id){if(!a.Re[b.id]){var d=G(si,{k:b});a.Re[b.id]=d;gc(a.Se,d,1);P(a.i(),d,"click",function(){Z.a().c(Eg,b)});Fg(Gg.a(),d,"top",{text:b.nd()+(y(d,"online")?" is watching":" saw this")})}O(a.Se,j);z(a.Re[b.id],"online",c)}}m.jn=function(a){var a=a.target,b=uc(a,"tweet");b&&(b=this.Ke[b.id.split("-")[1]],y(a,"reply")&&Z.a().c("reply-tweet",b))};
m.pg=function(a){var a=a.target,b=uc(a,"comment");if(b){var b=b.id.split("-")[1],c=this.$d[b];y(a,"reply")?B("reply-textarea",this.Kc[c.P?c.P:c.id]).focus():y(a,"remove")&&this.f.c(Yf,b)}};m.wh=function(a){var b=A("infocomment-"+a),c=b.nextSibling;F(b);for(Xa(this.Sa,function(b){return b.id==a});c&&y(c,"reply");)c=c.nextSibling,F(c)};
m.zh=function(){z(this.t.parentElement,"top-grad",!!this.t.scrollTop);var a=this.t.style.maxHeight,b=C().height,a=a.substring(0,a.length-2),c=Q(this.t).height;z(this.t.parentElement,"bottom-grad",this.t.scrollTop<this.t.scrollHeight-a-5&&c>=a&&640<b)};
m.resize=function(a,b){this.oa=a!=i?a:this.oa;var c=C().height;Zd(this.sg,c-(this.re?183:283)-(this.Ha.length?38:0));640<c&&this.t&&this.t.parentElement?(Ld(this.t,"max-height",c-Sd(this.t.parentElement).y-(this.re?213:313)-(this.Ha.length?38:0)-this.oa+"px"),this.zh()):640>c&&(Ld(this.t,"max-height",""),this.zh());b&&L(p(function(){(new Ge(this.t,[this.t.scrollLeft,this.t.scrollTop],[this.t.scrollLeft,this.t.scrollHeight],400)).play()},this),0)};
m.bm=function(){O(A("overlay"),j);FB.ui({method:"feed",name:this.f.name,link:this.f.link,M:this.f.ub,caption:"on XYLO",description:this.f.description},function(){O(A("overlay"),l)});Dj(kg.a(),this.f.id,j,l)};m.qm=function(){var a=window.open("https://twitter.com/share?url="+this.f.link+"&text=I'm watching "+this.f.name+" "+this.f.link,"Tweet","height=320,width=550");a.moveTo(screen.width/2-225,screen.height/2-150);a.focus();Dj(kg.a(),this.f.id,l,j)};m.gm=function(){var a=dg(this.q);U.a().c(Jf,a)};
m.jm=function(){Of().c(ng,this.q,$e(this.Ed))};function Ej(a,b,c,d,e,g){R.call(this);this.Da=Cf();this.yj=a||k;this.Oe=b||k;this.Yb={};this.Oh=c||k;this.hd=d||k;this.zi=g||k;this.Ml=e||k;this.xg=this.Da?new Vi:k;this.yd=this.gj=0}s(Ej,R);
Ej.prototype.A=function(a){Ej.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;v(this.b(),"ios-scroll");(this.hd||this.Oh)&&Fj(this);!this.hd&&this.zi&&W(this.zi,p(function(a){a=Y(a.target);a.description&&this.qe?(B("description",this.qe).innerHTML=Xi(a.description),this.gj=Q(this.qe).height,this.resize()):a.description&&Fj(this)},this));this.I=E("div","loading",E("div","loading-spinner"));this.b().appendChild(this.I);O(this.I,l);y(this.b(),"starred")&&(this.Bd=E("div","no-comments","Favorities will appear here."),
this.b().appendChild(this.Bd));this.Nc=E("div","medias");this.b().appendChild(this.Nc);P(this.i(),window,"resize",Ba(L,p(this.resize,this)));this.Oe?(O(this.I,j),W(this.Oe,p(function(a){O(this.I,l);a=fh(yh(a.target));a=Ra(a,function(a){return new Wf(a)});t(a,this.dg,this);this.yd=Q(this.Nc).height;this.resize()},this))):this.yj&&(t(this.yj,this.dg,this),this.yd=Q(this.Nc).height,this.resize())};
Ej.prototype.dg=function(a){this.Bd&&O(this.Bd,l);var b=G(Li,{media:a}),c=B("list-play",b),d=B("list-plus",b);this.Nc.appendChild(b);if(this.Da){var e=this.xg,g=new Ui(b,i);Wi(e,g)}P(P(P(this.i(),b,"click",p(function(){Z.a().c(Dg,a)},this)),c,"click",p(function(b){b.preventDefault();b.stopPropagation();b=dg(a);U.a().c(Jf,b)},this)),d,"click",function(b){b.preventDefault();b.stopPropagation();Of().c(ng,a,j)});this.Yb[a.id]=b};
Ej.prototype.resize=function(){Zd(this.b(),C().height-40-(uc(this.b(),"tabbed")?30:0))};function Fj(a){a.qe=G(zi,{ub:a.Oh,description:a.hd?Xi(a.hd):"",link:a.Ml});a.b().appendChild(a.qe);a.gj=Q(a.qe).height;a.resize()}Ej.prototype.$g=function(a,b){W("/admin/_addprogram",p(function(b){b=fh(yh(b.target));b=new cg(b);a.c(mg,b)},this),"POST","channel="+a.id+"&media="+b.id)};function Gj(a){M.call(this);this.id=a.id;this.da=Ig(X.a(),a.from_user);this.en=Ig(X.a(),a.to_user);this.text=a.text;this.Gd=a.read;this.Id=(this.time=a.time?td(a.time+"Z"):k)?id(this.time.getTime()):k}s(Gj,M);function Hj(a){W("/_message",we(),"POST","id="+a.id+"&read=1");a.Gd=j;a.c(Ij)}var Ij="read";function Jj(a){return'<div class="message'+(a.bl?" flip":"")+'"><a href="#user:'+H(a.message.da.id)+'"><div class="picture" style="background:'+H(a.message.da.color)+'"><img src="'+H(a.message.da.M)+'"/></div></a><div class="body"><a class="user" href="#user:'+H(a.message.da.id)+'">'+H(a.message.da.name)+'</a>  <div class="texts"><div class="text">'+H(a.message.text)+'<div class="timestamp">'+H(a.message.Id)+"</div></div></div></div></div>"}
function Kj(a){return'<div class="text">'+H(a.message.text)+'<div class="timestamp">'+H(a.message.Id)+"</div></div>"};function Lj(a,b){R.call(this);this.Ga=a||k;this.Gb=b||k;this.Cj={};this.h=new oj(l);this.oa=0;this.Eb=this.Ga.id==X.a().l.id}s(Lj,R);
Lj.prototype.A=function(a){Lj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;this.$b=E("div","messages");this.b().appendChild(this.$b);z(this.$b,"inbox",this.Eb);this.I=E("div","spinner");this.$b.appendChild(this.I);O(this.I,l);this.Cf=E("div","no-comments","Start a private conversation.");this.$b.appendChild(this.Cf);this.Hb=E("div","no-comments","Load previous messages");this.$b.appendChild(this.Hb);O(this.Hb,!this.Eb&&10<=this.Gb.length);O(this.Cf,l);this.Eb?this.Gb=this.Gb.reverse():(Oe(this.h,
this.b()),P(P(P(this.i(),window,"click",p(function(a){!uc(a.target,"comment-input")&&!this.h.D()&&(this.h.va(l),this.h.collapse()&&this.resize(0))},this)),this.Cf,"click",p(function(a){a.preventDefault();a.stopPropagation();this.h.va(j)},this)),this.Hb,"click",p(this.Ol,this)));P(P(this.i(),this.h,"add",p(this.bc,this)),window,"resize",Ba(L,p(this.resize,this)));Pa(this.Gb,function(a){Mj(this,a)},this);X.a().subscribe("new-message",function(a){if(a.da.id==this.Ga.id||a.en.id==this.Ga.id){var c=j;
if(this.Eb){var d=this.Cj[a.da.id];d&&(c=!y(d,"unread"),F(d))}Z.a().wg!=a.da.id&&c&&Z.a().c("new-messages",1);Mj(this,a,this.Eb);this.resize()}},this);this.resize()};
Lj.prototype.Ol=function(){this.Hb&&O(this.Hb,l);O(this.I,j);W("/_message/"+this.Ga.id+"?offset="+this.Gb.length,p(function(a){a=Y(a.target);if(a.length){this.yf=k;var b=E("div","separator");gc(this.$b,b,3)}O(this.I,l);this.Hb&&O(this.Hb,!!a.length);Pa(a,function(a){a=new Gj(a);this.Gb.push(a);Mj(this,a,j);return a},this);a.length&&(this.b().scrollTop=0,this.yf=k,this.b().scrollTop=b.offsetHeight)},this))};
function Mj(a,b,c){O(a.Cf,l);a.Hb&&O(a.Hb,!a.Eb&&10<=a.Gb.length);var d;if(!a.Eb&&a.yf&&a.yf.da.id==b.da.id)d=G(Kj,{message:b}),B("texts",a.Il).appendChild(d),d=B("timestamp",d);else{var e=G(Jj,{message:b,bl:b.da.id==X.a().l.id});a.yf=b;a.Il=e;c?gc(a.$b,e,3):a.$b.appendChild(e);d=B("timestamp",e);z(e,"unread",!b.Gd);a.Eb&&(a.Cj[b.da.id]=e,P(a.i(),e,"click",p(function(){b.Gd||(Hj(b),x(e,"unread"),Z.a().c("new-messages",-1));Z.a().c(Eg,b.da)},a)),b.Gd||b.subscribe(Ij,function(){x(e,"unread")}))}jd(hd.a(),
b.time,d);c||(a.b().scrollTop=a.b().scrollHeight);!a.Eb&&!b.Gd&&Hj(b)}Lj.prototype.bc=function(a){var b=new Gj({from_user:X.a().l,to_user:Ig(X.a(),this.Ga),text:a.text});b.time=new ud;b.Id=id(b.time.getTime());Mj(this,b);W("/_message",a.Kk,"POST","from_id="+X.a().l.id+"&to_id="+this.Ga.id+"&text="+a.text)};Lj.prototype.resize=function(a){this.oa=a||this.oa;Zd(this.b(),C().height-82-this.oa-(uc(this.b(),"tabbed")?30:0))};function Nj(a){return'<div class="user'+(a.media?" media":"")+'"><div class="name">'+H(a.k.name)+'</div><div class="picture" style="background:'+H(a.k.color)+'"><img src="'+H(a.k.M)+'"/></div>'+(a.timestamp?'<div class="timestamp">'+H(a.timestamp)+"</div>":"")+(a.media?'<div class="media"><div class="watched">LAST WATCHED </div><div class="watching">NOW WATCHING </div><a class="media-link">'+H(a.media.name)+"</a></div>":"")+"</div>"};function Oj(a,b){R.call(this);this.Rd=a||k;this.Ak={};this.Pc=[];this.Cd=[];this.Hd=[];this.hc=!!b;this.oa=0}s(Oj,R);
Oj.prototype.A=function(a){Oj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;v(a,"friendlist");v(a,"ios-scroll");this.hc||(a=E("div","label show-all",E("a",{href:"#friendlist:1"},"ALL FRIENDS >")),this.b().appendChild(a));this.Ef=E("div","label online-friends-label",this.hc?"ONLINE FRIENDS":E("a",{href:"#friendlist:1"},"ONLINE FRIENDS"));O(this.Ef,l);this.b().appendChild(this.Ef);this.fh=E("div","online-friends");this.b().appendChild(this.fh);this.xe=E("div","label",this.hc?"RECENTLY ONLINE":E("a",
{href:"#friendlist:1"},"RECENTLY ONLINE"));O(this.xe,l);this.b().appendChild(this.xe);this.Kf=E("div","recent-friends");this.b().appendChild(this.Kf);this.hc&&(this.Df=E("div","label","OFFLINE FRIENDS"),O(this.Df,l),this.b().appendChild(this.Df),this.Zg=E("div","offline-friends"),this.b().appendChild(this.Zg),W("/_friends?offline=1",p(function(a){a=Y(a.target);this.Cd=Ra(a,function(a){a=Ig(X.a(),a);Pj(this,a,j);return a})},this)),this.hc&&this.resize(),P(this.i(),window,"resize",p(function(){this.hc&&
L(p(function(){this.resize()},this))},this)));if(this.Rd)Na.sort.call(this.Rd,function(a,b){return a.F&&!b.F?1:!a.F&&b.F?-1:!a.F&&!b.F?0:a.F.getTime()<b.F.getTime()?1:-1}||db),t(this.Rd,function(a){Pj(this,a)},this);else{var a=X.a(),b=p(function(a){this.Rd=a;Na.sort.call(this.Rd,function(a,b){return a.F&&!b.F?1:!a.F&&b.F?-1:!a.F&&!b.F?0:a.F.getTime()<b.F.getTime()?1:-1}||db);t(this.Rd,function(a){Pj(this,a)},this)},this);a.Oi?b&&b(a.Eg):W("/_friends",p(function(a){a=Y(a.target);this.Eg=Ra(a,function(a){return Ig(this,
a)},this);this.Oi=j;b&&b(this.Eg)},a))}X.a().subscribe(Hg,this.ln,this)};
function Pj(a,b,c){var d=l,e=G(Nj,{k:b,timestamp:b.F?id(b.F.getTime()):k,media:b.jb});b.F&&jd(hd.a(),b.F,B("timestamp",e));b.$a&&!c?(O(a.Ef,j),v(e,"online"),t(a.Pc,function(a,c){a.nd()>b.nd()&&(gc(this.fh,e,c),bb(this.Pc,c,0,b),d=j)},a),d||(a.fh.appendChild(e),a.Pc.push(b))):b.F&&!c&&5>a.Hd.length?(O(a.xe,j),t(a.Hd,function(a,c){a.F&&(b.F&&a.F.getTime()<b.F.getTime())&&(gc(this.Kf,e,c),bb(this.Hd,c,0,b),d=j)},a),d||(a.Kf.appendChild(e),a.Hd.push(b))):a.hc&&(O(a.Df,j),t(a.Cd,function(a,c){a.F&&(b.F&&
a.F.getTime()<b.F.getTime())&&(gc(this.Zg,e,c),bb(this.Cd,c,0,b),d=j)},a),d||(a.Zg.appendChild(e),a.Cd.push(b)));a.hc||(O(a.xe,!a.Pc.length),O(a.Kf,!a.Pc.length));a.Ak[b.id]=e;c=B("media-link",e);P(a.i(),e,"click",p(function(){Z.a().c(Eg,b)},a));c&&P(a.i(),c,"click",p(function(a){a.stopPropagation();a.preventDefault();Z.a().c(Dg,b.jb)},a))}
Oj.prototype.ln=function(a){var b=this.Ak[a.id];b&&(F(b),Xa(this.Cd,function(b){return b.id==a.id})&&O(this.Df,!!this.Cd.length),Xa(this.Pc,function(b){return b.id==a.id})&&O(this.Ef,!!this.Pc.length),Xa(this.Hd,function(b){return b.id==a.id})&&O(this.xe,!!this.Hd.length));Pj(this,a)};Oj.prototype.resize=function(a){this.oa=a||this.oa;Zd(this.b(),C().height-42-this.oa-(uc(this.b(),"tabbed")?30:0))};function Qj(a,b){R.call(this);this.Gk=a;this.Me=b||k;this.Y=0;this.ik=!b;this.Fc=l;this.Ki={};this.Ze={};this.xd={};this.Lc={};this.ai={};this.Xj={};this.fi=[]}s(Qj,R);
Qj.prototype.A=function(a){Qj.d.A.call(this,a);a.innerHTML="";a.scrollTop=0;v(a,"stream");v(a,"ios-scroll");this.ik&&(this.Ni=E("div","friendlist"),this.b().appendChild(this.Ni),a=E("div","label","ACTIVITY"),this.b().appendChild(a));this.Wd=E("div","activities");this.b().appendChild(this.Wd);this.I=E("div","spinner");this.b().appendChild(this.I);O(this.I,l);this.Bd=E("div","no-comments",this.Me?"Your activity will appear here.":"Friends' activity will appear here.");this.b().appendChild(this.Bd);
Rj(this,this.Gk);this.ik&&(this.Dg=new Oj(i,l),this.Dg.g(this.Ni));X.a().subscribe("new-activity",function(a){(this.Me==a.user.id||!this.Me&&a.user.id!=X.a().l.id)&&Sj(this,a,i,i,j)},this);P(P(this.i(),this.b(),"scroll",p(function(){!this.Fc&&this.b().scrollTop+C().height>this.b().scrollHeight-60&&Tj(this)},this)),window,"resize",Ba(L,p(this.resize,this)));this.resize()};
function Tj(a){O(a.I,j);W("/_activity"+(a.Me?"/"+a.Me:"")+"?offset="+a.Y,p(function(a){this.Ki[String(a.target.oe)]||(this.Ki[String(a.target.oe)]=j,a=Y(a.target).activities,this.Fc=!a.length,z(this.I,"finished",this.Fc),O(this.I,this.Fc),Rj(this,a))},a))}
function Rj(a,b){a.Ze=[];a.xd=[];a.Lc=[];t(b,function(a){this.Y++;switch(a.type){case "session":var a=a.session,b=Vb(this.Ze,a.channel_id,[]);b.push(a);this.Ze[a.channel_id]=b;break;case "liked":this.xd[a.media.id]||(b=Vb(this.Lc,a.media.id,[]),b.push(a),this.Lc[a.media.id]=b,b=Vb(this.ai,a.user.id,[]),b.push(a),this.ai[a.user.id]=b);break;case "comment":a=a.comment,b=Vb(this.xd,a.media.id,[]),b.push(a),this.xd[a.media.id]=b,this.Lc[a.media.id]&&Tb(this.Lc,a.media.id)}},a);Pb(a.Ze,function(a){Sj(this,
i,a,"session")},a);Pb(a.xd,function(a){Sj(this,i,a,"comment")},a);Pb(a.Lc,function(a){1<a.length&&Sj(this,i,a,"liked")},a);Pb(a.ai,function(a){Sj(this,i,a,"liked")},a)}
function Sj(a,b,c,d,e){O(a.Bd,l);var b=b||k,c=c||k,g=b?b.type:d,h=[],n=b?[Ig(X.a(),b.user)]:[],r=b?td(b.time+"Z"):k;c&&t(c,function(a){Ta(n,function(b){return b.id==a.user.id})||n.push(Ig(X.a(),a.user));var b=td((a.time||a.tune_in)+"Z");r=r&&r.getTime()>b.getTime()?r:b;"session"==g?t(a.media,function(a){!this.xd[a.id]&&(!this.Lc[a.id]&&!Ta(h,function(b){return b.id==a.id}))&&h.push(a)},this):"liked"==g&&!this.Xj[a.media.id]&&(h.push(a.media),this.Xj[a.media.id]=j)},a);switch(g){case "session":if(2>
n.length)return;var d=b?b.session:c[0],w=T.a().get(d.channel_id),h=b?b.session.media:h;5<h.length&&(h=h.slice(0,5));b=G(wi,{L:n,S:w,time:id(r.getTime()),vk:!!d.tune_out});break;case "comment":var h=b?[b.comment.media]:[bg(ag.a(),c[0].media)],D=b?[new qj(b.comment)]:[];c&&t(c,function(a){D.push(new qj(a))});b=G(xi,{Bb:D.reverse().slice(0,3),L:n,media:h[0]});break;case "liked":h=b?[b.media]:h;b=G(yi,{L:n,Aj:h.length,time:id(r.getTime())});break;default:return}if(h.length){jd(hd.a(),r,B("timestamp",
b));d=Ua(a.fi,function(a){return a.time<r.getTime()});bb(a.fi,d,0,{time:r,element:b});var K=B("medias",b);t(h,function(a){var b=bg(ag.a(),a),a=G(Li,{media:b}),c=B("list-play",a),d=B("list-plus",a);B("thumb",a);K.appendChild(a);P(P(P(this.i(),a,"click",function(){Z.a().c(Dg,b)}),c,"click",function(a){a.preventDefault();a.stopPropagation();a=dg(b);U.a().c(Jf,a)}),d,"click",function(a){a.preventDefault();a.stopPropagation();Of().c(ng,b,j)})},a);e?gc(a.Wd,b,0):c?gc(a.Wd,b,d):a.Wd.appendChild(b);L(Ba(v,
b,"show"))}}Qj.prototype.resize=function(){var a=C().height-40-(uc(this.b(),"tabbed")?40:10);Zd(this.b(),a);Q(this.Wd).height<a&&Tj(this)};function Uj(a){R.call(this);this.Ga=this.q=a;this.tb=["messages","activity","starred"]}s(Uj,R);Uj.prototype.A=function(a){Uj.d.A.call(this,a);v(a,"profile");v(a,"ios-scroll");zc(a,Ji)};
Uj.prototype.w=function(){this.Qa=B("tabs",this.b());W("/_message/"+this.Ga.id,p(function(a){var a=Y(a.target),b=0,a=Ra(a,function(a){a=new Gj(a);b+=!a.Gd?1:0;return a},this);this.Ga.id==X.a().l.id&&Z.a().c("new-messages",b);this.Gb=new Lj(this.Ga,a);this.Gb.g(B("messages-content",this.b()))},this));W("/_star/"+this.Ga.id,p(function(a){var a=Y(a.target),a=Ra(a,function(a){return new Wf(a)}),b=X.a().l;b.kk=a;b.c("set-starred");this.De=new Ej(a);this.De.g(B("starred-content",this.b()))},this));W("/_activity/"+
this.Ga.id,p(function(a){a=Y(a.target).activities;this.Jh=new Qj(a,this.Ga.id);this.Jh.g(B("activity-content",this.b()))},this));P(this.i(),this.Qa,"click",p(function(a){a=tc(a.target,"li");this.ac(a)},this));ag.a().subscribe("star",function(a,b){if(b)this.De.dg(a);else{var c=this.De,d=c.Yb[a.id];d&&(Gc(d),Tb(c.Yb,a.id))}},this)};Uj.prototype.ac=function(a){t(this.tb,function(b){z(this.Qa.parentElement,b,y(a,b));this.K=y(a,b)?b:this.K},this)};function Vj(){R.call(this);this.Da=Cf();this.Ik=new nj;this.tb={};this.lc=[];this.Jd=[];this.je=this.Vd=0}s(Vj,R);m=Vj.prototype;
m.w=function(){Vj.d.w.call(this);this.Xd=B("arrow",this.oc);this.rg=A("sidebar-content");this.xj=A("media-list");this.If=A("profile");this.Mi=A("friendlist");this.wi=A("conversation");this.oc=A("toolbar");this.Qa=B("tabs",this.b());this.cg=B("activities-count",this.b());this.Ng=B("inbox-count",this.b());var a=new cf(document);t(hc(this.Qa),function(a){var b=Kb(a)[0];this.tb[b]=a;this.lc.push(b)},this);this.dh();W("/_activity",p(function(a){a=Y(a.target);this.Jh=new Qj(a.activities);this.Jh.g(A("stream"));
Z.a().c("new-activites",parseInt(a.new_count,10))},this));this.De=new Uj(X.a().l);this.De.g(A("my-profile"));this.ea&&DESKTOP?(this.O=A("info"),this.K="info",Wj(this,"info","info")):(this.O=A("stream"),this.K="stream",Wj(this,"info","stream"));var b="left";t(this.lc,function(a){var c=B(a,this.rg);a==this.K?b="right":v(c,b)},this);this.Jd=[this.O,""];v(this.O,"current");if(this.Da){this.Ik.g(A("admin"));var c=G(Ai,{name:"ADMIN",className:"admin"});this.Qa.appendChild(c);this.tb.admin=c;this.lc.push("admin")}Xj(this);
P(P(P(P(this.i(),B("back-button",this.oc),"click",p(function(a){var b=this.Jd.shift();this.navigate(b[0],j,b[1]);Xj(this);a.stopPropagation()},this)),this.Qa,"click",p(function(a){var b=this.K,c=tc(a.target,"li"),h=Kb(c)[0];Wj(this,this.K,h);v(c,"selected");Xj(this);b!=this.K&&a.stopPropagation();"stream"==h&&this.Ij(0,j)},this)),this.oc,"click",p(function(a){((a=tc(a.target,"li"))&&Kb(a)[0]==this.K||!a)&&(new Ge(this.O,[this.O.scrollLeft,this.O.scrollTop],[this.O.scrollLeft,0],300)).play()},this)),
a,"key",p(function(a){a.ctrlKey&&"68"==a.keyCode&&Lb(this.b(),"dark")},this));DESKTOP&&N.a().subscribe(ld,function(a){z(this.b(),"toggled",a);L(p(function(){z(this.b(),"collapsed",!a)},this),!a?500:0)},this);Z.a().subscribe("navigate",this.navigate,this);Z.a().subscribe("new-activites",this.Ij,this);Z.a().subscribe("new-messages",this.Vl,this);Z.a().subscribe("conversation",this.Mm,this);Z.a().subscribe("media-list",this.Qm,this);Z.a().subscribe(Dg,this.jk,this);Z.a().subscribe("friend-list",this.Om,
this);Z.a().subscribe(Eg,this.Rm,this);T.a().subscribe(If,this.dh,this);U.a().subscribe(Jf,this.dh,this);T.a().subscribe(Ff,this.Zl,this);DESKTOP&&N.a().subscribe("toggle-admin",function(a){z(this.b(),"admin",a);a?(N.a().c(ld,j),Wj(this,this.K,"admin")):"admin"==this.K&&Wj(this,"admin","info")},this)};m.Ij=function(a,b){b&&(this.Vd=0,O(this.cg,l));this.Vd+=a;mc(this.cg,this.Vd.toString());O(this.cg,!!this.Vd)};
m.Vl=function(a,b){b&&(this.je=0,O(this.Ng,l));this.je+=a;mc(this.Ng,this.je.toString());O(this.Ng,!!this.je)};m.dh=function(a){if(a=a||T.a().p.j())if(this.yc=a.media,!this.ea||this.yc.id!=this.ea.q.id){var a=this.ea&&this.ea.h.D()?this.ea.h.D():k,b=this.ea?this.ea.f:k;Gc(this.ea);this.ea=new xj(this.yc,l,b,a);this.ea.g(A("info"))}};m.Zl=function(a){a=a||T.a().p;if((this.yc=a.j()&&a.j().media)&&(!this.ea||this.yc.id!=this.ea.q.id))Gc(this.ea),this.ea=new xj(this.yc),this.ea.g(A("info")),this.jk(this.yc)};
function Wj(a,b,c){var d=B(c,a.rg),e=Oa(a.lc,b),b=Oa(a.lc,c),g=(e=e<b)?0:a.lc.length-1,h=e?g<a.lc.length:0<=g;for(g;h;g+=e?1:-1){var n=B(a.lc[g],a.rg);if(e&&g>b||!e&&g<b)v(n,"right"),x(n,"left");else if(e&&g<b||!e&&g>b)z(n,"left",e),v(n,"right");else if(g==b){x(n,"right");x(n,"left");break}}a.K=c;bb(a.Jd,0,0,[a.O,""]);x(a.O,"current");a.O=d;v(a.O,"current");Xj(a)}
m.navigate=function(a,b,c){if(a==this.O)c&&mc(B("back-title",this.oc),c);else{var d=y(this.O,"screen");b?(x(this.O,"on"),x(this.O,"current"),v(a,"current"),this.O=a):(z(this.O,"on",!d),b=[this.O,qc(B("back-title",this.oc))],bb(this.Jd,0,0,b),x(this.O,"current"),this.O=a,v(this.O,"current"));z(this.oc,"back",y(this.O,"slide"));c&&mc(B("back-title",this.oc),c);this.O!=this.If&&(Z.a().wg=k)}};m.Mm=function(a,b,c,d){(new vj(a,b,c,d)).g(this.wi);Z.a().c("navigate",this.wi,l,a.name)};
m.Qm=function(a,b,c,d,e,g,h){(new Ej(b,c,d,e,g,h)).g(this.xj);Z.a().c("navigate",this.xj,l,a,d,e)};m.Om=function(){this.Dg=new Oj(i,j);this.Dg.g(this.Mi);Z.a().c("navigate",this.Mi,l,"Friends")};m.jk=function(a,b,c,d){if(this.ea&&a.id==this.ea.q.id){x(this.oc,"back");for(a=this.Jd[0][0];a&&y(a,"slide");)a=this.Jd.shift();Wj(this,this.K,"info")}else{var e=A("media-info");(new xj(a,b,c,d)).g(e);Z.a().c("navigate",e,l,a.name)}DESKTOP&&N.a().c(ld,j)};
m.Rm=function(a){if(!this.qh||!(this.qh.q.id==a.id&&this.O==this.If))Z.a().wg=a.id,this.qh=new Uj(a),this.qh.g(this.If),Z.a().c("navigate",this.If,l,a.name),DESKTOP&&N.a().c(ld,j)};function Xj(a){var b=Math.round(Q(a.tb[a.K]).width/2+Sd(a.tb[a.K]).x);a.Xd.style.transform="translate3d("+b+"px, 0,0)";a.Xd.style.msTransform="translate3d("+b+"px, 0,0)";a.Xd.style.WebkitTransform="translate3d("+b+"px, 0,0)";a.Xd.style.MozTransform="translate3d("+b+"px, 0,0)";a.Xd.style.vn="translate3d("+b+"px, 0,0)"};function Yj(a){return'<div class="queue-media"><div class="pic"><img src="'+H(a.media.ka.M)+'"></div><div class="title">'+H(a.media.name)+'</div><div class="play"></div><div class="remove"></div></div>'};function Zj(){R.call(this);this.Yb={};this.Zb=0;this.qa=new Af("Queue");sf(this.qa,16,j)}s(Zj,R);
Zj.prototype.A=function(a){Zj.d.A.call(this,a);this.qa.g(B("queue-toggle",this.b()));this.Nl=B("queue-list",this.b());this.Nc=B("medias",this.b());P(P(P(this.i(),this.qa.b(),"click",p(function(){z(this.b(),"show",$e(this.qa))},this)),this.Nl,"click",p(function(a){a.preventDefault();a.stopPropagation()},this)),window,"click",p(function(a){$e(this.qa)&&(uc(a.target,"queue")||L(p(function(){x(this.b(),"show");rf(this.qa,l)},this)))},this));Of().subscribe(ng,this.yb,this);Of();var b=p(function(a){t(a,
function(a){this.yb(a,j)},this)},this);W("/_queue",function(a){a=Y(a.target);this.vh=Ra(a,function(a){return bg(ag.a(),a)},this);b&&b(this.vh)})};
Zj.prototype.yb=function(a,b){if(b){e=G(Yj,{media:a});this.Yb[a.id]=e;this.Zb+=1;var c=B("play",e),d=B("remove",e);this.Nc.appendChild(e);P(P(P(this.i(),e,"click",p(function(b){b.preventDefault();b.stopPropagation();Z.a().c(Dg,a)},this)),c,"click",p(function(b){b.preventDefault();b.stopPropagation();x(this.b(),"show");rf(this.qa,l);b=dg(a);U.a().c(Jf,b);Of().c(ng,a,l)},this)),d,"click",p(function(b){b.preventDefault();b.stopPropagation();Of().c(ng,a,l)},this))}else if(Vb(this.Yb,a.id)){var e=this.Yb[a.id];
F(e);this.Zb-=1}z(this.Nc,"no-medias",!this.Zb);mc(this.qa.b().firstChild,0<this.Zb?this.Zb.toString():"")};function $j(a){return'<div class="main"><div id="stage" class="stage"><div id="ytplayer"></div><div id="stagecover"><div class="message"><span></span><div class="spinner" style="display:none"></div><div class="restart" style="display:none">TRY AGAIN</div></div><div class="fullscreen"></div><div class="expand"></div><div class="play" style="display: none"><div></div></div><div class="pause" style="display: none"><div></div></div></div><div id="vote" class="vote" style="display:none"><div class="like"></div><div class="dislike"></div></div><div id="logo"></div><div id="notify" class="notify"></div><div id="search" class="search"><div class="search-box"><div id="search-icon" class="search-icon"></div><input type="text" id="search-input" class="search-input" /><div id="clear-icon" class="clear-icon" style="display:none"></div></div><div class="search-results no-medias" id="search-results"><div class="label">SEARCH</div><div class="no-medias">NO RESULTS</div><div class="no-overflow"><div class="results"><div class="subtitle subtitle-channels">CHANNELS</div><div class="result-channels"></div><div class="subtitle subtitle-medias">VIDEOS</div><div class="result-medias"></div></div></div></div></div><div id="queue" class="queue"><div class="queue-toggle"><span></span></div><div class="queue-list"><div class="label">QUEUE</div><div class="medias-container"><div class="medias no-medias"><div class="no-medias">CLICK <span class="plus"></span> TO ADD VIDEOS</div></div></div></div></div></div><div id="guide" class="guide timeless position-hack'+
(a.Ri?" toggled":" collapsed")+(a.sidebar?" sidebar-toggled":"")+'"><div class="channel-scrollable"><div id="channel-names" class="channel-names"></div><div class="channel-h-scrollable"><div id="channels" class="channels"></div></div></div><div class="header" id="header"><div class="times"><div id="schedule-toggle" class="schedule-toggle"><div class="fader"><div class="timeless"></div><div class="switcher"><div class="switch"></div></div><div class="scheduled"></div></div></div><div id="now-left" class="left browse">&#9664;<span> NOW</span></div><div id="now-right" class="right browse"><span>NOW </span>&#x25B6;</div></div><div id="ticker" class="ticker"><div id="go-live" class="go-live">GO LIVE</div></div><div id="my-ticker" class="my-ticker" style="display:none"><div class="me" style="background:'+
H(a.k.color)+";border-color:"+H(a.k.color)+';"><img src="'+H(a.k.M)+'"/></div></div></div><div class="pan-handle" id="pan-handle"></div><div id="right-grad"></div></div><div id="controller" class="controller'+(a.Ri?" guide-toggled":" collapsed")+(a.sidebar?" sidebar-toggled":"")+'"><div class="background"></div><div class="left"><div id="guide-toggle" class="guide-toggle dark button">GUIDE</div><div class="controls"><div class="restart dark button"><div class="icon"></div></div><div class="play dark button"><div class="icon"></div></div><div class="volume dark button"><div class="icon"></div></div></div><div class="border"></div></div><div class="right"><div id="info-toggle" class="info-toggle dark button"><div class="icon"></div></div><div id="admin-toggle" class="admin-toggle dark button" style="display: none"><div class="icon"></div><div id="toggle-pending" class="pending" style="display:none"></div></div><div id="sidebar-toggle" class="sidebar-toggle dark button"><div class="icon"></div></div><div class="border"></div></div><div class="progress" style="display: none"><div class="elapsed animate"><div class="seek"></div></div><div class="title"></div><div class="current-time"></div><div class="duration"></div></div></div><div id="sidebar" class="'+
(a.sidebar?"toggled":"collapsed")+'"><div id="toolbar"><div class="back"><div class="back-button"><div>BACK</div></div><div class="back-title"></div></div><ul class="tabs"><li class="info tab selected"><div class="label">NOW</div></li><li class="stream tab"><div class="label">STREAM<div class="activities-count" style="display:none"></div></div></li><li class="profile tab"><div class="label">ME<div class="inbox-count" style="display:none"></div></div></li></ul><div class="radial-grad"></div><div class="arrow"></div></div><div id="sidebar-content"><div id="info" class="screen info"><div class="no-info">Pick a channel or play a story.</div></div><div id="stream" class="screen stream"><div class="loading loading-activity"><div class="loading-spinner"></div></div></div><div id="my-profile" class="screen profile"></div><div id="admin" class="screen admin"></div><div id="media-list" class="slide media-list"></div><div id="friendlist" class="slide friendlist"></div><div id="conversation" class="slide"></div>'+
(a.eg?'<div id="admin-col-list" class="slide admin"></div><div id="admin-list" class="slide admin-list"></div>':"")+'<div id="media-info" class="slide info"></div><div id="profile" class="slide profile"></div></div></div><div id="hovercard" class="watch-with" style="display: none"></div><div id="welcome" class="welcome" style="display:none"><div class="thanks"></div><div class="guide"></div><div class="friends"></div><div class="sidebar"></div><div class="close"></div></div></div>'};function kg(){}ma(kg);_gaq=[];kg.prototype.init=function(){_gaq.push(["_setAccount","UA-38058655-1"]);_gaq.push(["_trackPageview"]);var a=document.createElement("script");a.type="text/javascript";a.async=j;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};kg.prototype.login=function(){_gaq.push(["_trackEvent","Users","Login",X.a().l.id])};
function qg(a,b){_gaq.push(["_trackEvent","Media","Play",b.id]);_gaq.push(["_trackEvent","Users","Play",X.a().l.id])}kg.prototype.vc=function(a,b){a.H||(_gaq.push(["_trackEvent","Channel","OptOut",b.id]),_gaq.push(["_trackEvent","Channel","OptIn",a.id]))};
kg.prototype.sa=function(a,b,c){_gaq.push(["_trackEvent","Media","Comment",a.id]);_gaq.push(["_trackEvent","Users","Comment",X.a().l.id]);b&&_gaq.push(["_trackEvent","Facebook","Comment",X.a().l.id]);c&&_gaq.push(["_trackEvent","Twitter","Comment",X.a().l.id])};
function Dj(a,b,c,d){_gaq.push(["_trackEvent","Media","Share",b.id]);_gaq.push(["_trackEvent","Users","Share",X.a().l.id]);c&&_gaq.push(["_trackEvent","Facebook","Share",X.a().l.id]);d&&_gaq.push(["_trackEvent","Twitter","Share",X.a().l.id]);W("/_share",we(),"POST","facebook="+c+"&twitter="+d)}ha("_gaq",_gaq);function ak(){M.call(this);this.vj=l}s(ak,M);ma(ak);ak.prototype.init=function(a){this.vb=a;a=(new appengine.Channel(unescape(a))).open();a.onmessage=p(this.fm,this);a.onclose=p(this.Jj,this);J(window,"onbeforeunload",p(this.Jj,this));return this};
ak.prototype.fm=function(a){var b=fh(a.data);switch(b.type){case "viewer_change":var c=Ig(X.a(),b.user);c.$a!=b.online&&X.a().c(Hg,c,b.online);var d=b.time&&td(b.time+"Z");c.ef&&d&&c.ef.end(d);if(a=b.last_channel_id&&T.a().get(b.last_channel_id))a.c("remove-viewer",c),c.jb&&c.jb.c(Zf,c,a,j);var e=b.channel_id&&T.a().get(b.channel_id),a=b.media&&bg(ag.a(),b.media);e&&(d=d||new ud,d=new jg(b.session_id,c,e,d),c.ef=d,e.c(og,d),a=(d=e.j())?d.media:a);a&&a.c(Zf,c,e);break;case "new_comment":c=new qj(b.comment);
if(c.k.id!=X.a().l.id&&(d=b.tweet?new rj(b.tweet):k,a=bg(ag.a(),b.comment.media)))a.c(Xf,c),d&&a.c("add-tweet",d);break;case "new_message":a=new Gj(b.message);X.a().c("new-message",a);Z.a().wg!=a.da.id&&Uf.a().c("flash","messaged you",a.text,a.da,a.da.M,"#user:"+a.da.id);break;case "new_activity":X.a().c("new-activity",b.activity);b.activity.user.id!=X.a().l.id&&Z.a().c("new-activites",1);break;case "update_programs":a=b.programs;e=T.a().get(b.channel_id);t(a,function(a){e.c(pg,a)},this);break;case "new_programs":b.channel&&
(e=T.a().Te(b.channel));t(b.programs,p(function(a){a=new cg(a);if(e=e||T.a().get(b.channel_id))if(e.c(mg,a),!T.a().p||!T.a().p.j())T.a().c(Ff,e),T.a().c(If,a)},this));break;case "twitter_auth":X.a().l.c(gg)}};ak.prototype.Jj=function(){if(!this.vj){var a=T.a().p.H&&T.a().p.jb&&Math.floor(U.a().getCurrentTime());DESKTOP&&W("/_settings",we(),"POST","show_guide="+N.a().Ic+"&show_sidebar="+N.a().Vc+(a?"&current_seek="+a:""));this.vj=j}};function bk(){M.call(this);this.mo=[]}s(bk,M);ma(bk);bk.prototype.Ug=function(a){Pb(a,p(function(a,c){t(a,p(function(a){a=new cg(a);T.a().cd[c]&&T.a().cd[c].Ob(a)},this))},this))};var ck=l;function dk(a){a.match(/[\d]+/g).length=3}
if(navigator.plugins&&navigator.plugins.length){var ek=navigator.plugins["Shockwave Flash"];ek&&(ck=j,ek.description&&dk(ek.description));navigator.plugins["Shockwave Flash 2.0"]&&(ck=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var fk=navigator.mimeTypes["application/x-shockwave-flash"];(ck=fk&&fk.enabledPlugin)&&dk(fk.enabledPlugin.description)}else try{var gk=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),ck=j;dk(gk.GetVariable("$version"))}catch(hk){try{gk=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
ck=j}catch(ik){try{gk=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),ck=j,dk(gk.GetVariable("$version"))}catch(jk){}}};function kk(a,b,c,d,e,g,h,n){this.Oe=a;this.Mk=b;this.hd=c;this.qc=d;this.ho=e;this.ao=g;this.ra=h;this.Ja=n;this.an=[];this.kg=[];this.Qn=[];this.qo=[]}kk.prototype.Pi=da("Mk");kk.prototype.gk=function(a){this.qc=a;return this};kk.prototype.Eh=function(a){this.v=a;return this};function lk(a){this.Oe=a;this.Vm=k}function mk(a){this.Oe=a;this.Vm=this.vo=k};function oi(a,b,c){kk.call(this,"http://www.youtube.com/watch?v="+encodeURIComponent(String(a)),b,c,"application/x-shockwave-flash");this.Ck=a;this.an=[new lk("http://i.ytimg.com/vi/"+a+"/default.jpg")];this.Eh(new mk("http://www.youtube.com/v/"+encodeURIComponent(String(a))+"&hl=en&fs=1&autoplay=1"))}s(oi,kk);
var ni=RegExp("http://(?:[a-zA-Z]{2,3}\\.)?(?:youtube\\.com/watch)(?:\\?(?:[\\w=-]+&(?:amp;)?)*v=([\\w-]+)(?:&(?:amp;)?[\\w=-]+)*)?(?:#[!]?(?:(?:(?:[\\w=-]+&(?:amp;)?)*(?:v=([\\w-]+))(?:&(?:amp;)?[\\w=-]+)*)|(?:[\\w=&-]+)))?[^\\w-]?","i");function nk(){R.call(this);this.Qk=new zh;this.fl=new Bf;this.Um=new Vj;this.v=new Mh;this.Xl=new Hh;this.vh=new Zj;this.Im=new Oi}var ok,pk,qk,rk,sk,tk,uk,vk;s(nk,R);nk.prototype.A=function(a){nk.d.A.call(this,a);var b=G($j,{k:X.a().l,eg:Cf(),Ri:X.a().l.Pm&&!T.a().p.H,sidebar:X.a().l.Sm});gc(a,b,0)};
nk.prototype.w=function(){nk.d.w.call(this);this.Qk.g(A("controller"));this.fl.g(A("guide"));this.Um.g(A("sidebar"));this.v.g(A("stage"));this.Xl.g(A("notify"));this.vh.g(A("queue"));this.Im.g(A("search"));this.lo=new Gg;if(!X.a().l.mn){X.a();var a=A("welcome");O(a,j);P(this.i(),a,"click",function(){O(a,l);W("/_welcomed",we(),"POST")})}P(this.i(),document.body,"touchmove",function(a){tc(a.target,"div","ios-scroll")||a.preventDefault()});P(this.i(),window,"click",function(a){var c=tc(a.target,"a");
if(c=c?c.href:k)if((c=c.match("#(.*):(.*)"))&&c.length)switch(a.preventDefault(),a.stopPropagation(),c[1]){case "user":a=X.a().get(c[2]);Z.a().c(Eg,a);break;case "channel":a=T.a().get(c[2]);T.a().c(Ff,a);break;case "info":a=ag.a().get(c[2]);Z.a().c(Dg,a);break;case "friendlist":Z.a().c("friend-list")}});window.onload=function(){window.onbeforeunload=ea("Leaving so soon?")};W("/_presence",p(function(a){a=Y(a.target);this.Mn=ak.a().init(a.token);var c=T.a();t(a.viewer_sessions,p(function(a){var b=Ig(X.a(),
a.user),c=X.a();Ta(c.gh,function(a){return a.id==b.id})||c.gh.push(b);var c=this.cd[a.channel_id],h=td(a.tune_in+"Z"),n=a.tune_out?td(a.tune_out+"Z"):k,a=new jg(a.id,b,c,h,n);b.ef=a;c&&(c.Zc.push(a),c.c(og,a),(a=c.j())&&a.media.c(Zf,b,c))},c))},this));N.a().subscribe("toggle-info",function(){var a=A("login"),c=A("static-content"),d=A("pages");x(a,"hide");v(a,"show");c.style.height=Q(d).height+80+"px";wk(j)},this)};
function wk(a){var b=A("login"),c=A("static-content"),d=A("pages"),e=y(b,"app");z(b,"expanded",a);A("uvTab")&&z(A("uvTab"),"show",e&&a);a?(e?c.style.bottom=-Q(d).height-80+"px":c.style.top=Math.max(10,C().height-280)+"px",a=e?Math.min(C().height-100,c.scrollHeight+80):Math.min(C().height-435,c.scrollHeight+190),!e||e&&!b.scrollTop?(e=new Ge(b,[b.scrollLeft,b.scrollTop],[b.scrollLeft,a],300),v(b,"scrolling"),e.play(),J(e,"end",function(){x(b,"scrolling")})):b.scrollTop=a):(c.style.top="",c.style.height=
"",e?L(function(){x(b,"show")},200):c.className="")}
function xk(){var a=A("fb-login"),b=A("static-content"),c=A("login");v(a,"disabled");v(a,"spin");W("/_session",function(a){if(200==xh(a.target)){var e=Y(a.target);if(e.error)mc(A("error"),e.error),yk("error","Yikes...");else if(e.message)mc(A("message"),e.message);else{x(document.body,"login");L(function(){L(function(){v(c,"hide");L(function(){O(A("homepage"),l);v(c,"app");v(b,"faq")},600)},600)});var a=e.channels,g=e.programs,e=e.current_user;if(!Sb(e)){var h=X.a();h.l=Ig(h,e)}T.a().Ug(a);bk.a().Ug(g);
a=T.a();a.p=a.cd[e.current_channel]||a.wc[0];a.p=Pf(a)||a.p;a.p&&a.Yh(a.p.j());hd.a().init();(new nk).g(document.body);kg.a().login()}}else 500==xh(a.target)?yk("error","Opps, check back later"):yk("wait"),L(function(){v(sk,"strike");ok.play()},500),L(function(){x(sk,"strike");v(tk,"strike");pk.play()},800),L(function(){x(tk,"strike");v(uk,"strike");qk.play()},1100),L(function(){x(uk,"strike");v(vk,"strike");rk.play()},1400),L(function(){x(vk,"strike");v(uk,"strike");qk.load();qk.play()},1700),L(function(){x(uk,
"strike");v(tk,"strike");pk.load();pk.play()},2E3),L(function(){x(tk,"strike");v(sk,"strike");ok.load();ok.play()},2300),L(function(){x(sk,"strike")},2600)},"POST")}function yk(a,b){var c=A("fb-login");if(a){var d=B("power",c);v(d,a)}b&&(d=B("waitlist",c),mc(d,b));x(c,"spin");v(c,"disabled");O(c,j);v(c,"show");v(c,"waitlist")}
function Bh(a){var b=parseInt(a,10),a=Math.floor(b/3600),c=Math.floor((b-3600*a)/60),b=b-3600*a-60*c;10>c&&(c=(a?"0":"")+c);10>b&&(b="0"+b);return(a?a+":":"")+(c?c+":":"")+b}
ha("brkn.Main.staticInit",function(){var a=A("fb-login"),b=A("homepage"),c=A("login"),d=A("static-content"),e=A("pages"),g=A("footer"),h=l;v(b,"hide");var n=E("img");n.src="/static/img/homepage.jpg";J(n,"load",function(){x(b,"hide");v(b,"show")});L(function(){O(a,j);L(Ba(v,a,"show"),400)},100);J(c,"click",function(a){"static-scrollable"==a.target.id&&(a=y(c,"app"),h=l,a?wk(h):(a=new Ge(c,[c.scrollLeft,c.scrollTop],[c.scrollLeft,0],300),a.play(),J(a,"end",Ba(wk,h))))});J(c,"scroll",function(){!y(c,
"scrolling")&&1>c.scrollTop&&(h=l,wk(h))});J(g,"click",function(a){var a=uc(a.target,"section"),b=y(c,"app");a&&(h=j,d.className=a.id,d.style.height=Q(e).height+(b?80:220)+"px",wk(h))});J(window,"resize",Ba(wk,h));kg.a().init();IPHONE&&(v(document.body,"iphone"),v(document.body,"login"),window.onload=function(){L(function(){window.scrollTo(0,1)},1E3)});sk=A("chord-1");tk=A("chord-2");uk=A("chord-3");vk=A("chord-4");ok=A("mp3-1");pk=A("mp3-2");qk=A("mp3-3");rk=A("mp3-4");ok.volume=0.5;pk.volume=0.5;
qk.volume=0.5;rk.volume=0.5;ok.load();pk.load();qk.load();rk.load();J(sk,"click",function(){ok.load();ok.play()});J(tk,"click",function(){pk.load();pk.play()});J(uk,"click",function(){qk.load();qk.play()});J(vk,"click",function(){rk.load();rk.play()})});ha("brkn.Main.auth",function(){FB.getLoginStatus(function(a){if("connected"===a.status)xk();else{var b=A("fb-login");J(b,"click",function(){v(b,"disabled");FB.login(function(a){a.authResponse?xk():x(b,"disabled")},{scope:"email"})})}})});